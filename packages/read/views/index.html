<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/read.svg" rel="shortcut icon" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="author" content="81380@163.com" />
    <meta name="robots" content="all" />
    <meta name="renderer" content="webkit" />
    <meta name="google" content="notranslate" />
    <title>weread</title>
    <meta property="og:title" content="weread" />
    <meta
      property="og:description"
      content="Based on web component library, common function library utils, personal article record and so on"
    />
    <meta property="og:url" content="https://chaxus.github.io/weread/" />
    <meta property="og:image" content="https://chaxus.github.io/weread/home.svg" />
    <meta property="og:type" content="article" />
    <meta property="article:home" content="https://chaxus.github.io/weread/" />
    <meta httpEquiv="Permissions-Policy" content="interest-cohort=()" />
  </head>

  <body>
    <div id="app" class="w-full h-full"><!--ssr-outlet--></div>
  </body>
  <script type="module" src="./client.tsx"></script>
  <script>
    // 注册 Service worker
    const registerServiceWorker = async () => {
      if ('serviceWorker' in window.navigator) {
        try {
          const registration = await navigator.serviceWorker.register('/sw.js', {
            scope: '/',
          });
          if (registration.installing) {
            console.log('installing Service worker');
          } else if (registration.waiting) {
            console.log('Service worker installed');
          } else if (registration.active) {
            console.log('Service worker active');
          }
        } catch (error) {
          console.error('service worker register error:', error);
        }
      }
    };

    registerServiceWorker();
  </script>
</html>

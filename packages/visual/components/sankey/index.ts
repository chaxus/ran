import { Application } from '../../src/application';
interface ISankeyOptions {
  data: ISankeyData[];
}

interface ISankeyData {
  source: string;
  target: string;
  value: number;
}
// 有父子节点的数据
const numchildrenData = {
  title: '2024 Annual',
  nodes: [
    {
      key: 'bus_158473',
      name: 'Taobao and Tmall Group',
      value: '434893000000',
      yoy: '5.24847170660639',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_120129',
      name: 'All Others',
      value: '192331000000',
      yoy: '-2.42700961367729',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_158042',
      name: 'Cloud Intelligence Group',
      value: '106374000000',
      yoy: '2.77979071857155',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_158474',
      name: 'Alibaba International Digital Commerce',
      value: '102598000000',
      yoy: '45.51669361472782',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_158475',
      name: 'Cainiao Smart Logistics Network Limited',
      value: '99020000000',
      yoy: '27.74796160594489',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_158472',
      name: 'Local Services Group',
      value: '59802000000',
      yoy: '19.01132360843002',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_158041',
      name: 'Digital Media and Entertainment Group',
      value: '21145000000',
      yoy: '14.64432877900672',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_119217',
      name: 'Unallocated',
      value: '1297000000',
      yoy: '49.76905311778291',
      level: 1,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'total_revf',
      name: '',
      value: '1017460000000',
      yoy: '8.34374176199252',
      level: 2,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [
        {
          key: 'total_rev',
          name: 'Total Revenue',
          value: '941168000000',
          yoy: '8.34374176199252',
          level: 2,
          cate: 'revenue',
          type: 0,
          textPosition: 'top',
          fontSize: 14,
          children: [],
          radio: '',
        },
        {
          key: 'bus_s_119345',
          name: '',
          value: '76292000000',
          yoy: '',
          level: 2,
          cate: 'expenses',
          type: 0,
          textPosition: '',
          fontSize: 0,
          children: [],
          radio: '',
        },
      ],
      radio: '',
    },
    {
      key: 'gp',
      name: 'Gross Profit',
      value: '354845000000',
      yoy: '',
      level: 3,
      cate: 'income',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'cost_rev',
      name: 'Cost Of Revenues',
      value: '586323000000',
      yoy: '',
      level: 3,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'oper_inc',
      name: 'Operating Income',
      value: '138718000000',
      yoy: '',
      level: 4,
      cate: 'income',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'oper_fee',
      name: 'Operating Exp.',
      value: '216127000000',
      yoy: '',
      level: 4,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'ni',
      name: 'Net Income',
      value: '80009000000',
      yoy: '',
      level: 5,
      cate: 'income',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'inc_tax',
      name: 'Income Tax Exp.',
      value: '22529000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'sga',
      name: 'SG& A Exp.',
      value: '157126000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'rd_exp',
      name: 'R&D Exp.',
      value: '52256000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'bus_119345',
      name: 'Inter-Segment Elimination',
      value: '76292000000',
      yoy: '',
      level: 3,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'other_f41',
      name: 'Other',
      value: '36180000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'other_f42',
      name: 'Other',
      value: '6745000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
  ],
  links: [
    {
      source: 'bus_158473',
      target: 'total_revf',
    },
    {
      source: 'bus_120129',
      target: 'total_revf',
    },
    {
      source: 'bus_158042',
      target: 'total_revf',
    },
    {
      source: 'bus_158474',
      target: 'total_revf',
    },
    {
      source: 'bus_158475',
      target: 'total_revf',
    },
    {
      source: 'bus_158472',
      target: 'total_revf',
    },
    {
      source: 'bus_158041',
      target: 'total_revf',
    },
    {
      source: 'bus_119217',
      target: 'total_revf',
    },
    {
      source: 'total_rev',
      target: 'gp',
    },
    {
      source: 'total_rev',
      target: 'cost_rev',
    },
    {
      source: 'gp',
      target: 'oper_inc',
    },
    {
      source: 'gp',
      target: 'oper_fee',
    },
    {
      source: 'oper_inc',
      target: 'ni',
    },
    {
      source: 'oper_inc',
      target: 'inc_tax',
    },
    {
      source: 'oper_fee',
      target: 'sga',
    },
    {
      source: 'oper_fee',
      target: 'rd_exp',
    },
    {
      source: 'bus_s_119345',
      target: 'bus_119345',
    },
    {
      source: 'oper_inc',
      target: 'other_f41',
    },
    {
      source: 'oper_fee',
      target: 'other_f42',
    },
  ],
  order: [
    'bus_158473',
    'bus_120129',
    'bus_158042',
    'bus_158474',
    'bus_158475',
    'bus_158472',
    'bus_158041',
    'bus_119217',
    'total_revf',
    'total_rev',
    'bus_s_119345',
    'gp',
    'cost_rev',
    'bus_119345',
    'oper_inc',
    'oper_fee',
    'ni',
    'inc_tax',
    'other_f41',
    'sga',
    'rd_exp',
    'other_f42',
  ],
  basis: '941168000000',
};

// 无左值节点
const nochildrenData = {
  title: '2018 Annual',
  nodes: [
    {
      key: 'total_rev',
      name: 'Total Revenue',
      value: '250266000000',
      yoy: '',
      level: 2,
      cate: 'revenue',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'gp',
      name: 'Gross Profit',
      value: '144023000000',
      yoy: '',
      level: 3,
      cate: 'income',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'cost_rev',
      name: 'Cost Of Revenues',
      value: '106243000000',
      yoy: '',
      level: 3,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'oper_inc',
      name: 'Operating Income',
      value: '70609000000',
      yoy: '',
      level: 4,
      cate: 'income',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'oper_fee',
      name: 'Operating Exp.',
      value: '73414000000',
      yoy: '',
      level: 4,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'ni',
      name: 'Net Income',
      value: '64093000000',
      yoy: '',
      level: 5,
      cate: 'income',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'inc_tax',
      name: 'Income Tax Exp.',
      value: '18199000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'sga',
      name: 'SG& A Exp.',
      value: '43540000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'rd_exp',
      name: 'R&D Exp.',
      value: '22754000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'other_f41',
      name: 'Other',
      value: '11683000000',
      yoy: '',
      level: 4,
      cate: 'income',
      type: 1,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
    {
      key: 'other_f42',
      name: 'Other',
      value: '7120000000',
      yoy: '',
      level: 5,
      cate: 'expenses',
      type: 0,
      textPosition: '',
      fontSize: 0,
      children: [],
      radio: '',
    },
  ],
  links: [
    {
      source: 'total_rev',
      target: 'gp',
    },
    {
      source: 'total_rev',
      target: 'cost_rev',
    },
    {
      source: 'gp',
      target: 'oper_inc',
    },
    {
      source: 'gp',
      target: 'oper_fee',
    },
    {
      source: 'other_f41',
      target: 'ni',
    },
    {
      source: 'oper_inc',
      target: 'ni',
    },
    {
      source: 'oper_inc',
      target: 'inc_tax',
    },
    {
      source: 'oper_fee',
      target: 'sga',
    },
    {
      source: 'oper_fee',
      target: 'rd_exp',
    },
    {
      source: 'oper_fee',
      target: 'other_f42',
    },
  ],
  order: [
    'total_rev',
    'gp',
    'cost_rev',
    'other_f41',
    'oper_inc',
    'oper_fee',
    'ni',
    'inc_tax',
    'sga',
    'rd_exp',
    'other_f42',
  ],
  basis: '250266000000',
};
// 桑基图
export class Sankey {
  vessel: Application;
  options: ISankeyOptions;
  constructor(options: ISankeyOptions) {
    this.options = options;
    this.vessel = new Application();
  }
  // 根据属性计算容器宽高
  computeSize = (): void => {
    const { data } = this.options;
  };
}

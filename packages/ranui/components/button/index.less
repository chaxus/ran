@clickX: var(--ran-x, 0);
@clickY: var(--ran-y, 0);

:host {
  box-sizing: var(--ran-btn-box-sizing, border-box);
  height: var(--ran-btn-height, 100%);
  width: var(--ran-btn-width, 100%);
  position: var(--ran-btn-position, relative);
  display: var(--ran-btn-display, block);
  background-image: var(--ran-btn-background-image, none);
  box-shadow: var(--ran-btn-box-shadow, 0 2px #00000004);
  cursor: var(--ran-btn-cursor, pointer);
  user-select: var(--ran-btn-user-select, none);
  touch-action: var(--ran-btn-touch-action, manipulation);
  overflow: var(--ran-btn-overflow, hidden);
  pointer-events: var(--ran-btn-pointer-events, auto);

  .ran-btn {
    box-sizing: var(--ran-btn-contain-box-sizing, border-box);
    height: var(--ran-btn-contain-height, 100%);
    width: var(--ran-btn-contain-width, 100%);
    position: var(--ran-btn-contain-position, relative);
    display: var(--ran-btn-contain-display, block);
    background-image: var(--ran-btn-contain-background-image, none);
    cursor: var(--ran-btn-contain-cursor, pointer);
    transition: var(--ran-btn-contain-transition, all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1));
    user-select: var(--ran-btn-contain-user-select, none);
    touch-action: var(--ran-btn-contain-touch-action, manipulation);
    background: var(--ran-btn-contain-background, #fff);
  }

  &,
  &(:active),
  &(:focus) {
    outline: 0;
    -webkit-tap-highlight-color: transparent;
    .ran-btn {
      outline: var(--ran-btn-contain-outline, 0);
    }
  }

  &([type="primary"]) {
    .ran-btn-content {
      background-color: var(--ran-btn-content-background-color, #1890ff);
      border-color: var(--ran-btn-content-border-color, #1890ff);
      color: var(--ran-btn-content-color, #fff);
    }
  }

  &([type="primary"]:not([disabled])) {
    .ran-btn::after {
      background-image: var(--ran-btn-after-background-image, radial-gradient(circle, #fff 10%, transparent 10.01%));
    }
  }

  /* 媒体查询，针对屏幕宽度大于或等于 1024px 的设备（这里假设这是电脑屏幕的最小宽度） */
  @media (min-width: 1024px) {
    &(:not([disabled]):hover) {
      .ran-btn-content {
        border-color: var(--ran-btn-content-hover-border-color, #1890ff);
        color: var(--ran-btn-content-hover-color, #1890ff);
      }
    }

    &([type="primary"]:not([disabled]):hover) {
      .ran-btn-content {
        background-color: var(--ran-btn-content-hover-background-color, #40a9ff);
        color: var(--ran-btn-content-hover-color, #fff);
      }
    }

    &([type="warning"]:not([disabled]):hover) {
      .ran-btn-content {
        border-color: var(--ran-btn-content-warning-border-color, #ff4d4f);
        background-color: var(--ran-btn-content-warning-background-color, #ff4d4f);
        color: var(--ran-btn-content-warning-color, #fff);
      }
    }
  }

  &([type="warning"]) {
    .ran-btn-content {
      border-color: var(--ran-btn-content-warning-border-color, #ff4d4f);
      background-color: var(--ran-btn-content-warning-background-color, #ff4d4f);
      color: var(--ran-btn-content-warning-color, #fff);
    }
  }

  &([type="warning"]:not([disabled])) {
    .ran-btn::after {
      background-image: var(--ran-btn-after-background-image, radial-gradient(circle, #fff 10%, transparent 10.01%));
    }
  }

  &([type="text"]) {
    .ran-btn-content {
      border: var(--ran-btn-content-text-border, none);
    }
  }

  &([disabled]) {
    cursor: var(--ran-btn-disabled-cursor, not-allowed);
    pointer-events: var(--ran-btn-disabled-pointer-events, all);
    opacity: var(--ran-btn-disabled-opacity, 0.6);

    .ran-btn {
      cursor: var(--ran-btn-disabled-container-cursor, not-allowed);
      pointer-events: var(--ran-btn-disabled-container-pointer-events, all);
      opacity: var(--ran-btn-disabled-container-opacity, 0.6);
    }
  }

  &(:not([disabled]):active) {
    .ran-btn::after {
      transform: var(--ran-btn-after-transform, translate(-50%, -50%) scale(0));
      opacity: var(--ran-btn-after-opacity, 0.3);
      transition: var(--ran-btn-after-transition, 0s);
    }
  }

  @media (min-width: 1024px) {
    &(:not([disabled], [effect])) {
      .ran-btn::after {
        content: "";
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;
        left: @clickX;
        top: @clickY;
        pointer-events: none;
        background-image: radial-gradient(circle, #1890ff 10%, transparent 10.01%);
        background-repeat: no-repeat;
        background-position: 50%;
        transform: translate(-50%, -50%) scale(10);
        opacity: 0;
        transition: transform 0.3s, opacity 0.8s;
      }
    }
  }

  .slot {
    display: var(--ran-btn-slot-display, block);
  }
}

.ran-btn-content {
  display: var(--ran-btn-content-display, flex);
  justify-content: var(--ran-btn-content-display, space-between);
  align-items: var(--ran-btn-content-align-items, center);
  padding: var(--ran-btn-content-padding, 4px 15px);
  border: var(--ran-btn-content-border, 1px solid transparent);
  border-radius: var(--ran-btn-content-border-radius, 2px);
  border-color: var(--ran-btn-content-border-color, #d9d9d9);
  color: var(--ran-btn-content-color, #000000d9);
  line-height: var(--ran-btn-content-line-height, 22px);
  font-size: var(--ran-btn-content-font-size, 14px);
  font-weight: var(--ran-btn-content-font-weight, 400);
  white-space: var(--ran-btn-content-white-space, nowrap);
  text-align: var(--ran-btn-content-text-align, center);
  box-sizing: var(--ran-btn-content-box-sizing, border-box);
  height: var(--ran-btn-content-height, 100%);
  width: var(--ran-btn-content-width, 100%);
  .icon {
    margin-right: var(--ran-btn-icon-margin-right, 2px);
  }
}

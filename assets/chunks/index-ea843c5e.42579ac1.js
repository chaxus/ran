import{g as gc}from"./commonjs-dynamic-modules-a2312732.70f41391.js";import{r as dc}from"./jszip.min-6de1243a.bba3e461.js";import{C as da}from"./colz-746223ab.12984b03.js";window.E0DD32CBDCB63F=function(){var o={version:"3.5.9"},h=[].slice,k=function(t){return h.call(t)},y=this.document;function z(t){return t&&(t.ownerDocument||t.document||t).documentElement}function B(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(y)try{k(y.documentElement.childNodes)[0].nodeType}catch{k=function(e){for(var n=e.length,r=new Array(n);n--;)r[n]=e[n];return r}}if(Date.now||(Date.now=function(){return+new Date}),y)try{y.createElement("DIV").style.setProperty("opacity",0,"")}catch{var L=this.Element.prototype,D=L.setAttribute,R=L.setAttributeNS,C=this.CSSStyleDeclaration.prototype,I=C.setProperty;L.setAttribute=function(e,n){D.call(this,e,n+"")},L.setAttributeNS=function(e,n,r){R.call(this,e,n,r+"")},C.setProperty=function(e,n,r){I.call(this,e,n+"",r)}}o.ascending=M;function M(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=t[n])!=null&&i>a&&(i=a)}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&i>a&&(i=a)}return i},o.max=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=t[n])!=null&&a>i&&(i=a)}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&a>i&&(i=a)}return i},o.extent=function(t,e){var n=-1,r=t.length,i,a,l;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=l=a;break}for(;++n<r;)(a=t[n])!=null&&(i>a&&(i=a),l<a&&(l=a))}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=l=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&(i>a&&(i=a),l<a&&(l=a))}return[i,l]};function N(t){return t===null?NaN:+t}function b(t){return!isNaN(t)}o.sum=function(t,e){var n=0,r=t.length,i,a=-1;if(arguments.length===1)for(;++a<r;)b(i=+t[a])&&(n+=i);else for(;++a<r;)b(i=+e.call(t,t[a],a))&&(n+=i);return n},o.mean=function(t,e){var n=0,r=t.length,i,a=-1,l=r;if(arguments.length===1)for(;++a<r;)b(i=N(t[a]))?n+=i:--l;else for(;++a<r;)b(i=N(e.call(t,t[a],a)))?n+=i:--l;if(l)return n/l},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},o.median=function(t,e){var n=[],r=t.length,i,a=-1;if(arguments.length===1)for(;++a<r;)b(i=N(t[a]))&&n.push(i);else for(;++a<r;)b(i=N(e.call(t,t[a],a)))&&n.push(i);if(n.length)return o.quantile(n.sort(M),.5)},o.variance=function(t,e){var n=t.length,r=0,i,a,l=0,s=-1,u=0;if(arguments.length===1)for(;++s<n;)b(i=N(t[s]))&&(a=i-r,r+=a/++u,l+=a*(i-r));else for(;++s<n;)b(i=N(e.call(t,t[s],s)))&&(a=i-r,r+=a/++u,l+=a*(i-r));if(u>1)return l/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t&&Math.sqrt(t)};function V(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var q=V(M);o.bisectLeft=q.left,o.bisect=o.bisectRight=q.right,o.bisector=function(t){return V(t.length===1?function(e,n){return M(t(e),n)}:t)},o.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,r<2&&(e=0));for(var r=n-e,i,a;r;)a=Math.random()*r--|0,i=t[r+e],t[r+e]=t[a+e],t[a+e]=i;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=o.min(arguments,et),n=new Array(e);++t<e;)for(var r=-1,i,a=n[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return n};function et(t){return t.length}o.transpose=function(t){return o.zip.apply(o,t)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e=t.length,n,r=-1,i=0,a,l;++r<e;)i+=t[r].length;for(a=new Array(i);--e>=0;)for(l=t[e],n=l.length;--n>=0;)a[--i]=l[n];return a};var rt=Math.abs;o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r=[],i=vt(rt(n)),a=-1,l;if(t*=i,e*=i,n*=i,n<0)for(;(l=t+n*++a)>e;)r.push(l/i);else for(;(l=t+n*++a)<e;)r.push(l/i);return r};function vt(t){for(var e=1;t*e%1;)e*=10;return e}function Mt(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}o.map=function(t,e){var n=new gt;if(t instanceof gt)t.forEach(function(s,u){n.set(s,u)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(arguments.length===1)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e.call(t,a=t[r],r),a)}else for(var l in t)n.set(l,t[l]);return n};function gt(){this._=Object.create(null)}var dt="__proto__",Pt="\0";Mt(gt,{has:Vt,get:function(t){return this._[qt(t)]},set:function(t,e){return this._[qt(t)]=e},remove:ce,keys:$t,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:Nt(e),value:this._[e]});return t},size:Et,empty:ee,forEach:function(t){for(var e in this._)t.call(this,Nt(e),this._[e])}});function qt(t){return(t+="")===dt||t[0]===Pt?Pt+t:t}function Nt(t){return(t+="")[0]===Pt?t.slice(1):t}function Vt(t){return qt(t)in this._}function ce(t){return(t=qt(t))in this._&&delete this._[t]}function $t(){var t=[];for(var e in this._)t.push(Nt(e));return t}function Et(){var t=0;for(var e in this._)++t;return t}function ee(){for(var t in this._)return!1;return!0}o.nest=function(){var t={},e=[],n=[],r,i;function a(s,u,c){if(c>=e.length)return i?i.call(t,u):r?u.sort(r):u;for(var f=-1,g=u.length,d=e[c++],x,F,m,_=new gt,v;++f<g;)(v=_.get(x=d(F=u[f])))?v.push(F):_.set(x,[F]);return s?(F=s(),m=function(A,w){F.set(A,a(s,w,c))}):(F={},m=function(A,w){F[A]=a(s,w,c)}),_.forEach(m),F}function l(s,u){if(u>=e.length)return s;var c=[],f=n[u++];return s.forEach(function(g,d){c.push({key:g,values:l(d,u)})}),f?c.sort(function(g,d){return f(g.key,d.key)}):c}return t.map=function(s,u){return a(u,s,0)},t.entries=function(s){return l(a(o.map,s,0),0)},t.key=function(s){return e.push(s),t},t.sortKeys=function(s){return n[e.length-1]=s,t},t.sortValues=function(s){return r=s,t},t.rollup=function(s){return i=s,t},t},o.set=function(t){var e=new le;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e};function le(){this._=Object.create(null)}Mt(le,{has:Vt,add:function(t){return this._[qt(t+="")]=!0,t},remove:ce,values:$t,size:Et,empty:ee,forEach:function(t){for(var e in this._)t.call(this,Nt(e))}}),o.behavior={};function ae(t){return t}o.rebind=function(t,e){for(var n=1,r=arguments.length,i;++n<r;)t[i=arguments[n]]=en(t,e,e[i]);return t};function en(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function ge(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ve.length;n<r;++n){var i=ve[n]+e;if(i in t)return i}}var ve=["webkit","ms","moz","Moz","o","O"];function ue(){}o.dispatch=function(){for(var t=new St,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=oe(t);return t};function St(){}St.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(arguments.length===2){if(e==null)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}};function oe(t){var e=[],n=new gt;function r(){for(var i=e,a=-1,l=i.length,s;++a<l;)(s=i[a].on)&&s.apply(this,arguments);return t}return r.on=function(i,a){var l=n.get(i),s;return arguments.length<2?l&&l.on:(l&&(l.on=null,e=e.slice(0,s=e.indexOf(l)).concat(e.slice(s+1)),n.remove(i)),a&&e.push(n.set(i,{on:a})),t)},r}o.event=null;function Qt(){o.event.preventDefault()}function me(){for(var t=o.event,e;e=t.sourceEvent;)t=e;return t}function Ce(t){for(var e=new St,n=0,r=arguments.length;++n<r;)e[arguments[n]]=oe(e);return e.of=function(i,a){return function(l){try{var s=l.sourceEvent=o.event;l.target=t,o.event=l,e[l.type].apply(i,a)}finally{o.event=s}}},e}o.requote=function(t){return t.replace(be,"\\$&")};var be=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_e={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function wt(t){return _e(t,Ot),t}var Ut=function(t,e){return e.querySelector(t)},re=function(t,e){return e.querySelectorAll(t)},ne=function(t,e){var n=t.matches||t[ge(t,"matchesSelector")];return ne=function(r,i){return n.call(r,i)},ne(t,e)};typeof Sizzle=="function"&&(Ut=function(t,e){return Sizzle(t,e)[0]||null},re=Sizzle,ne=Sizzle.matchesSelector),o.selection=function(){return o.select(y.documentElement)};var Ot=o.selection.prototype=[];Ot.select=function(t){var e=[],n,r,i,a;t=fe(t);for(var l=-1,s=this.length;++l<s;){e.push(n=[]),n.parentNode=(i=this[l]).parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(n.push(r=t.call(a,a.__data__,u,l)),r&&"__data__"in a&&(r.__data__=a.__data__)):n.push(null)}return wt(e)};function fe(t){return typeof t=="function"?t:function(){return Ut(t,this)}}Ot.selectAll=function(t){var e=[],n,r;t=Gt(t);for(var i=-1,a=this.length;++i<a;)for(var l=this[i],s=-1,u=l.length;++s<u;)(r=l[s])&&(e.push(n=k(t.call(r,r.__data__,s,i))),n.parentNode=r);return wt(e)};function Gt(t){return typeof t=="function"?t:function(){return re(t,this)}}var Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:Pe,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Pe.hasOwnProperty(n)?{space:Pe[n],local:t}:t}},Ot.attr=function(t,e){if(arguments.length<2){if(typeof t=="string"){var n=this.node();return t=o.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(mn(e,t[e]));return this}return this.each(mn(t,e))};function mn(t,e){t=o.ns.qualify(t);function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function l(){var u=e.apply(this,arguments);u==null?this.removeAttribute(t):this.setAttribute(t,u)}function s(){var u=e.apply(this,arguments);u==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,u)}return e==null?t.local?r:n:typeof e=="function"?t.local?s:l:t.local?a:i}function un(t){return t.trim().replace(/\s+/g," ")}Ot.classed=function(t,e){if(arguments.length<2){if(typeof t=="string"){var n=this.node(),r=(t=Se(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Cn(t[i]).test(e))return!1;return!0}for(e in t)this.each(Fe(e,t[e]));return this}return this.each(Fe(t,e))};function Cn(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function Se(t){return(t+"").trim().split(/^|\s+/)}function Fe(t,e){t=Se(t).map(nn);var n=t.length;function r(){for(var a=-1;++a<n;)t[a](this,e)}function i(){for(var a=-1,l=e.apply(this,arguments);++a<n;)t[a](this,l)}return typeof e=="function"?i:r}function nn(t){var e=Cn(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",un(i+" "+t))):n.setAttribute("class",un(i.replace(e," ")))}}Ot.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e="");for(n in t)this.each(Rn(n,t[n],e));return this}if(r<2){var i=this.node();return B(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(Rn(t,e,n))};function Rn(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function a(){var l=e.apply(this,arguments);l==null?this.style.removeProperty(t):this.style.setProperty(t,l,n)}return e==null?r:typeof e=="function"?a:i}Ot.property=function(t,e){if(arguments.length<2){if(typeof t=="string")return this.node()[t];for(e in t)this.each(Z(e,t[e]));return this}return this.each(Z(t,e))};function Z(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var a=e.apply(this,arguments);a==null?delete this[t]:this[t]=a}return e==null?n:typeof e=="function"?i:r}Ot.text=function(t){return arguments.length?this.each(typeof t=="function"?function(){var e=t.apply(this,arguments);this.textContent=e??""}:t==null?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ot.html=function(t){return arguments.length?this.each(typeof t=="function"?function(){var e=t.apply(this,arguments);this.innerHTML=e??""}:t==null?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ot.append=function(t){return t=cn(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})};function cn(t){function e(){var r=this.ownerDocument,i=this.namespaceURI;return i?r.createElementNS(i,t):r.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return typeof t=="function"?t:(t=o.ns.qualify(t)).local?n:e}Ot.insert=function(t,e){return t=cn(t),e=fe(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ot.remove=function(){return this.each(mr)};function mr(){var t=this.parentNode;t&&t.removeChild(this)}Ot.data=function(t,e){var n=-1,r=this.length,i,a;if(!arguments.length){for(t=new Array(r=(i=this[0]).length);++n<r;)(a=i[n])&&(t[n]=a.__data__);return t}function l(f,g){var d,x=f.length,F=g.length,m=Math.min(x,F),_=new Array(F),v=new Array(F),A=new Array(x),w,P;if(e){var W=new gt,Y=new Array(x),H;for(d=-1;++d<x;)(w=f[d])&&(W.has(H=e.call(w,w.__data__,d))?A[d]=w:W.set(H,w),Y[d]=H);for(d=-1;++d<F;)(w=W.get(H=e.call(g,P=g[d],d)))?w!==!0&&(_[d]=w,w.__data__=P):v[d]=He(P),W.set(H,!0);for(d=-1;++d<x;)d in Y&&W.get(Y[d])!==!0&&(A[d]=f[d])}else{for(d=-1;++d<m;)w=f[d],P=g[d],w?(w.__data__=P,_[d]=w):v[d]=He(P);for(;d<F;++d)v[d]=He(g[d]);for(;d<x;++d)A[d]=f[d]}v.update=_,v.parentNode=_.parentNode=A.parentNode=f.parentNode,s.push(v),u.push(_),c.push(A)}var s=_r([]),u=wt([]),c=wt([]);if(typeof t=="function")for(;++n<r;)l(i=this[n],t.call(i,i.parentNode.__data__,n));else for(;++n<r;)l(i=this[n],t);return u.enter=function(){return s},u.exit=function(){return c},u};function He(t){return{__data__:t}}Ot.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ot.filter=function(t){var e=[],n,r,i;typeof t!="function"&&(t=On(t));for(var a=0,l=this.length;a<l;a++){e.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=0,u=r.length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,a)&&n.push(i)}return wt(e)};function On(t){return function(){return ne(this,t)}}Ot.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n=this[t],r=n.length-1,i=n[r],a;--r>=0;)(a=n[r])&&(i&&i!==a.nextSibling&&i.parentNode.insertBefore(a,i),i=a);return this},Ot.sort=function(t){t=di.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()};function di(t){return arguments.length||(t=M),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}Ot.each=function(t){return Ze(this,function(e,n,r){t.call(e,e.__data__,n,r)})};function Ze(t,e){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],a=0,l=i.length,s;a<l;a++)(s=i[a])&&e(s,a,n);return t}Ot.call=function(t){var e=k(arguments);return t.apply(e[0]=this,e),this},Ot.empty=function(){return!this.node()},Ot.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},Ot.size=function(){var t=0;return Ze(this,function(){++t}),t};function _r(t){return _e(t,$e),t}var $e=[];o.selection.enter=_r,o.selection.enter.prototype=$e,$e.append=Ot.append,$e.empty=Ot.empty,$e.node=Ot.node,$e.call=Ot.call,$e.size=Ot.size,$e.select=function(t){for(var e=[],n,r,i,a,l,s=-1,u=this.length;++s<u;){i=(a=this[s]).update,e.push(n=[]),n.parentNode=a.parentNode;for(var c=-1,f=a.length;++c<f;)(l=a[c])?(n.push(i[c]=r=t.call(a.parentNode,l.__data__,c,s)),r.__data__=l.__data__):n.push(null)}return wt(e)},$e.insert=function(t,e){return arguments.length<2&&(e=S(this)),Ot.insert.call(this,t,e)};function S(t){var e,n;return function(r,i,a){var l=t[a].update,s=l.length,u;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(u=l[e])&&++e<s;);return u}}o.select=function(t){var e;return typeof t=="string"?(e=[Ut(t,y)],e.parentNode=y.documentElement):(e=[t],e.parentNode=z(t)),wt([e])},o.selectAll=function(t){var e;return typeof t=="string"?(e=k(re(t,y)),e.parentNode=y.documentElement):(e=k(t),e.parentNode=null),wt([e])},Ot.on=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e=!1);for(n in t)this.each(O(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(O(t,e,n))};function O(t,e,n){var r="__on"+t,i=t.indexOf("."),a=G;i>0&&(t=t.slice(0,i));var l=E.get(t);l&&(t=l,a=U);function s(){var f=this[r];f&&(this.removeEventListener(t,f,f.$),delete this[r])}function u(){var f=a(e,k(arguments));s.call(this),this.addEventListener(t,this[r]=f,f.$=n),f._=e}function c(){var f=new RegExp("^__on([^.]+)"+o.requote(t)+"$"),g;for(var d in this)if(g=d.match(f)){var x=this[d];this.removeEventListener(g[1],x,x.$),delete this[d]}}return i?e?u:s:e?ue:c}var E=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});y&&E.forEach(function(t){"on"+t in y&&E.remove(t)});function G(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function U(t,e){var n=G(t,e);return function(r){var i=this,a=r.relatedTarget;(!a||a!==i&&!(a.compareDocumentPosition(i)&8))&&n.call(i,r)}}var J,at=0;function lt(t){var e=".dragsuppress-"+ ++at,n="click"+e,r=o.select(B(t)).on("touchmove"+e,Qt).on("dragstart"+e,Qt).on("selectstart"+e,Qt);if(J==null&&(J="onselectstart"in t?!1:ge(t.style,"userSelect")),J){var i=z(t).style,a=i[J];i[J]="none"}return function(l){if(r.on(e,null),J&&(i[J]=a),l){var s=function(){r.on(n,null)};r.on(n,function(){Qt(),s()},!0),setTimeout(s,0)}}}o.mouse=function(t){return pt(t,me())};var ot=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function pt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(ot<0){var i=B(t);if(i.scrollX||i.scrollY){n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();ot=!(a.f||a.e),n.remove()}}return ot?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=me().changedTouches),e){for(var r=0,i=e.length,a;r<i;++r)if((a=e[r]).identifier===n)return pt(t,a)}},o.behavior.drag=function(){var t=Ce(i,"drag","dragstart","dragend"),e=null,n=a(ue,o.mouse,B,"mousemove","mouseup"),r=a(kt,o.touch,ae,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(l,s,u,c,f){return function(){var g=this,d=o.event.target,x=g.parentNode,F=t.of(g,arguments),m=0,_=l(),v=".drag"+(_==null?"":"-"+_),A,w=o.select(u(d)).on(c+v,Y).on(f+v,H),P=lt(d),W=s(x,_);e?(A=e.apply(g,arguments),A=[A.x-W[0],A.y-W[1]]):A=[0,0],F({type:"dragstart"});function Y(){var j=s(x,_),st,ft;j&&(st=j[0]-W[0],ft=j[1]-W[1],m|=st|ft,W=j,F({type:"drag",x:j[0]+A[0],y:j[1]+A[1],dx:st,dy:ft}))}function H(){s(x,_)&&(w.on(c+v,null).on(f+v,null),P(m),F({type:"dragend"}))}}}return i.origin=function(l){return arguments.length?(e=l,i):e},o.rebind(i,t,"on")};function kt(){return o.event.changedTouches[0].identifier}o.touches=function(t,e){return arguments.length<2&&(e=me().touches),e?k(e).map(function(n){var r=pt(t,n);return r.identifier=n.identifier,r}):[]};var Q=1e-6,jt=Q*Q,it=Math.PI,K=2*it,Lt=K-Q,bt=it/2,_t=it/180,zt=180/it;function $(t){return t>0?1:t<0?-1:0}function X(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ct(t){return t>1?0:t<-1?it:Math.acos(t)}function Yt(t){return t>1?bt:t<-1?-bt:Math.asin(t)}function Wt(t){return((t=Math.exp(t))-1/t)/2}function Xt(t){return((t=Math.exp(t))+1/t)/2}function Jt(t){return((t=Math.exp(2*t))-1)/(t+1)}function te(t){return(t=Math.sin(t/2))*t}var Tt=Math.SQRT2,Rt=2,Bt=4;o.interpolateZoom=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],l=e[1],s=e[2],u=a-n,c=l-r,f=u*u+c*c,g,d;if(f<jt)d=Math.log(s/i)/Tt,g=function(A){return[n+A*u,r+A*c,i*Math.exp(Tt*A*d)]};else{var x=Math.sqrt(f),F=(s*s-i*i+Bt*f)/(2*i*Rt*x),m=(s*s-i*i-Bt*f)/(2*s*Rt*x),_=Math.log(Math.sqrt(F*F+1)-F),v=Math.log(Math.sqrt(m*m+1)-m);d=(v-_)/Tt,g=function(A){var w=A*d,P=Xt(_),W=i/(Rt*x)*(P*Jt(Tt*w+_)-Wt(_));return[n+W*u,r+W*c,i*P/Xt(Tt*w+_)]}}return g.duration=d*1e3,g},o.behavior.zoom=function(){var t={x:0,y:0,k:1},e,n,r,i=[960,500],a=ie,l=250,s=0,u="mousedown.zoom",c="mousemove.zoom",f="mouseup.zoom",g,d="touchstart.zoom",x,F=Ce(w,"zoomstart","zoom","zoomend"),m,_,v,A;ye||(ye="onwheel"in y?(Ft=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in y?(Ft=function(){return o.event.wheelDelta},"mousewheel"):(Ft=function(){return-o.event.detail},"MozMousePixelScroll"));function w(nt){nt.on(u,Ct).on(ye+".zoom",ut).on("dblclick.zoom",yt).on(d,tt)}w.event=function(nt){nt.each(function(){var mt=F.of(this,arguments),Dt=t;Bn?o.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},ft(mt)}).tween("zoom:zoom",function(){var Ht=i[0],Zt=i[1],se=n?n[0]:Ht/2,pe=n?n[1]:Zt/2,Ee=o.interpolateZoom([(se-t.x)/t.k,(pe-t.y)/t.k,Ht/t.k],[(se-Dt.x)/Dt.k,(pe-Dt.y)/Dt.k,Ht/Dt.k]);return function(Ie){var Be=Ee(Ie),Re=Ht/Be[2];this.__chart__=t={x:se-Be[0]*Re,y:pe-Be[1]*Re,k:Re},At(mt)}}).each("interrupt.zoom",function(){xt(mt)}).each("end.zoom",function(){xt(mt)}):(this.__chart__=t,ft(mt),At(mt),xt(mt))})},w.translate=function(nt){return arguments.length?(t={x:+nt[0],y:+nt[1],k:t.k},st(),w):[t.x,t.y]},w.scale=function(nt){return arguments.length?(t={x:t.x,y:t.y,k:null},Y(+nt),st(),w):t.k},w.scaleExtent=function(nt){return arguments.length?(a=nt==null?ie:[+nt[0],+nt[1]],w):a},w.center=function(nt){return arguments.length?(r=nt&&[+nt[0],+nt[1]],w):r},w.size=function(nt){return arguments.length?(i=nt&&[+nt[0],+nt[1]],w):i},w.duration=function(nt){return arguments.length?(l=+nt,w):l},w.x=function(nt){return arguments.length?(_=nt,m=nt.copy(),t={x:0,y:0,k:1},w):_},w.y=function(nt){return arguments.length?(A=nt,v=nt.copy(),t={x:0,y:0,k:1},w):A};function P(nt){return[(nt[0]-t.x)/t.k,(nt[1]-t.y)/t.k]}function W(nt){return[nt[0]*t.k+t.x,nt[1]*t.k+t.y]}function Y(nt){t.k=Math.max(a[0],Math.min(a[1],nt))}function H(nt,mt){mt=W(mt),t.x+=nt[0]-mt[0],t.y+=nt[1]-mt[1]}function j(nt,mt,Dt,Ht){nt.__chart__={x:t.x,y:t.y,k:t.k},Y(Math.pow(2,Ht)),H(n=mt,Dt),nt=o.select(nt),l>0&&(nt=nt.transition().duration(l)),nt.call(w.event)}function st(){_&&_.domain(m.range().map(function(nt){return(nt-t.x)/t.k}).map(m.invert)),A&&A.domain(v.range().map(function(nt){return(nt-t.y)/t.k}).map(v.invert))}function ft(nt){s++||nt({type:"zoomstart"})}function At(nt){st(),nt({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function xt(nt){--s||(nt({type:"zoomend"}),n=null)}function Ct(){var nt=this,mt=F.of(nt,arguments),Dt=0,Ht=o.select(B(nt)).on(c,pe).on(f,Ee),Zt=P(o.mouse(nt)),se=lt(nt);si.call(nt),ft(mt);function pe(){Dt=1,H(o.mouse(nt),Zt),At(mt)}function Ee(){Ht.on(c,null).on(f,null),se(Dt),xt(mt)}}function tt(){var nt=this,mt=F.of(nt,arguments),Dt={},Ht=0,Zt,se=".zoom-"+o.event.changedTouches[0].identifier,pe="touchmove"+se,Ee="touchend"+se,Ie=[],Be=o.select(nt),Re=lt(nt);Oe(),ft(mt),Be.on(u,null).on(d,Oe);function Te(){var tn=o.touches(nt);return Zt=t.k,tn.forEach(function(Ae){Ae.identifier in Dt&&(Dt[Ae.identifier]=P(Ae))}),tn}function Oe(){var tn=o.event.target;o.select(tn).on(pe,In).on(Ee,hc),Ie.push(tn);for(var Ae=o.event.changedTouches,Xe=0,ln=Ae.length;Xe<ln;++Xe)Dt[Ae[Xe].identifier]=null;var We=Te(),Qn=Date.now();if(We.length===1){if(Qn-x<500){var zn=We[0];j(nt,zn,Dt[zn.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),Qt()}x=Qn}else if(We.length>1){var zn=We[0],kn=We[1],fi=zn[0]-kn[0],ws=zn[1]-kn[1];Ht=fi*fi+ws*ws}}function In(){var tn=o.touches(nt),Ae,Xe,ln,We;si.call(nt);for(var Qn=0,zn=tn.length;Qn<zn;++Qn,We=null)if(ln=tn[Qn],We=Dt[ln.identifier]){if(Xe)break;Ae=ln,Xe=We}if(We){var kn=(kn=ln[0]-Ae[0])*kn+(kn=ln[1]-Ae[1])*kn,fi=Ht&&Math.sqrt(kn/Ht);Ae=[(Ae[0]+ln[0])/2,(Ae[1]+ln[1])/2],Xe=[(Xe[0]+We[0])/2,(Xe[1]+We[1])/2],Y(fi*Zt)}x=null,H(Ae,Xe),At(mt)}function hc(){if(o.event.touches.length){for(var tn=o.event.changedTouches,Ae=0,Xe=tn.length;Ae<Xe;++Ae)delete Dt[tn[Ae].identifier];for(var ln in Dt)return void Te()}o.selectAll(Ie).on(se,null),Be.on(u,Ct).on(d,tt),Re(),xt(mt)}}function ut(){var nt=F.of(this,arguments);g?clearTimeout(g):(si.call(this),e=P(n=r||o.mouse(this)),ft(nt)),g=setTimeout(function(){g=null,xt(nt)},50),Qt(),Y(Math.pow(2,Ft()*.002)*t.k),H(n,e),At(nt)}function yt(){var nt=o.mouse(this),mt=Math.log(t.k)/Math.LN2;j(this,nt,P(nt),o.event.shiftKey?Math.ceil(mt)-1:Math.floor(mt)+1)}return o.rebind(w,F,"on")};var ie=[0,1/0],Ft,ye;o.color=Kt;function Kt(){}Kt.prototype.toString=function(){return this.rgb()+""},o.hsl=he;function he(t,e,n){return this instanceof he?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof he?new he(t.h,t.s,t.l):_a(""+t,ya,he):new he(t,e,n)}var je=he.prototype=new Kt;je.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new he(this.h,this.s,this.l/t)},je.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new he(this.h,this.s,t*this.l)},je.rgb=function(){return Mn(this.h,this.s,this.l)};function Mn(t,e,n){var r,i;t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;function a(s){return s>360?s-=360:s<0&&(s+=360),s<60?r+(i-r)*s/60:s<180?i:s<240?r+(i-r)*(240-s)/60:r}function l(s){return Math.round(a(s)*255)}return new ze(l(t+120),l(t),l(t-120))}o.hcl=ke;function ke(t,e,n){return this instanceof ke?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ke?new ke(t.h,t.c,t.l):t instanceof xe?yr(t.l,t.a,t.b):yr((t=va((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ke(t,e,n)}var Ne=ke.prototype=new Kt;Ne.brighter=function(t){return new ke(this.h,this.c,Math.min(100,this.l+rn*(arguments.length?t:1)))},Ne.darker=function(t){return new ke(this.h,this.c,Math.max(0,this.l-rn*(arguments.length?t:1)))},Ne.rgb=function(){return Ge(this.h,this.c,this.l).rgb()};function Ge(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new xe(n,Math.cos(t*=_t)*e,Math.sin(t)*e)}o.lab=xe;function xe(t,e,n){return this instanceof xe?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof xe?new xe(t.l,t.a,t.b):t instanceof ke?Ge(t.h,t.c,t.l):va((t=ze(t)).r,t.g,t.b):new xe(t,e,n)}var rn=18,Ve=.95047,an=1,Ue=1.08883,fn=xe.prototype=new Kt;fn.brighter=function(t){return new xe(Math.min(100,this.l+rn*(arguments.length?t:1)),this.a,this.b)},fn.darker=function(t){return new xe(Math.max(0,this.l-rn*(arguments.length?t:1)),this.a,this.b)},fn.rgb=function(){return jn(this.l,this.a,this.b)};function jn(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=tr(i)*Ve,r=tr(r)*an,a=tr(a)*Ue,new ze(mi(3.2404542*i-1.5371385*r-.4985314*a),mi(-.969266*i+1.8760108*r+.041556*a),mi(.0556434*i-.2040259*r+1.0572252*a))}function yr(t,e,n){return t>0?new ke(Math.atan2(n,e)*zt,Math.sqrt(e*e+n*n),t):new ke(NaN,NaN,t)}function tr(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pi(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mi(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}o.rgb=ze;function ze(t,e,n){return this instanceof ze?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ze?new ze(t.r,t.g,t.b):_a(""+t,ze,Mn):new ze(t,e,n)}function ma(t){return new ze(t>>16,t>>8&255,t&255)}function vr(t){return ma(t)+""}var xr=ze.prototype=new Kt;xr.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return!e&&!n&&!r?new ze(i,i,i):(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ze(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t)))},xr.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ze(t*this.r,t*this.g,t*this.b)},xr.hsl=function(){return ya(this.r,this.g,this.b)},xr.toString=function(){return"#"+Gn(this.r)+Gn(this.g)+Gn(this.b)};function Gn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _a(t,e,n){var r=0,i=0,a=0,l,s,u;if(l=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()),l)switch(s=l[2].split(","),l[1]){case"hsl":return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case"rgb":return e(yi(s[0]),yi(s[1]),yi(s[2]))}return(u=br.get(t))?e(u.r,u.g,u.b):(t!=null&&t.charAt(0)==="#"&&!isNaN(u=parseInt(t.slice(1),16))&&(t.length===4?(r=(u&3840)>>4,r=r>>4|r,i=u&240,i=i>>4|i,a=u&15,a=a<<4|a):t.length===7&&(r=(u&16711680)>>16,i=(u&65280)>>8,a=u&255)),e(r,i,a))}function ya(t,e,n){var r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),a=i-r,l,s,u=(i+r)/2;return a?(s=u<.5?a/(i+r):a/(2-i-r),t==i?l=(e-n)/a+(e<n?6:0):e==i?l=(n-t)/a+2:l=(t-e)/a+4,l*=60):(l=NaN,s=u>0&&u<1?0:l),new he(l,s,u)}function va(t,e,n){t=_i(t),e=_i(e),n=_i(n);var r=pi((.4124564*t+.3575761*e+.1804375*n)/Ve),i=pi((.2126729*t+.7151522*e+.072175*n)/an),a=pi((.0193339*t+.119192*e+.9503041*n)/Ue);return xe(116*i-16,500*(r-i),200*(i-a))}function _i(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yi(t){var e=parseFloat(t);return t.charAt(t.length-1)==="%"?Math.round(e*2.55):e}var br=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});br.forEach(function(t,e){br.set(t,ma(e))});function de(t){return typeof t=="function"?t:function(){return t}}o.functor=de,o.xhr=vi(ae);function vi(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=null),wr(e,n,t,r)}}function wr(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,u=null;this.XDomainRequest&&!("withCredentials"in s)&&/^(http(s)?:)?\/\//.test(t)&&(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=c:s.onreadystatechange=function(){s.readyState>3&&c()};function c(){var f=s.status,g;if(!f&&Ms(s)||f>=200&&f<300||f===304){try{g=n.call(i,s)}catch(d){a.error.call(i,d);return}a.load.call(i,g)}else a.error.call(i,s)}return s.onprogress=function(f){var g=o.event;o.event=f;try{a.progress.call(i,s)}finally{o.event=g}},i.header=function(f,g){return f=(f+"").toLowerCase(),arguments.length<2?l[f]:(g==null?delete l[f]:l[f]=g+"",i)},i.mimeType=function(f){return arguments.length?(e=f==null?null:f+"",i):e},i.responseType=function(f){return arguments.length?(u=f,i):u},i.response=function(f){return n=f,i},["get","post"].forEach(function(f){i[f]=function(){return i.send.apply(i,[f].concat(k(arguments)))}}),i.send=function(f,g,d){if(arguments.length===2&&typeof g=="function"&&(d=g,g=null),s.open(f,t,!0),e!=null&&!("accept"in l)&&(l.accept=e+",*/*"),s.setRequestHeader)for(var x in l)s.setRequestHeader(x,l[x]);return e!=null&&s.overrideMimeType&&s.overrideMimeType(e),u!=null&&(s.responseType=u),d!=null&&i.on("error",d).on("load",function(F){d(null,F)}),a.beforesend.call(i,s),s.send(g??null),i},i.abort=function(){return s.abort(),i},o.rebind(i,a,"on"),r==null?i:i.get(Cs(r))}function Cs(t){return t.length===1?function(e,n){t(e==null?n:null)}:t}function Ms(t){var e=t.responseType;return e&&e!=="text"?t.response:t.responseText}o.dsv=function(t,e){var n=new RegExp('["'+t+`
]`),r=t.charCodeAt(0);function i(c,f,g){arguments.length<3&&(g=f,f=null);var d=wr(c,e,f==null?a:l(f),g);return d.row=function(x){return arguments.length?d.response((f=x)==null?a:l(x)):f},d}function a(c){return i.parse(c.responseText)}function l(c){return function(f){return i.parse(f.responseText,c)}}i.parse=function(c,f){var g;return i.parseRows(c,function(d,x){if(g)return g(d,x-1);var F=new Function("d","return {"+d.map(function(m,_){return JSON.stringify(m)+": d["+_+"]"}).join(",")+"}");g=f?function(m,_){return f(F(m),_)}:F})},i.parseRows=function(c,f){var g={},d={},x=[],F=c.length,m=0,_=0,v,A;function w(){if(m>=F)return d;if(A)return A=!1,g;var W=m;if(c.charCodeAt(W)===34){for(var Y=W;Y++<F;)if(c.charCodeAt(Y)===34){if(c.charCodeAt(Y+1)!==34)break;++Y}m=Y+2;var H=c.charCodeAt(Y+1);return H===13?(A=!0,c.charCodeAt(Y+2)===10&&++m):H===10&&(A=!0),c.slice(W+1,Y).replace(/""/g,'"')}for(;m<F;){var H=c.charCodeAt(m++),j=1;if(H===10)A=!0;else if(H===13)A=!0,c.charCodeAt(m)===10&&(++m,++j);else if(H!==r)continue;return c.slice(W,m-j)}return c.slice(W)}for(;(v=w())!==d;){for(var P=[];v!==g&&v!==d;)P.push(v),v=w();f&&(P=f(P,_++))==null||x.push(P)}return x},i.format=function(c){if(Array.isArray(c[0]))return i.formatRows(c);var f=new le,g=[];return c.forEach(function(d){for(var x in d)f.has(x)||g.push(f.add(x))}),[g.map(u).join(t)].concat(c.map(function(d){return g.map(function(x){return u(d[x])}).join(t)})).join(`
`)},i.formatRows=function(c){return c.map(s).join(`
`)};function s(c){return c.map(u).join(t)}function u(c){return n.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}return i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var kr,Cr,Mr,Sr,xa=this[ge(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};o.timer=function(){Pr.apply(this,arguments)};function Pr(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return Cr?Cr.n=a:kr=a,Cr=a,Mr||(Sr=clearTimeout(Sr),Mr=1,xa(xi)),a}function xi(){var t=ba(),e=wa()-t;e>24?(isFinite(e)&&(clearTimeout(Sr),Sr=setTimeout(xi,e)),Mr=0):(Mr=1,xa(xi))}o.timer.flush=function(){ba(),wa()};function ba(){for(var t=Date.now(),e=kr;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function wa(){for(var t,e=kr,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:kr=e.n;return Cr=t,n}function bi(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ss=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(Ps);o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,bi(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n-1)/3)*3))),Ss[8+n/3]};function Ps(t,e){var n=Math.pow(10,rt(8-e)*3);return{scale:e>8?function(r){return r/n}:function(r){return r*n},symbol:t}}function Fs(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(l,s){for(var u=l.length,c=[],f=0,g=r[0],d=0;u>0&&g>0&&(d+g+1>s&&(g=Math.max(1,s-d)),c.push(l.substring(u-=g,u+g)),!((d+=g+1)>s));)g=r[f=(f+1)%r.length];return c.reverse().join(n)}:ae;return function(l){var s=ka.exec(l),u=s[1]||" ",c=s[2]||">",f=s[3]||"-",g=s[4]||"",d=s[5],x=+s[6],F=s[7],m=s[8],_=s[9],v=1,A="",w="",P=!1,W=!0;switch(m&&(m=+m.substring(1)),(d||u==="0"&&c==="=")&&(d=u="0",c="="),_){case"n":F=!0,_="g";break;case"%":v=100,w="%",_="f";break;case"p":v=100,w="%",_="r";break;case"b":case"o":case"x":case"X":g==="#"&&(A="0"+_.toLowerCase());case"c":W=!1;case"d":P=!0,m=0;break;case"s":v=-1,_="r";break}g==="$"&&(A=i[0],w=i[1]),_=="r"&&!m&&(_="g"),m!=null&&(_=="g"?m=Math.max(1,Math.min(21,m)):(_=="e"||_=="f")&&(m=Math.max(0,Math.min(20,m)))),_=As.get(_)||Ls;var Y=d&&F;return function(H){var j=w;if(P&&H%1)return"";var st=H<0||H===0&&1/H<0?(H=-H,"-"):f==="-"?"":f;if(v<0){var ft=o.formatPrefix(H,m);H=ft.scale(H),j=ft.symbol+w}else H*=v;H=_(H,m);var At=H.lastIndexOf("."),xt,Ct;if(At<0){var tt=W?H.lastIndexOf("e"):-1;tt<0?(xt=H,Ct=""):(xt=H.substring(0,tt),Ct=H.substring(tt))}else xt=H.substring(0,At),Ct=e+H.substring(At+1);!d&&F&&(xt=a(xt,1/0));var ut=A.length+xt.length+Ct.length+(Y?0:st.length),yt=ut<x?new Array(ut=x-ut+1).join(u):"";return Y&&(xt=a(yt+xt,yt.length?x-Ct.length:1/0)),st+=A,H=xt+Ct,(c==="<"?st+H+yt:c===">"?yt+st+H:c==="^"?yt.substring(0,ut>>=1)+st+H+yt.substring(ut):st+(Y?H:yt+H))+j}}}var ka=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,As=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,bi(t,e))).toFixed(Math.max(0,Math.min(20,bi(t*(1+1e-15),e))))}});function Ls(t){return t+""}var It=o.time={},Le=Date;function hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gn.setUTCDate.apply(this._,arguments)},setDay:function(){gn.setUTCDay.apply(this._,arguments)},setFullYear:function(){gn.setUTCFullYear.apply(this._,arguments)},setHours:function(){gn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gn.setUTCSeconds.apply(this._,arguments)},setTime:function(){gn.setTime.apply(this._,arguments)}};var gn=Date.prototype;function Sn(t,e,n){function r(c){var f=t(c),g=a(f,1);return c-f<g-c?f:g}function i(c){return e(c=t(new Le(c-1)),1),c}function a(c,f){return e(c=new Le(+c),f),c}function l(c,f,g){var d=i(c),x=[];if(g>1)for(;d<f;)n(d)%g||x.push(new Date(+d)),e(d,1);else for(;d<f;)x.push(new Date(+d)),e(d,1);return x}function s(c,f,g){try{Le=hn;var d=new hn;return d._=c,l(d,f,g)}finally{Le=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=l;var u=t.utc=Fr(t);return u.floor=u,u.round=Fr(r),u.ceil=Fr(i),u.offset=Fr(a),u.range=s,t}function Fr(t){return function(e,n){try{Le=hn;var r=new hn;return r._=e,t(r,n)._}finally{Le=Date}}}It.year=Sn(function(t){return t=It.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),It.years=It.year.range,It.years.utc=It.year.utc.range,It.day=Sn(function(t){var e=new Le(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),It.days=It.day.range,It.days.utc=It.day.utc.range,It.dayOfYear=function(t){var e=It.year(t);return Math.floor((t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=It[t]=Sn(function(r){return(r=It.day(r)).setDate(r.getDate()-(r.getDay()+e)%7),r},function(r,i){r.setDate(r.getDate()+Math.floor(i)*7)},function(r){var i=It.year(r).getDay();return Math.floor((It.dayOfYear(r)+(i+e)%7)/7)-(i!==e)});It[t+"s"]=n.range,It[t+"s"].utc=n.utc.range,It[t+"OfYear"]=function(r){var i=It.year(r).getDay();return Math.floor((It.dayOfYear(r)+(i+e)%7)/7)}}),It.week=It.sunday,It.weeks=It.sunday.range,It.weeks.utc=It.sunday.utc.range,It.weekOfYear=It.sundayOfYear;function Ts(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,s=t.months,u=t.shortMonths;function c(tt){var ut=tt.length;function yt(nt){for(var mt=[],Dt=-1,Ht=0,Zt,se,pe;++Dt<ut;)tt.charCodeAt(Dt)===37&&(mt.push(tt.slice(Ht,Dt)),(se=Ca[Zt=tt.charAt(++Dt)])!=null&&(Zt=tt.charAt(++Dt)),(pe=P[Zt])&&(Zt=pe(nt,se??(Zt==="e"?" ":"0"))),mt.push(Zt),Ht=Dt+1);return mt.push(tt.slice(Ht,Dt)),mt.join("")}return yt.parse=function(nt){var mt={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},Dt=f(mt,tt,nt,0);if(Dt!=nt.length)return null;"p"in mt&&(mt.H=mt.H%12+mt.p*12);var Ht=mt.Z!=null&&Le!==hn,Zt=new(Ht?hn:Le);return"j"in mt?Zt.setFullYear(mt.y,0,mt.j):"W"in mt||"U"in mt?("w"in mt||(mt.w="W"in mt?1:0),Zt.setFullYear(mt.y,0,1),Zt.setFullYear(mt.y,0,"W"in mt?(mt.w+6)%7+mt.W*7-(Zt.getDay()+5)%7:mt.w+mt.U*7-(Zt.getDay()+6)%7)):Zt.setFullYear(mt.y,mt.m,mt.d),Zt.setHours(mt.H+(mt.Z/100|0),mt.M+mt.Z%100,mt.S,mt.L),Ht?Zt._:Zt},yt.toString=function(){return tt},yt}function f(tt,ut,yt,nt){for(var mt,Dt,Ht,Zt=0,se=ut.length,pe=yt.length;Zt<se;){if(nt>=pe)return-1;if(mt=ut.charCodeAt(Zt++),mt===37){if(Ht=ut.charAt(Zt++),Dt=W[Ht in Ca?ut.charAt(Zt++):Ht],!Dt||(nt=Dt(tt,yt,nt))<0)return-1}else if(mt!=yt.charCodeAt(nt++))return-1}return nt}c.utc=function(tt){var ut=c(tt);function yt(nt){try{Le=hn;var mt=new Le;return mt._=nt,ut(mt)}finally{Le=Date}}return yt.parse=function(nt){try{Le=hn;var mt=ut.parse(nt);return mt&&mt._}finally{Le=Date}},yt.toString=ut.toString,yt},c.multi=c.utc.multi=Ys;var g=o.map(),d=Ar(a),x=Lr(a),F=Ar(l),m=Lr(l),_=Ar(s),v=Lr(s),A=Ar(u),w=Lr(u);i.forEach(function(tt,ut){g.set(tt.toLowerCase(),ut)});var P={a:function(tt){return l[tt.getDay()]},A:function(tt){return a[tt.getDay()]},b:function(tt){return u[tt.getMonth()]},B:function(tt){return s[tt.getMonth()]},c:c(e),d:function(tt,ut){return De(tt.getDate(),ut,2)},e:function(tt,ut){return De(tt.getDate(),ut,2)},H:function(tt,ut){return De(tt.getHours(),ut,2)},I:function(tt,ut){return De(tt.getHours()%12||12,ut,2)},j:function(tt,ut){return De(1+It.dayOfYear(tt),ut,3)},L:function(tt,ut){return De(tt.getMilliseconds(),ut,3)},m:function(tt,ut){return De(tt.getMonth()+1,ut,2)},M:function(tt,ut){return De(tt.getMinutes(),ut,2)},p:function(tt){return i[+(tt.getHours()>=12)]},S:function(tt,ut){return De(tt.getSeconds(),ut,2)},U:function(tt,ut){return De(It.sundayOfYear(tt),ut,2)},w:function(tt){return tt.getDay()},W:function(tt,ut){return De(It.mondayOfYear(tt),ut,2)},x:c(n),X:c(r),y:function(tt,ut){return De(tt.getFullYear()%100,ut,2)},Y:function(tt,ut){return De(tt.getFullYear()%1e4,ut,4)},Z:Hs,"%":function(){return"%"}},W={a:Y,A:H,b:j,B:st,c:ft,d:Sa,e:Sa,H:Pa,I:Pa,j:js,L:qs,m:Os,M:Gs,p:Ct,S:Vs,U:Es,w:Ns,W:Bs,x:At,X:xt,y:Is,Y:Ds,Z:zs,"%":Us};function Y(tt,ut,yt){F.lastIndex=0;var nt=F.exec(ut.slice(yt));return nt?(tt.w=m.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function H(tt,ut,yt){d.lastIndex=0;var nt=d.exec(ut.slice(yt));return nt?(tt.w=x.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function j(tt,ut,yt){A.lastIndex=0;var nt=A.exec(ut.slice(yt));return nt?(tt.m=w.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function st(tt,ut,yt){_.lastIndex=0;var nt=_.exec(ut.slice(yt));return nt?(tt.m=v.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function ft(tt,ut,yt){return f(tt,P.c.toString(),ut,yt)}function At(tt,ut,yt){return f(tt,P.x.toString(),ut,yt)}function xt(tt,ut,yt){return f(tt,P.X.toString(),ut,yt)}function Ct(tt,ut,yt){var nt=g.get(ut.slice(yt,yt+=2).toLowerCase());return nt==null?-1:(tt.p=nt,yt)}return c}var Ca={"-":"",_:" ",0:"0"},we=/^\s*\d+/,Ma=/^%/;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ar(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Lr(t){for(var e=new gt,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ns(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Es(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Bs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ds(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Is(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.y=Rs(+r[0]),n+r[0].length):-1}function zs(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Rs(t){return t+(t>68?1900:2e3)}function Os(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Sa(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function js(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Pa(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Vs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hs(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=rt(e)/60|0,i=rt(e)%60;return n+De(r,"0",2)+De(i,"0",2)}function Us(t,e,n){Ma.lastIndex=0;var r=Ma.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ys(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(r){for(var i=0,a=t[i];!a[1](r);)a=t[++i];return a[0](r)}}o.locale=function(t){return{numberFormat:Fs(t),timeFormat:Ts(t)}};var Fa=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});o.format=Fa.numberFormat,o.geo={};function wi(){}wi.prototype={s:0,t:0,add:function(t){Aa(t,this.t,Tr),Aa(Tr.s,this.s,this),this.s?this.t+=Tr.t:this.s=Tr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Tr=new wi;function Aa(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}o.geo.stream=function(t,e){t&&La.hasOwnProperty(t.type)?La[t.type](t,e):Nr(t,e)};function Nr(t,e){t&&Ta.hasOwnProperty(t.type)&&Ta[t.type](t,e)}var La={Feature:function(t,e){Nr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Nr(n[r].geometry,e)}},Ta={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ki(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ki(n[r],e,0)},Polygon:function(t,e){Na(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Na(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Nr(n[r],e)}};function ki(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function Na(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ki(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return Er=0,o.geo.stream(t,qe),Er};var Er,Pn=new wi,qe={sphere:function(){Er+=4*it},point:ue,lineStart:ue,lineEnd:ue,polygonStart:function(){Pn.reset(),qe.lineStart=Xs},polygonEnd:function(){var t=2*Pn;Er+=t<0?4*it+t:t,qe.lineStart=qe.lineEnd=qe.point=ue}};function Xs(){var t,e,n,r,i;qe.point=function(l,s){qe.point=a,n=(t=l)*_t,r=Math.cos(s=(e=s)*_t/2+it/4),i=Math.sin(s)};function a(l,s){l*=_t,s=s*_t/2+it/4;var u=l-n,c=u>=0?1:-1,f=c*u,g=Math.cos(s),d=Math.sin(s),x=i*d,F=r*g+x*Math.cos(f),m=x*c*Math.sin(f);Pn.add(Math.atan2(m,F)),n=l,r=g,i=d}qe.lineEnd=function(){a(t,e)}}function Fn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Br(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Vn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ci(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ir(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function zr(t){return[Math.atan2(t[1],t[0]),Yt(t[2])]}function Rr(t,e){return rt(t[0]-e[0])<Q&&rt(t[1]-e[1])<Q}o.geo.bounds=function(){var t,e,n,r,i,a,l,s,u,c,f,g={point:d,lineStart:F,lineEnd:m,polygonStart:function(){g.point=_,g.lineStart=v,g.lineEnd=A,u=0,qe.polygonStart()},polygonEnd:function(){qe.polygonEnd(),g.point=d,g.lineStart=F,g.lineEnd=m,Pn<0?(t=-(n=180),e=-(r=90)):u>Q?r=90:u<-Q&&(e=-90),f[0]=t,f[1]=n}};function d(Y,H){c.push(f=[t=Y,n=Y]),H<e&&(e=H),H>r&&(r=H)}function x(Y,H){var j=Fn([Y*_t,H*_t]);if(s){var st=Vn(s,j),ft=[st[1],-st[0],0],At=Vn(ft,st);Ir(At),At=zr(At);var xt=Y-i,Ct=xt>0?1:-1,tt=At[0]*zt*Ct,ut=rt(xt)>180;if(ut^(Ct*i<tt&&tt<Ct*Y)){var yt=At[1]*zt;yt>r&&(r=yt)}else if(tt=(tt+360)%360-180,ut^(Ct*i<tt&&tt<Ct*Y)){var yt=-At[1]*zt;yt<e&&(e=yt)}else H<e&&(e=H),H>r&&(r=H);ut?Y<i?w(t,Y)>w(t,n)&&(n=Y):w(Y,n)>w(t,n)&&(t=Y):n>=t?(Y<t&&(t=Y),Y>n&&(n=Y)):Y>i?w(t,Y)>w(t,n)&&(n=Y):w(Y,n)>w(t,n)&&(t=Y)}else d(Y,H);s=j,i=Y}function F(){g.point=x}function m(){f[0]=t,f[1]=n,g.point=d,s=null}function _(Y,H){if(s){var j=Y-i;u+=rt(j)>180?j+(j>0?360:-360):j}else a=Y,l=H;qe.point(Y,H),x(Y,H)}function v(){qe.lineStart()}function A(){_(a,l),qe.lineEnd(),rt(u)>Q&&(t=-(n=180)),f[0]=t,f[1]=n,s=null}function w(Y,H){return(H-=Y)<0?H+360:H}function P(Y,H){return Y[0]-H[0]}function W(Y,H){return H[0]<=H[1]?H[0]<=Y&&Y<=H[1]:Y<H[0]||H[1]<Y}return function(Y){r=n=-(t=e=1/0),c=[],o.geo.stream(Y,g);var H=c.length;if(H){c.sort(P);for(var j=1,st=c[0],ft,At=[st];j<H;++j)ft=c[j],W(ft[0],st)||W(ft[1],st)?(w(st[0],ft[1])>w(st[0],st[1])&&(st[1]=ft[1]),w(ft[0],st[1])>w(st[0],st[1])&&(st[0]=ft[0])):At.push(st=ft);for(var xt=-1/0,Ct,H=At.length-1,j=0,st=At[H],ft;j<=H;st=ft,++j)ft=At[j],(Ct=w(st[1],ft[0]))>xt&&(xt=Ct,t=ft[0],n=st[1])}return c=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){er=Or=An=Ln=dn=_n=yn=on=qn=Hn=vn=0,o.geo.stream(t,Ke);var e=qn,n=Hn,r=vn,i=e*e+n*n+r*r;return i<jt&&(e=_n,n=yn,r=on,Or<Q&&(e=An,n=Ln,r=dn),i=e*e+n*n+r*r,i<jt)?[NaN,NaN]:[Math.atan2(n,e)*zt,Yt(r/Math.sqrt(i))*zt]};var er,Or,An,Ln,dn,_n,yn,on,qn,Hn,vn,Ke={sphere:ue,point:Mi,lineStart:Ea,lineEnd:Ba,polygonStart:function(){Ke.lineStart=Ws},polygonEnd:function(){Ke.lineStart=Ea}};function Mi(t,e){t*=_t;var n=Math.cos(e*=_t);nr(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function nr(t,e,n){++er,An+=(t-An)/er,Ln+=(e-Ln)/er,dn+=(n-dn)/er}function Ea(){var t,e,n;Ke.point=function(i,a){i*=_t;var l=Math.cos(a*=_t);t=l*Math.cos(i),e=l*Math.sin(i),n=Math.sin(a),Ke.point=r,nr(t,e,n)};function r(i,a){i*=_t;var l=Math.cos(a*=_t),s=l*Math.cos(i),u=l*Math.sin(i),c=Math.sin(a),f=Math.atan2(Math.sqrt((f=e*c-n*u)*f+(f=n*s-t*c)*f+(f=t*u-e*s)*f),t*s+e*u+n*c);Or+=f,_n+=f*(t+(t=s)),yn+=f*(e+(e=u)),on+=f*(n+(n=c)),nr(t,e,n)}}function Ba(){Ke.point=Mi}function Ws(){var t,e,n,r,i;Ke.point=function(l,s){t=l,e=s,Ke.point=a,l*=_t;var u=Math.cos(s*=_t);n=u*Math.cos(l),r=u*Math.sin(l),i=Math.sin(s),nr(n,r,i)},Ke.lineEnd=function(){a(t,e),Ke.lineEnd=Ba,Ke.point=Mi};function a(l,s){l*=_t;var u=Math.cos(s*=_t),c=u*Math.cos(l),f=u*Math.sin(l),g=Math.sin(s),d=r*g-i*f,x=i*c-n*g,F=n*f-r*c,m=Math.sqrt(d*d+x*x+F*F),_=n*c+r*f+i*g,v=m&&-ct(_)/m,A=Math.atan2(m,_);qn+=v*d,Hn+=v*x,vn+=v*F,Or+=A,_n+=A*(n+(n=c)),yn+=A*(r+(r=f)),on+=A*(i+(i=g)),nr(n,r,i)}}function Da(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function rr(){return!0}function Ia(t,e,n,r,i){var a=[],l=[];if(t.forEach(function(m){if(!((_=m.length-1)<=0)){var _,v=m[0],A=m[_];if(Rr(v,A)){i.lineStart();for(var w=0;w<_;++w)i.point((v=m[w])[0],v[1]);i.lineEnd();return}var P=new jr(v,m,null,!0),W=new jr(v,null,P,!1);P.o=W,a.push(P),l.push(W),P=new jr(A,m,null,!1),W=new jr(A,null,P,!0),P.o=W,a.push(P),l.push(W)}}),l.sort(e),za(a),za(l),!!a.length){for(var s=0,u=n,c=l.length;s<c;++s)l[s].e=u=!u;for(var f=a[0],g,d;;){for(var x=f,F=!0;x.v;)if((x=x.n)===f)return;g=x.z,i.lineStart();do{if(x.v=x.o.v=!0,x.e){if(F)for(var s=0,c=g.length;s<c;++s)i.point((d=g[s])[0],d[1]);else r(x.x,x.n.x,1,i);x=x.n}else{if(F){g=x.p.z;for(var s=g.length-1;s>=0;--s)i.point((d=g[s])[0],d[1])}else r(x.x,x.p.x,-1,i);x=x.p}x=x.o,g=x.z,F=!F}while(!x.v);i.lineEnd()}}}function za(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function jr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ra(t,e,n,r){return function(i,a){var l=e(a),s=i.invert(r[0],r[1]),u={point:c,lineStart:g,lineEnd:d,polygonStart:function(){u.point=w,u.lineStart=P,u.lineEnd=W,x=[],v=[]},polygonEnd:function(){u.point=c,u.lineStart=g,u.lineEnd=d,x=o.merge(x);var Y=tl(s,v);x.length?(_||(a.polygonStart(),_=!0),Ia(x,$s,Y,n,a)):Y&&(_||(a.polygonStart(),_=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),_&&(a.polygonEnd(),_=!1),x=v=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function c(Y,H){var j=i(Y,H);t(Y=j[0],H=j[1])&&a.point(Y,H)}function f(Y,H){var j=i(Y,H);l.point(j[0],j[1])}function g(){u.point=f,l.lineStart()}function d(){u.point=c,l.lineEnd()}var x,F=Oa(),m=e(F),_=!1,v,A;function w(Y,H){A.push([Y,H]);var j=i(Y,H);m.point(j[0],j[1])}function P(){m.lineStart(),A=[]}function W(){w(A[0][0],A[0][1]),m.lineEnd();var Y=m.clean(),H=F.buffer(),j,st=H.length;if(A.pop(),v.push(A),A=null,!!st){if(Y&1){j=H[0];var st=j.length-1,ft=-1,At;if(st>0){for(_||(a.polygonStart(),_=!0),a.lineStart();++ft<st;)a.point((At=j[ft])[0],At[1]);a.lineEnd()}return}st>1&&Y&2&&H.push(H.pop().concat(H.shift())),x.push(H.filter(Zs))}}return u}}function Zs(t){return t.length>1}function Oa(){var t=[],e;return{lineStart:function(){t.push(e=[])},point:function(n,r){e.push([n,r])},lineEnd:ue,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function $s(t,e){return((t=t.x)[0]<0?t[1]-bt-Q:bt-t[1])-((e=e.x)[0]<0?e[1]-bt-Q:bt-e[1])}var ja=Ra(rr,Ks,Qs,[-it,-it/2]);function Ks(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,l){var s=a>0?it:-it,u=rt(a-e);rt(u-it)<Q?(t.point(e,n=(n+l)/2>0?bt:-bt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&u>=it&&(rt(e-r)<Q&&(e-=r*Q),rt(a-s)<Q&&(a-=s*Q),n=Js(e,n,a,l),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=l),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Js(t,e,n,r){var i,a,l=Math.sin(t-n);return rt(l)>Q?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*l)):(e+r)/2}function Qs(t,e,n,r){var i;if(t==null)i=n*bt,r.point(-it,i),r.point(0,i),r.point(it,i),r.point(it,0),r.point(it,-i),r.point(0,-i),r.point(-it,-i),r.point(-it,0),r.point(-it,i);else if(rt(t[0]-e[0])>Q){var a=t[0]<e[0]?it:-it;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function tl(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,l=0;Pn.reset();for(var s=0,u=e.length;s<u;++s){var c=e[s],f=c.length;if(f)for(var g=c[0],d=g[0],x=g[1]/2+it/4,F=Math.sin(x),m=Math.cos(x),_=1;;){_===f&&(_=0),t=c[_];var v=t[0],A=t[1]/2+it/4,w=Math.sin(A),P=Math.cos(A),W=v-d,Y=W>=0?1:-1,H=Y*W,j=H>it,st=F*w;if(Pn.add(Math.atan2(st*Y*Math.sin(H),m*P+st*Math.cos(H))),a+=j?W+Y*K:W,j^d>=n^v>=n){var ft=Vn(Fn(g),Fn(t));Ir(ft);var At=Vn(i,ft);Ir(At);var xt=(j^W>=0?-1:1)*Yt(At[2]);(r>xt||r===xt&&(ft[0]||ft[1]))&&(l+=j^W>=0?1:-1)}if(!_++)break;d=v,F=w,m=P,g=t}}return(a<-Q||a<Q&&Pn<0)^l&1}function el(t){var e=Math.cos(t),n=e>0,r=rt(e)>Q,i=Ti(t,6*_t);return Ra(a,l,i,n?[0,-t]:[-it,t-it]);function a(c,f){return Math.cos(c)*Math.cos(f)>e}function l(c){var f,g,d,x,F;return{lineStart:function(){x=d=!1,F=1},point:function(m,_){var v=[m,_],A,w=a(m,_),P=n?w?0:u(m,_):w?u(m+(m<0?it:-it),_):0;if(!f&&(x=d=w)&&c.lineStart(),w!==d&&(A=s(f,v),(Rr(f,A)||Rr(v,A))&&(v[0]+=Q,v[1]+=Q,w=a(v[0],v[1]))),w!==d)F=0,w?(c.lineStart(),A=s(v,f),c.point(A[0],A[1])):(A=s(f,v),c.point(A[0],A[1]),c.lineEnd()),f=A;else if(r&&f&&n^w){var W;!(P&g)&&(W=s(v,f,!0))&&(F=0,n?(c.lineStart(),c.point(W[0][0],W[0][1]),c.point(W[1][0],W[1][1]),c.lineEnd()):(c.point(W[1][0],W[1][1]),c.lineEnd(),c.lineStart(),c.point(W[0][0],W[0][1])))}w&&(!f||!Rr(f,v))&&c.point(v[0],v[1]),f=v,d=w,g=P},lineEnd:function(){d&&c.lineEnd(),f=null},clean:function(){return F|(x&&d)<<1}}}function s(c,f,g){var d=Fn(c),x=Fn(f),F=[1,0,0],m=Vn(d,x),_=Br(m,m),v=m[0],A=_-v*v;if(!A)return!g&&c;var w=e*_/A,P=-e*v/A,W=Vn(F,m),Y=Dr(F,w),H=Dr(m,P);Ci(Y,H);var j=W,st=Br(Y,j),ft=Br(j,j),At=st*st-ft*(Br(Y,Y)-1);if(!(At<0)){var xt=Math.sqrt(At),Ct=Dr(j,(-st-xt)/ft);if(Ci(Ct,Y),Ct=zr(Ct),!g)return Ct;var tt=c[0],ut=f[0],yt=c[1],nt=f[1],mt;ut<tt&&(mt=tt,tt=ut,ut=mt);var Dt=ut-tt,Ht=rt(Dt-it)<Q,Zt=Ht||Dt<Q;if(!Ht&&nt<yt&&(mt=yt,yt=nt,nt=mt),Zt?Ht?yt+nt>0^Ct[1]<(rt(Ct[0]-tt)<Q?yt:nt):yt<=Ct[1]&&Ct[1]<=nt:Dt>it^(tt<=Ct[0]&&Ct[0]<=ut)){var se=Dr(j,(-st+xt)/ft);return Ci(se,Y),[Ct,zr(se)]}}}function u(c,f){var g=n?t:it-t,d=0;return c<-g?d|=1:c>g&&(d|=2),f<-g?d|=4:f>g&&(d|=8),d}}function Ga(t,e,n,r){return function(i){var a=i.a,l=i.b,s=a.x,u=a.y,c=l.x,f=l.y,g=0,d=1,x=c-s,F=f-u,m;if(m=t-s,!(!x&&m>0)){if(m/=x,x<0){if(m<g)return;m<d&&(d=m)}else if(x>0){if(m>d)return;m>g&&(g=m)}if(m=n-s,!(!x&&m<0)){if(m/=x,x<0){if(m>d)return;m>g&&(g=m)}else if(x>0){if(m<g)return;m<d&&(d=m)}if(m=e-u,!(!F&&m>0)){if(m/=F,F<0){if(m<g)return;m<d&&(d=m)}else if(F>0){if(m>d)return;m>g&&(g=m)}if(m=r-u,!(!F&&m<0)){if(m/=F,F<0){if(m>d)return;m>g&&(g=m)}else if(F>0){if(m<g)return;m<d&&(d=m)}return g>0&&(i.a={x:s+g*x,y:u+g*F}),d<1&&(i.b={x:s+d*x,y:u+d*F}),i}}}}}}var Gr=1e9;o.geo.clipExtent=function(){var t,e,n,r,i,a,l={stream:function(s){return i&&(i.valid=!1),i=a(s),i.valid=!0,i},extent:function(s){return arguments.length?(a=Va(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),l):[[t,e],[n,r]]}};return l.extent([[0,0],[960,500]])};function Va(t,e,n,r){return function(s){var u=s,c=Oa(),f=Ga(t,e,n,r),g,d,x,F={point:A,lineStart:At,lineEnd:xt,polygonStart:function(){s=c,g=[],d=[],ft=!0},polygonEnd:function(){s=u,g=o.merge(g);var tt=m([t,r]),ut=ft&&tt,yt=g.length;(ut||yt)&&(s.polygonStart(),ut&&(s.lineStart(),_(null,null,1,s),s.lineEnd()),yt&&Ia(g,a,tt,_,s),s.polygonEnd()),g=d=x=null}};function m(tt){for(var ut=0,yt=d.length,nt=tt[1],mt=0;mt<yt;++mt)for(var Dt=1,Ht=d[mt],Zt=Ht.length,se=Ht[0],pe;Dt<Zt;++Dt)pe=Ht[Dt],se[1]<=nt?pe[1]>nt&&X(se,pe,tt)>0&&++ut:pe[1]<=nt&&X(se,pe,tt)<0&&--ut,se=pe;return ut!==0}function _(tt,ut,yt,nt){var mt=0,Dt=0;if(tt==null||(mt=i(tt,yt))!==(Dt=i(ut,yt))||l(tt,ut)<0^yt>0)do nt.point(mt===0||mt===3?t:n,mt>1?r:e);while((mt=(mt+yt+4)%4)!==Dt);else nt.point(ut[0],ut[1])}function v(tt,ut){return t<=tt&&tt<=n&&e<=ut&&ut<=r}function A(tt,ut){v(tt,ut)&&s.point(tt,ut)}var w,P,W,Y,H,j,st,ft;function At(){F.point=Ct,d&&d.push(x=[]),st=!0,j=!1,Y=H=NaN}function xt(){g&&(Ct(w,P),W&&j&&c.rejoin(),g.push(c.buffer())),F.point=A,j&&s.lineEnd()}function Ct(tt,ut){tt=Math.max(-Gr,Math.min(Gr,tt)),ut=Math.max(-Gr,Math.min(Gr,ut));var yt=v(tt,ut);if(d&&x.push([tt,ut]),st)w=tt,P=ut,W=yt,st=!1,yt&&(s.lineStart(),s.point(tt,ut));else if(yt&&j)s.point(tt,ut);else{var nt={a:{x:Y,y:H},b:{x:tt,y:ut}};f(nt)?(j||(s.lineStart(),s.point(nt.a.x,nt.a.y)),s.point(nt.b.x,nt.b.y),yt||s.lineEnd(),ft=!1):yt&&(s.lineStart(),s.point(tt,ut),ft=!1)}Y=tt,H=ut,j=yt}return F};function i(s,u){return rt(s[0]-t)<Q?u>0?0:3:rt(s[0]-n)<Q?u>0?2:1:rt(s[1]-e)<Q?u>0?1:0:u>0?3:2}function a(s,u){return l(s.x,u.x)}function l(s,u){var c=i(s,1),f=i(u,1);return c!==f?c-f:c===0?u[1]-s[1]:c===1?s[0]-u[0]:c===2?s[1]-u[1]:u[0]-s[0]}}function Si(t){var e=0,n=it/3,r=Ai(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*it/180,n=a[1]*it/180):[e/it*180,n/it*180]},i}function qa(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function l(s,u){var c=Math.sqrt(i-2*r*Math.sin(u))/r;return[c*Math.sin(s*=r),a-c*Math.cos(s)]}return l.invert=function(s,u){var c=a-u;return[Math.atan2(s,c)/r,Yt((i-(s*s+c*c)*r*r)/(2*r))]},l}(o.geo.conicEqualArea=function(){return Si(qa)}).raw=qa,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t=o.geo.albers(),e=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),n=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),r,i={point:function(c,f){r=[c,f]}},a,l,s;function u(c){var f=c[0],g=c[1];return r=null,a(f,g),r||(l(f,g),r)||s(f,g),r}return u.invert=function(c){var f=t.scale(),g=t.translate(),d=(c[0]-g[0])/f,x=(c[1]-g[1])/f;return(x>=.12&&x<.234&&d>=-.425&&d<-.214?e:x>=.166&&x<.234&&d>=-.214&&d<-.115?n:t).invert(c)},u.stream=function(c){var f=t.stream(c),g=e.stream(c),d=n.stream(c);return{point:function(x,F){f.point(x,F),g.point(x,F),d.point(x,F)},sphere:function(){f.sphere(),g.sphere(),d.sphere()},lineStart:function(){f.lineStart(),g.lineStart(),d.lineStart()},lineEnd:function(){f.lineEnd(),g.lineEnd(),d.lineEnd()},polygonStart:function(){f.polygonStart(),g.polygonStart(),d.polygonStart()},polygonEnd:function(){f.polygonEnd(),g.polygonEnd(),d.polygonEnd()}}},u.precision=function(c){return arguments.length?(t.precision(c),e.precision(c),n.precision(c),u):t.precision()},u.scale=function(c){return arguments.length?(t.scale(c),e.scale(c*.35),n.scale(c),u.translate(t.translate())):t.scale()},u.translate=function(c){if(!arguments.length)return t.translate();var f=t.scale(),g=+c[0],d=+c[1];return a=t.translate(c).clipExtent([[g-.455*f,d-.238*f],[g+.455*f,d+.238*f]]).stream(i).point,l=e.translate([g-.307*f,d+.201*f]).clipExtent([[g-.425*f+Q,d+.12*f+Q],[g-.214*f-Q,d+.234*f-Q]]).stream(i).point,s=n.translate([g-.205*f,d+.212*f]).clipExtent([[g-.214*f+Q,d+.166*f+Q],[g-.115*f-Q,d+.234*f-Q]]).stream(i).point,u},u.scale(1070)};var Pi,Fi,xn={point:ue,lineStart:ue,lineEnd:ue,polygonStart:function(){Fi=0,xn.lineStart=nl},polygonEnd:function(){xn.lineStart=xn.lineEnd=xn.point=ue,Pi+=rt(Fi/2)}};function nl(){var t,e,n,r;xn.point=function(a,l){xn.point=i,t=n=a,e=r=l};function i(a,l){Fi+=r*a-n*l,n=a,r=l}xn.lineEnd=function(){i(t,e)}}var Vr,qr,Hr,Ur,rl={point:il,lineStart:ue,lineEnd:ue,polygonStart:ue,polygonEnd:ue};function il(t,e){t<Vr&&(Vr=t),t>Hr&&(Hr=t),e<qr&&(qr=e),e>Ur&&(Ur=e)}function al(){var t=Ha(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:l,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=l,n.point=r},pointRadius:function(u){return t=Ha(u),n},result:function(){if(e.length){var u=e.join("");return e=[],u}}};function r(u,c){e.push("M",u,",",c,t)}function i(u,c){e.push("M",u,",",c),n.point=a}function a(u,c){e.push("L",u,",",c)}function l(){n.point=r}function s(){e.push("Z")}return n}function Ha(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Je={point:Tn,lineStart:Ua,lineEnd:Ya,polygonStart:function(){Je.lineStart=ol},polygonEnd:function(){Je.point=Tn,Je.lineStart=Ua,Je.lineEnd=Ya}};function Tn(t,e){An+=t,Ln+=e,++dn}function Ua(){var t,e;Je.point=function(r,i){Je.point=n,Tn(t=r,e=i)};function n(r,i){var a=r-t,l=i-e,s=Math.sqrt(a*a+l*l);_n+=s*(t+r)/2,yn+=s*(e+i)/2,on+=s,Tn(t=r,e=i)}}function Ya(){Je.point=Tn}function ol(){var t,e,n,r;Je.point=function(a,l){Je.point=i,Tn(t=n=a,e=r=l)};function i(a,l){var s=a-n,u=l-r,c=Math.sqrt(s*s+u*u);_n+=c*(n+a)/2,yn+=c*(r+l)/2,on+=c,c=r*a-n*l,qn+=c*(n+a),Hn+=c*(r+l),vn+=c*3,Tn(n=a,r=l)}Je.lineEnd=function(){i(t,e)}}function sl(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:l,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=l,n.point=r},pointRadius:function(u){return e=u,n},result:ue};function r(u,c){t.moveTo(u+e,c),t.arc(u,c,e,0,K)}function i(u,c){t.moveTo(u,c),n.point=a}function a(u,c){t.lineTo(u,c)}function l(){n.point=r}function s(){t.closePath()}return n}function Xa(t){var e=.5,n=Math.cos(30*_t),r=16;function i(u){return(r?l:a)(u)}function a(u){return Za(u,function(c,f){c=t(c,f),u.point(c[0],c[1])})}function l(u){var c,f,g,d,x,F,m,_,v,A,w,P,W={point:Y,lineStart:H,lineEnd:st,polygonStart:function(){u.polygonStart(),W.lineStart=ft},polygonEnd:function(){u.polygonEnd(),W.lineStart=H}};function Y(Ct,tt){Ct=t(Ct,tt),u.point(Ct[0],Ct[1])}function H(){_=NaN,W.point=j,u.lineStart()}function j(Ct,tt){var ut=Fn([Ct,tt]),yt=t(Ct,tt);s(_,v,m,A,w,P,_=yt[0],v=yt[1],m=Ct,A=ut[0],w=ut[1],P=ut[2],r,u),u.point(_,v)}function st(){W.point=Y,u.lineEnd()}function ft(){H(),W.point=At,W.lineEnd=xt}function At(Ct,tt){j(c=Ct,tt),f=_,g=v,d=A,x=w,F=P,W.point=j}function xt(){s(_,v,m,A,w,P,f,g,c,d,x,F,r,u),W.lineEnd=st,st()}return W}function s(u,c,f,g,d,x,F,m,_,v,A,w,P,W){var Y=F-u,H=m-c,j=Y*Y+H*H;if(j>4*e&&P--){var st=g+v,ft=d+A,At=x+w,xt=Math.sqrt(st*st+ft*ft+At*At),Ct=Math.asin(At/=xt),tt=rt(rt(At)-1)<Q||rt(f-_)<Q?(f+_)/2:Math.atan2(ft,st),ut=t(tt,Ct),yt=ut[0],nt=ut[1],mt=yt-u,Dt=nt-c,Ht=H*mt-Y*Dt;(Ht*Ht/j>e||rt((Y*mt+H*Dt)/j-.5)>.3||g*v+d*A+x*w<n)&&(s(u,c,f,g,d,x,yt,nt,tt,st/=xt,ft/=xt,At,P,W),W.point(yt,nt),s(yt,nt,tt,st,ft,At,F,m,_,v,A,w,P,W))}}return i.precision=function(u){return arguments.length?(r=(e=u*u)>0&&16,i):Math.sqrt(e)},i}o.geo.path=function(){var t=4.5,e,n,r,i,a;function l(u){return u&&(typeof t=="function"&&i.pointRadius(+t.apply(this,arguments)),(!a||!a.valid)&&(a=r(i)),o.geo.stream(u,a)),i.result()}l.area=function(u){return Pi=0,o.geo.stream(u,r(xn)),Pi},l.centroid=function(u){return An=Ln=dn=_n=yn=on=qn=Hn=vn=0,o.geo.stream(u,r(Je)),vn?[qn/vn,Hn/vn]:on?[_n/on,yn/on]:dn?[An/dn,Ln/dn]:[NaN,NaN]},l.bounds=function(u){return Hr=Ur=-(Vr=qr=1/0),o.geo.stream(u,r(rl)),[[Vr,qr],[Hr,Ur]]},l.projection=function(u){return arguments.length?(r=(e=u)?u.stream||ll(u):ae,s()):e},l.context=function(u){return arguments.length?(i=(n=u)==null?new al:new sl(u),typeof t!="function"&&i.pointRadius(t),s()):n},l.pointRadius=function(u){return arguments.length?(t=typeof u=="function"?u:(i.pointRadius(+u),+u),l):t};function s(){return a=null,l}return l.projection(o.geo.albersUsa()).context(null)};function ll(t){var e=Xa(function(n,r){return t([n*zt,r*zt])});return function(n){return $a(e(n))}}o.geo.transform=function(t){return{stream:function(e){var n=new Wa(e);for(var r in t)n[r]=t[r];return n}}};function Wa(t){this.stream=t}Wa.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Za(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}o.geo.projection=bn,o.geo.projectionMutator=Ai;function bn(t){return Ai(function(){return t})()}function Ai(t){var e,n,r,i=Xa(function(j,st){return j=e(j,st),[j[0]*a+x,F-j[1]*a]}),a=150,l=480,s=250,u=0,c=0,f=0,g=0,d=0,x,F,m=ja,_=ae,v=null,A=null,w;function P(j){return j=r(j[0]*_t,j[1]*_t),[j[0]*a+x,F-j[1]*a]}function W(j){return j=r.invert((j[0]-x)/a,(F-j[1])/a),j&&[j[0]*zt,j[1]*zt]}P.stream=function(j){return w&&(w.valid=!1),w=$a(m(n,i(_(j)))),w.valid=!0,w},P.clipAngle=function(j){return arguments.length?(m=j==null?(v=j,ja):el((v=+j)*_t),H()):v},P.clipExtent=function(j){return arguments.length?(A=j,_=j?Va(j[0][0],j[0][1],j[1][0],j[1][1]):ae,H()):A},P.scale=function(j){return arguments.length?(a=+j,Y()):a},P.translate=function(j){return arguments.length?(l=+j[0],s=+j[1],Y()):[l,s]},P.center=function(j){return arguments.length?(u=j[0]%360*_t,c=j[1]%360*_t,Y()):[u*zt,c*zt]},P.rotate=function(j){return arguments.length?(f=j[0]%360*_t,g=j[1]%360*_t,d=j.length>2?j[2]%360*_t:0,Y()):[f*zt,g*zt,d*zt]},o.rebind(P,i,"precision");function Y(){r=Da(n=Li(f,g,d),e);var j=e(u,c);return x=l-j[0]*a,F=s+j[1]*a,H()}function H(){return w&&(w.valid=!1,w=null),P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&W,Y()}}function $a(t){return Za(t,function(e,n){t.point(e*_t,n*_t)})}function ir(t,e){return[t,e]}(o.geo.equirectangular=function(){return bn(ir)}).raw=ir.invert=ir,o.geo.rotation=function(t){t=Li(t[0]%360*_t,t[1]*_t,t.length>2?t[2]*_t:0);function e(n){return n=t(n[0]*_t,n[1]*_t),n[0]*=zt,n[1]*=zt,n}return e.invert=function(n){return n=t.invert(n[0]*_t,n[1]*_t),n[0]*=zt,n[1]*=zt,n},e};function Ka(t,e){return[t>it?t-K:t<-it?t+K:t,e]}Ka.invert=ir;function Li(t,e,n){return t?e||n?Da(Qa(t),to(e,n)):Qa(t):e||n?to(e,n):Ka}function Ja(t){return function(e,n){return e+=t,[e>it?e-K:e<-it?e+K:e,n]}}function Qa(t){var e=Ja(t);return e.invert=Ja(-t),e}function to(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);function l(s,u){var c=Math.cos(u),f=Math.cos(s)*c,g=Math.sin(s)*c,d=Math.sin(u),x=d*n+f*r;return[Math.atan2(g*i-x*a,f*n-d*r),Yt(x*i+g*a)]}return l.invert=function(s,u){var c=Math.cos(u),f=Math.cos(s)*c,g=Math.sin(s)*c,d=Math.sin(u),x=d*i-g*a;return[Math.atan2(g*i+d*a,f*n+x*r),Yt(x*n-f*r)]},l}o.geo.circle=function(){var t=[0,0],e,n=6,r;function i(){var a=typeof t=="function"?t.apply(this,arguments):t,l=Li(-a[0]*_t,-a[1]*_t,0).invert,s=[];return r(null,null,1,{point:function(u,c){s.push(u=l(u,c)),u[0]*=zt,u[1]*=zt}}),{type:"Polygon",coordinates:[s]}}return i.origin=function(a){return arguments.length?(t=a,i):t},i.angle=function(a){return arguments.length?(r=Ti((e=+a)*_t,n*_t),i):e},i.precision=function(a){return arguments.length?(r=Ti(e*_t,(n=+a)*_t),i):n},i.angle(90)};function Ti(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,l,s){var u=l*e;i!=null?(i=eo(n,i),a=eo(n,a),(l>0?i<a:i>a)&&(i+=l*K)):(i=t+l*K,a=t-.5*u);for(var c,f=i;l>0?f>a:f<a;f-=u)s.point((c=zr([n,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function eo(t,e){var n=Fn(e);n[0]-=t,Ir(n);var r=ct(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Q)%(2*Math.PI)}o.geo.distance=function(t,e){var n=(e[0]-t[0])*_t,r=t[1]*_t,i=e[1]*_t,a=Math.sin(n),l=Math.cos(n),s=Math.sin(r),u=Math.cos(r),c=Math.sin(i),f=Math.cos(i),g;return Math.atan2(Math.sqrt((g=f*a)*g+(g=u*c-s*f*l)*g),s*c+u*f*l)},o.geo.graticule=function(){var t,e,n,r,i,a,l,s,u=10,c=u,f=90,g=360,d,x,F,m,_=2.5;function v(){return{type:"MultiLineString",coordinates:A()}}function A(){return o.range(Math.ceil(r/f)*f,n,f).map(F).concat(o.range(Math.ceil(s/g)*g,l,g).map(m)).concat(o.range(Math.ceil(e/u)*u,t,u).filter(function(w){return rt(w%f)>Q}).map(d)).concat(o.range(Math.ceil(a/c)*c,i,c).filter(function(w){return rt(w%g)>Q}).map(x))}return v.lines=function(){return A().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[F(r).concat(m(l).slice(1),F(n).reverse().slice(1),m(s).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.majorExtent(w).minorExtent(w):v.minorExtent()},v.majorExtent=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],s=+w[0][1],l=+w[1][1],r>n&&(w=r,r=n,n=w),s>l&&(w=s,s=l,l=w),v.precision(_)):[[r,s],[n,l]]},v.minorExtent=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),v.precision(_)):[[e,a],[t,i]]},v.step=function(w){return arguments.length?v.majorStep(w).minorStep(w):v.minorStep()},v.majorStep=function(w){return arguments.length?(f=+w[0],g=+w[1],v):[f,g]},v.minorStep=function(w){return arguments.length?(u=+w[0],c=+w[1],v):[u,c]},v.precision=function(w){return arguments.length?(_=+w,d=no(a,i,90),x=ro(e,t,_),F=no(s,l,90),m=ro(r,n,_),v):_},v.majorExtent([[-180,-90+Q],[180,90-Q]]).minorExtent([[-180,-80-Q],[180,80+Q]])};function no(t,e,n){var r=o.range(t,e-Q,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function ro(t,e,n){var r=o.range(t,e-Q,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function Ni(t){return t.source}function Ei(t){return t.target}o.geo.greatArc=function(){var t=Ni,e,n=Ei,r;function i(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),r||n.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(e||t.apply(this,arguments),r||n.apply(this,arguments))},i.source=function(a){return arguments.length?(t=a,e=typeof a=="function"?null:a,i):t},i.target=function(a){return arguments.length?(n=a,r=typeof a=="function"?null:a,i):n},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return ul(t[0]*_t,t[1]*_t,e[0]*_t,e[1]*_t)};function ul(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),l=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),f=l*Math.cos(n),g=l*Math.sin(n),d=2*Math.asin(Math.sqrt(te(r-e)+i*l*te(n-t))),x=1/Math.sin(d),F=d?function(m){var _=Math.sin(m*=d)*x,v=Math.sin(d-m)*x,A=v*u+_*f,w=v*c+_*g,P=v*a+_*s;return[Math.atan2(w,A)*zt,Math.atan2(P,Math.sqrt(A*A+w*w))*zt]}:function(){return[t*zt,e*zt]};return F.distance=d,F}o.geo.length=function(t){return Bi=0,o.geo.stream(t,Un),Bi};var Bi,Un={sphere:ue,point:ue,lineStart:cl,lineEnd:ue,polygonStart:ue,polygonEnd:ue};function cl(){var t,e,n;Un.point=function(i,a){t=i*_t,e=Math.sin(a*=_t),n=Math.cos(a),Un.point=r},Un.lineEnd=function(){Un.point=Un.lineEnd=ue};function r(i,a){var l=Math.sin(a*=_t),s=Math.cos(a),u=rt((i*=_t)-t),c=Math.cos(u);Bi+=Math.atan2(Math.sqrt((u=s*Math.sin(u))*u+(u=n*l-e*s*c)*u),e*l+n*s*c),t=i,e=l,n=s}}function ar(t,e){function n(r,i){var a=Math.cos(r),l=Math.cos(i),s=t(a*l);return[s*l*Math.sin(r),s*Math.sin(i)]}return n.invert=function(r,i){var a=Math.sqrt(r*r+i*i),l=e(a),s=Math.sin(l),u=Math.cos(l);return[Math.atan2(r*s,a*u),Math.asin(a&&i*s/a)]},n}var io=ar(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return bn(io)}).raw=io;var ao=ar(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ae);(o.geo.azimuthalEquidistant=function(){return bn(ao)}).raw=ao;function oo(t,e){var n=Math.cos(t),r=function(s){return Math.tan(it/4+s/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;if(!i)return Yr;function l(s,u){a>0?u<-bt+Q&&(u=-bt+Q):u>bt-Q&&(u=bt-Q);var c=a/Math.pow(r(u),i);return[c*Math.sin(i*s),a-c*Math.cos(i*s)]}return l.invert=function(s,u){var c=a-u,f=$(i)*Math.sqrt(s*s+c*c);return[Math.atan2(s,c)/i,2*Math.atan(Math.pow(a/f,1/i))-bt]},l}(o.geo.conicConformal=function(){return Si(oo)}).raw=oo;function so(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(rt(r)<Q)return ir;function a(l,s){var u=i-s;return[u*Math.sin(r*l),i-u*Math.cos(r*l)]}return a.invert=function(l,s){var u=i-s;return[Math.atan2(l,u)/r,i-$(r)*Math.sqrt(l*l+u*u)]},a}(o.geo.conicEquidistant=function(){return Si(so)}).raw=so;var lo=ar(function(t){return 1/t},Math.atan);(o.geo.gnomonic=function(){return bn(lo)}).raw=lo;function Yr(t,e){return[t,Math.log(Math.tan(it/4+e/2))]}Yr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-bt]};function uo(t){var e=bn(t),n=e.scale,r=e.translate,i=e.clipExtent,a;return e.scale=function(){var l=n.apply(e,arguments);return l===e?a?e.clipExtent(null):e:l},e.translate=function(){var l=r.apply(e,arguments);return l===e?a?e.clipExtent(null):e:l},e.clipExtent=function(l){var s=i.apply(e,arguments);if(s===e){if(a=l==null){var u=it*n(),c=r();i([[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]])}}else a&&(s=null);return s},e.clipExtent(null)}(o.geo.mercator=function(){return uo(Yr)}).raw=Yr;var co=ar(function(){return 1},Math.asin);(o.geo.orthographic=function(){return bn(co)}).raw=co;var fo=ar(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(o.geo.stereographic=function(){return bn(fo)}).raw=fo;function Di(t,e){return[Math.log(Math.tan(it/4+e/2)),-t]}Di.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-bt]},(o.geo.transverseMercator=function(){var t=uo(Di),e=t.center,n=t.rotate;return t.center=function(r){return r?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return r?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90])}).raw=Di,o.geom={};function Yn(t){return t[0]}function or(t){return t[1]}o.geom.hull=function(t){var e=Yn,n=or;if(arguments.length)return r(t);function r(i){if(i.length<3)return[];var a=de(e),l=de(n),s,u=i.length,c=[],f=[];for(s=0;s<u;s++)c.push([+a.call(this,i[s],s),+l.call(this,i[s],s),s]);for(c.sort(fl),s=0;s<u;s++)f.push([c[s][0],-c[s][1]]);var g=ho(c),d=ho(f),x=d[0]===g[0],F=d[d.length-1]===g[g.length-1],m=[];for(s=g.length-1;s>=0;--s)m.push(i[c[g[s]][2]]);for(s=+x;s<d.length-F;++s)m.push(i[c[d[s]][2]]);return m}return r.x=function(i){return arguments.length?(e=i,r):e},r.y=function(i){return arguments.length?(n=i,r):n},r};function ho(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&X(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function fl(t,e){return t[0]-e[0]||t[1]-e[1]}o.geom.polygon=function(t){return _e(t,Xr),t};var Xr=o.geom.polygon.prototype=[];Xr.area=function(){for(var t=-1,e=this.length,n,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return i*.5},Xr.centroid=function(t){var e=-1,n=this.length,r=0,i=0,a,l=this[n-1],s;for(arguments.length||(t=-1/(6*this.area()));++e<n;)a=l,l=this[e],s=a[0]*l[1]-l[0]*a[1],r+=(a[0]+l[0])*s,i+=(a[1]+l[1])*s;return[r*t,i*t]},Xr.clip=function(t){for(var e,n=go(t),r=-1,i=this.length-go(this),a,l,s=this[i-1],u,c,f;++r<i;){for(e=t.slice(),t.length=0,u=this[r],c=e[(l=e.length-n)-1],a=-1;++a<l;)f=e[a],Ii(f,s,u)?(Ii(c,s,u)||t.push(zi(c,f,s,u)),t.push(f)):Ii(c,s,u)&&t.push(zi(c,f,s,u)),c=f;n&&t.push(t[0]),s=u}return t};function Ii(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function zi(t,e,n,r){var i=t[0],a=n[0],l=e[0]-i,s=r[0]-a,u=t[1],c=n[1],f=e[1]-u,g=r[1]-c,d=(s*(u-c)-g*(i-a))/(g*l-s*f);return[i+d*l,u+d*f]}function go(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}var Xn,Nn,Wn,po=[],Ri,sr,mo=[];function hl(){$r(this),this.edge=this.site=this.circle=null}function _o(t){var e=po.pop()||new hl;return e.site=t,e}function Oi(t){$n(t),Wn.remove(t),po.push(t),$r(t)}function gl(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,l=t.N,s=[t];Oi(t);for(var u=a;u.circle&&rt(n-u.circle.x)<Q&&rt(r-u.circle.cy)<Q;)a=u.P,s.unshift(u),Oi(u),u=a;s.unshift(u),$n(u);for(var c=l;c.circle&&rt(n-c.circle.x)<Q&&rt(r-c.circle.cy)<Q;)l=c.N,s.push(c),Oi(c),c=l;s.push(c),$n(c);var f=s.length,g;for(g=1;g<f;++g)c=s[g],u=s[g-1],Wr(c.edge,u.site,c.site,i);u=s[0],c=s[f-1],c.edge=lr(u.site,c.site,null,i),Zn(u),Zn(c)}function dl(t){for(var e=t.x,n=t.y,r,i,a,l,s=Wn._;s;)if(a=yo(s,n)-e,a>Q)s=s.L;else if(l=e-pl(s,n),l>Q){if(!s.R){r=s;break}s=s.R}else{a>-Q?(r=s.P,i=s):l>-Q?(r=s,i=s.N):r=i=s;break}var u=_o(t);if(Wn.insert(r,u),!(!r&&!i)){if(r===i){$n(r),i=_o(r.site),Wn.insert(u,i),u.edge=i.edge=lr(r.site,u.site),Zn(r),Zn(i);return}if(!i){u.edge=lr(r.site,u.site);return}$n(r),$n(i);var c=r.site,f=c.x,g=c.y,d=t.x-f,x=t.y-g,F=i.site,m=F.x-f,_=F.y-g,v=2*(d*_-x*m),A=d*d+x*x,w=m*m+_*_,P={x:(_*A-x*w)/v+f,y:(d*w-m*A)/v+g};Wr(i.edge,c,F,P),u.edge=lr(c,t,null,P),i.edge=lr(t,F,null,P),Zn(r),Zn(i)}}function yo(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var l=t.P;if(!l)return-1/0;n=l.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var f=s-r,g=1/a-1/c,d=f/c;return g?(-d+Math.sqrt(d*d-2*g*(f*f/(-2*c)-u+c/2+i-a/2)))/g+r:(r+s)/2}function pl(t,e){var n=t.N;if(n)return yo(n,e);var r=t.site;return r.y===e?r.x:1/0}function vo(t){this.site=t,this.edges=[]}vo.prototype.prepare=function(){for(var t=this.edges,e=t.length,n;e--;)n=t[e].edge,(!n.b||!n.a)&&t.splice(e,1);return t.sort(xo),t.length};function ml(t){for(var e=t[0][0],n=t[1][0],r=t[0][1],i=t[1][1],a,l,s,u,c=Nn,f=c.length,g,d,x,F,m,_;f--;)if(g=c[f],!(!g||!g.prepare()))for(x=g.edges,F=x.length,d=0;d<F;)_=x[d].end(),s=_.x,u=_.y,m=x[++d%F].start(),a=m.x,l=m.y,(rt(s-a)>Q||rt(u-l)>Q)&&(x.splice(d,0,new Zr(xl(g.site,_,rt(s-e)<Q&&i-u>Q?{x:e,y:rt(a-e)<Q?l:i}:rt(u-i)<Q&&n-s>Q?{x:rt(l-i)<Q?a:n,y:i}:rt(s-n)<Q&&u-r>Q?{x:n,y:rt(a-n)<Q?l:r}:rt(u-r)<Q&&s-e>Q?{x:rt(l-r)<Q?a:e,y:r}:null),g.site,null)),++F)}function xo(t,e){return e.angle-t.angle}function _l(){$r(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zn(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,i=t.site,a=n.site;if(r!==a){var l=i.x,s=i.y,u=r.x-l,c=r.y-s,f=a.x-l,_=a.y-s,g=2*(u*_-c*f);if(!(g>=-jt)){var d=u*u+c*c,x=f*f+_*_,F=(_*d-c*x)/g,m=(u*x-f*d)/g,_=m+s,v=mo.pop()||new _l;v.arc=t,v.site=i,v.x=F+l,v.y=_+Math.sqrt(F*F+m*m),v.cy=_,t.circle=v;for(var A=null,w=sr._;w;)if(v.y<w.y||v.y===w.y&&v.x<=w.x)if(w.L)w=w.L;else{A=w.P;break}else if(w.R)w=w.R;else{A=w;break}sr.insert(A,v),A||(Ri=v)}}}}function $n(t){var e=t.circle;e&&(e.P||(Ri=e.N),sr.remove(e),mo.push(e),$r(e),t.circle=null)}function yl(t){for(var e=Xn,n=Ga(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length,i;r--;)i=e[r],(!vl(i,t)||!n(i)||rt(i.a.x-i.b.x)<Q&&rt(i.a.y-i.b.y)<Q)&&(i.a=i.b=null,e.splice(r,1))}function vl(t,e){var n=t.b;if(n)return!0;var r=t.a,i=e[0][0],a=e[1][0],l=e[0][1],s=e[1][1],u=t.l,c=t.r,f=u.x,g=u.y,d=c.x,x=c.y,F=(f+d)/2,m=(g+x)/2,_,v;if(x===g){if(F<i||F>=a)return;if(f>d){if(!r)r={x:F,y:l};else if(r.y>=s)return;n={x:F,y:s}}else{if(!r)r={x:F,y:s};else if(r.y<l)return;n={x:F,y:l}}}else if(_=(f-d)/(x-g),v=m-_*F,_<-1||_>1)if(f>d){if(!r)r={x:(l-v)/_,y:l};else if(r.y>=s)return;n={x:(s-v)/_,y:s}}else{if(!r)r={x:(s-v)/_,y:s};else if(r.y<l)return;n={x:(l-v)/_,y:l}}else if(g<x){if(!r)r={x:i,y:_*i+v};else if(r.x>=a)return;n={x:a,y:_*a+v}}else{if(!r)r={x:a,y:_*a+v};else if(r.x<i)return;n={x:i,y:_*i+v}}return t.a=r,t.b=n,!0}function bo(t,e){this.l=t,this.r=e,this.a=this.b=null}function lr(t,e,n,r){var i=new bo(t,e);return Xn.push(i),n&&Wr(i,t,e,n),r&&Wr(i,e,t,r),Nn[t.i].edges.push(new Zr(i,t,e)),Nn[e.i].edges.push(new Zr(i,e,t)),i}function xl(t,e,n){var r=new bo(t,null);return r.a=e,r.b=n,Xn.push(r),r}function Wr(t,e,n,r){!t.a&&!t.b?(t.a=r,t.l=e,t.r=n):t.l===n?t.b=r:t.a=r}function Zr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}Zr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ji(){this._=null}function $r(t){t.U=t.C=t.L=t.R=t.P=t.N=null}ji.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=wo(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ur(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ur(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,l;if(r?i?a=wo(i):a=r:a=i,e?e.L===t?e.L=a:e.R=a:this._=a,r&&i?(l=a.C,a.C=t.C,a.L=r,r.U=a,a!==i?(e=a.U,a.U=t.U,t=a.R,e.L=t,a.R=i,i.U=a):(a.U=e,e=a,t=a.R)):(l=t.C,t=a),t&&(t.U=e),!l){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,ur(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,cr(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,ur(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,cr(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,ur(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,cr(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function ur(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function wo(t){for(;t.L;)t=t.L;return t}function Gi(t,e){var n=t.sort(bl).pop(),r,i,a;for(Xn=[],Nn=new Array(t.length),Wn=new ji,sr=new ji;;)if(a=Ri,n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x))(n.x!==r||n.y!==i)&&(Nn[n.i]=new vo(n),dl(n),r=n.x,i=n.y),n=t.pop();else if(a)gl(a.arc);else break;e&&(yl(e),ml(e));var l={cells:Nn,edges:Xn};return Wn=sr=Xn=Nn=null,l}function bl(t,e){return e.y-t.y||e.x-t.x}o.geom.voronoi=function(t){var e=Yn,n=or,r=e,i=n,a=Kr;if(t)return l(t);function l(u){var c=new Array(u.length),f=a[0][0],g=a[0][1],d=a[1][0],x=a[1][1];return Gi(s(u),a).cells.forEach(function(F,m){var _=F.edges,v=F.site,A=c[m]=_.length?_.map(function(w){var P=w.start();return[P.x,P.y]}):v.x>=f&&v.x<=d&&v.y>=g&&v.y<=x?[[f,x],[d,x],[d,g],[f,g]]:[];A.point=u[m]}),c}function s(u){return u.map(function(c,f){return{x:Math.round(r(c,f)/Q)*Q,y:Math.round(i(c,f)/Q)*Q,i:f}})}return l.links=function(u){return Gi(s(u)).edges.filter(function(c){return c.l&&c.r}).map(function(c){return{source:u[c.l.i],target:u[c.r.i]}})},l.triangles=function(u){var c=[];return Gi(s(u)).cells.forEach(function(f,g){for(var d=f.site,x=f.edges.sort(xo),F=-1,m=x.length,_,v=x[m-1].edge,A=v.l===d?v.r:v.l;++F<m;)_=A,v=x[F].edge,A=v.l===d?v.r:v.l,g<_.i&&g<A.i&&wl(d,_,A)<0&&c.push([u[g],u[_.i],u[A.i]])}),c},l.x=function(u){return arguments.length?(r=de(e=u),l):e},l.y=function(u){return arguments.length?(i=de(n=u),l):n},l.clipExtent=function(u){return arguments.length?(a=u??Kr,l):a===Kr?null:a},l.size=function(u){return arguments.length?l.clipExtent(u&&[[0,0],u]):a===Kr?null:a&&a[1]},l};var Kr=[[-1e6,-1e6],[1e6,1e6]];function wl(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var a=Yn,l=or,s;if(s=arguments.length)return a=kl,l=Cl,s===3&&(i=n,r=e,n=e=0),u(t);function u(c){var f,g=de(a),d=de(l),x,F,m,_,v,A,w,P;if(e!=null)v=e,A=n,w=r,P=i;else if(w=P=-(v=A=1/0),x=[],F=[],_=c.length,s)for(m=0;m<_;++m)f=c[m],f.x<v&&(v=f.x),f.y<A&&(A=f.y),f.x>w&&(w=f.x),f.y>P&&(P=f.y),x.push(f.x),F.push(f.y);else for(m=0;m<_;++m){var W=+g(f=c[m],m),Y=+d(f,m);W<v&&(v=W),Y<A&&(A=Y),W>w&&(w=W),Y>P&&(P=Y),x.push(W),F.push(Y)}var H=w-v,j=P-A;H>j?P=A+H:w=v+j;function st(xt,Ct,tt,ut,yt,nt,mt,Dt){if(!(isNaN(tt)||isNaN(ut)))if(xt.leaf){var Ht=xt.x,Zt=xt.y;if(Ht!=null)if(rt(Ht-tt)+rt(Zt-ut)<.01)ft(xt,Ct,tt,ut,yt,nt,mt,Dt);else{var se=xt.point;xt.x=xt.y=xt.point=null,ft(xt,se,Ht,Zt,yt,nt,mt,Dt),ft(xt,Ct,tt,ut,yt,nt,mt,Dt)}else xt.x=tt,xt.y=ut,xt.point=Ct}else ft(xt,Ct,tt,ut,yt,nt,mt,Dt)}function ft(xt,Ct,tt,ut,yt,nt,mt,Dt){var Ht=(yt+mt)*.5,Zt=(nt+Dt)*.5,se=tt>=Ht,pe=ut>=Zt,Ee=pe<<1|se;xt.leaf=!1,xt=xt.nodes[Ee]||(xt.nodes[Ee]=ko()),se?yt=Ht:mt=Ht,pe?nt=Zt:Dt=Zt,st(xt,Ct,tt,ut,yt,nt,mt,Dt)}var At=ko();if(At.add=function(xt){st(At,xt,+g(xt,++m),+d(xt,m),v,A,w,P)},At.visit=function(xt){fr(xt,At,v,A,w,P)},At.find=function(xt){return Ml(At,xt[0],xt[1],v,A,w,P)},m=-1,e==null){for(;++m<_;)st(At,c[m],x[m],F[m],v,A,w,P);--m}else c.forEach(At.add);return x=F=c=f=null,At}return u.x=function(c){return arguments.length?(a=c,u):a},u.y=function(c){return arguments.length?(l=c,u):l},u.extent=function(c){return arguments.length?(c==null?e=n=r=i=null:(e=+c[0][0],n=+c[0][1],r=+c[1][0],i=+c[1][1]),u):e==null?null:[[e,n],[r,i]]},u.size=function(c){return arguments.length?(c==null?e=n=r=i=null:(e=n=0,r=+c[0],i=+c[1]),u):e==null?null:[r-e,i-n]},u};function kl(t){return t.x}function Cl(t){return t.y}function ko(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fr(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var l=(n+i)*.5,s=(r+a)*.5,u=e.nodes;u[0]&&fr(t,u[0],n,r,l,s),u[1]&&fr(t,u[1],l,r,i,s),u[2]&&fr(t,u[2],n,s,l,a),u[3]&&fr(t,u[3],l,s,i,a)}}function Ml(t,e,n,r,i,a,l){var s=1/0,u;return function c(f,g,d,x,F){if(!(g>a||d>l||x<r||F<i)){if(m=f.point){var m,_=e-f.x,v=n-f.y,A=_*_+v*v;if(A<s){var w=Math.sqrt(s=A);r=e-w,i=n-w,a=e+w,l=n+w,u=m}}for(var P=f.nodes,W=(g+x)*.5,Y=(d+F)*.5,H=e>=W,j=n>=Y,st=j<<1|H,ft=st+4;st<ft;++st)if(f=P[st&3])switch(st&3){case 0:c(f,g,d,W,Y);break;case 1:c(f,W,d,x,Y);break;case 2:c(f,g,Y,W,F);break;case 3:c(f,W,Y,x,F);break}}}(t,r,i,a,l),u}o.interpolateRgb=Vi;function Vi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,l=e.g-r,s=e.b-i;return function(u){return"#"+Gn(Math.round(n+a*u))+Gn(Math.round(r+l*u))+Gn(Math.round(i+s*u))}}o.interpolateObject=Co;function Co(t,e){var n={},r={},i;for(i in t)i in e?n[i]=En(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(a){for(i in n)r[i]=n[i](a);return r}}o.interpolateNumber=pn;function pn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}o.interpolateString=Mo;function Mo(t,e){var n=qi.lastIndex=Hi.lastIndex=0,r,i,a,l=-1,s=[],u=[];for(t=t+"",e=e+"";(r=qi.exec(t))&&(i=Hi.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[l]?s[l]+=a:s[++l]=a),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,u.push({i:l,x:pn(r,i)})),n=Hi.lastIndex;return n<e.length&&(a=e.slice(n),s[l]?s[l]+=a:s[++l]=a),s.length<2?u[0]?(e=u[0].x,function(c){return e(c)+""}):function(){return e}:(e=u.length,function(c){for(var f=0,g;f<e;++f)s[(g=u[f]).i]=g.x(c);return s.join("")})}var qi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hi=new RegExp(qi.source,"g");o.interpolate=En;function En(t,e){for(var n=o.interpolators.length,r;--n>=0&&!(r=o.interpolators[n](t,e)););return r}o.interpolators=[function(t,e){var n=typeof e;return(n==="string"?br.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Vi:Mo:e instanceof Kt?Vi:Array.isArray(e)?Jr:n==="object"&&isNaN(e)?Co:pn)(t,e)}],o.interpolateArray=Jr;function Jr(t,e){var n=[],r=[],i=t.length,a=e.length,l=Math.min(t.length,e.length),s;for(s=0;s<l;++s)n.push(En(t[s],e[s]));for(;s<i;++s)r[s]=t[s];for(;s<a;++s)r[s]=e[s];return function(u){for(s=0;s<l;++s)r[s]=n[s](u);return r}}var So=function(){return ae},Sl=o.map({linear:So,poly:Nl,quad:function(){return Al},cubic:function(){return Ll},sin:function(){return El},exp:function(){return Bl},circle:function(){return Dl},elastic:Il,back:zl,bounce:function(){return Rl}}),Pl=o.map({in:ae,out:Po,"in-out":Fo,"out-in":function(t){return Fo(Po(t))}});o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=Sl.get(n)||So,r=Pl.get(r)||ae,Fl(r(n.apply(null,h.call(arguments,1))))};function Fl(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Po(t){return function(e){return 1-t(1-e)}}function Fo(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}}function Al(t){return t*t}function Ll(t){return t*t*t}function Tl(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Nl(t){return function(e){return Math.pow(e,t)}}function El(t){return 1-Math.cos(t*bt)}function Bl(t){return Math.pow(2,10*(t-1))}function Dl(t){return 1-Math.sqrt(1-t*t)}function Il(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/K*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*K/e)}}function zl(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Rl(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}o.interpolateHcl=Ol;function Ol(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,l=e.c-r,s=e.l-i;return isNaN(l)&&(l=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(u){return Ge(n+a*u,r+l*u,i+s*u)+""}}o.interpolateHsl=jl;function jl(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,l=e.s-r,s=e.l-i;return isNaN(l)&&(l=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(u){return Mn(n+a*u,r+l*u,i+s*u)+""}}o.interpolateLab=Gl;function Gl(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,l=e.a-r,s=e.b-i;return function(u){return jn(n+a*u,r+l*u,i+s*u)+""}}o.interpolateRound=Ao;function Ao(t,e){return e-=t,function(n){return Math.round(t+e*n)}}o.transform=function(t){var e=y.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(n){if(n!=null){e.setAttribute("transform",n);var r=e.transform.baseVal.consolidate()}return new Lo(r?r.matrix:ql)})(t)};function Lo(t){var e=[t.a,t.b],n=[t.c,t.d],r=No(e),i=To(e,n),a=No(Vl(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*zt,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*zt:0}Lo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function To(t,e){return t[0]*e[0]+t[1]*e[1]}function No(t){var e=Math.sqrt(To(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vl(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}var ql={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=Eo;function Kn(t){return t.length?t.pop()+",":""}function Hl(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:pn(t[0],e[0])},{i:i-2,x:pn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Ul(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Kn(n)+"rotate(",null,")")-2,x:pn(t,e)})):e&&n.push(Kn(n)+"rotate("+e+")")}function Yl(t,e,n,r){t!==e?r.push({i:n.push(Kn(n)+"skewX(",null,")")-2,x:pn(t,e)}):e&&n.push(Kn(n)+"skewX("+e+")")}function Xl(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Kn(n)+"scale(",null,",",null,")");r.push({i:i-4,x:pn(t[0],e[0])},{i:i-2,x:pn(t[1],e[1])})}else(e[0]!==1||e[1]!==1)&&n.push(Kn(n)+"scale("+e+")")}function Eo(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),Hl(t.translate,e.translate,n,r),Ul(t.rotate,e.rotate,n,r),Yl(t.skew,e.skew,n,r),Xl(t.scale,e.scale,n,r),t=e=null,function(i){for(var a=-1,l=r.length,s;++a<l;)n[(s=r[a]).i]=s.x(i);return n.join("")}}function Wl(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Zl(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push($l(t[n]));return e}};function $l(t){for(var e=t.source,n=t.target,r=Kl(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Bo(t){for(var e=[],n=t.parent;n!=null;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Kl(t,e){if(t===e)return t;for(var n=Bo(t),r=Bo(e),i=n.pop(),a=r.pop(),l=null;i===a;)l=i,i=n.pop(),a=r.pop();return l}o.layout.chord=function(){var t={},e,n,r,i,a=0,l,s,u;function c(){var g={},d=[],x=o.range(i),F=[],m,_,v,A,w;for(e=[],n=[],m=0,A=-1;++A<i;){for(_=0,w=-1;++w<i;)_+=r[A][w];d.push(_),F.push(o.range(i)),m+=_}for(l&&x.sort(function(At,xt){return l(d[At],d[xt])}),s&&F.forEach(function(At,xt){At.sort(function(Ct,tt){return s(r[xt][Ct],r[xt][tt])})}),m=(K-a*i)/m,_=0,A=-1;++A<i;){for(v=_,w=-1;++w<i;){var P=x[A],W=F[P][w],Y=r[P][W],H=_,j=_+=Y*m;g[P+"-"+W]={index:P,subindex:W,startAngle:H,endAngle:j,value:Y}}n[P]={index:P,startAngle:v,endAngle:_,value:(_-v)/m},_+=a}for(A=-1;++A<i;)for(w=A-1;++w<i;){var st=g[A+"-"+w],ft=g[w+"-"+A];(st.value||ft.value)&&e.push(st.value<ft.value?{source:ft,target:st}:{source:st,target:ft})}u&&f()}function f(){e.sort(function(g,d){return u((g.source.value+g.target.value)/2,(d.source.value+d.target.value)/2)})}return t.matrix=function(g){return arguments.length?(i=(r=g)&&r.length,e=n=null,t):r},t.padding=function(g){return arguments.length?(a=g,e=n=null,t):a},t.sortGroups=function(g){return arguments.length?(l=g,e=n=null,t):l},t.sortSubgroups=function(g){return arguments.length?(s=g,e=null,t):s},t.sortChords=function(g){return arguments.length?(u=g,e&&f(),t):u},t.chords=function(){return e||c(),e},t.groups=function(){return n||c(),n},t},o.layout.force=function(){var t={},e=o.dispatch("start","tick","end"),n,r=[1,1],i,a,l=.9,s=nu,u=ru,c=-30,f=iu,g=.1,d=.64,x=[],F=[],m,_,v;function A(P){return function(W,Y,H,j){if(W.point!==P){var st=W.cx-P.x,ft=W.cy-P.y,At=j-Y,xt=st*st+ft*ft;if(At*At/d<xt){if(xt<f){var Ct=W.charge/xt;P.px-=st*Ct,P.py-=ft*Ct}return!0}if(W.point&&xt&&xt<f){var Ct=W.pointCharge/xt;P.px-=st*Ct,P.py-=ft*Ct}}return!W.charge}}t.tick=function(){if((a*=.99)<.005)return n=null,e.end({type:"end",alpha:a=0}),!0;var P=x.length,W=F.length,Y,H,j,st,ft,At,xt,Ct,tt;for(H=0;H<W;++H)j=F[H],st=j.source,ft=j.target,Ct=ft.x-st.x,tt=ft.y-st.y,(At=Ct*Ct+tt*tt)&&(At=a*_[H]*((At=Math.sqrt(At))-m[H])/At,Ct*=At,tt*=At,ft.x-=Ct*(xt=st.weight+ft.weight?st.weight/(st.weight+ft.weight):.5),ft.y-=tt*xt,st.x+=Ct*(xt=1-xt),st.y+=tt*xt);if((xt=a*g)&&(Ct=r[0]/2,tt=r[1]/2,H=-1,xt))for(;++H<P;)j=x[H],j.x+=(Ct-j.x)*xt,j.y+=(tt-j.y)*xt;if(c)for(Do(Y=o.geom.quadtree(x),a,v),H=-1;++H<P;)(j=x[H]).fixed||Y.visit(A(j));for(H=-1;++H<P;)j=x[H],j.fixed?(j.x=j.px,j.y=j.py):(j.x-=(j.px-(j.px=j.x))*l,j.y-=(j.py-(j.py=j.y))*l);e.tick({type:"tick",alpha:a})},t.nodes=function(P){return arguments.length?(x=P,t):x},t.links=function(P){return arguments.length?(F=P,t):F},t.size=function(P){return arguments.length?(r=P,t):r},t.linkDistance=function(P){return arguments.length?(s=typeof P=="function"?P:+P,t):s},t.distance=t.linkDistance,t.linkStrength=function(P){return arguments.length?(u=typeof P=="function"?P:+P,t):u},t.friction=function(P){return arguments.length?(l=+P,t):l},t.charge=function(P){return arguments.length?(c=typeof P=="function"?P:+P,t):c},t.chargeDistance=function(P){return arguments.length?(f=P*P,t):Math.sqrt(f)},t.gravity=function(P){return arguments.length?(g=+P,t):g},t.theta=function(P){return arguments.length?(d=P*P,t):Math.sqrt(d)},t.alpha=function(P){return arguments.length?(P=+P,a?P>0?a=P:(n.c=null,n.t=NaN,n=null,e.start({type:"end",alpha:a=0})):P>0&&(e.start({type:"start",alpha:a=P}),n=Pr(t.tick)),t):a},t.start=function(){var P,W=x.length,Y=F.length,H=r[0],j=r[1],st,ft;for(P=0;P<W;++P)(ft=x[P]).index=P,ft.weight=0;for(P=0;P<Y;++P)ft=F[P],typeof ft.source=="number"&&(ft.source=x[ft.source]),typeof ft.target=="number"&&(ft.target=x[ft.target]),++ft.source.weight,++ft.target.weight;for(P=0;P<W;++P)ft=x[P],isNaN(ft.x)&&(ft.x=At("x",H)),isNaN(ft.y)&&(ft.y=At("y",j)),isNaN(ft.px)&&(ft.px=ft.x),isNaN(ft.py)&&(ft.py=ft.y);if(m=[],typeof s=="function")for(P=0;P<Y;++P)m[P]=+s.call(this,F[P],P);else for(P=0;P<Y;++P)m[P]=s;if(_=[],typeof u=="function")for(P=0;P<Y;++P)_[P]=+u.call(this,F[P],P);else for(P=0;P<Y;++P)_[P]=u;if(v=[],typeof c=="function")for(P=0;P<W;++P)v[P]=+c.call(this,x[P],P);else for(P=0;P<W;++P)v[P]=c;function At(xt,Ct){if(!st){for(st=new Array(W),yt=0;yt<W;++yt)st[yt]=[];for(yt=0;yt<Y;++yt){var tt=F[yt];st[tt.source.index].push(tt.target),st[tt.target.index].push(tt.source)}}for(var ut=st[P],yt=-1,nt=ut.length,mt;++yt<nt;)if(!isNaN(mt=ut[yt][xt]))return mt;return Math.random()*Ct}return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){if(i||(i=o.behavior.drag().origin(ae).on("dragstart.force",Jl).on("drag.force",w).on("dragend.force",Ql)),!arguments.length)return i;this.on("mouseover.force",tu).on("mouseout.force",eu).call(i)};function w(P){P.px=o.event.x,P.py=o.event.y,t.resume()}return o.rebind(t,e,"on")};function Jl(t){t.fixed|=2}function Ql(t){t.fixed&=-7}function tu(t){t.fixed|=4,t.px=t.x,t.py=t.y}function eu(t){t.fixed&=-5}function Do(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a=t.nodes,l=a.length,s=-1,u;++s<l;)u=a[s],u!=null&&(Do(u,e,n),t.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}var nu=20,ru=1,iu=1/0;o.layout.hierarchy=function(){var t=su,e=au,n=ou;function r(i){var a=[i],l=[],s;for(i.depth=0;(s=a.pop())!=null;)if(l.push(s),(c=e.call(r,s,s.depth))&&(u=c.length)){for(var u,c,f;--u>=0;)a.push(f=c[u]),f.parent=s,f.depth=s.depth+1;n&&(s.value=0),s.children=c}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return sn(i,function(g){var d,x;t&&(d=g.children)&&d.sort(t),n&&(x=g.parent)&&(x.value+=g.value)}),l}return r.sort=function(i){return arguments.length?(t=i,r):t},r.children=function(i){return arguments.length?(e=i,r):e},r.value=function(i){return arguments.length?(n=i,r):n},r.revalue=function(i){return n&&(gr(i,function(a){a.children&&(a.value=0)}),sn(i,function(a){var l;a.children||(a.value=+n.call(r,a,a.depth)||0),(l=a.parent)&&(l.value+=a.value)})),i},r};function hr(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=lu,t}function gr(t,e){for(var n=[t];(t=n.pop())!=null;)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function sn(t,e){for(var n=[t],r=[];(t=n.pop())!=null;)if(r.push(t),(l=t.children)&&(a=l.length))for(var i=-1,a,l;++i<a;)n.push(l[i]);for(;(t=r.pop())!=null;)e(t)}function au(t){return t.children}function ou(t){return t.value}function su(t,e){return e.value-t.value}function lu(t){return o.merge(t.map(function(e){return(e.children||[]).map(function(n){return{source:e,target:n}})}))}o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(a,l,s,u){var c=a.children;if(a.x=l,a.y=a.depth*u,a.dx=s,a.dy=u,c&&(g=c.length)){var f=-1,g,d,x;for(s=a.value?s/a.value:0;++f<g;)n(d=c[f],l,x=d.value*s,u),l+=x}}function r(a){var l=a.children,s=0;if(l&&(c=l.length))for(var u=-1,c;++u<c;)s=Math.max(s,r(l[u]));return 1+s}function i(a,l){var s=t.call(this,a,l);return n(s[0],0,e[0],e[1]/r(s[0])),s}return i.size=function(a){return arguments.length?(e=a,i):e},hr(i,t)},o.layout.pie=function(){var t=Number,e=Io,n=0,r=K,i=0;function a(l){var s=l.length,u=l.map(function(A,w){return+t.call(a,A,w)}),c=+(typeof n=="function"?n.apply(this,arguments):n),f=(typeof r=="function"?r.apply(this,arguments):r)-c,g=Math.min(Math.abs(f)/s,+(typeof i=="function"?i.apply(this,arguments):i)),d=g*(f<0?-1:1),x=o.sum(u),F=x?(f-s*d)/x:0,m=o.range(s),_=[],v;return e!=null&&m.sort(e===Io?function(A,w){return u[w]-u[A]}:function(A,w){return e(l[A],l[w])}),m.forEach(function(A){_[A]={data:l[A],value:v=u[A],startAngle:c,endAngle:c+=v*F+d,padAngle:g}}),_}return a.value=function(l){return arguments.length?(t=l,a):t},a.sort=function(l){return arguments.length?(e=l,a):e},a.startAngle=function(l){return arguments.length?(n=l,a):n},a.endAngle=function(l){return arguments.length?(r=l,a):r},a.padAngle=function(l){return arguments.length?(i=l,a):i},a};var Io={};o.layout.stack=function(){var t=ae,e=Ui,n=Yi,r=fu,i=uu,a=cu;function l(s,u){if(!(F=s.length))return s;var c=s.map(function(A,w){return t.call(l,A,w)}),f=c.map(function(A){return A.map(function(w,P){return[i.call(l,w,P),a.call(l,w,P)]})}),g=e.call(l,f,u);c=o.permute(c,g),f=o.permute(f,g);var d=n.call(l,f,u),x=c[0].length,F,m,_,v;for(_=0;_<x;++_)for(r.call(l,c[0][_],v=d[_],f[0][_][1]),m=1;m<F;++m)r.call(l,c[m][_],v+=f[m-1][_][1],f[m][_][1]);return s}return l.values=function(s){return arguments.length?(t=s,l):t},l.order=function(s){return arguments.length?(e=typeof s=="function"?s:hu.get(s)||Ui,l):e},l.offset=function(s){return arguments.length?(n=typeof s=="function"?s:gu.get(s)||Yi,l):n},l.x=function(s){return arguments.length?(i=s,l):i},l.y=function(s){return arguments.length?(a=s,l):a},l.out=function(s){return arguments.length?(r=s,l):r},l};function uu(t){return t.x}function cu(t){return t.y}function fu(t,e,n){t.y0=e,t.y=n}var hu=o.map({"inside-out":function(t){var e=t.length,n,r,i=t.map(du),a=t.map(pu),l=o.range(e).sort(function(g,d){return i[g]-i[d]}),s=0,u=0,c=[],f=[];for(n=0;n<e;++n)r=l[n],s<u?(s+=a[r],c.push(r)):(u+=a[r],f.push(r));return f.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Ui}),gu=o.map({silhouette:function(t){var e=t.length,n=t[0].length,r=[],i=0,a,l,s,u=[];for(l=0;l<n;++l){for(a=0,s=0;a<e;a++)s+=t[a][l][1];s>i&&(i=s),r.push(s)}for(l=0;l<n;++l)u[l]=(i-r[l])/2;return u},wiggle:function(t){var e=t.length,n=t[0],r=n.length,i,a,l,s,u,c,f,g,d,x=[];for(x[0]=g=d=0,a=1;a<r;++a){for(i=0,s=0;i<e;++i)s+=t[i][a][1];for(i=0,u=0,f=n[a][0]-n[a-1][0];i<e;++i){for(l=0,c=(t[i][a][1]-t[i][a-1][1])/(2*f);l<i;++l)c+=(t[l][a][1]-t[l][a-1][1])/f;u+=c*t[i][a][1]}x[a]=g-=s?u/s*f:0,g<d&&(d=g)}for(a=0;a<r;++a)x[a]-=d;return x},expand:function(t){var e=t.length,n=t[0].length,r=1/e,i,a,l,s=[];for(a=0;a<n;++a){for(i=0,l=0;i<e;i++)l+=t[i][a][1];if(l)for(i=0;i<e;i++)t[i][a][1]/=l;else for(i=0;i<e;i++)t[i][a][1]=r}for(a=0;a<n;++a)s[a]=0;return s},zero:Yi});function Ui(t){return o.range(t.length)}function Yi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function du(t){for(var e=1,n=0,r=t[0][1],i,a=t.length;e<a;++e)(i=t[e][1])>r&&(n=e,r=i);return n}function pu(t){return t.reduce(mu,0)}function mu(t,e){return t+e[1]}o.layout.histogram=function(){var t=!0,e=Number,n=yu,r=_u;function i(a,d){for(var s=[],u=a.map(e,this),c=n.call(this,u,d),f=r.call(this,c,u,d),g,d=-1,x=u.length,F=f.length-1,m=t?1:1/x,_;++d<F;)g=s[d]=[],g.dx=f[d+1]-(g.x=f[d]),g.y=0;if(F>0)for(d=-1;++d<x;)_=u[d],_>=c[0]&&_<=c[1]&&(g=s[o.bisect(f,_,1,F)-1],g.y+=m,g.push(a[d]));return s}return i.value=function(a){return arguments.length?(e=a,i):e},i.range=function(a){return arguments.length?(n=de(a),i):n},i.bins=function(a){return arguments.length?(r=typeof a=="number"?function(l){return zo(l,a)}:de(a),i):r},i.frequency=function(a){return arguments.length?(t=!!a,i):t},i};function _u(t,e){return zo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function zo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function yu(t){return[o.min(t),o.max(t)]}o.layout.pack=function(){var t=o.layout.hierarchy().sort(vu),e=0,n=[1,1],r;function i(a,l){var s=t.call(this,a,l),u=s[0],c=n[0],f=n[1],g=r==null?Math.sqrt:typeof r=="function"?r:function(){return r};if(u.x=u.y=0,sn(u,function(x){x.r=+g(x.value)}),sn(u,jo),e){var d=e*(r?1:Math.max(2*u.r/c,2*u.r/f))/2;sn(u,function(x){x.r+=d}),sn(u,jo),sn(u,function(x){x.r-=d})}return Go(u,c/2,f/2,r?1:1/Math.max(2*u.r/c,2*u.r/f)),s}return i.size=function(a){return arguments.length?(n=a,i):n},i.radius=function(a){return arguments.length?(r=a==null||typeof a=="function"?a:+a,i):r},i.padding=function(a){return arguments.length?(e=+a,i):e},hr(i,t)};function vu(t,e){return t.value-e.value}function Xi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ro(t,e){t._pack_next=e,e._pack_prev=t}function Oo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return .999*i*i>n*n+r*r}function jo(t){if(!(e=t.children)||!(d=e.length))return;var e,n=1/0,r=-1/0,i=1/0,a=-1/0,l,s,u,c,f,g,d;function x(P){n=Math.min(P.x-P.r,n),r=Math.max(P.x+P.r,r),i=Math.min(P.y-P.r,i),a=Math.max(P.y+P.r,a)}if(e.forEach(xu),l=e[0],l.x=-l.r,l.y=0,x(l),d>1&&(s=e[1],s.x=s.r,s.y=0,x(s),d>2))for(u=e[2],Vo(l,s,u),x(u),Xi(l,u),l._pack_prev=u,Xi(u,s),s=l._pack_next,c=3;c<d;c++){Vo(l,s,u=e[c]);var F=0,m=1,_=1;for(f=s._pack_next;f!==s;f=f._pack_next,m++)if(Oo(f,u)){F=1;break}if(F==1)for(g=l._pack_prev;g!==f._pack_prev&&!Oo(g,u);g=g._pack_prev,_++);F?(m<_||m==_&&s.r<l.r?Ro(l,s=f):Ro(l=g,s),c--):(Xi(l,u),s=u,x(u))}var v=(n+r)/2,A=(i+a)/2,w=0;for(c=0;c<d;c++)u=e[c],u.x-=v,u.y-=A,w=Math.max(w,u.r+Math.sqrt(u.x*u.x+u.y*u.y));t.r=w,e.forEach(bu)}function xu(t){t._pack_next=t._pack_prev=t}function bu(t){delete t._pack_next,delete t._pack_prev}function Go(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,l=i.length;++a<l;)Go(i[a],e,n,r)}function Vo(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var l=e.r+n.r,s=i*i+a*a;l*=l,r*=r;var u=.5+(r-l)/(2*s),c=Math.sqrt(Math.max(0,2*l*(r+s)-(r-=s)*r-l*l))/(2*s);n.x=t.x+u*i+c*a,n.y=t.y+u*a-c*i}else n.x=t.x+r,n.y=t.y}o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=qo,n=[1,1],r=null;function i(f,g){var d=t.call(this,f,g),x=d[0],F=a(x);if(sn(F,l),F.parent.m=-F.z,gr(F,s),r)gr(x,c);else{var m=x,_=x,v=x;gr(x,function(W){W.x<m.x&&(m=W),W.x>_.x&&(_=W),W.depth>v.depth&&(v=W)});var A=e(m,_)/2-m.x,w=n[0]/(_.x+e(_,m)/2+A),P=n[1]/(v.depth||1);gr(x,function(W){W.x=(W.x+A)*w,W.y=W.depth*P})}return d}function a(f){for(var g={A:null,children:[f]},d=[g],x;(x=d.pop())!=null;)for(var F=x.children,m,_=0,v=F.length;_<v;++_)d.push((F[_]=m={_:F[_],parent:x,children:(m=F[_].children)&&m.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:_}).a=m);return g.children[0]}function l(f){var g=f.children,d=f.parent.children,x=f.i?d[f.i-1]:null;if(g.length){ku(f);var F=(g[0].z+g[g.length-1].z)/2;x?(f.z=x.z+e(f._,x._),f.m=f.z-F):f.z=F}else x&&(f.z=x.z+e(f._,x._));f.parent.A=u(f,x,f.parent.A||d[0])}function s(f){f._.x=f.z+f.parent.m,f.m+=f.parent.m}function u(f,g,d){if(g){for(var x=f,F=f,m=g,_=x.parent.children[0],v=x.m,A=F.m,w=m.m,P=_.m,W;m=Zi(m),x=Wi(x),m&&x;)_=Wi(_),F=Zi(F),F.a=f,W=m.z+w-x.z-v+e(m._,x._),W>0&&(wu(Cu(m,f,d),f,W),v+=W,A+=W),w+=m.m,v+=x.m,P+=_.m,A+=F.m;m&&!Zi(F)&&(F.t=m,F.m+=w-A),x&&!Wi(_)&&(_.t=x,_.m+=v-P,d=f)}return d}function c(f){f.x*=n[0],f.y=f.depth*n[1]}return i.separation=function(f){return arguments.length?(e=f,i):e},i.size=function(f){return arguments.length?(r=(n=f)==null?c:null,i):r?null:n},i.nodeSize=function(f){return arguments.length?(r=(n=f)==null?null:c,i):r?n:null},hr(i,t)};function qo(t,e){return t.parent==e.parent?1:2}function Wi(t){var e=t.children;return e.length?e[0]:t.t}function Zi(t){var e=t.children,n;return(n=e.length)?e[n-1]:t.t}function wu(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ku(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function Cu(t,e,n){return t.a.parent===e.parent?t.a:n}o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=qo,n=[1,1],r=!1;function i(a,l){var s=t.call(this,a,l),u=s[0],c,f=0;sn(u,function(m){var _=m.children;_&&_.length?(m.x=Su(_),m.y=Mu(_)):(m.x=c?f+=e(m,c):0,m.y=0,c=m)});var g=Ho(u),d=Uo(u),x=g.x-e(g,d)/2,F=d.x+e(d,g)/2;return sn(u,r?function(m){m.x=(m.x-u.x)*n[0],m.y=(u.y-m.y)*n[1]}:function(m){m.x=(m.x-x)/(F-x)*n[0],m.y=(1-(u.y?m.y/u.y:1))*n[1]}),s}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=(n=a)==null,i):r?null:n},i.nodeSize=function(a){return arguments.length?(r=(n=a)!=null,i):r?n:null},hr(i,t)};function Mu(t){return 1+o.max(t,function(e){return e.y})}function Su(t){return t.reduce(function(e,n){return e+n.x},0)/t.length}function Ho(t){var e=t.children;return e&&e.length?Ho(e[0]):t}function Uo(t){var e=t.children,n;return e&&(n=e.length)?Uo(e[n-1]):t}o.layout.treemap=function(){var t=o.layout.hierarchy(),e=Math.round,n=[1,1],r=null,i=$i,a=!1,l,s="squarify",u=.5*(1+Math.sqrt(5));function c(m,_){for(var v=-1,A=m.length,w,P;++v<A;)P=(w=m[v]).value*(_<0?0:_),w.area=isNaN(P)||P<=0?0:P}function f(m){var _=m.children;if(_&&_.length){var v=i(m),A=[],w=_.slice(),P,W=1/0,Y,H=s==="slice"?v.dx:s==="dice"?v.dy:s==="slice-dice"?m.depth&1?v.dy:v.dx:Math.min(v.dx,v.dy),j;for(c(w,v.dx*v.dy/m.value),A.area=0;(j=w.length)>0;)A.push(P=w[j-1]),A.area+=P.area,s!=="squarify"||(Y=d(A,H))<=W?(w.pop(),W=Y):(A.area-=A.pop().area,x(A,H,v,!1),H=Math.min(v.dx,v.dy),A.length=A.area=0,W=1/0);A.length&&(x(A,H,v,!0),A.length=A.area=0),_.forEach(f)}}function g(m){var _=m.children;if(_&&_.length){var v=i(m),A=_.slice(),w,P=[];for(c(A,v.dx*v.dy/m.value),P.area=0;w=A.pop();)P.push(w),P.area+=w.area,w.z!=null&&(x(P,w.z?v.dx:v.dy,v,!A.length),P.length=P.area=0);_.forEach(g)}}function d(m,_){for(var v=m.area,A,w=0,P=1/0,W=-1,Y=m.length;++W<Y;)(A=m[W].area)&&(A<P&&(P=A),A>w&&(w=A));return v*=v,_*=_,v?Math.max(_*w*u/v,v/(_*P*u)):1/0}function x(m,_,v,A){var w=-1,P=m.length,W=v.x,Y=v.y,H=_?e(m.area/_):0,j;if(_==v.dx){for((A||H>v.dy)&&(H=v.dy);++w<P;)j=m[w],j.x=W,j.y=Y,j.dy=H,W+=j.dx=Math.min(v.x+v.dx-W,H?e(j.area/H):0);j.z=!0,j.dx+=v.x+v.dx-W,v.y+=H,v.dy-=H}else{for((A||H>v.dx)&&(H=v.dx);++w<P;)j=m[w],j.x=W,j.y=Y,j.dx=H,Y+=j.dy=Math.min(v.y+v.dy-Y,H?e(j.area/H):0);j.z=!1,j.dy+=v.y+v.dy-Y,v.x+=H,v.dx-=H}}function F(m){var _=l||t(m),v=_[0];return v.x=v.y=0,v.value?(v.dx=n[0],v.dy=n[1]):v.dx=v.dy=0,l&&t.revalue(v),c([v],v.dx*v.dy/v.value),(l?g:f)(v),a&&(l=_),_}return F.size=function(m){return arguments.length?(n=m,F):n},F.padding=function(m){if(!arguments.length)return r;function _(w){var P=m.call(F,w,w.depth);return P==null?$i(w):Yo(w,typeof P=="number"?[P,P,P,P]:P)}function v(w){return Yo(w,m)}var A;return i=(r=m)==null?$i:(A=typeof m)=="function"?_:(A==="number"&&(m=[m,m,m,m]),v),F},F.round=function(m){return arguments.length?(e=m?Math.round:Number,F):e!=Number},F.sticky=function(m){return arguments.length?(a=m,l=null,F):a},F.ratio=function(m){return arguments.length?(u=m,F):u},F.mode=function(m){return arguments.length?(s=m+"",F):s},hr(F,t)};function $i(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Yo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var r,i,a;do r=Math.random()*2-1,i=Math.random()*2-1,a=r*r+i*i;while(!a||a>1);return t+e*r*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};function Jn(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Qr(t){return t.rangeExtent?t.rangeExtent():Jn(t.range())}function Pu(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(l){return a(i(l))}}function Ki(t,e){var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Fu(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Au}var Au={floor:ae,ceil:ae};function Lu(t,e,n,r){var i=[],a=[],l=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<=s;)i.push(n(t[l-1],t[l])),a.push(r(e[l-1],e[l]));return function(u){var c=o.bisect(t,u,1,s)-1;return a[c](i[c](u))}}o.scale.linear=function(){return Xo([0,1],[0,1],En,!1)};function Xo(t,e,n,r){var i,a;function l(){var u=Math.min(t.length,e.length)>2?Lu:Pu,c=r?Zl:Wl;return i=u(t,e,c,n),a=u(e,t,c,En),s}function s(u){return i(u)}return s.invert=function(u){return a(u)},s.domain=function(u){return arguments.length?(t=u.map(Number),l()):t},s.range=function(u){return arguments.length?(e=u,l()):e},s.rangeRound=function(u){return s.range(u).interpolate(Ao)},s.clamp=function(u){return arguments.length?(r=u,l()):r},s.interpolate=function(u){return arguments.length?(n=u,l()):n},s.ticks=function(u){return Qi(t,u)},s.tickFormat=function(u,c){return ta(t,u,c)},s.nice=function(u){return Wo(t,u),l()},s.copy=function(){return Xo(t,e,n,r)},l()}function Ji(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Wo(t,e){return Ki(t,Fu(dr(t,e)[2]))}function dr(t,e){e==null&&(e=10);var n=Jn(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function Qi(t,e){return o.range.apply(o,dr(t,e))}function ta(t,e,n){var r=dr(t,e);if(n){var i=ka.exec(n);if(i.shift(),i[8]==="s"){var a=o.formatPrefix(Math.max(rt(r[0]),rt(r[1])));return i[7]||(i[7]="."+ti(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(l){return n(a.scale(l))+a.symbol}}i[7]||(i[7]="."+Nu(i[8],r)),n=i.join("")}else n=",."+ti(r[2])+"f";return o.format(n)}var Tu={s:1,g:1,p:1,r:1,e:1};function ti(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Nu(t,e){var n=ti(e[2]);return t in Tu?Math.abs(n-ti(Math.max(rt(e[0]),rt(e[1]))))+ +(t!=="e"):n-(t==="%")*2}o.scale.log=function(){return Zo(o.scale.linear().domain([0,1]),10,!0,[1,10])};function Zo(t,e,n,r){function i(s){return(n?Math.log(s<0?0:s):-Math.log(s>0?0:-s))/Math.log(e)}function a(s){return n?Math.pow(e,s):-Math.pow(e,-s)}function l(s){return t(i(s))}return l.invert=function(s){return a(t.invert(s))},l.domain=function(s){return arguments.length?(n=s[0]>=0,t.domain((r=s.map(Number)).map(i)),l):r},l.base=function(s){return arguments.length?(e=+s,t.domain(r.map(i)),l):e},l.nice=function(){var s=Ki(r.map(i),n?Math:Eu);return t.domain(s),r=s.map(a),l},l.ticks=function(){var s=Jn(r),u=[],c=s[0],f=s[1],g=Math.floor(i(c)),d=Math.ceil(i(f)),x=e%1?2:e;if(isFinite(d-g)){if(n){for(;g<d;g++)for(var F=1;F<x;F++)u.push(a(g)*F);u.push(a(g))}else for(u.push(a(g));g++<d;)for(var F=x-1;F>0;F--)u.push(a(g)*F);for(g=0;u[g]<c;g++);for(d=u.length;u[d-1]>f;d--);u=u.slice(g,d)}return u},l.tickFormat=function(s,u){if(!arguments.length)return $o;arguments.length<2?u=$o:typeof u!="function"&&(u=o.format(u));var c=Math.max(.1,s/l.ticks().length),f=n?(g=1e-12,Math.ceil):(g=-1e-12,Math.floor),g;return function(d){return d/a(f(i(d)+g))<=c?u(d):""}},l.copy=function(){return Zo(t.copy(),e,n,r)},Ji(l,t)}var $o=o.format(".0e"),Eu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};o.scale.pow=function(){return Ko(o.scale.linear(),1,[0,1])};function Ko(t,e,n){var r=ei(e),i=ei(1/e);function a(l){return t(r(l))}return a.invert=function(l){return i(t.invert(l))},a.domain=function(l){return arguments.length?(t.domain((n=l.map(Number)).map(r)),a):n},a.ticks=function(l){return Qi(n,l)},a.tickFormat=function(l,s){return ta(n,l,s)},a.nice=function(l){return a.domain(Wo(n,l))},a.exponent=function(l){return arguments.length?(r=ei(e=l),i=ei(1/e),t.domain(n.map(r)),a):e},a.copy=function(){return Ko(t.copy(),e,n)},Ji(a,t)}function ei(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return Jo([],{t:"range",a:[[]]})};function Jo(t,e){var n,r,i;function a(s){return r[((n.get(s)||(e.t==="range"?n.set(s,t.push(s)):NaN))-1)%r.length]}function l(s,u){return o.range(t.length).map(function(c){return s+u*c})}return a.domain=function(s){if(!arguments.length)return t;t=[],n=new gt;for(var u=-1,c=s.length,f;++u<c;)n.has(f=s[u])||n.set(f,t.push(f));return a[e.t].apply(a,e.a)},a.range=function(s){return arguments.length?(r=s,i=0,e={t:"range",a:arguments},a):r},a.rangePoints=function(s,u){arguments.length<2&&(u=0);var c=s[0],f=s[1],g=t.length<2?(c=(c+f)/2,0):(f-c)/(t.length-1+u);return r=l(c+g*u/2,g),i=0,e={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(s,u){arguments.length<2&&(u=0);var c=s[0],f=s[1],g=t.length<2?(c=f=Math.round((c+f)/2),0):(f-c)/(t.length-1+u)|0;return r=l(c+Math.round(g*u/2+(f-c-(t.length-1+u)*g)/2),g),i=0,e={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(s,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var f=s[1]<s[0],g=s[f-0],d=s[1-f],x=(d-g)/(t.length-u+2*c);return r=l(g+x*c,x),f&&r.reverse(),i=x*(1-u),e={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(s,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var f=s[1]<s[0],g=s[f-0],d=s[1-f],x=Math.floor((d-g)/(t.length-u+2*c));return r=l(g+Math.round((d-g-(t.length-u)*x)/2),x),f&&r.reverse(),i=Math.round(x*(1-u)),e={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return i},a.rangeExtent=function(){return Jn(e.a[0])},a.copy=function(){return Jo(t,e)},a.domain(t)}o.scale.category10=function(){return o.scale.ordinal().range(Bu)},o.scale.category20=function(){return o.scale.ordinal().range(Du)},o.scale.category20b=function(){return o.scale.ordinal().range(Iu)},o.scale.category20c=function(){return o.scale.ordinal().range(zu)};var Bu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vr),Du=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vr),Iu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vr),zu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vr);o.scale.quantile=function(){return Qo([],[])};function Qo(t,e){var n;function r(){var a=0,l=e.length;for(n=[];++a<l;)n[a-1]=o.quantile(t,a/l);return i}function i(a){if(!isNaN(a=+a))return e[o.bisect(n,a)]}return i.domain=function(a){return arguments.length?(t=a.map(N).filter(b).sort(M),r()):t},i.range=function(a){return arguments.length?(e=a,r()):e},i.quantiles=function(){return n},i.invertExtent=function(a){return a=e.indexOf(a),a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.copy=function(){return Qo(t,e)},r()}o.scale.quantize=function(){return ts(0,1,[0,1])};function ts(t,e,n){var r,i;function a(s){return n[Math.max(0,Math.min(i,Math.floor(r*(s-t))))]}function l(){return r=n.length/(e-t),i=n.length-1,a}return a.domain=function(s){return arguments.length?(t=+s[0],e=+s[s.length-1],l()):[t,e]},a.range=function(s){return arguments.length?(n=s,l()):n},a.invertExtent=function(s){return s=n.indexOf(s),s=s<0?NaN:s/r+t,[s,s+1/r]},a.copy=function(){return ts(t,e,n)},l()}o.scale.threshold=function(){return es([.5],[0,1])};function es(t,e){function n(r){if(r<=r)return e[o.bisect(t,r)]}return n.domain=function(r){return arguments.length?(t=r,n):t},n.range=function(r){return arguments.length?(e=r,n):e},n.invertExtent=function(r){return r=e.indexOf(r),[t[r-1],t[r]]},n.copy=function(){return es(t,e)},n}o.scale.identity=function(){return ns([0,1])};function ns(t){function e(n){return+n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(n){return Qi(t,n)},e.tickFormat=function(n,r){return ta(t,n,r)},e.copy=function(){return ns(t)},e}o.svg={};function Ru(){return 0}o.svg.arc=function(){var t=Ou,e=ju,n=Ru,r=ni,i=rs,a=is,l=Gu;function s(){var c=Math.max(0,+t.apply(this,arguments)),f=Math.max(0,+e.apply(this,arguments)),g=i.apply(this,arguments)-bt,d=a.apply(this,arguments)-bt,x=Math.abs(d-g),F=g>d?0:1;if(f<c&&(m=f,f=c,c=m),x>=Lt)return u(f,F)+(c?u(c,1-F):"")+"Z";var m,_,v,A,w=0,P=0,W,Y,H,j,st,ft,At,xt,Ct=[];if((A=(+l.apply(this,arguments)||0)/2)&&(v=r===ni?Math.sqrt(c*c+f*f):+r.apply(this,arguments),F||(P*=-1),f&&(P=Yt(v/f*Math.sin(A))),c&&(w=Yt(v/c*Math.sin(A)))),f){W=f*Math.cos(g+P),Y=f*Math.sin(g+P),H=f*Math.cos(d-P),j=f*Math.sin(d-P);var tt=Math.abs(d-g-2*P)<=it?0:1;if(P&&ri(W,Y,H,j)===F^tt){var ut=(g+d)/2;W=f*Math.cos(ut),Y=f*Math.sin(ut),H=j=null}}else W=Y=0;if(c){st=c*Math.cos(d-w),ft=c*Math.sin(d-w),At=c*Math.cos(g+w),xt=c*Math.sin(g+w);var yt=Math.abs(g-d+2*w)<=it?0:1;if(w&&ri(st,ft,At,xt)===1-F^yt){var nt=(g+d)/2;st=c*Math.cos(nt),ft=c*Math.sin(nt),At=xt=null}}else st=ft=0;if(x>Q&&(m=Math.min(Math.abs(f-c)/2,+n.apply(this,arguments)))>.001){_=c<f^F?0:1;var mt=m,Dt=m;if(x<it){var Ht=At==null?[st,ft]:H==null?[W,Y]:zi([W,Y],[At,xt],[H,j],[st,ft]),Zt=W-Ht[0],se=Y-Ht[1],pe=H-Ht[0],Ee=j-Ht[1],Ie=1/Math.sin(Math.acos((Zt*pe+se*Ee)/(Math.sqrt(Zt*Zt+se*se)*Math.sqrt(pe*pe+Ee*Ee)))/2),Be=Math.sqrt(Ht[0]*Ht[0]+Ht[1]*Ht[1]);Dt=Math.min(m,(c-Be)/(Ie-1)),mt=Math.min(m,(f-Be)/(Ie+1))}if(H!=null){var Re=ii(At==null?[st,ft]:[At,xt],[W,Y],f,mt,F),Te=ii([H,j],[st,ft],f,mt,F);m===mt?Ct.push("M",Re[0],"A",mt,",",mt," 0 0,",_," ",Re[1],"A",f,",",f," 0 ",1-F^ri(Re[1][0],Re[1][1],Te[1][0],Te[1][1]),",",F," ",Te[1],"A",mt,",",mt," 0 0,",_," ",Te[0]):Ct.push("M",Re[0],"A",mt,",",mt," 0 1,",_," ",Te[0])}else Ct.push("M",W,",",Y);if(At!=null){var Oe=ii([W,Y],[At,xt],c,-Dt,F),In=ii([st,ft],H==null?[W,Y]:[H,j],c,-Dt,F);m===Dt?Ct.push("L",In[0],"A",Dt,",",Dt," 0 0,",_," ",In[1],"A",c,",",c," 0 ",F^ri(In[1][0],In[1][1],Oe[1][0],Oe[1][1]),",",1-F," ",Oe[1],"A",Dt,",",Dt," 0 0,",_," ",Oe[0]):Ct.push("L",In[0],"A",Dt,",",Dt," 0 0,",_," ",Oe[0])}else Ct.push("L",st,",",ft)}else Ct.push("M",W,",",Y),H!=null&&Ct.push("A",f,",",f," 0 ",tt,",",F," ",H,",",j),Ct.push("L",st,",",ft),At!=null&&Ct.push("A",c,",",c," 0 ",yt,",",1-F," ",At,",",xt);return Ct.push("Z"),Ct.join("")}function u(c,f){return"M0,"+c+"A"+c+","+c+" 0 1,"+f+" 0,"+-c+"A"+c+","+c+" 0 1,"+f+" 0,"+c}return s.innerRadius=function(c){return arguments.length?(t=de(c),s):t},s.outerRadius=function(c){return arguments.length?(e=de(c),s):e},s.cornerRadius=function(c){return arguments.length?(n=de(c),s):n},s.padRadius=function(c){return arguments.length?(r=c==ni?ni:de(c),s):r},s.startAngle=function(c){return arguments.length?(i=de(c),s):i},s.endAngle=function(c){return arguments.length?(a=de(c),s):a},s.padAngle=function(c){return arguments.length?(l=de(c),s):l},s.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-bt;return[Math.cos(f)*c,Math.sin(f)*c]},s};var ni="auto";function Ou(t){return t.innerRadius}function ju(t){return t.outerRadius}function rs(t){return t.startAngle}function is(t){return t.endAngle}function Gu(t){return t&&t.padAngle}function ri(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function ii(t,e,n,r,i){var a=t[0]-e[0],l=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+l*l),u=s*l,c=-s*a,f=t[0]+u,g=t[1]+c,d=e[0]+u,x=e[1]+c,F=(f+d)/2,m=(g+x)/2,_=d-f,v=x-g,A=_*_+v*v,w=n-r,P=f*x-d*g,W=(v<0?-1:1)*Math.sqrt(Math.max(0,w*w*A-P*P)),Y=(P*v-_*W)/A,H=(-P*_-v*W)/A,j=(P*v+_*W)/A,st=(-P*_+v*W)/A,ft=Y-F,At=H-m,xt=j-F,Ct=st-m;return ft*ft+At*At>xt*xt+Ct*Ct&&(Y=j,H=st),[[Y-u,H-c],[Y*n/w,H*n/w]]}function as(t){var e=Yn,n=or,r=rr,i=Qe,a=i.key,l=.7;function s(u){var c=[],f=[],g=-1,d=u.length,x,F=de(e),m=de(n);function _(){c.push("M",i(t(f),l))}for(;++g<d;)r.call(this,x=u[g],g)?f.push([+F.call(this,x,g),+m.call(this,x,g)]):f.length&&(_(),f=[]);return f.length&&_(),c.length?c.join(""):null}return s.x=function(u){return arguments.length?(e=u,s):e},s.y=function(u){return arguments.length?(n=u,s):n},s.defined=function(u){return arguments.length?(r=u,s):r},s.interpolate=function(u){return arguments.length?(typeof u=="function"?a=i=u:a=(i=ea.get(u)||Qe).key,s):a},s.tension=function(u){return arguments.length?(l=u,s):l},s}o.svg.line=function(){return as(ae)};var ea=o.map({linear:Qe,"linear-closed":os,step:Vu,"step-before":na,"step-after":ra,basis:ss,"basis-open":Yu,"basis-closed":Xu,bundle:Wu,cardinal:Uu,"cardinal-open":qu,"cardinal-closed":Hu,monotone:Ku});ea.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});function Qe(t){return t.length>1?t.join("L"):t+"Z"}function os(t){return t.join("L")+"Z"}function Vu(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function na(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ra(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function qu(t,e){return t.length<4?Qe(t):t[1]+ai(t.slice(1,-1),ia(t,e))}function Hu(t,e){return t.length<3?os(t):t[0]+ai((t.push(t[0]),t),ia([t[t.length-2]].concat(t,[t[1]]),e))}function Uu(t,e){return t.length<3?Qe(t):t[0]+ai(t,ia(t,e))}function ai(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Qe(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],l=e[0],s=l,u=1;if(n&&(r+="Q"+(a[0]-l[0]*2/3)+","+(a[1]-l[1]*2/3)+","+a[0]+","+a[1],i=t[1],u=2),e.length>1){s=e[1],a=t[u],u++,r+="C"+(i[0]+l[0])+","+(i[1]+l[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,u++)a=t[u],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var f=t[u];r+="Q"+(a[0]+s[0]*2/3)+","+(a[1]+s[1]*2/3)+","+f[0]+","+f[1]}return r}function ia(t,e){for(var n=[],r=(1-e)/2,i,a=t[0],l=t[1],s=1,u=t.length;++s<u;)i=a,a=l,l=t[s],n.push([r*(l[0]-i[0]),r*(l[1]-i[1])]);return n}function ss(t){if(t.length<3)return Qe(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],l=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",Ye(wn,l),",",Ye(wn,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],l.shift(),l.push(r[0]),s.shift(),s.push(r[1]),aa(u,l,s);return t.pop(),u.push("L",r),u.join("")}function Yu(t){if(t.length<4)return Qe(t);for(var e=[],n=-1,r=t.length,i,a=[0],l=[0];++n<3;)i=t[n],a.push(i[0]),l.push(i[1]);for(e.push(Ye(wn,a)+","+Ye(wn,l)),--n;++n<r;)i=t[n],a.shift(),a.push(i[0]),l.shift(),l.push(i[1]),aa(e,a,l);return e.join("")}function Xu(t){for(var e,n=-1,r=t.length,i=r+4,a,l=[],s=[];++n<4;)a=t[n%r],l.push(a[0]),s.push(a[1]);for(e=[Ye(wn,l),",",Ye(wn,s)],--n;++n<i;)a=t[n%r],l.shift(),l.push(a[0]),s.shift(),s.push(a[1]),aa(e,l,s);return e.join("")}function Wu(t,e){var n=t.length-1;if(n)for(var r=t[0][0],i=t[0][1],a=t[n][0]-r,l=t[n][1]-i,s=-1,u,c;++s<=n;)u=t[s],c=s/n,u[0]=e*u[0]+(1-e)*(r+c*a),u[1]=e*u[1]+(1-e)*(i+c*l);return ss(t)}function Ye(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}var ls=[0,2/3,1/3,0],us=[0,1/3,2/3,0],wn=[0,1/6,2/3,1/6];function aa(t,e,n){t.push("C",Ye(ls,e),",",Ye(ls,n),",",Ye(us,e),",",Ye(us,n),",",Ye(wn,e),",",Ye(wn,n))}function oa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Zu(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],l=r[0]=oa(i,a);++e<n;)r[e]=(l+(l=oa(i=a,a=t[e+1])))/2;return r[e]=l,r}function $u(t){for(var e=[],n,r,i,a,l=Zu(t),s=-1,u=t.length-1;++s<u;)n=oa(t[s],t[s+1]),rt(n)<Q?l[s]=l[s+1]=0:(r=l[s]/n,i=l[s+1]/n,a=r*r+i*i,a>9&&(a=n*3/Math.sqrt(a),l[s]=a*r,l[s+1]=a*i));for(s=-1;++s<=u;)a=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+l[s]*l[s])),e.push([a||0,l[s]*a||0]);return e}function Ku(t){return t.length<3?Qe(t):t[0]+ai(t,$u(t))}o.svg.line.radial=function(){var t=as(cs);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t};function cs(t){for(var e,n=-1,r=t.length,i,a;++n<r;)e=t[n],i=e[0],a=e[1]-bt,e[0]=i*Math.cos(a),e[1]=i*Math.sin(a);return t}function fs(t){var e=Yn,n=Yn,r=0,i=or,a=rr,l=Qe,s=l.key,u=l,c="L",f=.7;function g(d){var x=[],F=[],m=[],_=-1,v=d.length,A,w=de(e),P=de(r),W=e===n?function(){return H}:de(n),Y=r===i?function(){return j}:de(i),H,j;function st(){x.push("M",l(t(m),f),c,u(t(F.reverse()),f),"Z")}for(;++_<v;)a.call(this,A=d[_],_)?(F.push([H=+w.call(this,A,_),j=+P.call(this,A,_)]),m.push([+W.call(this,A,_),+Y.call(this,A,_)])):F.length&&(st(),F=[],m=[]);return F.length&&st(),x.length?x.join(""):null}return g.x=function(d){return arguments.length?(e=n=d,g):n},g.x0=function(d){return arguments.length?(e=d,g):e},g.x1=function(d){return arguments.length?(n=d,g):n},g.y=function(d){return arguments.length?(r=i=d,g):i},g.y0=function(d){return arguments.length?(r=d,g):r},g.y1=function(d){return arguments.length?(i=d,g):i},g.defined=function(d){return arguments.length?(a=d,g):a},g.interpolate=function(d){return arguments.length?(typeof d=="function"?s=l=d:s=(l=ea.get(d)||Qe).key,u=l.reverse||l,c=l.closed?"M":"L",g):s},g.tension=function(d){return arguments.length?(f=d,g):f},g}na.reverse=ra,ra.reverse=na,o.svg.area=function(){return fs(ae)},o.svg.area.radial=function(){var t=fs(cs);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Ni,e=Ei,n=Ju,r=rs,i=is;function a(f,g){var d=l(this,t,f,g),x=l(this,e,f,g);return"M"+d.p0+u(d.r,d.p1,d.a1-d.a0)+(s(d,x)?c(d.r,d.p1,d.r,d.p0):c(d.r,d.p1,x.r,x.p0)+u(x.r,x.p1,x.a1-x.a0)+c(x.r,x.p1,d.r,d.p0))+"Z"}function l(f,g,d,x){var F=g.call(f,d,x),m=n.call(f,F,x),_=r.call(f,F,x)-bt,v=i.call(f,F,x)-bt;return{r:m,a0:_,a1:v,p0:[m*Math.cos(_),m*Math.sin(_)],p1:[m*Math.cos(v),m*Math.sin(v)]}}function s(f,g){return f.a0==g.a0&&f.a1==g.a1}function u(f,g,d){return"A"+f+","+f+" 0 "+ +(d>it)+",1 "+g}function c(f,g,d,x){return"Q 0,0 "+x}return a.radius=function(f){return arguments.length?(n=de(f),a):n},a.source=function(f){return arguments.length?(t=de(f),a):t},a.target=function(f){return arguments.length?(e=de(f),a):e},a.startAngle=function(f){return arguments.length?(r=de(f),a):r},a.endAngle=function(f){return arguments.length?(i=de(f),a):i},a};function Ju(t){return t.radius}o.svg.diagonal=function(){var t=Ni,e=Ei,n=hs;function r(i,a){var l=t.call(this,i,a),s=e.call(this,i,a),u=(l.y+s.y)/2,c=[l,{x:l.x,y:u},{x:s.x,y:u},s];return c=c.map(n),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return r.source=function(i){return arguments.length?(t=de(i),r):t},r.target=function(i){return arguments.length?(e=de(i),r):e},r.projection=function(i){return arguments.length?(n=i,r):n},r};function hs(t){return[t.x,t.y]}o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=hs,n=t.projection;return t.projection=function(r){return arguments.length?n(Qu(e=r)):e},t};function Qu(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-bt;return[n*Math.cos(r),n*Math.sin(r)]}}o.svg.symbol=function(){var t=ec,e=tc;function n(r,i){return(ds.get(t.call(this,r,i))||gs)(e.call(this,r,i))}return n.type=function(r){return arguments.length?(t=de(r),n):t},n.size=function(r){return arguments.length?(e=de(r),n):e},n};function tc(){return 64}function ec(){return"circle"}function gs(t){var e=Math.sqrt(t/it);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}var ds=o.map({circle:gs,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ps)),n=e*ps;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/oi),n=e*oi/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/oi),n=e*oi/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=ds.keys();var oi=Math.sqrt(3),ps=Math.tan(30*_t);Ot.transition=function(t){for(var e=Bn||++_s,n=la(t),r=[],i,a,l=li||{time:Date.now(),ease:Tl,delay:0,duration:250},s=-1,u=this.length;++s<u;){r.push(i=[]);for(var c=this[s],f=-1,g=c.length;++f<g;)(a=c[f])&&ui(a,f,n,e,l),i.push(a)}return pr(r,n,e)},Ot.interrupt=function(t){return this.each(t==null?si:ms(la(t)))};var si=ms(la());function ms(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function pr(t,e,n){return _e(t,Me),t.namespace=e,t.id=n,t}var Me=[],_s=0,Bn,li;Me.call=Ot.call,Me.empty=Ot.empty,Me.node=Ot.node,Me.size=Ot.size,o.transition=function(t,e){return t&&t.transition?Bn?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=Me,Me.select=function(t){var e=this.id,n=this.namespace,r=[],i,a,l;t=fe(t);for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var c=this[s],f=-1,g=c.length;++f<g;)(l=c[f])&&(a=t.call(l,l.__data__,f,s))?("__data__"in l&&(a.__data__=l.__data__),ui(a,f,n,e,l[n][e]),i.push(a)):i.push(null)}return pr(r,n,e)},Me.selectAll=function(t){var e=this.id,n=this.namespace,r=[],i,a,l,s,u;t=Gt(t);for(var c=-1,f=this.length;++c<f;)for(var g=this[c],d=-1,x=g.length;++d<x;)if(l=g[d]){u=l[n][e],a=t.call(l,l.__data__,d,c),r.push(i=[]);for(var F=-1,m=a.length;++F<m;)(s=a[F])&&ui(s,F,n,e,u),i.push(s)}return pr(r,n,e)},Me.filter=function(t){var e=[],n,r,i;typeof t!="function"&&(t=On(t));for(var a=0,l=this.length;a<l;a++){e.push(n=[]);for(var r=this[a],s=0,u=r.length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,a)&&n.push(i)}return pr(e,this.namespace,this.id)},Me.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Ze(this,e==null?function(i){i[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})};function sa(t,e,n,r){var i=t.id,a=t.namespace;return Ze(t,typeof n=="function"?function(l,s,u){l[a][i].tween.set(e,r(n.call(l,l.__data__,s,u)))}:(n=r(n),function(l){l[a][i].tween.set(e,n)}))}Me.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n=t=="transform"?Eo:En,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function l(u){return u==null?i:(u+="",function(){var c=this.getAttribute(r),f;return c!==u&&(f=n(c,u),function(g){this.setAttribute(r,f(g))})})}function s(u){return u==null?a:(u+="",function(){var c=this.getAttributeNS(r.space,r.local),f;return c!==u&&(f=n(c,u),function(g){this.setAttributeNS(r.space,r.local,f(g))})})}return sa(this,"attr."+t,e,r.local?s:l)},Me.attrTween=function(t,e){var n=o.ns.qualify(t);function r(a,l){var s=e.call(this,a,l,this.getAttribute(n));return s&&function(u){this.setAttribute(n,s(u))}}function i(a,l){var s=e.call(this,a,l,this.getAttributeNS(n.space,n.local));return s&&function(u){this.setAttributeNS(n.space,n.local,s(u))}}return this.tween("attr."+t,n.local?i:r)},Me.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function a(l){return l==null?i:(l+="",function(){var s=B(this).getComputedStyle(this,null).getPropertyValue(t),u;return s!==l&&(u=En(s,l),function(c){this.style.setProperty(t,u(c),n)})})}return sa(this,"style."+t,e,a)},Me.styleTween=function(t,e,n){arguments.length<3&&(n="");function r(i,a){var l=e.call(this,i,a,B(this).getComputedStyle(this,null).getPropertyValue(t));return l&&function(s){this.style.setProperty(t,l(s),n)}}return this.tween("style."+t,r)},Me.text=function(t){return sa(this,"text",t,nc)};function nc(t){return t==null&&(t=""),function(){this.textContent=t}}Me.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Me.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:(typeof t!="function"&&(t=o.ease.apply(o,arguments)),Ze(this,function(r){r[n][e].ease=t}))},Me.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Ze(this,typeof t=="function"?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},Me.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Ze(this,typeof t=="function"?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Me.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=li,a=Bn;try{Bn=n,Ze(this,function(l,s,u){li=l[r][n],t.call(l,l.__data__,s,u)})}finally{li=i,Bn=a}}else Ze(this,function(l){var s=l[r][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},Me.transition=function(){for(var t=this.id,e=++_s,n=this.namespace,r=[],i,a,l,s,u=0,c=this.length;u<c;u++){r.push(i=[]);for(var a=this[u],f=0,g=a.length;f<g;f++)(l=a[f])&&(s=l[n][t],ui(l,f,n,e,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})),i.push(l)}return pr(r,n,e)};function la(t){return t==null?"__transition__":"__transition_"+t+"__"}function ui(t,e,n,r,i){var a=t[n]||(t[n]={active:0,count:0}),l=a[r],s,u,c,f,g;function d(m){var _=l.delay;if(u.t=_+s,_<=m)return x(m-_);u.c=x}function x(m){var _=a.active,v=a[_];v&&(v.timer.c=null,v.timer.t=NaN,--a.count,delete a[_],v.event&&v.event.interrupt.call(t,t.__data__,v.index));for(var A in a)if(+A<r){var w=a[A];w.timer.c=null,w.timer.t=NaN,--a.count,delete a[A]}u.c=F,Pr(function(){return u.c&&F(m||1)&&(u.c=null,u.t=NaN),1},0,s),a.active=r,l.event&&l.event.start.call(t,t.__data__,e),g=[],l.tween.forEach(function(P,W){(W=W.call(t,t.__data__,e))&&g.push(W)}),f=l.ease,c=l.duration}function F(m){for(var _=m/c,v=f(_),A=g.length;A>0;)g[--A].call(t,v);if(_>=1)return l.event&&l.event.end.call(t,t.__data__,e),--a.count?delete a[r]:delete t[n],1}l||(s=i.time,u=Pr(d,0,s),l=a[r]={tween:new gt,time:s,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++a.count)}o.svg.axis=function(){var t=o.scale.linear(),e=ys,n=6,r=6,i=3,a=[10],l=null,s;function u(c){c.each(function(){var f=o.select(this),g=this.__chart__||t,d=this.__chart__=t.copy(),x=l??(d.ticks?d.ticks.apply(d,a):d.domain()),F=s??(d.tickFormat?d.tickFormat.apply(d,a):ae),m=f.selectAll(".tick").data(x,d),_=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Q),v=o.transition(m.exit()).style("opacity",Q).remove(),A=o.transition(m.order()).style("opacity",1),w=Math.max(n,0)+i,P,W=Qr(d),Y=f.selectAll(".domain").data([0]),H=(Y.enter().append("path").attr("class","domain"),o.transition(Y));_.append("line"),_.append("text");var j=_.select("line"),st=A.select("line"),ft=m.select("text").text(F),At=_.select("text"),xt=A.select("text"),Ct=e==="top"||e==="left"?-1:1,tt,ut,yt,nt;if(e==="bottom"||e==="top"?(P=ic,tt="x",yt="y",ut="x2",nt="y2",ft.attr("dy",Ct<0?"0em":".71em").style("text-anchor","middle"),H.attr("d","M"+W[0]+","+Ct*r+"V0H"+W[1]+"V"+Ct*r)):(P=ac,tt="y",yt="x",ut="y2",nt="x2",ft.attr("dy",".32em").style("text-anchor",Ct<0?"end":"start"),H.attr("d","M"+Ct*r+","+W[0]+"H0V"+W[1]+"H"+Ct*r)),j.attr(nt,Ct*n),At.attr(yt,Ct*w),st.attr(ut,0).attr(nt,Ct*n),xt.attr(tt,0).attr(yt,Ct*w),d.rangeBand){var mt=d,Dt=mt.rangeBand()/2;g=d=function(Ht){return mt(Ht)+Dt}}else g.rangeBand?g=d:v.call(P,d,g);_.call(P,g,d),A.call(P,d,d)})}return u.scale=function(c){return arguments.length?(t=c,u):t},u.orient=function(c){return arguments.length?(e=c in rc?c+"":ys,u):e},u.ticks=function(){return arguments.length?(a=k(arguments),u):a},u.tickValues=function(c){return arguments.length?(l=c,u):l},u.tickFormat=function(c){return arguments.length?(s=c,u):s},u.tickSize=function(c){var f=arguments.length;return f?(n=+c,r=+arguments[f-1],u):n},u.innerTickSize=function(c){return arguments.length?(n=+c,u):n},u.outerTickSize=function(c){return arguments.length?(r=+c,u):r},u.tickPadding=function(c){return arguments.length?(i=+c,u):i},u.tickSubdivide=function(){return arguments.length&&u},u};var ys="bottom",rc={top:1,right:1,bottom:1,left:1};function ic(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate("+(isFinite(i)?i:n(r))+",0)"})}function ac(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate(0,"+(isFinite(i)?i:n(r))+")"})}o.svg.brush=function(){var t=Ce(f,"brushstart","brush","brushend"),e=null,n=null,r=[0,0],i=[0,0],a,l,s=!0,u=!0,c=ua[0];function f(m){m.each(function(){var _=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",F).on("touchstart.brush",F),v=_.selectAll(".background").data([0]);v.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),_.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var A=_.selectAll(".resize").data(c,ae);A.exit().remove(),A.enter().append("g").attr("class",function(Y){return"resize "+Y}).style("cursor",function(Y){return oc[Y]}).append("rect").attr("x",function(Y){return/[ew]$/.test(Y)?-3:null}).attr("y",function(Y){return/^[ns]/.test(Y)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),A.style("display",f.empty()?"none":null);var w=o.transition(_),P=o.transition(v),W;e&&(W=Qr(e),P.attr("x",W[0]).attr("width",W[1]-W[0]),d(w)),n&&(W=Qr(n),P.attr("y",W[0]).attr("height",W[1]-W[0]),x(w)),g(w)})}f.event=function(m){m.each(function(){var _=t.of(this,arguments),v={x:r,y:i,i:a,j:l},A=this.__chart__||v;this.__chart__=v,Bn?o.select(this).transition().each("start.brush",function(){a=A.i,l=A.j,r=A.x,i=A.y,_({type:"brushstart"})}).tween("brush:brush",function(){var w=Jr(r,v.x),P=Jr(i,v.y);return a=l=null,function(W){r=v.x=w(W),i=v.y=P(W),_({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=v.i,l=v.j,_({type:"brush",mode:"resize"}),_({type:"brushend"})}):(_({type:"brushstart"}),_({type:"brush",mode:"resize"}),_({type:"brushend"}))})};function g(m){m.selectAll(".resize").attr("transform",function(_){return"translate("+r[+/e$/.test(_)]+","+i[+/^s/.test(_)]+")"})}function d(m){m.select(".extent").attr("x",r[0]),m.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function x(m){m.select(".extent").attr("y",i[0]),m.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function F(){var m=this,_=o.select(o.event.target),v=t.of(m,arguments),A=o.select(m),w=_.datum(),P=!/^(n|s)$/.test(w)&&e,W=!/^(e|w)$/.test(w)&&n,Y=_.classed("extent"),H=lt(m),j,st=o.mouse(m),ft,At=o.select(B(m)).on("keydown.brush",tt).on("keyup.brush",ut);if(o.event.changedTouches?At.on("touchmove.brush",yt).on("touchend.brush",mt):At.on("mousemove.brush",yt).on("mouseup.brush",mt),A.interrupt().selectAll("*").interrupt(),Y)st[0]=r[0]-st[0],st[1]=i[0]-st[1];else if(w){var xt=+/w$/.test(w),Ct=+/^n/.test(w);ft=[r[1-xt]-st[0],i[1-Ct]-st[1]],st[0]=r[xt],st[1]=i[Ct]}else o.event.altKey&&(j=st.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",_.style("cursor")),v({type:"brushstart"}),yt();function tt(){o.event.keyCode==32&&(Y||(j=null,st[0]-=r[1],st[1]-=i[1],Y=2),Qt())}function ut(){o.event.keyCode==32&&Y==2&&(st[0]+=r[1],st[1]+=i[1],Y=0,Qt())}function yt(){var Dt=o.mouse(m),Ht=!1;ft&&(Dt[0]+=ft[0],Dt[1]+=ft[1]),Y||(o.event.altKey?(j||(j=[(r[0]+r[1])/2,(i[0]+i[1])/2]),st[0]=r[+(Dt[0]<j[0])],st[1]=i[+(Dt[1]<j[1])]):j=null),P&&nt(Dt,e,0)&&(d(A),Ht=!0),W&&nt(Dt,n,1)&&(x(A),Ht=!0),Ht&&(g(A),v({type:"brush",mode:Y?"move":"resize"}))}function nt(Dt,Ht,Zt){var se=Qr(Ht),pe=se[0],Ee=se[1],Ie=st[Zt],Be=Zt?i:r,Re=Be[1]-Be[0],Te,Oe;if(Y&&(pe-=Ie,Ee-=Re+Ie),Te=(Zt?u:s)?Math.max(pe,Math.min(Ee,Dt[Zt])):Dt[Zt],Y?Oe=(Te+=Ie)+Re:(j&&(Ie=Math.max(pe,Math.min(Ee,2*j[Zt]-Te))),Ie<Te?(Oe=Te,Te=Ie):Oe=Ie),Be[0]!=Te||Be[1]!=Oe)return Zt?l=null:a=null,Be[0]=Te,Be[1]=Oe,!0}function mt(){yt(),A.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),o.select("body").style("cursor",null),At.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),H(),v({type:"brushend"})}}return f.x=function(m){return arguments.length?(e=m,c=ua[!e<<1|!n],f):e},f.y=function(m){return arguments.length?(n=m,c=ua[!e<<1|!n],f):n},f.clamp=function(m){return arguments.length?(e&&n?(s=!!m[0],u=!!m[1]):e?s=!!m:n&&(u=!!m),f):e&&n?[s,u]:e?s:n?u:null},f.extent=function(m){var _,v,A,w,P;return arguments.length?(e&&(_=m[0],v=m[1],n&&(_=_[0],v=v[0]),a=[_,v],e.invert&&(_=e(_),v=e(v)),v<_&&(P=_,_=v,v=P),(_!=r[0]||v!=r[1])&&(r=[_,v])),n&&(A=m[0],w=m[1],e&&(A=A[1],w=w[1]),l=[A,w],n.invert&&(A=n(A),w=n(w)),w<A&&(P=A,A=w,w=P),(A!=i[0]||w!=i[1])&&(i=[A,w])),f):(e&&(a?(_=a[0],v=a[1]):(_=r[0],v=r[1],e.invert&&(_=e.invert(_),v=e.invert(v)),v<_&&(P=_,_=v,v=P))),n&&(l?(A=l[0],w=l[1]):(A=i[0],w=i[1],n.invert&&(A=n.invert(A),w=n.invert(w)),w<A&&(P=A,A=w,w=P))),e&&n?[[_,A],[v,w]]:e?[_,v]:n&&[A,w])},f.clear=function(){return f.empty()||(r=[0,0],i=[0,0],a=l=null),f},f.empty=function(){return!!e&&r[0]==r[1]||!!n&&i[0]==i[1]},o.rebind(f,t,"on")};var oc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ua=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ca=It.format=Fa.timeFormat,vs=ca.utc,xs=vs("%Y-%m-%dT%H:%M:%S.%LZ");ca.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?fa:xs;function fa(t){return t.toISOString()}fa.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},fa.toString=xs.toString,It.second=Sn(function(t){return new Le(Math.floor(t/1e3)*1e3)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*1e3)},function(t){return t.getSeconds()}),It.seconds=It.second.range,It.seconds.utc=It.second.utc.range,It.minute=Sn(function(t){return new Le(Math.floor(t/6e4)*6e4)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*6e4)},function(t){return t.getMinutes()}),It.minutes=It.minute.range,It.minutes.utc=It.minute.utc.range,It.hour=Sn(function(t){var e=t.getTimezoneOffset()/60;return new Le((Math.floor(t/36e5-e)+e)*36e5)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*36e5)},function(t){return t.getHours()}),It.hours=It.hour.range,It.hours.utc=It.hour.utc.range,It.month=Sn(function(t){return t=It.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),It.months=It.month.range,It.months.utc=It.month.utc.range;function ha(t,e,n){function r(a){return t(a)}r.invert=function(a){return Dn(t.invert(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain().map(Dn)};function i(a,l){var s=a[1]-a[0],u=s/l,c=o.bisect(ci,u);return c==ci.length?[e.year,dr(a.map(function(f){return f/31536e6}),l)[2]]:c?e[u/ci[c-1]<ci[c]/u?c-1:c]:[lc,dr(a,l)[2]]}return r.nice=function(a,l){var s=r.domain(),u=Jn(s),c=a==null?i(u,10):typeof a=="number"&&i(u,a);c&&(a=c[0],l=c[1]);function f(g){return!isNaN(g)&&!a.range(g,Dn(+g+1),l).length}return r.domain(Ki(s,l>1?{floor:function(g){for(;f(g=a.floor(g));)g=Dn(g-1);return g},ceil:function(g){for(;f(g=a.ceil(g));)g=Dn(+g+1);return g}}:a))},r.ticks=function(a,l){var s=Jn(r.domain()),u=a==null?i(s,10):typeof a=="number"?i(s,a):!a.range&&[{range:a},l];return u&&(a=u[0],l=u[1]),a.range(s[0],Dn(+s[1]+1),l<1?1:l)},r.tickFormat=function(){return n},r.copy=function(){return ha(t.copy(),e,n)},Ji(r,t)}function Dn(t){return new Date(t)}var ci=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ga=[[It.second,1],[It.second,5],[It.second,15],[It.second,30],[It.minute,1],[It.minute,5],[It.minute,15],[It.minute,30],[It.hour,1],[It.hour,3],[It.hour,6],[It.hour,12],[It.day,1],[It.day,2],[It.week,1],[It.month,1],[It.month,3],[It.year,1]],sc=ca.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&t.getDate()!=1}],["%b %d",function(t){return t.getDate()!=1}],["%B",function(t){return t.getMonth()}],["%Y",rr]]),lc={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Dn)},floor:ae,ceil:ae};ga.year=It.year,It.scale=function(){return ha(o.scale.linear(),ga,sc)};var bs=ga.map(function(t){return[t[0].utc,t[1]]}),uc=vs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&t.getUTCDate()!=1}],["%b %d",function(t){return t.getUTCDate()!=1}],["%B",function(t){return t.getUTCMonth()}],["%Y",rr]]);bs.year=It.year.utc,It.scale.utc=function(){return ha(o.scale.linear(),bs,uc)},o.text=vi(function(t){return t.responseText}),o.json=function(t,e){return wr(t,"application/json",cc,e)};function cc(t){return JSON.parse(t.responseText)}o.html=function(t,e){return wr(t,"text/html",fc,e)};function fc(t){var e=y.createRange();return e.selectNode(y.body),e.createContextualFragment(t.responseText)}return o.xml=vi(function(t){return t.responseXML}),o};const ht=window.E0DD32CBDCB63F();var pc=dc();const mc=gc(pc);let gi=1;function _c(p){const o="<",h="<".charCodeAt(0),k=">",y=">".charCodeAt(0),z="-".charCodeAt(0),B="/".charCodeAt(0),L="!".charCodeAt(0),D="'".charCodeAt(0),R='"'.charCodeAt(0),C="?".charCodeAt(0),I=`\r
	>/= `;let M=0;function N(){const b=[];for(;p[M];){if(p.charCodeAt(M)===h){if(p.charCodeAt(M+1)===B)return M=p.indexOf(k,M),b;if(p.charCodeAt(M+1)===L){if(p.charCodeAt(M+2)===z){for(;!(p.charCodeAt(M)===y&&p.charCodeAt(M-1)===z&&p.charCodeAt(M-2)===z&&M!==-1);)M=p.indexOf(k,M+1);M===-1&&(M=p.length)}else for(M+=2;p.charCodeAt(M)!==y;M++);M++;continue}else if(p.charCodeAt(M+1)===C){M=p.indexOf(k,M),M++;continue}M++;let V=M;for(;I.indexOf(p[M])===-1;M++);const q=p.slice(V,M);let et=!1,rt={};for(;p.charCodeAt(M)!==y;M++){const Mt=p.charCodeAt(M);if(Mt>64&&Mt<91||Mt>96&&Mt<123){for(V=M;I.indexOf(p[M])===-1;M++);const gt=p.slice(V,M);let dt=p.charCodeAt(M);for(;dt!==D&&dt!==R;)M++,dt=p.charCodeAt(M);const Pt=p[M],qt=++M;M=p.indexOf(Pt,qt);const Nt=p.slice(qt,M);et||(rt={},et=!0),rt[gt]=Nt}}let vt;p.charCodeAt(M-1)!==B&&(M++,vt=N()),b.push({children:vt,tagName:q,attrs:rt})}else{const V=M;M=p.indexOf(o,M)-1,M===-2&&(M=p.length);const q=p.slice(V,M+1);q.trim().length>0&&b.push(q)}M++}return b}return gi=1,ks(N())}function ks(p){const o={};if(p===void 0)return{};if(p.length===1&&(typeof p[0]=="string"||p[0]instanceof String))return new String(p[0]);p.forEach(function(h){if(typeof h!="string"&&(o[h.tagName]||(o[h.tagName]=[])),typeof h=="object"){const k=ks(h.children);h.attrs&&(k.attrs=h.attrs),k.attrs===void 0?k.attrs={order:gi}:k.attrs.order=gi,gi++,o[h.tagName].push(k)}});for(const h in o)o[h].length===1&&(o[h]=o[h][0]);return o}function pa(p){const o=new Uint8Array(p);let h="";for(let k=0;k<o.byteLength;k++)h+=String.fromCharCode(o[k]);return btoa(h)}function yc(p){const o=p.lastIndexOf(".");return o===0||o===-1?"":p.substr(p.lastIndexOf(".")+1)}function vc(p,o){const h=[];let k=0,y="",z="";const B={};let L;p(async S=>{switch(S.type){case"processPPTX":{try{await D(S.data)}catch(O){console.error("AN ERROR HAPPENED DURING processPPTX",O),o({type:"ERROR",data:O.toString()})}break}}});async function D(S){var O;const E=await mc.loadAsync(S),G=Date.now();if(E.file("docProps/thumbnail.jpeg")){const ot=await((O=E.file("docProps/thumbnail.jpeg"))==null?void 0:O.async("base64"));o({type:"pptx-thumb",data:ot})}const U=await C(E),J=await I(E);y=await M(E),L=await R(E,"ppt/tableStyles.xml"),o({type:"slideSize",data:J});const at=U.slides.length;for(let ot=0;ot<at;ot++){const pt=U.slides[ot],kt=await N(E,pt,ot,J);o({type:"slide",data:kt}),o({type:"progress-update",data:(ot+1)*100/at})}o({type:"globalCSS",data:Nt()});const lt=Date.now();o({type:"Done",data:{time:lt-G,charts:h}})}async function R(S,O){var E;return _c(await((E=S.file(O))==null?void 0:E.async("text"))||"")}async function C(S){const E=(await R(S,"[Content_Types].xml")).Types.Override,G=[],U=[];for(let J=0;J<E.length;J++)switch(E[J].attrs.ContentType){case"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":G.push(E[J].attrs.PartName.substr(1));break;case"application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml":U.push(E[J].attrs.PartName.substr(1));break}return{slides:G,slideLayouts:U}}async function I(S){const E=(await R(S,"ppt/presentation.xml"))["p:presentation"]["p:sldSz"].attrs;return{width:parseInt(E.cx)*96/914400,height:parseInt(E.cy)*96/914400}}async function M(S){const E=(await R(S,"ppt/_rels/presentation.xml.rels")).Relationships.Relationship;let G;if(E.constructor===Array){for(let U=0;U<E.length;U++)if(E[U].attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"){G=E[U].attrs.Target;break}}else E.attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"&&(G=E.attrs.Target);if(G===void 0)throw Error("Can't open theme file.");return R(S,"ppt/"+G)}async function N(S,O,E,G){o({type:"INFO",data:"Processing slide"+(E+1)});const U=O.replace("slides/slide","slides/_rels/slide")+".rels";let at=(await R(S,U)).Relationships.Relationship,lt="";const ot={};if(at.constructor===Array)for(let Ft=0;Ft<at.length;Ft++)switch(at[Ft].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout":lt=at[Ft].attrs.Target.replace("../","ppt/");break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink":default:ot[at[Ft].attrs.Id]={type:at[Ft].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Ft].attrs.Target.replace("../","ppt/")}}else lt=at.attrs.Target.replace("../","ppt/");const pt=await R(S,lt),kt=b(pt),Q=pt["p:sldLayout"]["p:clrMapOvr"]["a:overrideClrMapping"];Q!==void 0&&(z=Q.attrs);const jt=lt.replace("slideLayouts/slideLayout","slideLayouts/_rels/slideLayout")+".rels";at=(await R(S,jt)).Relationships.Relationship;let K="";const Lt={};if(at.constructor===Array)for(let Ft=0;Ft<at.length;Ft++)switch(at[Ft].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster":K=at[Ft].attrs.Target.replace("../","ppt/");break;default:Lt[at[Ft].attrs.Id]={type:at[Ft].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Ft].attrs.Target.replace("../","ppt/")}}else K=at.attrs.Target.replace("../","ppt/");const bt=await R(S,K),_t=Z(bt,["p:sldMaster","p:txStyles"]),zt=b(bt),$=K.replace("slideMasters/slideMaster","slideMasters/_rels/slideMaster")+".rels";at=(await R(S,$)).Relationships.Relationship;let ct="";const Yt={};if(at.constructor===Array)for(let Ft=0;Ft<at.length;Ft++)switch(at[Ft].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme":ct=at[Ft].attrs.Target.replace("../","ppt/");break;default:Yt[at[Ft].attrs.Id]={type:at[Ft].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Ft].attrs.Target.replace("../","ppt/")}}else ct=at.attrs.Target.replace("../","ppt/");ct!==void 0&&(y=await R(S,ct));const Wt=await R(S,O),Xt=Wt["p:sld"]["p:cSld"]["p:spTree"],Jt={zip:S,slideLayoutTables:kt,slideMasterTables:zt,slideResObj:ot,slideMasterTextStyles:_t,layoutResObj:Lt,masterResObj:Yt},te=await _e(Wt,pt,bt,Jt),Tt=Math.min(G.width,document.body.clientWidth),Rt=G.width/Tt,Bt=G.height/Rt;let ie="<section style='width:"+Tt+"px; height:"+Bt+"px;"+te+"'>";for(const Ft in Xt)if(Xt[Ft].constructor===Array)for(let ye=0;ye<Xt[Ft].length;ye++)ie+=await V(Ft,Xt[Ft][ye],Jt);else ie+=await V(Ft,Xt[Ft],Jt);return ie+"</section>"}function b(S){const O=Object.keys(S),E=S[O[0]]["p:cSld"]["p:spTree"],G={},U={},J={};for(const at in E){if(at==="p:nvGrpSpPr"||at==="p:grpSpPr")continue;const lt=E[at];if(lt.constructor===Array)for(let ot=0;ot<lt.length;ot++){const pt=lt[ot]["p:nvSpPr"],kt=Z(pt,["p:cNvPr","attrs","id"]),Q=Z(pt,["p:nvPr","p:ph","attrs","idx"]),jt=Z(pt,["p:nvPr","p:ph","attrs","type"]);kt!==void 0&&(G[kt]=lt[ot]),Q!==void 0&&(U[Q]=lt[ot]),jt!==void 0&&(J[jt]=lt[ot])}else{const ot=lt["p:nvSpPr"],pt=Z(ot,["p:cNvPr","attrs","id"]),kt=Z(ot,["p:nvPr","p:ph","attrs","idx"]),Q=Z(ot,["p:nvPr","p:ph","attrs","type"]);pt!==void 0&&(G[pt]=lt),kt!==void 0&&(U[kt]=lt),Q!==void 0&&(J[Q]=lt)}}return{idTable:G,idxTable:U,typeTable:J}}async function V(S,O,E){let G="";switch(S){case"p:sp":G=await et(O,E);break;case"p:cxnSp":G=await rt(O,E);break;case"p:pic":G=await Mt(O,E);break;case"p:graphicFrame":G=await gt(O,E);break;case"p:grpSp":G=await q(O,E);break}return G}async function q(S,O){const E=.00010498687664041995,G=S["p:grpSpPr"]["a:xfrm"],U=parseInt(G["a:off"].attrs.x)*E,J=parseInt(G["a:off"].attrs.y)*E,at=parseInt(G["a:chOff"].attrs.x)*E,lt=parseInt(G["a:chOff"].attrs.y)*E,ot=parseInt(G["a:ext"].attrs.cx)*E,pt=parseInt(G["a:ext"].attrs.cy)*E,kt=parseInt(G["a:chExt"].attrs.cx)*E,Q=parseInt(G["a:chExt"].attrs.cy)*E;let it="<div class='block group' style='z-index: "+S.attrs.order+"; top: "+(J-lt)+"px; left: "+(U-at)+"px; width: "+(ot-kt)+"px; height: "+(pt-Q)+"px;'>";for(const K in S)if(S[K].constructor===Array)for(let Lt=0;Lt<S[K].length;Lt++)it+=await V(K,S[K][Lt],O);else it+=await V(K,S[K],O);return it+="</div>",it}async function et(S,O){const E=S["p:nvSpPr"]["p:cNvPr"].attrs.id,G=S["p:nvSpPr"]["p:cNvPr"].attrs.name,U=S["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:S["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.idx;let J=S["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:S["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.type;const at=S.attrs.order;let lt,ot;return J!==void 0?(lt=O.slideLayoutTables.typeTable[J],ot=O.slideMasterTables.typeTable[J]):U!==void 0&&(lt=O.slideLayoutTables.idxTable[U],ot=O.slideMasterTables.idxTable[U]),J===void 0&&(J=Z(lt,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]),J===void 0&&(J=Z(ot,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]))),await vt(S,lt,ot,E,G,U,J,at,O)}async function rt(S,O){const E=S["p:nvCxnSpPr"]["p:cNvPr"].attrs.id,G=S["p:nvCxnSpPr"]["p:cNvPr"].attrs.name,U=S.attrs.order;return await vt(S,void 0,void 0,E,G,void 0,void 0,U,O)}async function vt(S,O,E,G,U,J,at,lt,ot){const pt=["p:spPr","a:xfrm"],kt=Z(S,pt),Q=Z(O,pt),jt=Z(E,pt);let it="";const K=Z(S,["attrs","order"]),Lt=Z(S,["p:spPr","a:prstGeom","attrs","prst"]),bt=Z(S,["p:spPr","a:custGeom"]);let _t=!1;(Z(kt,["attrs","flipV"])==="1"||Z(kt,["attrs","flipH"])==="1")&&(_t=!0);const zt=He(Z(kt,["attrs","rot"]));let $=0,X=0,ct={},Yt,Wt,Xt,Jt=!1,te=!1;if(Lt!==void 0||bt!==void 0){const Tt=Z(kt,["a:ext","attrs"]);$=parseInt(Tt.cx)*96/914400,X=parseInt(Tt.cy)*96/914400,it+="<svg class='drawing' _id='"+G+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,void 0,void 0)+ee(kt,void 0,void 0)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",it+="<defs>",Xt=await Ut(S,!0,ot);const Rt=re(Z(S,["p:spPr"]));if(Rt==="GRADIENT_FILL"){Jt=!0;const Bt=Xt.color,ie=Xt.rot,Ft=di($.toString(),X.toString(),ie,Bt,K);it+=Ft}else if(Rt==="PIC_FILL"){te=!0;const Bt=$e(Xt,K);it+=Bt}if(ct=be(S,!0),Yt=Z(S,["p:spPr","a:ln","a:headEnd","attrs"]),Wt=Z(S,["p:spPr","a:ln","a:tailEnd","attrs"]),Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")||Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")){const Bt="<marker id='markerTriangle_"+K+"' viewBox='0 0 10 10' refX='1' refY='5' markerWidth='5' markerHeight='5' stroke='"+ct.color+"' fill='"+ct.color+"' orient='auto-start-reverse' markerUnits='strokeWidth'><path d='M 0 0 L 10 5 L 0 10 z' /></marker>";it+=Bt}it+="</defs>"}if(Lt!==void 0&&bt===void 0){switch(Lt){case"accentBorderCallout1":case"accentBorderCallout2":case"accentBorderCallout3":case"accentCallout1":case"accentCallout2":case"accentCallout3":case"actionButtonBackPrevious":case"actionButtonBeginning":case"actionButtonBlank":case"actionButtonDocument":case"actionButtonEnd":case"actionButtonForwardNext":case"actionButtonHelp":case"actionButtonHome":case"actionButtonInformation":case"actionButtonMovie":case"actionButtonReturn":case"actionButtonSound":case"arc":case"bevel":case"blockArc":case"borderCallout1":case"borderCallout2":case"borderCallout3":case"bracePair":case"bracketPair":case"callout1":case"callout2":case"callout3":case"can":case"chartPlus":case"chartStar":case"chartX":case"chevron":case"chord":case"cloud":case"cloudCallout":case"corner":case"cornerTabs":case"cube":case"diagStripe":case"donut":case"doubleWave":case"downArrowCallout":case"ellipseRibbon":case"ellipseRibbon2":case"flowChartAlternateProcess":case"flowChartCollate":case"flowChartConnector":case"flowChartDecision":case"flowChartDelay":case"flowChartDisplay":case"flowChartDocument":case"flowChartExtract":case"flowChartInputOutput":case"flowChartInternalStorage":case"flowChartMagneticDisk":case"flowChartMagneticDrum":case"flowChartMagneticTape":case"flowChartManualInput":case"flowChartManualOperation":case"flowChartMerge":case"flowChartMultidocument":case"flowChartOfflineStorage":case"flowChartOffpageConnector":case"flowChartOnlineStorage":case"flowChartOr":case"flowChartPredefinedProcess":case"flowChartPreparation":case"flowChartProcess":case"flowChartPunchedCard":case"flowChartPunchedTape":case"flowChartSort":case"flowChartSummingJunction":case"flowChartTerminator":case"folderCorner":case"frame":case"funnel":case"gear6":case"gear9":case"halfFrame":case"heart":case"homePlate":case"horizontalScroll":case"irregularSeal1":case"irregularSeal2":case"leftArrowCallout":case"leftBrace":case"leftBracket":case"leftRightArrowCallout":case"leftRightRibbon":case"lightningBolt":case"lineInv":case"mathDivide":case"mathEqual":case"mathMinus":case"mathMultiply":case"mathNotEqual":case"mathPlus":case"moon":case"nonIsoscelesTrapezoid":case"noSmoking":case"pie":case"pieWedge":case"plaque":case"plaqueTabs":case"quadArrowCallout":case"rect":case"ribbon":case"ribbon2":case"rightArrowCallout":case"rightBrace":case"rightBracket":case"round1Rect":case"round2DiagRect":case"round2SameRect":case"smileyFace":case"snip1Rect":case"snip2DiagRect":case"snip2SameRect":case"snipRoundRect":case"squareTabs":case"star10":case"star12":case"star16":case"star24":case"star32":case"star4":case"star5":case"star6":case"star7":case"star8":case"sun":case"teardrop":case"upArrowCallout":case"upDownArrowCallout":case"verticalScroll":case"wave":case"wedgeEllipseCallout":case"wedgeRectCallout":case"wedgeRoundRectCallout":{it+="<rect x='0' y='0' width='"+$+"' height='"+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"ellipse":{it+="<ellipse cx='"+$/2+"' cy='"+X/2+"' rx='"+$/2+"' ry='"+X/2+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"roundRect":{it+="<rect x='0' y='0' width='"+$+"' height='"+X+"' rx='7' ry='7' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"bentConnector2":{let Tt;_t?Tt="M 0 "+$+" L "+X+" "+$+" L "+X+" 0":Tt="M "+$+" 0 L "+$+" "+X+" L 0 "+X,it+="<path d='"+Tt+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' fill='none' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>";break}case"rtTriangle":{it+=" <polygon points='0 0,0 "+X+","+$+" "+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"triangle":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.5;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))*96/9144e3),it+=" <polygon points='"+$*Rt+" 0,0 "+X+","+$+" "+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"diamond":{it+=" <polygon points='"+$/2+" 0,0 "+X/2+","+$/2+" "+X+","+$+" "+X/2+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"trapezoid":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;const Bt=.7407;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))*96/9144e3*.5/Bt),it+=" <polygon points='"+$*Rt+" 0,0 "+X+","+$+" "+X+","+(1-Rt)*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"parallelogram":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25,Bt;$>X?Bt=$/X:Bt=X/$,Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5/Bt),it+=" <polygon points='"+Rt*$+" 0,0 "+X+","+(1-Rt)*$+" "+X+","+$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"pentagon":{it+=" <polygon points='"+.5*$+" 0,0 "+.375*X+","+.15*$+" "+X+","+.85*$+" "+X+","+$+" "+.375*X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"hexagon":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"])||[];let Rt;for(let Ft=0;Ft<Tt.length;Ft++)Z(Tt[Ft],["attrs","name"])==="adj"&&(Rt=Z(Tt[Ft],["attrs","fmla"]));let Bt=.25;const ie=.62211;Rt!==void 0&&(Bt=parseInt(Rt.substr(4))*96/9144e3*.5/ie),it+=" <polygon points='"+$*Bt+" 0,0 "+X/2+","+$*Bt+" "+X+","+(1-Bt)*$+" "+X+","+$+" "+X/2+","+(1-Bt)*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"heptagon":{it+=" <polygon points='"+.5*$+" 0,"+$/8+" "+X/4+",0 "+5/8*X+","+$/4+" "+X+","+3/4*$+" "+X+","+$+" "+5/8*X+","+7/8*$+" "+X/4+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"octagon":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5);const Bt=1-Rt;it+=" <polygon points='"+Rt*$+" 0,0 "+Rt*X+",0 "+Bt*X+","+Rt*$+" "+X+","+Bt*$+" "+X+","+$+" "+Bt*X+","+$+" "+Rt*X+","+Bt*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"decagon":{it+=" <polygon points='"+3/8*$+" 0,"+$/8+" "+X/8+",0 "+X/2+","+$/8+" "+7/8*X+","+3/8*$+" "+X+","+5/8*$+" "+X+","+7/8*$+" "+7/8*X+","+$+" "+X/2+","+7/8*$+" "+X/8+","+5/8*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"dodecagon":{it+=" <polygon points='"+3/8*$+" 0,"+$/8+" "+X/8+",0 "+3/8*X+",0 "+5/8*X+","+$/8+" "+7/8*X+","+3/8*$+" "+X+","+5/8*$+" "+X+","+7/8*$+" "+7/8*X+","+$+" "+5/8*X+","+$+" "+3/8*X+","+7/8*$+" "+X/8+","+5/8*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"bentConnector3":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.5;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5,_t?it+=" <polyline points='"+$+" 0,"+(1-Rt)*$+" 0,"+(1-Rt)*$+" "+X+",0 "+X+"' fill='transparent'' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' ":it+=" <polyline points='0 0,"+Rt*$+" 0,"+Rt*$+" "+X+","+$+" "+X+"' fill='transparent'' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>");break}case"plus":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5);const Bt=1-Rt;it+=" <polygon points='"+Rt*$+" 0,"+Rt*$+" "+Rt*X+",0 "+Rt*X+",0 "+Bt*X+","+Rt*$+" "+Bt*X+","+Rt*$+" "+X+","+Bt*$+" "+X+","+Bt*$+" "+Bt*X+","+$+" "+Bt*X+","+ +$+" "+Rt*X+","+Bt*$+" "+Rt*X+","+Bt*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"line":case"straightConnector1":case"bentConnector4":case"bentConnector5":case"curvedConnector2":case"curvedConnector3":case"curvedConnector4":case"curvedConnector5":{_t?it+="<line x1='"+$+"' y1='0' x2='0' y2='"+X+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' ":it+="<line x1='0' y1='0' x2='"+$+"' y2='"+X+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>";break}case"rightArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt="",Bt=.5,ie,Ft=.5;const ye=$/X;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(ie=Z(Tt[Kt],["attrs","fmla"]),Ft=1-parseInt(ie.substr(4))/1e5/ye)}it+=" <polygon points='"+$+" "+X/2+","+Ft*$+" 0,"+Ft*$+" "+Bt*X+",0 "+Bt*X+",0 "+(1-Bt)*X+","+Ft*$+" "+(1-Bt)*X+", "+Ft*$+" "+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"leftArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,ie,Ft=.5;const ye=$/X;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(ie=Z(Tt[Kt],["attrs","fmla"]),Ft=parseInt(ie.substr(4))/1e5/ye)}it+=" <polygon points='0 "+X/2+","+Ft*$+" "+X+","+Ft*$+" "+(1-Bt)*X+","+$+" "+(1-Bt)*X+","+$+" "+Bt*X+","+Ft*$+" "+Bt*X+", "+Ft*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"downArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,ie,Ft=.5;const ye=X/$;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=parseInt(Rt.substr(4))/2e5):he==="adj2"&&(ie=Z(Tt[Kt],["attrs","fmla"]),Ft=parseInt(ie.substr(4))/1e5/ye)}it+=" <polygon points='"+(.5-Bt)*$+" 0,"+(.5-Bt)*$+" "+(1-Ft)*X+",0 "+(1-Ft)*X+","+$/2+" "+X+","+$+" "+(1-Ft)*X+","+(.5+Bt)*$+" "+(1-Ft)*X+", "+(.5+Bt)*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"upArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,ie,Ft=.5;const ye=X/$;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=parseInt(Rt.substr(4))/2e5):he==="adj2"&&(ie=Z(Tt[Kt],["attrs","fmla"]),Ft=parseInt(ie.substr(4))/1e5/ye)}it+=" <polygon points='"+$/2+" 0,0 "+Ft*X+","+(.5-Bt)*$+" "+Ft*X+","+(.5-Bt)*$+" "+X+","+(.5+Bt)*$+" "+X+","+(.5+Bt)*$+" "+Ft*X+", "+$+" "+Ft*X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"leftRightArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,ie,Ft=.5;const ye=$/X;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(ie=Z(Tt[Kt],["attrs","fmla"]),Ft=parseInt(ie.substr(4))/1e5/ye)}it+=" <polygon points='0 "+X/2+","+Ft*$+" "+X+","+Ft*$+" "+(1-Bt)*X+","+(1-Ft)*$+" "+(1-Bt)*X+","+(1-Ft)*$+" "+X+","+$+" "+X/2+", "+(1-Ft)*$+" 0,"+(1-Ft)*$+" "+Bt*X+","+Ft*$+" "+Bt*X+","+Ft*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"upDownArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,ie,Ft=.5;const ye=X/$;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(ie=Z(Tt[Kt],["attrs","fmla"]),Ft=parseInt(ie.substr(4))/1e5/ye)}it+=" <polygon points='"+$/2+" 0,0 "+Ft*X+","+Bt*$+" "+Ft*X+","+Bt*$+" "+(1-Ft)*X+",0 "+(1-Ft)*X+","+$/2+" "+X+", "+$+" "+(1-Ft)*X+","+(1-Bt)*$+" "+(1-Ft)*X+","+(1-Bt)*$+" "+Ft*X+","+$+" "+Ft*X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' />";break}case"bentArrow":case"bentUpArrow":case"stripedRightArrow":case"quadArrow":case"circularArrow":case"swooshArrow":case"leftRightUpArrow":case"leftUpArrow":case"leftCircularArrow":case"notchedRightArrow":case"curvedDownArrow":case"curvedLeftArrow":case"curvedRightArrow":case"curvedUpArrow":case"uturnArrow":case"leftRightCircularArrow":break;case void 0:default:console.warn("Undefine shape type.")}it+="</svg>",it+="<div class='block content "+ae(S,O,E)+"' _id='"+G+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,Q,jt)+ee(kt,Q,jt)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await dt(S["p:txBody"],O,E,at,ot)),it+="</div>"}else if(bt!==void 0){const Tt=Z(bt,["a:pathLst"]),Rt=Z(Tt,["a:path","a:close"]),Bt=Z(Tt,["a:path","a:moveTo","a:pt","attrs"])||{x:"0",y:"0"},ie=parseInt(Bt.x)*96/914400,Ft=parseInt(Bt.y)*96/914400;let ye="M"+ie+","+Ft;const Kt=Z(Tt,["a:path"]),he=Kt["a:lnTo"],je=Kt["a:cubicBezTo"],Mn=[];he!==void 0&&Object.keys(he).forEach(function(Ge){const xe=he[Ge]["a:pt"];xe!==void 0&&Object.keys(xe).forEach(function(rn){const Ve={},an=xe[rn],Ue=an.x,fn=an.y,jn=an.order;Ve.type="lnto",Ve.order=jn,Ve.x=Ue,Ve.y=fn,Mn.push(Ve)})}),je!==void 0&&Object.keys(je).forEach(function(Ge){const xe=je[Ge]["a:pt"];xe!==void 0&&Object.keys(xe).forEach(function(rn){const Ve=xe[rn];Object.keys(Ve).forEach(function(an){const Ue={},fn=Ve[an],jn=fn.x,yr=fn.y,tr=fn.order;Ue.type="cubicBezTo",Ue.order=tr,Ue.x=jn,Ue.y=yr,Mn.push(Ue)})})});const ke=Mn.slice(0);ke.sort(function(Ge,xe){return Ge.order-xe.order});let Ne=0;for(;Ne<ke.length;)if(ke[Ne].type==="lnto"){const Ge=parseInt(ke[Ne].x)*96/914400,xe=parseInt(ke[Ne].y)*96/914400;ye+="L"+Ge+","+xe,Ne++}else{const Ge=parseInt(ke[Ne].x)*96/914400,xe=parseInt(ke[Ne].y)*96/914400,rn=parseInt(ke[Ne+1].x)*96/914400,Ve=parseInt(ke[Ne+1].y)*96/914400,an=parseInt(ke[Ne+2].x)*96/914400,Ue=parseInt(ke[Ne+2].y)*96/914400;ye+="C"+Ge+","+xe+" "+rn+","+Ve+" "+an+","+Ue,Ne+=3}it+="<path d='"+ye+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ct.color+"' stroke-width='"+ct.width+"' stroke-dasharray='"+ct.strokeDasharray+"' ",Rt!==void 0||(Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' ")),it+="/>",it+="</svg>",it+="<div class='block content "+ae(S,O,E)+"' _id='"+G+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,Q,jt)+ee(kt,Q,jt)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await dt(S["p:txBody"],O,E,at,ot)),it+="</div>"}else it+="<div class='block content "+ae(S,O,E)+"' _id='"+G+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,Q,jt)+ee(kt,Q,jt)+be(S,!1)+await Ut(S,!1,ot)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await dt(S["p:txBody"],O,E,at="",ot)),it+="</div>";return it}async function Mt(S,O){const E=S.attrs.order,G=S["p:blipFill"]["a:blip"].attrs["r:embed"],U=O.slideResObj[G].target,J=yc(U).toLowerCase(),lt=await O.zip.file(U).async("arraybuffer");let ot="";const pt=S["p:spPr"]["a:xfrm"],kt=He(S["p:spPr"]["a:xfrm"].attrs.rot);return ot=On(J),"<div class='block content' style='"+Et(pt,void 0,void 0)+ee(pt,void 0,void 0)+" z-index: "+E+";transform: rotate("+kt+"deg);'><img src='data:"+ot+";base64,"+pa(lt)+"' style='width: 100%; height: 100%'/></div>"}async function gt(S,O){let E="";switch(Z(S,["a:graphic","a:graphicData","attrs","uri"])){case"http://schemas.openxmlformats.org/drawingml/2006/table":E=await Vt(S,O);break;case"http://schemas.openxmlformats.org/drawingml/2006/chart":E=await ce(S,O);break;case"http://schemas.openxmlformats.org/drawingml/2006/diagram":E=$t(S);break}return E}async function dt(S,O,E,G,U){let J="";const at=U&&U.slideMasterTextStyles;if(S===void 0)return J;let lt,ot;if(S["a:p"].constructor===Array)for(let pt=0;pt<S["a:p"].length;pt++){if(lt=S["a:p"][pt],ot=lt["a:r"],J+="<div  class='"+le(lt,O||{},E||{},G,at)+"'>",J+=await Pt(lt,O,E,G,U||{}),ot===void 0)J+=qt(lt,O,E,G,U||{});else if(ot.constructor===Array)for(let kt=0;kt<ot.length;kt++)J+=qt(ot[kt],O,E,G,U||{}),lt["a:br"]!==void 0&&(J+="<br>");else J+=qt(ot,O,E,G,U||{});J+="</div>"}else{if(lt=S["a:p"],ot=lt["a:r"],J+="<div class='slide-prgrph "+le(lt,O||{},E||{},G,at)+"'>",J+=await Pt(lt,O,E,G,U),ot===void 0)J+=qt(lt,O,E,G,U||{});else if(ot.constructor===Array)for(let pt=0;pt<ot.length;pt++)J+=qt(ot[pt],O,E,G,U||{}),lt["a:br"]!==void 0&&(J+="<br>");else J+=qt(ot,O,E,G,U||{});J+="</div>"}return J}async function Pt(S,O,E,G,U){const J=U&&U.slideMasterTextStyles,at=S["a:r"];let lt,ot,pt,kt;at!==void 0?(lt=ge(at),ot=ve(at,O,E,G,J)):(lt=ge(S),ot=ve(S,O,E,G,J));let Q="";const jt=S["a:pPr"],it=Z(jt,["attrs","rtl"]);let K=!1;it!==void 0&&it==="1"&&(K=!0);let Lt=parseInt(Z(jt,["attrs","lvl"]));isNaN(Lt)&&(Lt=0);const bt=Z(jt,["a:buChar","attrs","char"]);let _t="TYPE_NONE";const zt=Z(jt,["a:buAutoNum","attrs","type"]),$=Z(jt,["a:buBlip"]);bt!==void 0&&(_t="TYPE_BULLET"),zt!==void 0&&(_t="TYPE_NUMERIC"),$!==void 0&&(_t="TYPE_BULPIC");let X={};_t!=="TYPE_NONE"&&(X=Z(jt,["a:buFont","attrs"]));let ct="NoNe";if(jt){const Jt=jt["a:buClr"];Jt!==void 0&&(ct=Gt(Jt)||"")}ct==="NoNe"?pt=lt:pt="#"+ct;let Yt;if(Yt=Z(jt,["a:buSzPts","attrs","val"]),Yt!==void 0)kt=parseInt(Yt)/100+"pt";else if(Yt=Z(jt,["a:buSzPct","attrs","val"]),Yt!==void 0){const Jt=parseInt(Yt)/1e5,te=ot.substr(0,ot.length-2);kt=Jt*parseInt(te)+"pt"}else kt=ot;let Wt,Xt;if(_t==="TYPE_BULLET")X!==void 0?(Wt=parseInt(Z(jt,["attrs","marL"]))*96/914400,Xt=parseInt(X.pitchFamily),isNaN(Wt)&&(Wt=328600*96/914400),isNaN(Xt)&&(Xt=0),Q="<span style='font-family: "+X.typeface+"; margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;color:"+pt+";font-size:"+kt+";",K&&(Q+=" float: right;  direction:rtl"),Q+="'>"+bt+"</span>"):(Wt=328600*96/914400*Lt,Q="<span style='margin-left: "+Wt+"px;'>"+bt+"</span>");else if(_t==="TYPE_NUMERIC")X!==void 0?(Wt=parseInt(Z(jt,["attrs","marL"]))*96/914400,Xt=parseInt(X.pitchFamily),isNaN(Wt)&&(Wt=328600*96/914400),isNaN(Xt)&&(Xt=0),Q="<span style='margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;color:"+pt+";font-size:"+kt+";",K?Q+=" float: right; direction:rtl;":Q+=" float: left; direction:ltr;",Q+="' data-bulltname = '"+zt+"' data-bulltlvl = '"+Lt+"' class='numeric-bullet-style'></span>"):(Wt=328600*96/914400*Lt,Q="<span style='margin-left: "+Wt+"px;",K?Q+=" float: right; direction:rtl;":Q+=" float: left; direction:ltr;",Q+="' data-bulltname = '"+zt+"' data-bulltlvl = '"+Lt+"' class='numeric-bullet-style'></span>");else if(_t==="TYPE_BULPIC"){Wt=parseInt(Z(jt,["attrs","marL"]))*96/914400,Xt=parseInt(Z(jt,["attrs","marR"]))*96/914400,isNaN(Xt)&&(Xt=0),isNaN(Wt)?Wt=328600*96/914400:Wt=0;const Jt=Z($,["a:blip","attrs","r:embed"]);let te;if(Jt!==void 0){const Tt=U&&U.slideResObj[Jt].target,Rt=U&&await U.zip.file(Tt).async("arraybuffer"),Bt=Tt.split(".").pop();te="<img src='data:"+On(Bt)+";base64,"+pa(Rt)+"' style='width: 100%; height: 100%'/>"}Jt===void 0&&(te="&#8227;"),Q="<span style='margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;width:"+kt+";display: inline-block; ",K&&(Q+=" float: right;direction:rtl"),Q+="'>"+te+"  </span>"}else Q="<span style='margin-left: "+328600*96/914400*Lt+"px; margin-right: 0px;'></span>";return Q}function qt(S,O,E,G,U){const J=U.slideMasterTextStyles;let at=S["a:t"];typeof at!="string"&&!(at instanceof String)&&(at=Z(S,["a:fld","a:t"]),typeof at!="string"&&!(at instanceof String)&&(at="&nbsp;"));let lt="color:"+ge(S)+";font-size:"+ve(S,O,E,G,J)+";font-family:"+en(S,G)+";font-weight:"+ue(S)+";font-style:"+St(S)+";text-decoration:"+oe(S)+";text-align:"+Qt(S)+";vertical-align:"+me(S)+";";const ot=Z(S,["a:rPr","a:highlight"]);ot!==void 0&&(lt+="background-color:#"+Gt(ot)+";",lt+="Opacity:"+Se(ot)+";");let pt="";lt in B?pt=B[lt].name:(pt="_css_"+(Object.keys(B).length+1),B[lt]={name:pt,text:lt});const kt=Z(S,["a:rPr","a:hlinkClick","attrs","r:id"]);if(kt!==void 0){const Q=U.slideResObj[kt].target;return"<span class='text-block "+pt+"'><a href='"+Q+"' target='_blank'>"+at.replace(/\s/,"&nbsp;")+"</a></span>"}else return"<span class='text-block "+pt+"'>"+at.replace(/\s/,"&nbsp;")+"</span>"}function Nt(){let S="";for(const O in B)S+="section ."+B[O].name+"{"+B[O].text+`}
`;return S}async function Vt(S,O){const E=S.attrs.order,G=Z(S,["a:graphic","a:graphicData","a:tbl"]),U=Z(S,["p:xfrm"]),J=Z(S,["a:graphic","a:graphicData","a:tbl","a:tblPr"]),at=Z(S,["a:graphic","a:graphicData","a:tbl","a:tblGrid","a:gridCol"]);let lt="";J!==void 0&&(lt=J.attrs.rtl===1?"dir=rtl":"dir=ltr");const ot=J.attrs.firstRow,pt=J.attrs.bandRow;let kt="<table "+lt+" style='border-collapse: collapse;"+Et(U,void 0,void 0)+ee(U,void 0,void 0)+" z-index: "+E+";'>";const Q=G["a:tr"];if(Q.constructor===Array)for(let jt=0;jt<Q.length;jt++){const it=Q[jt].attrs.h;let K=0,Lt="";it!==void 0&&(K=parseInt(it)*96/914400,Lt+="height:"+K+"px;");let bt={};const _t=J["a:tableStyleId"];if(_t!==void 0){const $=L["a:tblStyleLst"]["a:tblStyle"]||[];for(let X=0;X<$.length;X++)$[X].attrs.styleId===_t&&(bt=$[X])}if(jt===0&&ot!==void 0){let $="fff",X=1;if(bt["a:firstRow"]!==void 0){const ct=Z(bt,["a:firstRow","a:tcStyle","a:fill","a:solidFill"]);ct!==void 0&&($=Gt(ct),X=Se(ct));const Yt=Z(bt,["a:firstRow","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}Z(bt,["a:firstRow","a:tcTxStyle"])}Lt+=" background-color:#"+$+"; opacity:"+X+";"}else if(jt>0&&pt!==void 0){let $="fff",X=1;if(jt%2===0){if(bt["a:band2H"]!==void 0){const ct=Z(bt,["a:band2H","a:tcStyle","a:fill","a:solidFill"]);ct!==void 0&&($=Gt(ct),X=Se(ct));const Yt=Z(bt,["a:band2H","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}Z(bt,["a:band2H","a:tcTxStyle"])}}else if(bt["a:band1H"]!==void 0){const ct=Z(bt,["a:band1H","a:tcStyle","a:fill","a:solidFill"]);ct!==void 0&&($=Gt(ct),X=Se(ct));const Yt=Z(bt,["a:band1H","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}Z(bt,["a:band1H","a:tcTxStyle"])}Lt+=" background-color:#"+$+"; opacity:"+X+";"}kt+="<tr style='"+Lt+"'>";const zt=Q[jt]["a:tc"];if(zt.constructor===Array)for(let $=0;$<zt.length;$++){const X=await dt(zt[$]["a:txBody"],void 0,void 0,void 0,O),ct=Z(zt[$],["attrs","rowSpan"]),Yt=Z(zt[$],["attrs","gridSpan"]),Wt=Z(zt[$],["attrs","vMerge"]),Xt=Z(zt[$],["attrs","hMerge"]),Jt=at[$].attrs.w;let te="";if(Jt!==void 0){const ie=parseInt(Jt)*96/914400;te+="width:"+ie+"px;"}const Tt=zt[$]["a:tcPr"]["a:solidFill"];let Rt="",Bt=1;if(Tt!==void 0)Rt=Gt(Tt),Bt=Se(Tt);else{const ie=J["a:tableStyleId"];if(ie!==void 0){const Ft=L["a:tblStyleLst"]["a:tblStyle"]||[];for(let ye=0;ye<Ft.length;ye++)Ft[ye].attrs.styleId}}Rt!==""&&(te+=" background-color:#"+Rt+";",te+=" opacity"+Bt+";"),ct!==void 0?kt+="<td rowspan='"+parseInt(ct)+"' style='"+te+"'>"+X+"</td>":Yt!==void 0?kt+="<td colspan='"+parseInt(Yt)+"' style='"+te+"'>"+X+"</td>":Wt===void 0&&Xt===void 0&&(kt+="<td style='"+te+"'>"+X+"</td>")}else{const $=await dt(zt["a:txBody"]),X=at[0].attrs.w;let ct="";if(X!==void 0){const Jt=parseInt(X)*96/914400;ct+="width:"+Jt+"px;"}const Yt=zt["a:tcPr"]["a:solidFill"];let Wt="",Xt=1;Yt!==void 0&&(Wt=Gt(Yt),Xt=Se(Yt)),Wt!==""&&(ct+=" background-color:#"+Wt+";",ct+=" opacity"+Xt+";"),kt+="<td style='"+ct+"'>"+$+"</td>"}kt+="</tr>"}else{const jt=Q.attrs.h;let it=0;jt!==void 0?(it=parseInt(jt)*96/914400,kt+="<tr style='height:"+it+"px;'>"):kt+="<tr>";const K=Q["a:tc"];if(K.constructor===Array)for(let Lt=0;Lt<K.length;Lt++){const bt=await dt(K[Lt]["a:txBody"]),_t=at[Lt].attrs.w;let zt="";if(_t!==void 0){const Yt=parseInt(_t)*96/914400;zt+="width:"+Yt+"px;"}const $=K[Lt]["a:tcPr"]["a:solidFill"];let X="",ct=1;$!==void 0&&(X=Gt($),ct=Se($)),X!==""&&(zt+=" background-color:#"+X+";",zt+=" opacity"+ct+";"),kt+="<td style='"+zt+"'>"+bt+"</td>"}else{const Lt=await dt(K["a:txBody"]),bt=at[0].attrs.w;let _t="";if(bt!==void 0){const ct=parseInt(bt)*96/914400;_t+="width:"+ct+"px;"}const zt=K["a:tcPr"]["a:solidFill"];let $="",X=1;zt!==void 0&&($=Gt(zt),X=Se(zt)),$!==""&&(_t+=" background-color:#"+$+";",_t+=" opacity"+X+";"),kt+="<td style='"+_t+"'>"+Lt+"</td>"}kt+="</tr>"}return kt}async function ce(S,O){const E=S.attrs.order,G=Z(S,["p:xfrm"]),U="<div id='chart"+k+"' class='block content' style='"+Et(G,void 0,void 0)+ee(G,void 0,void 0)+" z-index: "+E+";'></div>",J=S["a:graphic"]["a:graphicData"]["c:chart"].attrs["r:id"],at=O.slideResObj[J].target,lt=await R(O.zip,at),ot=Z(lt,["c:chartSpace","c:chart","c:plotArea"]);let pt=null;for(const kt in ot)switch(kt){case"c:lineChart":pt={type:"createChart",data:{chartID:"chart"+k,chartType:"lineChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:barChart":pt={type:"createChart",data:{chartID:"chart"+k,chartType:"barChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:pieChart":pt={type:"createChart",data:{chartID:"chart"+k,chartType:"pieChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:pie3DChart":pt={type:"createChart",data:{chartID:"chart"+k,chartType:"pie3DChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:areaChart":pt={type:"createChart",data:{chartID:"chart"+k,chartType:"areaChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:scatterChart":pt={type:"createChart",data:{chartID:"chart"+k,chartType:"scatterChart",chartData:nn(ot[kt]["c:ser"])}};break}return pt!=null&&h.push(pt),k++,U}function $t(S){const O=Z(S,["p:xfrm"]);return"<div class='block content' style='border: 1px dotted;"+Et(O,void 0,void 0)+ee(O,void 0,void 0)+"'>TODO: diagram</div>"}function Et(S,O,E){let G,U=-1,J=-1;return S!==void 0?G=S["a:off"].attrs:O!==void 0?G=O["a:off"].attrs:E!==void 0&&(G=E["a:off"].attrs),G===void 0?"":(U=parseInt(G.x)*96/914400,J=parseInt(G.y)*96/914400,isNaN(U)||isNaN(J)?"":"top:"+J+"px; left:"+U+"px;")}function ee(S,O,E){let G,U=-1,J=-1;return S!==void 0?G=S["a:ext"].attrs:O!==void 0?G=O["a:ext"].attrs:E!==void 0&&(G=E["a:ext"].attrs),G===void 0?"":(U=parseInt(G.cx)*96/914400,J=parseInt(G.cy)*96/914400,isNaN(U)||isNaN(J)?"":"width:"+U+"px; height:"+J+"px;")}function le(S,O,E,G,U){let J=Z(S,["a:pPr","attrs","algn"]);if(J===void 0&&(J=Z(O,["p:txBody","a:p","a:pPr","attrs","algn"]),J===void 0&&(J=Z(E,["p:txBody","a:p","a:pPr","attrs","algn"]),J===void 0)))switch(G){case"title":case"subTitle":case"ctrTitle":{J=Z(U,["p:titleStyle","a:lvl1pPr","attrs","alng"]);break}default:J=Z(U,["p:otherStyle","a:lvl1pPr","attrs","alng"])}if(J===void 0){if(G==="title"||G==="subTitle"||G==="ctrTitle")return"h-mid";if(G==="sldNum")return"h-right"}return J==="ctr"?"h-mid":J==="r"?"h-right":"h-left"}function ae(S,O,E,G,U){let J=Z(S,["p:txBody","a:bodyPr","attrs","anchor"]);return J===void 0&&(J=Z(O,["p:txBody","a:bodyPr","attrs","anchor"]),J===void 0&&(J=Z(E,["p:txBody","a:bodyPr","attrs","anchor"]))),J==="ctr"?"v-mid":J==="b"?"v-down":"v-up"}function en(S,O,E){let G=Z(S,["a:rPr","a:latin","attrs","typeface"]);if(G===void 0){const U=Z(y,["a:theme","a:themeElements","a:fontScheme"]);O==="title"||O==="subTitle"||O==="ctrTitle"?G=Z(U,["a:majorFont","a:latin","attrs","typeface"]):O==="body"?G=Z(U,["a:minorFont","a:latin","attrs","typeface"]):G=Z(U,["a:minorFont","a:latin","attrs","typeface"])}return G===void 0?"inherit":G}function ge(S,O,E){const G=Rn(S,"a:rPr a:solidFill"),U=Gt(G);return U===void 0||U==="FFF"?"#000":"#"+U}function ve(S,O,E,G,U){let J=16,at="";return S["a:rPr"]!==void 0&&(J=parseInt(S["a:rPr"].attrs.sz)/100),(isNaN(J)||J===void 0)&&(at=Z(O,["p:txBody","a:lstStyle","a:lvl1pPr","a:defRPr","attrs","sz"]),J=parseInt(at)/100),(isNaN(J)||J===void 0)&&(G==="title"||G==="subTitle"||G==="ctrTitle"?at=Z(U,["p:titleStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):G==="body"?at=Z(U,["p:bodyStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):G==="dt"||G==="sldNum"?at="1200":G===void 0&&(at=Z(U,["p:otherStyle","a:lvl1pPr","a:defRPr","attrs","sz"])),J=parseInt(at)/100),Z(S,["a:rPr","attrs","baseline"])!==void 0&&!isNaN(J)&&(J-=10),isNaN(J)?"inherit":J+"pt"}function ue(S,O,E){return S["a:rPr"]!==void 0&&S["a:rPr"].attrs.b==="1"?"bold":"initial"}function St(S,O,E){return S["a:rPr"]!==void 0&&S["a:rPr"].attrs.i==="1"?"italic":"normal"}function oe(S,O,E){if(S["a:rPr"]!==void 0){const G=S["a:rPr"].attrs.u!==void 0?S["a:rPr"].attrs.u:"none",U=S["a:rPr"].attrs.strike!==void 0?S["a:rPr"].attrs.strike:"noStrike";return G!=="none"&&U==="noStrike"?"underline":G==="none"&&U!=="noStrike"?"line-through":G!=="none"&&U!=="noStrike"?"underline line-through":"initial"}else return"initial"}function Qt(S,O,E){const G=Z(S,["a:pPr","attrs","algn"]);let U="initial";if(G!==void 0)switch(G){case"l":{U="left";break}case"r":{U="right";break}case"ctr":{U="center";break}case"just":{U="justify";break}case"dist":{U="justify";break}default:U="initial"}return U}function me(S,O,E){const G=Z(S,["a:rPr","attrs","baseline"]);return G===void 0?"baseline":parseInt(G)/1e3+"%"}function Ce(S){let O="",E,G;return S["a:bottom"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:bottom"]["a:ln"]}},G=be(E,!1),O+=G.replace("border","border-bottom")),S["a:top"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:top"]["a:ln"]}},G=be(E,!1),O+=G.replace("border","border-top")),S["a:right"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:right"]["a:ln"]}},G=be(E,!1),O+=G.replace("border","border-right")),S["a:left"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:left"]["a:ln"]}},G=be(E,!1),O+=G.replace("border","border-left")),O}function be(S,O){let E="border: ";const G=S["p:spPr"]["a:ln"],U=parseInt(Z(G,["attrs","w"]))/12700;isNaN(U)||U<1?E+="1pt ":E+=U+"pt ";const J=Z(G,["a:prstDash","attrs","val"]);let at="0";switch(J){case"solid":{E+="solid",at="0";break}case"dash":{E+="dashed",at="5";break}case"dashDot":{E+="dashed",at="5, 5, 1, 5";break}case"dot":{E+="dotted",at="1, 5";break}case"lgDash":{E+="dashed",at="10, 5";break}case"lgDashDotDot":{E+="dashed",at="10, 5, 1, 5, 1, 5";break}case"sysDash":{E+="dashed",at="5, 2";break}case"sysDashDot":{E+="dashed",at="5, 2, 1, 5";break}case"sysDashDotDot":{E+="dashed",at="5, 2, 1, 5, 1, 5";break}case"sysDot":{E+="dotted",at="2, 5";break}default:E+="solid",at="0"}let lt=Z(G,["a:solidFill","a:srgbClr","attrs","val"]);if(lt===void 0){const ot=Z(G,["a:solidFill","a:schemeClr"]);if(ot!==void 0){const pt="a:"+Z(ot,["attrs","val"]);lt=Fe(pt,void 0)}}if(lt===void 0){const ot=Z(S,["p:style","a:lnRef","a:schemeClr"]);if(ot!==void 0){const pt="a:"+Z(ot,["attrs","val"]);lt=Fe(pt,void 0)}if(lt!==void 0){let pt=Z(ot,["a:shade","attrs","val"]);if(pt!==void 0){pt=(parseInt(pt)/1e5).toString();const kt=new da("#"+lt);kt.setLum(Number(kt.hsl.l)*Number(pt)),lt=kt.hex.replace("#","")}}}return lt===void 0?O?lt="none":lt="#000":lt="#"+lt,E+=" "+lt+" ",O?{color:lt,width:U,type:J,strokeDasharray:at}:E+";"}async function _e(S,O,E,G){let U=Z(S,["p:sld","p:cSld","p:bg","p:bgPr"]),J=Z(S,["p:sld","p:cSld","p:bg","p:bgRef"]),at;if(U!==void 0){const lt=re(U);if(lt==="SOLID_FILL"){const ot=U["a:solidFill"],pt=Gt(ot),kt=Se(ot);at="background: rgba("+wt(pt)+","+kt+");"}else if(lt==="GRADIENT_FILL"){const ot=U["a:gradFill"],pt=ot["a:gsLst"]["a:gs"],kt=[],Q=[];for(let K=0;K<pt.length;K++){let Lt="",bt;if(pt[K]["a:srgbClr"]!==void 0)bt=Z(pt[K],["a:srgbClr","attrs","val"]),Lt=Z(pt[K],["a:srgbClr","a:tint","attrs","val"]);else if(pt[K]["a:schemeClr"]!==void 0){const _t=Z(pt[K],["a:schemeClr","attrs","val"]);bt=Fe("a:"+_t,E),Lt=Z(pt[K],["a:schemeClr","a:tint","attrs","val"])}kt[K]=bt,Q[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ot["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<pt.length;K++)K===pt.length-1?at+="rgba("+wt(kt[K])+","+Q[K]+"));":at+="rgba("+wt(kt[K])+","+Q[K]+"), "}else if(lt==="PIC_FILL"){const ot=await Ot("slideBg",U["a:blipFill"],G),pt=U.attrs.order;at="background-image: url("+ot+");  z-index: "+pt+";"}}else if(J!==void 0){let lt="";if(J["a:srgbClr"]!==void 0)lt=Z(J,["a:srgbClr","attrs","val"]);else if(J["a:schemeClr"]!==void 0){const pt=Z(J,["a:schemeClr","attrs","val"]);lt=Fe("a:"+pt,E)}const ot=Number(J.attrs.idx);if(!(ot===0||ot===1e3)){if(!(ot>0&&ot<1e3)){if(ot>1e3){const pt=ot-1e3,kt=y["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],Q=[];Object.keys(kt).forEach(function(Lt){const bt=kt[Lt];if(Lt!=="attrs")if(bt.constructor===Array)for(let _t=0;_t<bt.length;_t++){const zt={};zt[Lt]=bt[_t],zt.idex=bt[_t].attrs.order,Q.push(zt)}else{const _t={};_t[Lt]=bt,_t.idex=bt.attrs.order,Q.push(_t)}});const jt=Q.slice(0);jt.sort(function(Lt,bt){return Lt.idex-bt.idex});const it=jt[pt-1],K=re(it);if(K==="SOLID_FILL"){const Lt=it["a:solidFill"],bt=Se(Lt);at="background: rgba("+wt(lt)+","+bt+");"}else if(K==="GRADIENT_FILL"){const Lt=it["a:gradFill"],bt=Lt["a:gsLst"]["a:gs"],_t=[];for(let X=0;X<bt.length;X++){const ct=Z(bt[X],["a:schemeClr","a:tint","attrs","val"]);_t[X]=ct!==void 0?parseInt(ct)/1e5:1}const zt=Lt["a:lin"];let $=90;zt!==void 0&&($=He(zt.attrs.ang)+90),at="background: linear-gradient("+$+"deg,";for(let X=0;X<bt.length;X++)X===bt.length-1?at+="rgba("+wt(lt)+","+_t[X]+"));":at+="rgba("+wt(lt)+","+_t[X]+"), "}}}}}else if(U=Z(O,["p:sldLayout","p:cSld","p:bg","p:bgPr"]),J=Z(O,["p:sldLayout","p:cSld","p:bg","p:bgRef"]),U!==void 0){const lt=re(U);if(lt==="SOLID_FILL"){const ot=U["a:solidFill"],pt=Gt(ot),kt=Se(ot);at="background: rgba("+wt(pt)+","+kt+");"}else if(lt==="GRADIENT_FILL"){const ot=U["a:gradFill"],pt=ot["a:gsLst"]["a:gs"],kt=[],Q=[];for(let K=0;K<pt.length;K++){let Lt="",bt;if(pt[K]["a:srgbClr"]!==void 0)bt=Z(pt[K],["a:srgbClr","attrs","val"]),Lt=Z(pt[K],["a:srgbClr","a:tint","attrs","val"]);else if(pt[K]["a:schemeClr"]!==void 0){const _t=Z(pt[K],["a:schemeClr","attrs","val"]);bt=Fe("a:"+_t,E),Lt=Z(pt[K],["a:schemeClr","a:tint","attrs","val"])}kt[K]=bt,Q[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ot["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<pt.length;K++)K===pt.length-1?at+="rgba("+wt(kt[K])+","+Q[K]+"));":at+="rgba("+wt(kt[K])+","+Q[K]+"), "}else if(lt==="PIC_FILL"){const ot=await Ot("layoutBg",U["a:blipFill"],G),pt=U.attrs.order;at="background-image: url("+ot+");  z-index: "+pt+";"}}else if(J!==void 0)at="background: red;";else if(U=Z(E,["p:sldMaster","p:cSld","p:bg","p:bgPr"]),J=Z(E,["p:sldMaster","p:cSld","p:bg","p:bgRef"]),U!==void 0){const lt=re(U);if(lt==="SOLID_FILL"){const ot=U["a:solidFill"],pt=Gt(ot),kt=Se(ot);at="background: rgba("+wt(pt)+","+kt+");"}else if(lt==="GRADIENT_FILL"){const ot=U["a:gradFill"],pt=ot["a:gsLst"]["a:gs"],kt=[],Q=[];for(let K=0;K<pt.length;K++){let Lt="",bt;if(pt[K]["a:srgbClr"]!==void 0)bt=Z(pt[K],["a:srgbClr","attrs","val"]),Lt=Z(pt[K],["a:srgbClr","a:tint","attrs","val"]);else if(pt[K]["a:schemeClr"]!==void 0){const _t=Z(pt[K],["a:schemeClr","attrs","val"]);bt=Fe("a:"+_t,E),Lt=Z(pt[K],["a:schemeClr","a:tint","attrs","val"])}kt[K]=bt,Q[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ot["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<pt.length;K++)K===pt.length-1?at+="rgba("+wt(kt[K])+","+Q[K]+"));":at+="rgba("+wt(kt[K])+","+Q[K]+"), "}else if(lt==="PIC_FILL"){const ot=await Ot("masterBg",U["a:blipFill"],G),pt=U.attrs.order;at="background-image: url("+ot+");  z-index: "+pt+";"}}else if(J!==void 0){let lt="";if(J["a:srgbClr"]!==void 0)lt=Z(J,["a:srgbClr","attrs","val"]);else if(J["a:schemeClr"]!==void 0){const pt=Z(J,["a:schemeClr","attrs","val"]);lt=Fe("a:"+pt,E)}const ot=Number(J.attrs.idx);if(!(ot===0||ot===1e3)){if(!(ot>0&&ot<1e3)){if(ot>1e3){const pt=ot-1e3,kt=y["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],Q=[];Object.keys(kt).forEach(function(Lt){const bt=kt[Lt];if(Lt!=="attrs")if(bt.constructor===Array)for(let _t=0;_t<bt.length;_t++){const zt={};zt[Lt]=bt[_t],zt.idex=bt[_t].attrs.order,Q.push(zt)}else{const _t={};_t[Lt]=bt,_t.idex=bt.attrs.order,Q.push(_t)}});const jt=Q.slice(0);jt.sort(function(Lt,bt){return Lt.idex-bt.idex});const it=jt[pt-1],K=re(it);if(K==="SOLID_FILL"){const Lt=it["a:solidFill"],bt=Se(Lt);at="background: rgba("+wt(lt)+","+bt+");"}else if(K==="GRADIENT_FILL"){const Lt=it["a:gradFill"],bt=Lt["a:gsLst"]["a:gs"],_t=[];for(let X=0;X<bt.length;X++){const ct=Z(bt[X],["a:schemeClr","a:tint","attrs","val"]);_t[X]=ct!==void 0?parseInt(ct)/1e5:1}const zt=Lt["a:lin"];let $=90;zt!==void 0&&($=He(zt.attrs.ang)+90),at="background: linear-gradient("+$+"deg,";for(let X=0;X<bt.length;X++)X===bt.length-1?at+="rgba("+wt(lt)+","+_t[X]+"));":at+="rgba("+wt(lt)+","+_t[X]+"), "}}}}}return at}function wt(S="FFFFFF"){const O=new ArrayBuffer(4);new DataView(O).setUint32(0,parseInt(S,16),!1);const G=new Uint8Array(O);return G[1]+","+G[2]+","+G[3]}async function Ut(S,O,E){const G=re(Z(S,["p:spPr"]));let U;if(G==="NO_FILL")return O?"none":"background-color: initial;";if(G==="SOLID_FILL"){const J=S["p:spPr"]["a:solidFill"];U=Gt(J)}else if(G==="GRADIENT_FILL"){const J=S["p:spPr"]["a:gradFill"];U=ne(J)}else if(G==="PATTERN_FILL"){const J=S["p:spPr"]["a:pattFill"];U=fe(J)}else if(G==="PIC_FILL"){const J=S["p:spPr"]["a:blipFill"];U=await Ot("slideBg",J,E)}if(U===void 0){const J=Z(S,["p:style","a:fillRef"]);U=Gt(J)}if(U!==void 0)if(G==="GRADIENT_FILL"){if(O)return U;{const J=U.color;let lt="background: linear-gradient("+U.rot+"deg,";for(let ot=0;ot<J.length;ot++)ot===J.length-1?lt+=J[ot]+");":lt+=J[ot]+", ";return lt}}else return G==="PIC_FILL"?O?U:"background-image:url("+U+");":O?(U=new da(U).rgb.toString(),U):"background-color: #"+U+";";else return O?"none":"background-color: initial;"}function re(S){let O="";return S["a:noFill"]!==void 0&&(O="NO_FILL"),S["a:solidFill"]!==void 0&&(O="SOLID_FILL"),S["a:gradFill"]!==void 0&&(O="GRADIENT_FILL"),S["a:pattFill"]!==void 0&&(O="PATTERN_FILL"),S["a:blipFill"]!==void 0&&(O="PIC_FILL"),O}function ne(S){const O=S["a:gsLst"]["a:gs"],E=[];for(let J=0;J<O.length;J++){let at=Gt(O[J]);if(O[J]["a:srgbClr"]!==void 0){let lt=parseInt(Z(S,["a:srgbClr","a:lumMod","attrs","val"]))/1e5,ot=parseInt(Z(S,["a:srgbClr","a:lumOff","attrs","val"]))/1e5;isNaN(lt)&&(lt=1),isNaN(ot)&&(ot=0),at=mr(at,lt,ot)}else if(O[J]["a:schemeClr"]!==void 0){let lt=parseInt(Z(O[J],["a:schemeClr","a:lumMod","attrs","val"]))/1e5,ot=parseInt(Z(O[J],["a:schemeClr","a:lumOff","attrs","val"]))/1e5;isNaN(lt)&&(lt=1),isNaN(ot)&&(ot=0),at=mr(at,lt,ot)}E[J]=at}const G=S["a:lin"];let U=0;return G!==void 0&&(U=He(G.attrs.ang)+90),{color:E,rot:U}}async function Ot(S,O,E){const G=O["a:blip"].attrs["r:embed"];let U;if(S==="slideBg"?U=Z(E,["slideResObj",G,"target"]):S==="layoutBg"?U=Z(E,["layoutResObj",G,"target"]):S==="masterBg"&&(U=Z(E,["masterResObj",G,"target"])),U===void 0)return;const J=U.split(".").pop();if(J==="xml")return;const at=await E.zip.file(U).async("arraybuffer");return"data:"+On(J)+";base64,"+pa(at)}function fe(S){const O=S["a:bgClr"];return Gt(O)}function Gt(S){if(S===void 0)return;let O="FFF";if(S["a:srgbClr"]!==void 0)O=Z(S,["a:srgbClr","attrs","val"]);else if(S["a:schemeClr"]!==void 0){const E=Z(S,["a:schemeClr","attrs","val"]);O=Fe("a:"+E,void 0)}else if(S["a:scrgbClr"]!==void 0){const E=S["a:scrgbClr"].attrs,G=E.r.indexOf("%")!==-1?E.r.split("%").shift():E.r,U=E.g.indexOf("%")!==-1?E.g.split("%").shift():E.g,J=E.b.indexOf("%")!==-1?E.b.split("%").shift():E.b;O=Pe(255*(Number(G)/100))+Pe(255*(Number(U)/100))+Pe(255*(Number(J)/100))}else if(S["a:prstClr"]!==void 0){const E=S["a:prstClr"].attrs.val;O=Cn(E)}else if(S["a:hslClr"]!==void 0){const E=S["a:hslClr"].attrs,G=Number(E.hue)/1e5,U=Number(E.sat.indexOf("%")!==-1?E.sat.split("%").shift():E.sat)/100,J=Number(E.lum.indexOf("%")!==-1?E.lum.split("%").shift():E.lum)/100,at=mn(G,U,J);O=Pe(at.r)+Pe(at.g)+Pe(at.b)}else if(S["a:sysClr"]!==void 0){const E=Z(S,["a:sysClr","attrs","lastClr"]);E!==void 0&&(O=E)}return O}function Pe(S){let O=S.toString(16);for(;O.length<2;)O="0"+O;return O}function mn(S,O,E){let G;S=S/60,E<=.5?G=E*(O+1):G=E+O-E*O;const U=E*2-G,J=un(U,G,S+2)*255,at=un(U,G,S)*255,lt=un(U,G,S-2)*255;return{r:J,g:at,b:lt}}function un(S,O,E){return E<0&&(E+=6),E>=6&&(E-=6),E<1?(O-S)*E+S:E<3?O:E<4?(O-S)*(4-E)+S:S}function Cn(S){let O;const E=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],G=["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"],U=E.indexOf(S);return U!==-1&&(O=G[U]),O}function Se(S){if(S===void 0)return;let O=1;if(S["a:srgbClr"]!==void 0){const E=Z(S,["a:srgbClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:schemeClr"]!==void 0){const E=Z(S,["a:schemeClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:scrgbClr"]!==void 0){const E=Z(S,["a:scrgbClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:prstClr"]!==void 0){const E=Z(S,["a:prstClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:hslClr"]!==void 0){const E=Z(S,["a:hslClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:sysClr"]!==void 0){const E=Z(S,["a:sysClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}return O}function Fe(S,O){(z===""||z===void 0)&&(z=Z(O,["p:sldMaster","p:clrMap","attrs"])||{});const E=S.substr(2);switch(E){case"tx1":case"tx2":case"bg1":case"bg2":{S="a:"+z[E.toString()];break}}const G=Z(y,["a:theme","a:themeElements","a:clrScheme",S]);let U=Z(G,["a:srgbClr","attrs","val"]);return U===void 0&&(U=Z(G,["a:sysClr","attrs","lastClr"])),U}function nn(S){const O=[];if(S===void 0)return O;if(S["c:xVal"]!==void 0){let E=[];cn(S["c:xVal"]["c:numRef"]["c:numCache"]["c:pt"],function(G,U){return E.push(parseFloat(G["c:v"])),""}),O.push(E),E=[],cn(S["c:yVal"]["c:numRef"]["c:numCache"]["c:pt"],function(G,U){return E.push(parseFloat(G["c:v"])),""}),O.push(E)}else cn(S,function(E,G){const U=[],J=Z(E,["c:tx","c:strRef","c:strCache","c:pt","c:v"])||G,at={};return Z(E,["c:cat","c:strRef","c:strCache","c:pt"])!==void 0?cn(E["c:cat"]["c:strRef"]["c:strCache"]["c:pt"],function(lt,ot){return at[lt.attrs.idx]=lt["c:v"],""}):Z(E,["c:cat","c:numRef","c:numCache","c:pt"])!==void 0&&cn(E["c:cat"]["c:numRef"]["c:numCache"]["c:pt"],function(lt,ot){return at[lt.attrs.idx]=lt["c:v"],""}),Z(E,["c:val","c:numRef","c:numCache","c:pt"])!==void 0&&cn(E["c:val"]["c:numRef"]["c:numCache"]["c:pt"],function(lt,ot){return U.push({x:lt.attrs.idx,y:parseFloat(lt["c:v"])}),""}),O.push({key:J,values:U,xlabels:at}),""});return O}function Rn(S,O){return Z(S,O.trim().split(/\s+/))}function Z(S,O){if(O.constructor!==Array)throw Error("Error of path type! path is not array.");if(S===void 0)return;const E=O.length;for(let G=0;G<E;G++)if(S=S[O[G]],S===void 0)return;return S}function cn(S,O){if(S===void 0)return;let E="";if(S.constructor===Array){const G=S.length;for(let U=0;U<G;U++)E+=O(S[U],U)}else E+=O(S,0);return E}function mr(S="#FFFFFF",O,E){const G=new da(S);return G.setLum(G.hsl.l*(1+E)),G.rgb.toString()}function He(S){return S===""||S==null?0:Math.round(Number(S)/6e4)}function On(S){let O="";switch(S.toLowerCase()){case"jpg":case"jpeg":{O="image/jpeg";break}case"png":{O="image/png";break}case"gif":{O="image/gif";break}case"emf":{O="image/x-emf";break}case"wmf":{O="image/x-wmf";break}case"svg":{O="image/svg+xml";break}default:O="image/*"}return O}function di(S,O,E,G,U){const J=Ze(G.length-2),at=_r(E,O,S),lt=at[0],ot=at[1],pt=at[2],kt=at[3],Q=J.length,jt=Q<20?100:1e3,it=' gradientUnits="userSpaceOnUse" x1="'+lt+'%" y1="'+ot+'%" x2="'+pt+'%" y2="'+kt+'%"';let K='<linearGradient id="linGrd_'+U+'"'+it+`>
`;for(let Lt=0;Lt<Q;Lt++)K+='<stop offset="'+Math.round(parseFloat(J[Lt])/100*jt)/jt+'" stop-color="'+G[Lt]+'"',K+=`/>
`;return K+=`</linearGradient>
`,K}function Ze(S){const O=["0%","100%"];if(S===0)return!0;{let E=S;for(;E--;){const U=100-100/(S+1)*(E+1)+"%";O.splice(-1,0,U)}}return O}function _r(S,O,E){const G=parseFloat(E),U=parseFloat(O),J=parseFloat(S);let at=2,lt=2;const ot=G/2,pt=U/2;let kt=2,Q=2,jt=2,it=2;const K=(J%360+360)%360,Lt=(360-K)*Math.PI/180,bt=Math.tan(Lt),_t=pt-bt*ot;K===0?(kt=G,Q=pt,jt=0,it=pt):K<90?(lt=G,at=0):K===90?(kt=ot,Q=0,jt=ot,it=U):K<180?(lt=0,at=0):K===180?(kt=0,Q=pt,jt=G,it=pt):K<270?(lt=0,at=U):K===270?(kt=ot,Q=U,jt=ot,it=0):(lt=G,at=U);const zt=at+lt/bt;kt=kt===2?bt*(zt-_t)/(Math.pow(bt,2)+1):kt,Q=Q===2?bt*kt+_t:Q,jt=jt===2?G-kt:jt,it=it===2?U-Q:it;const $=Math.round(jt/G*100*100)/100,X=Math.round(it/U*100*100)/100,ct=Math.round(kt/G*100*100)/100,Yt=Math.round(Q/U*100*100)/100;return[$,X,ct,Yt]}function $e(S,O){let E='<pattern id="imgPtrn_'+O+'"  patternContentUnits="objectBoundingBox"  width="1" height="1">';return E+='<image  xlink:href="'+S+'" preserveAspectRatio="none" width="1" height="1"></image>',E+="</pattern>",E}}const T={version:"2.2.0",plot:{},aggregateMethod:{}};T.axis=function(p,o,h,k,y,z){this.chart=p,this.position=o,this.categoryFields=y==null?h:[].concat(y),this.measure=k,this.timeField=y,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=z??!0,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var B,L,D=[],R=!1;if(this.chart&&this.chart.series){for(B=0;B<this.chart.series.length;B+=1)L=this.chart.series[B],L[this.position]===this&&(L.data&&L.data.length>0?D=D.concat(L.data):R=!0);R&&this.chart.data&&(D=D.concat(this.chart.data))}return D},this._getFontSize=function(){var B;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?B=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?B=this.fontSize:B=this.fontSize+"px",B},this._getFormat=function(){var B,L,D,R,C,I,M;return this.tickFormat!==null&&this.tickFormat!==void 0?this._hasTimeField()?B=ht.timeFormat(this.tickFormat):B=ht.format(this.tickFormat):this.showPercent?B=ht.format(".0%"):this.useLog&&this.measure!==null?B=function(N){var b=Math.floor(Math.abs(N),0).toString().length,V=Math.min(Math.floor((b-1)/3),4),q="kmBT".substring(V-1,V),et=Math.round(N/Math.pow(1e3,V)*10).toString().slice(-1)==="0"?0:1;return N===0?0:ht.format(",."+et+"f")(N/Math.pow(1e3,V))+q}:this.measure!==null?(L=Math.floor(Math.abs(this._max),0).toString(),D=Math.floor(Math.abs(this._min),0).toString(),R=Math.max(D.length,L.length),R>3?(C=Math.min(Math.floor((R-1)/3),4),I="kmBT".substring(C-1,C),M=R-C*3<=1?1:0,B=function(N){return N===0?0:ht.format(",."+M+"f")(N/Math.pow(1e3,C))+I}):(M=Math.max(-(this._tick_step?Math.floor(Math.log(this._tick_step)/Math.LN10):0),0),B=ht.format(",."+M+"f"))):B=function(N){return N},B},this._getTimePeriod=function(){var B=this.timePeriod,L=30,D=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(D/1e3<=L?B=ht.timeSecond:D/6e4<=L?B=ht.timeMinute:D/36e5<=L?B=ht.timeHour:D/864e5<=L?B=ht.timeHay:D/6048e5<=L?B=ht.timeWeek:D/26298e5<=L?B=ht.timeMonth:B=ht.timeYear),B},this._getTooltipText=function(B,L){if(this._hasTimeField())L[this.position+"Field"][0]&&B.push(this.timeField+": "+this._getFormat()(L[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(D,R){D!=null&&L[this.position+"Field"][R]&&B.push(D+(L[this.position+"Field"][R]!==D?": "+L[this.position+"Field"][R]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":B.push(this.measure+": "+this._getFormat()(L.width));break;case"y":B.push(this.measure+": "+this._getFormat()(L.height));break;case"p":B.push(this.measure+": "+this._getFormat()(L.angle)+" ("+ht.format(".0%")(L.piePct)+")");break;default:B.push(this.measure+": "+this._getFormat()(L[this.position+"Value"]));break}},this._getTopMaster=function(){var B=this;return this.master!==null&&this.master!==void 0&&(B=this.master._getTopMaster()),B},this._hasCategories=function(){return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0},this._hasMeasure=function(){return this.measure!==null&&this.measure!==void 0},this._hasTimeField=function(){return this.timeField!==null&&this.timeField!==void 0},this._parseDate=function(B){var L;return this.dateParseFormat===null||this.dateParseFormat===void 0?isNaN(B)?L=Date.parse(B):L=new Date(B):L=ht.timeParse(this.dateParseFormat)(B),L},this._update=function(B){var L=[],D,R,C,I,M=this.ticks||10,N=function(b,V,q){var et=b.categoryFields[0],rt=b._getAxisData(),vt=et,Mt=!1,gt=!0,dt=null,Pt,qt;for(Pt=0;Pt<rt.length;Pt+=1)if(dt=b._parseDate(rt[Pt][et]),dt!=null&&isNaN(dt)){gt=!1;break}return gt||b.chart.series.forEach(function(Nt){Nt[V]===b&&Nt[q]._hasMeasure()&&(vt=Nt[q].measure,Mt=!0)},this),qt=b._orderRules.concat({ordering:vt,desc:Mt}),T._getOrderedList(rt,et,qt)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=this.overrideMin!==null?this.overrideMin:this._min,this._max=this.overrideMax!==null?this.overrideMax:this._max,this.position==="x"&&(this._scale===null||B)){if(this._hasTimeField()?this._scale=ht.scaleTime().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=ht.scaleLog().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(L=N(this,"x","y"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(b){L=L.concat(N(b,"x","y"))},this),this._scale=ht.scalePoint().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(L.concat([""]))):this._scale=ht.scaleLinear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=ht.axisBottom().scale(this._scale),this.ticks&&this._draw.ticks(M);break;case 1:this._draw=ht.axisTop().scale(this._scale),this.ticks&&this._draw.ticks(M);break}}else if(this.position==="y"&&(this._scale===null||B)){if(this._hasTimeField()?this._scale=ht.scaleTime().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=ht.scaleLog().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(L=N(this,"y","x"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(b){L=L.concat(N(b,"y","x"))},this),this._scale=ht.scalePoint().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(L.concat([""]))):this._scale=ht.scaleLinear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=ht.axisLeft().scale(this._scale),this.ticks&&this._draw.ticks(M);break;case 1:this._draw=ht.axisRight().scale(this._scale),this.ticks&&this._draw.ticks(M);break}}else this.position.length>0&&this.position[0]==="z"&&this._scale===null?this.useLog?this._scale=ht.scaleLog().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=ht.scaleLinear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="p"&&this._scale===null?this.useLog?this._scale=ht.scaleLog().range([0,360]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=ht.scaleLinear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="c"&&this._scale===null&&(this._scale=ht.scaleLinear().range([0,this.colors===null||this.colors.length===1?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));return this._slaves!==null&&this._slaves!==void 0&&this._slaves.length>0&&this._slaves.forEach(function(b){b._scale=this._scale},this),(B==null||B===!1)&&!this._hasTimeField()&&this._scale!==null&&this._scale.ticks!==null&&this._scale.ticks!==void 0&&this._scale.ticks(M).length>0&&(this.position==="x"||this.position==="y")&&(D=this._scale.ticks(M),R=D[1]-D[0],C=((this._max-this._min)%R).toFixed(0),this._tick_step=R,C!==0&&(this._max=Math.ceil(this._max/R)*R,this._min=Math.floor(this._min/R)*R,this._update(!0))),L!=null&&L.length>0?I=this._scale.copy()(L[0]):this._min>0?I=this._scale.copy()(this._min):this._max<0?I=this._scale.copy()(this._max):I=this._scale.copy()(0),this._origin!==I&&(this._previousOrigin=this._origin===null?I:this._origin,this._origin=I),this},this.addGroupOrderRule=function(B,L){this._groupOrderRules.push({ordering:B,desc:L})},this.addOrderRule=function(B,L){this._orderRules.push({ordering:B,desc:L})}};T.chart=function(p,o){this.svg=p,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=o,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease=ht.easeCubicInOut,this.staggerDraw=!1,this.transition={},this._group=p.append("g"),this._group.attr("class","dimple-chart"),this._gridlines_group=this._group.insert("g"),this._gridlines_group.attr("class","dimple-gridlines-group"),this._axis_group=this._group.insert("g"),this._axis_group.attr("class","dimple-axis-group"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(h,k){var y=0,z=0,B=-1;for(y=0;y<this.axes.length;y+=1){if(this.axes[y]===h){B=z;break}(k==null||k[0]===this.axes[y].position[0])&&(z+=1)}return B},this._getAllData=function(){var h=[];return this.data!==null&&this.data!==void 0&&this.data.length>0&&(h=h.concat(this.data)),this.series!==null&&this.series!==void 0&&this.series.length>0&&this.series.forEach(function(k){k.data!==null&&k.data!==void 0&&k.data.length>0&&(h=h.concat(k.data))}),h},this._getData=function(h,k,y,z,B,L,D,R,C,I){var M=[],N=function(St,oe){var Qt=[];return St!==null&&(St._hasTimeField()?Qt.push(St._parseDate(oe[St.timeField])):St._hasCategories()&&St.categoryFields.forEach(function(me){Qt.push(oe[me])},this)),Qt},b={x:!1,y:!1,z:!1,p:!1,c:!1},V={x:[],y:[]},q={x:[],y:[],z:[],p:[]},et={min:null,max:null},rt,vt={x:[],y:[],z:[],p:[]},Mt=[],gt={},dt={x:0,y:0,z:0,p:0},Pt,qt="",Nt=[],Vt=[],ce=[],$t="",Et=[],ee="",le=[],ae="",en=[],ge=[],ve=h,ue=[];this.storyboard&&this.storyboard.categoryFields.length>0&&(qt=this.storyboard.categoryFields[0],Nt=T._getOrderedList(ve,qt,this.storyboard._orderRules)),L&&L._hasCategories()&&L._hasMeasure()&&($t=L.categoryFields[0],Et=T._getOrderedList(ve,$t,L._orderRules.concat([{ordering:L.measure,desc:!0}]))),D&&D._hasCategories()&&D._hasMeasure()&&(ee=D.categoryFields[0],le=T._getOrderedList(ve,ee,D._orderRules.concat([{ordering:D.measure,desc:!0}]))),C&&C._hasCategories()&&C._hasMeasure()&&(ae=C.categoryFields[0],en=T._getOrderedList(ve,ae,C._orderRules.concat([{ordering:C.measure,desc:!0}]))),ve.length>0&&k&&k.length>0&&(ge=[].concat(z),Vt=[],k.forEach(function(St){ve[0][St]!==void 0&&Vt.push(St)},this),C&&C._hasMeasure()?ge.push({ordering:C.measure,desc:!0}):I&&I._hasMeasure()?ge.push({ordering:I.measure,desc:!0}):R&&R._hasMeasure()?ge.push({ordering:R.measure,desc:!0}):L&&L._hasMeasure()?ge.push({ordering:L.measure,desc:!0}):D&&D._hasMeasure()&&ge.push({ordering:D.measure,desc:!0}),ce=T._getOrderedList(ve,Vt,ge)),ve.sort(function(St,oe){var Qt=0,me,Ce,be,_e,wt,Ut;if(qt!==""&&(Qt=Nt.indexOf(St[qt])-Nt.indexOf(oe[qt])),$t!==""&&Qt===0&&(Qt=Et.indexOf(St[$t])-Et.indexOf(oe[$t])),ee!==""&&Qt===0&&(Qt=le.indexOf(St[ee])-le.indexOf(oe[ee])),ae!==""&&Qt===0&&(Qt=en.indexOf(St[ae])-le.indexOf(oe[ae])),Vt&&Vt.length>0&&Qt===0)for(me=[].concat(Vt),Qt=0,be=0;be<ce.length;be+=1){for(Ce=[].concat(ce[be]),wt=!0,Ut=!0,_e=0;_e<me.length;_e+=1)wt=wt&&St[me[_e]]===Ce[_e],Ut=Ut&&oe[me[_e]]===Ce[_e];if(wt||Ut){wt&&Ut?Qt=0:wt?Qt=-1:Qt=1;break}}return Qt}),ve.forEach(function(St){var oe=-1,Qt=N(L,St),me=N(D,St),Ce=N(R,St),be=N(C,St),_e=[],wt,Ut,re,ne,Ot;if(!k||k.length===0)_e=["All"];else for(re=0;re<k.length;re+=1)St[k[re]]===void 0?_e.push(k[re]):_e.push(St[k[re]]);for(wt=_e.join("/")+"_"+Qt.join("/")+"_"+me.join("/")+"_"+be.join("/")+"_"+Ce.join("/"),Ut=0;Ut<M.length;Ut+=1)if(M[Ut].key===wt){oe=Ut;break}oe===-1&&(ne={key:wt,aggField:_e,xField:Qt,xValue:null,xCount:0,yField:me,yValue:null,yCount:0,pField:be,pValue:null,pCount:0,zField:Ce,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},M.push(ne),oe=M.length-1),Ot=function(fe,Gt){var Pe=!0,mn={value:0,count:1},un={value:0,count:1},Cn,Se="",Fe;Gt!==null&&(Cn=Gt.getFrameValue(),Gt.categoryFields.forEach(function(nn,Rn){Rn>0&&(Se+="/"),Se+=St[nn],Pe=Se===Cn},this)),fe!=null&&Pe&&(Fe=M[oe],fe._hasMeasure()&&St[fe.measure]!==null&&St[fe.measure]!==void 0&&(Fe[fe.position+"ValueList"].indexOf(St[fe.measure])===-1&&Fe[fe.position+"ValueList"].push(St[fe.measure]),isNaN(parseFloat(St[fe.measure]))&&(b[fe.position]=!0),mn.value=Fe[fe.position+"Value"],mn.count=Fe[fe.position+"Count"],un.value=St[fe.measure],Fe[fe.position+"Value"]=y(mn,un),Fe[fe.position+"Count"]+=1))},Ot(L,this.storyboard),Ot(D,this.storyboard),Ot(R,this.storyboard),Ot(C,this.storyboard),Ot(I,this.storyboard)},this),L&&L._hasCategories()&&L.categoryFields.length>1&&V.x!==void 0&&(ue=[],D._hasMeasure()&&ue.push({ordering:D.measure,desc:!0}),V.x=T._getOrderedList(ve,L.categoryFields[1],L._groupOrderRules.concat(ue))),D&&D._hasCategories()&&D.categoryFields.length>1&&V.y!==void 0&&(ue=[],L._hasMeasure()&&ue.push({ordering:L.measure,desc:!0}),V.y=T._getOrderedList(ve,D.categoryFields[1],D._groupOrderRules.concat(ue)),V.y.reverse()),M.forEach(function(St){L!==null&&(b.x===!0&&(St.xValue=St.xValueList.length),L._hasMeasure()&&L._hasCategories()?rt=(q.x[St.xField.join("/")]||0)+(L._hasMeasure()?Math.abs(St.xValue):0):rt=(q.x[St.xField.join("/")]||0)+(D._hasMeasure()?Math.abs(St.yValue):0),q.x[St.xField.join("/")]=rt),D!==null&&(b.y===!0&&(St.yValue=St.yValueList.length),D._hasMeasure()&&D._hasCategories()?rt=(q.y[St.yField.join("/")]||0)+(D._hasMeasure()?Math.abs(St.yValue):0):rt=(q.y[St.yField.join("/")]||0)+(L._hasMeasure()?Math.abs(St.xValue):0),q.y[St.yField.join("/")]=rt),C!==null&&(b.p===!0&&(St.pValue=St.pValueList.length),rt=(q.p[St.pField.join("/")]||0)+(C._hasMeasure()?Math.abs(St.pValue):0),q.p[St.pField.join("/")]=rt),R!==null&&(b.z===!0&&(St.zValue=St.zValueList.length),rt=(q.z[St.zField.join("/")]||0)+(R._hasMeasure()?Math.abs(St.zValue):0),q.z[St.zField.join("/")]=rt),I!==null&&((et.min===null||St.cValue<et.min)&&(et.min=St.cValue),(et.max===null||St.cValue>et.max)&&(et.max=St.cValue))},this);for(Pt in q.x)Object.prototype.hasOwnProperty.call(q.x,Pt)&&(dt.x+=q.x[Pt]);for(Pt in q.y)Object.prototype.hasOwnProperty.call(q.y,Pt)&&(dt.y+=q.y[Pt]);for(Pt in q.p)Object.prototype.hasOwnProperty.call(q.p,Pt)&&(dt.p+=q.p[Pt]);for(Pt in q.z)Object.prototype.hasOwnProperty.call(q.z,Pt)&&(dt.z+=q.z[Pt]);return M.forEach(function(St){var oe,Qt,me,Ce,be,_e=function(wt,Ut,re){var ne,Ot,fe,Gt,Pe;wt!=null&&(Gt=wt.position,wt._hasCategories()?wt._hasMeasure()?(ne=St[wt.position+"Field"].join("/"),Ot=wt.showPercent?q[wt.position][ne]/dt[wt.position]:q[wt.position][ne],Mt.indexOf(ne)===-1&&(gt[ne]=Ot+(Mt.length>0?gt[Mt[Mt.length-1]]:0),Mt.push(ne)),fe=St[Gt+"Bound"]=St["c"+Gt]=(Gt==="x"||Gt==="y")&&B?gt[ne]:Ot,St[re]=Ot,St[Gt]=fe-(Gt==="x"&&Ot>=0||Gt==="y"&&Ot<=0?Ot:0)):(St[Gt]=St["c"+Gt]=St[Gt+"Field"][0],St[re]=1,V[Gt]!==void 0&&V[Gt]!==null&&V[Gt].length>=2&&(St[Gt+"Offset"]=V[Gt].indexOf(St[Gt+"Field"][1]),St[re]=1/V[Gt].length)):(Ot=wt.showPercent?St[Gt+"Value"]/q[Ut][St[Ut+"Field"].join("/")]:St[Gt+"Value"],ne=St[Ut+"Field"].join("/")+(St[Gt+"Value"]>=0),Pe=vt[Gt][ne]=(vt[Gt][ne]===null||vt[Gt][ne]===void 0||Gt==="z"||Gt==="p"?0:vt[Gt][ne])+Ot,fe=St[Gt+"Bound"]=St["c"+Gt]=(Gt==="x"||Gt==="y")&&B?Pe:Ot,St[re]=Ot,St[Gt]=fe-(Gt==="x"&&Ot>=0||Gt==="y"&&Ot<=0?Ot:0)))};_e(L,"y","width"),_e(D,"x","height"),_e(R,"z","r"),_e(C,"p","angle"),I!==null&&et.min!==null&&et.max!==null&&(et.min===et.max&&(et.min-=.5,et.max+=.5),et.min=I.overrideMin||et.min,et.max=I.overrideMax||et.max,St.cValue=St.cValue>et.max?et.max:St.cValue<et.min?et.min:St.cValue,me=ht.scaleLinear().range([0,I.colors===null||I.colors.length===1?1:I.colors.length-1]).domain([et.min,et.max]),Ce=me(St.cValue),be=Ce-Math.floor(Ce),St.cValue===et.max&&(be=1),I.colors&&I.colors.length===1?(oe=ht.rgb(I.colors[0]),Qt=ht.rgb(this.getColor(St.aggField.slice(-1)[0]).fill)):I.colors&&I.colors.length>1?(oe=ht.rgb(I.colors[Math.floor(Ce)]),Qt=ht.rgb(I.colors[Math.ceil(Ce)])):(oe=ht.rgb("white"),Qt=ht.rgb(this.getColor(St.aggField.slice(-1)[0]).fill)),oe.r=Math.floor(oe.r+(Qt.r-oe.r)*be),oe.g=Math.floor(oe.g+(Qt.g-oe.g)*be),oe.b=Math.floor(oe.b+(Qt.b-oe.b)*be),St.fill=oe.toString(),St.stroke=oe.darker(.5).toString())},this),M},this._getDelay=function(h,k,y){return function(z){var B=0;return y&&k.staggerDraw&&(y.x._hasCategories()?B=T._helpers.cx(z,k,y)/k._widthPixels()*h:y.y._hasCategories()&&(B=(1-T._helpers.cy(z,k,y)/k._heightPixels())*h)),B}},this._getSeriesData=function(){this.series!==null&&this.series!==void 0&&this.series.forEach(function(h){var k=h.data||this.data||[],y=[].concat(h.categoryFields||"All"),z=this._getData(k,y,h.aggregate,h._orderRules,h._isStacked(),h.x,h.y,h.z,h.p,h.c),B=[],L,D,R,C,I,M,N={},b=h.startAngle*(Math.PI/180)||0,V=(h.endAngle||360)*(Math.PI/180);if(b>V&&(b-=2*Math.PI),h.p&&y.length>0){if(h.x&&h.y){for(y.pop(),B=this._getData(k,["__dimple_placeholder__"].concat(y),h.aggregate,h._orderRules,h._isStacked(),h.x,h.y,h.z,h.p,h.c),L=0;L<z.length;L+=1)for(R=["__dimple_placeholder__"].concat(z[L].aggField),R.pop(),h.x&&h.x._hasCategories()&&(R=R.concat(z[L].xField)),h.y&&h.y._hasCategories()&&(R=R.concat(z[L].yField)),C=R.join("|"),D=0;D<B.length;D+=1)if(I=[].concat(B[D].aggField),h.x&&h.x._hasCategories()&&(I=I.concat(B[D].xField)),h.y&&h.y._hasCategories()&&(I=I.concat(B[D].yField)),M=I.join("|"),C===M){z[L].xField=B[D].xField,z[L].xValue=B[D].xValue,z[L].xCount=B[D].xCount,z[L].yField=B[D].yField,z[L].yValue=B[D].yValue,z[L].yCount=B[D].yCount,z[L].zField=B[D].zField,z[L].zValue=B[D].zValue,z[L].zCount=B[D].zCount,z[L].x=B[D].x,z[L].y=B[D].y,z[L].r=B[D].r,z[L].xOffset=B[D].xOffset,z[L].yOffset=B[D].yOffset,z[L].width=B[D].width,z[L].height=B[D].height,z[L].cx=B[D].cx,z[L].cy=B[D].cy,z[L].xBound=B[D].xBound,z[L].yBound=B[D].yBound,z[L].xValueList=B[D].xValueList,z[L].yValueList=B[D].yValueList,z[L].zValueList=B[D].zValueList,z[L].cValueList=B[D].cValueList,z[L].pieKey=B[D].key,z[L].value=z.pValue,N[B[D].key]||(N[B[D].key]={total:0,angle:b}),N[B[D].key].total+=z[L].pValue;break}}else for(L=0;L<z.length;L+=1)z[L].pieKey="All",z[L].value=z.pValue,N[z[L].pieKey]||(N[z[L].pieKey]={total:0,angle:b}),N[z[L].pieKey].total+=z[L].pValue;for(L=0;L<z.length;L+=1)N[z[L].pieKey].total===0?z[L].piePct=0:z[L].piePct=z[L].pValue/N[z[L].pieKey].total,z[L].startAngle=N[z[L].pieKey].angle,z[L].endAngle=z[L].startAngle+z[L].piePct*(V-b),N[z[L].pieKey].angle=z[L].endAngle}h._positionData=z},this)},this._handleTransition=function(h,k,y,z){var B=null;return k===0?B=h:(B=h.transition().duration(k).delay(y._getDelay(k,y,z)),T._ease(B,y.ease)),B},this._heightPixels=function(){return T._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(h){h._eventHandlers!==null&&h._eventHandlers.length>0&&h._eventHandlers.forEach(function(k){var y,z=function(B){var L=new T.eventArgs;h.chart.storyboard!==null&&(L.frameValue=h.chart.storyboard.getFrameValue()),L.seriesValue=B.aggField,L.xValue=B.x,L.yValue=B.y,L.zValue=B.z,L.pValue=B.p,L.colorValue=B.cValue,L.seriesShapes=h.shapes,L.selectedShape=ht.select(this),k.handler(L)};if(k.handler!==null&&typeof k.handler=="function")if(h._markers!==null&&h._markers!==void 0)for(y in h._markers)Object.prototype.hasOwnProperty.call(h._markers,y)&&h._markers[y].on(k.event,z);else h.shapes.on(k.event,z)},this)},this._widthPixels=function(){return T._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return T._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return T._parseYPosition(this.y,this.svg.node())},this.addAxis=function(h,k,y,z){var B=null,L=null,D;if(k!=null&&(k=[].concat(k)),typeof h=="string"||h instanceof String)B=new T.axis(this,h,k,y,z),this.axes.push(B);else{if(L=h,B=new T.axis(this,L.position,k,y,z),B._hasMeasure()!==L._hasMeasure()?D="You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.":B._hasTimeField()!==L._hasTimeField()?D="You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.":(B.categoryFields===null||B.categoryFields===void 0?0:B.categoryFields.length)!==(L.categoryFields===null||L.categoryFields===void 0?0:L.categoryFields.length)&&(D="You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type."),D)throw D;L._slaves.push(B)}return B},this.addCategoryAxis=function(h,k){return this.addAxis(h,k,null)},this.addColorAxis=function(h,k){var y=this.addAxis("c",null,h);return y.colors=k==null?null:[].concat(k),y},this.addLegend=function(h,k,y,z,B,L){L=L==null?this.series:[].concat(L),B=B??"left";var D=new T.legend(this,h,k,y,z,B,L);return this.legends.push(D),D},this.addLogAxis=function(h,k,y){var z=this.addAxis(h,null,k,null);return y!=null&&(z.logBase=y),z.useLog=!0,z},this.addMeasureAxis=function(h,k){return this.addAxis(h,null,k)},this.addPctAxis=function(h,k,y){var z=null;return y!=null?z=this.addAxis(h,y,k):z=this.addMeasureAxis(h,k),z.showPercent=!0,z},this.addSeries=function(h,k,y){y==null&&(y=this.axes),k==null&&(k=T.plot.bubble);var z=null,B=null,L=null,D=null,R=null,C;return y.forEach(function(I){I!==null&&k.supportedAxes.indexOf(I.position)>-1&&(z===null&&I.position[0]==="x"?z=I:B===null&&I.position[0]==="y"?B=I:L===null&&I.position[0]==="z"?L=I:D===null&&I.position[0]==="c"?D=I:D===null&&I.position[0]==="p"&&(R=I))},this),h&&(h=[].concat(h)),C=new T.series(this,h,z,B,L,D,R,k,T.aggregateMethod.sum,k.stacked),this.series.push(C),C},this.addTimeAxis=function(h,k,y,z){var B=this.addAxis(h,null,null,k);return B.tickFormat=z,B.dateParseFormat=y,B},this.assignClass=function(h,k){return this._assignedClasses[h]=k,this._assignedClasses[h]},this.assignColor=function(h,k,y,z){return this._assignedColors[h]=new T.color(k,y,z),this._assignedColors[h]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new T.color("#80B1D3"),new T.color("#FB8072"),new T.color("#FDB462"),new T.color("#B3DE69"),new T.color("#FFED6F"),new T.color("#BC80BD"),new T.color("#8DD3C7"),new T.color("#CCEBC5"),new T.color("#FFFFB3"),new T.color("#BEBADA"),new T.color("#FCCDE5"),new T.color("#D9D9D9")],this.draw=function(h,k){h=h||0;var y=null,z=null,B,L=!1,D=!1,R=this._xPixels(),C=this._yPixels(),I=this._widthPixels(),M=this._heightPixels(),N;return(k==null||k===!1)&&this._getSeriesData(),this.axes.forEach(function(b){b._scale=null},this),this.axes.forEach(function(b){if(b._min=0,b._max=0,N=[],b._hasMeasure()){var V=!1;this.series.forEach(function(q){if(q._deepMatch(b)){var et=q._axisBounds(b.position);b._min>et.min&&(b._min=et.min),b._max<et.max&&(b._max=et.max),V=!0}},this),V||this._getAllData().forEach(function(q){b._min>q[b.measure]&&(b._min=q[b.measure]),b._max<q[b.measure]&&(b._max=q[b.measure])},this)}else b._hasTimeField()?(b._min=null,b._max=null,this.series.forEach(function(q){q._deepMatch(b)&&q[b.position].timeField!==null&&q[b.position].timeField!==void 0&&N.indexOf(q[b.position].timeField)===-1&&N.push(q[b.position].timeField)},this),b._getAxisData().forEach(function(q){N.forEach(function(et){var rt=b._parseDate(q[et]);(b._min===null||rt<b._min)&&(b._min=rt),(b._max===null||rt>b._max)&&(b._max=rt)},this)},this)):b._hasCategories()&&(b._min=0,B=[],this.series.forEach(function(q){q._deepMatch(b)&&q[b.position].categoryFields[0]!==null&&q[b.position].categoryFields[0]!==void 0&&N.indexOf(q[b.position].categoryFields[0])===-1&&N.push(q[b.position].categoryFields[0])},this),b._getAxisData().forEach(function(q){N.forEach(function(et){B.indexOf(q[et])===-1&&B.push(q[et])},this)},this),b._max=B.length);b._slaves!==null&&b._slaves!==void 0&&b._slaves.length>0&&b._slaves.forEach(function(q){q._min=b._min,q._max=b._max},this),b._update(),y===null&&b.position==="x"?y=b:z===null&&b.position==="y"&&(z=b)},this),this.axes.forEach(function(b){var V=!1,q=null,et=0,rt=null,vt=!1,Mt=0,gt={l:null,t:null,r:null,b:null},dt=0,Pt=0,qt="",Nt=this,Vt=function(Et){var ee;return q===null||h===0||V?ee=Et:ee=Nt._handleTransition(Et,h,Nt),ee},ce=function(){var Et=ht.select(this).selectAll("text");return!b.measure&&b._max>0&&(b.position==="x"?Et.attr("x",I/b._max/2):b.position==="y"&&Et.attr("y",-1*(M/b._max)/2)),b.categoryFields&&b.categoryFields.length>0&&(b===y&&(z.categoryFields===null||z.categoryFields.length===0)&&Et.attr("y",C+M-z._scale(0)+9),b===z&&(y.categoryFields===null||y.categoryFields.length===0)&&Et.attr("x",-1*(y._scale(0)-R)-9)),this},$t=function(Et){return function(){var ee=ht.select(this).attr("class")||"";return ee.indexOf(Et)===-1&&(ee+=" "+Et),ee.trim()}};b.gridlineShapes===null?(b.showGridlines||b.showGridlines===null&&!b._hasCategories()&&(!L&&b.position==="x"||!D&&b.position==="y"))&&(b.gridlineShapes=this._gridlines_group.append("g").attr("class","dimple-gridline"),b.position==="x"?L=!0:D=!0):b.position==="x"?L=!0:D=!0,b.shapes===null&&(b.shapes=this._axis_group.append("g").attr("class","dimple-axis dimple-axis-"+b.position).each(function(){Nt.noFormats||ht.select(this).style("font-family",b.fontFamily).style("font-size",b._getFontSize())}),V=!0),b===y&&z!==null?(q="translate(0, "+(z.categoryFields===null||z.categoryFields.length===0?z._scale(0):C+M)+")",rt="translate(0, "+(b===y?C+M:C)+")",et=-M):b===z&&y!==null?(q="translate("+(y.categoryFields===null||y.categoryFields.length===0?y._scale(0):R)+", 0)",rt="translate("+(b===z?R:R+I)+", 0)",et=-I):b.position==="x"?(rt=q="translate(0, "+(b===y?C+M:C)+")",et=-M):b.position==="y"&&(rt=q="translate("+(b===z?R:R+I)+", 0)",et=-I),q!==null&&b._draw!==null&&(b._hasTimeField()?Vt(b.shapes).call(b._draw.ticks(b._getTimePeriod(),b.timeInterval).tickFormat(b._getFormat())).attr("transform",q).each(ce):b.useLog?Vt(b.shapes).call(b._draw.ticks(4,b._getFormat())).attr("transform",q).each(ce):Vt(b.shapes).call(b._draw.tickFormat(b._getFormat())).attr("transform",q).each(ce),b.gridlineShapes!==null&&Vt(b.gridlineShapes).call(b._draw.tickSize(et,0,0).tickFormat("")).attr("transform",rt)),Vt(b.shapes.selectAll("text")).attr("class",$t(Nt.customClassList.axisLabel)).call(function(Et){Nt.noFormats||Et.style("font-family",b.fontFamily).style("font-size",b._getFontSize())}),Vt(b.shapes.selectAll("path, line")).attr("class",$t(Nt.customClassList.axisLine)).call(function(Et){Nt.noFormats||Et.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),b.gridlineShapes!==null&&(b.gridlineShapes.selectAll("path").remove(),Vt(b.gridlineShapes.selectAll("line")).attr("class",$t(Nt.customClassList.gridline)).call(function(Et){Nt.noFormats||Et.style("fill","none").style("stroke","lightgray").style("opacity",.8)})),(b.measure===null||b.measure===void 0)&&(b.autoRotateLabel?b===y?(Mt=0,b.shapes.selectAll("text").each(function(){var Et=this.getComputedTextLength();Mt=Et>Mt?Et:Mt}),Mt>I/b.shapes.selectAll("text").nodes().length?(vt=!0,b.shapes.selectAll("text").style("text-anchor","start").each(function(){var Et=this.getBBox();ht.select(this).attr("transform","rotate(90,"+Et.x+","+(Et.y+Et.height/2)+") translate(-5, 0)")})):(vt=!1,b.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):b.position==="x"&&(Mt=0,b.shapes.selectAll("text").each(function(){var Et=this.getComputedTextLength();Mt=Et>Mt?Et:Mt}),Mt>I/b.shapes.selectAll("text").nodes().length?(vt=!0,b.shapes.selectAll("text").style("text-anchor","end").each(function(){var Et=this.getBBox();ht.select(this).attr("transform","rotate(90,"+(Et.x+Et.width)+","+(Et.y+Et.height/2)+") translate(5, 0)")})):(vt=!1,b.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(vt=!1,b.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),b.titleShape!==null&&b.titleShape!==void 0&&b.titleShape.remove(),b.shapes.selectAll("text").each(function(){var Et=this.getBBox();(gt.l===null||-9-Et.width<gt.l)&&(gt.l=-9-Et.width),(gt.r===null||Et.x+Et.width>gt.r)&&(gt.r=Et.x+Et.width),vt?((gt.t===null||Et.y+Et.height-Et.width<gt.t)&&(gt.t=Et.y+Et.height-Et.width),(gt.b===null||Et.height+Et.width>gt.b)&&(gt.b=Et.height+Et.width)):((gt.t===null||Et.y<gt.t)&&(gt.t=Et.y),(gt.b===null||9+Et.height>gt.b)&&(gt.b=9+Et.height))}),b.position==="x"?(b===y?Pt=C+M+gt.b+5:Pt=C+gt.t-10,dt=R+I/2):b.position==="y"&&(b===z?dt=R+gt.l-10:dt=R+I+gt.r+20,Pt=C+M/2,qt="rotate(270, "+dt+", "+Pt+")"),!b.hidden&&(b.position==="x"||b.position==="y")&&b.title!==null&&(b.titleShape=this._axis_group.append("text").attr("class","dimple-axis dimple-title "+Nt.customClassList.axisTitle+" dimple-axis-"+b.position),b.titleShape.attr("x",dt).attr("y",Pt).attr("text-anchor","middle").attr("transform",qt).text(b.title!==void 0?b.title:b.categoryFields===null||b.categoryFields===void 0||b.categoryFields.length===0?b.measure:b.categoryFields.join("/")).each(function(){Nt.noFormats||ht.select(this).style("font-family",b.fontFamily).style("font-size",b._getFontSize())}),b===y?b.titleShape.each(function(){ht.select(this).attr("y",Pt+this.getBBox().height/1.65)}):b===z&&b.titleShape.each(function(){ht.select(this).attr("x",dt+this.getBBox().height/1.65)}))},this),this.series.forEach(function(b){b.plot.draw(this,b,h),this._registerEventHandlers(b)},this),this.legends.forEach(function(b){b._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(h){return this._assignedClasses[h]||(this._assignedClasses[h]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[h]},this.getColor=function(h){return(this._assignedColors[h]===null||this._assignedColors[h]===void 0)&&(this._assignedColors[h]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[h]},this.setBounds=function(h,k,y,z){return this.x=h,this.y=k,this.width=y,this.height=z,this._xPixels=function(){return T._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return T._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return T._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return T._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(h,k,y,z){return this.x=h,this.y=k,this.width=0,this.height=0,this._xPixels=function(){return T._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return T._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return T._parentWidth(this.svg.node())-this._xPixels()-T._parseXPosition(y,this.svg.node())},this._heightPixels=function(){return T._parentHeight(this.svg.node())-this._yPixels()-T._parseYPosition(z,this.svg.node())},this},this.setStoryboard=function(h,k){return this.storyboard=new T.storyboard(this,h),k!=null&&(this.storyboard.onTick=k),this.storyboard}};T.color=function(p,o,h){this.fill=p,this.stroke=o??ht.rgb(p).darker(.5).toString(),this.opacity=h??.8};T.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null};T.legend=function(p,o,h,k,y,z,B){this.chart=p,this.series=B,this.x=o,this.y=h,this.width=k,this.height=y,this.horizontalAlign=z,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var L=this._getEntries(),D=0,R=0,C=0,I=0,M=15,N=9,b=5,V=this,q;this.shapes&&this.shapes.remove(),q=this.chart._group.selectAll(".dimple-dont-select-any").data(L).enter().append("g").attr("class",function(et){return"dimple-legend "+T._createClass(et.aggField)}).attr("opacity",1),q.append("text").attr("class",function(et){return"dimple-legend dimple-legend-text "+T._createClass(et.aggField)+" "+V.chart.customClassList.legendLabel}).text(function(et){return et.key}).call(function(et){V.chart.noFormats||et.style("font-family",V.fontFamily).style("font-size",V._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var et=this.getBBox();et.width>D&&(D=et.width),et.height>R&&(R=et.height)}),q.append("rect").attr("class",function(et){return"dimple-legend dimple-legend-key "+T._createClass(et.aggField)}).attr("height",N).attr("width",M),R=(R<N?N:R)+V._getVerticalPadding(),D+=M+V._getHorizontalPadding(),q.each(function(et){C+D>V._widthPixels()&&(C=0,I+=R),I>V._heightPixels()?ht.select(this).remove():(ht.select(this).select("text").attr("x",V.horizontalAlign==="left"?V._xPixels()+M+b+C:V._xPixels()+(V._widthPixels()-C-D)+M+b).attr("y",function(){return V._yPixels()+I+this.getBBox().height/1.65}).attr("width",V._widthPixels()).attr("height",V._heightPixels()),ht.select(this).select("rect").attr("class",function(rt){return"dimple-legend dimple-legend-key "+T._createClass(rt.aggField)+" "+V.chart.customClassList.legendKey+" "+rt.css}).attr("x",V.horizontalAlign==="left"?V._xPixels()+C:V._xPixels()+(V._widthPixels()-C-D)).attr("y",V._yPixels()+I).attr("height",N).attr("width",M).call(function(rt){V.chart.noFormats||rt.style("fill",et.fill).style("stroke",et.stroke).style("opacity",et.opacity).style("shape-rendering","crispEdges")}),C+=D)}),this.shapes=q},this._getEntries=function(){var L=[];return this.series&&this.series.forEach(function(D){var R=D._positionData;R.forEach(function(C){var I=-1,M,N=D.plot.grouped&&!D.x._hasCategories()&&!D.y._hasCategories()&&C.aggField.length<2?"All":C.aggField.slice(-1)[0];for(M=0;M<L.length;M+=1)if(L[M].key===N){I=M;break}I===-1&&D.chart._assignedColors[N]&&(L.push({key:N,fill:D.chart._assignedColors[N].fill,stroke:D.chart._assignedColors[N].stroke,opacity:D.chart._assignedColors[N].opacity,css:D.chart._assignedClasses[N],series:D,aggField:C.aggField}),I=L.length-1)})},this),L},this._getFontSize=function(){var L;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?L=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?L=this.fontSize:L=this.fontSize+"px",L},this._getHorizontalPadding=function(){var L;return isNaN(this.horizontalPadding)?L=20:L=this.horizontalPadding,L},this._getVerticalPadding=function(){var L;return isNaN(this.verticalPadding)?L=2:L=this.verticalPadding,L},this._heightPixels=function(){return T._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return T._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return T._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return T._parseYPosition(this.y,this.chart.svg.node())}};T.series=function(p,o,h,k,y,z,B,L,D,R){this.chart=p,this.x=h,this.y=k,this.z=y,this.c=z,this.p=B,this.plot=L,this.categoryFields=o,this.aggregate=D,this.stacked=R,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._group=p._group.append("g"),this._group.attr("class","dimple-series-group-"+p.series.length),this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(C){var I={min:0,max:0},M=null,N=null,b=[],V,q,et,rt=this._positionData;return C==="x"?(M=this.x,N=this.y):C==="y"?(M=this.y,N=this.x):C==="z"?M=this.z:C==="p"?M=this.p:C==="c"&&(M=this.c),M.showPercent?rt.forEach(function(vt){vt[M.position+"Bound"]<I.min&&(I.min=vt[M.position+"Bound"]),vt[M.position+"Bound"]>I.max&&(I.max=vt[M.position+"Bound"])},this):N===null||N.categoryFields===null||N.categoryFields.length===0?rt.forEach(function(vt){this._isStacked()&&(M.position==="x"||M.position==="y")?vt[M.position+"Value"]<0?I.min=I.min+vt[M.position+"Value"]:I.max=I.max+vt[M.position+"Value"]:(vt[M.position+"Value"]<I.min&&(I.min=vt[M.position+"Value"]),vt[M.position+"Value"]>I.max&&(I.max=vt[M.position+"Value"]))},this):(V=M.position+"Value",q=N.position+"Field",et=[],rt.forEach(function(vt){var Mt=vt[q].join("/"),gt=et.indexOf(Mt);gt===-1&&(et.push(Mt),gt=et.length-1),b[gt]===void 0&&(b[gt]={min:0,max:0}),this.stacked?vt[V]<0?b[gt].min=b[gt].min+vt[V]:b[gt].max=b[gt].max+vt[V]:(vt[V]<b[gt].min&&(b[gt].min=vt[V]),vt[V]>b[gt].max&&(b[gt].max=vt[V]))},this),b.forEach(function(vt){vt!==void 0&&(vt.min<I.min&&(I.min=vt.min),vt.max>I.max&&(I.max=vt.max))},this)),I},this._deepMatch=function(C){var I=!1;return this[C.position]===C?I=!0:C._slaves!==void 0&&C._slaves!==null&&C._slaves.length>0&&C._slaves.forEach(function(M){I=I||this._deepMatch(M)},this),I},this._dropLineOrigin=function(){var C=0,I=0,M={x:null,y:null},N={x:null,y:null};return this.chart.axes.forEach(function(b){b.position==="x"&&N.x===null?b._hasTimeField()?N.x=this.chart._xPixels():N.x=b._origin:b.position==="y"&&N.y===null&&(b._hasTimeField()?N.y=this.chart._yPixels()+this.chart._heightPixels():N.y=b._origin)},this),this.chart.axes.forEach(function(b){b.position==="x"&&!this.x.hidden?(this._deepMatch(b)&&(C===0?M.y=N.y:C===1&&(M.y=this.chart._yPixels())),C+=1):b.position==="y"&&!this.y.hidden&&(this._deepMatch(b)&&(I===0?M.x=N.x:I===1&&(M.x=this.chart._xPixels()+this.chart._widthPixels())),I+=1)},this),M},this._getTooltipFontSize=function(){var C;return!this.tooltipFontSize||this.tooltipFontSize.toString().toLowerCase()==="auto"?C=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.tooltipFontSize)?C=this.tooltipFontSize:C=this.tooltipFontSize+"px",C},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(C,I){this._eventHandlers.push({event:C,handler:I})},this.addOrderRule=function(C,I){this._orderRules.push({ordering:C,desc:I})},this.getTooltipText=function(C){var I=[];return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0&&this.categoryFields.forEach(function(M,N){M!=null&&C.aggField[N]!==null&&C.aggField[N]!==void 0&&I.push(M+(C.aggField[N]!==M?": "+C.aggField[N]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(I,C),this.y&&this.y._hasCategories()&&this.y._getTooltipText(I,C),this.z&&this.z._hasCategories()&&this.z._getTooltipText(I,C),this.p._getTooltipText(I,C)):(this.x&&this.x._getTooltipText(I,C),this.y&&this.y._getTooltipText(I,C),this.z&&this.z._getTooltipText(I,C)),this.c&&this.c._getTooltipText(I,C),I.filter(function(M,N){return I.indexOf(M)===N})}};T.storyboard=function(p,o){o!=null&&(o=[].concat(o)),this.chart=p,this.categoryFields=o,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){var h=this,k=0;h.storyLabel||(h.chart.axes.forEach(function(y){y.position==="x"&&(k+=1)},h),h.storyLabel=h.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",h.chart._xPixels()+h.chart._widthPixels()*.01).attr("y",h.chart._yPixels()+(h.chart._heightPixels()/35>10?h.chart._heightPixels()/35:10)*(k>1?1.25:-1)).call(function(y){p.noFormats||y.style("font-family",h.fontFamily).style("font-size",h._getFontSize())})),h.storyLabel.text(h.categoryFields.join("\\")+": "+h.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(h){var k=-1,y="";this.categoryFields!==null&&(this.categoryFields.forEach(function(z,B){B>0&&(y+="/"),y+=h[z]},this),k=this._categories.indexOf(y),k===-1&&(this._categories.push(y),k=this._categories.length-1))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){var h;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?h=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?h=this.fontSize:h=this.fontSize+"px",h},this._goToFrameIndex=function(h){this._frame=h%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(h,k){this._orderRules.push({ordering:h,desc:k})},this.getFrameValue=function(){var h=null;return this._frame>=0&&this._getCategories().length>this._frame&&(h=this._getCategories()[this._frame]),h},this.goToFrame=function(h){if(this._getCategories().length>0){var k=this._getCategories().indexOf(h);this._goToFrameIndex(k)}},this.pauseAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){this._animationTimer===null&&(this.onTick!==null&&this.onTick(this.getFrameValue()),this._animationTimer=setInterval(function(h){return function(){h._goToFrameIndex(h._frame+1),h.onTick!==null&&h.onTick(h.getFrameValue()),h._drawText(h.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}};T.aggregateMethod.avg=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),p.count=p.count===null||p.count===void 0?1:parseFloat(p.count),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),o.count=o.count===null||o.count===void 0?1:parseFloat(o.count),(p.value*p.count+o.value*o.count)/(p.count+o.count)};T.aggregateMethod.count=function(p,o){return p.count=p.count===null||p.count===void 0?0:parseFloat(p.count),o.count=o.count===null||o.count===void 0?0:parseFloat(o.count),p.count+o.count};T.aggregateMethod.max=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),p.value>o.value?p.value:o.value};T.aggregateMethod.min=function(p,o){return p.value===null?parseFloat(o.value):parseFloat(p.value)<parseFloat(o.value)?parseFloat(p.value):parseFloat(o.value)};T.aggregateMethod.sum=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),p.value+o.value};T.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(p,o,h){var k=o._positionData,y=[],z=null,B="dimple-series-"+p.series.indexOf(o),L=o.x._hasCategories()||o.y._hasCategories()?0:1,D,R=!1,C,I,M,N,b,V,q,et,rt,vt,Mt={},gt=[],dt,Pt=[],qt,Nt,Vt,ce,$t,Et,ee,le,ae,en,ge,ve,ue=function(){return function(wt,Ut,re,ne){ht.select(Ut).style("opacity",1),T._showPointTooltip(wt,Ut,re,ne)}},St=function(wt){return function(Ut,re,ne,Ot){ht.select(re).style("opacity",Ot.lineMarkers||wt.data.length<2?T._helpers.opacity(Ut,ne,Ot):0),T._removeTooltip(Ut,re,ne,Ot)}},oe=function(wt,Ut){T._drawMarkers(wt,p,o,h,B,R,ue(),St(wt),Ut)},Qt=function(wt,Ut){var re;return o.interpolation==="step"&&o[wt]._hasCategories()?(re=T._helpers[wt](Ut,p,o)+(wt==="y"?T._helpers.height(Ut,p,o):0),o[wt].categoryFields.length<2&&(re+=(wt==="y"?1:-1)*T._helpers[wt+"Gap"](p,o))):re=T._helpers["c"+wt](Ut,p,o),parseFloat(re)},me=function(wt,Ut){var re=ht.line().x(function(ne){return o.x._hasCategories()||!Ut?ne.x:o.x[Ut]}).y(function(ne){return o.y._hasCategories()||!Ut?ne.y:o.y[Ut]});return T._interpolate(re,wt),re},Ce=function(wt,Ut){return parseFloat(wt)-parseFloat(Ut)},be=function(wt,Ut){return parseFloat(wt.x)-parseFloat(Ut.x)},_e=function(wt,Ut,re){var ne,Ot=Ut[Ut.length-1],fe,Gt=9999,Pe=Ot;for(ne=0;ne<wt.length;ne+=1)(wt[ne].x!==Ot.x||wt[ne].y!==Ot.y)&&(fe=180-Math.atan2(wt[ne].x-Ot.x,wt[ne].y-Ot.y)*(180/Math.PI),fe>re&&fe<Gt&&(Pe=wt[ne],Gt=fe));return Ut.push(Pe),Gt};for(D=o.interpolation==="step"?"step-after":o.interpolation,vt=T._getSeriesOrder(o.data||p.data,o),o.c&&(o.x._hasCategories()&&o.y._hasMeasure()||o.y._hasCategories()&&o.x._hasMeasure())&&(R=!0),o.x._hasCategories()?(ge="x",ve="y"):o.y._hasCategories()&&(ge="y",ve="x"),C=0;C<k.length;C+=1){for(N=[],V=-1,M=L;M<k[C].aggField.length;M+=1)N.push(k[C].aggField[M]);for(b=T._createClass(N),M=0;M<y.length;M+=1)if(y[M].keyString===b){V=M;break}V===-1&&(V=y.length,y.push({key:N,keyString:b,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:ge&&k[C][ge+"Field"]&&k[C][ge+"Field"].length>=2?k[C][ge+"Field"][0]:"All"})),y[V].data.push(k[C])}for(vt&&y.sort(function(wt,Ut){return T._arrayIndexCompare(vt,wt.key,Ut.key)}),C=0;C<y.length;C+=1){for(y[C].data.sort(T._getSeriesSortPredicate(p,o,vt)),I=0;I<y[C].data.length;I+=1)y[C].points.push({x:Qt("x",y[C].data[I]),y:Qt("y",y[C].data[I])}),ge&&(Mt[y[C].group]||(Mt[y[C].group]={}),Mt[y[C].group][y[C].points[y[C].points.length-1][ge]]=o[ve]._origin);dt=y[C].points,o.interpolation==="step"&&dt.length>1&&ge&&(o.x._hasCategories()?(dt.push({x:2*dt[dt.length-1].x-dt[dt.length-2].x,y:dt[dt.length-1].y}),Mt[y[C].group][dt[dt.length-1][ge]]=o[ve]._origin):o.y._hasCategories()&&(dt=[{x:dt[0].x,y:2*dt[0].y-dt[1].y}].concat(dt),Mt[y[C].group][dt[0][ge]]=o[ve]._origin,y[C].points=dt))}for(Vt in Mt)if(Object.prototype.hasOwnProperty.call(Mt,Vt)){gt[Vt]=[];for(ce in Mt[Vt])Object.prototype.hasOwnProperty.call(Mt[Vt],ce)&&gt[Vt].push(parseFloat(ce));gt[Vt].sort(Ce)}for(C=0;C<y.length;C+=1){if(dt=y[C].points,$t=y[C].group,qt=[],Pt=[],R&&T._addGradient(y[C].key,"fill-area-gradient-"+y[C].keyString,o.x._hasCategories()?o.x:o.y,k,p,h,"fill"),gt[$t]&&gt[$t].length>0)for(I=0,M=0;I<gt[$t].length;I+=1)gt[$t][I]>=dt[0][ge]&&gt[$t][I]<=dt[dt.length-1][ge]&&(Nt={},Nt[ge]=gt[$t][I],Nt[ve]=Mt[$t][gt[$t][I]],qt.push(Nt),dt[M][ge]>gt[$t][I]?Pt.push(Nt):(Pt.push(dt[M]),Mt[y[C].group][gt[$t][I]]=dt[M][ve],M+=1));else if(o._orderRules&&o._orderRules.length>0)Pt=dt.concat(dt[0]);else{dt=dt.sort(be),Pt.push(dt[0]),en=0;do en=_e(dt,Pt,en);while(Pt.length<=dt.length&&(Pt[0].x!==Pt[Pt.length-1].x||Pt[0].y!==Pt[Pt.length-1].y))}qt=qt.reverse(),Et=me(D,"_previousOrigin")(Pt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D,"_previousOrigin")(qt),le=me("linear","_previousOrigin")(Pt),ae=le.indexOf("L")===-1?void 0:le.indexOf("L"),y[C].entry=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ae):0),Et=me(D)(Pt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D)(qt),le=me("linear")(Pt),ae=le.indexOf("L")===-1?void 0:le.indexOf("L"),y[C].update=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ae):0),Et=me(D,"_origin")(Pt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D,"_origin")(qt),le=me("linear","_origin")(Pt),ae=le.indexOf("L")===-1?void 0:le.indexOf("L"),y[C].exit=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ae):0),y[C].color=p.getColor(y[C].key.length>0?y[C].key[y[C].key.length-1]:"All"),y[C].css=p.getClass(y[C].key.length>0?y[C].key[y[C].key.length-1]:"All")}p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?z=o.shapes.data(y,function(wt){return wt.key}):z=o._group.selectAll("."+B).data(y,function(wt){return wt.key}),q=z.enter().append("path").attr("id",function(wt){return T._createClass([wt.key])}).attr("class",function(wt){return B+" dimple-line "+wt.keyString+" "+p.customClassList.areaSeries+" "+wt.css}).attr("d",function(wt){return wt.entry}).call(function(wt){p.noFormats||wt.attr("opacity",function(Ut){return R?1:Ut.color.opacity}).style("fill",function(Ut){return R?"url(#"+T._createClass(["fill-area-gradient-"+Ut.keyString])+")":Ut.color.fill}).style("stroke",function(Ut){return R?"url(#"+T._createClass(["stroke-area-gradient-"+Ut.keyString])+")":Ut.color.stroke}).style("stroke-width",o.lineWeight)}).each(function(wt){wt.markerData=wt.data,oe(wt,this)}),et=p._handleTransition(z.merge(q),h,p).attr("d",function(wt){return wt.update}).each(function(wt){wt.markerData=wt.data,oe(wt,this)}),rt=p._handleTransition(z.exit(),h,p).attr("d",function(wt){return wt.exit}).each(function(wt){wt.markerData=[],oe(wt,this)}),T._postDrawHandling(o,et,rt,h),o.shapes=o._group.selectAll("."+B)}};T.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(p,o,h){var k=o._positionData,y=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-bar"],B,L,D,R=!o._isStacked()&&o.x._hasMeasure(),C=!o._isStacked()&&o.y._hasMeasure(),I="none";o.x._hasCategories()&&o.y._hasCategories()?I="both":o.x._hasCategories()?I="x":o.y._hasCategories()&&(I="y"),p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?y=o.shapes.data(k,function(M){return M.key}):y=o._group.selectAll("."+z.join(".")).data(k,function(M){return M.key}),B=y.enter().append("rect").attr("id",function(M){return T._createClass([M.key])}).attr("class",function(M){var N=[];return N=N.concat(M.aggField),N=N.concat(M.xField),N=N.concat(M.yField),z.join(" ")+" "+T._createClass(N)+" "+p.customClassList.barSeries+" "+T._helpers.css(M,p)}).attr("x",function(M){var N=o.x._previousOrigin;return I==="x"?N=T._helpers.x(M,p,o):I==="both"&&(N=T._helpers.cx(M,p,o)),N}).attr("y",function(M){var N=o.y._previousOrigin;return I==="y"?N=T._helpers.y(M,p,o):I==="both"&&(N=T._helpers.cy(M,p,o)),N}).attr("width",function(M){return I==="x"?T._helpers.width(M,p,o):0}).attr("height",function(M){return I==="y"?T._helpers.height(M,p,o):0}).on("mouseover",function(M){T._showBarTooltip(M,this,p,o)}).on("mouseleave",function(M){T._removeTooltip(M,this,p,o)}).call(function(M){p.noFormats||M.attr("opacity",function(N){return T._helpers.opacity(N,p,o)}).style("fill",function(N){return T._helpers.fill(N,p,o)}).style("stroke",function(N){return T._helpers.stroke(N,p,o)})}),L=p._handleTransition(y.merge(B),h,p,o).attr("x",function(M){return R?T._helpers.cx(M,p,o)-o.x.floatingBarWidth/2:T._helpers.x(M,p,o)}).attr("y",function(M){return C?T._helpers.cy(M,p,o)-o.y.floatingBarWidth/2:T._helpers.y(M,p,o)}).attr("width",function(M){return R?o.x.floatingBarWidth:T._helpers.width(M,p,o)}).attr("height",function(M){return C?o.y.floatingBarWidth:T._helpers.height(M,p,o)}).call(function(M){p.noFormats||M.attr("fill",function(N){return T._helpers.fill(N,p,o)}).attr("stroke",function(N){return T._helpers.stroke(N,p,o)})}),D=p._handleTransition(y.exit(),h,p,o).attr("x",function(M){var N=o.x._origin;return I==="x"?N=T._helpers.x(M,p,o):I==="both"&&(N=T._helpers.cx(M,p,o)),N}).attr("y",function(M){var N=o.y._origin;return I==="y"?N=T._helpers.y(M,p,o):I==="both"&&(N=T._helpers.cy(M,p,o)),N}).attr("width",function(M){return I==="x"?T._helpers.width(M,p,o):0}).attr("height",function(M){return I==="y"?T._helpers.height(M,p,o):0}),T._postDrawHandling(o,L,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};T.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(p,o,h){var k=o._positionData,y=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-bubble"],B,L,D;p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?y=o.shapes.data(k,function(R){return R.key}):y=o._group.selectAll("."+z.join(".")).data(k,function(R){return R.key}),B=y.enter().append("circle").attr("id",function(R){return T._createClass([R.key])}).attr("class",function(R){var C=[];return C=C.concat(R.aggField),C=C.concat(R.xField),C=C.concat(R.yField),C=C.concat(R.zField),z.join(" ")+" "+T._createClass(C)+" "+p.customClassList.bubbleSeries+" "+T._helpers.css(R,p)}).attr("cx",function(R){return o.x._hasCategories()?T._helpers.cx(R,p,o):o.x._previousOrigin}).attr("cy",function(R){return o.y._hasCategories()?T._helpers.cy(R,p,o):o.y._previousOrigin}).attr("r",0).on("mouseover",function(R){T._showPointTooltip(R,this,p,o)}).on("mouseleave",function(R){T._removeTooltip(R,this,p,o)}).call(function(R){p.noFormats||R.attr("opacity",function(C){return T._helpers.opacity(C,p,o)}).style("fill",function(C){return T._helpers.fill(C,p,o)}).style("stroke",function(C){return T._helpers.stroke(C,p,o)})}),L=p._handleTransition(y.merge(B),h,p,o).attr("cx",function(R){return T._helpers.cx(R,p,o)}).attr("cy",function(R){return T._helpers.cy(R,p,o)}).attr("r",function(R){return T._helpers.r(R,p,o)}).call(function(R){p.noFormats||R.attr("fill",function(C){return T._helpers.fill(C,p,o)}).attr("stroke",function(C){return T._helpers.stroke(C,p,o)})}),D=p._handleTransition(y.exit(),h,p,o).attr("r",0).attr("cx",function(R){return o.x._hasCategories()?T._helpers.cx(R,p,o):o.x._origin}).attr("cy",function(R){return o.y._hasCategories()?T._helpers.cy(R,p,o):o.y._origin}),T._postDrawHandling(o,L,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};T.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(p,o,h){var k=o._positionData,y=[],z=null,B="dimple-series-"+p.series.indexOf(o),L=o.x._hasCategories()||o.y._hasCategories()?0:1,D,R=!1,C,I,M,N,b,V,q,et,rt,vt,Mt=function(){return function(Nt,Vt,ce,$t){ht.select(Vt).style("opacity",1),T._showPointTooltip(Nt,Vt,ce,$t)}},gt=function(Nt){return function(Vt,ce,$t,Et){ht.select(ce).style("opacity",Et.lineMarkers||Nt.data.length<2?T._helpers.opacity(Vt,$t,Et):0),T._removeTooltip(Vt,ce,$t,Et)}},dt=function(Nt,Vt){T._drawMarkers(Nt,p,o,h,B,R,Mt(),gt(Nt),Vt)},Pt=function(Nt,Vt){var ce;return o.interpolation==="step"&&o[Nt]._hasCategories()?(o.barGap=0,o.clusterBarGap=0,ce=T._helpers[Nt](Vt,p,o)+(Nt==="y"?T._helpers.height(Vt,p,o):0)):ce=T._helpers["c"+Nt](Vt,p,o),parseFloat(ce.toFixed(1))},qt=function(Nt,Vt){var ce=ht.line().x(function($t){return o.x._hasCategories()||!Vt?$t.x:o.x[Vt]}).y(function($t){return o.y._hasCategories()||!Vt?$t.y:o.y[Vt]});return T._interpolate(ce,Nt),ce};for(D=o.interpolation==="step"?"step-after":o.interpolation,vt=T._getSeriesOrder(o.data||p.data,o),o.c&&(o.x._hasCategories()&&o.y._hasMeasure()||o.y._hasCategories()&&o.x._hasMeasure())&&(R=!0),C=0;C<k.length;C+=1){for(N=[],V=-1,M=L;M<k[C].aggField.length;M+=1)N.push(k[C].aggField[M]);for(b=T._createClass(N),M=0;M<y.length;M+=1)if(y[M].keyString===b){V=M;break}V===-1&&(V=y.length,y.push({key:N,keyString:b,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),y[V].data.push(k[C])}for(vt&&y.sort(function(Nt,Vt){return T._arrayIndexCompare(vt,Nt.key,Vt.key)}),C=0;C<y.length;C+=1){for(y[C].data.sort(T._getSeriesSortPredicate(p,o,vt)),R&&T._addGradient(y[C].key,"fill-line-gradient-"+y[C].keyString,o.x._hasCategories()?o.x:o.y,k,p,h,"fill"),I=0;I<y[C].data.length;I+=1)y[C].points.push({x:Pt("x",y[C].data[I]),y:Pt("y",y[C].data[I])});o.interpolation==="step"&&y[C].points.length>1&&(o.x._hasCategories()?y[C].points.push({x:2*y[C].points[y[C].points.length-1].x-y[C].points[y[C].points.length-2].x,y:y[C].points[y[C].points.length-1].y}):o.y._hasCategories()&&(y[C].points=[{x:y[C].points[0].x,y:2*y[C].points[0].y-y[C].points[1].y}].concat(y[C].points))),y&&y[C]&&y[C].points&&y[C].points.length===1&&y[C].points.push({x:y[C].points[0].x,y:y[C].points[0].y}),y[C].entry=qt(D,"_previousOrigin")(y[C].points),y[C].update=qt(D)(y[C].points),y[C].exit=qt(D,"_origin")(y[C].points),y[C].color=p.getColor(y[C].key.length>0?y[C].key[y[C].key.length-1]:"All"),y[C].css=p.getClass(y[C].key.length>0?y[C].key[y[C].key.length-1]:"All")}p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?z=o.shapes.data(y,function(Nt){return Nt.key}):z=o._group.selectAll("."+B).data(y,function(Nt){return Nt.key}),q=z.enter().append("path").attr("id",function(Nt){return T._createClass([Nt.key])}).attr("class",function(Nt){return B+" dimple-line "+Nt.keyString+" "+p.customClassList.lineSeries+" "+Nt.css}).attr("d",function(Nt){return Nt.entry}).call(function(Nt){p.noFormats||Nt.attr("opacity",function(Vt){return R?1:Vt.color.opacity}).style("fill","none").style("stroke",function(Vt){return R?"url(#"+T._createClass(["fill-line-gradient-"+Vt.keyString])+")":Vt.color.stroke}).style("stroke-width",o.lineWeight)}).each(function(Nt){Nt.markerData=Nt.data,dt(Nt,this)}),et=p._handleTransition(z.merge(q),h,p).attr("d",function(Nt){return Nt.update}).each(function(Nt){Nt.markerData=Nt.data,dt(Nt,this)}),rt=p._handleTransition(z.exit(),h,p).attr("d",function(Nt){return Nt.exit}).each(function(Nt){Nt.markerData=[],dt(Nt,this)}),T._postDrawHandling(o,et,rt,h),o.shapes=o._group.selectAll("."+B)}};T.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(p,o,h){var k=o._positionData,y=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-pie"],B,L,D,R=function(V){var q;return o.x&&o.y?q=T._helpers.r(V,p,o):q=p._widthPixels()<p._heightPixels()?p._widthPixels()/2:p._heightPixels()/2,q},C=function(V){var q=R(V);return o.outerRadius&&(q=T._parsePosition(o.outerRadius,q)),Math.max(q,0)},I=function(V){var q=0;return o.innerRadius&&(q=T._parsePosition(o.innerRadius,R(V))),Math.max(q,0)},M=function(V){var q;return q=ht.arc().innerRadius(I(V)).outerRadius(C(V)),q(V)},N=function(V){V.innerRadius=I(V),V.outerRadius=C(V);var q=ht.interpolate(this._current,V),et;return et=ht.arc().innerRadius(function(rt){return rt.innerRadius}).outerRadius(function(rt){return rt.outerRadius}),this._current=q(0),function(rt){return et(q(rt))}},b=function(V){return function(q){var et,rt;return o.x&&o.y?(!V||o.x._hasCategories()?et=T._helpers.cx(q,p,o):et=o.x._previousOrigin,!V||o.y._hasCategories()?rt=T._helpers.cy(q,p,o):rt=o.y._previousOrigin):(et=p._xPixels()+p._widthPixels()/2,rt=p._yPixels()+p._heightPixels()/2),"translate("+et+","+rt+")"}};p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?y=o.shapes.data(k,function(V){return V.key}):y=o._group.selectAll("."+z.join(".")).data(k,function(V){return V.key}),B=y.enter().append("path").attr("id",function(V){return T._createClass([V.key])}).attr("class",function(V){var q=[];return q=q.concat(V.aggField),q=q.concat(V.pField),z.join(" ")+" "+T._createClass(q)+" "+p.customClassList.pieSeries+" "+T._helpers.css(V,p)}).attr("d",M).on("mouseover",function(V){T._showBarTooltip(V,this,p,o)}).on("mouseleave",function(V){T._removeTooltip(V,this,p,o)}).call(function(V){p.noFormats||V.attr("opacity",function(q){return T._helpers.opacity(q,p,o)}).style("fill",function(q){return T._helpers.fill(q,p,o)}).style("stroke",function(q){return T._helpers.stroke(q,p,o)})}).attr("transform",b(!0)).each(function(V){this._current=V,V.innerRadius=I(V),V.outerRadius=C(V)}),L=p._handleTransition(y.merge(B),h,p,o).call(function(V){h&&h>0?V.attrTween("d",N):V.attr("d",M),p.noFormats||V.attr("fill",function(q){return T._helpers.fill(q,p,o)}).attr("stroke",function(q){return T._helpers.stroke(q,p,o)})}).attr("transform",b(!1)),D=p._handleTransition(y.exit(),h,p,o).attr("transform",b(!0)).attr("d",M),T._postDrawHandling(o,L,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};T._addGradient=function(p,o,h,k,y,z,B){var L=[].concat(p),D=y.svg.select("#"+T._createClass([o])),R=[],C=h.position+"Field",I=!0,M=[];k.forEach(function(N){R.indexOf(N[C])===-1&&N.aggField.join("_")===L.join("_")&&R.push(N[C])},this),R=R.sort(function(N,b){return h._scale(N)-h._scale(b)}),D.node()===null&&(I=!1,D=y.svg.append("defs").append("linearGradient").attr("id",T._createClass([o])).attr("gradientUnits","userSpaceOnUse").attr("x1",h.position==="x"?h._scale(R[0])+y._widthPixels()/R.length/2:0).attr("y1",h.position==="y"?h._scale(R[0])-y._heightPixels()/R.length/2:0).attr("x2",h.position==="x"?h._scale(R[R.length-1])+y._widthPixels()/R.length/2:0).attr("y2",h.position==="y"?h._scale(R[R.length-1])-y._heightPixels()/R.length/2:0)),R.forEach(function(N,b){var V={},q=0;for(q=0;q<k.length;q=q+1)if(k[q].aggField.join("_")===L.join("_")&&k[q][C].join("_")===N.join("_")){V=k[q];break}M.push({offset:Math.round(b/(R.length-1)*100)+"%",color:V[B]})},this),I?y._handleTransition(D.selectAll("stop").data(M),z,y).attr("offset",function(N){return N.offset}).attr("stop-color",function(N){return N.color}):D.selectAll("stop").data(M).enter().append("stop").attr("offset",function(N){return N.offset}).attr("stop-color",function(N){return N.color})};T._arrayIndexCompare=function(p,o,h){var k,y,z,B,L,D;for(y=0;y<p.length;y+=1){for(B=!0,L=!0,D=[].concat(p[y]),z=0;z<o.length;z+=1)B=B&&o[z]===D[z];for(z=0;z<h.length;z+=1)L=L&&h[z]===D[z];if(B||L){B&&L?k=0:B?k=-1:k=1;break}}return k};T._createClass=function(p){var o,h=[],k;if(k=function(y){var z=y.charCodeAt(0),B="-";return z>=65&&z<=90&&(B=y.toLowerCase()),B},p.length>0)for(o=0;o<p.length;o+=1)p[o]&&h.push("dimple-"+p[o].toString().replace(/[^a-z\d]/g,k));else h=["dimple-all"];return h.join(" ")};T._drawMarkerBacks=function(p,o,h,k,y,z){var B,L=["dimple-marker-back",y,p.keyString],D,R;h.lineMarkers&&(h._markerBacks===null||h._markerBacks===void 0||h._markerBacks[p.keyString]===void 0?B=h._group.selectAll("."+L.join(".")).data(p.markerData):B=h._markerBacks[p.keyString].data(p.markerData,function(C){return C.key}),z.nextSibling&&z.nextSibling.id?R=B.enter().insert("circle","#"+z.nextSibling.id):R=B.enter().append("circle"),R.attr("id",function(C){return T._createClass([C.key+" Marker Back"])}).attr("class",function(C){var I=[];return h.x._hasCategories()&&(I=I.concat(C.xField)),h.y._hasCategories()&&(I=I.concat(C.yField)),T._createClass(I)+" "+L.join(" ")}).attr("cx",function(C){return h.x._hasCategories()?T._helpers.cx(C,o,h):h.x._previousOrigin}).attr("cy",function(C){return h.y._hasCategories()?T._helpers.cy(C,o,h):h.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),o._handleTransition(B.merge(R),k,o).attr("cx",function(C){return T._helpers.cx(C,o,h)}).attr("cy",function(C){return T._helpers.cy(C,o,h)}).attr("r",2+h.lineWeight),D=o._handleTransition(B.exit(),k,o).attr("cx",function(C){return h.x._hasCategories()?T._helpers.cx(C,o,h):h.x._origin}).attr("cy",function(C){return h.y._hasCategories()?T._helpers.cy(C,o,h):h.y._origin}).attr("r",0),k===0?D.remove():D.each("end",function(){ht.select(this).remove()}),(h._markerBacks===void 0||h._markerBacks===null)&&(h._markerBacks={}),h._markerBacks[p.keyString]=B)};T._drawMarkers=function(p,o,h,k,y,z,B,L,D){var R,C=["dimple-marker",y,p.keyString],I,M;h._markers===null||h._markers===void 0||h._markers[p.keyString]===void 0?R=h._group.selectAll("."+C.join(".")).data(p.markerData):R=h._markers[p.keyString].data(p.markerData,function(N){return N.key}),D.nextSibling&&D.nextSibling.id?M=R.enter().insert("circle","#"+D.nextSibling.id):M=R.enter().append("circle"),M.attr("id",function(N){return T._createClass([N.key+" Marker"])}).attr("class",function(N){var b=[],V=o.getClass(N.aggField.length>0?N.aggField[N.aggField.length-1]:"All");return h.x._hasCategories()&&(b=b.concat(N.xField)),h.y._hasCategories()&&(b=b.concat(N.yField)),T._createClass(b)+" "+C.join(" ")+" "+o.customClassList.lineMarker+" "+V}).on("mouseover",function(N){B(N,this,o,h)}).on("mouseleave",function(N){L(N,this,o,h)}).attr("cx",function(N){return h.x._hasCategories()?T._helpers.cx(N,o,h):h.x._previousOrigin}).attr("cy",function(N){return h.y._hasCategories()?T._helpers.cy(N,o,h):h.y._previousOrigin}).attr("r",0).attr("opacity",h.lineMarkers||p.data.length<2?p.color.opacity:0).call(function(N){o.noFormats||N.attr("fill","white").style("stroke-width",h.lineWeight).attr("stroke",function(b){return z?T._helpers.fill(b,o,h):p.color.stroke})}),o._handleTransition(R.merge(M),k,o).attr("cx",function(N){return T._helpers.cx(N,o,h)}).attr("cy",function(N){return T._helpers.cy(N,o,h)}).attr("r",2+h.lineWeight).attr("opacity",h.lineMarkers||p.data.length<2?p.color.opacity:0).call(function(N){o.noFormats||N.attr("fill","white").style("stroke-width",h.lineWeight).attr("stroke",function(b){return z?T._helpers.fill(b,o,h):p.color.stroke})}),I=o._handleTransition(R.exit(),k,o).attr("cx",function(N){return h.x._hasCategories()?T._helpers.cx(N,o,h):h.x._origin}).attr("cy",function(N){return h.y._hasCategories()?T._helpers.cy(N,o,h):h.y._origin}).attr("r",0),k===0?I.remove():I.each("end",function(){ht.select(this).remove()}),(h._markers===void 0||h._markers===null)&&(h._markers={}),h._markers[p.keyString]=R,T._drawMarkerBacks(p,o,h,k,y,D)};T._ease=function(p,o){if(p&&o&&Object.prototype.toString.call(o)==="[object String]"){switch(o){case"linear":o=ht.easeLinear;break;case"poly":o=ht.easePoly;break;case"quad":o=ht.easeQuad;break;case"cubic":o=ht.easeCubic;break;case"sin":o=ht.easeSin;break;case"exp":o=ht.easeExp;break;case"circle":o=ht.easeCircle;break;case"elastic":o=ht.easeElastic;break;case"back":o=ht.easeBack;break;case"bounce":o=ht.easeBounce;break}p.ease(o)}};T._getOrderedList=function(p,o,h){var k,y=[],z=[],B=[].concat(o),L=[].concat(o),D=[];return h!=null&&(D=D.concat(h)),D=D.concat({ordering:B,desc:!1}),D.forEach(function(R){var C,I=[],M=[];if(typeof R.ordering=="function"){if(p&&p.length>0)for(C in p[0])Object.prototype.hasOwnProperty.call(p[0],C)&&L.indexOf(C)===-1&&L.push(C)}else if(!(R.ordering instanceof Array))L.push(R.ordering);else{for(C=0;C<R.ordering.length;C+=1)p&&p.length>0&&Object.prototype.hasOwnProperty.call(p[0],R.ordering[C])&&M.push(R.ordering[C]),I.push(R.ordering[C]);M.length>I.length/2?L.concat(M):R.values=I}},this),k=T._rollUp(p,B,L),D.length>=1&&(D.forEach(function(R){var C=R.desc===null||R.desc===void 0?!1:R.desc,I=R.ordering,M=[],N=function(V){var q=0,et;for(et=0;et<V.length;et+=1)if(!isNaN(V[et]))q+=parseFloat(V[et]);else{q=void 0;break}return q},b=function(V,q){var et=0,rt=N(V),vt=N(q);return!isNaN(rt)&&!isNaN(vt)?et=parseFloat(rt)-parseFloat(vt):!isNaN(Date.parse(V[0]))&&!isNaN(Date.parse(q[0]))?et=Date.parse(V[0])-Date.parse(q[0]):V[0]<q[0]?et=-1:V[0]>q[0]&&(et=1),et};typeof I=="function"?y.push(function(V,q){return(C?-1:1)*I(V,q)}):R.values&&R.values.length>0?(R.values.forEach(function(V){M.push([].concat(V).join("|"))},this),y.push(function(V,q){var et="",rt="",vt,Mt,gt;for(gt=0;gt<B.length;gt+=1)gt>0&&(et+="|",rt+="|"),et+=V[B[gt]],rt+=q[B[gt]];return vt=M.indexOf(et),Mt=M.indexOf(rt),vt=vt<0?C?-1:M.length:vt,Mt=Mt<0?C?-1:M.length:Mt,(C?-1:1)*(vt-Mt)})):[].concat(R.ordering).forEach(function(V){y.push(function(q,et){var rt=0;return q[V]!==void 0&&et[V]!==void 0&&(rt=b([].concat(q[V]),[].concat(et[V]))),(C?-1:1)*rt})})}),k.sort(function(R,C){for(var I=0,M=0;I<y.length&&M===0;)M=y[I](R,C),I+=1;return M}),k.forEach(function(R){var C,I=[];if(B.length===1)z.push(R[B[0]]);else{for(C=0;C<B.length;C+=1)I.push(R[B[C]]);z.push(I)}},this)),z};T._getSeriesOrder=function(p,o){var h=[].concat(o._orderRules),k=o.categoryFields,y=[];return k!=null&&k.length>0&&(o.c!==null&&o.c!==void 0&&o.c._hasMeasure()&&h.push({ordering:o.c.measure,desc:!0}),o.x._hasMeasure()&&h.push({ordering:o.x.measure,desc:!0}),o.y._hasMeasure()&&h.push({ordering:o.y.measure,desc:!0}),y=T._getOrderedList(p,k,h)),y};T._getSeriesSortPredicate=function(p,o,h){return function(k,y){var z=0;return o.x._hasCategories()&&(z=T._helpers.cx(k,p,o)-T._helpers.cx(y,p,o)),z===0&&o.y._hasCategories()&&(z=T._helpers.cy(k,p,o)-T._helpers.cy(y,p,o)),z===0&&h&&(z=T._arrayIndexCompare(h,k.aggField,y.aggField)),z}};T._helpers={cx:function(p,o,h){var k=0;return h.x.measure!==null&&h.x.measure!==void 0?k=h.x._scale(p.cx):h.x._hasCategories()&&h.x.categoryFields.length>=2?k=h.x._scale(p.cx)+T._helpers.xGap(o,h)+(p.xOffset+.5)*((o._widthPixels()/h.x._max-2*T._helpers.xGap(o,h))*p.width):k=h.x._scale(p.cx)+o._widthPixels()/h.x._max/2,k},cy:function(p,o,h){var k=0;return h.y.measure!==null&&h.y.measure!==void 0?k=h.y._scale(p.cy):h.y.categoryFields!==null&&h.y.categoryFields!==void 0&&h.y.categoryFields.length>=2?k=h.y._scale(p.cy)-o._heightPixels()/h.y._max+T._helpers.yGap(o,h)+(p.yOffset+.5)*((o._heightPixels()/h.y._max-2*T._helpers.yGap(o,h))*p.height):k=h.y._scale(p.cy)-o._heightPixels()/h.y._max/2,k},r:function(p,o,h){var k=0,y=1;return h.z===null||h.z===void 0?k=!h.radius||h.radius==="auto"?5:h.radius:(h.radius&&h.radius!=="auto"&&h.radius>1&&(y=h.radius/h.z._scale(h.z._max)),h.z._hasMeasure()?k=h.z._scale(p.r)*y:k=h.z._scale(o._heightPixels()/100)*y),k},xGap:function(p,o){var h=0;return(o.x.measure===null||o.x.measure===void 0)&&o.barGap>0&&(h=p._widthPixels()/o.x._max*(o.barGap>.99?.99:o.barGap)/2),h},xClusterGap:function(p,o,h){var k=0;return h.x.categoryFields!==null&&h.x.categoryFields!==void 0&&h.x.categoryFields.length>=2&&h.clusterBarGap>0&&!h.x._hasMeasure()&&(k=p.width*(o._widthPixels()/h.x._max-T._helpers.xGap(o,h)*2)*(h.clusterBarGap>.99?.99:h.clusterBarGap)/2),k},yGap:function(p,o){var h=0;return(o.y.measure===null||o.y.measure===void 0)&&o.barGap>0&&(h=p._heightPixels()/o.y._max*(o.barGap>.99?.99:o.barGap)/2),h},yClusterGap:function(p,o,h){var k=0;return h.y.categoryFields!==null&&h.y.categoryFields!==void 0&&h.y.categoryFields.length>=2&&h.clusterBarGap>0&&!h.y._hasMeasure()&&(k=p.height*(o._heightPixels()/h.y._max-T._helpers.yGap(o,h)*2)*(h.clusterBarGap>.99?.99:h.clusterBarGap)/2),k},x:function(p,o,h){var k=0;return h.x._hasTimeField()?k=h.x._scale(p.x)-T._helpers.width(p,o,h)/2:h.x.measure!==null&&h.x.measure!==void 0?k=h.x._scale(p.x):k=h.x._scale(p.x)+T._helpers.xGap(o,h)+p.xOffset*(T._helpers.width(p,o,h)+2*T._helpers.xClusterGap(p,o,h))+T._helpers.xClusterGap(p,o,h),k},y:function(p,o,h){var k=0;return h.y._hasTimeField()?k=h.y._scale(p.y)-T._helpers.height(p,o,h)/2:h.y.measure!==null&&h.y.measure!==void 0?k=h.y._scale(p.y):k=h.y._scale(p.y)-o._heightPixels()/h.y._max+T._helpers.yGap(o,h)+p.yOffset*(T._helpers.height(p,o,h)+2*T._helpers.yClusterGap(p,o,h))+T._helpers.yClusterGap(p,o,h),k},width:function(p,o,h){var k=0;return h.x.measure!==null&&h.x.measure!==void 0?k=Math.abs(h.x._scale(p.x<0?p.x-p.width:p.x+p.width)-h.x._scale(p.x)):h.x._hasTimeField()?k=h.x.floatingBarWidth:k=p.width*(o._widthPixels()/h.x._max-T._helpers.xGap(o,h)*2)-T._helpers.xClusterGap(p,o,h)*2,k},height:function(p,o,h){var k=0;return h.y._hasTimeField()?k=h.y.floatingBarWidth:h.y.measure!==null&&h.y.measure!==void 0?k=Math.abs(h.y._scale(p.y)-h.y._scale(p.y<=0?p.y+p.height:p.y-p.height)):k=p.height*(o._heightPixels()/h.y._max-T._helpers.yGap(o,h)*2)-T._helpers.yClusterGap(p,o,h)*2,k},opacity:function(p,o,h){var k=0;return h.c!==null&&h.c!==void 0?k=p.opacity:k=o.getColor(p.aggField.slice(-1)[0]).opacity,k},fill:function(p,o,h){var k=0;return h.c!==null&&h.c!==void 0?k=p.fill:k=o.getColor(p.aggField.slice(-1)[0]).fill,k},stroke:function(p,o,h){var k=0;return h.c!==null&&h.c!==void 0?k=p.stroke:k=o.getColor(p.aggField.slice(-1)[0]).stroke,k},css:function(p,o){return o.getClass(p.aggField.slice(-1)[0])}};T._interpolate=function(p,o){if(p&&o){if(Object.prototype.toString.call(o)==="[object String]")switch(o){case"linear":o=ht.curveLinear;break;case"linear-closed":o=ht.curveLinearClosed;break;case"step":o=ht.curveStep;break;case"step-before":o=ht.curveStepBefore;break;case"step-after":o=ht.curveStepAfter;break;case"basis":o=ht.curveBasis;break;case"basis-open":o=ht.curveBasisOpen;break;case"basis-closed":o=ht.curveBasisClosed;break;case"bundle":o=ht.curveBundle;break;case"cardinal":o=ht.curveCardinal;break;case"cardinal-open":o=ht.curveCardinalOpen;break;case"cardinal-closed":o=ht.curveCardinalClosed;break;case"monotone":o=ht.curveMonotoneX;break}p.curve(o)}};T._parentHeight=function(p){var o=p.getBoundingClientRect().height;return(!o||o<0)&&(o=p.clientHeight),o};T._parentWidth=function(p){var o=p.getBoundingClientRect().width;return(!o||o<0)&&(o=p.clientWidth),o};T._parsePosition=function(p,o){var h=0,k;return p&&(k=p.toString().split(","),k.forEach(function(y){y&&(isNaN(y)?y.slice(-1)==="%"?h+=o*(parseFloat(y.slice(0,y.length-1))/100):y.slice(-2)==="px"?h+=parseFloat(y.slice(0,y.length-2)):h=p:h+=parseFloat(y))},this)),h<0&&(h=o+h),h};T._parseXPosition=function(p,o){return T._parsePosition(p,T._parentWidth(o))};T._parseYPosition=function(p,o){return T._parsePosition(p,T._parentHeight(o))};T._postDrawHandling=function(p,o,h,k){k===0?(o.each(function(y,z){p.afterDraw&&p.afterDraw(this,y,z)}),h.remove()):(o.on("end",function(y,z){p.afterDraw&&p.afterDraw(this,y,z)}),h.call(function(){p.shapes&&p.shapes.exit().remove()}))};T._removeTooltip=function(p,o,h,k){h._tooltipGroup&&h._tooltipGroup.remove()};T._rollUp=function(p,o,h){var k=[];return o!=null?o=[].concat(o):o=[],p.forEach(function(y){var z=-1,B={},L=!0;k.forEach(function(D,R){z===-1&&(L=!0,o.forEach(function(C){L=L&&y[C]===D[C]},this),L&&(z=R))},this),z!==-1?B=k[z]:(o.forEach(function(D){B[D]=y[D]},this),k.push(B),z=k.length-1),h.forEach(function(D){o.indexOf(D)===-1&&(B[D]===void 0&&(B[D]=[]),B[D]=B[D].concat(y[D]))},this),k[z]=B},this),k};T._showBarTooltip=function(p,o,h,k){var y=5,z=10,B=750,L=ht.select(o),D=L.node().getBBox().x,R=L.node().getBBox().y,C=L.node().getBBox().width,I=L.node().getBBox().height,M=L.attr("opacity"),N=L.attr("fill"),b=k._dropLineOrigin(),V=ht.rgb(ht.rgb(N).r+.6*(255-ht.rgb(N).r),ht.rgb(N).g+.6*(255-ht.rgb(N).g),ht.rgb(N).b+.6*(255-ht.rgb(N).b)),q=ht.rgb(ht.rgb(N).r+.8*(255-ht.rgb(N).r),ht.rgb(N).g+.8*(255-ht.rgb(N).g),ht.rgb(N).b+.8*(255-ht.rgb(N).b)),et,rt,vt=k.getTooltipText(p),Mt=0,gt=0,dt=0,Pt,qt,Nt,Vt,ce=function($t,Et){var ee=L.node().getCTM(),le=h.svg.node().createSVGPoint();return le.x=$t||0,le.y=Et||0,le.matrixTransform(ee)};h._tooltipGroup!==null&&h._tooltipGroup!==void 0&&h._tooltipGroup.remove(),h._tooltipGroup=h.svg.append("g"),k.p||(Vt=k._isStacked()?1:C/2,!k.x._hasCategories()&&b.y!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<k.x._origin?D+Vt:D+C-Vt).attr("y1",R<b.y?R+I:R).attr("x2",D<k.x._origin?D+Vt:D+C-Vt).attr("y2",R<b.y?R+I:R).call(function($t){h.noFormats||$t.style("fill","none").style("stroke",N).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",M)}).transition().delay(B/2).duration(B/2).ease(ht.easeLinear).attr("y2",R<b.y?b.y-1:b.y+1),Vt=k._isStacked()?1:I/2,!k.y._hasCategories()&&b.x!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<b.x?D+C:D).attr("y1",R<k.y._origin?R+Vt:R+I-Vt).attr("x2",D<b.x?D+C:D).attr("y2",R<k.y._origin?R+Vt:R+I-Vt).call(function($t){h.noFormats||$t.style("fill","none").style("stroke",N).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",M)}).transition().delay(B/2).duration(B/2).ease(ht.easeLinear).attr("x2",D<b.x?b.x-1:b.x+1)),et=h._tooltipGroup.append("g"),rt=et.append("rect").attr("class","dimple-tooltip "+h.customClassList.tooltipBox),et.selectAll(".dimple-dont-select-any").data(vt).enter().append("text").attr("class","dimple-tooltip "+h.customClassList.tooltipLabel).text(function($t){return $t}).call(function($t){h.noFormats||$t.style("font-family",k.tooltipFontFamily).style("font-size",k._getTooltipFontSize())}),et.each(function(){gt=this.getBBox().width>gt?this.getBBox().width:gt,dt=this.getBBox().width>dt?this.getBBox().height:dt}),et.selectAll("text").attr("x",0).attr("y",function(){return Mt+=this.getBBox().height,Mt-this.getBBox().height/2}),rt.attr("x",-y).attr("y",-y).attr("height",Math.floor(Mt+y)-.5).attr("width",gt+2*y).attr("rx",5).attr("ry",5).call(function($t){h.noFormats||$t.style("fill",q).style("stroke",V).style("stroke-width",2).style("opacity",.95)}),ce(D+C+y+z+gt).x<parseFloat(h.svg.node().getBBox().width)?(Pt=D+C+y+z,qt=R+I/2-(Mt-(dt-y))/2):ce(D-(y+z+gt)).x>0?(Pt=D-(y+z+gt),qt=R+I/2-(Mt-(dt-y))/2):ce(0,R+I+Mt+z+y).y<parseFloat(h.svg.node().getBBox().height)?(Pt=D+C/2-(2*y+gt)/2,Pt=Pt>0?Pt:z,Pt=Pt+gt<parseFloat(h.svg.node().getBBox().width)?Pt:parseFloat(h.svg.node().getBBox().width)-gt-z,qt=R+I+2*y):(Pt=D+C/2-(2*y+gt)/2,Pt=Pt>0?Pt:z,Pt=Pt+gt<parseFloat(h.svg.node().getBBox().width)?Pt:parseFloat(h.svg.node().getBBox().width)-gt-z,qt=R-Mt-(dt-y)),Nt=ce(Pt,qt),et.attr("transform","translate("+Nt.x+" , "+Nt.y+")")};T._showPointTooltip=function(p,o,h,k){var y=5,z=10,B=750,L=ht.select(o),D=parseFloat(L.attr("cx")),R=parseFloat(L.attr("cy")),C=parseFloat(L.attr("r")),I=T._helpers.opacity(p,h,k),M=L.attr("stroke"),N=k._dropLineOrigin(),b=ht.rgb(ht.rgb(M).r+.6*(255-ht.rgb(M).r),ht.rgb(M).g+.6*(255-ht.rgb(M).g),ht.rgb(M).b+.6*(255-ht.rgb(M).b)),V=ht.rgb(ht.rgb(M).r+.8*(255-ht.rgb(M).r),ht.rgb(M).g+.8*(255-ht.rgb(M).g),ht.rgb(M).b+.8*(255-ht.rgb(M).b)),q=0,et=0,rt=0,vt,Mt,gt=k.getTooltipText(p),dt,Pt;h._tooltipGroup!==null&&h._tooltipGroup!==void 0&&h._tooltipGroup.remove(),h._tooltipGroup=h.svg.append("g"),h._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+h.customClassList.lineMarkerCircle).attr("cx",D).attr("cy",R).attr("r",C).call(function(qt){h.noFormats||qt.attr("opacity",0).style("fill","none").style("stroke",M).style("stroke-width",1)}).transition().duration(B/2).ease(ht.easeLinear).attr("r",C+k.lineWeight+2).call(function(qt){h.noFormats||qt.attr("opacity",1).style("stroke-width",2)}),N.y!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D).attr("y1",R<N.y?R+C+k.lineWeight+2:R-C-k.lineWeight-2).attr("x2",D).attr("y2",R<N.y?R+C+k.lineWeight+2:R-C-k.lineWeight-2).call(function(qt){h.noFormats||qt.style("fill","none").style("stroke",M).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(B/2).duration(B/2).ease(ht.easeLinear).attr("y2",R<N.y?N.y-1:N.y+1),N.x!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<N.x?D+C+k.lineWeight+2:D-C-k.lineWeight-2).attr("y1",R).attr("x2",D<N.x?D+C+k.lineWeight+2:D-C-k.lineWeight-2).attr("y2",R).call(function(qt){h.noFormats||qt.style("fill","none").style("stroke",M).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(B/2).duration(B/2).ease(ht.easeLinear).attr("x2",D<N.x?N.x-1:N.x+1),vt=h._tooltipGroup.append("g"),Mt=vt.append("rect").attr("class","dimple-tooltip "+h.customClassList.tooltipBox),vt.selectAll(".dont-select-any").data(gt).enter().append("text").attr("class","dimple-tooltip "+h.customClassList.tooltipLabel).text(function(qt){return qt}).call(function(qt){h.noFormats||qt.style("font-family",k.tooltipFontFamily).style("font-size",k._getTooltipFontSize())}),vt.each(function(){et=this.getBBox().width>et?this.getBBox().width:et,rt=this.getBBox().width>rt?this.getBBox().height:rt}),vt.selectAll("text").attr("x",0).attr("y",function(){return q+=this.getBBox().height,q-this.getBBox().height/2}),Mt.attr("x",-y).attr("y",-y).attr("height",Math.floor(q+y)-.5).attr("width",et+2*y).attr("rx",5).attr("ry",5).call(function(qt){h.noFormats||qt.style("fill",V).style("stroke",b).style("stroke-width",2).style("opacity",.95)}),D+C+y+z+et<parseFloat(h.svg.node().getBBox().width)?(dt=D+C+y+z,Pt=R-(q-(rt-y))/2):D-C-(y+z+et)>0?(dt=D-C-(y+z+et),Pt=R-(q-(rt-y))/2):R+C+q+z+y<parseFloat(h.svg.node().getBBox().height)?(dt=D-(2*y+et)/2,dt=dt>0?dt:z,dt=dt+et<parseFloat(h.svg.node().getBBox().width)?dt:parseFloat(h.svg.node().getBBox().width)-et-z,Pt=R+C+2*y):(dt=D-(2*y+et)/2,dt=dt>0?dt:z,dt=dt+et<parseFloat(h.svg.node().getBBox().width)?dt:parseFloat(h.svg.node().getBBox().width)-et-z,Pt=R-q-(rt-y)),vt.attr("transform","translate("+dt+" , "+Pt+")")};T.filterData=function(p,o,h){var k=p;return o!==null&&h!==null&&(h!=null&&(h=[].concat(h)),k=[],p.forEach(function(y){(y[o]===null||h.indexOf([].concat(y[o]).join("/"))>-1)&&k.push(y)},this)),k};T.getUniqueValues=function(p,o){var h=[];return o!=null&&(o=[].concat(o),p.forEach(function(k){var y="";o.forEach(function(z,B){B>0&&(y+="/"),y+=k[z]},this),h.indexOf(y)===-1&&h.push(y)},this)),h};T.newSvg=function(p,o,h){var k=null;if(p==null&&(p="body"),k=ht.select(p),k.empty())throw"The '"+p+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return k.append("svg").attr("width",o).attr("height",h)};const hi=(p,o,h)=>{(p==null||p===void 0)&&(p="body");const k=ht.select(p);if(k.empty())throw"The '"+p+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return k.append("svg").attr("width",o).attr("height",h)},kc=p=>{if(typeof window<"u"){const{pptx:I,resultElement:M,thumbElement:N}=p,b=document.createElement("div");b.setAttribute("class","r-preview-pptx-main"),M.innerHTML="",M.appendChild(b);let V=!1;return new Promise((q,et)=>{const rt=Mt=>{if(V)return;const gt=document.createElement("div"),dt=document.createElement("style");switch(Mt.type){case"slide":gt.innerHTML=Mt.data,b.appendChild(gt);break;case"pptx-thumb":N&&(N==null||N.setAttribute("src",`data:image/jpeg;base64,${Mt.data}`));break;case"slideSize":break;case"globalCSS":dt.innerHTML=Mt.data,b.appendChild(dt);break;case"Done":V=!0,o(Mt.data.charts),q(Mt.data.time);break;case"WARN":console.warn("PPTX processing warning: ",Mt.data);break;case"ERROR":V=!0,console.error("PPTX processing error: ",Mt.data),et(new Error(Mt.data));break}},vt={postMessage};vc(Mt=>{vt.postMessage=Mt},rt),vt.postMessage({type:"processPPTX",data:I})}).then(q=>{const et=()=>{const rt=Math.max(...Array.from(b.children).filter(Mt=>Mt.nodeName==="section").map(Mt=>Mt.offsetWidth)),vt=b.children[0].offsetWidth;b.setAttribute("style",`transform: scale(${vt/rt}),transform-origin': 'top left'`)};return et(),window.addEventListener("resize",et),z(document.getElementsByClassName("block")),z(document.getElementsByTagName("td")),q})}function o(I){for(let M=0;M<I.length;M++)k(I[M].data)}function h(I){const M=[],N=[],b=[];return I.forEach((V,q)=>{const et=V.key;b[q]=V.key,V.values.forEach((rt,vt)=>{const Mt=V.xlabels[vt];N[vt]=V.xlabels[vt],M.push({name:Mt,group:et,value:rt.y})})}),{data:M,xLabels:N,groupLabels:b}}function k(I){const M=I.chartID,N=I.chartType,b=I.chartData;let V=[];switch(N){case"lineChart":{const{data:q,xLabels:et,groupLabels:rt}=h(b);V=q;const vt=document.getElementById(M)||document.body,Mt=vt&&hi(`#${M}`,vt.style.width,vt.style.height),gt=new T.chart(Mt,V),dt=gt.addCategoryAxis("x","name");dt.addOrderRule(et),dt.addGroupOrderRule(rt),dt.title=null;const Pt=gt.addMeasureAxis("y","value");Pt.title=null,gt.addSeries("group",T.plot.line),gt.addLegend(60,10,500,20,"right"),gt.draw();break}case"barChart":{const{data:q,xLabels:et,groupLabels:rt}=h(b);V=q;const vt=document.getElementById(M)||document.body,Mt=hi("#"+M,vt.style.width,vt.style.height),gt=new T.chart(Mt,V),dt=gt.addCategoryAxis("x",["name","group"]);dt.addOrderRule(et),dt.addGroupOrderRule(rt),dt.title=null;const Pt=gt.addMeasureAxis("y","value");Pt.title=null,gt.addSeries("group",T.plot.bar),gt.addLegend(60,10,500,20,"right"),gt.draw();break}case"pieChart":case"pie3DChart":{const{data:q,groupLabels:et}=h(b);V=q;const rt=document.getElementById(M)||document.body,vt=hi(`#${M}`,rt.style.width,rt.style.height),Mt=new T.chart(vt,V);Mt.addMeasureAxis("p","value").addOrderRule(et),Mt.addSeries("name",T.plot.pie),Mt.addLegend(50,20,400,300,"left"),Mt.draw();break}case"areaChart":{const{data:q,xLabels:et,groupLabels:rt}=h(b);V=q;const vt=document.getElementById(M)||document.body,Mt=hi("#"+M,vt.style.width,vt.style.height),gt=new T.chart(Mt,V),dt=gt.addCategoryAxis("x","name");dt.addOrderRule(et),dt.addGroupOrderRule(rt),dt.title=null;const Pt=gt.addMeasureAxis("y","value");Pt.title=null,gt.addSeries("group",T.plot.area),gt.addLegend(60,10,500,20,"right"),gt.draw();break}case"scatterChart":{for(let q=0;q<b.length;q++){const et=[];for(let rt=0;rt<b[q].length;rt++)et.push({x:rt,y:b[q][rt]});V.push({key:"data"+(q+1),values:et})}break}}}function y(I,M){const N=[],b=V=>{V.forEach(q=>{q.children.length>0&&b(Array.from(q.children)),Array.from(q.classList).includes(M)&&N.push(q)})};return I.children.length>0&&b(Array.from(I.children)),N}function z(I){const M=Array.from(I);for(let N=0;N<M.length;N++){const b=y(M[N],"numeric-bullet-style");if(b.length>0){let V="",q="",et=0;const rt=[];let vt=0;const Mt=[];for(let gt=0;gt<b.length;gt++){const dt=b[gt].getAttribute("data-bulltname"),Pt=b[gt].getAttribute("data-bulltlvl");et===0?(V=dt,q=Pt,rt[vt]=et,Mt[vt]=dt,et++):dt===V&&Pt===q?(V=dt,q=Pt,et++,rt[vt]=et,Mt[vt]=dt):dt!==V&&Pt===q||dt!==V&&Number(Pt)>Number(q)?(V=dt,q=Pt,vt++,rt[vt]=et,Mt[vt]=dt,et=1):dt!==V&&Number(Pt)<Number(q)&&(V=dt,q=Pt,vt--,et=rt[vt]+1);const qt=B(Mt[vt],et);b[gt].innerHTML=qt.toString()}}}}function B(I,M){let N="";switch(I){case"arabicPeriod":N=M+". ";break;case"arabicParenR":N=M+") ";break;case"alphaLcParenR":N=C(M,"lowerCase")+") ";break;case"alphaLcPeriod":N=C(M,"lowerCase")+". ";break;case"alphaUcParenR":N=C(M,"upperCase")+") ";break;case"alphaUcPeriod":N=C(M,"upperCase")+". ";break;case"romanUcPeriod":N=L(M)+". ";break;case"romanLcParenR":N=L(M)+") ";break;case"hebrew2Minus":N=D.format(Number(M))+"-";break;default:N=M}return N}function L(I){if(!+I)return!1;const M=String(+I).split(""),N=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let b="",V=3;for(;V--;)b=(N[+M.pop()+V*10]||"")+b;return new Array(+M.join("")+1).join("M")+b}const D=R([[1e3,""],[400,"×ª"],[300,"×©"],[200,"×¨"],[100,"×§"],[90,"×¦"],[80,"×¤"],[70,"×¢"],[60,"×¡"],[50,"× "],[40,"×"],[30,"×"],[20,"×"],[10,"×"],[9,"×"],[8,"×"],[7,"×"],[6,"×"],[5,"×"],[4,"×"],[3,"×"],[2,"×"],[1,"×"],[/××/,"××´×"],[/××/,"××´×"],[/([×-×ª])([×-×ª])$/,"$1×´$2"],[/^([×-×ª])$/,"$1×³"]]);function R(I){return{format:function(M){let N="";return I.forEach(b=>{const V=b[0];if(parseInt(V.toString())>0)for(;M>=Number(V);M-=Number(V))N+=b[1];else N=N.replace(V.toString(),b[1])}),N}}}function C(I,M){I=Number(I)-1;let N="";return M==="upperCase"?N=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toUpperCase():M==="lowerCase"&&(N=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toLowerCase()),N}};export{kc as renderPptx};

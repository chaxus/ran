const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/jszip.min--o3_SgQz.CiS0z4ab.js","assets/chunks/commonjs-dynamic-modules-HhqG7SJg.B9lKsKkd.js"])))=>i.map(i=>d[i]);
import{V as gc}from"./framework.BOE7hEeL.js";import{C as ga}from"./colz-DJZvo_8B.DBiU5Tau.js";window.E0DD32CBDCB63F=function(){var o={version:"3.5.9"},h=[].slice,w=function(t){return h.call(t)},x=this.document;function z(t){return t&&(t.ownerDocument||t.document||t).documentElement}function B(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(x)try{w(x.documentElement.childNodes)[0].nodeType}catch{w=function(e){for(var n=e.length,r=new Array(n);n--;)r[n]=e[n];return r}}if(Date.now||(Date.now=function(){return+new Date}),x)try{x.createElement("DIV").style.setProperty("opacity",0,"")}catch{var N=this.Element.prototype,D=N.setAttribute,R=N.setAttributeNS,M=this.CSSStyleDeclaration.prototype,I=M.setProperty;N.setAttribute=function(e,n){D.call(this,e,n+"")},N.setAttributeNS=function(e,n,r){R.call(this,e,n,r+"")},M.setProperty=function(e,n,r){I.call(this,e,n+"",r)}}o.ascending=k;function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=t[n])!=null&&i>a&&(i=a)}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&i>a&&(i=a)}return i},o.max=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=t[n])!=null&&a>i&&(i=a)}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&a>i&&(i=a)}return i},o.extent=function(t,e){var n=-1,r=t.length,i,a,l;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=l=a;break}for(;++n<r;)(a=t[n])!=null&&(i>a&&(i=a),l<a&&(l=a))}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=l=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&(i>a&&(i=a),l<a&&(l=a))}return[i,l]};function E(t){return t===null?NaN:+t}function C(t){return!isNaN(t)}o.sum=function(t,e){var n=0,r=t.length,i,a=-1;if(arguments.length===1)for(;++a<r;)C(i=+t[a])&&(n+=i);else for(;++a<r;)C(i=+e.call(t,t[a],a))&&(n+=i);return n},o.mean=function(t,e){var n=0,r=t.length,i,a=-1,l=r;if(arguments.length===1)for(;++a<r;)C(i=E(t[a]))?n+=i:--l;else for(;++a<r;)C(i=E(e.call(t,t[a],a)))?n+=i:--l;if(l)return n/l},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},o.median=function(t,e){var n=[],r=t.length,i,a=-1;if(arguments.length===1)for(;++a<r;)C(i=E(t[a]))&&n.push(i);else for(;++a<r;)C(i=E(e.call(t,t[a],a)))&&n.push(i);if(n.length)return o.quantile(n.sort(k),.5)},o.variance=function(t,e){var n=t.length,r=0,i,a,l=0,s=-1,u=0;if(arguments.length===1)for(;++s<n;)C(i=E(t[s]))&&(a=i-r,r+=a/++u,l+=a*(i-r));else for(;++s<n;)C(i=E(e.call(t,t[s],s)))&&(a=i-r,r+=a/++u,l+=a*(i-r));if(u>1)return l/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t&&Math.sqrt(t)};function V(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var j=V(k);o.bisectLeft=j.left,o.bisect=o.bisectRight=j.right,o.bisector=function(t){return V(t.length===1?function(e,n){return k(t(e),n)}:t)},o.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,r<2&&(e=0));for(var r=n-e,i,a;r;)a=Math.random()*r--|0,i=t[r+e],t[r+e]=t[a+e],t[a+e]=i;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=o.min(arguments,et),n=new Array(e);++t<e;)for(var r=-1,i,a=n[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return n};function et(t){return t.length}o.transpose=function(t){return o.zip.apply(o,t)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e=t.length,n,r=-1,i=0,a,l;++r<e;)i+=t[r].length;for(a=new Array(i);--e>=0;)for(l=t[e],n=l.length;--n>=0;)a[--i]=l[n];return a};var rt=Math.abs;o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r=[],i=vt(rt(n)),a=-1,l;if(t*=i,e*=i,n*=i,n<0)for(;(l=t+n*++a)>e;)r.push(l/i);else for(;(l=t+n*++a)<e;)r.push(l/i);return r};function vt(t){for(var e=1;t*e%1;)e*=10;return e}function Ft(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}o.map=function(t,e){var n=new dt;if(t instanceof dt)t.forEach(function(s,u){n.set(s,u)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(arguments.length===1)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e.call(t,a=t[r],r),a)}else for(var l in t)n.set(l,t[l]);return n};function dt(){this._=Object.create(null)}var lt="__proto__",Mt="\0";Ft(dt,{has:qt,get:function(t){return this._[Gt(t)]},set:function(t,e){return this._[Gt(t)]=e},remove:ce,keys:Kt,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:Nt(e),value:this._[e]});return t},size:Et,empty:ee,forEach:function(t){for(var e in this._)t.call(this,Nt(e),this._[e])}});function Gt(t){return(t+="")===lt||t[0]===Mt?Mt+t:t}function Nt(t){return(t+="")[0]===Mt?t.slice(1):t}function qt(t){return Gt(t)in this._}function ce(t){return(t=Gt(t))in this._&&delete this._[t]}function Kt(){var t=[];for(var e in this._)t.push(Nt(e));return t}function Et(){var t=0;for(var e in this._)++t;return t}function ee(){for(var t in this._)return!1;return!0}o.nest=function(){var t={},e=[],n=[],r,i;function a(s,u,c){if(c>=e.length)return i?i.call(t,u):r?u.sort(r):u;for(var f=-1,g=u.length,d=e[c++],v,A,m,_=new dt,y;++f<g;)(y=_.get(v=d(A=u[f])))?y.push(A):_.set(v,[A]);return s?(A=s(),m=function(F,b){A.set(F,a(s,b,c))}):(A={},m=function(F,b){A[F]=a(s,b,c)}),_.forEach(m),A}function l(s,u){if(u>=e.length)return s;var c=[],f=n[u++];return s.forEach(function(g,d){c.push({key:g,values:l(d,u)})}),f?c.sort(function(g,d){return f(g.key,d.key)}):c}return t.map=function(s,u){return a(u,s,0)},t.entries=function(s){return l(a(o.map,s,0),0)},t.key=function(s){return e.push(s),t},t.sortKeys=function(s){return n[e.length-1]=s,t},t.sortValues=function(s){return r=s,t},t.rollup=function(s){return i=s,t},t},o.set=function(t){var e=new le;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e};function le(){this._=Object.create(null)}Ft(le,{has:qt,add:function(t){return this._[Gt(t+="")]=!0,t},remove:ce,values:Kt,size:Et,empty:ee,forEach:function(t){for(var e in this._)t.call(this,Nt(e))}}),o.behavior={};function ie(t){return t}o.rebind=function(t,e){for(var n=1,r=arguments.length,i;++n<r;)t[i=arguments[n]]=en(t,e,e[i]);return t};function en(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function ge(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ve.length;n<r;++n){var i=ve[n]+e;if(i in t)return i}}var ve=["webkit","ms","moz","Moz","o","O"];function ue(){}o.dispatch=function(){for(var t=new St,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=ae(t);return t};function St(){}St.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(arguments.length===2){if(e==null)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}};function ae(t){var e=[],n=new dt;function r(){for(var i=e,a=-1,l=i.length,s;++a<l;)(s=i[a].on)&&s.apply(this,arguments);return t}return r.on=function(i,a){var l=n.get(i),s;return arguments.length<2?l&&l.on:(l&&(l.on=null,e=e.slice(0,s=e.indexOf(l)).concat(e.slice(s+1)),n.remove(i)),a&&e.push(n.set(i,{on:a})),t)},r}o.event=null;function Qt(){o.event.preventDefault()}function me(){for(var t=o.event,e;e=t.sourceEvent;)t=e;return t}function Ce(t){for(var e=new St,n=0,r=arguments.length;++n<r;)e[arguments[n]]=ae(e);return e.of=function(i,a){return function(l){try{var s=l.sourceEvent=o.event;l.target=t,o.event=l,e[l.type].apply(i,a)}finally{o.event=s}}},e}o.requote=function(t){return t.replace(be,"\\$&")};var be=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_e={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function bt(t){return _e(t,Ot),t}var Ut=function(t,e){return e.querySelector(t)},re=function(t,e){return e.querySelectorAll(t)},ne=function(t,e){var n=t.matches||t[ge(t,"matchesSelector")];return ne=function(r,i){return n.call(r,i)},ne(t,e)};typeof Sizzle=="function"&&(Ut=function(t,e){return Sizzle(t,e)[0]||null},re=Sizzle,ne=Sizzle.matchesSelector),o.selection=function(){return o.select(x.documentElement)};var Ot=o.selection.prototype=[];Ot.select=function(t){var e=[],n,r,i,a;t=fe(t);for(var l=-1,s=this.length;++l<s;){e.push(n=[]),n.parentNode=(i=this[l]).parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(n.push(r=t.call(a,a.__data__,u,l)),r&&"__data__"in a&&(r.__data__=a.__data__)):n.push(null)}return bt(e)};function fe(t){return typeof t=="function"?t:function(){return Ut(t,this)}}Ot.selectAll=function(t){var e=[],n,r;t=Vt(t);for(var i=-1,a=this.length;++i<a;)for(var l=this[i],s=-1,u=l.length;++s<u;)(r=l[s])&&(e.push(n=w(t.call(r,r.__data__,s,i))),n.parentNode=r);return bt(e)};function Vt(t){return typeof t=="function"?t:function(){return re(t,this)}}var Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:Pe,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Pe.hasOwnProperty(n)?{space:Pe[n],local:t}:t}},Ot.attr=function(t,e){if(arguments.length<2){if(typeof t=="string"){var n=this.node();return t=o.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(mn(e,t[e]));return this}return this.each(mn(t,e))};function mn(t,e){t=o.ns.qualify(t);function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function l(){var u=e.apply(this,arguments);u==null?this.removeAttribute(t):this.setAttribute(t,u)}function s(){var u=e.apply(this,arguments);u==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,u)}return e==null?t.local?r:n:typeof e=="function"?t.local?s:l:t.local?a:i}function un(t){return t.trim().replace(/\s+/g," ")}Ot.classed=function(t,e){if(arguments.length<2){if(typeof t=="string"){var n=this.node(),r=(t=Se(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Cn(t[i]).test(e))return!1;return!0}for(e in t)this.each(Ae(e,t[e]));return this}return this.each(Ae(t,e))};function Cn(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function Se(t){return(t+"").trim().split(/^|\s+/)}function Ae(t,e){t=Se(t).map(nn);var n=t.length;function r(){for(var a=-1;++a<n;)t[a](this,e)}function i(){for(var a=-1,l=e.apply(this,arguments);++a<n;)t[a](this,l)}return typeof e=="function"?i:r}function nn(t){var e=Cn(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",un(i+" "+t))):n.setAttribute("class",un(i.replace(e," ")))}}Ot.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e="");for(n in t)this.each(Rn(n,t[n],e));return this}if(r<2){var i=this.node();return B(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(Rn(t,e,n))};function Rn(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function a(){var l=e.apply(this,arguments);l==null?this.style.removeProperty(t):this.style.setProperty(t,l,n)}return e==null?r:typeof e=="function"?a:i}Ot.property=function(t,e){if(arguments.length<2){if(typeof t=="string")return this.node()[t];for(e in t)this.each(W(e,t[e]));return this}return this.each(W(t,e))};function W(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var a=e.apply(this,arguments);a==null?delete this[t]:this[t]=a}return e==null?n:typeof e=="function"?i:r}Ot.text=function(t){return arguments.length?this.each(typeof t=="function"?function(){var e=t.apply(this,arguments);this.textContent=e??""}:t==null?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ot.html=function(t){return arguments.length?this.each(typeof t=="function"?function(){var e=t.apply(this,arguments);this.innerHTML=e??""}:t==null?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ot.append=function(t){return t=cn(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})};function cn(t){function e(){var r=this.ownerDocument,i=this.namespaceURI;return i?r.createElementNS(i,t):r.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return typeof t=="function"?t:(t=o.ns.qualify(t)).local?n:e}Ot.insert=function(t,e){return t=cn(t),e=fe(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ot.remove=function(){return this.each(mr)};function mr(){var t=this.parentNode;t&&t.removeChild(this)}Ot.data=function(t,e){var n=-1,r=this.length,i,a;if(!arguments.length){for(t=new Array(r=(i=this[0]).length);++n<r;)(a=i[n])&&(t[n]=a.__data__);return t}function l(f,g){var d,v=f.length,A=g.length,m=Math.min(v,A),_=new Array(A),y=new Array(A),F=new Array(v),b,P;if(e){var X=new dt,U=new Array(v),H;for(d=-1;++d<v;)(b=f[d])&&(X.has(H=e.call(b,b.__data__,d))?F[d]=b:X.set(H,b),U[d]=H);for(d=-1;++d<A;)(b=X.get(H=e.call(g,P=g[d],d)))?b!==!0&&(_[d]=b,b.__data__=P):y[d]=He(P),X.set(H,!0);for(d=-1;++d<v;)d in U&&X.get(U[d])!==!0&&(F[d]=f[d])}else{for(d=-1;++d<m;)b=f[d],P=g[d],b?(b.__data__=P,_[d]=b):y[d]=He(P);for(;d<A;++d)y[d]=He(g[d]);for(;d<v;++d)F[d]=f[d]}y.update=_,y.parentNode=_.parentNode=F.parentNode=f.parentNode,s.push(y),u.push(_),c.push(F)}var s=_r([]),u=bt([]),c=bt([]);if(typeof t=="function")for(;++n<r;)l(i=this[n],t.call(i,i.parentNode.__data__,n));else for(;++n<r;)l(i=this[n],t);return u.enter=function(){return s},u.exit=function(){return c},u};function He(t){return{__data__:t}}Ot.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ot.filter=function(t){var e=[],n,r,i;typeof t!="function"&&(t=On(t));for(var a=0,l=this.length;a<l;a++){e.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=0,u=r.length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,a)&&n.push(i)}return bt(e)};function On(t){return function(){return ne(this,t)}}Ot.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n=this[t],r=n.length-1,i=n[r],a;--r>=0;)(a=n[r])&&(i&&i!==a.nextSibling&&i.parentNode.insertBefore(a,i),i=a);return this},Ot.sort=function(t){t=gi.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()};function gi(t){return arguments.length||(t=k),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}Ot.each=function(t){return Ze(this,function(e,n,r){t.call(e,e.__data__,n,r)})};function Ze(t,e){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],a=0,l=i.length,s;a<l;a++)(s=i[a])&&e(s,a,n);return t}Ot.call=function(t){var e=w(arguments);return t.apply(e[0]=this,e),this},Ot.empty=function(){return!this.node()},Ot.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},Ot.size=function(){var t=0;return Ze(this,function(){++t}),t};function _r(t){return _e(t,Ke),t}var Ke=[];o.selection.enter=_r,o.selection.enter.prototype=Ke,Ke.append=Ot.append,Ke.empty=Ot.empty,Ke.node=Ot.node,Ke.call=Ot.call,Ke.size=Ot.size,Ke.select=function(t){for(var e=[],n,r,i,a,l,s=-1,u=this.length;++s<u;){i=(a=this[s]).update,e.push(n=[]),n.parentNode=a.parentNode;for(var c=-1,f=a.length;++c<f;)(l=a[c])?(n.push(i[c]=r=t.call(a.parentNode,l.__data__,c,s)),r.__data__=l.__data__):n.push(null)}return bt(e)},Ke.insert=function(t,e){return arguments.length<2&&(e=S(this)),Ot.insert.call(this,t,e)};function S(t){var e,n;return function(r,i,a){var l=t[a].update,s=l.length,u;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(u=l[e])&&++e<s;);return u}}o.select=function(t){var e;return typeof t=="string"?(e=[Ut(t,x)],e.parentNode=x.documentElement):(e=[t],e.parentNode=z(t)),bt([e])},o.selectAll=function(t){var e;return typeof t=="string"?(e=w(re(t,x)),e.parentNode=x.documentElement):(e=w(t),e.parentNode=null),bt([e])},Ot.on=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e=!1);for(n in t)this.each(O(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(O(t,e,n))};function O(t,e,n){var r="__on"+t,i=t.indexOf("."),a=q;i>0&&(t=t.slice(0,i));var l=L.get(t);l&&(t=l,a=$);function s(){var f=this[r];f&&(this.removeEventListener(t,f,f.$),delete this[r])}function u(){var f=a(e,w(arguments));s.call(this),this.addEventListener(t,this[r]=f,f.$=n),f._=e}function c(){var f=new RegExp("^__on([^.]+)"+o.requote(t)+"$"),g;for(var d in this)if(g=d.match(f)){var v=this[d];this.removeEventListener(g[1],v,v.$),delete this[d]}}return i?e?u:s:e?ue:c}var L=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});x&&L.forEach(function(t){"on"+t in x&&L.remove(t)});function q(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function $(t,e){var n=q(t,e);return function(r){var i=this,a=r.relatedTarget;(!a||a!==i&&!(a.compareDocumentPosition(i)&8))&&n.call(i,r)}}var J,at=0;function st(t){var e=".dragsuppress-"+ ++at,n="click"+e,r=o.select(B(t)).on("touchmove"+e,Qt).on("dragstart"+e,Qt).on("selectstart"+e,Qt);if(J==null&&(J="onselectstart"in t?!1:ge(t.style,"userSelect")),J){var i=z(t).style,a=i[J];i[J]="none"}return function(l){if(r.on(e,null),J&&(i[J]=a),l){var s=function(){r.on(n,null)};r.on(n,function(){Qt(),s()},!0),setTimeout(s,0)}}}o.mouse=function(t){return ct(t,me())};var ut=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ct(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(ut<0){var i=B(t);if(i.scrollX||i.scrollY){n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();ut=!(a.f||a.e),n.remove()}}return ut?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=me().changedTouches),e){for(var r=0,i=e.length,a;r<i;++r)if((a=e[r]).identifier===n)return ct(t,a)}},o.behavior.drag=function(){var t=Ce(i,"drag","dragstart","dragend"),e=null,n=a(ue,o.mouse,B,"mousemove","mouseup"),r=a(wt,o.touch,ie,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(l,s,u,c,f){return function(){var g=this,d=o.event.target,v=g.parentNode,A=t.of(g,arguments),m=0,_=l(),y=".drag"+(_==null?"":"-"+_),F,b=o.select(u(d)).on(c+y,U).on(f+y,H),P=st(d),X=s(v,_);e?(F=e.apply(g,arguments),F=[F.x-X[0],F.y-X[1]]):F=[0,0],A({type:"dragstart"});function U(){var G=s(v,_),ot,gt;G&&(ot=G[0]-X[0],gt=G[1]-X[1],m|=ot|gt,X=G,A({type:"drag",x:G[0]+F[0],y:G[1]+F[1],dx:ot,dy:gt}))}function H(){s(v,_)&&(b.on(c+y,null).on(f+y,null),P(m),A({type:"dragend"}))}}}return i.origin=function(l){return arguments.length?(e=l,i):e},o.rebind(i,t,"on")};function wt(){return o.event.changedTouches[0].identifier}o.touches=function(t,e){return arguments.length<2&&(e=me().touches),e?w(e).map(function(n){var r=ct(t,n);return r.identifier=n.identifier,r}):[]};var tt=1e-6,jt=tt*tt,it=Math.PI,K=2*it,Lt=K-tt,kt=it/2,_t=it/180,zt=180/it;function Z(t){return t>0?1:t<0?-1:0}function Y(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ht(t){return t>1?0:t<-1?it:Math.acos(t)}function Yt(t){return t>1?kt:t<-1?-kt:Math.asin(t)}function Wt(t){return((t=Math.exp(t))-1/t)/2}function Xt(t){return((t=Math.exp(t))+1/t)/2}function Jt(t){return((t=Math.exp(2*t))-1)/(t+1)}function te(t){return(t=Math.sin(t/2))*t}var Tt=Math.SQRT2,Rt=2,Bt=4;o.interpolateZoom=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],l=e[1],s=e[2],u=a-n,c=l-r,f=u*u+c*c,g,d;if(f<jt)d=Math.log(s/i)/Tt,g=function(F){return[n+F*u,r+F*c,i*Math.exp(Tt*F*d)]};else{var v=Math.sqrt(f),A=(s*s-i*i+Bt*f)/(2*i*Rt*v),m=(s*s-i*i-Bt*f)/(2*s*Rt*v),_=Math.log(Math.sqrt(A*A+1)-A),y=Math.log(Math.sqrt(m*m+1)-m);d=(y-_)/Tt,g=function(F){var b=F*d,P=Xt(_),X=i/(Rt*v)*(P*Jt(Tt*b+_)-Wt(_));return[n+X*u,r+X*c,i*P/Xt(Tt*b+_)]}}return g.duration=d*1e3,g},o.behavior.zoom=function(){var t={x:0,y:0,k:1},e,n,r,i=[960,500],a=oe,l=250,s=0,u="mousedown.zoom",c="mousemove.zoom",f="mouseup.zoom",g,d="touchstart.zoom",v,A=Ce(b,"zoomstart","zoom","zoomend"),m,_,y,F;ye||(ye="onwheel"in x?(Pt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in x?(Pt=function(){return o.event.wheelDelta},"mousewheel"):(Pt=function(){return-o.event.detail},"MozMousePixelScroll"));function b(nt){nt.on(u,Ct).on(ye+".zoom",ft).on("dblclick.zoom",yt).on(d,Q)}b.event=function(nt){nt.each(function(){var mt=A.of(this,arguments),Dt=t;Bn?o.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},gt(mt)}).tween("zoom:zoom",function(){var Ht=i[0],Zt=i[1],se=n?n[0]:Ht/2,pe=n?n[1]:Zt/2,Ee=o.interpolateZoom([(se-t.x)/t.k,(pe-t.y)/t.k,Ht/t.k],[(se-Dt.x)/Dt.k,(pe-Dt.y)/Dt.k,Ht/Dt.k]);return function(Ie){var Be=Ee(Ie),Re=Ht/Be[2];this.__chart__=t={x:se-Be[0]*Re,y:pe-Be[1]*Re,k:Re},At(mt)}}).each("interrupt.zoom",function(){xt(mt)}).each("end.zoom",function(){xt(mt)}):(this.__chart__=t,gt(mt),At(mt),xt(mt))})},b.translate=function(nt){return arguments.length?(t={x:+nt[0],y:+nt[1],k:t.k},ot(),b):[t.x,t.y]},b.scale=function(nt){return arguments.length?(t={x:t.x,y:t.y,k:null},U(+nt),ot(),b):t.k},b.scaleExtent=function(nt){return arguments.length?(a=nt==null?oe:[+nt[0],+nt[1]],b):a},b.center=function(nt){return arguments.length?(r=nt&&[+nt[0],+nt[1]],b):r},b.size=function(nt){return arguments.length?(i=nt&&[+nt[0],+nt[1]],b):i},b.duration=function(nt){return arguments.length?(l=+nt,b):l},b.x=function(nt){return arguments.length?(_=nt,m=nt.copy(),t={x:0,y:0,k:1},b):_},b.y=function(nt){return arguments.length?(F=nt,y=nt.copy(),t={x:0,y:0,k:1},b):F};function P(nt){return[(nt[0]-t.x)/t.k,(nt[1]-t.y)/t.k]}function X(nt){return[nt[0]*t.k+t.x,nt[1]*t.k+t.y]}function U(nt){t.k=Math.max(a[0],Math.min(a[1],nt))}function H(nt,mt){mt=X(mt),t.x+=nt[0]-mt[0],t.y+=nt[1]-mt[1]}function G(nt,mt,Dt,Ht){nt.__chart__={x:t.x,y:t.y,k:t.k},U(Math.pow(2,Ht)),H(n=mt,Dt),nt=o.select(nt),l>0&&(nt=nt.transition().duration(l)),nt.call(b.event)}function ot(){_&&_.domain(m.range().map(function(nt){return(nt-t.x)/t.k}).map(m.invert)),F&&F.domain(y.range().map(function(nt){return(nt-t.y)/t.k}).map(y.invert))}function gt(nt){s++||nt({type:"zoomstart"})}function At(nt){ot(),nt({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function xt(nt){--s||(nt({type:"zoomend"}),n=null)}function Ct(){var nt=this,mt=A.of(nt,arguments),Dt=0,Ht=o.select(B(nt)).on(c,pe).on(f,Ee),Zt=P(o.mouse(nt)),se=st(nt);oi.call(nt),gt(mt);function pe(){Dt=1,H(o.mouse(nt),Zt),At(mt)}function Ee(){Ht.on(c,null).on(f,null),se(Dt),xt(mt)}}function Q(){var nt=this,mt=A.of(nt,arguments),Dt={},Ht=0,Zt,se=".zoom-"+o.event.changedTouches[0].identifier,pe="touchmove"+se,Ee="touchend"+se,Ie=[],Be=o.select(nt),Re=st(nt);Oe(),gt(mt),Be.on(u,null).on(d,Oe);function Te(){var tn=o.touches(nt);return Zt=t.k,tn.forEach(function(Fe){Fe.identifier in Dt&&(Dt[Fe.identifier]=P(Fe))}),tn}function Oe(){var tn=o.event.target;o.select(tn).on(pe,In).on(Ee,hc),Ie.push(tn);for(var Fe=o.event.changedTouches,Xe=0,ln=Fe.length;Xe<ln;++Xe)Dt[Fe[Xe].identifier]=null;var We=Te(),Qn=Date.now();if(We.length===1){if(Qn-v<500){var zn=We[0];G(nt,zn,Dt[zn.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),Qt()}v=Qn}else if(We.length>1){var zn=We[0],kn=We[1],ci=zn[0]-kn[0],ws=zn[1]-kn[1];Ht=ci*ci+ws*ws}}function In(){var tn=o.touches(nt),Fe,Xe,ln,We;oi.call(nt);for(var Qn=0,zn=tn.length;Qn<zn;++Qn,We=null)if(ln=tn[Qn],We=Dt[ln.identifier]){if(Xe)break;Fe=ln,Xe=We}if(We){var kn=(kn=ln[0]-Fe[0])*kn+(kn=ln[1]-Fe[1])*kn,ci=Ht&&Math.sqrt(kn/Ht);Fe=[(Fe[0]+ln[0])/2,(Fe[1]+ln[1])/2],Xe=[(Xe[0]+We[0])/2,(Xe[1]+We[1])/2],U(ci*Zt)}v=null,H(Fe,Xe),At(mt)}function hc(){if(o.event.touches.length){for(var tn=o.event.changedTouches,Fe=0,Xe=tn.length;Fe<Xe;++Fe)delete Dt[tn[Fe].identifier];for(var ln in Dt)return void Te()}o.selectAll(Ie).on(se,null),Be.on(u,Ct).on(d,Q),Re(),xt(mt)}}function ft(){var nt=A.of(this,arguments);g?clearTimeout(g):(oi.call(this),e=P(n=r||o.mouse(this)),gt(nt)),g=setTimeout(function(){g=null,xt(nt)},50),Qt(),U(Math.pow(2,Pt()*.002)*t.k),H(n,e),At(nt)}function yt(){var nt=o.mouse(this),mt=Math.log(t.k)/Math.LN2;G(this,nt,P(nt),o.event.shiftKey?Math.ceil(mt)-1:Math.floor(mt)+1)}return o.rebind(b,A,"on")};var oe=[0,1/0],Pt,ye;o.color=$t;function $t(){}$t.prototype.toString=function(){return this.rgb()+""},o.hsl=he;function he(t,e,n){return this instanceof he?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof he?new he(t.h,t.s,t.l):ma(""+t,_a,he):new he(t,e,n)}var je=he.prototype=new $t;je.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new he(this.h,this.s,this.l/t)},je.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new he(this.h,this.s,t*this.l)},je.rgb=function(){return Mn(this.h,this.s,this.l)};function Mn(t,e,n){var r,i;t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;function a(s){return s>360?s-=360:s<0&&(s+=360),s<60?r+(i-r)*s/60:s<180?i:s<240?r+(i-r)*(240-s)/60:r}function l(s){return Math.round(a(s)*255)}return new ze(l(t+120),l(t),l(t-120))}o.hcl=ke;function ke(t,e,n){return this instanceof ke?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ke?new ke(t.h,t.c,t.l):t instanceof xe?yr(t.l,t.a,t.b):yr((t=ya((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ke(t,e,n)}var Ne=ke.prototype=new $t;Ne.brighter=function(t){return new ke(this.h,this.c,Math.min(100,this.l+rn*(arguments.length?t:1)))},Ne.darker=function(t){return new ke(this.h,this.c,Math.max(0,this.l-rn*(arguments.length?t:1)))},Ne.rgb=function(){return Ge(this.h,this.c,this.l).rgb()};function Ge(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new xe(n,Math.cos(t*=_t)*e,Math.sin(t)*e)}o.lab=xe;function xe(t,e,n){return this instanceof xe?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof xe?new xe(t.l,t.a,t.b):t instanceof ke?Ge(t.h,t.c,t.l):ya((t=ze(t)).r,t.g,t.b):new xe(t,e,n)}var rn=18,Ve=.95047,an=1,Ue=1.08883,fn=xe.prototype=new $t;fn.brighter=function(t){return new xe(Math.min(100,this.l+rn*(arguments.length?t:1)),this.a,this.b)},fn.darker=function(t){return new xe(Math.max(0,this.l-rn*(arguments.length?t:1)),this.a,this.b)},fn.rgb=function(){return jn(this.l,this.a,this.b)};function jn(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=tr(i)*Ve,r=tr(r)*an,a=tr(a)*Ue,new ze(pi(3.2404542*i-1.5371385*r-.4985314*a),pi(-.969266*i+1.8760108*r+.041556*a),pi(.0556434*i-.2040259*r+1.0572252*a))}function yr(t,e,n){return t>0?new ke(Math.atan2(n,e)*zt,Math.sqrt(e*e+n*n),t):new ke(NaN,NaN,t)}function tr(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function di(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function pi(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}o.rgb=ze;function ze(t,e,n){return this instanceof ze?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ze?new ze(t.r,t.g,t.b):ma(""+t,ze,Mn):new ze(t,e,n)}function pa(t){return new ze(t>>16,t>>8&255,t&255)}function vr(t){return pa(t)+""}var xr=ze.prototype=new $t;xr.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return!e&&!n&&!r?new ze(i,i,i):(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ze(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t)))},xr.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ze(t*this.r,t*this.g,t*this.b)},xr.hsl=function(){return _a(this.r,this.g,this.b)},xr.toString=function(){return"#"+Gn(this.r)+Gn(this.g)+Gn(this.b)};function Gn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ma(t,e,n){var r=0,i=0,a=0,l,s,u;if(l=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()),l)switch(s=l[2].split(","),l[1]){case"hsl":return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case"rgb":return e(_i(s[0]),_i(s[1]),_i(s[2]))}return(u=br.get(t))?e(u.r,u.g,u.b):(t!=null&&t.charAt(0)==="#"&&!isNaN(u=parseInt(t.slice(1),16))&&(t.length===4?(r=(u&3840)>>4,r=r>>4|r,i=u&240,i=i>>4|i,a=u&15,a=a<<4|a):t.length===7&&(r=(u&16711680)>>16,i=(u&65280)>>8,a=u&255)),e(r,i,a))}function _a(t,e,n){var r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),a=i-r,l,s,u=(i+r)/2;return a?(s=u<.5?a/(i+r):a/(2-i-r),t==i?l=(e-n)/a+(e<n?6:0):e==i?l=(n-t)/a+2:l=(t-e)/a+4,l*=60):(l=NaN,s=u>0&&u<1?0:l),new he(l,s,u)}function ya(t,e,n){t=mi(t),e=mi(e),n=mi(n);var r=di((.4124564*t+.3575761*e+.1804375*n)/Ve),i=di((.2126729*t+.7151522*e+.072175*n)/an),a=di((.0193339*t+.119192*e+.9503041*n)/Ue);return xe(116*i-16,500*(r-i),200*(i-a))}function mi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _i(t){var e=parseFloat(t);return t.charAt(t.length-1)==="%"?Math.round(e*2.55):e}var br=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});br.forEach(function(t,e){br.set(t,pa(e))});function de(t){return typeof t=="function"?t:function(){return t}}o.functor=de,o.xhr=yi(ie);function yi(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=null),wr(e,n,t,r)}}function wr(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,u=null;this.XDomainRequest&&!("withCredentials"in s)&&/^(http(s)?:)?\/\//.test(t)&&(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=c:s.onreadystatechange=function(){s.readyState>3&&c()};function c(){var f=s.status,g;if(!f&&Ms(s)||f>=200&&f<300||f===304){try{g=n.call(i,s)}catch(d){a.error.call(i,d);return}a.load.call(i,g)}else a.error.call(i,s)}return s.onprogress=function(f){var g=o.event;o.event=f;try{a.progress.call(i,s)}finally{o.event=g}},i.header=function(f,g){return f=(f+"").toLowerCase(),arguments.length<2?l[f]:(g==null?delete l[f]:l[f]=g+"",i)},i.mimeType=function(f){return arguments.length?(e=f==null?null:f+"",i):e},i.responseType=function(f){return arguments.length?(u=f,i):u},i.response=function(f){return n=f,i},["get","post"].forEach(function(f){i[f]=function(){return i.send.apply(i,[f].concat(w(arguments)))}}),i.send=function(f,g,d){if(arguments.length===2&&typeof g=="function"&&(d=g,g=null),s.open(f,t,!0),e!=null&&!("accept"in l)&&(l.accept=e+",*/*"),s.setRequestHeader)for(var v in l)s.setRequestHeader(v,l[v]);return e!=null&&s.overrideMimeType&&s.overrideMimeType(e),u!=null&&(s.responseType=u),d!=null&&i.on("error",d).on("load",function(A){d(null,A)}),a.beforesend.call(i,s),s.send(g??null),i},i.abort=function(){return s.abort(),i},o.rebind(i,a,"on"),r==null?i:i.get(Cs(r))}function Cs(t){return t.length===1?function(e,n){t(e==null?n:null)}:t}function Ms(t){var e=t.responseType;return e&&e!=="text"?t.response:t.responseText}o.dsv=function(t,e){var n=new RegExp('["'+t+`
]`),r=t.charCodeAt(0);function i(c,f,g){arguments.length<3&&(g=f,f=null);var d=wr(c,e,f==null?a:l(f),g);return d.row=function(v){return arguments.length?d.response((f=v)==null?a:l(v)):f},d}function a(c){return i.parse(c.responseText)}function l(c){return function(f){return i.parse(f.responseText,c)}}i.parse=function(c,f){var g;return i.parseRows(c,function(d,v){if(g)return g(d,v-1);var A=new Function("d","return {"+d.map(function(m,_){return JSON.stringify(m)+": d["+_+"]"}).join(",")+"}");g=f?function(m,_){return f(A(m),_)}:A})},i.parseRows=function(c,f){var g={},d={},v=[],A=c.length,m=0,_=0,y,F;function b(){if(m>=A)return d;if(F)return F=!1,g;var X=m;if(c.charCodeAt(X)===34){for(var U=X;U++<A;)if(c.charCodeAt(U)===34){if(c.charCodeAt(U+1)!==34)break;++U}m=U+2;var H=c.charCodeAt(U+1);return H===13?(F=!0,c.charCodeAt(U+2)===10&&++m):H===10&&(F=!0),c.slice(X+1,U).replace(/""/g,'"')}for(;m<A;){var H=c.charCodeAt(m++),G=1;if(H===10)F=!0;else if(H===13)F=!0,c.charCodeAt(m)===10&&(++m,++G);else if(H!==r)continue;return c.slice(X,m-G)}return c.slice(X)}for(;(y=b())!==d;){for(var P=[];y!==g&&y!==d;)P.push(y),y=b();f&&(P=f(P,_++))==null||v.push(P)}return v},i.format=function(c){if(Array.isArray(c[0]))return i.formatRows(c);var f=new le,g=[];return c.forEach(function(d){for(var v in d)f.has(v)||g.push(f.add(v))}),[g.map(u).join(t)].concat(c.map(function(d){return g.map(function(v){return u(d[v])}).join(t)})).join(`
`)},i.formatRows=function(c){return c.map(s).join(`
`)};function s(c){return c.map(u).join(t)}function u(c){return n.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}return i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var kr,Cr,Mr,Sr,va=this[ge(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};o.timer=function(){Pr.apply(this,arguments)};function Pr(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return Cr?Cr.n=a:kr=a,Cr=a,Mr||(Sr=clearTimeout(Sr),Mr=1,va(vi)),a}function vi(){var t=xa(),e=ba()-t;e>24?(isFinite(e)&&(clearTimeout(Sr),Sr=setTimeout(vi,e)),Mr=0):(Mr=1,va(vi))}o.timer.flush=function(){xa(),ba()};function xa(){for(var t=Date.now(),e=kr;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function ba(){for(var t,e=kr,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:kr=e.n;return Cr=t,n}function xi(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ss=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ps);o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,xi(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n-1)/3)*3))),Ss[8+n/3]};function Ps(t,e){var n=Math.pow(10,rt(8-e)*3);return{scale:e>8?function(r){return r/n}:function(r){return r*n},symbol:t}}function As(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(l,s){for(var u=l.length,c=[],f=0,g=r[0],d=0;u>0&&g>0&&(d+g+1>s&&(g=Math.max(1,s-d)),c.push(l.substring(u-=g,u+g)),!((d+=g+1)>s));)g=r[f=(f+1)%r.length];return c.reverse().join(n)}:ie;return function(l){var s=wa.exec(l),u=s[1]||" ",c=s[2]||">",f=s[3]||"-",g=s[4]||"",d=s[5],v=+s[6],A=s[7],m=s[8],_=s[9],y=1,F="",b="",P=!1,X=!0;switch(m&&(m=+m.substring(1)),(d||u==="0"&&c==="=")&&(d=u="0",c="="),_){case"n":A=!0,_="g";break;case"%":y=100,b="%",_="f";break;case"p":y=100,b="%",_="r";break;case"b":case"o":case"x":case"X":g==="#"&&(F="0"+_.toLowerCase());case"c":X=!1;case"d":P=!0,m=0;break;case"s":y=-1,_="r";break}g==="$"&&(F=i[0],b=i[1]),_=="r"&&!m&&(_="g"),m!=null&&(_=="g"?m=Math.max(1,Math.min(21,m)):(_=="e"||_=="f")&&(m=Math.max(0,Math.min(20,m)))),_=Fs.get(_)||Ls;var U=d&&A;return function(H){var G=b;if(P&&H%1)return"";var ot=H<0||H===0&&1/H<0?(H=-H,"-"):f==="-"?"":f;if(y<0){var gt=o.formatPrefix(H,m);H=gt.scale(H),G=gt.symbol+b}else H*=y;H=_(H,m);var At=H.lastIndexOf("."),xt,Ct;if(At<0){var Q=X?H.lastIndexOf("e"):-1;Q<0?(xt=H,Ct=""):(xt=H.substring(0,Q),Ct=H.substring(Q))}else xt=H.substring(0,At),Ct=e+H.substring(At+1);!d&&A&&(xt=a(xt,1/0));var ft=F.length+xt.length+Ct.length+(U?0:ot.length),yt=ft<v?new Array(ft=v-ft+1).join(u):"";return U&&(xt=a(yt+xt,yt.length?v-Ct.length:1/0)),ot+=F,H=xt+Ct,(c==="<"?ot+H+yt:c===">"?yt+ot+H:c==="^"?yt.substring(0,ft>>=1)+ot+H+yt.substring(ft):ot+(U?H:yt+H))+G}}}var wa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Fs=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,xi(t,e))).toFixed(Math.max(0,Math.min(20,xi(t*(1+1e-15),e))))}});function Ls(t){return t+""}var It=o.time={},Le=Date;function hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gn.setUTCDate.apply(this._,arguments)},setDay:function(){gn.setUTCDay.apply(this._,arguments)},setFullYear:function(){gn.setUTCFullYear.apply(this._,arguments)},setHours:function(){gn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gn.setUTCSeconds.apply(this._,arguments)},setTime:function(){gn.setTime.apply(this._,arguments)}};var gn=Date.prototype;function Sn(t,e,n){function r(c){var f=t(c),g=a(f,1);return c-f<g-c?f:g}function i(c){return e(c=t(new Le(c-1)),1),c}function a(c,f){return e(c=new Le(+c),f),c}function l(c,f,g){var d=i(c),v=[];if(g>1)for(;d<f;)n(d)%g||v.push(new Date(+d)),e(d,1);else for(;d<f;)v.push(new Date(+d)),e(d,1);return v}function s(c,f,g){try{Le=hn;var d=new hn;return d._=c,l(d,f,g)}finally{Le=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=l;var u=t.utc=Ar(t);return u.floor=u,u.round=Ar(r),u.ceil=Ar(i),u.offset=Ar(a),u.range=s,t}function Ar(t){return function(e,n){try{Le=hn;var r=new hn;return r._=e,t(r,n)._}finally{Le=Date}}}It.year=Sn(function(t){return t=It.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),It.years=It.year.range,It.years.utc=It.year.utc.range,It.day=Sn(function(t){var e=new Le(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),It.days=It.day.range,It.days.utc=It.day.utc.range,It.dayOfYear=function(t){var e=It.year(t);return Math.floor((t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=It[t]=Sn(function(r){return(r=It.day(r)).setDate(r.getDate()-(r.getDay()+e)%7),r},function(r,i){r.setDate(r.getDate()+Math.floor(i)*7)},function(r){var i=It.year(r).getDay();return Math.floor((It.dayOfYear(r)+(i+e)%7)/7)-(i!==e)});It[t+"s"]=n.range,It[t+"s"].utc=n.utc.range,It[t+"OfYear"]=function(r){var i=It.year(r).getDay();return Math.floor((It.dayOfYear(r)+(i+e)%7)/7)}}),It.week=It.sunday,It.weeks=It.sunday.range,It.weeks.utc=It.sunday.utc.range,It.weekOfYear=It.sundayOfYear;function Ts(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,s=t.months,u=t.shortMonths;function c(Q){var ft=Q.length;function yt(nt){for(var mt=[],Dt=-1,Ht=0,Zt,se,pe;++Dt<ft;)Q.charCodeAt(Dt)===37&&(mt.push(Q.slice(Ht,Dt)),(se=ka[Zt=Q.charAt(++Dt)])!=null&&(Zt=Q.charAt(++Dt)),(pe=P[Zt])&&(Zt=pe(nt,se??(Zt==="e"?" ":"0"))),mt.push(Zt),Ht=Dt+1);return mt.push(Q.slice(Ht,Dt)),mt.join("")}return yt.parse=function(nt){var mt={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},Dt=f(mt,Q,nt,0);if(Dt!=nt.length)return null;"p"in mt&&(mt.H=mt.H%12+mt.p*12);var Ht=mt.Z!=null&&Le!==hn,Zt=new(Ht?hn:Le);return"j"in mt?Zt.setFullYear(mt.y,0,mt.j):"W"in mt||"U"in mt?("w"in mt||(mt.w="W"in mt?1:0),Zt.setFullYear(mt.y,0,1),Zt.setFullYear(mt.y,0,"W"in mt?(mt.w+6)%7+mt.W*7-(Zt.getDay()+5)%7:mt.w+mt.U*7-(Zt.getDay()+6)%7)):Zt.setFullYear(mt.y,mt.m,mt.d),Zt.setHours(mt.H+(mt.Z/100|0),mt.M+mt.Z%100,mt.S,mt.L),Ht?Zt._:Zt},yt.toString=function(){return Q},yt}function f(Q,ft,yt,nt){for(var mt,Dt,Ht,Zt=0,se=ft.length,pe=yt.length;Zt<se;){if(nt>=pe)return-1;if(mt=ft.charCodeAt(Zt++),mt===37){if(Ht=ft.charAt(Zt++),Dt=X[Ht in ka?ft.charAt(Zt++):Ht],!Dt||(nt=Dt(Q,yt,nt))<0)return-1}else if(mt!=yt.charCodeAt(nt++))return-1}return nt}c.utc=function(Q){var ft=c(Q);function yt(nt){try{Le=hn;var mt=new Le;return mt._=nt,ft(mt)}finally{Le=Date}}return yt.parse=function(nt){try{Le=hn;var mt=ft.parse(nt);return mt&&mt._}finally{Le=Date}},yt.toString=ft.toString,yt},c.multi=c.utc.multi=Ys;var g=o.map(),d=Fr(a),v=Lr(a),A=Fr(l),m=Lr(l),_=Fr(s),y=Lr(s),F=Fr(u),b=Lr(u);i.forEach(function(Q,ft){g.set(Q.toLowerCase(),ft)});var P={a:function(Q){return l[Q.getDay()]},A:function(Q){return a[Q.getDay()]},b:function(Q){return u[Q.getMonth()]},B:function(Q){return s[Q.getMonth()]},c:c(e),d:function(Q,ft){return De(Q.getDate(),ft,2)},e:function(Q,ft){return De(Q.getDate(),ft,2)},H:function(Q,ft){return De(Q.getHours(),ft,2)},I:function(Q,ft){return De(Q.getHours()%12||12,ft,2)},j:function(Q,ft){return De(1+It.dayOfYear(Q),ft,3)},L:function(Q,ft){return De(Q.getMilliseconds(),ft,3)},m:function(Q,ft){return De(Q.getMonth()+1,ft,2)},M:function(Q,ft){return De(Q.getMinutes(),ft,2)},p:function(Q){return i[+(Q.getHours()>=12)]},S:function(Q,ft){return De(Q.getSeconds(),ft,2)},U:function(Q,ft){return De(It.sundayOfYear(Q),ft,2)},w:function(Q){return Q.getDay()},W:function(Q,ft){return De(It.mondayOfYear(Q),ft,2)},x:c(n),X:c(r),y:function(Q,ft){return De(Q.getFullYear()%100,ft,2)},Y:function(Q,ft){return De(Q.getFullYear()%1e4,ft,4)},Z:Hs,"%":function(){return"%"}},X={a:U,A:H,b:G,B:ot,c:gt,d:Ma,e:Ma,H:Sa,I:Sa,j:js,L:qs,m:Os,M:Gs,p:Ct,S:Vs,U:Es,w:Ns,W:Bs,x:At,X:xt,y:Is,Y:Ds,Z:zs,"%":Us};function U(Q,ft,yt){A.lastIndex=0;var nt=A.exec(ft.slice(yt));return nt?(Q.w=m.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function H(Q,ft,yt){d.lastIndex=0;var nt=d.exec(ft.slice(yt));return nt?(Q.w=v.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function G(Q,ft,yt){F.lastIndex=0;var nt=F.exec(ft.slice(yt));return nt?(Q.m=b.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function ot(Q,ft,yt){_.lastIndex=0;var nt=_.exec(ft.slice(yt));return nt?(Q.m=y.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function gt(Q,ft,yt){return f(Q,P.c.toString(),ft,yt)}function At(Q,ft,yt){return f(Q,P.x.toString(),ft,yt)}function xt(Q,ft,yt){return f(Q,P.X.toString(),ft,yt)}function Ct(Q,ft,yt){var nt=g.get(ft.slice(yt,yt+=2).toLowerCase());return nt==null?-1:(Q.p=nt,yt)}return c}var ka={"-":"",_:" ",0:"0"},we=/^\s*\d+/,Ca=/^%/;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Fr(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Lr(t){for(var e=new dt,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ns(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Es(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Bs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ds(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Is(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.y=Rs(+r[0]),n+r[0].length):-1}function zs(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Rs(t){return t+(t>68?1900:2e3)}function Os(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ma(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function js(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Sa(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Vs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hs(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=rt(e)/60|0,i=rt(e)%60;return n+De(r,"0",2)+De(i,"0",2)}function Us(t,e,n){Ca.lastIndex=0;var r=Ca.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ys(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(r){for(var i=0,a=t[i];!a[1](r);)a=t[++i];return a[0](r)}}o.locale=function(t){return{numberFormat:As(t),timeFormat:Ts(t)}};var Pa=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});o.format=Pa.numberFormat,o.geo={};function bi(){}bi.prototype={s:0,t:0,add:function(t){Aa(t,this.t,Tr),Aa(Tr.s,this.s,this),this.s?this.t+=Tr.t:this.s=Tr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Tr=new bi;function Aa(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}o.geo.stream=function(t,e){t&&Fa.hasOwnProperty(t.type)?Fa[t.type](t,e):Nr(t,e)};function Nr(t,e){t&&La.hasOwnProperty(t.type)&&La[t.type](t,e)}var Fa={Feature:function(t,e){Nr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Nr(n[r].geometry,e)}},La={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){wi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wi(n[r],e,0)},Polygon:function(t,e){Ta(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ta(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Nr(n[r],e)}};function wi(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function Ta(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)wi(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return Er=0,o.geo.stream(t,qe),Er};var Er,Pn=new bi,qe={sphere:function(){Er+=4*it},point:ue,lineStart:ue,lineEnd:ue,polygonStart:function(){Pn.reset(),qe.lineStart=Xs},polygonEnd:function(){var t=2*Pn;Er+=t<0?4*it+t:t,qe.lineStart=qe.lineEnd=qe.point=ue}};function Xs(){var t,e,n,r,i;qe.point=function(l,s){qe.point=a,n=(t=l)*_t,r=Math.cos(s=(e=s)*_t/2+it/4),i=Math.sin(s)};function a(l,s){l*=_t,s=s*_t/2+it/4;var u=l-n,c=u>=0?1:-1,f=c*u,g=Math.cos(s),d=Math.sin(s),v=i*d,A=r*g+v*Math.cos(f),m=v*c*Math.sin(f);Pn.add(Math.atan2(m,A)),n=l,r=g,i=d}qe.lineEnd=function(){a(t,e)}}function An(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Br(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Vn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ki(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ir(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function zr(t){return[Math.atan2(t[1],t[0]),Yt(t[2])]}function Rr(t,e){return rt(t[0]-e[0])<tt&&rt(t[1]-e[1])<tt}o.geo.bounds=function(){var t,e,n,r,i,a,l,s,u,c,f,g={point:d,lineStart:A,lineEnd:m,polygonStart:function(){g.point=_,g.lineStart=y,g.lineEnd=F,u=0,qe.polygonStart()},polygonEnd:function(){qe.polygonEnd(),g.point=d,g.lineStart=A,g.lineEnd=m,Pn<0?(t=-(n=180),e=-(r=90)):u>tt?r=90:u<-1e-6&&(e=-90),f[0]=t,f[1]=n}};function d(U,H){c.push(f=[t=U,n=U]),H<e&&(e=H),H>r&&(r=H)}function v(U,H){var G=An([U*_t,H*_t]);if(s){var ot=Vn(s,G),gt=[ot[1],-ot[0],0],At=Vn(gt,ot);Ir(At),At=zr(At);var xt=U-i,Ct=xt>0?1:-1,Q=At[0]*zt*Ct,ft=rt(xt)>180;if(ft^(Ct*i<Q&&Q<Ct*U)){var yt=At[1]*zt;yt>r&&(r=yt)}else if(Q=(Q+360)%360-180,ft^(Ct*i<Q&&Q<Ct*U)){var yt=-At[1]*zt;yt<e&&(e=yt)}else H<e&&(e=H),H>r&&(r=H);ft?U<i?b(t,U)>b(t,n)&&(n=U):b(U,n)>b(t,n)&&(t=U):n>=t?(U<t&&(t=U),U>n&&(n=U)):U>i?b(t,U)>b(t,n)&&(n=U):b(U,n)>b(t,n)&&(t=U)}else d(U,H);s=G,i=U}function A(){g.point=v}function m(){f[0]=t,f[1]=n,g.point=d,s=null}function _(U,H){if(s){var G=U-i;u+=rt(G)>180?G+(G>0?360:-360):G}else a=U,l=H;qe.point(U,H),v(U,H)}function y(){qe.lineStart()}function F(){_(a,l),qe.lineEnd(),rt(u)>tt&&(t=-(n=180)),f[0]=t,f[1]=n,s=null}function b(U,H){return(H-=U)<0?H+360:H}function P(U,H){return U[0]-H[0]}function X(U,H){return H[0]<=H[1]?H[0]<=U&&U<=H[1]:U<H[0]||H[1]<U}return function(U){r=n=-(t=e=1/0),c=[],o.geo.stream(U,g);var H=c.length;if(H){c.sort(P);for(var G=1,ot=c[0],gt,At=[ot];G<H;++G)gt=c[G],X(gt[0],ot)||X(gt[1],ot)?(b(ot[0],gt[1])>b(ot[0],ot[1])&&(ot[1]=gt[1]),b(gt[0],ot[1])>b(ot[0],ot[1])&&(ot[0]=gt[0])):At.push(ot=gt);for(var xt=-1/0,Ct,H=At.length-1,G=0,ot=At[H],gt;G<=H;ot=gt,++G)gt=At[G],(Ct=b(ot[1],gt[0]))>xt&&(xt=Ct,t=gt[0],n=ot[1])}return c=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){er=Or=Fn=Ln=dn=_n=yn=on=qn=Hn=vn=0,o.geo.stream(t,$e);var e=qn,n=Hn,r=vn,i=e*e+n*n+r*r;return i<jt&&(e=_n,n=yn,r=on,Or<tt&&(e=Fn,n=Ln,r=dn),i=e*e+n*n+r*r,i<jt)?[NaN,NaN]:[Math.atan2(n,e)*zt,Yt(r/Math.sqrt(i))*zt]};var er,Or,Fn,Ln,dn,_n,yn,on,qn,Hn,vn,$e={sphere:ue,point:Ci,lineStart:Na,lineEnd:Ea,polygonStart:function(){$e.lineStart=Ws},polygonEnd:function(){$e.lineStart=Na}};function Ci(t,e){t*=_t;var n=Math.cos(e*=_t);nr(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function nr(t,e,n){++er,Fn+=(t-Fn)/er,Ln+=(e-Ln)/er,dn+=(n-dn)/er}function Na(){var t,e,n;$e.point=function(i,a){i*=_t;var l=Math.cos(a*=_t);t=l*Math.cos(i),e=l*Math.sin(i),n=Math.sin(a),$e.point=r,nr(t,e,n)};function r(i,a){i*=_t;var l=Math.cos(a*=_t),s=l*Math.cos(i),u=l*Math.sin(i),c=Math.sin(a),f=Math.atan2(Math.sqrt((f=e*c-n*u)*f+(f=n*s-t*c)*f+(f=t*u-e*s)*f),t*s+e*u+n*c);Or+=f,_n+=f*(t+(t=s)),yn+=f*(e+(e=u)),on+=f*(n+(n=c)),nr(t,e,n)}}function Ea(){$e.point=Ci}function Ws(){var t,e,n,r,i;$e.point=function(l,s){t=l,e=s,$e.point=a,l*=_t;var u=Math.cos(s*=_t);n=u*Math.cos(l),r=u*Math.sin(l),i=Math.sin(s),nr(n,r,i)},$e.lineEnd=function(){a(t,e),$e.lineEnd=Ea,$e.point=Ci};function a(l,s){l*=_t;var u=Math.cos(s*=_t),c=u*Math.cos(l),f=u*Math.sin(l),g=Math.sin(s),d=r*g-i*f,v=i*c-n*g,A=n*f-r*c,m=Math.sqrt(d*d+v*v+A*A),_=n*c+r*f+i*g,y=m&&-ht(_)/m,F=Math.atan2(m,_);qn+=y*d,Hn+=y*v,vn+=y*A,Or+=F,_n+=F*(n+(n=c)),yn+=F*(r+(r=f)),on+=F*(i+(i=g)),nr(n,r,i)}}function Ba(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function rr(){return!0}function Da(t,e,n,r,i){var a=[],l=[];if(t.forEach(function(m){if(!((_=m.length-1)<=0)){var _,y=m[0],F=m[_];if(Rr(y,F)){i.lineStart();for(var b=0;b<_;++b)i.point((y=m[b])[0],y[1]);i.lineEnd();return}var P=new jr(y,m,null,!0),X=new jr(y,null,P,!1);P.o=X,a.push(P),l.push(X),P=new jr(F,m,null,!1),X=new jr(F,null,P,!0),P.o=X,a.push(P),l.push(X)}}),l.sort(e),Ia(a),Ia(l),!!a.length){for(var s=0,u=n,c=l.length;s<c;++s)l[s].e=u=!u;for(var f=a[0],g,d;;){for(var v=f,A=!0;v.v;)if((v=v.n)===f)return;g=v.z,i.lineStart();do{if(v.v=v.o.v=!0,v.e){if(A)for(var s=0,c=g.length;s<c;++s)i.point((d=g[s])[0],d[1]);else r(v.x,v.n.x,1,i);v=v.n}else{if(A){g=v.p.z;for(var s=g.length-1;s>=0;--s)i.point((d=g[s])[0],d[1])}else r(v.x,v.p.x,-1,i);v=v.p}v=v.o,g=v.z,A=!A}while(!v.v);i.lineEnd()}}}function Ia(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function jr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function za(t,e,n,r){return function(i,a){var l=e(a),s=i.invert(r[0],r[1]),u={point:c,lineStart:g,lineEnd:d,polygonStart:function(){u.point=b,u.lineStart=P,u.lineEnd=X,v=[],y=[]},polygonEnd:function(){u.point=c,u.lineStart=g,u.lineEnd=d,v=o.merge(v);var U=tl(s,y);v.length?(_||(a.polygonStart(),_=!0),Da(v,Ks,U,n,a)):U&&(_||(a.polygonStart(),_=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),_&&(a.polygonEnd(),_=!1),v=y=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function c(U,H){var G=i(U,H);t(U=G[0],H=G[1])&&a.point(U,H)}function f(U,H){var G=i(U,H);l.point(G[0],G[1])}function g(){u.point=f,l.lineStart()}function d(){u.point=c,l.lineEnd()}var v,A=Ra(),m=e(A),_=!1,y,F;function b(U,H){F.push([U,H]);var G=i(U,H);m.point(G[0],G[1])}function P(){m.lineStart(),F=[]}function X(){b(F[0][0],F[0][1]),m.lineEnd();var U=m.clean(),H=A.buffer(),G,ot=H.length;if(F.pop(),y.push(F),F=null,!!ot){if(U&1){G=H[0];var ot=G.length-1,gt=-1,At;if(ot>0){for(_||(a.polygonStart(),_=!0),a.lineStart();++gt<ot;)a.point((At=G[gt])[0],At[1]);a.lineEnd()}return}ot>1&&U&2&&H.push(H.pop().concat(H.shift())),v.push(H.filter(Zs))}}return u}}function Zs(t){return t.length>1}function Ra(){var t=[],e;return{lineStart:function(){t.push(e=[])},point:function(n,r){e.push([n,r])},lineEnd:ue,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ks(t,e){return((t=t.x)[0]<0?t[1]-kt-tt:kt-t[1])-((e=e.x)[0]<0?e[1]-kt-tt:kt-e[1])}var Oa=za(rr,$s,Qs,[-it,-it/2]);function $s(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,l){var s=a>0?it:-it,u=rt(a-e);rt(u-it)<tt?(t.point(e,n=(n+l)/2>0?kt:-kt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&u>=it&&(rt(e-r)<tt&&(e-=r*tt),rt(a-s)<tt&&(a-=s*tt),n=Js(e,n,a,l),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=l),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Js(t,e,n,r){var i,a,l=Math.sin(t-n);return rt(l)>tt?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*l)):(e+r)/2}function Qs(t,e,n,r){var i;if(t==null)i=n*kt,r.point(-it,i),r.point(0,i),r.point(it,i),r.point(it,0),r.point(it,-i),r.point(0,-i),r.point(-it,-i),r.point(-it,0),r.point(-it,i);else if(rt(t[0]-e[0])>tt){var a=t[0]<e[0]?it:-it;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function tl(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,l=0;Pn.reset();for(var s=0,u=e.length;s<u;++s){var c=e[s],f=c.length;if(f)for(var g=c[0],d=g[0],v=g[1]/2+it/4,A=Math.sin(v),m=Math.cos(v),_=1;;){_===f&&(_=0),t=c[_];var y=t[0],F=t[1]/2+it/4,b=Math.sin(F),P=Math.cos(F),X=y-d,U=X>=0?1:-1,H=U*X,G=H>it,ot=A*b;if(Pn.add(Math.atan2(ot*U*Math.sin(H),m*P+ot*Math.cos(H))),a+=G?X+U*K:X,G^d>=n^y>=n){var gt=Vn(An(g),An(t));Ir(gt);var At=Vn(i,gt);Ir(At);var xt=(G^X>=0?-1:1)*Yt(At[2]);(r>xt||r===xt&&(gt[0]||gt[1]))&&(l+=G^X>=0?1:-1)}if(!_++)break;d=y,A=b,m=P,g=t}}return(a<-1e-6||a<tt&&Pn<0)^l&1}function el(t){var e=Math.cos(t),n=e>0,r=rt(e)>tt,i=Li(t,6*_t);return za(a,l,i,n?[0,-t]:[-it,t-it]);function a(c,f){return Math.cos(c)*Math.cos(f)>e}function l(c){var f,g,d,v,A;return{lineStart:function(){v=d=!1,A=1},point:function(m,_){var y=[m,_],F,b=a(m,_),P=n?b?0:u(m,_):b?u(m+(m<0?it:-it),_):0;if(!f&&(v=d=b)&&c.lineStart(),b!==d&&(F=s(f,y),(Rr(f,F)||Rr(y,F))&&(y[0]+=tt,y[1]+=tt,b=a(y[0],y[1]))),b!==d)A=0,b?(c.lineStart(),F=s(y,f),c.point(F[0],F[1])):(F=s(f,y),c.point(F[0],F[1]),c.lineEnd()),f=F;else if(r&&f&&n^b){var X;!(P&g)&&(X=s(y,f,!0))&&(A=0,n?(c.lineStart(),c.point(X[0][0],X[0][1]),c.point(X[1][0],X[1][1]),c.lineEnd()):(c.point(X[1][0],X[1][1]),c.lineEnd(),c.lineStart(),c.point(X[0][0],X[0][1])))}b&&(!f||!Rr(f,y))&&c.point(y[0],y[1]),f=y,d=b,g=P},lineEnd:function(){d&&c.lineEnd(),f=null},clean:function(){return A|(v&&d)<<1}}}function s(c,f,g){var d=An(c),v=An(f),A=[1,0,0],m=Vn(d,v),_=Br(m,m),y=m[0],F=_-y*y;if(!F)return!g&&c;var b=e*_/F,P=-e*y/F,X=Vn(A,m),U=Dr(A,b),H=Dr(m,P);ki(U,H);var G=X,ot=Br(U,G),gt=Br(G,G),At=ot*ot-gt*(Br(U,U)-1);if(!(At<0)){var xt=Math.sqrt(At),Ct=Dr(G,(-ot-xt)/gt);if(ki(Ct,U),Ct=zr(Ct),!g)return Ct;var Q=c[0],ft=f[0],yt=c[1],nt=f[1],mt;ft<Q&&(mt=Q,Q=ft,ft=mt);var Dt=ft-Q,Ht=rt(Dt-it)<tt,Zt=Ht||Dt<tt;if(!Ht&&nt<yt&&(mt=yt,yt=nt,nt=mt),Zt?Ht?yt+nt>0^Ct[1]<(rt(Ct[0]-Q)<tt?yt:nt):yt<=Ct[1]&&Ct[1]<=nt:Dt>it^(Q<=Ct[0]&&Ct[0]<=ft)){var se=Dr(G,(-ot+xt)/gt);return ki(se,U),[Ct,zr(se)]}}}function u(c,f){var g=n?t:it-t,d=0;return c<-g?d|=1:c>g&&(d|=2),f<-g?d|=4:f>g&&(d|=8),d}}function ja(t,e,n,r){return function(i){var a=i.a,l=i.b,s=a.x,u=a.y,c=l.x,f=l.y,g=0,d=1,v=c-s,A=f-u,m;if(m=t-s,!(!v&&m>0)){if(m/=v,v<0){if(m<g)return;m<d&&(d=m)}else if(v>0){if(m>d)return;m>g&&(g=m)}if(m=n-s,!(!v&&m<0)){if(m/=v,v<0){if(m>d)return;m>g&&(g=m)}else if(v>0){if(m<g)return;m<d&&(d=m)}if(m=e-u,!(!A&&m>0)){if(m/=A,A<0){if(m<g)return;m<d&&(d=m)}else if(A>0){if(m>d)return;m>g&&(g=m)}if(m=r-u,!(!A&&m<0)){if(m/=A,A<0){if(m>d)return;m>g&&(g=m)}else if(A>0){if(m<g)return;m<d&&(d=m)}return g>0&&(i.a={x:s+g*v,y:u+g*A}),d<1&&(i.b={x:s+d*v,y:u+d*A}),i}}}}}}var Ga=1e9;o.geo.clipExtent=function(){var t,e,n,r,i,a,l={stream:function(s){return i&&(i.valid=!1),i=a(s),i.valid=!0,i},extent:function(s){return arguments.length?(a=Va(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),l):[[t,e],[n,r]]}};return l.extent([[0,0],[960,500]])};function Va(t,e,n,r){return function(s){var u=s,c=Ra(),f=ja(t,e,n,r),g,d,v,A={point:F,lineStart:At,lineEnd:xt,polygonStart:function(){s=c,g=[],d=[],gt=!0},polygonEnd:function(){s=u,g=o.merge(g);var Q=m([t,r]),ft=gt&&Q,yt=g.length;(ft||yt)&&(s.polygonStart(),ft&&(s.lineStart(),_(null,null,1,s),s.lineEnd()),yt&&Da(g,a,Q,_,s),s.polygonEnd()),g=d=v=null}};function m(Q){for(var ft=0,yt=d.length,nt=Q[1],mt=0;mt<yt;++mt)for(var Dt=1,Ht=d[mt],Zt=Ht.length,se=Ht[0],pe;Dt<Zt;++Dt)pe=Ht[Dt],se[1]<=nt?pe[1]>nt&&Y(se,pe,Q)>0&&++ft:pe[1]<=nt&&Y(se,pe,Q)<0&&--ft,se=pe;return ft!==0}function _(Q,ft,yt,nt){var mt=0,Dt=0;if(Q==null||(mt=i(Q,yt))!==(Dt=i(ft,yt))||l(Q,ft)<0^yt>0)do nt.point(mt===0||mt===3?t:n,mt>1?r:e);while((mt=(mt+yt+4)%4)!==Dt);else nt.point(ft[0],ft[1])}function y(Q,ft){return t<=Q&&Q<=n&&e<=ft&&ft<=r}function F(Q,ft){y(Q,ft)&&s.point(Q,ft)}var b,P,X,U,H,G,ot,gt;function At(){A.point=Ct,d&&d.push(v=[]),ot=!0,G=!1,U=H=NaN}function xt(){g&&(Ct(b,P),X&&G&&c.rejoin(),g.push(c.buffer())),A.point=F,G&&s.lineEnd()}function Ct(Q,ft){Q=Math.max(-1e9,Math.min(Ga,Q)),ft=Math.max(-1e9,Math.min(Ga,ft));var yt=y(Q,ft);if(d&&v.push([Q,ft]),ot)b=Q,P=ft,X=yt,ot=!1,yt&&(s.lineStart(),s.point(Q,ft));else if(yt&&G)s.point(Q,ft);else{var nt={a:{x:U,y:H},b:{x:Q,y:ft}};f(nt)?(G||(s.lineStart(),s.point(nt.a.x,nt.a.y)),s.point(nt.b.x,nt.b.y),yt||s.lineEnd(),gt=!1):yt&&(s.lineStart(),s.point(Q,ft),gt=!1)}U=Q,H=ft,G=yt}return A};function i(s,u){return rt(s[0]-t)<tt?u>0?0:3:rt(s[0]-n)<tt?u>0?2:1:rt(s[1]-e)<tt?u>0?1:0:u>0?3:2}function a(s,u){return l(s.x,u.x)}function l(s,u){var c=i(s,1),f=i(u,1);return c!==f?c-f:c===0?u[1]-s[1]:c===1?s[0]-u[0]:c===2?s[1]-u[1]:u[0]-s[0]}}function Mi(t){var e=0,n=it/3,r=Ai(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*it/180,n=a[1]*it/180):[e/it*180,n/it*180]},i}function qa(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function l(s,u){var c=Math.sqrt(i-2*r*Math.sin(u))/r;return[c*Math.sin(s*=r),a-c*Math.cos(s)]}return l.invert=function(s,u){var c=a-u;return[Math.atan2(s,c)/r,Yt((i-(s*s+c*c)*r*r)/(2*r))]},l}(o.geo.conicEqualArea=function(){return Mi(qa)}).raw=qa,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t=o.geo.albers(),e=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),n=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),r,i={point:function(c,f){r=[c,f]}},a,l,s;function u(c){var f=c[0],g=c[1];return r=null,a(f,g),r||(l(f,g),r)||s(f,g),r}return u.invert=function(c){var f=t.scale(),g=t.translate(),d=(c[0]-g[0])/f,v=(c[1]-g[1])/f;return(v>=.12&&v<.234&&d>=-.425&&d<-.214?e:v>=.166&&v<.234&&d>=-.214&&d<-.115?n:t).invert(c)},u.stream=function(c){var f=t.stream(c),g=e.stream(c),d=n.stream(c);return{point:function(v,A){f.point(v,A),g.point(v,A),d.point(v,A)},sphere:function(){f.sphere(),g.sphere(),d.sphere()},lineStart:function(){f.lineStart(),g.lineStart(),d.lineStart()},lineEnd:function(){f.lineEnd(),g.lineEnd(),d.lineEnd()},polygonStart:function(){f.polygonStart(),g.polygonStart(),d.polygonStart()},polygonEnd:function(){f.polygonEnd(),g.polygonEnd(),d.polygonEnd()}}},u.precision=function(c){return arguments.length?(t.precision(c),e.precision(c),n.precision(c),u):t.precision()},u.scale=function(c){return arguments.length?(t.scale(c),e.scale(c*.35),n.scale(c),u.translate(t.translate())):t.scale()},u.translate=function(c){if(!arguments.length)return t.translate();var f=t.scale(),g=+c[0],d=+c[1];return a=t.translate(c).clipExtent([[g-.455*f,d-.238*f],[g+.455*f,d+.238*f]]).stream(i).point,l=e.translate([g-.307*f,d+.201*f]).clipExtent([[g-.425*f+tt,d+.12*f+tt],[g-.214*f-tt,d+.234*f-tt]]).stream(i).point,s=n.translate([g-.205*f,d+.212*f]).clipExtent([[g-.214*f+tt,d+.166*f+tt],[g-.115*f-tt,d+.234*f-tt]]).stream(i).point,u},u.scale(1070)};var Si,Pi,xn={point:ue,lineStart:ue,lineEnd:ue,polygonStart:function(){Pi=0,xn.lineStart=nl},polygonEnd:function(){xn.lineStart=xn.lineEnd=xn.point=ue,Si+=rt(Pi/2)}};function nl(){var t,e,n,r;xn.point=function(a,l){xn.point=i,t=n=a,e=r=l};function i(a,l){Pi+=r*a-n*l,n=a,r=l}xn.lineEnd=function(){i(t,e)}}var Gr,Vr,qr,Hr,rl={point:il,lineStart:ue,lineEnd:ue,polygonStart:ue,polygonEnd:ue};function il(t,e){t<Gr&&(Gr=t),t>qr&&(qr=t),e<Vr&&(Vr=e),e>Hr&&(Hr=e)}function al(){var t=Ha(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:l,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=l,n.point=r},pointRadius:function(u){return t=Ha(u),n},result:function(){if(e.length){var u=e.join("");return e=[],u}}};function r(u,c){e.push("M",u,",",c,t)}function i(u,c){e.push("M",u,",",c),n.point=a}function a(u,c){e.push("L",u,",",c)}function l(){n.point=r}function s(){e.push("Z")}return n}function Ha(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Je={point:Tn,lineStart:Ua,lineEnd:Ya,polygonStart:function(){Je.lineStart=ol},polygonEnd:function(){Je.point=Tn,Je.lineStart=Ua,Je.lineEnd=Ya}};function Tn(t,e){Fn+=t,Ln+=e,++dn}function Ua(){var t,e;Je.point=function(r,i){Je.point=n,Tn(t=r,e=i)};function n(r,i){var a=r-t,l=i-e,s=Math.sqrt(a*a+l*l);_n+=s*(t+r)/2,yn+=s*(e+i)/2,on+=s,Tn(t=r,e=i)}}function Ya(){Je.point=Tn}function ol(){var t,e,n,r;Je.point=function(a,l){Je.point=i,Tn(t=n=a,e=r=l)};function i(a,l){var s=a-n,u=l-r,c=Math.sqrt(s*s+u*u);_n+=c*(n+a)/2,yn+=c*(r+l)/2,on+=c,c=r*a-n*l,qn+=c*(n+a),Hn+=c*(r+l),vn+=c*3,Tn(n=a,r=l)}Je.lineEnd=function(){i(t,e)}}function sl(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:l,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=l,n.point=r},pointRadius:function(u){return e=u,n},result:ue};function r(u,c){t.moveTo(u+e,c),t.arc(u,c,e,0,K)}function i(u,c){t.moveTo(u,c),n.point=a}function a(u,c){t.lineTo(u,c)}function l(){n.point=r}function s(){t.closePath()}return n}function Xa(t){var e=.5,n=Math.cos(30*_t),r=16;function i(u){return(r?l:a)(u)}function a(u){return Za(u,function(c,f){c=t(c,f),u.point(c[0],c[1])})}function l(u){var c,f,g,d,v,A,m,_,y,F,b,P,X={point:U,lineStart:H,lineEnd:ot,polygonStart:function(){u.polygonStart(),X.lineStart=gt},polygonEnd:function(){u.polygonEnd(),X.lineStart=H}};function U(Ct,Q){Ct=t(Ct,Q),u.point(Ct[0],Ct[1])}function H(){_=NaN,X.point=G,u.lineStart()}function G(Ct,Q){var ft=An([Ct,Q]),yt=t(Ct,Q);s(_,y,m,F,b,P,_=yt[0],y=yt[1],m=Ct,F=ft[0],b=ft[1],P=ft[2],r,u),u.point(_,y)}function ot(){X.point=U,u.lineEnd()}function gt(){H(),X.point=At,X.lineEnd=xt}function At(Ct,Q){G(c=Ct,Q),f=_,g=y,d=F,v=b,A=P,X.point=G}function xt(){s(_,y,m,F,b,P,f,g,c,d,v,A,r,u),X.lineEnd=ot,ot()}return X}function s(u,c,f,g,d,v,A,m,_,y,F,b,P,X){var U=A-u,H=m-c,G=U*U+H*H;if(G>4*e&&P--){var ot=g+y,gt=d+F,At=v+b,xt=Math.sqrt(ot*ot+gt*gt+At*At),Ct=Math.asin(At/=xt),Q=rt(rt(At)-1)<tt||rt(f-_)<tt?(f+_)/2:Math.atan2(gt,ot),ft=t(Q,Ct),yt=ft[0],nt=ft[1],mt=yt-u,Dt=nt-c,Ht=H*mt-U*Dt;(Ht*Ht/G>e||rt((U*mt+H*Dt)/G-.5)>.3||g*y+d*F+v*b<n)&&(s(u,c,f,g,d,v,yt,nt,Q,ot/=xt,gt/=xt,At,P,X),X.point(yt,nt),s(yt,nt,Q,ot,gt,At,A,m,_,y,F,b,P,X))}}return i.precision=function(u){return arguments.length?(r=(e=u*u)>0&&16,i):Math.sqrt(e)},i}o.geo.path=function(){var t=4.5,e,n,r,i,a;function l(u){return u&&(typeof t=="function"&&i.pointRadius(+t.apply(this,arguments)),(!a||!a.valid)&&(a=r(i)),o.geo.stream(u,a)),i.result()}l.area=function(u){return Si=0,o.geo.stream(u,r(xn)),Si},l.centroid=function(u){return Fn=Ln=dn=_n=yn=on=qn=Hn=vn=0,o.geo.stream(u,r(Je)),vn?[qn/vn,Hn/vn]:on?[_n/on,yn/on]:dn?[Fn/dn,Ln/dn]:[NaN,NaN]},l.bounds=function(u){return qr=Hr=-(Gr=Vr=1/0),o.geo.stream(u,r(rl)),[[Gr,Vr],[qr,Hr]]},l.projection=function(u){return arguments.length?(r=(e=u)?u.stream||ll(u):ie,s()):e},l.context=function(u){return arguments.length?(i=(n=u)==null?new al:new sl(u),typeof t!="function"&&i.pointRadius(t),s()):n},l.pointRadius=function(u){return arguments.length?(t=typeof u=="function"?u:(i.pointRadius(+u),+u),l):t};function s(){return a=null,l}return l.projection(o.geo.albersUsa()).context(null)};function ll(t){var e=Xa(function(n,r){return t([n*zt,r*zt])});return function(n){return Ka(e(n))}}o.geo.transform=function(t){return{stream:function(e){var n=new Wa(e);for(var r in t)n[r]=t[r];return n}}};function Wa(t){this.stream=t}Wa.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Za(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}o.geo.projection=bn,o.geo.projectionMutator=Ai;function bn(t){return Ai(function(){return t})()}function Ai(t){var e,n,r,i=Xa(function(G,ot){return G=e(G,ot),[G[0]*a+v,A-G[1]*a]}),a=150,l=480,s=250,u=0,c=0,f=0,g=0,d=0,v,A,m=Oa,_=ie,y=null,F=null,b;function P(G){return G=r(G[0]*_t,G[1]*_t),[G[0]*a+v,A-G[1]*a]}function X(G){return G=r.invert((G[0]-v)/a,(A-G[1])/a),G&&[G[0]*zt,G[1]*zt]}P.stream=function(G){return b&&(b.valid=!1),b=Ka(m(n,i(_(G)))),b.valid=!0,b},P.clipAngle=function(G){return arguments.length?(m=G==null?(y=G,Oa):el((y=+G)*_t),H()):y},P.clipExtent=function(G){return arguments.length?(F=G,_=G?Va(G[0][0],G[0][1],G[1][0],G[1][1]):ie,H()):F},P.scale=function(G){return arguments.length?(a=+G,U()):a},P.translate=function(G){return arguments.length?(l=+G[0],s=+G[1],U()):[l,s]},P.center=function(G){return arguments.length?(u=G[0]%360*_t,c=G[1]%360*_t,U()):[u*zt,c*zt]},P.rotate=function(G){return arguments.length?(f=G[0]%360*_t,g=G[1]%360*_t,d=G.length>2?G[2]%360*_t:0,U()):[f*zt,g*zt,d*zt]},o.rebind(P,i,"precision");function U(){r=Ba(n=Fi(f,g,d),e);var G=e(u,c);return v=l-G[0]*a,A=s+G[1]*a,H()}function H(){return b&&(b.valid=!1,b=null),P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&X,U()}}function Ka(t){return Za(t,function(e,n){t.point(e*_t,n*_t)})}function ir(t,e){return[t,e]}(o.geo.equirectangular=function(){return bn(ir)}).raw=ir.invert=ir,o.geo.rotation=function(t){t=Fi(t[0]%360*_t,t[1]*_t,t.length>2?t[2]*_t:0);function e(n){return n=t(n[0]*_t,n[1]*_t),n[0]*=zt,n[1]*=zt,n}return e.invert=function(n){return n=t.invert(n[0]*_t,n[1]*_t),n[0]*=zt,n[1]*=zt,n},e};function $a(t,e){return[t>it?t-K:t<-it?t+K:t,e]}$a.invert=ir;function Fi(t,e,n){return t?e||n?Ba(Qa(t),to(e,n)):Qa(t):e||n?to(e,n):$a}function Ja(t){return function(e,n){return e+=t,[e>it?e-K:e<-it?e+K:e,n]}}function Qa(t){var e=Ja(t);return e.invert=Ja(-t),e}function to(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);function l(s,u){var c=Math.cos(u),f=Math.cos(s)*c,g=Math.sin(s)*c,d=Math.sin(u),v=d*n+f*r;return[Math.atan2(g*i-v*a,f*n-d*r),Yt(v*i+g*a)]}return l.invert=function(s,u){var c=Math.cos(u),f=Math.cos(s)*c,g=Math.sin(s)*c,d=Math.sin(u),v=d*i-g*a;return[Math.atan2(g*i+d*a,f*n+v*r),Yt(v*n-f*r)]},l}o.geo.circle=function(){var t=[0,0],e,n=6,r;function i(){var a=typeof t=="function"?t.apply(this,arguments):t,l=Fi(-a[0]*_t,-a[1]*_t,0).invert,s=[];return r(null,null,1,{point:function(u,c){s.push(u=l(u,c)),u[0]*=zt,u[1]*=zt}}),{type:"Polygon",coordinates:[s]}}return i.origin=function(a){return arguments.length?(t=a,i):t},i.angle=function(a){return arguments.length?(r=Li((e=+a)*_t,n*_t),i):e},i.precision=function(a){return arguments.length?(r=Li(e*_t,(n=+a)*_t),i):n},i.angle(90)};function Li(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,l,s){var u=l*e;i!=null?(i=eo(n,i),a=eo(n,a),(l>0?i<a:i>a)&&(i+=l*K)):(i=t+l*K,a=t-.5*u);for(var c,f=i;l>0?f>a:f<a;f-=u)s.point((c=zr([n,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function eo(t,e){var n=An(e);n[0]-=t,Ir(n);var r=ht(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-tt)%(2*Math.PI)}o.geo.distance=function(t,e){var n=(e[0]-t[0])*_t,r=t[1]*_t,i=e[1]*_t,a=Math.sin(n),l=Math.cos(n),s=Math.sin(r),u=Math.cos(r),c=Math.sin(i),f=Math.cos(i),g;return Math.atan2(Math.sqrt((g=f*a)*g+(g=u*c-s*f*l)*g),s*c+u*f*l)},o.geo.graticule=function(){var t,e,n,r,i,a,l,s,u=10,c=u,f=90,g=360,d,v,A,m,_=2.5;function y(){return{type:"MultiLineString",coordinates:F()}}function F(){return o.range(Math.ceil(r/f)*f,n,f).map(A).concat(o.range(Math.ceil(s/g)*g,l,g).map(m)).concat(o.range(Math.ceil(e/u)*u,t,u).filter(function(b){return rt(b%f)>tt}).map(d)).concat(o.range(Math.ceil(a/c)*c,i,c).filter(function(b){return rt(b%g)>tt}).map(v))}return y.lines=function(){return F().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[A(r).concat(m(l).slice(1),A(n).reverse().slice(1),m(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.majorExtent(b).minorExtent(b):y.minorExtent()},y.majorExtent=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],l=+b[1][1],r>n&&(b=r,r=n,n=b),s>l&&(b=s,s=l,l=b),y.precision(_)):[[r,s],[n,l]]},y.minorExtent=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],a=+b[0][1],i=+b[1][1],e>t&&(b=e,e=t,t=b),a>i&&(b=a,a=i,i=b),y.precision(_)):[[e,a],[t,i]]},y.step=function(b){return arguments.length?y.majorStep(b).minorStep(b):y.minorStep()},y.majorStep=function(b){return arguments.length?(f=+b[0],g=+b[1],y):[f,g]},y.minorStep=function(b){return arguments.length?(u=+b[0],c=+b[1],y):[u,c]},y.precision=function(b){return arguments.length?(_=+b,d=no(a,i,90),v=ro(e,t,_),A=no(s,l,90),m=ro(r,n,_),y):_},y.majorExtent([[-180,-90+tt],[180,90-tt]]).minorExtent([[-180,-80-tt],[180,80+tt]])};function no(t,e,n){var r=o.range(t,e-tt,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function ro(t,e,n){var r=o.range(t,e-tt,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function Ti(t){return t.source}function Ni(t){return t.target}o.geo.greatArc=function(){var t=Ti,e,n=Ni,r;function i(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),r||n.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(e||t.apply(this,arguments),r||n.apply(this,arguments))},i.source=function(a){return arguments.length?(t=a,e=typeof a=="function"?null:a,i):t},i.target=function(a){return arguments.length?(n=a,r=typeof a=="function"?null:a,i):n},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return ul(t[0]*_t,t[1]*_t,e[0]*_t,e[1]*_t)};function ul(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),l=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),f=l*Math.cos(n),g=l*Math.sin(n),d=2*Math.asin(Math.sqrt(te(r-e)+i*l*te(n-t))),v=1/Math.sin(d),A=d?function(m){var _=Math.sin(m*=d)*v,y=Math.sin(d-m)*v,F=y*u+_*f,b=y*c+_*g,P=y*a+_*s;return[Math.atan2(b,F)*zt,Math.atan2(P,Math.sqrt(F*F+b*b))*zt]}:function(){return[t*zt,e*zt]};return A.distance=d,A}o.geo.length=function(t){return Ei=0,o.geo.stream(t,Un),Ei};var Ei,Un={sphere:ue,point:ue,lineStart:cl,lineEnd:ue,polygonStart:ue,polygonEnd:ue};function cl(){var t,e,n;Un.point=function(i,a){t=i*_t,e=Math.sin(a*=_t),n=Math.cos(a),Un.point=r},Un.lineEnd=function(){Un.point=Un.lineEnd=ue};function r(i,a){var l=Math.sin(a*=_t),s=Math.cos(a),u=rt((i*=_t)-t),c=Math.cos(u);Ei+=Math.atan2(Math.sqrt((u=s*Math.sin(u))*u+(u=n*l-e*s*c)*u),e*l+n*s*c),t=i,e=l,n=s}}function ar(t,e){function n(r,i){var a=Math.cos(r),l=Math.cos(i),s=t(a*l);return[s*l*Math.sin(r),s*Math.sin(i)]}return n.invert=function(r,i){var a=Math.sqrt(r*r+i*i),l=e(a),s=Math.sin(l),u=Math.cos(l);return[Math.atan2(r*s,a*u),Math.asin(a&&i*s/a)]},n}var io=ar(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return bn(io)}).raw=io;var ao=ar(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ie);(o.geo.azimuthalEquidistant=function(){return bn(ao)}).raw=ao;function oo(t,e){var n=Math.cos(t),r=function(s){return Math.tan(it/4+s/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;if(!i)return Ur;function l(s,u){a>0?u<-kt+tt&&(u=-kt+tt):u>kt-tt&&(u=kt-tt);var c=a/Math.pow(r(u),i);return[c*Math.sin(i*s),a-c*Math.cos(i*s)]}return l.invert=function(s,u){var c=a-u,f=Z(i)*Math.sqrt(s*s+c*c);return[Math.atan2(s,c)/i,2*Math.atan(Math.pow(a/f,1/i))-kt]},l}(o.geo.conicConformal=function(){return Mi(oo)}).raw=oo;function so(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(rt(r)<tt)return ir;function a(l,s){var u=i-s;return[u*Math.sin(r*l),i-u*Math.cos(r*l)]}return a.invert=function(l,s){var u=i-s;return[Math.atan2(l,u)/r,i-Z(r)*Math.sqrt(l*l+u*u)]},a}(o.geo.conicEquidistant=function(){return Mi(so)}).raw=so;var lo=ar(function(t){return 1/t},Math.atan);(o.geo.gnomonic=function(){return bn(lo)}).raw=lo;function Ur(t,e){return[t,Math.log(Math.tan(it/4+e/2))]}Ur.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-kt]};function uo(t){var e=bn(t),n=e.scale,r=e.translate,i=e.clipExtent,a;return e.scale=function(){var l=n.apply(e,arguments);return l===e?a?e.clipExtent(null):e:l},e.translate=function(){var l=r.apply(e,arguments);return l===e?a?e.clipExtent(null):e:l},e.clipExtent=function(l){var s=i.apply(e,arguments);if(s===e){if(a=l==null){var u=it*n(),c=r();i([[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]])}}else a&&(s=null);return s},e.clipExtent(null)}(o.geo.mercator=function(){return uo(Ur)}).raw=Ur;var co=ar(function(){return 1},Math.asin);(o.geo.orthographic=function(){return bn(co)}).raw=co;var fo=ar(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(o.geo.stereographic=function(){return bn(fo)}).raw=fo;function Bi(t,e){return[Math.log(Math.tan(it/4+e/2)),-t]}Bi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-kt]},(o.geo.transverseMercator=function(){var t=uo(Bi),e=t.center,n=t.rotate;return t.center=function(r){return r?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return r?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90])}).raw=Bi,o.geom={};function Yn(t){return t[0]}function or(t){return t[1]}o.geom.hull=function(t){var e=Yn,n=or;if(arguments.length)return r(t);function r(i){if(i.length<3)return[];var a=de(e),l=de(n),s,u=i.length,c=[],f=[];for(s=0;s<u;s++)c.push([+a.call(this,i[s],s),+l.call(this,i[s],s),s]);for(c.sort(fl),s=0;s<u;s++)f.push([c[s][0],-c[s][1]]);var g=ho(c),d=ho(f),v=d[0]===g[0],A=d[d.length-1]===g[g.length-1],m=[];for(s=g.length-1;s>=0;--s)m.push(i[c[g[s]][2]]);for(s=+v;s<d.length-A;++s)m.push(i[c[d[s]][2]]);return m}return r.x=function(i){return arguments.length?(e=i,r):e},r.y=function(i){return arguments.length?(n=i,r):n},r};function ho(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Y(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function fl(t,e){return t[0]-e[0]||t[1]-e[1]}o.geom.polygon=function(t){return _e(t,Yr),t};var Yr=o.geom.polygon.prototype=[];Yr.area=function(){for(var t=-1,e=this.length,n,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return i*.5},Yr.centroid=function(t){var e=-1,n=this.length,r=0,i=0,a,l=this[n-1],s;for(arguments.length||(t=-1/(6*this.area()));++e<n;)a=l,l=this[e],s=a[0]*l[1]-l[0]*a[1],r+=(a[0]+l[0])*s,i+=(a[1]+l[1])*s;return[r*t,i*t]},Yr.clip=function(t){for(var e,n=go(t),r=-1,i=this.length-go(this),a,l,s=this[i-1],u,c,f;++r<i;){for(e=t.slice(),t.length=0,u=this[r],c=e[(l=e.length-n)-1],a=-1;++a<l;)f=e[a],Di(f,s,u)?(Di(c,s,u)||t.push(Ii(c,f,s,u)),t.push(f)):Di(c,s,u)&&t.push(Ii(c,f,s,u)),c=f;n&&t.push(t[0]),s=u}return t};function Di(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ii(t,e,n,r){var i=t[0],a=n[0],l=e[0]-i,s=r[0]-a,u=t[1],c=n[1],f=e[1]-u,g=r[1]-c,d=(s*(u-c)-g*(i-a))/(g*l-s*f);return[i+d*l,u+d*f]}function go(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}var Xn,Nn,Wn,po=[],zi,sr,mo=[];function hl(){Zr(this),this.edge=this.site=this.circle=null}function _o(t){var e=po.pop()||new hl;return e.site=t,e}function Ri(t){Kn(t),Wn.remove(t),po.push(t),Zr(t)}function gl(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,l=t.N,s=[t];Ri(t);for(var u=a;u.circle&&rt(n-u.circle.x)<tt&&rt(r-u.circle.cy)<tt;)a=u.P,s.unshift(u),Ri(u),u=a;s.unshift(u),Kn(u);for(var c=l;c.circle&&rt(n-c.circle.x)<tt&&rt(r-c.circle.cy)<tt;)l=c.N,s.push(c),Ri(c),c=l;s.push(c),Kn(c);var f=s.length,g;for(g=1;g<f;++g)c=s[g],u=s[g-1],Xr(c.edge,u.site,c.site,i);u=s[0],c=s[f-1],c.edge=lr(u.site,c.site,null,i),Zn(u),Zn(c)}function dl(t){for(var e=t.x,n=t.y,r,i,a,l,s=Wn._;s;)if(a=yo(s,n)-e,a>tt)s=s.L;else if(l=e-pl(s,n),l>tt){if(!s.R){r=s;break}s=s.R}else{a>-1e-6?(r=s.P,i=s):l>-1e-6?(r=s,i=s.N):r=i=s;break}var u=_o(t);if(Wn.insert(r,u),!(!r&&!i)){if(r===i){Kn(r),i=_o(r.site),Wn.insert(u,i),u.edge=i.edge=lr(r.site,u.site),Zn(r),Zn(i);return}if(!i){u.edge=lr(r.site,u.site);return}Kn(r),Kn(i);var c=r.site,f=c.x,g=c.y,d=t.x-f,v=t.y-g,A=i.site,m=A.x-f,_=A.y-g,y=2*(d*_-v*m),F=d*d+v*v,b=m*m+_*_,P={x:(_*F-v*b)/y+f,y:(d*b-m*F)/y+g};Xr(i.edge,c,A,P),u.edge=lr(c,t,null,P),i.edge=lr(t,A,null,P),Zn(r),Zn(i)}}function yo(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var l=t.P;if(!l)return-1/0;n=l.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var f=s-r,g=1/a-1/c,d=f/c;return g?(-d+Math.sqrt(d*d-2*g*(f*f/(-2*c)-u+c/2+i-a/2)))/g+r:(r+s)/2}function pl(t,e){var n=t.N;if(n)return yo(n,e);var r=t.site;return r.y===e?r.x:1/0}function vo(t){this.site=t,this.edges=[]}vo.prototype.prepare=function(){for(var t=this.edges,e=t.length,n;e--;)n=t[e].edge,(!n.b||!n.a)&&t.splice(e,1);return t.sort(xo),t.length};function ml(t){for(var e=t[0][0],n=t[1][0],r=t[0][1],i=t[1][1],a,l,s,u,c=Nn,f=c.length,g,d,v,A,m,_;f--;)if(g=c[f],!(!g||!g.prepare()))for(v=g.edges,A=v.length,d=0;d<A;)_=v[d].end(),s=_.x,u=_.y,m=v[++d%A].start(),a=m.x,l=m.y,(rt(s-a)>tt||rt(u-l)>tt)&&(v.splice(d,0,new Wr(xl(g.site,_,rt(s-e)<tt&&i-u>tt?{x:e,y:rt(a-e)<tt?l:i}:rt(u-i)<tt&&n-s>tt?{x:rt(l-i)<tt?a:n,y:i}:rt(s-n)<tt&&u-r>tt?{x:n,y:rt(a-n)<tt?l:r}:rt(u-r)<tt&&s-e>tt?{x:rt(l-r)<tt?a:e,y:r}:null),g.site,null)),++A)}function xo(t,e){return e.angle-t.angle}function _l(){Zr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zn(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,i=t.site,a=n.site;if(r!==a){var l=i.x,s=i.y,u=r.x-l,c=r.y-s,f=a.x-l,_=a.y-s,g=2*(u*_-c*f);if(!(g>=-1e-12)){var d=u*u+c*c,v=f*f+_*_,A=(_*d-c*v)/g,m=(u*v-f*d)/g,_=m+s,y=mo.pop()||new _l;y.arc=t,y.site=i,y.x=A+l,y.y=_+Math.sqrt(A*A+m*m),y.cy=_,t.circle=y;for(var F=null,b=sr._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x)if(b.L)b=b.L;else{F=b.P;break}else if(b.R)b=b.R;else{F=b;break}sr.insert(F,y),F||(zi=y)}}}}function Kn(t){var e=t.circle;e&&(e.P||(zi=e.N),sr.remove(e),mo.push(e),Zr(e),t.circle=null)}function yl(t){for(var e=Xn,n=ja(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length,i;r--;)i=e[r],(!vl(i,t)||!n(i)||rt(i.a.x-i.b.x)<tt&&rt(i.a.y-i.b.y)<tt)&&(i.a=i.b=null,e.splice(r,1))}function vl(t,e){var n=t.b;if(n)return!0;var r=t.a,i=e[0][0],a=e[1][0],l=e[0][1],s=e[1][1],u=t.l,c=t.r,f=u.x,g=u.y,d=c.x,v=c.y,A=(f+d)/2,m=(g+v)/2,_,y;if(v===g){if(A<i||A>=a)return;if(f>d){if(!r)r={x:A,y:l};else if(r.y>=s)return;n={x:A,y:s}}else{if(!r)r={x:A,y:s};else if(r.y<l)return;n={x:A,y:l}}}else if(_=(f-d)/(v-g),y=m-_*A,_<-1||_>1)if(f>d){if(!r)r={x:(l-y)/_,y:l};else if(r.y>=s)return;n={x:(s-y)/_,y:s}}else{if(!r)r={x:(s-y)/_,y:s};else if(r.y<l)return;n={x:(l-y)/_,y:l}}else if(g<v){if(!r)r={x:i,y:_*i+y};else if(r.x>=a)return;n={x:a,y:_*a+y}}else{if(!r)r={x:a,y:_*a+y};else if(r.x<i)return;n={x:i,y:_*i+y}}return t.a=r,t.b=n,!0}function bo(t,e){this.l=t,this.r=e,this.a=this.b=null}function lr(t,e,n,r){var i=new bo(t,e);return Xn.push(i),n&&Xr(i,t,e,n),r&&Xr(i,e,t,r),Nn[t.i].edges.push(new Wr(i,t,e)),Nn[e.i].edges.push(new Wr(i,e,t)),i}function xl(t,e,n){var r=new bo(t,null);return r.a=e,r.b=n,Xn.push(r),r}function Xr(t,e,n,r){!t.a&&!t.b?(t.a=r,t.l=e,t.r=n):t.l===n?t.b=r:t.a=r}function Wr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}Wr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Oi(){this._=null}function Zr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}Oi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=wo(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ur(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ur(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,l;if(r?i?a=wo(i):a=r:a=i,e?e.L===t?e.L=a:e.R=a:this._=a,r&&i?(l=a.C,a.C=t.C,a.L=r,r.U=a,a!==i?(e=a.U,a.U=t.U,t=a.R,e.L=t,a.R=i,i.U=a):(a.U=e,e=a,t=a.R)):(l=t.C,t=a),t&&(t.U=e),!l){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,ur(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,cr(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,ur(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,cr(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,ur(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,cr(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function ur(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function wo(t){for(;t.L;)t=t.L;return t}function ji(t,e){var n=t.sort(bl).pop(),r,i,a;for(Xn=[],Nn=new Array(t.length),Wn=new Oi,sr=new Oi;;)if(a=zi,n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x))(n.x!==r||n.y!==i)&&(Nn[n.i]=new vo(n),dl(n),r=n.x,i=n.y),n=t.pop();else if(a)gl(a.arc);else break;e&&(yl(e),ml(e));var l={cells:Nn,edges:Xn};return Wn=sr=Xn=Nn=null,l}function bl(t,e){return e.y-t.y||e.x-t.x}o.geom.voronoi=function(t){var e=Yn,n=or,r=e,i=n,a=Kr;if(t)return l(t);function l(u){var c=new Array(u.length),f=a[0][0],g=a[0][1],d=a[1][0],v=a[1][1];return ji(s(u),a).cells.forEach(function(A,m){var _=A.edges,y=A.site,F=c[m]=_.length?_.map(function(b){var P=b.start();return[P.x,P.y]}):y.x>=f&&y.x<=d&&y.y>=g&&y.y<=v?[[f,v],[d,v],[d,g],[f,g]]:[];F.point=u[m]}),c}function s(u){return u.map(function(c,f){return{x:Math.round(r(c,f)/tt)*tt,y:Math.round(i(c,f)/tt)*tt,i:f}})}return l.links=function(u){return ji(s(u)).edges.filter(function(c){return c.l&&c.r}).map(function(c){return{source:u[c.l.i],target:u[c.r.i]}})},l.triangles=function(u){var c=[];return ji(s(u)).cells.forEach(function(f,g){for(var d=f.site,v=f.edges.sort(xo),A=-1,m=v.length,_,y=v[m-1].edge,F=y.l===d?y.r:y.l;++A<m;)_=F,y=v[A].edge,F=y.l===d?y.r:y.l,g<_.i&&g<F.i&&wl(d,_,F)<0&&c.push([u[g],u[_.i],u[F.i]])}),c},l.x=function(u){return arguments.length?(r=de(e=u),l):e},l.y=function(u){return arguments.length?(i=de(n=u),l):n},l.clipExtent=function(u){return arguments.length?(a=u??Kr,l):a===Kr?null:a},l.size=function(u){return arguments.length?l.clipExtent(u&&[[0,0],u]):a===Kr?null:a&&a[1]},l};var Kr=[[-1e6,-1e6],[1e6,1e6]];function wl(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var a=Yn,l=or,s;if(s=arguments.length)return a=kl,l=Cl,s===3&&(i=n,r=e,n=e=0),u(t);function u(c){var f,g=de(a),d=de(l),v,A,m,_,y,F,b,P;if(e!=null)y=e,F=n,b=r,P=i;else if(b=P=-(y=F=1/0),v=[],A=[],_=c.length,s)for(m=0;m<_;++m)f=c[m],f.x<y&&(y=f.x),f.y<F&&(F=f.y),f.x>b&&(b=f.x),f.y>P&&(P=f.y),v.push(f.x),A.push(f.y);else for(m=0;m<_;++m){var X=+g(f=c[m],m),U=+d(f,m);X<y&&(y=X),U<F&&(F=U),X>b&&(b=X),U>P&&(P=U),v.push(X),A.push(U)}var H=b-y,G=P-F;H>G?P=F+H:b=y+G;function ot(xt,Ct,Q,ft,yt,nt,mt,Dt){if(!(isNaN(Q)||isNaN(ft)))if(xt.leaf){var Ht=xt.x,Zt=xt.y;if(Ht!=null)if(rt(Ht-Q)+rt(Zt-ft)<.01)gt(xt,Ct,Q,ft,yt,nt,mt,Dt);else{var se=xt.point;xt.x=xt.y=xt.point=null,gt(xt,se,Ht,Zt,yt,nt,mt,Dt),gt(xt,Ct,Q,ft,yt,nt,mt,Dt)}else xt.x=Q,xt.y=ft,xt.point=Ct}else gt(xt,Ct,Q,ft,yt,nt,mt,Dt)}function gt(xt,Ct,Q,ft,yt,nt,mt,Dt){var Ht=(yt+mt)*.5,Zt=(nt+Dt)*.5,se=Q>=Ht,pe=ft>=Zt,Ee=pe<<1|se;xt.leaf=!1,xt=xt.nodes[Ee]||(xt.nodes[Ee]=ko()),se?yt=Ht:mt=Ht,pe?nt=Zt:Dt=Zt,ot(xt,Ct,Q,ft,yt,nt,mt,Dt)}var At=ko();if(At.add=function(xt){ot(At,xt,+g(xt,++m),+d(xt,m),y,F,b,P)},At.visit=function(xt){fr(xt,At,y,F,b,P)},At.find=function(xt){return Ml(At,xt[0],xt[1],y,F,b,P)},m=-1,e==null){for(;++m<_;)ot(At,c[m],v[m],A[m],y,F,b,P);--m}else c.forEach(At.add);return v=A=c=f=null,At}return u.x=function(c){return arguments.length?(a=c,u):a},u.y=function(c){return arguments.length?(l=c,u):l},u.extent=function(c){return arguments.length?(c==null?e=n=r=i=null:(e=+c[0][0],n=+c[0][1],r=+c[1][0],i=+c[1][1]),u):e==null?null:[[e,n],[r,i]]},u.size=function(c){return arguments.length?(c==null?e=n=r=i=null:(e=n=0,r=+c[0],i=+c[1]),u):e==null?null:[r-e,i-n]},u};function kl(t){return t.x}function Cl(t){return t.y}function ko(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fr(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var l=(n+i)*.5,s=(r+a)*.5,u=e.nodes;u[0]&&fr(t,u[0],n,r,l,s),u[1]&&fr(t,u[1],l,r,i,s),u[2]&&fr(t,u[2],n,s,l,a),u[3]&&fr(t,u[3],l,s,i,a)}}function Ml(t,e,n,r,i,a,l){var s=1/0,u;return function c(f,g,d,v,A){if(!(g>a||d>l||v<r||A<i)){if(m=f.point){var m,_=e-f.x,y=n-f.y,F=_*_+y*y;if(F<s){var b=Math.sqrt(s=F);r=e-b,i=n-b,a=e+b,l=n+b,u=m}}for(var P=f.nodes,X=(g+v)*.5,U=(d+A)*.5,H=e>=X,G=n>=U,ot=G<<1|H,gt=ot+4;ot<gt;++ot)if(f=P[ot&3])switch(ot&3){case 0:c(f,g,d,X,U);break;case 1:c(f,X,d,v,U);break;case 2:c(f,g,U,X,A);break;case 3:c(f,X,U,v,A);break}}}(t,r,i,a,l),u}o.interpolateRgb=Gi;function Gi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,l=e.g-r,s=e.b-i;return function(u){return"#"+Gn(Math.round(n+a*u))+Gn(Math.round(r+l*u))+Gn(Math.round(i+s*u))}}o.interpolateObject=Co;function Co(t,e){var n={},r={},i;for(i in t)i in e?n[i]=En(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(a){for(i in n)r[i]=n[i](a);return r}}o.interpolateNumber=pn;function pn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}o.interpolateString=Mo;function Mo(t,e){var n=Vi.lastIndex=qi.lastIndex=0,r,i,a,l=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Vi.exec(t))&&(i=qi.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[l]?s[l]+=a:s[++l]=a),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,u.push({i:l,x:pn(r,i)})),n=qi.lastIndex;return n<e.length&&(a=e.slice(n),s[l]?s[l]+=a:s[++l]=a),s.length<2?u[0]?(e=u[0].x,function(c){return e(c)+""}):function(){return e}:(e=u.length,function(c){for(var f=0,g;f<e;++f)s[(g=u[f]).i]=g.x(c);return s.join("")})}var Vi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qi=new RegExp(Vi.source,"g");o.interpolate=En;function En(t,e){for(var n=o.interpolators.length,r;--n>=0&&!(r=o.interpolators[n](t,e)););return r}o.interpolators=[function(t,e){var n=typeof e;return(n==="string"?br.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Gi:Mo:e instanceof $t?Gi:Array.isArray(e)?$r:n==="object"&&isNaN(e)?Co:pn)(t,e)}],o.interpolateArray=$r;function $r(t,e){var n=[],r=[],i=t.length,a=e.length,l=Math.min(t.length,e.length),s;for(s=0;s<l;++s)n.push(En(t[s],e[s]));for(;s<i;++s)r[s]=t[s];for(;s<a;++s)r[s]=e[s];return function(u){for(s=0;s<l;++s)r[s]=n[s](u);return r}}var So=function(){return ie},Sl=o.map({linear:So,poly:Nl,quad:function(){return Fl},cubic:function(){return Ll},sin:function(){return El},exp:function(){return Bl},circle:function(){return Dl},elastic:Il,back:zl,bounce:function(){return Rl}}),Pl=o.map({in:ie,out:Po,"in-out":Ao,"out-in":function(t){return Ao(Po(t))}});o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=Sl.get(n)||So,r=Pl.get(r)||ie,Al(r(n.apply(null,h.call(arguments,1))))};function Al(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Po(t){return function(e){return 1-t(1-e)}}function Ao(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}}function Fl(t){return t*t}function Ll(t){return t*t*t}function Tl(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Nl(t){return function(e){return Math.pow(e,t)}}function El(t){return 1-Math.cos(t*kt)}function Bl(t){return Math.pow(2,10*(t-1))}function Dl(t){return 1-Math.sqrt(1-t*t)}function Il(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/K*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*K/e)}}function zl(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Rl(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}o.interpolateHcl=Ol;function Ol(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,l=e.c-r,s=e.l-i;return isNaN(l)&&(l=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(u){return Ge(n+a*u,r+l*u,i+s*u)+""}}o.interpolateHsl=jl;function jl(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,l=e.s-r,s=e.l-i;return isNaN(l)&&(l=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(u){return Mn(n+a*u,r+l*u,i+s*u)+""}}o.interpolateLab=Gl;function Gl(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,l=e.a-r,s=e.b-i;return function(u){return jn(n+a*u,r+l*u,i+s*u)+""}}o.interpolateRound=Fo;function Fo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}o.transform=function(t){var e=x.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(n){if(n!=null){e.setAttribute("transform",n);var r=e.transform.baseVal.consolidate()}return new Lo(r?r.matrix:ql)})(t)};function Lo(t){var e=[t.a,t.b],n=[t.c,t.d],r=No(e),i=To(e,n),a=No(Vl(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*zt,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*zt:0}Lo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function To(t,e){return t[0]*e[0]+t[1]*e[1]}function No(t){var e=Math.sqrt(To(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vl(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}var ql={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=Eo;function $n(t){return t.length?t.pop()+",":""}function Hl(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:pn(t[0],e[0])},{i:i-2,x:pn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Ul(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push($n(n)+"rotate(",null,")")-2,x:pn(t,e)})):e&&n.push($n(n)+"rotate("+e+")")}function Yl(t,e,n,r){t!==e?r.push({i:n.push($n(n)+"skewX(",null,")")-2,x:pn(t,e)}):e&&n.push($n(n)+"skewX("+e+")")}function Xl(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push($n(n)+"scale(",null,",",null,")");r.push({i:i-4,x:pn(t[0],e[0])},{i:i-2,x:pn(t[1],e[1])})}else(e[0]!==1||e[1]!==1)&&n.push($n(n)+"scale("+e+")")}function Eo(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),Hl(t.translate,e.translate,n,r),Ul(t.rotate,e.rotate,n,r),Yl(t.skew,e.skew,n,r),Xl(t.scale,e.scale,n,r),t=e=null,function(i){for(var a=-1,l=r.length,s;++a<l;)n[(s=r[a]).i]=s.x(i);return n.join("")}}function Wl(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Zl(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Kl(t[n]));return e}};function Kl(t){for(var e=t.source,n=t.target,r=$l(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Bo(t){for(var e=[],n=t.parent;n!=null;)e.push(t),t=n,n=n.parent;return e.push(t),e}function $l(t,e){if(t===e)return t;for(var n=Bo(t),r=Bo(e),i=n.pop(),a=r.pop(),l=null;i===a;)l=i,i=n.pop(),a=r.pop();return l}o.layout.chord=function(){var t={},e,n,r,i,a=0,l,s,u;function c(){var g={},d=[],v=o.range(i),A=[],m,_,y,F,b;for(e=[],n=[],m=0,F=-1;++F<i;){for(_=0,b=-1;++b<i;)_+=r[F][b];d.push(_),A.push(o.range(i)),m+=_}for(l&&v.sort(function(At,xt){return l(d[At],d[xt])}),s&&A.forEach(function(At,xt){At.sort(function(Ct,Q){return s(r[xt][Ct],r[xt][Q])})}),m=(K-a*i)/m,_=0,F=-1;++F<i;){for(y=_,b=-1;++b<i;){var P=v[F],X=A[P][b],U=r[P][X],H=_,G=_+=U*m;g[P+"-"+X]={index:P,subindex:X,startAngle:H,endAngle:G,value:U}}n[P]={index:P,startAngle:y,endAngle:_,value:(_-y)/m},_+=a}for(F=-1;++F<i;)for(b=F-1;++b<i;){var ot=g[F+"-"+b],gt=g[b+"-"+F];(ot.value||gt.value)&&e.push(ot.value<gt.value?{source:gt,target:ot}:{source:ot,target:gt})}u&&f()}function f(){e.sort(function(g,d){return u((g.source.value+g.target.value)/2,(d.source.value+d.target.value)/2)})}return t.matrix=function(g){return arguments.length?(i=(r=g)&&r.length,e=n=null,t):r},t.padding=function(g){return arguments.length?(a=g,e=n=null,t):a},t.sortGroups=function(g){return arguments.length?(l=g,e=n=null,t):l},t.sortSubgroups=function(g){return arguments.length?(s=g,e=null,t):s},t.sortChords=function(g){return arguments.length?(u=g,e&&f(),t):u},t.chords=function(){return e||c(),e},t.groups=function(){return n||c(),n},t},o.layout.force=function(){var t={},e=o.dispatch("start","tick","end"),n,r=[1,1],i,a,l=.9,s=nu,u=ru,c=-30,f=iu,g=.1,d=.64,v=[],A=[],m,_,y;function F(P){return function(X,U,H,G){if(X.point!==P){var ot=X.cx-P.x,gt=X.cy-P.y,At=G-U,xt=ot*ot+gt*gt;if(At*At/d<xt){if(xt<f){var Ct=X.charge/xt;P.px-=ot*Ct,P.py-=gt*Ct}return!0}if(X.point&&xt&&xt<f){var Ct=X.pointCharge/xt;P.px-=ot*Ct,P.py-=gt*Ct}}return!X.charge}}t.tick=function(){if((a*=.99)<.005)return n=null,e.end({type:"end",alpha:a=0}),!0;var P=v.length,X=A.length,U,H,G,ot,gt,At,xt,Ct,Q;for(H=0;H<X;++H)G=A[H],ot=G.source,gt=G.target,Ct=gt.x-ot.x,Q=gt.y-ot.y,(At=Ct*Ct+Q*Q)&&(At=a*_[H]*((At=Math.sqrt(At))-m[H])/At,Ct*=At,Q*=At,gt.x-=Ct*(xt=ot.weight+gt.weight?ot.weight/(ot.weight+gt.weight):.5),gt.y-=Q*xt,ot.x+=Ct*(xt=1-xt),ot.y+=Q*xt);if((xt=a*g)&&(Ct=r[0]/2,Q=r[1]/2,H=-1,xt))for(;++H<P;)G=v[H],G.x+=(Ct-G.x)*xt,G.y+=(Q-G.y)*xt;if(c)for(Do(U=o.geom.quadtree(v),a,y),H=-1;++H<P;)(G=v[H]).fixed||U.visit(F(G));for(H=-1;++H<P;)G=v[H],G.fixed?(G.x=G.px,G.y=G.py):(G.x-=(G.px-(G.px=G.x))*l,G.y-=(G.py-(G.py=G.y))*l);e.tick({type:"tick",alpha:a})},t.nodes=function(P){return arguments.length?(v=P,t):v},t.links=function(P){return arguments.length?(A=P,t):A},t.size=function(P){return arguments.length?(r=P,t):r},t.linkDistance=function(P){return arguments.length?(s=typeof P=="function"?P:+P,t):s},t.distance=t.linkDistance,t.linkStrength=function(P){return arguments.length?(u=typeof P=="function"?P:+P,t):u},t.friction=function(P){return arguments.length?(l=+P,t):l},t.charge=function(P){return arguments.length?(c=typeof P=="function"?P:+P,t):c},t.chargeDistance=function(P){return arguments.length?(f=P*P,t):Math.sqrt(f)},t.gravity=function(P){return arguments.length?(g=+P,t):g},t.theta=function(P){return arguments.length?(d=P*P,t):Math.sqrt(d)},t.alpha=function(P){return arguments.length?(P=+P,a?P>0?a=P:(n.c=null,n.t=NaN,n=null,e.start({type:"end",alpha:a=0})):P>0&&(e.start({type:"start",alpha:a=P}),n=Pr(t.tick)),t):a},t.start=function(){var P,X=v.length,U=A.length,H=r[0],G=r[1],ot,gt;for(P=0;P<X;++P)(gt=v[P]).index=P,gt.weight=0;for(P=0;P<U;++P)gt=A[P],typeof gt.source=="number"&&(gt.source=v[gt.source]),typeof gt.target=="number"&&(gt.target=v[gt.target]),++gt.source.weight,++gt.target.weight;for(P=0;P<X;++P)gt=v[P],isNaN(gt.x)&&(gt.x=At("x",H)),isNaN(gt.y)&&(gt.y=At("y",G)),isNaN(gt.px)&&(gt.px=gt.x),isNaN(gt.py)&&(gt.py=gt.y);if(m=[],typeof s=="function")for(P=0;P<U;++P)m[P]=+s.call(this,A[P],P);else for(P=0;P<U;++P)m[P]=s;if(_=[],typeof u=="function")for(P=0;P<U;++P)_[P]=+u.call(this,A[P],P);else for(P=0;P<U;++P)_[P]=u;if(y=[],typeof c=="function")for(P=0;P<X;++P)y[P]=+c.call(this,v[P],P);else for(P=0;P<X;++P)y[P]=c;function At(xt,Ct){if(!ot){for(ot=new Array(X),yt=0;yt<X;++yt)ot[yt]=[];for(yt=0;yt<U;++yt){var Q=A[yt];ot[Q.source.index].push(Q.target),ot[Q.target.index].push(Q.source)}}for(var ft=ot[P],yt=-1,nt=ft.length,mt;++yt<nt;)if(!isNaN(mt=ft[yt][xt]))return mt;return Math.random()*Ct}return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){if(i||(i=o.behavior.drag().origin(ie).on("dragstart.force",Jl).on("drag.force",b).on("dragend.force",Ql)),!arguments.length)return i;this.on("mouseover.force",tu).on("mouseout.force",eu).call(i)};function b(P){P.px=o.event.x,P.py=o.event.y,t.resume()}return o.rebind(t,e,"on")};function Jl(t){t.fixed|=2}function Ql(t){t.fixed&=-7}function tu(t){t.fixed|=4,t.px=t.x,t.py=t.y}function eu(t){t.fixed&=-5}function Do(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a=t.nodes,l=a.length,s=-1,u;++s<l;)u=a[s],u!=null&&(Do(u,e,n),t.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}var nu=20,ru=1,iu=1/0;o.layout.hierarchy=function(){var t=su,e=au,n=ou;function r(i){var a=[i],l=[],s;for(i.depth=0;(s=a.pop())!=null;)if(l.push(s),(c=e.call(r,s,s.depth))&&(u=c.length)){for(var u,c,f;--u>=0;)a.push(f=c[u]),f.parent=s,f.depth=s.depth+1;n&&(s.value=0),s.children=c}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return sn(i,function(g){var d,v;t&&(d=g.children)&&d.sort(t),n&&(v=g.parent)&&(v.value+=g.value)}),l}return r.sort=function(i){return arguments.length?(t=i,r):t},r.children=function(i){return arguments.length?(e=i,r):e},r.value=function(i){return arguments.length?(n=i,r):n},r.revalue=function(i){return n&&(gr(i,function(a){a.children&&(a.value=0)}),sn(i,function(a){var l;a.children||(a.value=+n.call(r,a,a.depth)||0),(l=a.parent)&&(l.value+=a.value)})),i},r};function hr(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=lu,t}function gr(t,e){for(var n=[t];(t=n.pop())!=null;)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function sn(t,e){for(var n=[t],r=[];(t=n.pop())!=null;)if(r.push(t),(l=t.children)&&(a=l.length))for(var i=-1,a,l;++i<a;)n.push(l[i]);for(;(t=r.pop())!=null;)e(t)}function au(t){return t.children}function ou(t){return t.value}function su(t,e){return e.value-t.value}function lu(t){return o.merge(t.map(function(e){return(e.children||[]).map(function(n){return{source:e,target:n}})}))}o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(a,l,s,u){var c=a.children;if(a.x=l,a.y=a.depth*u,a.dx=s,a.dy=u,c&&(g=c.length)){var f=-1,g,d,v;for(s=a.value?s/a.value:0;++f<g;)n(d=c[f],l,v=d.value*s,u),l+=v}}function r(a){var l=a.children,s=0;if(l&&(c=l.length))for(var u=-1,c;++u<c;)s=Math.max(s,r(l[u]));return 1+s}function i(a,l){var s=t.call(this,a,l);return n(s[0],0,e[0],e[1]/r(s[0])),s}return i.size=function(a){return arguments.length?(e=a,i):e},hr(i,t)},o.layout.pie=function(){var t=Number,e=Io,n=0,r=K,i=0;function a(l){var s=l.length,u=l.map(function(F,b){return+t.call(a,F,b)}),c=+(typeof n=="function"?n.apply(this,arguments):n),f=(typeof r=="function"?r.apply(this,arguments):r)-c,g=Math.min(Math.abs(f)/s,+(typeof i=="function"?i.apply(this,arguments):i)),d=g*(f<0?-1:1),v=o.sum(u),A=v?(f-s*d)/v:0,m=o.range(s),_=[],y;return e!=null&&m.sort(e===Io?function(F,b){return u[b]-u[F]}:function(F,b){return e(l[F],l[b])}),m.forEach(function(F){_[F]={data:l[F],value:y=u[F],startAngle:c,endAngle:c+=y*A+d,padAngle:g}}),_}return a.value=function(l){return arguments.length?(t=l,a):t},a.sort=function(l){return arguments.length?(e=l,a):e},a.startAngle=function(l){return arguments.length?(n=l,a):n},a.endAngle=function(l){return arguments.length?(r=l,a):r},a.padAngle=function(l){return arguments.length?(i=l,a):i},a};var Io={};o.layout.stack=function(){var t=ie,e=Hi,n=Ui,r=fu,i=uu,a=cu;function l(s,u){if(!(A=s.length))return s;var c=s.map(function(F,b){return t.call(l,F,b)}),f=c.map(function(F){return F.map(function(b,P){return[i.call(l,b,P),a.call(l,b,P)]})}),g=e.call(l,f,u);c=o.permute(c,g),f=o.permute(f,g);var d=n.call(l,f,u),v=c[0].length,A,m,_,y;for(_=0;_<v;++_)for(r.call(l,c[0][_],y=d[_],f[0][_][1]),m=1;m<A;++m)r.call(l,c[m][_],y+=f[m-1][_][1],f[m][_][1]);return s}return l.values=function(s){return arguments.length?(t=s,l):t},l.order=function(s){return arguments.length?(e=typeof s=="function"?s:hu.get(s)||Hi,l):e},l.offset=function(s){return arguments.length?(n=typeof s=="function"?s:gu.get(s)||Ui,l):n},l.x=function(s){return arguments.length?(i=s,l):i},l.y=function(s){return arguments.length?(a=s,l):a},l.out=function(s){return arguments.length?(r=s,l):r},l};function uu(t){return t.x}function cu(t){return t.y}function fu(t,e,n){t.y0=e,t.y=n}var hu=o.map({"inside-out":function(t){var e=t.length,n,r,i=t.map(du),a=t.map(pu),l=o.range(e).sort(function(g,d){return i[g]-i[d]}),s=0,u=0,c=[],f=[];for(n=0;n<e;++n)r=l[n],s<u?(s+=a[r],c.push(r)):(u+=a[r],f.push(r));return f.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Hi}),gu=o.map({silhouette:function(t){var e=t.length,n=t[0].length,r=[],i=0,a,l,s,u=[];for(l=0;l<n;++l){for(a=0,s=0;a<e;a++)s+=t[a][l][1];s>i&&(i=s),r.push(s)}for(l=0;l<n;++l)u[l]=(i-r[l])/2;return u},wiggle:function(t){var e=t.length,n=t[0],r=n.length,i,a,l,s,u,c,f,g,d,v=[];for(v[0]=g=d=0,a=1;a<r;++a){for(i=0,s=0;i<e;++i)s+=t[i][a][1];for(i=0,u=0,f=n[a][0]-n[a-1][0];i<e;++i){for(l=0,c=(t[i][a][1]-t[i][a-1][1])/(2*f);l<i;++l)c+=(t[l][a][1]-t[l][a-1][1])/f;u+=c*t[i][a][1]}v[a]=g-=s?u/s*f:0,g<d&&(d=g)}for(a=0;a<r;++a)v[a]-=d;return v},expand:function(t){var e=t.length,n=t[0].length,r=1/e,i,a,l,s=[];for(a=0;a<n;++a){for(i=0,l=0;i<e;i++)l+=t[i][a][1];if(l)for(i=0;i<e;i++)t[i][a][1]/=l;else for(i=0;i<e;i++)t[i][a][1]=r}for(a=0;a<n;++a)s[a]=0;return s},zero:Ui});function Hi(t){return o.range(t.length)}function Ui(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function du(t){for(var e=1,n=0,r=t[0][1],i,a=t.length;e<a;++e)(i=t[e][1])>r&&(n=e,r=i);return n}function pu(t){return t.reduce(mu,0)}function mu(t,e){return t+e[1]}o.layout.histogram=function(){var t=!0,e=Number,n=yu,r=_u;function i(a,d){for(var s=[],u=a.map(e,this),c=n.call(this,u,d),f=r.call(this,c,u,d),g,d=-1,v=u.length,A=f.length-1,m=t?1:1/v,_;++d<A;)g=s[d]=[],g.dx=f[d+1]-(g.x=f[d]),g.y=0;if(A>0)for(d=-1;++d<v;)_=u[d],_>=c[0]&&_<=c[1]&&(g=s[o.bisect(f,_,1,A)-1],g.y+=m,g.push(a[d]));return s}return i.value=function(a){return arguments.length?(e=a,i):e},i.range=function(a){return arguments.length?(n=de(a),i):n},i.bins=function(a){return arguments.length?(r=typeof a=="number"?function(l){return zo(l,a)}:de(a),i):r},i.frequency=function(a){return arguments.length?(t=!!a,i):t},i};function _u(t,e){return zo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function zo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function yu(t){return[o.min(t),o.max(t)]}o.layout.pack=function(){var t=o.layout.hierarchy().sort(vu),e=0,n=[1,1],r;function i(a,l){var s=t.call(this,a,l),u=s[0],c=n[0],f=n[1],g=r==null?Math.sqrt:typeof r=="function"?r:function(){return r};if(u.x=u.y=0,sn(u,function(v){v.r=+g(v.value)}),sn(u,jo),e){var d=e*(r?1:Math.max(2*u.r/c,2*u.r/f))/2;sn(u,function(v){v.r+=d}),sn(u,jo),sn(u,function(v){v.r-=d})}return Go(u,c/2,f/2,r?1:1/Math.max(2*u.r/c,2*u.r/f)),s}return i.size=function(a){return arguments.length?(n=a,i):n},i.radius=function(a){return arguments.length?(r=a==null||typeof a=="function"?a:+a,i):r},i.padding=function(a){return arguments.length?(e=+a,i):e},hr(i,t)};function vu(t,e){return t.value-e.value}function Yi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ro(t,e){t._pack_next=e,e._pack_prev=t}function Oo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return .999*i*i>n*n+r*r}function jo(t){if(!(e=t.children)||!(d=e.length))return;var e,n=1/0,r=-1/0,i=1/0,a=-1/0,l,s,u,c,f,g,d;function v(P){n=Math.min(P.x-P.r,n),r=Math.max(P.x+P.r,r),i=Math.min(P.y-P.r,i),a=Math.max(P.y+P.r,a)}if(e.forEach(xu),l=e[0],l.x=-l.r,l.y=0,v(l),d>1&&(s=e[1],s.x=s.r,s.y=0,v(s),d>2))for(u=e[2],Vo(l,s,u),v(u),Yi(l,u),l._pack_prev=u,Yi(u,s),s=l._pack_next,c=3;c<d;c++){Vo(l,s,u=e[c]);var A=0,m=1,_=1;for(f=s._pack_next;f!==s;f=f._pack_next,m++)if(Oo(f,u)){A=1;break}if(A==1)for(g=l._pack_prev;g!==f._pack_prev&&!Oo(g,u);g=g._pack_prev,_++);A?(m<_||m==_&&s.r<l.r?Ro(l,s=f):Ro(l=g,s),c--):(Yi(l,u),s=u,v(u))}var y=(n+r)/2,F=(i+a)/2,b=0;for(c=0;c<d;c++)u=e[c],u.x-=y,u.y-=F,b=Math.max(b,u.r+Math.sqrt(u.x*u.x+u.y*u.y));t.r=b,e.forEach(bu)}function xu(t){t._pack_next=t._pack_prev=t}function bu(t){delete t._pack_next,delete t._pack_prev}function Go(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,l=i.length;++a<l;)Go(i[a],e,n,r)}function Vo(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var l=e.r+n.r,s=i*i+a*a;l*=l,r*=r;var u=.5+(r-l)/(2*s),c=Math.sqrt(Math.max(0,2*l*(r+s)-(r-=s)*r-l*l))/(2*s);n.x=t.x+u*i+c*a,n.y=t.y+u*a-c*i}else n.x=t.x+r,n.y=t.y}o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=qo,n=[1,1],r=null;function i(f,g){var d=t.call(this,f,g),v=d[0],A=a(v);if(sn(A,l),A.parent.m=-A.z,gr(A,s),r)gr(v,c);else{var m=v,_=v,y=v;gr(v,function(X){X.x<m.x&&(m=X),X.x>_.x&&(_=X),X.depth>y.depth&&(y=X)});var F=e(m,_)/2-m.x,b=n[0]/(_.x+e(_,m)/2+F),P=n[1]/(y.depth||1);gr(v,function(X){X.x=(X.x+F)*b,X.y=X.depth*P})}return d}function a(f){for(var g={A:null,children:[f]},d=[g],v;(v=d.pop())!=null;)for(var A=v.children,m,_=0,y=A.length;_<y;++_)d.push((A[_]=m={_:A[_],parent:v,children:(m=A[_].children)&&m.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:_}).a=m);return g.children[0]}function l(f){var g=f.children,d=f.parent.children,v=f.i?d[f.i-1]:null;if(g.length){ku(f);var A=(g[0].z+g[g.length-1].z)/2;v?(f.z=v.z+e(f._,v._),f.m=f.z-A):f.z=A}else v&&(f.z=v.z+e(f._,v._));f.parent.A=u(f,v,f.parent.A||d[0])}function s(f){f._.x=f.z+f.parent.m,f.m+=f.parent.m}function u(f,g,d){if(g){for(var v=f,A=f,m=g,_=v.parent.children[0],y=v.m,F=A.m,b=m.m,P=_.m,X;m=Wi(m),v=Xi(v),m&&v;)_=Xi(_),A=Wi(A),A.a=f,X=m.z+b-v.z-y+e(m._,v._),X>0&&(wu(Cu(m,f,d),f,X),y+=X,F+=X),b+=m.m,y+=v.m,P+=_.m,F+=A.m;m&&!Wi(A)&&(A.t=m,A.m+=b-F),v&&!Xi(_)&&(_.t=v,_.m+=y-P,d=f)}return d}function c(f){f.x*=n[0],f.y=f.depth*n[1]}return i.separation=function(f){return arguments.length?(e=f,i):e},i.size=function(f){return arguments.length?(r=(n=f)==null?c:null,i):r?null:n},i.nodeSize=function(f){return arguments.length?(r=(n=f)==null?null:c,i):r?n:null},hr(i,t)};function qo(t,e){return t.parent==e.parent?1:2}function Xi(t){var e=t.children;return e.length?e[0]:t.t}function Wi(t){var e=t.children,n;return(n=e.length)?e[n-1]:t.t}function wu(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ku(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function Cu(t,e,n){return t.a.parent===e.parent?t.a:n}o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=qo,n=[1,1],r=!1;function i(a,l){var s=t.call(this,a,l),u=s[0],c,f=0;sn(u,function(m){var _=m.children;_&&_.length?(m.x=Su(_),m.y=Mu(_)):(m.x=c?f+=e(m,c):0,m.y=0,c=m)});var g=Ho(u),d=Uo(u),v=g.x-e(g,d)/2,A=d.x+e(d,g)/2;return sn(u,r?function(m){m.x=(m.x-u.x)*n[0],m.y=(u.y-m.y)*n[1]}:function(m){m.x=(m.x-v)/(A-v)*n[0],m.y=(1-(u.y?m.y/u.y:1))*n[1]}),s}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=(n=a)==null,i):r?null:n},i.nodeSize=function(a){return arguments.length?(r=(n=a)!=null,i):r?n:null},hr(i,t)};function Mu(t){return 1+o.max(t,function(e){return e.y})}function Su(t){return t.reduce(function(e,n){return e+n.x},0)/t.length}function Ho(t){var e=t.children;return e&&e.length?Ho(e[0]):t}function Uo(t){var e=t.children,n;return e&&(n=e.length)?Uo(e[n-1]):t}o.layout.treemap=function(){var t=o.layout.hierarchy(),e=Math.round,n=[1,1],r=null,i=Zi,a=!1,l,s="squarify",u=.5*(1+Math.sqrt(5));function c(m,_){for(var y=-1,F=m.length,b,P;++y<F;)P=(b=m[y]).value*(_<0?0:_),b.area=isNaN(P)||P<=0?0:P}function f(m){var _=m.children;if(_&&_.length){var y=i(m),F=[],b=_.slice(),P,X=1/0,U,H=s==="slice"?y.dx:s==="dice"?y.dy:s==="slice-dice"?m.depth&1?y.dy:y.dx:Math.min(y.dx,y.dy),G;for(c(b,y.dx*y.dy/m.value),F.area=0;(G=b.length)>0;)F.push(P=b[G-1]),F.area+=P.area,s!=="squarify"||(U=d(F,H))<=X?(b.pop(),X=U):(F.area-=F.pop().area,v(F,H,y,!1),H=Math.min(y.dx,y.dy),F.length=F.area=0,X=1/0);F.length&&(v(F,H,y,!0),F.length=F.area=0),_.forEach(f)}}function g(m){var _=m.children;if(_&&_.length){var y=i(m),F=_.slice(),b,P=[];for(c(F,y.dx*y.dy/m.value),P.area=0;b=F.pop();)P.push(b),P.area+=b.area,b.z!=null&&(v(P,b.z?y.dx:y.dy,y,!F.length),P.length=P.area=0);_.forEach(g)}}function d(m,_){for(var y=m.area,F,b=0,P=1/0,X=-1,U=m.length;++X<U;)(F=m[X].area)&&(F<P&&(P=F),F>b&&(b=F));return y*=y,_*=_,y?Math.max(_*b*u/y,y/(_*P*u)):1/0}function v(m,_,y,F){var b=-1,P=m.length,X=y.x,U=y.y,H=_?e(m.area/_):0,G;if(_==y.dx){for((F||H>y.dy)&&(H=y.dy);++b<P;)G=m[b],G.x=X,G.y=U,G.dy=H,X+=G.dx=Math.min(y.x+y.dx-X,H?e(G.area/H):0);G.z=!0,G.dx+=y.x+y.dx-X,y.y+=H,y.dy-=H}else{for((F||H>y.dx)&&(H=y.dx);++b<P;)G=m[b],G.x=X,G.y=U,G.dx=H,U+=G.dy=Math.min(y.y+y.dy-U,H?e(G.area/H):0);G.z=!1,G.dy+=y.y+y.dy-U,y.x+=H,y.dx-=H}}function A(m){var _=l||t(m),y=_[0];return y.x=y.y=0,y.value?(y.dx=n[0],y.dy=n[1]):y.dx=y.dy=0,l&&t.revalue(y),c([y],y.dx*y.dy/y.value),(l?g:f)(y),a&&(l=_),_}return A.size=function(m){return arguments.length?(n=m,A):n},A.padding=function(m){if(!arguments.length)return r;function _(b){var P=m.call(A,b,b.depth);return P==null?Zi(b):Yo(b,typeof P=="number"?[P,P,P,P]:P)}function y(b){return Yo(b,m)}var F;return i=(r=m)==null?Zi:(F=typeof m)=="function"?_:(F==="number"&&(m=[m,m,m,m]),y),A},A.round=function(m){return arguments.length?(e=m?Math.round:Number,A):e!=Number},A.sticky=function(m){return arguments.length?(a=m,l=null,A):a},A.ratio=function(m){return arguments.length?(u=m,A):u},A.mode=function(m){return arguments.length?(s=m+"",A):s},hr(A,t)};function Zi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Yo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var r,i,a;do r=Math.random()*2-1,i=Math.random()*2-1,a=r*r+i*i;while(!a||a>1);return t+e*r*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};function Jn(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Jr(t){return t.rangeExtent?t.rangeExtent():Jn(t.range())}function Pu(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(l){return a(i(l))}}function Ki(t,e){var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Au(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Fu}var Fu={floor:ie,ceil:ie};function Lu(t,e,n,r){var i=[],a=[],l=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<=s;)i.push(n(t[l-1],t[l])),a.push(r(e[l-1],e[l]));return function(u){var c=o.bisect(t,u,1,s)-1;return a[c](i[c](u))}}o.scale.linear=function(){return Xo([0,1],[0,1],En,!1)};function Xo(t,e,n,r){var i,a;function l(){var u=Math.min(t.length,e.length)>2?Lu:Pu,c=r?Zl:Wl;return i=u(t,e,c,n),a=u(e,t,c,En),s}function s(u){return i(u)}return s.invert=function(u){return a(u)},s.domain=function(u){return arguments.length?(t=u.map(Number),l()):t},s.range=function(u){return arguments.length?(e=u,l()):e},s.rangeRound=function(u){return s.range(u).interpolate(Fo)},s.clamp=function(u){return arguments.length?(r=u,l()):r},s.interpolate=function(u){return arguments.length?(n=u,l()):n},s.ticks=function(u){return Ji(t,u)},s.tickFormat=function(u,c){return Qi(t,u,c)},s.nice=function(u){return Wo(t,u),l()},s.copy=function(){return Xo(t,e,n,r)},l()}function $i(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Wo(t,e){return Ki(t,Au(dr(t,e)[2]))}function dr(t,e){e==null&&(e=10);var n=Jn(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function Ji(t,e){return o.range.apply(o,dr(t,e))}function Qi(t,e,n){var r=dr(t,e);if(n){var i=wa.exec(n);if(i.shift(),i[8]==="s"){var a=o.formatPrefix(Math.max(rt(r[0]),rt(r[1])));return i[7]||(i[7]="."+Qr(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(l){return n(a.scale(l))+a.symbol}}i[7]||(i[7]="."+Nu(i[8],r)),n=i.join("")}else n=",."+Qr(r[2])+"f";return o.format(n)}var Tu={s:1,g:1,p:1,r:1,e:1};function Qr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Nu(t,e){var n=Qr(e[2]);return t in Tu?Math.abs(n-Qr(Math.max(rt(e[0]),rt(e[1]))))+ +(t!=="e"):n-(t==="%")*2}o.scale.log=function(){return Zo(o.scale.linear().domain([0,1]),10,!0,[1,10])};function Zo(t,e,n,r){function i(s){return(n?Math.log(s<0?0:s):-Math.log(s>0?0:-s))/Math.log(e)}function a(s){return n?Math.pow(e,s):-Math.pow(e,-s)}function l(s){return t(i(s))}return l.invert=function(s){return a(t.invert(s))},l.domain=function(s){return arguments.length?(n=s[0]>=0,t.domain((r=s.map(Number)).map(i)),l):r},l.base=function(s){return arguments.length?(e=+s,t.domain(r.map(i)),l):e},l.nice=function(){var s=Ki(r.map(i),n?Math:Eu);return t.domain(s),r=s.map(a),l},l.ticks=function(){var s=Jn(r),u=[],c=s[0],f=s[1],g=Math.floor(i(c)),d=Math.ceil(i(f)),v=e%1?2:e;if(isFinite(d-g)){if(n){for(;g<d;g++)for(var A=1;A<v;A++)u.push(a(g)*A);u.push(a(g))}else for(u.push(a(g));g++<d;)for(var A=v-1;A>0;A--)u.push(a(g)*A);for(g=0;u[g]<c;g++);for(d=u.length;u[d-1]>f;d--);u=u.slice(g,d)}return u},l.tickFormat=function(s,u){if(!arguments.length)return Ko;arguments.length<2?u=Ko:typeof u!="function"&&(u=o.format(u));var c=Math.max(.1,s/l.ticks().length),f=n?(g=1e-12,Math.ceil):(g=-1e-12,Math.floor),g;return function(d){return d/a(f(i(d)+g))<=c?u(d):""}},l.copy=function(){return Zo(t.copy(),e,n,r)},$i(l,t)}var Ko=o.format(".0e"),Eu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};o.scale.pow=function(){return $o(o.scale.linear(),1,[0,1])};function $o(t,e,n){var r=ti(e),i=ti(1/e);function a(l){return t(r(l))}return a.invert=function(l){return i(t.invert(l))},a.domain=function(l){return arguments.length?(t.domain((n=l.map(Number)).map(r)),a):n},a.ticks=function(l){return Ji(n,l)},a.tickFormat=function(l,s){return Qi(n,l,s)},a.nice=function(l){return a.domain(Wo(n,l))},a.exponent=function(l){return arguments.length?(r=ti(e=l),i=ti(1/e),t.domain(n.map(r)),a):e},a.copy=function(){return $o(t.copy(),e,n)},$i(a,t)}function ti(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return Jo([],{t:"range",a:[[]]})};function Jo(t,e){var n,r,i;function a(s){return r[((n.get(s)||(e.t==="range"?n.set(s,t.push(s)):NaN))-1)%r.length]}function l(s,u){return o.range(t.length).map(function(c){return s+u*c})}return a.domain=function(s){if(!arguments.length)return t;t=[],n=new dt;for(var u=-1,c=s.length,f;++u<c;)n.has(f=s[u])||n.set(f,t.push(f));return a[e.t].apply(a,e.a)},a.range=function(s){return arguments.length?(r=s,i=0,e={t:"range",a:arguments},a):r},a.rangePoints=function(s,u){arguments.length<2&&(u=0);var c=s[0],f=s[1],g=t.length<2?(c=(c+f)/2,0):(f-c)/(t.length-1+u);return r=l(c+g*u/2,g),i=0,e={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(s,u){arguments.length<2&&(u=0);var c=s[0],f=s[1],g=t.length<2?(c=f=Math.round((c+f)/2),0):(f-c)/(t.length-1+u)|0;return r=l(c+Math.round(g*u/2+(f-c-(t.length-1+u)*g)/2),g),i=0,e={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(s,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var f=s[1]<s[0],g=s[f-0],d=s[1-f],v=(d-g)/(t.length-u+2*c);return r=l(g+v*c,v),f&&r.reverse(),i=v*(1-u),e={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(s,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var f=s[1]<s[0],g=s[f-0],d=s[1-f],v=Math.floor((d-g)/(t.length-u+2*c));return r=l(g+Math.round((d-g-(t.length-u)*v)/2),v),f&&r.reverse(),i=Math.round(v*(1-u)),e={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return i},a.rangeExtent=function(){return Jn(e.a[0])},a.copy=function(){return Jo(t,e)},a.domain(t)}o.scale.category10=function(){return o.scale.ordinal().range(Bu)},o.scale.category20=function(){return o.scale.ordinal().range(Du)},o.scale.category20b=function(){return o.scale.ordinal().range(Iu)},o.scale.category20c=function(){return o.scale.ordinal().range(zu)};var Bu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vr),Du=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vr),Iu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vr),zu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vr);o.scale.quantile=function(){return Qo([],[])};function Qo(t,e){var n;function r(){var a=0,l=e.length;for(n=[];++a<l;)n[a-1]=o.quantile(t,a/l);return i}function i(a){if(!isNaN(a=+a))return e[o.bisect(n,a)]}return i.domain=function(a){return arguments.length?(t=a.map(E).filter(C).sort(k),r()):t},i.range=function(a){return arguments.length?(e=a,r()):e},i.quantiles=function(){return n},i.invertExtent=function(a){return a=e.indexOf(a),a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.copy=function(){return Qo(t,e)},r()}o.scale.quantize=function(){return ts(0,1,[0,1])};function ts(t,e,n){var r,i;function a(s){return n[Math.max(0,Math.min(i,Math.floor(r*(s-t))))]}function l(){return r=n.length/(e-t),i=n.length-1,a}return a.domain=function(s){return arguments.length?(t=+s[0],e=+s[s.length-1],l()):[t,e]},a.range=function(s){return arguments.length?(n=s,l()):n},a.invertExtent=function(s){return s=n.indexOf(s),s=s<0?NaN:s/r+t,[s,s+1/r]},a.copy=function(){return ts(t,e,n)},l()}o.scale.threshold=function(){return es([.5],[0,1])};function es(t,e){function n(r){if(r<=r)return e[o.bisect(t,r)]}return n.domain=function(r){return arguments.length?(t=r,n):t},n.range=function(r){return arguments.length?(e=r,n):e},n.invertExtent=function(r){return r=e.indexOf(r),[t[r-1],t[r]]},n.copy=function(){return es(t,e)},n}o.scale.identity=function(){return ns([0,1])};function ns(t){function e(n){return+n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(n){return Ji(t,n)},e.tickFormat=function(n,r){return Qi(t,n,r)},e.copy=function(){return ns(t)},e}o.svg={};function Ru(){return 0}o.svg.arc=function(){var t=Ou,e=ju,n=Ru,r=ei,i=rs,a=is,l=Gu;function s(){var c=Math.max(0,+t.apply(this,arguments)),f=Math.max(0,+e.apply(this,arguments)),g=i.apply(this,arguments)-kt,d=a.apply(this,arguments)-kt,v=Math.abs(d-g),A=g>d?0:1;if(f<c&&(m=f,f=c,c=m),v>=Lt)return u(f,A)+(c?u(c,1-A):"")+"Z";var m,_,y,F,b=0,P=0,X,U,H,G,ot,gt,At,xt,Ct=[];if((F=(+l.apply(this,arguments)||0)/2)&&(y=r===ei?Math.sqrt(c*c+f*f):+r.apply(this,arguments),A||(P*=-1),f&&(P=Yt(y/f*Math.sin(F))),c&&(b=Yt(y/c*Math.sin(F)))),f){X=f*Math.cos(g+P),U=f*Math.sin(g+P),H=f*Math.cos(d-P),G=f*Math.sin(d-P);var Q=Math.abs(d-g-2*P)<=it?0:1;if(P&&ni(X,U,H,G)===A^Q){var ft=(g+d)/2;X=f*Math.cos(ft),U=f*Math.sin(ft),H=G=null}}else X=U=0;if(c){ot=c*Math.cos(d-b),gt=c*Math.sin(d-b),At=c*Math.cos(g+b),xt=c*Math.sin(g+b);var yt=Math.abs(g-d+2*b)<=it?0:1;if(b&&ni(ot,gt,At,xt)===1-A^yt){var nt=(g+d)/2;ot=c*Math.cos(nt),gt=c*Math.sin(nt),At=xt=null}}else ot=gt=0;if(v>tt&&(m=Math.min(Math.abs(f-c)/2,+n.apply(this,arguments)))>.001){_=c<f^A?0:1;var mt=m,Dt=m;if(v<it){var Ht=At==null?[ot,gt]:H==null?[X,U]:Ii([X,U],[At,xt],[H,G],[ot,gt]),Zt=X-Ht[0],se=U-Ht[1],pe=H-Ht[0],Ee=G-Ht[1],Ie=1/Math.sin(Math.acos((Zt*pe+se*Ee)/(Math.sqrt(Zt*Zt+se*se)*Math.sqrt(pe*pe+Ee*Ee)))/2),Be=Math.sqrt(Ht[0]*Ht[0]+Ht[1]*Ht[1]);Dt=Math.min(m,(c-Be)/(Ie-1)),mt=Math.min(m,(f-Be)/(Ie+1))}if(H!=null){var Re=ri(At==null?[ot,gt]:[At,xt],[X,U],f,mt,A),Te=ri([H,G],[ot,gt],f,mt,A);m===mt?Ct.push("M",Re[0],"A",mt,",",mt," 0 0,",_," ",Re[1],"A",f,",",f," 0 ",1-A^ni(Re[1][0],Re[1][1],Te[1][0],Te[1][1]),",",A," ",Te[1],"A",mt,",",mt," 0 0,",_," ",Te[0]):Ct.push("M",Re[0],"A",mt,",",mt," 0 1,",_," ",Te[0])}else Ct.push("M",X,",",U);if(At!=null){var Oe=ri([X,U],[At,xt],c,-Dt,A),In=ri([ot,gt],H==null?[X,U]:[H,G],c,-Dt,A);m===Dt?Ct.push("L",In[0],"A",Dt,",",Dt," 0 0,",_," ",In[1],"A",c,",",c," 0 ",A^ni(In[1][0],In[1][1],Oe[1][0],Oe[1][1]),",",1-A," ",Oe[1],"A",Dt,",",Dt," 0 0,",_," ",Oe[0]):Ct.push("L",In[0],"A",Dt,",",Dt," 0 0,",_," ",Oe[0])}else Ct.push("L",ot,",",gt)}else Ct.push("M",X,",",U),H!=null&&Ct.push("A",f,",",f," 0 ",Q,",",A," ",H,",",G),Ct.push("L",ot,",",gt),At!=null&&Ct.push("A",c,",",c," 0 ",yt,",",1-A," ",At,",",xt);return Ct.push("Z"),Ct.join("")}function u(c,f){return"M0,"+c+"A"+c+","+c+" 0 1,"+f+" 0,"+-c+"A"+c+","+c+" 0 1,"+f+" 0,"+c}return s.innerRadius=function(c){return arguments.length?(t=de(c),s):t},s.outerRadius=function(c){return arguments.length?(e=de(c),s):e},s.cornerRadius=function(c){return arguments.length?(n=de(c),s):n},s.padRadius=function(c){return arguments.length?(r=c==ei?ei:de(c),s):r},s.startAngle=function(c){return arguments.length?(i=de(c),s):i},s.endAngle=function(c){return arguments.length?(a=de(c),s):a},s.padAngle=function(c){return arguments.length?(l=de(c),s):l},s.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-kt;return[Math.cos(f)*c,Math.sin(f)*c]},s};var ei="auto";function Ou(t){return t.innerRadius}function ju(t){return t.outerRadius}function rs(t){return t.startAngle}function is(t){return t.endAngle}function Gu(t){return t&&t.padAngle}function ni(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function ri(t,e,n,r,i){var a=t[0]-e[0],l=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+l*l),u=s*l,c=-s*a,f=t[0]+u,g=t[1]+c,d=e[0]+u,v=e[1]+c,A=(f+d)/2,m=(g+v)/2,_=d-f,y=v-g,F=_*_+y*y,b=n-r,P=f*v-d*g,X=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*F-P*P)),U=(P*y-_*X)/F,H=(-P*_-y*X)/F,G=(P*y+_*X)/F,ot=(-P*_+y*X)/F,gt=U-A,At=H-m,xt=G-A,Ct=ot-m;return gt*gt+At*At>xt*xt+Ct*Ct&&(U=G,H=ot),[[U-u,H-c],[U*n/b,H*n/b]]}function as(t){var e=Yn,n=or,r=rr,i=Qe,a=i.key,l=.7;function s(u){var c=[],f=[],g=-1,d=u.length,v,A=de(e),m=de(n);function _(){c.push("M",i(t(f),l))}for(;++g<d;)r.call(this,v=u[g],g)?f.push([+A.call(this,v,g),+m.call(this,v,g)]):f.length&&(_(),f=[]);return f.length&&_(),c.length?c.join(""):null}return s.x=function(u){return arguments.length?(e=u,s):e},s.y=function(u){return arguments.length?(n=u,s):n},s.defined=function(u){return arguments.length?(r=u,s):r},s.interpolate=function(u){return arguments.length?(typeof u=="function"?a=i=u:a=(i=ta.get(u)||Qe).key,s):a},s.tension=function(u){return arguments.length?(l=u,s):l},s}o.svg.line=function(){return as(ie)};var ta=o.map({linear:Qe,"linear-closed":os,step:Vu,"step-before":ea,"step-after":na,basis:ss,"basis-open":Yu,"basis-closed":Xu,bundle:Wu,cardinal:Uu,"cardinal-open":qu,"cardinal-closed":Hu,monotone:$u});ta.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});function Qe(t){return t.length>1?t.join("L"):t+"Z"}function os(t){return t.join("L")+"Z"}function Vu(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ea(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function na(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function qu(t,e){return t.length<4?Qe(t):t[1]+ii(t.slice(1,-1),ra(t,e))}function Hu(t,e){return t.length<3?os(t):t[0]+ii((t.push(t[0]),t),ra([t[t.length-2]].concat(t,[t[1]]),e))}function Uu(t,e){return t.length<3?Qe(t):t[0]+ii(t,ra(t,e))}function ii(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Qe(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],l=e[0],s=l,u=1;if(n&&(r+="Q"+(a[0]-l[0]*2/3)+","+(a[1]-l[1]*2/3)+","+a[0]+","+a[1],i=t[1],u=2),e.length>1){s=e[1],a=t[u],u++,r+="C"+(i[0]+l[0])+","+(i[1]+l[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,u++)a=t[u],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var f=t[u];r+="Q"+(a[0]+s[0]*2/3)+","+(a[1]+s[1]*2/3)+","+f[0]+","+f[1]}return r}function ra(t,e){for(var n=[],r=(1-e)/2,i,a=t[0],l=t[1],s=1,u=t.length;++s<u;)i=a,a=l,l=t[s],n.push([r*(l[0]-i[0]),r*(l[1]-i[1])]);return n}function ss(t){if(t.length<3)return Qe(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],l=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",Ye(wn,l),",",Ye(wn,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],l.shift(),l.push(r[0]),s.shift(),s.push(r[1]),ia(u,l,s);return t.pop(),u.push("L",r),u.join("")}function Yu(t){if(t.length<4)return Qe(t);for(var e=[],n=-1,r=t.length,i,a=[0],l=[0];++n<3;)i=t[n],a.push(i[0]),l.push(i[1]);for(e.push(Ye(wn,a)+","+Ye(wn,l)),--n;++n<r;)i=t[n],a.shift(),a.push(i[0]),l.shift(),l.push(i[1]),ia(e,a,l);return e.join("")}function Xu(t){for(var e,n=-1,r=t.length,i=r+4,a,l=[],s=[];++n<4;)a=t[n%r],l.push(a[0]),s.push(a[1]);for(e=[Ye(wn,l),",",Ye(wn,s)],--n;++n<i;)a=t[n%r],l.shift(),l.push(a[0]),s.shift(),s.push(a[1]),ia(e,l,s);return e.join("")}function Wu(t,e){var n=t.length-1;if(n)for(var r=t[0][0],i=t[0][1],a=t[n][0]-r,l=t[n][1]-i,s=-1,u,c;++s<=n;)u=t[s],c=s/n,u[0]=e*u[0]+(1-e)*(r+c*a),u[1]=e*u[1]+(1-e)*(i+c*l);return ss(t)}function Ye(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}var ls=[0,2/3,1/3,0],us=[0,1/3,2/3,0],wn=[0,1/6,2/3,1/6];function ia(t,e,n){t.push("C",Ye(ls,e),",",Ye(ls,n),",",Ye(us,e),",",Ye(us,n),",",Ye(wn,e),",",Ye(wn,n))}function aa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Zu(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],l=r[0]=aa(i,a);++e<n;)r[e]=(l+(l=aa(i=a,a=t[e+1])))/2;return r[e]=l,r}function Ku(t){for(var e=[],n,r,i,a,l=Zu(t),s=-1,u=t.length-1;++s<u;)n=aa(t[s],t[s+1]),rt(n)<tt?l[s]=l[s+1]=0:(r=l[s]/n,i=l[s+1]/n,a=r*r+i*i,a>9&&(a=n*3/Math.sqrt(a),l[s]=a*r,l[s+1]=a*i));for(s=-1;++s<=u;)a=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+l[s]*l[s])),e.push([a||0,l[s]*a||0]);return e}function $u(t){return t.length<3?Qe(t):t[0]+ii(t,Ku(t))}o.svg.line.radial=function(){var t=as(cs);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t};function cs(t){for(var e,n=-1,r=t.length,i,a;++n<r;)e=t[n],i=e[0],a=e[1]-kt,e[0]=i*Math.cos(a),e[1]=i*Math.sin(a);return t}function fs(t){var e=Yn,n=Yn,r=0,i=or,a=rr,l=Qe,s=l.key,u=l,c="L",f=.7;function g(d){var v=[],A=[],m=[],_=-1,y=d.length,F,b=de(e),P=de(r),X=e===n?function(){return H}:de(n),U=r===i?function(){return G}:de(i),H,G;function ot(){v.push("M",l(t(m),f),c,u(t(A.reverse()),f),"Z")}for(;++_<y;)a.call(this,F=d[_],_)?(A.push([H=+b.call(this,F,_),G=+P.call(this,F,_)]),m.push([+X.call(this,F,_),+U.call(this,F,_)])):A.length&&(ot(),A=[],m=[]);return A.length&&ot(),v.length?v.join(""):null}return g.x=function(d){return arguments.length?(e=n=d,g):n},g.x0=function(d){return arguments.length?(e=d,g):e},g.x1=function(d){return arguments.length?(n=d,g):n},g.y=function(d){return arguments.length?(r=i=d,g):i},g.y0=function(d){return arguments.length?(r=d,g):r},g.y1=function(d){return arguments.length?(i=d,g):i},g.defined=function(d){return arguments.length?(a=d,g):a},g.interpolate=function(d){return arguments.length?(typeof d=="function"?s=l=d:s=(l=ta.get(d)||Qe).key,u=l.reverse||l,c=l.closed?"M":"L",g):s},g.tension=function(d){return arguments.length?(f=d,g):f},g}ea.reverse=na,na.reverse=ea,o.svg.area=function(){return fs(ie)},o.svg.area.radial=function(){var t=fs(cs);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Ti,e=Ni,n=Ju,r=rs,i=is;function a(f,g){var d=l(this,t,f,g),v=l(this,e,f,g);return"M"+d.p0+u(d.r,d.p1,d.a1-d.a0)+(s(d,v)?c(d.r,d.p1,d.r,d.p0):c(d.r,d.p1,v.r,v.p0)+u(v.r,v.p1,v.a1-v.a0)+c(v.r,v.p1,d.r,d.p0))+"Z"}function l(f,g,d,v){var A=g.call(f,d,v),m=n.call(f,A,v),_=r.call(f,A,v)-kt,y=i.call(f,A,v)-kt;return{r:m,a0:_,a1:y,p0:[m*Math.cos(_),m*Math.sin(_)],p1:[m*Math.cos(y),m*Math.sin(y)]}}function s(f,g){return f.a0==g.a0&&f.a1==g.a1}function u(f,g,d){return"A"+f+","+f+" 0 "+ +(d>it)+",1 "+g}function c(f,g,d,v){return"Q 0,0 "+v}return a.radius=function(f){return arguments.length?(n=de(f),a):n},a.source=function(f){return arguments.length?(t=de(f),a):t},a.target=function(f){return arguments.length?(e=de(f),a):e},a.startAngle=function(f){return arguments.length?(r=de(f),a):r},a.endAngle=function(f){return arguments.length?(i=de(f),a):i},a};function Ju(t){return t.radius}o.svg.diagonal=function(){var t=Ti,e=Ni,n=hs;function r(i,a){var l=t.call(this,i,a),s=e.call(this,i,a),u=(l.y+s.y)/2,c=[l,{x:l.x,y:u},{x:s.x,y:u},s];return c=c.map(n),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return r.source=function(i){return arguments.length?(t=de(i),r):t},r.target=function(i){return arguments.length?(e=de(i),r):e},r.projection=function(i){return arguments.length?(n=i,r):n},r};function hs(t){return[t.x,t.y]}o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=hs,n=t.projection;return t.projection=function(r){return arguments.length?n(Qu(e=r)):e},t};function Qu(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-kt;return[n*Math.cos(r),n*Math.sin(r)]}}o.svg.symbol=function(){var t=ec,e=tc;function n(r,i){return(ds.get(t.call(this,r,i))||gs)(e.call(this,r,i))}return n.type=function(r){return arguments.length?(t=de(r),n):t},n.size=function(r){return arguments.length?(e=de(r),n):e},n};function tc(){return 64}function ec(){return"circle"}function gs(t){var e=Math.sqrt(t/it);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}var ds=o.map({circle:gs,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ps)),n=e*ps;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ai),n=e*ai/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ai),n=e*ai/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=ds.keys();var ai=Math.sqrt(3),ps=Math.tan(30*_t);Ot.transition=function(t){for(var e=Bn||++_s,n=sa(t),r=[],i,a,l=si||{time:Date.now(),ease:Tl,delay:0,duration:250},s=-1,u=this.length;++s<u;){r.push(i=[]);for(var c=this[s],f=-1,g=c.length;++f<g;)(a=c[f])&&li(a,f,n,e,l),i.push(a)}return pr(r,n,e)},Ot.interrupt=function(t){return this.each(t==null?oi:ms(sa(t)))};var oi=ms(sa());function ms(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function pr(t,e,n){return _e(t,Me),t.namespace=e,t.id=n,t}var Me=[],_s=0,Bn,si;Me.call=Ot.call,Me.empty=Ot.empty,Me.node=Ot.node,Me.size=Ot.size,o.transition=function(t,e){return t&&t.transition?Bn?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=Me,Me.select=function(t){var e=this.id,n=this.namespace,r=[],i,a,l;t=fe(t);for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var c=this[s],f=-1,g=c.length;++f<g;)(l=c[f])&&(a=t.call(l,l.__data__,f,s))?("__data__"in l&&(a.__data__=l.__data__),li(a,f,n,e,l[n][e]),i.push(a)):i.push(null)}return pr(r,n,e)},Me.selectAll=function(t){var e=this.id,n=this.namespace,r=[],i,a,l,s,u;t=Vt(t);for(var c=-1,f=this.length;++c<f;)for(var g=this[c],d=-1,v=g.length;++d<v;)if(l=g[d]){u=l[n][e],a=t.call(l,l.__data__,d,c),r.push(i=[]);for(var A=-1,m=a.length;++A<m;)(s=a[A])&&li(s,A,n,e,u),i.push(s)}return pr(r,n,e)},Me.filter=function(t){var e=[],n,r,i;typeof t!="function"&&(t=On(t));for(var a=0,l=this.length;a<l;a++){e.push(n=[]);for(var r=this[a],s=0,u=r.length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,a)&&n.push(i)}return pr(e,this.namespace,this.id)},Me.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Ze(this,e==null?function(i){i[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})};function oa(t,e,n,r){var i=t.id,a=t.namespace;return Ze(t,typeof n=="function"?function(l,s,u){l[a][i].tween.set(e,r(n.call(l,l.__data__,s,u)))}:(n=r(n),function(l){l[a][i].tween.set(e,n)}))}Me.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n=t=="transform"?Eo:En,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function l(u){return u==null?i:(u+="",function(){var c=this.getAttribute(r),f;return c!==u&&(f=n(c,u),function(g){this.setAttribute(r,f(g))})})}function s(u){return u==null?a:(u+="",function(){var c=this.getAttributeNS(r.space,r.local),f;return c!==u&&(f=n(c,u),function(g){this.setAttributeNS(r.space,r.local,f(g))})})}return oa(this,"attr."+t,e,r.local?s:l)},Me.attrTween=function(t,e){var n=o.ns.qualify(t);function r(a,l){var s=e.call(this,a,l,this.getAttribute(n));return s&&function(u){this.setAttribute(n,s(u))}}function i(a,l){var s=e.call(this,a,l,this.getAttributeNS(n.space,n.local));return s&&function(u){this.setAttributeNS(n.space,n.local,s(u))}}return this.tween("attr."+t,n.local?i:r)},Me.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function a(l){return l==null?i:(l+="",function(){var s=B(this).getComputedStyle(this,null).getPropertyValue(t),u;return s!==l&&(u=En(s,l),function(c){this.style.setProperty(t,u(c),n)})})}return oa(this,"style."+t,e,a)},Me.styleTween=function(t,e,n){arguments.length<3&&(n="");function r(i,a){var l=e.call(this,i,a,B(this).getComputedStyle(this,null).getPropertyValue(t));return l&&function(s){this.style.setProperty(t,l(s),n)}}return this.tween("style."+t,r)},Me.text=function(t){return oa(this,"text",t,nc)};function nc(t){return t==null&&(t=""),function(){this.textContent=t}}Me.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Me.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:(typeof t!="function"&&(t=o.ease.apply(o,arguments)),Ze(this,function(r){r[n][e].ease=t}))},Me.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Ze(this,typeof t=="function"?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},Me.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Ze(this,typeof t=="function"?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Me.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=si,a=Bn;try{Bn=n,Ze(this,function(l,s,u){si=l[r][n],t.call(l,l.__data__,s,u)})}finally{si=i,Bn=a}}else Ze(this,function(l){var s=l[r][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},Me.transition=function(){for(var t=this.id,e=++_s,n=this.namespace,r=[],i,a,l,s,u=0,c=this.length;u<c;u++){r.push(i=[]);for(var a=this[u],f=0,g=a.length;f<g;f++)(l=a[f])&&(s=l[n][t],li(l,f,n,e,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})),i.push(l)}return pr(r,n,e)};function sa(t){return t==null?"__transition__":"__transition_"+t+"__"}function li(t,e,n,r,i){var a=t[n]||(t[n]={active:0,count:0}),l=a[r],s,u,c,f,g;function d(m){var _=l.delay;if(u.t=_+s,_<=m)return v(m-_);u.c=v}function v(m){var _=a.active,y=a[_];y&&(y.timer.c=null,y.timer.t=NaN,--a.count,delete a[_],y.event&&y.event.interrupt.call(t,t.__data__,y.index));for(var F in a)if(+F<r){var b=a[F];b.timer.c=null,b.timer.t=NaN,--a.count,delete a[F]}u.c=A,Pr(function(){return u.c&&A(m||1)&&(u.c=null,u.t=NaN),1},0,s),a.active=r,l.event&&l.event.start.call(t,t.__data__,e),g=[],l.tween.forEach(function(P,X){(X=X.call(t,t.__data__,e))&&g.push(X)}),f=l.ease,c=l.duration}function A(m){for(var _=m/c,y=f(_),F=g.length;F>0;)g[--F].call(t,y);if(_>=1)return l.event&&l.event.end.call(t,t.__data__,e),--a.count?delete a[r]:delete t[n],1}l||(s=i.time,u=Pr(d,0,s),l=a[r]={tween:new dt,time:s,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++a.count)}o.svg.axis=function(){var t=o.scale.linear(),e=ys,n=6,r=6,i=3,a=[10],l=null,s;function u(c){c.each(function(){var f=o.select(this),g=this.__chart__||t,d=this.__chart__=t.copy(),v=l??(d.ticks?d.ticks.apply(d,a):d.domain()),A=s??(d.tickFormat?d.tickFormat.apply(d,a):ie),m=f.selectAll(".tick").data(v,d),_=m.enter().insert("g",".domain").attr("class","tick").style("opacity",tt),y=o.transition(m.exit()).style("opacity",tt).remove(),F=o.transition(m.order()).style("opacity",1),b=Math.max(n,0)+i,P,X=Jr(d),U=f.selectAll(".domain").data([0]),H=(U.enter().append("path").attr("class","domain"),o.transition(U));_.append("line"),_.append("text");var G=_.select("line"),ot=F.select("line"),gt=m.select("text").text(A),At=_.select("text"),xt=F.select("text"),Ct=e==="top"||e==="left"?-1:1,Q,ft,yt,nt;if(e==="bottom"||e==="top"?(P=ic,Q="x",yt="y",ft="x2",nt="y2",gt.attr("dy",Ct<0?"0em":".71em").style("text-anchor","middle"),H.attr("d","M"+X[0]+","+Ct*r+"V0H"+X[1]+"V"+Ct*r)):(P=ac,Q="y",yt="x",ft="y2",nt="x2",gt.attr("dy",".32em").style("text-anchor",Ct<0?"end":"start"),H.attr("d","M"+Ct*r+","+X[0]+"H0V"+X[1]+"H"+Ct*r)),G.attr(nt,Ct*n),At.attr(yt,Ct*b),ot.attr(ft,0).attr(nt,Ct*n),xt.attr(Q,0).attr(yt,Ct*b),d.rangeBand){var mt=d,Dt=mt.rangeBand()/2;g=d=function(Ht){return mt(Ht)+Dt}}else g.rangeBand?g=d:y.call(P,d,g);_.call(P,g,d),F.call(P,d,d)})}return u.scale=function(c){return arguments.length?(t=c,u):t},u.orient=function(c){return arguments.length?(e=c in rc?c+"":ys,u):e},u.ticks=function(){return arguments.length?(a=w(arguments),u):a},u.tickValues=function(c){return arguments.length?(l=c,u):l},u.tickFormat=function(c){return arguments.length?(s=c,u):s},u.tickSize=function(c){var f=arguments.length;return f?(n=+c,r=+arguments[f-1],u):n},u.innerTickSize=function(c){return arguments.length?(n=+c,u):n},u.outerTickSize=function(c){return arguments.length?(r=+c,u):r},u.tickPadding=function(c){return arguments.length?(i=+c,u):i},u.tickSubdivide=function(){return arguments.length&&u},u};var ys="bottom",rc={top:1,right:1,bottom:1,left:1};function ic(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate("+(isFinite(i)?i:n(r))+",0)"})}function ac(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate(0,"+(isFinite(i)?i:n(r))+")"})}o.svg.brush=function(){var t=Ce(f,"brushstart","brush","brushend"),e=null,n=null,r=[0,0],i=[0,0],a,l,s=!0,u=!0,c=la[0];function f(m){m.each(function(){var _=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",A).on("touchstart.brush",A),y=_.selectAll(".background").data([0]);y.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),_.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var F=_.selectAll(".resize").data(c,ie);F.exit().remove(),F.enter().append("g").attr("class",function(U){return"resize "+U}).style("cursor",function(U){return oc[U]}).append("rect").attr("x",function(U){return/[ew]$/.test(U)?-3:null}).attr("y",function(U){return/^[ns]/.test(U)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),F.style("display",f.empty()?"none":null);var b=o.transition(_),P=o.transition(y),X;e&&(X=Jr(e),P.attr("x",X[0]).attr("width",X[1]-X[0]),d(b)),n&&(X=Jr(n),P.attr("y",X[0]).attr("height",X[1]-X[0]),v(b)),g(b)})}f.event=function(m){m.each(function(){var _=t.of(this,arguments),y={x:r,y:i,i:a,j:l},F=this.__chart__||y;this.__chart__=y,Bn?o.select(this).transition().each("start.brush",function(){a=F.i,l=F.j,r=F.x,i=F.y,_({type:"brushstart"})}).tween("brush:brush",function(){var b=$r(r,y.x),P=$r(i,y.y);return a=l=null,function(X){r=y.x=b(X),i=y.y=P(X),_({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=y.i,l=y.j,_({type:"brush",mode:"resize"}),_({type:"brushend"})}):(_({type:"brushstart"}),_({type:"brush",mode:"resize"}),_({type:"brushend"}))})};function g(m){m.selectAll(".resize").attr("transform",function(_){return"translate("+r[+/e$/.test(_)]+","+i[+/^s/.test(_)]+")"})}function d(m){m.select(".extent").attr("x",r[0]),m.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function v(m){m.select(".extent").attr("y",i[0]),m.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function A(){var m=this,_=o.select(o.event.target),y=t.of(m,arguments),F=o.select(m),b=_.datum(),P=!/^(n|s)$/.test(b)&&e,X=!/^(e|w)$/.test(b)&&n,U=_.classed("extent"),H=st(m),G,ot=o.mouse(m),gt,At=o.select(B(m)).on("keydown.brush",Q).on("keyup.brush",ft);if(o.event.changedTouches?At.on("touchmove.brush",yt).on("touchend.brush",mt):At.on("mousemove.brush",yt).on("mouseup.brush",mt),F.interrupt().selectAll("*").interrupt(),U)ot[0]=r[0]-ot[0],ot[1]=i[0]-ot[1];else if(b){var xt=+/w$/.test(b),Ct=+/^n/.test(b);gt=[r[1-xt]-ot[0],i[1-Ct]-ot[1]],ot[0]=r[xt],ot[1]=i[Ct]}else o.event.altKey&&(G=ot.slice());F.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",_.style("cursor")),y({type:"brushstart"}),yt();function Q(){o.event.keyCode==32&&(U||(G=null,ot[0]-=r[1],ot[1]-=i[1],U=2),Qt())}function ft(){o.event.keyCode==32&&U==2&&(ot[0]+=r[1],ot[1]+=i[1],U=0,Qt())}function yt(){var Dt=o.mouse(m),Ht=!1;gt&&(Dt[0]+=gt[0],Dt[1]+=gt[1]),U||(o.event.altKey?(G||(G=[(r[0]+r[1])/2,(i[0]+i[1])/2]),ot[0]=r[+(Dt[0]<G[0])],ot[1]=i[+(Dt[1]<G[1])]):G=null),P&&nt(Dt,e,0)&&(d(F),Ht=!0),X&&nt(Dt,n,1)&&(v(F),Ht=!0),Ht&&(g(F),y({type:"brush",mode:U?"move":"resize"}))}function nt(Dt,Ht,Zt){var se=Jr(Ht),pe=se[0],Ee=se[1],Ie=ot[Zt],Be=Zt?i:r,Re=Be[1]-Be[0],Te,Oe;if(U&&(pe-=Ie,Ee-=Re+Ie),Te=(Zt?u:s)?Math.max(pe,Math.min(Ee,Dt[Zt])):Dt[Zt],U?Oe=(Te+=Ie)+Re:(G&&(Ie=Math.max(pe,Math.min(Ee,2*G[Zt]-Te))),Ie<Te?(Oe=Te,Te=Ie):Oe=Ie),Be[0]!=Te||Be[1]!=Oe)return Zt?l=null:a=null,Be[0]=Te,Be[1]=Oe,!0}function mt(){yt(),F.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),o.select("body").style("cursor",null),At.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),H(),y({type:"brushend"})}}return f.x=function(m){return arguments.length?(e=m,c=la[!e<<1|!n],f):e},f.y=function(m){return arguments.length?(n=m,c=la[!e<<1|!n],f):n},f.clamp=function(m){return arguments.length?(e&&n?(s=!!m[0],u=!!m[1]):e?s=!!m:n&&(u=!!m),f):e&&n?[s,u]:e?s:n?u:null},f.extent=function(m){var _,y,F,b,P;return arguments.length?(e&&(_=m[0],y=m[1],n&&(_=_[0],y=y[0]),a=[_,y],e.invert&&(_=e(_),y=e(y)),y<_&&(P=_,_=y,y=P),(_!=r[0]||y!=r[1])&&(r=[_,y])),n&&(F=m[0],b=m[1],e&&(F=F[1],b=b[1]),l=[F,b],n.invert&&(F=n(F),b=n(b)),b<F&&(P=F,F=b,b=P),(F!=i[0]||b!=i[1])&&(i=[F,b])),f):(e&&(a?(_=a[0],y=a[1]):(_=r[0],y=r[1],e.invert&&(_=e.invert(_),y=e.invert(y)),y<_&&(P=_,_=y,y=P))),n&&(l?(F=l[0],b=l[1]):(F=i[0],b=i[1],n.invert&&(F=n.invert(F),b=n.invert(b)),b<F&&(P=F,F=b,b=P))),e&&n?[[_,F],[y,b]]:e?[_,y]:n&&[F,b])},f.clear=function(){return f.empty()||(r=[0,0],i=[0,0],a=l=null),f},f.empty=function(){return!!e&&r[0]==r[1]||!!n&&i[0]==i[1]},o.rebind(f,t,"on")};var oc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},la=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ua=It.format=Pa.timeFormat,vs=ua.utc,xs=vs("%Y-%m-%dT%H:%M:%S.%LZ");ua.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ca:xs;function ca(t){return t.toISOString()}ca.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ca.toString=xs.toString,It.second=Sn(function(t){return new Le(Math.floor(t/1e3)*1e3)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*1e3)},function(t){return t.getSeconds()}),It.seconds=It.second.range,It.seconds.utc=It.second.utc.range,It.minute=Sn(function(t){return new Le(Math.floor(t/6e4)*6e4)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*6e4)},function(t){return t.getMinutes()}),It.minutes=It.minute.range,It.minutes.utc=It.minute.utc.range,It.hour=Sn(function(t){var e=t.getTimezoneOffset()/60;return new Le((Math.floor(t/36e5-e)+e)*36e5)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*36e5)},function(t){return t.getHours()}),It.hours=It.hour.range,It.hours.utc=It.hour.utc.range,It.month=Sn(function(t){return t=It.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),It.months=It.month.range,It.months.utc=It.month.utc.range;function fa(t,e,n){function r(a){return t(a)}r.invert=function(a){return Dn(t.invert(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain().map(Dn)};function i(a,l){var s=a[1]-a[0],u=s/l,c=o.bisect(ui,u);return c==ui.length?[e.year,dr(a.map(function(f){return f/31536e6}),l)[2]]:c?e[u/ui[c-1]<ui[c]/u?c-1:c]:[lc,dr(a,l)[2]]}return r.nice=function(a,l){var s=r.domain(),u=Jn(s),c=a==null?i(u,10):typeof a=="number"&&i(u,a);c&&(a=c[0],l=c[1]);function f(g){return!isNaN(g)&&!a.range(g,Dn(+g+1),l).length}return r.domain(Ki(s,l>1?{floor:function(g){for(;f(g=a.floor(g));)g=Dn(g-1);return g},ceil:function(g){for(;f(g=a.ceil(g));)g=Dn(+g+1);return g}}:a))},r.ticks=function(a,l){var s=Jn(r.domain()),u=a==null?i(s,10):typeof a=="number"?i(s,a):!a.range&&[{range:a},l];return u&&(a=u[0],l=u[1]),a.range(s[0],Dn(+s[1]+1),l<1?1:l)},r.tickFormat=function(){return n},r.copy=function(){return fa(t.copy(),e,n)},$i(r,t)}function Dn(t){return new Date(t)}var ui=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ha=[[It.second,1],[It.second,5],[It.second,15],[It.second,30],[It.minute,1],[It.minute,5],[It.minute,15],[It.minute,30],[It.hour,1],[It.hour,3],[It.hour,6],[It.hour,12],[It.day,1],[It.day,2],[It.week,1],[It.month,1],[It.month,3],[It.year,1]],sc=ua.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&t.getDate()!=1}],["%b %d",function(t){return t.getDate()!=1}],["%B",function(t){return t.getMonth()}],["%Y",rr]]),lc={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Dn)},floor:ie,ceil:ie};ha.year=It.year,It.scale=function(){return fa(o.scale.linear(),ha,sc)};var bs=ha.map(function(t){return[t[0].utc,t[1]]}),uc=vs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&t.getUTCDate()!=1}],["%b %d",function(t){return t.getUTCDate()!=1}],["%B",function(t){return t.getUTCMonth()}],["%Y",rr]]);bs.year=It.year.utc,It.scale.utc=function(){return fa(o.scale.linear(),bs,uc)},o.text=yi(function(t){return t.responseText}),o.json=function(t,e){return wr(t,"application/json",cc,e)};function cc(t){return JSON.parse(t.responseText)}o.html=function(t,e){return wr(t,"text/html",fc,e)};function fc(t){var e=x.createRange();return e.selectNode(x.body),e.createContextualFragment(t.responseText)}return o.xml=yi(function(t){return t.responseXML}),o};const pt=window.E0DD32CBDCB63F();let hi=1;function dc(p){const o="<",w=">",I=`\r
	>/= `;let k=0;function E(){const C=[];for(;p[k];){if(p.charCodeAt(k)===60){if(p.charCodeAt(k+1)===47)return k=p.indexOf(w,k),C;if(p.charCodeAt(k+1)===33){if(p.charCodeAt(k+2)===45){for(;!(p.charCodeAt(k)===62&&p.charCodeAt(k-1)===45&&p.charCodeAt(k-2)===45&&k!==-1);)k=p.indexOf(w,k+1);k===-1&&(k=p.length)}else for(k+=2;p.charCodeAt(k)!==62;)k++;k++;continue}else if(p.charCodeAt(k+1)===63){k=p.indexOf(w,k),k++;continue}k++;let V=k;for(;I.indexOf(p[k])===-1;)k++;const j=p.slice(V,k);let et=!1,rt={};for(;p.charCodeAt(k)!==62;k++){const Ft=p.charCodeAt(k);if(Ft>64&&Ft<91||Ft>96&&Ft<123){for(V=k;I.indexOf(p[k])===-1;)k++;const dt=p.slice(V,k);let lt=p.charCodeAt(k);for(;lt!==39&&lt!==34;)k++,lt=p.charCodeAt(k);const Mt=p[k],Gt=++k;k=p.indexOf(Mt,Gt);const Nt=p.slice(Gt,k);et||(rt={},et=!0),rt[dt]=Nt}}let vt;p.charCodeAt(k-1)!==47&&(k++,vt=E()),C.push({children:vt,tagName:j,attrs:rt})}else{const V=k;k=p.indexOf(o,k)-1,k===-2&&(k=p.length);const j=p.slice(V,k+1);j.trim().length>0&&C.push(j)}k++}return C}return hi=1,ks(E())}function ks(p){const o={};if(p===void 0)return{};if(p.length===1&&(typeof p[0]=="string"||p[0]instanceof String))return new String(p[0]);p.forEach(function(h){if(typeof h!="string"&&(o[h.tagName]||(o[h.tagName]=[])),typeof h=="object"){const w=ks(h.children);h.attrs&&(w.attrs=h.attrs),w.attrs===void 0?w.attrs={order:hi}:w.attrs.order=hi,hi++,o[h.tagName].push(w)}});for(const h in o)o[h].length===1&&(o[h]=o[h][0]);return o}function da(p){const o=new Uint8Array(p);let h="";for(let w=0;w<o.byteLength;w++)h+=String.fromCharCode(o[w]);return btoa(h)}function pc(p){const o=p.lastIndexOf(".");return o===0||o===-1?"":p.substr(p.lastIndexOf(".")+1)}function mc(p,o){const h=[];let w=0,x="",z="";const B={};let N;p(async S=>{switch(S.type){case"processPPTX":{try{await D(S.data)}catch(O){console.error("AN ERROR HAPPENED DURING processPPTX",O),o({type:"ERROR",data:O.toString()})}break}}});async function D(S){var O;const q=await(await gc(()=>import("./jszip.min--o3_SgQz.CiS0z4ab.js"),__vite__mapDeps([0,1])).then(ct=>ct.j)).loadAsync(S),$=Date.now();if(q.file("docProps/thumbnail.jpeg")){const ct=await((O=q.file("docProps/thumbnail.jpeg"))==null?void 0:O.async("base64"));o({type:"pptx-thumb",data:ct})}const J=await M(q),at=await I(q);x=await k(q),N=await R(q,"ppt/tableStyles.xml"),o({type:"slideSize",data:at});const st=J.slides.length;for(let ct=0;ct<st;ct++){const wt=J.slides[ct],tt=await E(q,wt,ct,at);o({type:"slide",data:tt}),o({type:"progress-update",data:(ct+1)*100/st})}o({type:"globalCSS",data:Nt()});const ut=Date.now();o({type:"Done",data:{time:ut-$,charts:h}})}async function R(S,O){var L;return dc(await((L=S.file(O))==null?void 0:L.async("text"))||"")}async function M(S){const L=(await R(S,"[Content_Types].xml")).Types.Override,q=[],$=[];for(let J=0;J<L.length;J++)switch(L[J].attrs.ContentType){case"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":q.push(L[J].attrs.PartName.substr(1));break;case"application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml":$.push(L[J].attrs.PartName.substr(1));break}return{slides:q,slideLayouts:$}}async function I(S){const L=(await R(S,"ppt/presentation.xml"))["p:presentation"]["p:sldSz"].attrs;return{width:parseInt(L.cx)*96/914400,height:parseInt(L.cy)*96/914400}}async function k(S){const L=(await R(S,"ppt/_rels/presentation.xml.rels")).Relationships.Relationship;let q;if(L.constructor===Array){for(let $=0;$<L.length;$++)if(L[$].attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"){q=L[$].attrs.Target;break}}else L.attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"&&(q=L.attrs.Target);if(q===void 0)throw Error("Can't open theme file.");return R(S,"ppt/"+q)}async function E(S,O,L,q){o({type:"INFO",data:"Processing slide"+(L+1)});const $=O.replace("slides/slide","slides/_rels/slide")+".rels";let at=(await R(S,$)).Relationships.Relationship,st="";const ut={};if(at.constructor===Array)for(let Pt=0;Pt<at.length;Pt++)switch(at[Pt].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout":st=at[Pt].attrs.Target.replace("../","ppt/");break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink":default:ut[at[Pt].attrs.Id]={type:at[Pt].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Pt].attrs.Target.replace("../","ppt/")}}else st=at.attrs.Target.replace("../","ppt/");const ct=await R(S,st),wt=C(ct),tt=ct["p:sldLayout"]["p:clrMapOvr"]["a:overrideClrMapping"];tt!==void 0&&(z=tt.attrs);const jt=st.replace("slideLayouts/slideLayout","slideLayouts/_rels/slideLayout")+".rels";at=(await R(S,jt)).Relationships.Relationship;let K="";const Lt={};if(at.constructor===Array)for(let Pt=0;Pt<at.length;Pt++)switch(at[Pt].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster":K=at[Pt].attrs.Target.replace("../","ppt/");break;default:Lt[at[Pt].attrs.Id]={type:at[Pt].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Pt].attrs.Target.replace("../","ppt/")}}else K=at.attrs.Target.replace("../","ppt/");const kt=await R(S,K),_t=W(kt,["p:sldMaster","p:txStyles"]),zt=C(kt),Z=K.replace("slideMasters/slideMaster","slideMasters/_rels/slideMaster")+".rels";at=(await R(S,Z)).Relationships.Relationship;let ht="";const Yt={};if(at.constructor===Array)for(let Pt=0;Pt<at.length;Pt++)switch(at[Pt].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme":ht=at[Pt].attrs.Target.replace("../","ppt/");break;default:Yt[at[Pt].attrs.Id]={type:at[Pt].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Pt].attrs.Target.replace("../","ppt/")}}else ht=at.attrs.Target.replace("../","ppt/");ht!==void 0&&(x=await R(S,ht));const Wt=await R(S,O),Xt=Wt["p:sld"]["p:cSld"]["p:spTree"],Jt={zip:S,slideLayoutTables:wt,slideMasterTables:zt,slideResObj:ut,slideMasterTextStyles:_t,layoutResObj:Lt,masterResObj:Yt},te=await _e(Wt,ct,kt,Jt),Tt=Math.min(q.width,document.body.clientWidth),Rt=q.width/Tt,Bt=q.height/Rt;let oe="<section style='width:"+Tt+"px; height:"+Bt+"px;"+te+"'>";for(const Pt in Xt)if(Xt[Pt].constructor===Array)for(let ye=0;ye<Xt[Pt].length;ye++)oe+=await V(Pt,Xt[Pt][ye],Jt);else oe+=await V(Pt,Xt[Pt],Jt);return oe+"</section>"}function C(S){const O=Object.keys(S),L=S[O[0]]["p:cSld"]["p:spTree"],q={},$={},J={};for(const at in L){if(at==="p:nvGrpSpPr"||at==="p:grpSpPr")continue;const st=L[at];if(st.constructor===Array)for(let ut=0;ut<st.length;ut++){const ct=st[ut]["p:nvSpPr"],wt=W(ct,["p:cNvPr","attrs","id"]),tt=W(ct,["p:nvPr","p:ph","attrs","idx"]),jt=W(ct,["p:nvPr","p:ph","attrs","type"]);wt!==void 0&&(q[wt]=st[ut]),tt!==void 0&&($[tt]=st[ut]),jt!==void 0&&(J[jt]=st[ut])}else{const ut=st["p:nvSpPr"],ct=W(ut,["p:cNvPr","attrs","id"]),wt=W(ut,["p:nvPr","p:ph","attrs","idx"]),tt=W(ut,["p:nvPr","p:ph","attrs","type"]);ct!==void 0&&(q[ct]=st),wt!==void 0&&($[wt]=st),tt!==void 0&&(J[tt]=st)}}return{idTable:q,idxTable:$,typeTable:J}}async function V(S,O,L){let q="";switch(S){case"p:sp":q=await et(O,L);break;case"p:cxnSp":q=await rt(O,L);break;case"p:pic":q=await Ft(O,L);break;case"p:graphicFrame":q=await dt(O,L);break;case"p:grpSp":q=await j(O,L);break}return q}async function j(S,O){const L=.00010498687664041995,q=S["p:grpSpPr"]["a:xfrm"],$=parseInt(q["a:off"].attrs.x)*L,J=parseInt(q["a:off"].attrs.y)*L,at=parseInt(q["a:chOff"].attrs.x)*L,st=parseInt(q["a:chOff"].attrs.y)*L,ut=parseInt(q["a:ext"].attrs.cx)*L,ct=parseInt(q["a:ext"].attrs.cy)*L,wt=parseInt(q["a:chExt"].attrs.cx)*L,tt=parseInt(q["a:chExt"].attrs.cy)*L;let it="<div class='block group' style='z-index: "+S.attrs.order+"; top: "+(J-st)+"px; left: "+($-at)+"px; width: "+(ut-wt)+"px; height: "+(ct-tt)+"px;'>";for(const K in S)if(S[K].constructor===Array)for(let Lt=0;Lt<S[K].length;Lt++)it+=await V(K,S[K][Lt],O);else it+=await V(K,S[K],O);return it+="</div>",it}async function et(S,O){const L=S["p:nvSpPr"]["p:cNvPr"].attrs.id,q=S["p:nvSpPr"]["p:cNvPr"].attrs.name,$=S["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:S["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.idx;let J=S["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:S["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.type;const at=S.attrs.order;let st,ut;return J!==void 0?(st=O.slideLayoutTables.typeTable[J],ut=O.slideMasterTables.typeTable[J]):$!==void 0&&(st=O.slideLayoutTables.idxTable[$],ut=O.slideMasterTables.idxTable[$]),J===void 0&&(J=W(st,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]),J===void 0&&(J=W(ut,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]))),await vt(S,st,ut,L,q,$,J,at,O)}async function rt(S,O){const L=S["p:nvCxnSpPr"]["p:cNvPr"].attrs.id,q=S["p:nvCxnSpPr"]["p:cNvPr"].attrs.name,$=S.attrs.order;return await vt(S,void 0,void 0,L,q,void 0,void 0,$,O)}async function vt(S,O,L,q,$,J,at,st,ut){const ct=["p:spPr","a:xfrm"],wt=W(S,ct),tt=W(O,ct),jt=W(L,ct);let it="";const K=W(S,["attrs","order"]),Lt=W(S,["p:spPr","a:prstGeom","attrs","prst"]),kt=W(S,["p:spPr","a:custGeom"]);let _t=!1;(W(wt,["attrs","flipV"])==="1"||W(wt,["attrs","flipH"])==="1")&&(_t=!0);const zt=He(W(wt,["attrs","rot"]));let Z=0,Y=0,ht={},Yt,Wt,Xt,Jt=!1,te=!1;if(Lt!==void 0||kt!==void 0){const Tt=W(wt,["a:ext","attrs"]);Z=parseInt(Tt.cx)*96/914400,Y=parseInt(Tt.cy)*96/914400,it+="<svg class='drawing' _id='"+q+"' _idx='"+J+"' _type='"+at+"' Name='"+$+"' style='"+Et(wt,void 0,void 0)+ee(wt,void 0,void 0)+" z-index: "+st+";transform: rotate("+zt+"deg);'>",it+="<defs>",Xt=await Ut(S,!0,ut);const Rt=re(W(S,["p:spPr"]));if(Rt==="GRADIENT_FILL"){Jt=!0;const Bt=Xt.color,oe=Xt.rot,Pt=gi(Z.toString(),Y.toString(),oe,Bt,K);it+=Pt}else if(Rt==="PIC_FILL"){te=!0;const Bt=Ke(Xt,K);it+=Bt}if(ht=be(S,!0),Yt=W(S,["p:spPr","a:ln","a:headEnd","attrs"]),Wt=W(S,["p:spPr","a:ln","a:tailEnd","attrs"]),Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")||Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")){const Bt="<marker id='markerTriangle_"+K+"' viewBox='0 0 10 10' refX='1' refY='5' markerWidth='5' markerHeight='5' stroke='"+ht.color+"' fill='"+ht.color+"' orient='auto-start-reverse' markerUnits='strokeWidth'><path d='M 0 0 L 10 5 L 0 10 z' /></marker>";it+=Bt}it+="</defs>"}if(Lt!==void 0&&kt===void 0){switch(Lt){case"accentBorderCallout1":case"accentBorderCallout2":case"accentBorderCallout3":case"accentCallout1":case"accentCallout2":case"accentCallout3":case"actionButtonBackPrevious":case"actionButtonBeginning":case"actionButtonBlank":case"actionButtonDocument":case"actionButtonEnd":case"actionButtonForwardNext":case"actionButtonHelp":case"actionButtonHome":case"actionButtonInformation":case"actionButtonMovie":case"actionButtonReturn":case"actionButtonSound":case"arc":case"bevel":case"blockArc":case"borderCallout1":case"borderCallout2":case"borderCallout3":case"bracePair":case"bracketPair":case"callout1":case"callout2":case"callout3":case"can":case"chartPlus":case"chartStar":case"chartX":case"chevron":case"chord":case"cloud":case"cloudCallout":case"corner":case"cornerTabs":case"cube":case"diagStripe":case"donut":case"doubleWave":case"downArrowCallout":case"ellipseRibbon":case"ellipseRibbon2":case"flowChartAlternateProcess":case"flowChartCollate":case"flowChartConnector":case"flowChartDecision":case"flowChartDelay":case"flowChartDisplay":case"flowChartDocument":case"flowChartExtract":case"flowChartInputOutput":case"flowChartInternalStorage":case"flowChartMagneticDisk":case"flowChartMagneticDrum":case"flowChartMagneticTape":case"flowChartManualInput":case"flowChartManualOperation":case"flowChartMerge":case"flowChartMultidocument":case"flowChartOfflineStorage":case"flowChartOffpageConnector":case"flowChartOnlineStorage":case"flowChartOr":case"flowChartPredefinedProcess":case"flowChartPreparation":case"flowChartProcess":case"flowChartPunchedCard":case"flowChartPunchedTape":case"flowChartSort":case"flowChartSummingJunction":case"flowChartTerminator":case"folderCorner":case"frame":case"funnel":case"gear6":case"gear9":case"halfFrame":case"heart":case"homePlate":case"horizontalScroll":case"irregularSeal1":case"irregularSeal2":case"leftArrowCallout":case"leftBrace":case"leftBracket":case"leftRightArrowCallout":case"leftRightRibbon":case"lightningBolt":case"lineInv":case"mathDivide":case"mathEqual":case"mathMinus":case"mathMultiply":case"mathNotEqual":case"mathPlus":case"moon":case"nonIsoscelesTrapezoid":case"noSmoking":case"pie":case"pieWedge":case"plaque":case"plaqueTabs":case"quadArrowCallout":case"rect":case"ribbon":case"ribbon2":case"rightArrowCallout":case"rightBrace":case"rightBracket":case"round1Rect":case"round2DiagRect":case"round2SameRect":case"smileyFace":case"snip1Rect":case"snip2DiagRect":case"snip2SameRect":case"snipRoundRect":case"squareTabs":case"star10":case"star12":case"star16":case"star24":case"star32":case"star4":case"star5":case"star6":case"star7":case"star8":case"sun":case"teardrop":case"upArrowCallout":case"upDownArrowCallout":case"verticalScroll":case"wave":case"wedgeEllipseCallout":case"wedgeRectCallout":case"wedgeRoundRectCallout":{it+="<rect x='0' y='0' width='"+Z+"' height='"+Y+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"ellipse":{it+="<ellipse cx='"+Z/2+"' cy='"+Y/2+"' rx='"+Z/2+"' ry='"+Y/2+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"roundRect":{it+="<rect x='0' y='0' width='"+Z+"' height='"+Y+"' rx='7' ry='7' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"bentConnector2":{let Tt;_t?Tt="M 0 "+Z+" L "+Y+" "+Z+" L "+Y+" 0":Tt="M "+Z+" 0 L "+Z+" "+Y+" L 0 "+Y,it+="<path d='"+Tt+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' fill='none' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>";break}case"rtTriangle":{it+=" <polygon points='0 0,0 "+Y+","+Z+" "+Y+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"triangle":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.5;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))*96/9144e3),it+=" <polygon points='"+Z*Rt+" 0,0 "+Y+","+Z+" "+Y+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"diamond":{it+=" <polygon points='"+Z/2+" 0,0 "+Y/2+","+Z/2+" "+Y+","+Z+" "+Y/2+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"trapezoid":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))*96/9144e3*.5/.7407),it+=" <polygon points='"+Z*Rt+" 0,0 "+Y+","+Z+" "+Y+","+(1-Rt)*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"parallelogram":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25,Bt;Z>Y?Bt=Z/Y:Bt=Y/Z,Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5/Bt),it+=" <polygon points='"+Rt*Z+" 0,0 "+Y+","+(1-Rt)*Z+" "+Y+","+Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"pentagon":{it+=" <polygon points='"+.5*Z+" 0,0 "+.375*Y+","+.15*Z+" "+Y+","+.85*Z+" "+Y+","+Z+" "+.375*Y+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"hexagon":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd"])||[];let Rt;for(let Pt=0;Pt<Tt.length;Pt++)W(Tt[Pt],["attrs","name"])==="adj"&&(Rt=W(Tt[Pt],["attrs","fmla"]));let Bt=.25;Rt!==void 0&&(Bt=parseInt(Rt.substr(4))*96/9144e3*.5/.62211),it+=" <polygon points='"+Z*Bt+" 0,0 "+Y/2+","+Z*Bt+" "+Y+","+(1-Bt)*Z+" "+Y+","+Z+" "+Y/2+","+(1-Bt)*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"heptagon":{it+=" <polygon points='"+.5*Z+" 0,"+Z/8+" "+Y/4+",0 "+5/8*Y+","+Z/4+" "+Y+","+3/4*Z+" "+Y+","+Z+" "+5/8*Y+","+7/8*Z+" "+Y/4+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"octagon":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5);const Bt=1-Rt;it+=" <polygon points='"+Rt*Z+" 0,0 "+Rt*Y+",0 "+Bt*Y+","+Rt*Z+" "+Y+","+Bt*Z+" "+Y+","+Z+" "+Bt*Y+","+Z+" "+Rt*Y+","+Bt*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"decagon":{it+=" <polygon points='"+3/8*Z+" 0,"+Z/8+" "+Y/8+",0 "+Y/2+","+Z/8+" "+7/8*Y+","+3/8*Z+" "+Y+","+5/8*Z+" "+Y+","+7/8*Z+" "+7/8*Y+","+Z+" "+Y/2+","+7/8*Z+" "+Y/8+","+5/8*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"dodecagon":{it+=" <polygon points='"+3/8*Z+" 0,"+Z/8+" "+Y/8+",0 "+3/8*Y+",0 "+5/8*Y+","+Z/8+" "+7/8*Y+","+3/8*Z+" "+Y+","+5/8*Z+" "+Y+","+7/8*Z+" "+7/8*Y+","+Z+" "+5/8*Y+","+Z+" "+3/8*Y+","+7/8*Z+" "+Y/8+","+5/8*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"bentConnector3":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.5;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5,_t?it+=" <polyline points='"+Z+" 0,"+(1-Rt)*Z+" 0,"+(1-Rt)*Z+" "+Y+",0 "+Y+"' fill='transparent'' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ":it+=" <polyline points='0 0,"+Rt*Z+" 0,"+Rt*Z+" "+Y+","+Z+" "+Y+"' fill='transparent'' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>");break}case"plus":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5);const Bt=1-Rt;it+=" <polygon points='"+Rt*Z+" 0,"+Rt*Z+" "+Rt*Y+",0 "+Rt*Y+",0 "+Bt*Y+","+Rt*Z+" "+Bt*Y+","+Rt*Z+" "+Y+","+Bt*Z+" "+Y+","+Bt*Z+" "+Bt*Y+","+Z+" "+Bt*Y+","+ +Z+" "+Rt*Y+","+Bt*Z+" "+Rt*Y+","+Bt*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"line":case"straightConnector1":case"bentConnector4":case"bentConnector5":case"curvedConnector2":case"curvedConnector3":case"curvedConnector4":case"curvedConnector5":{_t?it+="<line x1='"+Z+"' y1='0' x2='0' y2='"+Y+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ":it+="<line x1='0' y1='0' x2='"+Z+"' y2='"+Y+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>";break}case"rightArrow":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt="",Bt=.5,oe,Pt=.5;const ye=Z/Y;if(Tt!==void 0)for(let $t=0;$t<Tt.length;$t++){const he=W(Tt[$t],["attrs","name"]);he==="adj1"?(Rt=W(Tt[$t],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=W(Tt[$t],["attrs","fmla"]),Pt=1-parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+Z+" "+Y/2+","+Pt*Z+" 0,"+Pt*Z+" "+Bt*Y+",0 "+Bt*Y+",0 "+(1-Bt)*Y+","+Pt*Z+" "+(1-Bt)*Y+", "+Pt*Z+" "+Y+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"leftArrow":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=Z/Y;if(Tt!==void 0)for(let $t=0;$t<Tt.length;$t++){const he=W(Tt[$t],["attrs","name"]);he==="adj1"?(Rt=W(Tt[$t],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=W(Tt[$t],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='0 "+Y/2+","+Pt*Z+" "+Y+","+Pt*Z+" "+(1-Bt)*Y+","+Z+" "+(1-Bt)*Y+","+Z+" "+Bt*Y+","+Pt*Z+" "+Bt*Y+", "+Pt*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"downArrow":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=Y/Z;if(Tt!==void 0)for(let $t=0;$t<Tt.length;$t++){const he=W(Tt[$t],["attrs","name"]);he==="adj1"?(Rt=W(Tt[$t],["attrs","fmla"]),Bt=parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=W(Tt[$t],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+(.5-Bt)*Z+" 0,"+(.5-Bt)*Z+" "+(1-Pt)*Y+",0 "+(1-Pt)*Y+","+Z/2+" "+Y+","+Z+" "+(1-Pt)*Y+","+(.5+Bt)*Z+" "+(1-Pt)*Y+", "+(.5+Bt)*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"upArrow":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=Y/Z;if(Tt!==void 0)for(let $t=0;$t<Tt.length;$t++){const he=W(Tt[$t],["attrs","name"]);he==="adj1"?(Rt=W(Tt[$t],["attrs","fmla"]),Bt=parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=W(Tt[$t],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+Z/2+" 0,0 "+Pt*Y+","+(.5-Bt)*Z+" "+Pt*Y+","+(.5-Bt)*Z+" "+Y+","+(.5+Bt)*Z+" "+Y+","+(.5+Bt)*Z+" "+Pt*Y+", "+Z+" "+Pt*Y+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"leftRightArrow":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=Z/Y;if(Tt!==void 0)for(let $t=0;$t<Tt.length;$t++){const he=W(Tt[$t],["attrs","name"]);he==="adj1"?(Rt=W(Tt[$t],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=W(Tt[$t],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='0 "+Y/2+","+Pt*Z+" "+Y+","+Pt*Z+" "+(1-Bt)*Y+","+(1-Pt)*Z+" "+(1-Bt)*Y+","+(1-Pt)*Z+" "+Y+","+Z+" "+Y/2+", "+(1-Pt)*Z+" 0,"+(1-Pt)*Z+" "+Bt*Y+","+Pt*Z+" "+Bt*Y+","+Pt*Z+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"upDownArrow":{const Tt=W(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=Y/Z;if(Tt!==void 0)for(let $t=0;$t<Tt.length;$t++){const he=W(Tt[$t],["attrs","name"]);he==="adj1"?(Rt=W(Tt[$t],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=W(Tt[$t],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+Z/2+" 0,0 "+Pt*Y+","+Bt*Z+" "+Pt*Y+","+Bt*Z+" "+(1-Pt)*Y+",0 "+(1-Pt)*Y+","+Z/2+" "+Y+", "+Z+" "+(1-Pt)*Y+","+(1-Bt)*Z+" "+(1-Pt)*Y+","+(1-Bt)*Z+" "+Pt*Y+","+Z+" "+Pt*Y+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"bentArrow":case"bentUpArrow":case"stripedRightArrow":case"quadArrow":case"circularArrow":case"swooshArrow":case"leftRightUpArrow":case"leftUpArrow":case"leftCircularArrow":case"notchedRightArrow":case"curvedDownArrow":case"curvedLeftArrow":case"curvedRightArrow":case"curvedUpArrow":case"uturnArrow":case"leftRightCircularArrow":break;case void 0:default:console.warn("Undefine shape type.")}it+="</svg>",it+="<div class='block content "+ie(S,O,L)+"' _id='"+q+"' _idx='"+J+"' _type='"+at+"' Name='"+$+"' style='"+Et(wt,tt,jt)+ee(wt,tt,jt)+" z-index: "+st+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await lt(S["p:txBody"],O,L,at,ut)),it+="</div>"}else if(kt!==void 0){const Tt=W(kt,["a:pathLst"]),Rt=W(Tt,["a:path","a:close"]),Bt=W(Tt,["a:path","a:moveTo","a:pt","attrs"])||{x:"0",y:"0"},oe=parseInt(Bt.x)*96/914400,Pt=parseInt(Bt.y)*96/914400;let ye="M"+oe+","+Pt;const $t=W(Tt,["a:path"]),he=$t["a:lnTo"],je=$t["a:cubicBezTo"],Mn=[];he!==void 0&&Object.keys(he).forEach(function(Ge){const xe=he[Ge]["a:pt"];xe!==void 0&&Object.keys(xe).forEach(function(rn){const Ve={},an=xe[rn],Ue=an.x,fn=an.y,jn=an.order;Ve.type="lnto",Ve.order=jn,Ve.x=Ue,Ve.y=fn,Mn.push(Ve)})}),je!==void 0&&Object.keys(je).forEach(function(Ge){const xe=je[Ge]["a:pt"];xe!==void 0&&Object.keys(xe).forEach(function(rn){const Ve=xe[rn];Object.keys(Ve).forEach(function(an){const Ue={},fn=Ve[an],jn=fn.x,yr=fn.y,tr=fn.order;Ue.type="cubicBezTo",Ue.order=tr,Ue.x=jn,Ue.y=yr,Mn.push(Ue)})})});const ke=Mn.slice(0);ke.sort(function(Ge,xe){return Ge.order-xe.order});let Ne=0;for(;Ne<ke.length;)if(ke[Ne].type==="lnto"){const Ge=parseInt(ke[Ne].x)*96/914400,xe=parseInt(ke[Ne].y)*96/914400;ye+="L"+Ge+","+xe,Ne++}else{const Ge=parseInt(ke[Ne].x)*96/914400,xe=parseInt(ke[Ne].y)*96/914400,rn=parseInt(ke[Ne+1].x)*96/914400,Ve=parseInt(ke[Ne+1].y)*96/914400,an=parseInt(ke[Ne+2].x)*96/914400,Ue=parseInt(ke[Ne+2].y)*96/914400;ye+="C"+Ge+","+xe+" "+rn+","+Ve+" "+an+","+Ue,Ne+=3}it+="<path d='"+ye+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ",Rt!==void 0||(Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' ")),it+="/>",it+="</svg>",it+="<div class='block content "+ie(S,O,L)+"' _id='"+q+"' _idx='"+J+"' _type='"+at+"' Name='"+$+"' style='"+Et(wt,tt,jt)+ee(wt,tt,jt)+" z-index: "+st+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await lt(S["p:txBody"],O,L,at,ut)),it+="</div>"}else it+="<div class='block content "+ie(S,O,L)+"' _id='"+q+"' _idx='"+J+"' _type='"+at+"' Name='"+$+"' style='"+Et(wt,tt,jt)+ee(wt,tt,jt)+be(S,!1)+await Ut(S,!1,ut)+" z-index: "+st+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await lt(S["p:txBody"],O,L,at="",ut)),it+="</div>";return it}async function Ft(S,O){const L=S.attrs.order,q=S["p:blipFill"]["a:blip"].attrs["r:embed"],$=O.slideResObj[q].target,J=pc($).toLowerCase(),st=await O.zip.file($).async("arraybuffer");let ut="";const ct=S["p:spPr"]["a:xfrm"],wt=He(S["p:spPr"]["a:xfrm"].attrs.rot);return ut=On(J),"<div class='block content' style='"+Et(ct,void 0,void 0)+ee(ct,void 0,void 0)+" z-index: "+L+";transform: rotate("+wt+"deg);'><img src='data:"+ut+";base64,"+da(st)+"' style='width: 100%; height: 100%'/></div>"}async function dt(S,O){let L="";switch(W(S,["a:graphic","a:graphicData","attrs","uri"])){case"http://schemas.openxmlformats.org/drawingml/2006/table":L=await qt(S,O);break;case"http://schemas.openxmlformats.org/drawingml/2006/chart":L=await ce(S,O);break;case"http://schemas.openxmlformats.org/drawingml/2006/diagram":L=Kt(S);break}return L}async function lt(S,O,L,q,$){let J="";const at=$&&$.slideMasterTextStyles;if(S===void 0)return J;let st,ut;if(S["a:p"].constructor===Array)for(let ct=0;ct<S["a:p"].length;ct++){if(st=S["a:p"][ct],ut=st["a:r"],J+="<div  class='"+le(st,O||{},L||{},q,at)+"'>",J+=await Mt(st,O,L,q,$||{}),ut===void 0)J+=Gt(st,O,L,q,$||{});else if(ut.constructor===Array)for(let wt=0;wt<ut.length;wt++)J+=Gt(ut[wt],O,L,q,$||{}),st["a:br"]!==void 0&&(J+="<br>");else J+=Gt(ut,O,L,q,$||{});J+="</div>"}else{if(st=S["a:p"],ut=st["a:r"],J+="<div class='slide-prgrph "+le(st,O||{},L||{},q,at)+"'>",J+=await Mt(st,O,L,q,$),ut===void 0)J+=Gt(st,O,L,q,$||{});else if(ut.constructor===Array)for(let ct=0;ct<ut.length;ct++)J+=Gt(ut[ct],O,L,q,$||{}),st["a:br"]!==void 0&&(J+="<br>");else J+=Gt(ut,O,L,q,$||{});J+="</div>"}return J}async function Mt(S,O,L,q,$){const J=$&&$.slideMasterTextStyles,at=S["a:r"];let st,ut,ct,wt;at!==void 0?(st=ge(at),ut=ve(at,O,L,q,J)):(st=ge(S),ut=ve(S,O,L,q,J));let tt="";const jt=S["a:pPr"],it=W(jt,["attrs","rtl"]);let K=!1;it!==void 0&&it==="1"&&(K=!0);let Lt=parseInt(W(jt,["attrs","lvl"]));isNaN(Lt)&&(Lt=0);const kt=W(jt,["a:buChar","attrs","char"]);let _t="TYPE_NONE";const zt=W(jt,["a:buAutoNum","attrs","type"]),Z=W(jt,["a:buBlip"]);kt!==void 0&&(_t="TYPE_BULLET"),zt!==void 0&&(_t="TYPE_NUMERIC"),Z!==void 0&&(_t="TYPE_BULPIC");let Y={};_t!=="TYPE_NONE"&&(Y=W(jt,["a:buFont","attrs"]));let ht="NoNe";if(jt){const Jt=jt["a:buClr"];Jt!==void 0&&(ht=Vt(Jt)||"")}ht==="NoNe"?ct=st:ct="#"+ht;let Yt;if(Yt=W(jt,["a:buSzPts","attrs","val"]),Yt!==void 0)wt=parseInt(Yt)/100+"pt";else if(Yt=W(jt,["a:buSzPct","attrs","val"]),Yt!==void 0){const Jt=parseInt(Yt)/1e5,te=ut.substr(0,ut.length-2);wt=Jt*parseInt(te)+"pt"}else wt=ut;let Wt,Xt;if(_t==="TYPE_BULLET")Y!==void 0?(Wt=parseInt(W(jt,["attrs","marL"]))*96/914400,Xt=parseInt(Y.pitchFamily),isNaN(Wt)&&(Wt=328600*96/914400),isNaN(Xt)&&(Xt=0),tt="<span style='font-family: "+Y.typeface+"; margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;color:"+ct+";font-size:"+wt+";",K&&(tt+=" float: right;  direction:rtl"),tt+="'>"+kt+"</span>"):(Wt=328600*96/914400*Lt,tt="<span style='margin-left: "+Wt+"px;'>"+kt+"</span>");else if(_t==="TYPE_NUMERIC")Y!==void 0?(Wt=parseInt(W(jt,["attrs","marL"]))*96/914400,Xt=parseInt(Y.pitchFamily),isNaN(Wt)&&(Wt=328600*96/914400),isNaN(Xt)&&(Xt=0),tt="<span style='margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;color:"+ct+";font-size:"+wt+";",K?tt+=" float: right; direction:rtl;":tt+=" float: left; direction:ltr;",tt+="' data-bulltname = '"+zt+"' data-bulltlvl = '"+Lt+"' class='numeric-bullet-style'></span>"):(Wt=328600*96/914400*Lt,tt="<span style='margin-left: "+Wt+"px;",K?tt+=" float: right; direction:rtl;":tt+=" float: left; direction:ltr;",tt+="' data-bulltname = '"+zt+"' data-bulltlvl = '"+Lt+"' class='numeric-bullet-style'></span>");else if(_t==="TYPE_BULPIC"){Wt=parseInt(W(jt,["attrs","marL"]))*96/914400,Xt=parseInt(W(jt,["attrs","marR"]))*96/914400,isNaN(Xt)&&(Xt=0),isNaN(Wt)?Wt=328600*96/914400:Wt=0;const Jt=W(Z,["a:blip","attrs","r:embed"]);let te;if(Jt!==void 0){const Tt=$&&$.slideResObj[Jt].target,Rt=$&&await $.zip.file(Tt).async("arraybuffer"),Bt=Tt.split(".").pop();te="<img src='data:"+On(Bt)+";base64,"+da(Rt)+"' style='width: 100%; height: 100%'/>"}Jt===void 0&&(te="&#8227;"),tt="<span style='margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;width:"+wt+";display: inline-block; ",K&&(tt+=" float: right;direction:rtl"),tt+="'>"+te+"  </span>"}else tt="<span style='margin-left: "+328600*96/914400*Lt+"px; margin-right: 0px;'></span>";return tt}function Gt(S,O,L,q,$){const J=$.slideMasterTextStyles;let at=S["a:t"];typeof at!="string"&&!(at instanceof String)&&(at=W(S,["a:fld","a:t"]),typeof at!="string"&&!(at instanceof String)&&(at="&nbsp;"));let st="color:"+ge(S)+";font-size:"+ve(S,O,L,q,J)+";font-family:"+en(S,q)+";font-weight:"+ue(S)+";font-style:"+St(S)+";text-decoration:"+ae(S)+";text-align:"+Qt(S)+";vertical-align:"+me(S)+";";const ut=W(S,["a:rPr","a:highlight"]);ut!==void 0&&(st+="background-color:#"+Vt(ut)+";",st+="Opacity:"+Se(ut)+";");let ct="";st in B?ct=B[st].name:(ct="_css_"+(Object.keys(B).length+1),B[st]={name:ct,text:st});const wt=W(S,["a:rPr","a:hlinkClick","attrs","r:id"]);if(wt!==void 0){const tt=$.slideResObj[wt].target;return"<span class='text-block "+ct+"'><a href='"+tt+"' target='_blank'>"+at.replace(/\s/,"&nbsp;")+"</a></span>"}else return"<span class='text-block "+ct+"'>"+at.replace(/\s/,"&nbsp;")+"</span>"}function Nt(){let S="";for(const O in B)S+="section ."+B[O].name+"{"+B[O].text+`}
`;return S}async function qt(S,O){const L=S.attrs.order,q=W(S,["a:graphic","a:graphicData","a:tbl"]),$=W(S,["p:xfrm"]),J=W(S,["a:graphic","a:graphicData","a:tbl","a:tblPr"]),at=W(S,["a:graphic","a:graphicData","a:tbl","a:tblGrid","a:gridCol"]);let st="";J!==void 0&&(st=J.attrs.rtl===1?"dir=rtl":"dir=ltr");const ut=J.attrs.firstRow,ct=J.attrs.bandRow;let wt="<table "+st+" style='border-collapse: collapse;"+Et($,void 0,void 0)+ee($,void 0,void 0)+" z-index: "+L+";'>";const tt=q["a:tr"];if(tt.constructor===Array)for(let jt=0;jt<tt.length;jt++){const it=tt[jt].attrs.h;let K=0,Lt="";it!==void 0&&(K=parseInt(it)*96/914400,Lt+="height:"+K+"px;");let kt={};const _t=J["a:tableStyleId"];if(_t!==void 0){const Z=N["a:tblStyleLst"]["a:tblStyle"]||[];for(let Y=0;Y<Z.length;Y++)Z[Y].attrs.styleId===_t&&(kt=Z[Y])}if(jt===0&&ut!==void 0){let Z="fff",Y=1;if(kt["a:firstRow"]!==void 0){const ht=W(kt,["a:firstRow","a:tcStyle","a:fill","a:solidFill"]);ht!==void 0&&(Z=Vt(ht),Y=Se(ht));const Yt=W(kt,["a:firstRow","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}W(kt,["a:firstRow","a:tcTxStyle"])}Lt+=" background-color:#"+Z+"; opacity:"+Y+";"}else if(jt>0&&ct!==void 0){let Z="fff",Y=1;if(jt%2===0){if(kt["a:band2H"]!==void 0){const ht=W(kt,["a:band2H","a:tcStyle","a:fill","a:solidFill"]);ht!==void 0&&(Z=Vt(ht),Y=Se(ht));const Yt=W(kt,["a:band2H","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}}}else if(kt["a:band1H"]!==void 0){const ht=W(kt,["a:band1H","a:tcStyle","a:fill","a:solidFill"]);ht!==void 0&&(Z=Vt(ht),Y=Se(ht));const Yt=W(kt,["a:band1H","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}}Lt+=" background-color:#"+Z+"; opacity:"+Y+";"}wt+="<tr style='"+Lt+"'>";const zt=tt[jt]["a:tc"];if(zt.constructor===Array)for(let Z=0;Z<zt.length;Z++){const Y=await lt(zt[Z]["a:txBody"],void 0,void 0,void 0,O),ht=W(zt[Z],["attrs","rowSpan"]),Yt=W(zt[Z],["attrs","gridSpan"]),Wt=W(zt[Z],["attrs","vMerge"]),Xt=W(zt[Z],["attrs","hMerge"]),Jt=at[Z].attrs.w;let te="";if(Jt!==void 0){const oe=parseInt(Jt)*96/914400;te+="width:"+oe+"px;"}const Tt=zt[Z]["a:tcPr"]["a:solidFill"];let Rt="",Bt=1;if(Tt!==void 0)Rt=Vt(Tt),Bt=Se(Tt);else{const oe=J["a:tableStyleId"];if(oe!==void 0){const Pt=N["a:tblStyleLst"]["a:tblStyle"]||[];for(let ye=0;ye<Pt.length;ye++)Pt[ye].attrs.styleId}}Rt!==""&&(te+=" background-color:#"+Rt+";",te+=" opacity"+Bt+";"),ht!==void 0?wt+="<td rowspan='"+parseInt(ht)+"' style='"+te+"'>"+Y+"</td>":Yt!==void 0?wt+="<td colspan='"+parseInt(Yt)+"' style='"+te+"'>"+Y+"</td>":Wt===void 0&&Xt===void 0&&(wt+="<td style='"+te+"'>"+Y+"</td>")}else{const Z=await lt(zt["a:txBody"]),Y=at[0].attrs.w;let ht="";if(Y!==void 0){const Jt=parseInt(Y)*96/914400;ht+="width:"+Jt+"px;"}const Yt=zt["a:tcPr"]["a:solidFill"];let Wt="",Xt=1;Yt!==void 0&&(Wt=Vt(Yt),Xt=Se(Yt)),Wt!==""&&(ht+=" background-color:#"+Wt+";",ht+=" opacity"+Xt+";"),wt+="<td style='"+ht+"'>"+Z+"</td>"}wt+="</tr>"}else{const jt=tt.attrs.h;let it=0;jt!==void 0?(it=parseInt(jt)*96/914400,wt+="<tr style='height:"+it+"px;'>"):wt+="<tr>";const K=tt["a:tc"];if(K.constructor===Array)for(let Lt=0;Lt<K.length;Lt++){const kt=await lt(K[Lt]["a:txBody"]),_t=at[Lt].attrs.w;let zt="";if(_t!==void 0){const Yt=parseInt(_t)*96/914400;zt+="width:"+Yt+"px;"}const Z=K[Lt]["a:tcPr"]["a:solidFill"];let Y="",ht=1;Z!==void 0&&(Y=Vt(Z),ht=Se(Z)),Y!==""&&(zt+=" background-color:#"+Y+";",zt+=" opacity"+ht+";"),wt+="<td style='"+zt+"'>"+kt+"</td>"}else{const Lt=await lt(K["a:txBody"]),kt=at[0].attrs.w;let _t="";if(kt!==void 0){const ht=parseInt(kt)*96/914400;_t+="width:"+ht+"px;"}const zt=K["a:tcPr"]["a:solidFill"];let Z="",Y=1;zt!==void 0&&(Z=Vt(zt),Y=Se(zt)),Z!==""&&(_t+=" background-color:#"+Z+";",_t+=" opacity"+Y+";"),wt+="<td style='"+_t+"'>"+Lt+"</td>"}wt+="</tr>"}return wt}async function ce(S,O){const L=S.attrs.order,q=W(S,["p:xfrm"]),$="<div id='chart"+w+"' class='block content' style='"+Et(q,void 0,void 0)+ee(q,void 0,void 0)+" z-index: "+L+";'></div>",J=S["a:graphic"]["a:graphicData"]["c:chart"].attrs["r:id"],at=O.slideResObj[J].target,st=await R(O.zip,at),ut=W(st,["c:chartSpace","c:chart","c:plotArea"]);let ct=null;for(const wt in ut)switch(wt){case"c:lineChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"lineChart",chartData:nn(ut[wt]["c:ser"])}};break;case"c:barChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"barChart",chartData:nn(ut[wt]["c:ser"])}};break;case"c:pieChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"pieChart",chartData:nn(ut[wt]["c:ser"])}};break;case"c:pie3DChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"pie3DChart",chartData:nn(ut[wt]["c:ser"])}};break;case"c:areaChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"areaChart",chartData:nn(ut[wt]["c:ser"])}};break;case"c:scatterChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"scatterChart",chartData:nn(ut[wt]["c:ser"])}};break}return ct!=null&&h.push(ct),w++,$}function Kt(S){const O=W(S,["p:xfrm"]);return"<div class='block content' style='border: 1px dotted;"+Et(O,void 0,void 0)+ee(O,void 0,void 0)+"'>TODO: diagram</div>"}function Et(S,O,L){let q,$=-1,J=-1;return S!==void 0?q=S["a:off"].attrs:O!==void 0?q=O["a:off"].attrs:L!==void 0&&(q=L["a:off"].attrs),q===void 0?"":($=parseInt(q.x)*96/914400,J=parseInt(q.y)*96/914400,isNaN($)||isNaN(J)?"":"top:"+J+"px; left:"+$+"px;")}function ee(S,O,L){let q,$=-1,J=-1;return S!==void 0?q=S["a:ext"].attrs:O!==void 0?q=O["a:ext"].attrs:L!==void 0&&(q=L["a:ext"].attrs),q===void 0?"":($=parseInt(q.cx)*96/914400,J=parseInt(q.cy)*96/914400,isNaN($)||isNaN(J)?"":"width:"+$+"px; height:"+J+"px;")}function le(S,O,L,q,$){let J=W(S,["a:pPr","attrs","algn"]);if(J===void 0&&(J=W(O,["p:txBody","a:p","a:pPr","attrs","algn"]),J===void 0&&(J=W(L,["p:txBody","a:p","a:pPr","attrs","algn"]),J===void 0)))switch(q){case"title":case"subTitle":case"ctrTitle":{J=W($,["p:titleStyle","a:lvl1pPr","attrs","alng"]);break}default:J=W($,["p:otherStyle","a:lvl1pPr","attrs","alng"])}if(J===void 0){if(q==="title"||q==="subTitle"||q==="ctrTitle")return"h-mid";if(q==="sldNum")return"h-right"}return J==="ctr"?"h-mid":J==="r"?"h-right":"h-left"}function ie(S,O,L){let q=W(S,["p:txBody","a:bodyPr","attrs","anchor"]);return q===void 0&&(q=W(O,["p:txBody","a:bodyPr","attrs","anchor"]),q===void 0&&(q=W(L,["p:txBody","a:bodyPr","attrs","anchor"]))),q==="ctr"?"v-mid":q==="b"?"v-down":"v-up"}function en(S,O){let L=W(S,["a:rPr","a:latin","attrs","typeface"]);if(L===void 0){const q=W(x,["a:theme","a:themeElements","a:fontScheme"]);O==="title"||O==="subTitle"||O==="ctrTitle"?L=W(q,["a:majorFont","a:latin","attrs","typeface"]):O==="body"?L=W(q,["a:minorFont","a:latin","attrs","typeface"]):L=W(q,["a:minorFont","a:latin","attrs","typeface"])}return L===void 0?"inherit":L}function ge(S){const O=Rn(S,"a:rPr a:solidFill"),L=Vt(O);return L===void 0||L==="FFF"?"#000":"#"+L}function ve(S,O,L,q,$){let J=16,at="";return S["a:rPr"]!==void 0&&(J=parseInt(S["a:rPr"].attrs.sz)/100),(isNaN(J)||J===void 0)&&(at=W(O,["p:txBody","a:lstStyle","a:lvl1pPr","a:defRPr","attrs","sz"]),J=parseInt(at)/100),(isNaN(J)||J===void 0)&&(q==="title"||q==="subTitle"||q==="ctrTitle"?at=W($,["p:titleStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):q==="body"?at=W($,["p:bodyStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):q==="dt"||q==="sldNum"?at="1200":q===void 0&&(at=W($,["p:otherStyle","a:lvl1pPr","a:defRPr","attrs","sz"])),J=parseInt(at)/100),W(S,["a:rPr","attrs","baseline"])!==void 0&&!isNaN(J)&&(J-=10),isNaN(J)?"inherit":J+"pt"}function ue(S){return S["a:rPr"]!==void 0&&S["a:rPr"].attrs.b==="1"?"bold":"initial"}function St(S){return S["a:rPr"]!==void 0&&S["a:rPr"].attrs.i==="1"?"italic":"normal"}function ae(S){if(S["a:rPr"]!==void 0){const O=S["a:rPr"].attrs.u!==void 0?S["a:rPr"].attrs.u:"none",L=S["a:rPr"].attrs.strike!==void 0?S["a:rPr"].attrs.strike:"noStrike";return O!=="none"&&L==="noStrike"?"underline":O==="none"&&L!=="noStrike"?"line-through":O!=="none"&&L!=="noStrike"?"underline line-through":"initial"}else return"initial"}function Qt(S){const O=W(S,["a:pPr","attrs","algn"]);let L="initial";if(O!==void 0)switch(O){case"l":{L="left";break}case"r":{L="right";break}case"ctr":{L="center";break}case"just":{L="justify";break}case"dist":{L="justify";break}default:L="initial"}return L}function me(S){const O=W(S,["a:rPr","attrs","baseline"]);return O===void 0?"baseline":parseInt(O)/1e3+"%"}function Ce(S){let O="",L,q;return S["a:bottom"]!==void 0&&(L={"p:spPr":{"a:ln":S["a:bottom"]["a:ln"]}},q=be(L,!1),O+=q.replace("border","border-bottom")),S["a:top"]!==void 0&&(L={"p:spPr":{"a:ln":S["a:top"]["a:ln"]}},q=be(L,!1),O+=q.replace("border","border-top")),S["a:right"]!==void 0&&(L={"p:spPr":{"a:ln":S["a:right"]["a:ln"]}},q=be(L,!1),O+=q.replace("border","border-right")),S["a:left"]!==void 0&&(L={"p:spPr":{"a:ln":S["a:left"]["a:ln"]}},q=be(L,!1),O+=q.replace("border","border-left")),O}function be(S,O){let L="border: ";const q=S["p:spPr"]["a:ln"],$=parseInt(W(q,["attrs","w"]))/12700;isNaN($)||$<1?L+="1pt ":L+=$+"pt ";const J=W(q,["a:prstDash","attrs","val"]);let at="0";switch(J){case"solid":{L+="solid",at="0";break}case"dash":{L+="dashed",at="5";break}case"dashDot":{L+="dashed",at="5, 5, 1, 5";break}case"dot":{L+="dotted",at="1, 5";break}case"lgDash":{L+="dashed",at="10, 5";break}case"lgDashDotDot":{L+="dashed",at="10, 5, 1, 5, 1, 5";break}case"sysDash":{L+="dashed",at="5, 2";break}case"sysDashDot":{L+="dashed",at="5, 2, 1, 5";break}case"sysDashDotDot":{L+="dashed",at="5, 2, 1, 5, 1, 5";break}case"sysDot":{L+="dotted",at="2, 5";break}default:L+="solid",at="0"}let st=W(q,["a:solidFill","a:srgbClr","attrs","val"]);if(st===void 0){const ut=W(q,["a:solidFill","a:schemeClr"]);if(ut!==void 0){const ct="a:"+W(ut,["attrs","val"]);st=Ae(ct,void 0)}}if(st===void 0){const ut=W(S,["p:style","a:lnRef","a:schemeClr"]);if(ut!==void 0){const ct="a:"+W(ut,["attrs","val"]);st=Ae(ct,void 0)}if(st!==void 0){let ct=W(ut,["a:shade","attrs","val"]);if(ct!==void 0){ct=(parseInt(ct)/1e5).toString();const wt=new ga("#"+st);wt.setLum(Number(wt.hsl.l)*Number(ct)),st=wt.hex.replace("#","")}}}return st===void 0?O?st="none":st="#000":st="#"+st,L+=" "+st+" ",O?{color:st,width:$,type:J,strokeDasharray:at}:L+";"}async function _e(S,O,L,q){let $=W(S,["p:sld","p:cSld","p:bg","p:bgPr"]),J=W(S,["p:sld","p:cSld","p:bg","p:bgRef"]),at;if($!==void 0){const st=re($);if(st==="SOLID_FILL"){const ut=$["a:solidFill"],ct=Vt(ut),wt=Se(ut);at="background: rgba("+bt(ct)+","+wt+");"}else if(st==="GRADIENT_FILL"){const ut=$["a:gradFill"],ct=ut["a:gsLst"]["a:gs"],wt=[],tt=[];for(let K=0;K<ct.length;K++){let Lt="",kt;if(ct[K]["a:srgbClr"]!==void 0)kt=W(ct[K],["a:srgbClr","attrs","val"]),Lt=W(ct[K],["a:srgbClr","a:tint","attrs","val"]);else if(ct[K]["a:schemeClr"]!==void 0){const _t=W(ct[K],["a:schemeClr","attrs","val"]);kt=Ae("a:"+_t,L),Lt=W(ct[K],["a:schemeClr","a:tint","attrs","val"])}wt[K]=kt,tt[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ut["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<ct.length;K++)K===ct.length-1?at+="rgba("+bt(wt[K])+","+tt[K]+"));":at+="rgba("+bt(wt[K])+","+tt[K]+"), "}else if(st==="PIC_FILL"){const ut=await Ot("slideBg",$["a:blipFill"],q),ct=$.attrs.order;at="background-image: url("+ut+");  z-index: "+ct+";"}}else if(J!==void 0){let st="";if(J["a:srgbClr"]!==void 0)st=W(J,["a:srgbClr","attrs","val"]);else if(J["a:schemeClr"]!==void 0){const ct=W(J,["a:schemeClr","attrs","val"]);st=Ae("a:"+ct,L)}const ut=Number(J.attrs.idx);if(!(ut===0||ut===1e3)){if(!(ut>0&&ut<1e3)){if(ut>1e3){const ct=ut-1e3,wt=x["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],tt=[];Object.keys(wt).forEach(function(Lt){const kt=wt[Lt];if(Lt!=="attrs")if(kt.constructor===Array)for(let _t=0;_t<kt.length;_t++){const zt={};zt[Lt]=kt[_t],zt.idex=kt[_t].attrs.order,tt.push(zt)}else{const _t={};_t[Lt]=kt,_t.idex=kt.attrs.order,tt.push(_t)}});const jt=tt.slice(0);jt.sort(function(Lt,kt){return Lt.idex-kt.idex});const it=jt[ct-1],K=re(it);if(K==="SOLID_FILL"){const Lt=it["a:solidFill"],kt=Se(Lt);at="background: rgba("+bt(st)+","+kt+");"}else if(K==="GRADIENT_FILL"){const Lt=it["a:gradFill"],kt=Lt["a:gsLst"]["a:gs"],_t=[];for(let Y=0;Y<kt.length;Y++){const ht=W(kt[Y],["a:schemeClr","a:tint","attrs","val"]);_t[Y]=ht!==void 0?parseInt(ht)/1e5:1}const zt=Lt["a:lin"];let Z=90;zt!==void 0&&(Z=He(zt.attrs.ang)+90),at="background: linear-gradient("+Z+"deg,";for(let Y=0;Y<kt.length;Y++)Y===kt.length-1?at+="rgba("+bt(st)+","+_t[Y]+"));":at+="rgba("+bt(st)+","+_t[Y]+"), "}}}}}else if($=W(O,["p:sldLayout","p:cSld","p:bg","p:bgPr"]),J=W(O,["p:sldLayout","p:cSld","p:bg","p:bgRef"]),$!==void 0){const st=re($);if(st==="SOLID_FILL"){const ut=$["a:solidFill"],ct=Vt(ut),wt=Se(ut);at="background: rgba("+bt(ct)+","+wt+");"}else if(st==="GRADIENT_FILL"){const ut=$["a:gradFill"],ct=ut["a:gsLst"]["a:gs"],wt=[],tt=[];for(let K=0;K<ct.length;K++){let Lt="",kt;if(ct[K]["a:srgbClr"]!==void 0)kt=W(ct[K],["a:srgbClr","attrs","val"]),Lt=W(ct[K],["a:srgbClr","a:tint","attrs","val"]);else if(ct[K]["a:schemeClr"]!==void 0){const _t=W(ct[K],["a:schemeClr","attrs","val"]);kt=Ae("a:"+_t,L),Lt=W(ct[K],["a:schemeClr","a:tint","attrs","val"])}wt[K]=kt,tt[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ut["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<ct.length;K++)K===ct.length-1?at+="rgba("+bt(wt[K])+","+tt[K]+"));":at+="rgba("+bt(wt[K])+","+tt[K]+"), "}else if(st==="PIC_FILL"){const ut=await Ot("layoutBg",$["a:blipFill"],q),ct=$.attrs.order;at="background-image: url("+ut+");  z-index: "+ct+";"}}else if(J!==void 0)at="background: red;";else if($=W(L,["p:sldMaster","p:cSld","p:bg","p:bgPr"]),J=W(L,["p:sldMaster","p:cSld","p:bg","p:bgRef"]),$!==void 0){const st=re($);if(st==="SOLID_FILL"){const ut=$["a:solidFill"],ct=Vt(ut),wt=Se(ut);at="background: rgba("+bt(ct)+","+wt+");"}else if(st==="GRADIENT_FILL"){const ut=$["a:gradFill"],ct=ut["a:gsLst"]["a:gs"],wt=[],tt=[];for(let K=0;K<ct.length;K++){let Lt="",kt;if(ct[K]["a:srgbClr"]!==void 0)kt=W(ct[K],["a:srgbClr","attrs","val"]),Lt=W(ct[K],["a:srgbClr","a:tint","attrs","val"]);else if(ct[K]["a:schemeClr"]!==void 0){const _t=W(ct[K],["a:schemeClr","attrs","val"]);kt=Ae("a:"+_t,L),Lt=W(ct[K],["a:schemeClr","a:tint","attrs","val"])}wt[K]=kt,tt[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ut["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<ct.length;K++)K===ct.length-1?at+="rgba("+bt(wt[K])+","+tt[K]+"));":at+="rgba("+bt(wt[K])+","+tt[K]+"), "}else if(st==="PIC_FILL"){const ut=await Ot("masterBg",$["a:blipFill"],q),ct=$.attrs.order;at="background-image: url("+ut+");  z-index: "+ct+";"}}else if(J!==void 0){let st="";if(J["a:srgbClr"]!==void 0)st=W(J,["a:srgbClr","attrs","val"]);else if(J["a:schemeClr"]!==void 0){const ct=W(J,["a:schemeClr","attrs","val"]);st=Ae("a:"+ct,L)}const ut=Number(J.attrs.idx);if(!(ut===0||ut===1e3)){if(!(ut>0&&ut<1e3)){if(ut>1e3){const ct=ut-1e3,wt=x["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],tt=[];Object.keys(wt).forEach(function(Lt){const kt=wt[Lt];if(Lt!=="attrs")if(kt.constructor===Array)for(let _t=0;_t<kt.length;_t++){const zt={};zt[Lt]=kt[_t],zt.idex=kt[_t].attrs.order,tt.push(zt)}else{const _t={};_t[Lt]=kt,_t.idex=kt.attrs.order,tt.push(_t)}});const jt=tt.slice(0);jt.sort(function(Lt,kt){return Lt.idex-kt.idex});const it=jt[ct-1],K=re(it);if(K==="SOLID_FILL"){const Lt=it["a:solidFill"],kt=Se(Lt);at="background: rgba("+bt(st)+","+kt+");"}else if(K==="GRADIENT_FILL"){const Lt=it["a:gradFill"],kt=Lt["a:gsLst"]["a:gs"],_t=[];for(let Y=0;Y<kt.length;Y++){const ht=W(kt[Y],["a:schemeClr","a:tint","attrs","val"]);_t[Y]=ht!==void 0?parseInt(ht)/1e5:1}const zt=Lt["a:lin"];let Z=90;zt!==void 0&&(Z=He(zt.attrs.ang)+90),at="background: linear-gradient("+Z+"deg,";for(let Y=0;Y<kt.length;Y++)Y===kt.length-1?at+="rgba("+bt(st)+","+_t[Y]+"));":at+="rgba("+bt(st)+","+_t[Y]+"), "}}}}}return at}function bt(S="FFFFFF"){const O=new ArrayBuffer(4);new DataView(O).setUint32(0,parseInt(S,16),!1);const q=new Uint8Array(O);return q[1]+","+q[2]+","+q[3]}async function Ut(S,O,L){const q=re(W(S,["p:spPr"]));let $;if(q==="NO_FILL")return O?"none":"background-color: initial;";if(q==="SOLID_FILL"){const J=S["p:spPr"]["a:solidFill"];$=Vt(J)}else if(q==="GRADIENT_FILL"){const J=S["p:spPr"]["a:gradFill"];$=ne(J)}else if(q==="PATTERN_FILL"){const J=S["p:spPr"]["a:pattFill"];$=fe(J)}else if(q==="PIC_FILL"){const J=S["p:spPr"]["a:blipFill"];$=await Ot("slideBg",J,L)}if($===void 0){const J=W(S,["p:style","a:fillRef"]);$=Vt(J)}if($!==void 0)if(q==="GRADIENT_FILL"){if(O)return $;{const J=$.color;let st="background: linear-gradient("+$.rot+"deg,";for(let ut=0;ut<J.length;ut++)ut===J.length-1?st+=J[ut]+");":st+=J[ut]+", ";return st}}else return q==="PIC_FILL"?O?$:"background-image:url("+$+");":O?($=new ga($).rgb.toString(),$):"background-color: #"+$+";";else return O?"none":"background-color: initial;"}function re(S){let O="";return S["a:noFill"]!==void 0&&(O="NO_FILL"),S["a:solidFill"]!==void 0&&(O="SOLID_FILL"),S["a:gradFill"]!==void 0&&(O="GRADIENT_FILL"),S["a:pattFill"]!==void 0&&(O="PATTERN_FILL"),S["a:blipFill"]!==void 0&&(O="PIC_FILL"),O}function ne(S){const O=S["a:gsLst"]["a:gs"],L=[];for(let J=0;J<O.length;J++){let at=Vt(O[J]);if(O[J]["a:srgbClr"]!==void 0){let st=parseInt(W(S,["a:srgbClr","a:lumMod","attrs","val"]))/1e5,ut=parseInt(W(S,["a:srgbClr","a:lumOff","attrs","val"]))/1e5;isNaN(st)&&(st=1),isNaN(ut)&&(ut=0),at=mr(at,st,ut)}else if(O[J]["a:schemeClr"]!==void 0){let st=parseInt(W(O[J],["a:schemeClr","a:lumMod","attrs","val"]))/1e5,ut=parseInt(W(O[J],["a:schemeClr","a:lumOff","attrs","val"]))/1e5;isNaN(st)&&(st=1),isNaN(ut)&&(ut=0),at=mr(at,st,ut)}L[J]=at}const q=S["a:lin"];let $=0;return q!==void 0&&($=He(q.attrs.ang)+90),{color:L,rot:$}}async function Ot(S,O,L){const q=O["a:blip"].attrs["r:embed"];let $;if(S==="slideBg"?$=W(L,["slideResObj",q,"target"]):S==="layoutBg"?$=W(L,["layoutResObj",q,"target"]):S==="masterBg"&&($=W(L,["masterResObj",q,"target"])),$===void 0)return;const J=$.split(".").pop();if(J==="xml")return;const at=await L.zip.file($).async("arraybuffer");return"data:"+On(J)+";base64,"+da(at)}function fe(S){const O=S["a:bgClr"];return Vt(O)}function Vt(S){if(S===void 0)return;let O="FFF";if(S["a:srgbClr"]!==void 0)O=W(S,["a:srgbClr","attrs","val"]);else if(S["a:schemeClr"]!==void 0){const L=W(S,["a:schemeClr","attrs","val"]);O=Ae("a:"+L,void 0)}else if(S["a:scrgbClr"]!==void 0){const L=S["a:scrgbClr"].attrs,q=L.r.indexOf("%")!==-1?L.r.split("%").shift():L.r,$=L.g.indexOf("%")!==-1?L.g.split("%").shift():L.g,J=L.b.indexOf("%")!==-1?L.b.split("%").shift():L.b;O=Pe(255*(Number(q)/100))+Pe(255*(Number($)/100))+Pe(255*(Number(J)/100))}else if(S["a:prstClr"]!==void 0){const L=S["a:prstClr"].attrs.val;O=Cn(L)}else if(S["a:hslClr"]!==void 0){const L=S["a:hslClr"].attrs,q=Number(L.hue)/1e5,$=Number(L.sat.indexOf("%")!==-1?L.sat.split("%").shift():L.sat)/100,J=Number(L.lum.indexOf("%")!==-1?L.lum.split("%").shift():L.lum)/100,at=mn(q,$,J);O=Pe(at.r)+Pe(at.g)+Pe(at.b)}else if(S["a:sysClr"]!==void 0){const L=W(S,["a:sysClr","attrs","lastClr"]);L!==void 0&&(O=L)}return O}function Pe(S){let O=S.toString(16);for(;O.length<2;)O="0"+O;return O}function mn(S,O,L){let q;S=S/60,L<=.5?q=L*(O+1):q=L+O-L*O;const $=L*2-q,J=un($,q,S+2)*255,at=un($,q,S)*255,st=un($,q,S-2)*255;return{r:J,g:at,b:st}}function un(S,O,L){return L<0&&(L+=6),L>=6&&(L-=6),L<1?(O-S)*L+S:L<3?O:L<4?(O-S)*(4-L)+S:S}function Cn(S){let O;const L=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],q=["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"],$=L.indexOf(S);return $!==-1&&(O=q[$]),O}function Se(S){if(S===void 0)return;let O=1;if(S["a:srgbClr"]!==void 0){const L=W(S,["a:srgbClr","a:tint","attrs","val"]);L!==void 0&&(O=parseInt(L)/1e5)}else if(S["a:schemeClr"]!==void 0){const L=W(S,["a:schemeClr","a:tint","attrs","val"]);L!==void 0&&(O=parseInt(L)/1e5)}else if(S["a:scrgbClr"]!==void 0){const L=W(S,["a:scrgbClr","a:tint","attrs","val"]);L!==void 0&&(O=parseInt(L)/1e5)}else if(S["a:prstClr"]!==void 0){const L=W(S,["a:prstClr","a:tint","attrs","val"]);L!==void 0&&(O=parseInt(L)/1e5)}else if(S["a:hslClr"]!==void 0){const L=W(S,["a:hslClr","a:tint","attrs","val"]);L!==void 0&&(O=parseInt(L)/1e5)}else if(S["a:sysClr"]!==void 0){const L=W(S,["a:sysClr","a:tint","attrs","val"]);L!==void 0&&(O=parseInt(L)/1e5)}return O}function Ae(S,O){(z===""||z===void 0)&&(z=W(O,["p:sldMaster","p:clrMap","attrs"])||{});const L=S.substr(2);switch(L){case"tx1":case"tx2":case"bg1":case"bg2":{S="a:"+z[L.toString()];break}}const q=W(x,["a:theme","a:themeElements","a:clrScheme",S]);let $=W(q,["a:srgbClr","attrs","val"]);return $===void 0&&($=W(q,["a:sysClr","attrs","lastClr"])),$}function nn(S){const O=[];if(S===void 0)return O;if(S["c:xVal"]!==void 0){let L=[];cn(S["c:xVal"]["c:numRef"]["c:numCache"]["c:pt"],function(q){return L.push(parseFloat(q["c:v"])),""}),O.push(L),L=[],cn(S["c:yVal"]["c:numRef"]["c:numCache"]["c:pt"],function(q){return L.push(parseFloat(q["c:v"])),""}),O.push(L)}else cn(S,function(L,q){const $=[],J=W(L,["c:tx","c:strRef","c:strCache","c:pt","c:v"])||q,at={};return W(L,["c:cat","c:strRef","c:strCache","c:pt"])!==void 0?cn(L["c:cat"]["c:strRef"]["c:strCache"]["c:pt"],function(st){return at[st.attrs.idx]=st["c:v"],""}):W(L,["c:cat","c:numRef","c:numCache","c:pt"])!==void 0&&cn(L["c:cat"]["c:numRef"]["c:numCache"]["c:pt"],function(st){return at[st.attrs.idx]=st["c:v"],""}),W(L,["c:val","c:numRef","c:numCache","c:pt"])!==void 0&&cn(L["c:val"]["c:numRef"]["c:numCache"]["c:pt"],function(st){return $.push({x:st.attrs.idx,y:parseFloat(st["c:v"])}),""}),O.push({key:J,values:$,xlabels:at}),""});return O}function Rn(S,O){return W(S,O.trim().split(/\s+/))}function W(S,O){if(O.constructor!==Array)throw Error("Error of path type! path is not array.");if(S===void 0)return;const L=O.length;for(let q=0;q<L;q++)if(S=S[O[q]],S===void 0)return;return S}function cn(S,O){if(S===void 0)return;let L="";if(S.constructor===Array){const q=S.length;for(let $=0;$<q;$++)L+=O(S[$],$)}else L+=O(S,0);return L}function mr(S="#FFFFFF",O,L){const q=new ga(S);return q.setLum(q.hsl.l*(1+L)),q.rgb.toString()}function He(S){return S===""||S==null?0:Math.round(Number(S)/6e4)}function On(S){let O="";switch(S.toLowerCase()){case"jpg":case"jpeg":{O="image/jpeg";break}case"png":{O="image/png";break}case"gif":{O="image/gif";break}case"emf":{O="image/x-emf";break}case"wmf":{O="image/x-wmf";break}case"svg":{O="image/svg+xml";break}default:O="image/*"}return O}function gi(S,O,L,q,$){const J=Ze(q.length-2),at=_r(L,O,S),st=at[0],ut=at[1],ct=at[2],wt=at[3],tt=J.length,jt=tt<20?100:1e3,it=' gradientUnits="userSpaceOnUse" x1="'+st+'%" y1="'+ut+'%" x2="'+ct+'%" y2="'+wt+'%"';let K='<linearGradient id="linGrd_'+$+'"'+it+`>
`;for(let Lt=0;Lt<tt;Lt++)K+='<stop offset="'+Math.round(parseFloat(J[Lt])/100*jt)/jt+'" stop-color="'+q[Lt]+'"',K+=`/>
`;return K+=`</linearGradient>
`,K}function Ze(S){const O=["0%","100%"];if(S===0)return!0;{let L=S;for(;L--;){const $=100-100/(S+1)*(L+1)+"%";O.splice(-1,0,$)}}return O}function _r(S,O,L){const q=parseFloat(L),$=parseFloat(O),J=parseFloat(S);let at=2,st=2;const ut=q/2,ct=$/2;let wt=2,tt=2,jt=2,it=2;const K=(J%360+360)%360,Lt=(360-K)*Math.PI/180,kt=Math.tan(Lt),_t=ct-kt*ut;K===0?(wt=q,tt=ct,jt=0,it=ct):K<90?(st=q,at=0):K===90?(wt=ut,tt=0,jt=ut,it=$):K<180?(st=0,at=0):K===180?(wt=0,tt=ct,jt=q,it=ct):K<270?(st=0,at=$):K===270?(wt=ut,tt=$,jt=ut,it=0):(st=q,at=$);const zt=at+st/kt;wt=wt===2?kt*(zt-_t)/(Math.pow(kt,2)+1):wt,tt=tt===2?kt*wt+_t:tt,jt=jt===2?q-wt:jt,it=it===2?$-tt:it;const Z=Math.round(jt/q*100*100)/100,Y=Math.round(it/$*100*100)/100,ht=Math.round(wt/q*100*100)/100,Yt=Math.round(tt/$*100*100)/100;return[Z,Y,ht,Yt]}function Ke(S,O){let L='<pattern id="imgPtrn_'+O+'"  patternContentUnits="objectBoundingBox"  width="1" height="1">';return L+='<image  xlink:href="'+S+'" preserveAspectRatio="none" width="1" height="1"></image>',L+="</pattern>",L}}const T={version:"2.2.0",plot:{},aggregateMethod:{}};T.axis=function(p,o,h,w,x,z){this.chart=p,this.position=o,this.categoryFields=x==null?h:[].concat(x),this.measure=w,this.timeField=x,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=z??!0,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var B,N,D=[],R=!1;if(this.chart&&this.chart.series){for(B=0;B<this.chart.series.length;B+=1)N=this.chart.series[B],N[this.position]===this&&(N.data&&N.data.length>0?D=D.concat(N.data):R=!0);R&&this.chart.data&&(D=D.concat(this.chart.data))}return D},this._getFontSize=function(){var B;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?B=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?B=this.fontSize:B=this.fontSize+"px",B},this._getFormat=function(){var B,N,D,R,M,I,k;return this.tickFormat!==null&&this.tickFormat!==void 0?this._hasTimeField()?B=pt.timeFormat(this.tickFormat):B=pt.format(this.tickFormat):this.showPercent?B=pt.format(".0%"):this.useLog&&this.measure!==null?B=function(E){var C=Math.floor(Math.abs(E),0).toString().length,V=Math.min(Math.floor((C-1)/3),4),j="kmBT".substring(V-1,V),et=Math.round(E/Math.pow(1e3,V)*10).toString().slice(-1)==="0"?0:1;return E===0?0:pt.format(",."+et+"f")(E/Math.pow(1e3,V))+j}:this.measure!==null?(N=Math.floor(Math.abs(this._max),0).toString(),D=Math.floor(Math.abs(this._min),0).toString(),R=Math.max(D.length,N.length),R>3?(M=Math.min(Math.floor((R-1)/3),4),I="kmBT".substring(M-1,M),k=R-M*3<=1?1:0,B=function(E){return E===0?0:pt.format(",."+k+"f")(E/Math.pow(1e3,M))+I}):(k=Math.max(-(this._tick_step?Math.floor(Math.log(this._tick_step)/Math.LN10):0),0),B=pt.format(",."+k+"f"))):B=function(E){return E},B},this._getTimePeriod=function(){var B=this.timePeriod,N=30,D=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(D/1e3<=N?B=pt.timeSecond:D/6e4<=N?B=pt.timeMinute:D/36e5<=N?B=pt.timeHour:D/864e5<=N?B=pt.timeHay:D/6048e5<=N?B=pt.timeWeek:D/26298e5<=N?B=pt.timeMonth:B=pt.timeYear),B},this._getTooltipText=function(B,N){if(this._hasTimeField())N[this.position+"Field"][0]&&B.push(this.timeField+": "+this._getFormat()(N[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(D,R){D!=null&&N[this.position+"Field"][R]&&B.push(D+(N[this.position+"Field"][R]!==D?": "+N[this.position+"Field"][R]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":B.push(this.measure+": "+this._getFormat()(N.width));break;case"y":B.push(this.measure+": "+this._getFormat()(N.height));break;case"p":B.push(this.measure+": "+this._getFormat()(N.angle)+" ("+pt.format(".0%")(N.piePct)+")");break;default:B.push(this.measure+": "+this._getFormat()(N[this.position+"Value"]));break}},this._getTopMaster=function(){var B=this;return this.master!==null&&this.master!==void 0&&(B=this.master._getTopMaster()),B},this._hasCategories=function(){return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0},this._hasMeasure=function(){return this.measure!==null&&this.measure!==void 0},this._hasTimeField=function(){return this.timeField!==null&&this.timeField!==void 0},this._parseDate=function(B){var N;return this.dateParseFormat===null||this.dateParseFormat===void 0?isNaN(B)?N=Date.parse(B):N=new Date(B):N=pt.timeParse(this.dateParseFormat)(B),N},this._update=function(B){var N=[],D,R,M,I,k=this.ticks||10,E=function(C,V,j){var et=C.categoryFields[0],rt=C._getAxisData(),vt=et,Ft=!1,dt=!0,lt=null,Mt,Gt;for(Mt=0;Mt<rt.length;Mt+=1)if(lt=C._parseDate(rt[Mt][et]),lt!=null&&isNaN(lt)){dt=!1;break}return dt||C.chart.series.forEach(function(Nt){Nt[V]===C&&Nt[j]._hasMeasure()&&(vt=Nt[j].measure,Ft=!0)},this),Gt=C._orderRules.concat({ordering:vt,desc:Ft}),T._getOrderedList(rt,et,Gt)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=this.overrideMin!==null?this.overrideMin:this._min,this._max=this.overrideMax!==null?this.overrideMax:this._max,this.position==="x"&&(this._scale===null||B)){if(this._hasTimeField()?this._scale=pt.scaleTime().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=pt.scaleLog().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(N=E(this,"x","y"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(C){N=N.concat(E(C,"x","y"))},this),this._scale=pt.scalePoint().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(N.concat([""]))):this._scale=pt.scaleLinear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=pt.axisBottom().scale(this._scale),this.ticks&&this._draw.ticks(k);break;case 1:this._draw=pt.axisTop().scale(this._scale),this.ticks&&this._draw.ticks(k);break}}else if(this.position==="y"&&(this._scale===null||B)){if(this._hasTimeField()?this._scale=pt.scaleTime().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=pt.scaleLog().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(N=E(this,"y","x"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(C){N=N.concat(E(C,"y","x"))},this),this._scale=pt.scalePoint().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(N.concat([""]))):this._scale=pt.scaleLinear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=pt.axisLeft().scale(this._scale),this.ticks&&this._draw.ticks(k);break;case 1:this._draw=pt.axisRight().scale(this._scale),this.ticks&&this._draw.ticks(k);break}}else this.position.length>0&&this.position[0]==="z"&&this._scale===null?this.useLog?this._scale=pt.scaleLog().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=pt.scaleLinear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="p"&&this._scale===null?this.useLog?this._scale=pt.scaleLog().range([0,360]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=pt.scaleLinear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="c"&&this._scale===null&&(this._scale=pt.scaleLinear().range([0,this.colors===null||this.colors.length===1?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));return this._slaves!==null&&this._slaves!==void 0&&this._slaves.length>0&&this._slaves.forEach(function(C){C._scale=this._scale},this),(B==null||B===!1)&&!this._hasTimeField()&&this._scale!==null&&this._scale.ticks!==null&&this._scale.ticks!==void 0&&this._scale.ticks(k).length>0&&(this.position==="x"||this.position==="y")&&(D=this._scale.ticks(k),R=D[1]-D[0],M=((this._max-this._min)%R).toFixed(0),this._tick_step=R,M!==0&&(this._max=Math.ceil(this._max/R)*R,this._min=Math.floor(this._min/R)*R,this._update(!0))),N!=null&&N.length>0?I=this._scale.copy()(N[0]):this._min>0?I=this._scale.copy()(this._min):this._max<0?I=this._scale.copy()(this._max):I=this._scale.copy()(0),this._origin!==I&&(this._previousOrigin=this._origin===null?I:this._origin,this._origin=I),this},this.addGroupOrderRule=function(B,N){this._groupOrderRules.push({ordering:B,desc:N})},this.addOrderRule=function(B,N){this._orderRules.push({ordering:B,desc:N})}};T.chart=function(p,o){this.svg=p,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=o,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease=pt.easeCubicInOut,this.staggerDraw=!1,this.transition={},this._group=p.append("g"),this._group.attr("class","dimple-chart"),this._gridlines_group=this._group.insert("g"),this._gridlines_group.attr("class","dimple-gridlines-group"),this._axis_group=this._group.insert("g"),this._axis_group.attr("class","dimple-axis-group"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(h,w){var x=0,z=0,B=-1;for(x=0;x<this.axes.length;x+=1){if(this.axes[x]===h){B=z;break}(w==null||w[0]===this.axes[x].position[0])&&(z+=1)}return B},this._getAllData=function(){var h=[];return this.data!==null&&this.data!==void 0&&this.data.length>0&&(h=h.concat(this.data)),this.series!==null&&this.series!==void 0&&this.series.length>0&&this.series.forEach(function(w){w.data!==null&&w.data!==void 0&&w.data.length>0&&(h=h.concat(w.data))}),h},this._getData=function(h,w,x,z,B,N,D,R,M,I){var k=[],E=function(St,ae){var Qt=[];return St!==null&&(St._hasTimeField()?Qt.push(St._parseDate(ae[St.timeField])):St._hasCategories()&&St.categoryFields.forEach(function(me){Qt.push(ae[me])},this)),Qt},C={x:!1,y:!1,z:!1,p:!1,c:!1},V={x:[],y:[]},j={x:[],y:[],z:[],p:[]},et={min:null,max:null},rt,vt={x:[],y:[],z:[],p:[]},Ft=[],dt={},lt={x:0,y:0,z:0,p:0},Mt,Gt="",Nt=[],qt=[],ce=[],Kt="",Et=[],ee="",le=[],ie="",en=[],ge=[],ve=h,ue=[];this.storyboard&&this.storyboard.categoryFields.length>0&&(Gt=this.storyboard.categoryFields[0],Nt=T._getOrderedList(ve,Gt,this.storyboard._orderRules)),N&&N._hasCategories()&&N._hasMeasure()&&(Kt=N.categoryFields[0],Et=T._getOrderedList(ve,Kt,N._orderRules.concat([{ordering:N.measure,desc:!0}]))),D&&D._hasCategories()&&D._hasMeasure()&&(ee=D.categoryFields[0],le=T._getOrderedList(ve,ee,D._orderRules.concat([{ordering:D.measure,desc:!0}]))),M&&M._hasCategories()&&M._hasMeasure()&&(ie=M.categoryFields[0],en=T._getOrderedList(ve,ie,M._orderRules.concat([{ordering:M.measure,desc:!0}]))),ve.length>0&&w&&w.length>0&&(ge=[].concat(z),qt=[],w.forEach(function(St){ve[0][St]!==void 0&&qt.push(St)},this),M&&M._hasMeasure()?ge.push({ordering:M.measure,desc:!0}):I&&I._hasMeasure()?ge.push({ordering:I.measure,desc:!0}):R&&R._hasMeasure()?ge.push({ordering:R.measure,desc:!0}):N&&N._hasMeasure()?ge.push({ordering:N.measure,desc:!0}):D&&D._hasMeasure()&&ge.push({ordering:D.measure,desc:!0}),ce=T._getOrderedList(ve,qt,ge)),ve.sort(function(St,ae){var Qt=0,me,Ce,be,_e,bt,Ut;if(Gt!==""&&(Qt=Nt.indexOf(St[Gt])-Nt.indexOf(ae[Gt])),Kt!==""&&Qt===0&&(Qt=Et.indexOf(St[Kt])-Et.indexOf(ae[Kt])),ee!==""&&Qt===0&&(Qt=le.indexOf(St[ee])-le.indexOf(ae[ee])),ie!==""&&Qt===0&&(Qt=en.indexOf(St[ie])-le.indexOf(ae[ie])),qt&&qt.length>0&&Qt===0)for(me=[].concat(qt),Qt=0,be=0;be<ce.length;be+=1){for(Ce=[].concat(ce[be]),bt=!0,Ut=!0,_e=0;_e<me.length;_e+=1)bt=bt&&St[me[_e]]===Ce[_e],Ut=Ut&&ae[me[_e]]===Ce[_e];if(bt||Ut){bt&&Ut?Qt=0:bt?Qt=-1:Qt=1;break}}return Qt}),ve.forEach(function(St){var ae=-1,Qt=E(N,St),me=E(D,St),Ce=E(R,St),be=E(M,St),_e=[],bt,Ut,re,ne,Ot;if(!w||w.length===0)_e=["All"];else for(re=0;re<w.length;re+=1)St[w[re]]===void 0?_e.push(w[re]):_e.push(St[w[re]]);for(bt=_e.join("/")+"_"+Qt.join("/")+"_"+me.join("/")+"_"+be.join("/")+"_"+Ce.join("/"),Ut=0;Ut<k.length;Ut+=1)if(k[Ut].key===bt){ae=Ut;break}ae===-1&&(ne={key:bt,aggField:_e,xField:Qt,xValue:null,xCount:0,yField:me,yValue:null,yCount:0,pField:be,pValue:null,pCount:0,zField:Ce,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},k.push(ne),ae=k.length-1),Ot=function(fe,Vt){var Pe=!0,mn={value:0,count:1},un={value:0,count:1},Cn,Se="",Ae;Vt!==null&&(Cn=Vt.getFrameValue(),Vt.categoryFields.forEach(function(nn,Rn){Rn>0&&(Se+="/"),Se+=St[nn],Pe=Se===Cn},this)),fe!=null&&Pe&&(Ae=k[ae],fe._hasMeasure()&&St[fe.measure]!==null&&St[fe.measure]!==void 0&&(Ae[fe.position+"ValueList"].indexOf(St[fe.measure])===-1&&Ae[fe.position+"ValueList"].push(St[fe.measure]),isNaN(parseFloat(St[fe.measure]))&&(C[fe.position]=!0),mn.value=Ae[fe.position+"Value"],mn.count=Ae[fe.position+"Count"],un.value=St[fe.measure],Ae[fe.position+"Value"]=x(mn,un),Ae[fe.position+"Count"]+=1))},Ot(N,this.storyboard),Ot(D,this.storyboard),Ot(R,this.storyboard),Ot(M,this.storyboard),Ot(I,this.storyboard)},this),N&&N._hasCategories()&&N.categoryFields.length>1&&V.x!==void 0&&(ue=[],D._hasMeasure()&&ue.push({ordering:D.measure,desc:!0}),V.x=T._getOrderedList(ve,N.categoryFields[1],N._groupOrderRules.concat(ue))),D&&D._hasCategories()&&D.categoryFields.length>1&&V.y!==void 0&&(ue=[],N._hasMeasure()&&ue.push({ordering:N.measure,desc:!0}),V.y=T._getOrderedList(ve,D.categoryFields[1],D._groupOrderRules.concat(ue)),V.y.reverse()),k.forEach(function(St){N!==null&&(C.x===!0&&(St.xValue=St.xValueList.length),N._hasMeasure()&&N._hasCategories()?rt=(j.x[St.xField.join("/")]||0)+(N._hasMeasure()?Math.abs(St.xValue):0):rt=(j.x[St.xField.join("/")]||0)+(D._hasMeasure()?Math.abs(St.yValue):0),j.x[St.xField.join("/")]=rt),D!==null&&(C.y===!0&&(St.yValue=St.yValueList.length),D._hasMeasure()&&D._hasCategories()?rt=(j.y[St.yField.join("/")]||0)+(D._hasMeasure()?Math.abs(St.yValue):0):rt=(j.y[St.yField.join("/")]||0)+(N._hasMeasure()?Math.abs(St.xValue):0),j.y[St.yField.join("/")]=rt),M!==null&&(C.p===!0&&(St.pValue=St.pValueList.length),rt=(j.p[St.pField.join("/")]||0)+(M._hasMeasure()?Math.abs(St.pValue):0),j.p[St.pField.join("/")]=rt),R!==null&&(C.z===!0&&(St.zValue=St.zValueList.length),rt=(j.z[St.zField.join("/")]||0)+(R._hasMeasure()?Math.abs(St.zValue):0),j.z[St.zField.join("/")]=rt),I!==null&&((et.min===null||St.cValue<et.min)&&(et.min=St.cValue),(et.max===null||St.cValue>et.max)&&(et.max=St.cValue))},this);for(Mt in j.x)Object.prototype.hasOwnProperty.call(j.x,Mt)&&(lt.x+=j.x[Mt]);for(Mt in j.y)Object.prototype.hasOwnProperty.call(j.y,Mt)&&(lt.y+=j.y[Mt]);for(Mt in j.p)Object.prototype.hasOwnProperty.call(j.p,Mt)&&(lt.p+=j.p[Mt]);for(Mt in j.z)Object.prototype.hasOwnProperty.call(j.z,Mt)&&(lt.z+=j.z[Mt]);return k.forEach(function(St){var ae,Qt,me,Ce,be,_e=function(bt,Ut,re){var ne,Ot,fe,Vt,Pe;bt!=null&&(Vt=bt.position,bt._hasCategories()?bt._hasMeasure()?(ne=St[bt.position+"Field"].join("/"),Ot=bt.showPercent?j[bt.position][ne]/lt[bt.position]:j[bt.position][ne],Ft.indexOf(ne)===-1&&(dt[ne]=Ot+(Ft.length>0?dt[Ft[Ft.length-1]]:0),Ft.push(ne)),fe=St[Vt+"Bound"]=St["c"+Vt]=(Vt==="x"||Vt==="y")&&B?dt[ne]:Ot,St[re]=Ot,St[Vt]=fe-(Vt==="x"&&Ot>=0||Vt==="y"&&Ot<=0?Ot:0)):(St[Vt]=St["c"+Vt]=St[Vt+"Field"][0],St[re]=1,V[Vt]!==void 0&&V[Vt]!==null&&V[Vt].length>=2&&(St[Vt+"Offset"]=V[Vt].indexOf(St[Vt+"Field"][1]),St[re]=1/V[Vt].length)):(Ot=bt.showPercent?St[Vt+"Value"]/j[Ut][St[Ut+"Field"].join("/")]:St[Vt+"Value"],ne=St[Ut+"Field"].join("/")+(St[Vt+"Value"]>=0),Pe=vt[Vt][ne]=(vt[Vt][ne]===null||vt[Vt][ne]===void 0||Vt==="z"||Vt==="p"?0:vt[Vt][ne])+Ot,fe=St[Vt+"Bound"]=St["c"+Vt]=(Vt==="x"||Vt==="y")&&B?Pe:Ot,St[re]=Ot,St[Vt]=fe-(Vt==="x"&&Ot>=0||Vt==="y"&&Ot<=0?Ot:0)))};_e(N,"y","width"),_e(D,"x","height"),_e(R,"z","r"),_e(M,"p","angle"),I!==null&&et.min!==null&&et.max!==null&&(et.min===et.max&&(et.min-=.5,et.max+=.5),et.min=I.overrideMin||et.min,et.max=I.overrideMax||et.max,St.cValue=St.cValue>et.max?et.max:St.cValue<et.min?et.min:St.cValue,me=pt.scaleLinear().range([0,I.colors===null||I.colors.length===1?1:I.colors.length-1]).domain([et.min,et.max]),Ce=me(St.cValue),be=Ce-Math.floor(Ce),St.cValue===et.max&&(be=1),I.colors&&I.colors.length===1?(ae=pt.rgb(I.colors[0]),Qt=pt.rgb(this.getColor(St.aggField.slice(-1)[0]).fill)):I.colors&&I.colors.length>1?(ae=pt.rgb(I.colors[Math.floor(Ce)]),Qt=pt.rgb(I.colors[Math.ceil(Ce)])):(ae=pt.rgb("white"),Qt=pt.rgb(this.getColor(St.aggField.slice(-1)[0]).fill)),ae.r=Math.floor(ae.r+(Qt.r-ae.r)*be),ae.g=Math.floor(ae.g+(Qt.g-ae.g)*be),ae.b=Math.floor(ae.b+(Qt.b-ae.b)*be),St.fill=ae.toString(),St.stroke=ae.darker(.5).toString())},this),k},this._getDelay=function(h,w,x){return function(z){var B=0;return x&&w.staggerDraw&&(x.x._hasCategories()?B=T._helpers.cx(z,w,x)/w._widthPixels()*h:x.y._hasCategories()&&(B=(1-T._helpers.cy(z,w,x)/w._heightPixels())*h)),B}},this._getSeriesData=function(){this.series!==null&&this.series!==void 0&&this.series.forEach(function(h){var w=h.data||this.data||[],x=[].concat(h.categoryFields||"All"),z=this._getData(w,x,h.aggregate,h._orderRules,h._isStacked(),h.x,h.y,h.z,h.p,h.c),B=[],N,D,R,M,I,k,E={},C=h.startAngle*(Math.PI/180)||0,V=(h.endAngle||360)*(Math.PI/180);if(C>V&&(C-=2*Math.PI),h.p&&x.length>0){if(h.x&&h.y){for(x.pop(),B=this._getData(w,["__dimple_placeholder__"].concat(x),h.aggregate,h._orderRules,h._isStacked(),h.x,h.y,h.z,h.p,h.c),N=0;N<z.length;N+=1)for(R=["__dimple_placeholder__"].concat(z[N].aggField),R.pop(),h.x&&h.x._hasCategories()&&(R=R.concat(z[N].xField)),h.y&&h.y._hasCategories()&&(R=R.concat(z[N].yField)),M=R.join("|"),D=0;D<B.length;D+=1)if(I=[].concat(B[D].aggField),h.x&&h.x._hasCategories()&&(I=I.concat(B[D].xField)),h.y&&h.y._hasCategories()&&(I=I.concat(B[D].yField)),k=I.join("|"),M===k){z[N].xField=B[D].xField,z[N].xValue=B[D].xValue,z[N].xCount=B[D].xCount,z[N].yField=B[D].yField,z[N].yValue=B[D].yValue,z[N].yCount=B[D].yCount,z[N].zField=B[D].zField,z[N].zValue=B[D].zValue,z[N].zCount=B[D].zCount,z[N].x=B[D].x,z[N].y=B[D].y,z[N].r=B[D].r,z[N].xOffset=B[D].xOffset,z[N].yOffset=B[D].yOffset,z[N].width=B[D].width,z[N].height=B[D].height,z[N].cx=B[D].cx,z[N].cy=B[D].cy,z[N].xBound=B[D].xBound,z[N].yBound=B[D].yBound,z[N].xValueList=B[D].xValueList,z[N].yValueList=B[D].yValueList,z[N].zValueList=B[D].zValueList,z[N].cValueList=B[D].cValueList,z[N].pieKey=B[D].key,z[N].value=z.pValue,E[B[D].key]||(E[B[D].key]={total:0,angle:C}),E[B[D].key].total+=z[N].pValue;break}}else for(N=0;N<z.length;N+=1)z[N].pieKey="All",z[N].value=z.pValue,E[z[N].pieKey]||(E[z[N].pieKey]={total:0,angle:C}),E[z[N].pieKey].total+=z[N].pValue;for(N=0;N<z.length;N+=1)E[z[N].pieKey].total===0?z[N].piePct=0:z[N].piePct=z[N].pValue/E[z[N].pieKey].total,z[N].startAngle=E[z[N].pieKey].angle,z[N].endAngle=z[N].startAngle+z[N].piePct*(V-C),E[z[N].pieKey].angle=z[N].endAngle}h._positionData=z},this)},this._handleTransition=function(h,w,x,z){var B=null;return w===0?B=h:(B=h.transition().duration(w).delay(x._getDelay(w,x,z)),T._ease(B,x.ease)),B},this._heightPixels=function(){return T._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(h){h._eventHandlers!==null&&h._eventHandlers.length>0&&h._eventHandlers.forEach(function(w){var x,z=function(B){var N=new T.eventArgs;h.chart.storyboard!==null&&(N.frameValue=h.chart.storyboard.getFrameValue()),N.seriesValue=B.aggField,N.xValue=B.x,N.yValue=B.y,N.zValue=B.z,N.pValue=B.p,N.colorValue=B.cValue,N.seriesShapes=h.shapes,N.selectedShape=pt.select(this),w.handler(N)};if(w.handler!==null&&typeof w.handler=="function")if(h._markers!==null&&h._markers!==void 0)for(x in h._markers)Object.prototype.hasOwnProperty.call(h._markers,x)&&h._markers[x].on(w.event,z);else h.shapes.on(w.event,z)},this)},this._widthPixels=function(){return T._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return T._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return T._parseYPosition(this.y,this.svg.node())},this.addAxis=function(h,w,x,z){var B=null,N=null,D;if(w!=null&&(w=[].concat(w)),typeof h=="string"||h instanceof String)B=new T.axis(this,h,w,x,z),this.axes.push(B);else{if(N=h,B=new T.axis(this,N.position,w,x,z),B._hasMeasure()!==N._hasMeasure()?D="You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.":B._hasTimeField()!==N._hasTimeField()?D="You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.":(B.categoryFields===null||B.categoryFields===void 0?0:B.categoryFields.length)!==(N.categoryFields===null||N.categoryFields===void 0?0:N.categoryFields.length)&&(D="You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type."),D)throw D;N._slaves.push(B)}return B},this.addCategoryAxis=function(h,w){return this.addAxis(h,w,null)},this.addColorAxis=function(h,w){var x=this.addAxis("c",null,h);return x.colors=w==null?null:[].concat(w),x},this.addLegend=function(h,w,x,z,B,N){N=N==null?this.series:[].concat(N),B=B??"left";var D=new T.legend(this,h,w,x,z,B,N);return this.legends.push(D),D},this.addLogAxis=function(h,w,x){var z=this.addAxis(h,null,w,null);return x!=null&&(z.logBase=x),z.useLog=!0,z},this.addMeasureAxis=function(h,w){return this.addAxis(h,null,w)},this.addPctAxis=function(h,w,x){var z=null;return x!=null?z=this.addAxis(h,x,w):z=this.addMeasureAxis(h,w),z.showPercent=!0,z},this.addSeries=function(h,w,x){x==null&&(x=this.axes),w==null&&(w=T.plot.bubble);var z=null,B=null,N=null,D=null,R=null,M;return x.forEach(function(I){I!==null&&w.supportedAxes.indexOf(I.position)>-1&&(z===null&&I.position[0]==="x"?z=I:B===null&&I.position[0]==="y"?B=I:N===null&&I.position[0]==="z"?N=I:D===null&&I.position[0]==="c"?D=I:D===null&&I.position[0]==="p"&&(R=I))},this),h&&(h=[].concat(h)),M=new T.series(this,h,z,B,N,D,R,w,T.aggregateMethod.sum,w.stacked),this.series.push(M),M},this.addTimeAxis=function(h,w,x,z){var B=this.addAxis(h,null,null,w);return B.tickFormat=z,B.dateParseFormat=x,B},this.assignClass=function(h,w){return this._assignedClasses[h]=w,this._assignedClasses[h]},this.assignColor=function(h,w,x,z){return this._assignedColors[h]=new T.color(w,x,z),this._assignedColors[h]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new T.color("#80B1D3"),new T.color("#FB8072"),new T.color("#FDB462"),new T.color("#B3DE69"),new T.color("#FFED6F"),new T.color("#BC80BD"),new T.color("#8DD3C7"),new T.color("#CCEBC5"),new T.color("#FFFFB3"),new T.color("#BEBADA"),new T.color("#FCCDE5"),new T.color("#D9D9D9")],this.draw=function(h,w){h=h||0;var x=null,z=null,B,N=!1,D=!1,R=this._xPixels(),M=this._yPixels(),I=this._widthPixels(),k=this._heightPixels(),E;return(w==null||w===!1)&&this._getSeriesData(),this.axes.forEach(function(C){C._scale=null},this),this.axes.forEach(function(C){if(C._min=0,C._max=0,E=[],C._hasMeasure()){var V=!1;this.series.forEach(function(j){if(j._deepMatch(C)){var et=j._axisBounds(C.position);C._min>et.min&&(C._min=et.min),C._max<et.max&&(C._max=et.max),V=!0}},this),V||this._getAllData().forEach(function(j){C._min>j[C.measure]&&(C._min=j[C.measure]),C._max<j[C.measure]&&(C._max=j[C.measure])},this)}else C._hasTimeField()?(C._min=null,C._max=null,this.series.forEach(function(j){j._deepMatch(C)&&j[C.position].timeField!==null&&j[C.position].timeField!==void 0&&E.indexOf(j[C.position].timeField)===-1&&E.push(j[C.position].timeField)},this),C._getAxisData().forEach(function(j){E.forEach(function(et){var rt=C._parseDate(j[et]);(C._min===null||rt<C._min)&&(C._min=rt),(C._max===null||rt>C._max)&&(C._max=rt)},this)},this)):C._hasCategories()&&(C._min=0,B=[],this.series.forEach(function(j){j._deepMatch(C)&&j[C.position].categoryFields[0]!==null&&j[C.position].categoryFields[0]!==void 0&&E.indexOf(j[C.position].categoryFields[0])===-1&&E.push(j[C.position].categoryFields[0])},this),C._getAxisData().forEach(function(j){E.forEach(function(et){B.indexOf(j[et])===-1&&B.push(j[et])},this)},this),C._max=B.length);C._slaves!==null&&C._slaves!==void 0&&C._slaves.length>0&&C._slaves.forEach(function(j){j._min=C._min,j._max=C._max},this),C._update(),x===null&&C.position==="x"?x=C:z===null&&C.position==="y"&&(z=C)},this),this.axes.forEach(function(C){var V=!1,j=null,et=0,rt=null,vt=!1,Ft=0,dt={l:null,t:null,r:null,b:null},lt=0,Mt=0,Gt="",Nt=this,qt=function(Et){var ee;return j===null||h===0||V?ee=Et:ee=Nt._handleTransition(Et,h,Nt),ee},ce=function(){var Et=pt.select(this).selectAll("text");return!C.measure&&C._max>0&&(C.position==="x"?Et.attr("x",I/C._max/2):C.position==="y"&&Et.attr("y",-1*(k/C._max)/2)),C.categoryFields&&C.categoryFields.length>0&&(C===x&&(z.categoryFields===null||z.categoryFields.length===0)&&Et.attr("y",M+k-z._scale(0)+9),C===z&&(x.categoryFields===null||x.categoryFields.length===0)&&Et.attr("x",-1*(x._scale(0)-R)-9)),this},Kt=function(Et){return function(){var ee=pt.select(this).attr("class")||"";return ee.indexOf(Et)===-1&&(ee+=" "+Et),ee.trim()}};C.gridlineShapes===null?(C.showGridlines||C.showGridlines===null&&!C._hasCategories()&&(!N&&C.position==="x"||!D&&C.position==="y"))&&(C.gridlineShapes=this._gridlines_group.append("g").attr("class","dimple-gridline"),C.position==="x"?N=!0:D=!0):C.position==="x"?N=!0:D=!0,C.shapes===null&&(C.shapes=this._axis_group.append("g").attr("class","dimple-axis dimple-axis-"+C.position).each(function(){Nt.noFormats||pt.select(this).style("font-family",C.fontFamily).style("font-size",C._getFontSize())}),V=!0),C===x&&z!==null?(j="translate(0, "+(z.categoryFields===null||z.categoryFields.length===0?z._scale(0):M+k)+")",rt="translate(0, "+(C===x?M+k:M)+")",et=-k):C===z&&x!==null?(j="translate("+(x.categoryFields===null||x.categoryFields.length===0?x._scale(0):R)+", 0)",rt="translate("+(C===z?R:R+I)+", 0)",et=-I):C.position==="x"?(rt=j="translate(0, "+(C===x?M+k:M)+")",et=-k):C.position==="y"&&(rt=j="translate("+(C===z?R:R+I)+", 0)",et=-I),j!==null&&C._draw!==null&&(C._hasTimeField()?qt(C.shapes).call(C._draw.ticks(C._getTimePeriod(),C.timeInterval).tickFormat(C._getFormat())).attr("transform",j).each(ce):C.useLog?qt(C.shapes).call(C._draw.ticks(4,C._getFormat())).attr("transform",j).each(ce):qt(C.shapes).call(C._draw.tickFormat(C._getFormat())).attr("transform",j).each(ce),C.gridlineShapes!==null&&qt(C.gridlineShapes).call(C._draw.tickSize(et,0,0).tickFormat("")).attr("transform",rt)),qt(C.shapes.selectAll("text")).attr("class",Kt(Nt.customClassList.axisLabel)).call(function(Et){Nt.noFormats||Et.style("font-family",C.fontFamily).style("font-size",C._getFontSize())}),qt(C.shapes.selectAll("path, line")).attr("class",Kt(Nt.customClassList.axisLine)).call(function(Et){Nt.noFormats||Et.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),C.gridlineShapes!==null&&(C.gridlineShapes.selectAll("path").remove(),qt(C.gridlineShapes.selectAll("line")).attr("class",Kt(Nt.customClassList.gridline)).call(function(Et){Nt.noFormats||Et.style("fill","none").style("stroke","lightgray").style("opacity",.8)})),(C.measure===null||C.measure===void 0)&&(C.autoRotateLabel?C===x?(Ft=0,C.shapes.selectAll("text").each(function(){var Et=this.getComputedTextLength();Ft=Et>Ft?Et:Ft}),Ft>I/C.shapes.selectAll("text").nodes().length?(vt=!0,C.shapes.selectAll("text").style("text-anchor","start").each(function(){var Et=this.getBBox();pt.select(this).attr("transform","rotate(90,"+Et.x+","+(Et.y+Et.height/2)+") translate(-5, 0)")})):(vt=!1,C.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):C.position==="x"&&(Ft=0,C.shapes.selectAll("text").each(function(){var Et=this.getComputedTextLength();Ft=Et>Ft?Et:Ft}),Ft>I/C.shapes.selectAll("text").nodes().length?(vt=!0,C.shapes.selectAll("text").style("text-anchor","end").each(function(){var Et=this.getBBox();pt.select(this).attr("transform","rotate(90,"+(Et.x+Et.width)+","+(Et.y+Et.height/2)+") translate(5, 0)")})):(vt=!1,C.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(vt=!1,C.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),C.titleShape!==null&&C.titleShape!==void 0&&C.titleShape.remove(),C.shapes.selectAll("text").each(function(){var Et=this.getBBox();(dt.l===null||-9-Et.width<dt.l)&&(dt.l=-9-Et.width),(dt.r===null||Et.x+Et.width>dt.r)&&(dt.r=Et.x+Et.width),vt?((dt.t===null||Et.y+Et.height-Et.width<dt.t)&&(dt.t=Et.y+Et.height-Et.width),(dt.b===null||Et.height+Et.width>dt.b)&&(dt.b=Et.height+Et.width)):((dt.t===null||Et.y<dt.t)&&(dt.t=Et.y),(dt.b===null||9+Et.height>dt.b)&&(dt.b=9+Et.height))}),C.position==="x"?(C===x?Mt=M+k+dt.b+5:Mt=M+dt.t-10,lt=R+I/2):C.position==="y"&&(C===z?lt=R+dt.l-10:lt=R+I+dt.r+20,Mt=M+k/2,Gt="rotate(270, "+lt+", "+Mt+")"),!C.hidden&&(C.position==="x"||C.position==="y")&&C.title!==null&&(C.titleShape=this._axis_group.append("text").attr("class","dimple-axis dimple-title "+Nt.customClassList.axisTitle+" dimple-axis-"+C.position),C.titleShape.attr("x",lt).attr("y",Mt).attr("text-anchor","middle").attr("transform",Gt).text(C.title!==void 0?C.title:C.categoryFields===null||C.categoryFields===void 0||C.categoryFields.length===0?C.measure:C.categoryFields.join("/")).each(function(){Nt.noFormats||pt.select(this).style("font-family",C.fontFamily).style("font-size",C._getFontSize())}),C===x?C.titleShape.each(function(){pt.select(this).attr("y",Mt+this.getBBox().height/1.65)}):C===z&&C.titleShape.each(function(){pt.select(this).attr("x",lt+this.getBBox().height/1.65)}))},this),this.series.forEach(function(C){C.plot.draw(this,C,h),this._registerEventHandlers(C)},this),this.legends.forEach(function(C){C._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(h){return this._assignedClasses[h]||(this._assignedClasses[h]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[h]},this.getColor=function(h){return(this._assignedColors[h]===null||this._assignedColors[h]===void 0)&&(this._assignedColors[h]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[h]},this.setBounds=function(h,w,x,z){return this.x=h,this.y=w,this.width=x,this.height=z,this._xPixels=function(){return T._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return T._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return T._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return T._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(h,w,x,z){return this.x=h,this.y=w,this.width=0,this.height=0,this._xPixels=function(){return T._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return T._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return T._parentWidth(this.svg.node())-this._xPixels()-T._parseXPosition(x,this.svg.node())},this._heightPixels=function(){return T._parentHeight(this.svg.node())-this._yPixels()-T._parseYPosition(z,this.svg.node())},this},this.setStoryboard=function(h,w){return this.storyboard=new T.storyboard(this,h),w!=null&&(this.storyboard.onTick=w),this.storyboard}};T.color=function(p,o,h){this.fill=p,this.stroke=o??pt.rgb(p).darker(.5).toString(),this.opacity=h??.8};T.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null};T.legend=function(p,o,h,w,x,z,B){this.chart=p,this.series=B,this.x=o,this.y=h,this.width=w,this.height=x,this.horizontalAlign=z,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var N=this._getEntries(),D=0,R=0,M=0,I=0,k=15,E=9,C=5,V=this,j;this.shapes&&this.shapes.remove(),j=this.chart._group.selectAll(".dimple-dont-select-any").data(N).enter().append("g").attr("class",function(et){return"dimple-legend "+T._createClass(et.aggField)}).attr("opacity",1),j.append("text").attr("class",function(et){return"dimple-legend dimple-legend-text "+T._createClass(et.aggField)+" "+V.chart.customClassList.legendLabel}).text(function(et){return et.key}).call(function(et){V.chart.noFormats||et.style("font-family",V.fontFamily).style("font-size",V._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var et=this.getBBox();et.width>D&&(D=et.width),et.height>R&&(R=et.height)}),j.append("rect").attr("class",function(et){return"dimple-legend dimple-legend-key "+T._createClass(et.aggField)}).attr("height",E).attr("width",k),R=(R<E?E:R)+V._getVerticalPadding(),D+=k+V._getHorizontalPadding(),j.each(function(et){M+D>V._widthPixels()&&(M=0,I+=R),I>V._heightPixels()?pt.select(this).remove():(pt.select(this).select("text").attr("x",V.horizontalAlign==="left"?V._xPixels()+k+C+M:V._xPixels()+(V._widthPixels()-M-D)+k+C).attr("y",function(){return V._yPixels()+I+this.getBBox().height/1.65}).attr("width",V._widthPixels()).attr("height",V._heightPixels()),pt.select(this).select("rect").attr("class",function(rt){return"dimple-legend dimple-legend-key "+T._createClass(rt.aggField)+" "+V.chart.customClassList.legendKey+" "+rt.css}).attr("x",V.horizontalAlign==="left"?V._xPixels()+M:V._xPixels()+(V._widthPixels()-M-D)).attr("y",V._yPixels()+I).attr("height",E).attr("width",k).call(function(rt){V.chart.noFormats||rt.style("fill",et.fill).style("stroke",et.stroke).style("opacity",et.opacity).style("shape-rendering","crispEdges")}),M+=D)}),this.shapes=j},this._getEntries=function(){var N=[];return this.series&&this.series.forEach(function(D){var R=D._positionData;R.forEach(function(M){var I=-1,k,E=D.plot.grouped&&!D.x._hasCategories()&&!D.y._hasCategories()&&M.aggField.length<2?"All":M.aggField.slice(-1)[0];for(k=0;k<N.length;k+=1)if(N[k].key===E){I=k;break}I===-1&&D.chart._assignedColors[E]&&(N.push({key:E,fill:D.chart._assignedColors[E].fill,stroke:D.chart._assignedColors[E].stroke,opacity:D.chart._assignedColors[E].opacity,css:D.chart._assignedClasses[E],series:D,aggField:M.aggField}),I=N.length-1)})},this),N},this._getFontSize=function(){var N;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?N=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?N=this.fontSize:N=this.fontSize+"px",N},this._getHorizontalPadding=function(){var N;return isNaN(this.horizontalPadding)?N=20:N=this.horizontalPadding,N},this._getVerticalPadding=function(){var N;return isNaN(this.verticalPadding)?N=2:N=this.verticalPadding,N},this._heightPixels=function(){return T._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return T._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return T._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return T._parseYPosition(this.y,this.chart.svg.node())}};T.series=function(p,o,h,w,x,z,B,N,D,R){this.chart=p,this.x=h,this.y=w,this.z=x,this.c=z,this.p=B,this.plot=N,this.categoryFields=o,this.aggregate=D,this.stacked=R,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._group=p._group.append("g"),this._group.attr("class","dimple-series-group-"+p.series.length),this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(M){var I={min:0,max:0},k=null,E=null,C=[],V,j,et,rt=this._positionData;return M==="x"?(k=this.x,E=this.y):M==="y"?(k=this.y,E=this.x):M==="z"?k=this.z:M==="p"?k=this.p:M==="c"&&(k=this.c),k.showPercent?rt.forEach(function(vt){vt[k.position+"Bound"]<I.min&&(I.min=vt[k.position+"Bound"]),vt[k.position+"Bound"]>I.max&&(I.max=vt[k.position+"Bound"])},this):E===null||E.categoryFields===null||E.categoryFields.length===0?rt.forEach(function(vt){this._isStacked()&&(k.position==="x"||k.position==="y")?vt[k.position+"Value"]<0?I.min=I.min+vt[k.position+"Value"]:I.max=I.max+vt[k.position+"Value"]:(vt[k.position+"Value"]<I.min&&(I.min=vt[k.position+"Value"]),vt[k.position+"Value"]>I.max&&(I.max=vt[k.position+"Value"]))},this):(V=k.position+"Value",j=E.position+"Field",et=[],rt.forEach(function(vt){var Ft=vt[j].join("/"),dt=et.indexOf(Ft);dt===-1&&(et.push(Ft),dt=et.length-1),C[dt]===void 0&&(C[dt]={min:0,max:0}),this.stacked?vt[V]<0?C[dt].min=C[dt].min+vt[V]:C[dt].max=C[dt].max+vt[V]:(vt[V]<C[dt].min&&(C[dt].min=vt[V]),vt[V]>C[dt].max&&(C[dt].max=vt[V]))},this),C.forEach(function(vt){vt!==void 0&&(vt.min<I.min&&(I.min=vt.min),vt.max>I.max&&(I.max=vt.max))},this)),I},this._deepMatch=function(M){var I=!1;return this[M.position]===M?I=!0:M._slaves!==void 0&&M._slaves!==null&&M._slaves.length>0&&M._slaves.forEach(function(k){I=I||this._deepMatch(k)},this),I},this._dropLineOrigin=function(){var M=0,I=0,k={x:null,y:null},E={x:null,y:null};return this.chart.axes.forEach(function(C){C.position==="x"&&E.x===null?C._hasTimeField()?E.x=this.chart._xPixels():E.x=C._origin:C.position==="y"&&E.y===null&&(C._hasTimeField()?E.y=this.chart._yPixels()+this.chart._heightPixels():E.y=C._origin)},this),this.chart.axes.forEach(function(C){C.position==="x"&&!this.x.hidden?(this._deepMatch(C)&&(M===0?k.y=E.y:M===1&&(k.y=this.chart._yPixels())),M+=1):C.position==="y"&&!this.y.hidden&&(this._deepMatch(C)&&(I===0?k.x=E.x:I===1&&(k.x=this.chart._xPixels()+this.chart._widthPixels())),I+=1)},this),k},this._getTooltipFontSize=function(){var M;return!this.tooltipFontSize||this.tooltipFontSize.toString().toLowerCase()==="auto"?M=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.tooltipFontSize)?M=this.tooltipFontSize:M=this.tooltipFontSize+"px",M},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(M,I){this._eventHandlers.push({event:M,handler:I})},this.addOrderRule=function(M,I){this._orderRules.push({ordering:M,desc:I})},this.getTooltipText=function(M){var I=[];return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0&&this.categoryFields.forEach(function(k,E){k!=null&&M.aggField[E]!==null&&M.aggField[E]!==void 0&&I.push(k+(M.aggField[E]!==k?": "+M.aggField[E]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(I,M),this.y&&this.y._hasCategories()&&this.y._getTooltipText(I,M),this.z&&this.z._hasCategories()&&this.z._getTooltipText(I,M),this.p._getTooltipText(I,M)):(this.x&&this.x._getTooltipText(I,M),this.y&&this.y._getTooltipText(I,M),this.z&&this.z._getTooltipText(I,M)),this.c&&this.c._getTooltipText(I,M),I.filter(function(k,E){return I.indexOf(k)===E})}};T.storyboard=function(p,o){o!=null&&(o=[].concat(o)),this.chart=p,this.categoryFields=o,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){var h=this,w=0;h.storyLabel||(h.chart.axes.forEach(function(x){x.position==="x"&&(w+=1)},h),h.storyLabel=h.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",h.chart._xPixels()+h.chart._widthPixels()*.01).attr("y",h.chart._yPixels()+(h.chart._heightPixels()/35>10?h.chart._heightPixels()/35:10)*(w>1?1.25:-1)).call(function(x){p.noFormats||x.style("font-family",h.fontFamily).style("font-size",h._getFontSize())})),h.storyLabel.text(h.categoryFields.join("\\")+": "+h.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(h){var w=-1,x="";this.categoryFields!==null&&(this.categoryFields.forEach(function(z,B){B>0&&(x+="/"),x+=h[z]},this),w=this._categories.indexOf(x),w===-1&&(this._categories.push(x),w=this._categories.length-1))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){var h;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?h=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?h=this.fontSize:h=this.fontSize+"px",h},this._goToFrameIndex=function(h){this._frame=h%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(h,w){this._orderRules.push({ordering:h,desc:w})},this.getFrameValue=function(){var h=null;return this._frame>=0&&this._getCategories().length>this._frame&&(h=this._getCategories()[this._frame]),h},this.goToFrame=function(h){if(this._getCategories().length>0){var w=this._getCategories().indexOf(h);this._goToFrameIndex(w)}},this.pauseAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){this._animationTimer===null&&(this.onTick!==null&&this.onTick(this.getFrameValue()),this._animationTimer=setInterval(function(h){return function(){h._goToFrameIndex(h._frame+1),h.onTick!==null&&h.onTick(h.getFrameValue()),h._drawText(h.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}};T.aggregateMethod.avg=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),p.count=p.count===null||p.count===void 0?1:parseFloat(p.count),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),o.count=o.count===null||o.count===void 0?1:parseFloat(o.count),(p.value*p.count+o.value*o.count)/(p.count+o.count)};T.aggregateMethod.count=function(p,o){return p.count=p.count===null||p.count===void 0?0:parseFloat(p.count),o.count=o.count===null||o.count===void 0?0:parseFloat(o.count),p.count+o.count};T.aggregateMethod.max=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),p.value>o.value?p.value:o.value};T.aggregateMethod.min=function(p,o){return p.value===null?parseFloat(o.value):parseFloat(p.value)<parseFloat(o.value)?parseFloat(p.value):parseFloat(o.value)};T.aggregateMethod.sum=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),p.value+o.value};T.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(p,o,h){var w=o._positionData,x=[],z=null,B="dimple-series-"+p.series.indexOf(o),N=o.x._hasCategories()||o.y._hasCategories()?0:1,D,R=!1,M,I,k,E,C,V,j,et,rt,vt,Ft={},dt=[],lt,Mt=[],Gt,Nt,qt,ce,Kt,Et,ee,le,ie,en,ge,ve,ue=function(){return function(bt,Ut,re,ne){pt.select(Ut).style("opacity",1),T._showPointTooltip(bt,Ut,re,ne)}},St=function(bt){return function(Ut,re,ne,Ot){pt.select(re).style("opacity",Ot.lineMarkers||bt.data.length<2?T._helpers.opacity(Ut,ne,Ot):0),T._removeTooltip(Ut,re,ne,Ot)}},ae=function(bt,Ut){T._drawMarkers(bt,p,o,h,B,R,ue(),St(bt),Ut)},Qt=function(bt,Ut){var re;return o.interpolation==="step"&&o[bt]._hasCategories()?(re=T._helpers[bt](Ut,p,o)+(bt==="y"?T._helpers.height(Ut,p,o):0),o[bt].categoryFields.length<2&&(re+=(bt==="y"?1:-1)*T._helpers[bt+"Gap"](p,o))):re=T._helpers["c"+bt](Ut,p,o),parseFloat(re)},me=function(bt,Ut){var re=pt.line().x(function(ne){return o.x._hasCategories()||!Ut?ne.x:o.x[Ut]}).y(function(ne){return o.y._hasCategories()||!Ut?ne.y:o.y[Ut]});return T._interpolate(re,bt),re},Ce=function(bt,Ut){return parseFloat(bt)-parseFloat(Ut)},be=function(bt,Ut){return parseFloat(bt.x)-parseFloat(Ut.x)},_e=function(bt,Ut,re){var ne,Ot=Ut[Ut.length-1],fe,Vt=9999,Pe=Ot;for(ne=0;ne<bt.length;ne+=1)(bt[ne].x!==Ot.x||bt[ne].y!==Ot.y)&&(fe=180-Math.atan2(bt[ne].x-Ot.x,bt[ne].y-Ot.y)*(180/Math.PI),fe>re&&fe<Vt&&(Pe=bt[ne],Vt=fe));return Ut.push(Pe),Vt};for(D=o.interpolation==="step"?"step-after":o.interpolation,vt=T._getSeriesOrder(o.data||p.data,o),o.c&&(o.x._hasCategories()&&o.y._hasMeasure()||o.y._hasCategories()&&o.x._hasMeasure())&&(R=!0),o.x._hasCategories()?(ge="x",ve="y"):o.y._hasCategories()&&(ge="y",ve="x"),M=0;M<w.length;M+=1){for(E=[],V=-1,k=N;k<w[M].aggField.length;k+=1)E.push(w[M].aggField[k]);for(C=T._createClass(E),k=0;k<x.length;k+=1)if(x[k].keyString===C){V=k;break}V===-1&&(V=x.length,x.push({key:E,keyString:C,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:ge&&w[M][ge+"Field"]&&w[M][ge+"Field"].length>=2?w[M][ge+"Field"][0]:"All"})),x[V].data.push(w[M])}for(vt&&x.sort(function(bt,Ut){return T._arrayIndexCompare(vt,bt.key,Ut.key)}),M=0;M<x.length;M+=1){for(x[M].data.sort(T._getSeriesSortPredicate(p,o,vt)),I=0;I<x[M].data.length;I+=1)x[M].points.push({x:Qt("x",x[M].data[I]),y:Qt("y",x[M].data[I])}),ge&&(Ft[x[M].group]||(Ft[x[M].group]={}),Ft[x[M].group][x[M].points[x[M].points.length-1][ge]]=o[ve]._origin);lt=x[M].points,o.interpolation==="step"&&lt.length>1&&ge&&(o.x._hasCategories()?(lt.push({x:2*lt[lt.length-1].x-lt[lt.length-2].x,y:lt[lt.length-1].y}),Ft[x[M].group][lt[lt.length-1][ge]]=o[ve]._origin):o.y._hasCategories()&&(lt=[{x:lt[0].x,y:2*lt[0].y-lt[1].y}].concat(lt),Ft[x[M].group][lt[0][ge]]=o[ve]._origin,x[M].points=lt))}for(qt in Ft)if(Object.prototype.hasOwnProperty.call(Ft,qt)){dt[qt]=[];for(ce in Ft[qt])Object.prototype.hasOwnProperty.call(Ft[qt],ce)&&dt[qt].push(parseFloat(ce));dt[qt].sort(Ce)}for(M=0;M<x.length;M+=1){if(lt=x[M].points,Kt=x[M].group,Gt=[],Mt=[],R&&T._addGradient(x[M].key,"fill-area-gradient-"+x[M].keyString,o.x._hasCategories()?o.x:o.y,w,p,h,"fill"),dt[Kt]&&dt[Kt].length>0)for(I=0,k=0;I<dt[Kt].length;I+=1)dt[Kt][I]>=lt[0][ge]&&dt[Kt][I]<=lt[lt.length-1][ge]&&(Nt={},Nt[ge]=dt[Kt][I],Nt[ve]=Ft[Kt][dt[Kt][I]],Gt.push(Nt),lt[k][ge]>dt[Kt][I]?Mt.push(Nt):(Mt.push(lt[k]),Ft[x[M].group][dt[Kt][I]]=lt[k][ve],k+=1));else if(o._orderRules&&o._orderRules.length>0)Mt=lt.concat(lt[0]);else{lt=lt.sort(be),Mt.push(lt[0]),en=0;do en=_e(lt,Mt,en);while(Mt.length<=lt.length&&(Mt[0].x!==Mt[Mt.length-1].x||Mt[0].y!==Mt[Mt.length-1].y))}Gt=Gt.reverse(),Et=me(D,"_previousOrigin")(Mt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D,"_previousOrigin")(Gt),le=me("linear","_previousOrigin")(Mt),ie=le.indexOf("L")===-1?void 0:le.indexOf("L"),x[M].entry=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ie):0),Et=me(D)(Mt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D)(Gt),le=me("linear")(Mt),ie=le.indexOf("L")===-1?void 0:le.indexOf("L"),x[M].update=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ie):0),Et=me(D,"_origin")(Mt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D,"_origin")(Gt),le=me("linear","_origin")(Mt),ie=le.indexOf("L")===-1?void 0:le.indexOf("L"),x[M].exit=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ie):0),x[M].color=p.getColor(x[M].key.length>0?x[M].key[x[M].key.length-1]:"All"),x[M].css=p.getClass(x[M].key.length>0?x[M].key[x[M].key.length-1]:"All")}p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?z=o.shapes.data(x,function(bt){return bt.key}):z=o._group.selectAll("."+B).data(x,function(bt){return bt.key}),j=z.enter().append("path").attr("id",function(bt){return T._createClass([bt.key])}).attr("class",function(bt){return B+" dimple-line "+bt.keyString+" "+p.customClassList.areaSeries+" "+bt.css}).attr("d",function(bt){return bt.entry}).call(function(bt){p.noFormats||bt.attr("opacity",function(Ut){return R?1:Ut.color.opacity}).style("fill",function(Ut){return R?"url(#"+T._createClass(["fill-area-gradient-"+Ut.keyString])+")":Ut.color.fill}).style("stroke",function(Ut){return R?"url(#"+T._createClass(["stroke-area-gradient-"+Ut.keyString])+")":Ut.color.stroke}).style("stroke-width",o.lineWeight)}).each(function(bt){bt.markerData=bt.data,ae(bt,this)}),et=p._handleTransition(z.merge(j),h,p).attr("d",function(bt){return bt.update}).each(function(bt){bt.markerData=bt.data,ae(bt,this)}),rt=p._handleTransition(z.exit(),h,p).attr("d",function(bt){return bt.exit}).each(function(bt){bt.markerData=[],ae(bt,this)}),T._postDrawHandling(o,et,rt,h),o.shapes=o._group.selectAll("."+B)}};T.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(p,o,h){var w=o._positionData,x=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-bar"],B,N,D,R=!o._isStacked()&&o.x._hasMeasure(),M=!o._isStacked()&&o.y._hasMeasure(),I="none";o.x._hasCategories()&&o.y._hasCategories()?I="both":o.x._hasCategories()?I="x":o.y._hasCategories()&&(I="y"),p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?x=o.shapes.data(w,function(k){return k.key}):x=o._group.selectAll("."+z.join(".")).data(w,function(k){return k.key}),B=x.enter().append("rect").attr("id",function(k){return T._createClass([k.key])}).attr("class",function(k){var E=[];return E=E.concat(k.aggField),E=E.concat(k.xField),E=E.concat(k.yField),z.join(" ")+" "+T._createClass(E)+" "+p.customClassList.barSeries+" "+T._helpers.css(k,p)}).attr("x",function(k){var E=o.x._previousOrigin;return I==="x"?E=T._helpers.x(k,p,o):I==="both"&&(E=T._helpers.cx(k,p,o)),E}).attr("y",function(k){var E=o.y._previousOrigin;return I==="y"?E=T._helpers.y(k,p,o):I==="both"&&(E=T._helpers.cy(k,p,o)),E}).attr("width",function(k){return I==="x"?T._helpers.width(k,p,o):0}).attr("height",function(k){return I==="y"?T._helpers.height(k,p,o):0}).on("mouseover",function(k){T._showBarTooltip(k,this,p,o)}).on("mouseleave",function(k){T._removeTooltip(k,this,p,o)}).call(function(k){p.noFormats||k.attr("opacity",function(E){return T._helpers.opacity(E,p,o)}).style("fill",function(E){return T._helpers.fill(E,p,o)}).style("stroke",function(E){return T._helpers.stroke(E,p,o)})}),N=p._handleTransition(x.merge(B),h,p,o).attr("x",function(k){return R?T._helpers.cx(k,p,o)-o.x.floatingBarWidth/2:T._helpers.x(k,p,o)}).attr("y",function(k){return M?T._helpers.cy(k,p,o)-o.y.floatingBarWidth/2:T._helpers.y(k,p,o)}).attr("width",function(k){return R?o.x.floatingBarWidth:T._helpers.width(k,p,o)}).attr("height",function(k){return M?o.y.floatingBarWidth:T._helpers.height(k,p,o)}).call(function(k){p.noFormats||k.attr("fill",function(E){return T._helpers.fill(E,p,o)}).attr("stroke",function(E){return T._helpers.stroke(E,p,o)})}),D=p._handleTransition(x.exit(),h,p,o).attr("x",function(k){var E=o.x._origin;return I==="x"?E=T._helpers.x(k,p,o):I==="both"&&(E=T._helpers.cx(k,p,o)),E}).attr("y",function(k){var E=o.y._origin;return I==="y"?E=T._helpers.y(k,p,o):I==="both"&&(E=T._helpers.cy(k,p,o)),E}).attr("width",function(k){return I==="x"?T._helpers.width(k,p,o):0}).attr("height",function(k){return I==="y"?T._helpers.height(k,p,o):0}),T._postDrawHandling(o,N,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};T.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(p,o,h){var w=o._positionData,x=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-bubble"],B,N,D;p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?x=o.shapes.data(w,function(R){return R.key}):x=o._group.selectAll("."+z.join(".")).data(w,function(R){return R.key}),B=x.enter().append("circle").attr("id",function(R){return T._createClass([R.key])}).attr("class",function(R){var M=[];return M=M.concat(R.aggField),M=M.concat(R.xField),M=M.concat(R.yField),M=M.concat(R.zField),z.join(" ")+" "+T._createClass(M)+" "+p.customClassList.bubbleSeries+" "+T._helpers.css(R,p)}).attr("cx",function(R){return o.x._hasCategories()?T._helpers.cx(R,p,o):o.x._previousOrigin}).attr("cy",function(R){return o.y._hasCategories()?T._helpers.cy(R,p,o):o.y._previousOrigin}).attr("r",0).on("mouseover",function(R){T._showPointTooltip(R,this,p,o)}).on("mouseleave",function(R){T._removeTooltip(R,this,p,o)}).call(function(R){p.noFormats||R.attr("opacity",function(M){return T._helpers.opacity(M,p,o)}).style("fill",function(M){return T._helpers.fill(M,p,o)}).style("stroke",function(M){return T._helpers.stroke(M,p,o)})}),N=p._handleTransition(x.merge(B),h,p,o).attr("cx",function(R){return T._helpers.cx(R,p,o)}).attr("cy",function(R){return T._helpers.cy(R,p,o)}).attr("r",function(R){return T._helpers.r(R,p,o)}).call(function(R){p.noFormats||R.attr("fill",function(M){return T._helpers.fill(M,p,o)}).attr("stroke",function(M){return T._helpers.stroke(M,p,o)})}),D=p._handleTransition(x.exit(),h,p,o).attr("r",0).attr("cx",function(R){return o.x._hasCategories()?T._helpers.cx(R,p,o):o.x._origin}).attr("cy",function(R){return o.y._hasCategories()?T._helpers.cy(R,p,o):o.y._origin}),T._postDrawHandling(o,N,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};T.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(p,o,h){var w=o._positionData,x=[],z=null,B="dimple-series-"+p.series.indexOf(o),N=o.x._hasCategories()||o.y._hasCategories()?0:1,D,R=!1,M,I,k,E,C,V,j,et,rt,vt,Ft=function(){return function(Nt,qt,ce,Kt){pt.select(qt).style("opacity",1),T._showPointTooltip(Nt,qt,ce,Kt)}},dt=function(Nt){return function(qt,ce,Kt,Et){pt.select(ce).style("opacity",Et.lineMarkers||Nt.data.length<2?T._helpers.opacity(qt,Kt,Et):0),T._removeTooltip(qt,ce,Kt,Et)}},lt=function(Nt,qt){T._drawMarkers(Nt,p,o,h,B,R,Ft(),dt(Nt),qt)},Mt=function(Nt,qt){var ce;return o.interpolation==="step"&&o[Nt]._hasCategories()?(o.barGap=0,o.clusterBarGap=0,ce=T._helpers[Nt](qt,p,o)+(Nt==="y"?T._helpers.height(qt,p,o):0)):ce=T._helpers["c"+Nt](qt,p,o),parseFloat(ce.toFixed(1))},Gt=function(Nt,qt){var ce=pt.line().x(function(Kt){return o.x._hasCategories()||!qt?Kt.x:o.x[qt]}).y(function(Kt){return o.y._hasCategories()||!qt?Kt.y:o.y[qt]});return T._interpolate(ce,Nt),ce};for(D=o.interpolation==="step"?"step-after":o.interpolation,vt=T._getSeriesOrder(o.data||p.data,o),o.c&&(o.x._hasCategories()&&o.y._hasMeasure()||o.y._hasCategories()&&o.x._hasMeasure())&&(R=!0),M=0;M<w.length;M+=1){for(E=[],V=-1,k=N;k<w[M].aggField.length;k+=1)E.push(w[M].aggField[k]);for(C=T._createClass(E),k=0;k<x.length;k+=1)if(x[k].keyString===C){V=k;break}V===-1&&(V=x.length,x.push({key:E,keyString:C,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),x[V].data.push(w[M])}for(vt&&x.sort(function(Nt,qt){return T._arrayIndexCompare(vt,Nt.key,qt.key)}),M=0;M<x.length;M+=1){for(x[M].data.sort(T._getSeriesSortPredicate(p,o,vt)),R&&T._addGradient(x[M].key,"fill-line-gradient-"+x[M].keyString,o.x._hasCategories()?o.x:o.y,w,p,h,"fill"),I=0;I<x[M].data.length;I+=1)x[M].points.push({x:Mt("x",x[M].data[I]),y:Mt("y",x[M].data[I])});o.interpolation==="step"&&x[M].points.length>1&&(o.x._hasCategories()?x[M].points.push({x:2*x[M].points[x[M].points.length-1].x-x[M].points[x[M].points.length-2].x,y:x[M].points[x[M].points.length-1].y}):o.y._hasCategories()&&(x[M].points=[{x:x[M].points[0].x,y:2*x[M].points[0].y-x[M].points[1].y}].concat(x[M].points))),x&&x[M]&&x[M].points&&x[M].points.length===1&&x[M].points.push({x:x[M].points[0].x,y:x[M].points[0].y}),x[M].entry=Gt(D,"_previousOrigin")(x[M].points),x[M].update=Gt(D)(x[M].points),x[M].exit=Gt(D,"_origin")(x[M].points),x[M].color=p.getColor(x[M].key.length>0?x[M].key[x[M].key.length-1]:"All"),x[M].css=p.getClass(x[M].key.length>0?x[M].key[x[M].key.length-1]:"All")}p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?z=o.shapes.data(x,function(Nt){return Nt.key}):z=o._group.selectAll("."+B).data(x,function(Nt){return Nt.key}),j=z.enter().append("path").attr("id",function(Nt){return T._createClass([Nt.key])}).attr("class",function(Nt){return B+" dimple-line "+Nt.keyString+" "+p.customClassList.lineSeries+" "+Nt.css}).attr("d",function(Nt){return Nt.entry}).call(function(Nt){p.noFormats||Nt.attr("opacity",function(qt){return R?1:qt.color.opacity}).style("fill","none").style("stroke",function(qt){return R?"url(#"+T._createClass(["fill-line-gradient-"+qt.keyString])+")":qt.color.stroke}).style("stroke-width",o.lineWeight)}).each(function(Nt){Nt.markerData=Nt.data,lt(Nt,this)}),et=p._handleTransition(z.merge(j),h,p).attr("d",function(Nt){return Nt.update}).each(function(Nt){Nt.markerData=Nt.data,lt(Nt,this)}),rt=p._handleTransition(z.exit(),h,p).attr("d",function(Nt){return Nt.exit}).each(function(Nt){Nt.markerData=[],lt(Nt,this)}),T._postDrawHandling(o,et,rt,h),o.shapes=o._group.selectAll("."+B)}};T.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(p,o,h){var w=o._positionData,x=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-pie"],B,N,D,R=function(V){var j;return o.x&&o.y?j=T._helpers.r(V,p,o):j=p._widthPixels()<p._heightPixels()?p._widthPixels()/2:p._heightPixels()/2,j},M=function(V){var j=R(V);return o.outerRadius&&(j=T._parsePosition(o.outerRadius,j)),Math.max(j,0)},I=function(V){var j=0;return o.innerRadius&&(j=T._parsePosition(o.innerRadius,R(V))),Math.max(j,0)},k=function(V){var j;return j=pt.arc().innerRadius(I(V)).outerRadius(M(V)),j(V)},E=function(V){V.innerRadius=I(V),V.outerRadius=M(V);var j=pt.interpolate(this._current,V),et;return et=pt.arc().innerRadius(function(rt){return rt.innerRadius}).outerRadius(function(rt){return rt.outerRadius}),this._current=j(0),function(rt){return et(j(rt))}},C=function(V){return function(j){var et,rt;return o.x&&o.y?(!V||o.x._hasCategories()?et=T._helpers.cx(j,p,o):et=o.x._previousOrigin,!V||o.y._hasCategories()?rt=T._helpers.cy(j,p,o):rt=o.y._previousOrigin):(et=p._xPixels()+p._widthPixels()/2,rt=p._yPixels()+p._heightPixels()/2),"translate("+et+","+rt+")"}};p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?x=o.shapes.data(w,function(V){return V.key}):x=o._group.selectAll("."+z.join(".")).data(w,function(V){return V.key}),B=x.enter().append("path").attr("id",function(V){return T._createClass([V.key])}).attr("class",function(V){var j=[];return j=j.concat(V.aggField),j=j.concat(V.pField),z.join(" ")+" "+T._createClass(j)+" "+p.customClassList.pieSeries+" "+T._helpers.css(V,p)}).attr("d",k).on("mouseover",function(V){T._showBarTooltip(V,this,p,o)}).on("mouseleave",function(V){T._removeTooltip(V,this,p,o)}).call(function(V){p.noFormats||V.attr("opacity",function(j){return T._helpers.opacity(j,p,o)}).style("fill",function(j){return T._helpers.fill(j,p,o)}).style("stroke",function(j){return T._helpers.stroke(j,p,o)})}).attr("transform",C(!0)).each(function(V){this._current=V,V.innerRadius=I(V),V.outerRadius=M(V)}),N=p._handleTransition(x.merge(B),h,p,o).call(function(V){h&&h>0?V.attrTween("d",E):V.attr("d",k),p.noFormats||V.attr("fill",function(j){return T._helpers.fill(j,p,o)}).attr("stroke",function(j){return T._helpers.stroke(j,p,o)})}).attr("transform",C(!1)),D=p._handleTransition(x.exit(),h,p,o).attr("transform",C(!0)).attr("d",k),T._postDrawHandling(o,N,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};T._addGradient=function(p,o,h,w,x,z,B){var N=[].concat(p),D=x.svg.select("#"+T._createClass([o])),R=[],M=h.position+"Field",I=!0,k=[];w.forEach(function(E){R.indexOf(E[M])===-1&&E.aggField.join("_")===N.join("_")&&R.push(E[M])},this),R=R.sort(function(E,C){return h._scale(E)-h._scale(C)}),D.node()===null&&(I=!1,D=x.svg.append("defs").append("linearGradient").attr("id",T._createClass([o])).attr("gradientUnits","userSpaceOnUse").attr("x1",h.position==="x"?h._scale(R[0])+x._widthPixels()/R.length/2:0).attr("y1",h.position==="y"?h._scale(R[0])-x._heightPixels()/R.length/2:0).attr("x2",h.position==="x"?h._scale(R[R.length-1])+x._widthPixels()/R.length/2:0).attr("y2",h.position==="y"?h._scale(R[R.length-1])-x._heightPixels()/R.length/2:0)),R.forEach(function(E,C){var V={},j=0;for(j=0;j<w.length;j=j+1)if(w[j].aggField.join("_")===N.join("_")&&w[j][M].join("_")===E.join("_")){V=w[j];break}k.push({offset:Math.round(C/(R.length-1)*100)+"%",color:V[B]})},this),I?x._handleTransition(D.selectAll("stop").data(k),z,x).attr("offset",function(E){return E.offset}).attr("stop-color",function(E){return E.color}):D.selectAll("stop").data(k).enter().append("stop").attr("offset",function(E){return E.offset}).attr("stop-color",function(E){return E.color})};T._arrayIndexCompare=function(p,o,h){var w,x,z,B,N,D;for(x=0;x<p.length;x+=1){for(B=!0,N=!0,D=[].concat(p[x]),z=0;z<o.length;z+=1)B=B&&o[z]===D[z];for(z=0;z<h.length;z+=1)N=N&&h[z]===D[z];if(B||N){B&&N?w=0:B?w=-1:w=1;break}}return w};T._createClass=function(p){var o,h=[],w;if(w=function(x){var z=x.charCodeAt(0),B="-";return z>=65&&z<=90&&(B=x.toLowerCase()),B},p.length>0)for(o=0;o<p.length;o+=1)p[o]&&h.push("dimple-"+p[o].toString().replace(/[^a-z\d]/g,w));else h=["dimple-all"];return h.join(" ")};T._drawMarkerBacks=function(p,o,h,w,x,z){var B,N=["dimple-marker-back",x,p.keyString],D,R;h.lineMarkers&&(h._markerBacks===null||h._markerBacks===void 0||h._markerBacks[p.keyString]===void 0?B=h._group.selectAll("."+N.join(".")).data(p.markerData):B=h._markerBacks[p.keyString].data(p.markerData,function(M){return M.key}),z.nextSibling&&z.nextSibling.id?R=B.enter().insert("circle","#"+z.nextSibling.id):R=B.enter().append("circle"),R.attr("id",function(M){return T._createClass([M.key+" Marker Back"])}).attr("class",function(M){var I=[];return h.x._hasCategories()&&(I=I.concat(M.xField)),h.y._hasCategories()&&(I=I.concat(M.yField)),T._createClass(I)+" "+N.join(" ")}).attr("cx",function(M){return h.x._hasCategories()?T._helpers.cx(M,o,h):h.x._previousOrigin}).attr("cy",function(M){return h.y._hasCategories()?T._helpers.cy(M,o,h):h.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),o._handleTransition(B.merge(R),w,o).attr("cx",function(M){return T._helpers.cx(M,o,h)}).attr("cy",function(M){return T._helpers.cy(M,o,h)}).attr("r",2+h.lineWeight),D=o._handleTransition(B.exit(),w,o).attr("cx",function(M){return h.x._hasCategories()?T._helpers.cx(M,o,h):h.x._origin}).attr("cy",function(M){return h.y._hasCategories()?T._helpers.cy(M,o,h):h.y._origin}).attr("r",0),w===0?D.remove():D.each("end",function(){pt.select(this).remove()}),(h._markerBacks===void 0||h._markerBacks===null)&&(h._markerBacks={}),h._markerBacks[p.keyString]=B)};T._drawMarkers=function(p,o,h,w,x,z,B,N,D){var R,M=["dimple-marker",x,p.keyString],I,k;h._markers===null||h._markers===void 0||h._markers[p.keyString]===void 0?R=h._group.selectAll("."+M.join(".")).data(p.markerData):R=h._markers[p.keyString].data(p.markerData,function(E){return E.key}),D.nextSibling&&D.nextSibling.id?k=R.enter().insert("circle","#"+D.nextSibling.id):k=R.enter().append("circle"),k.attr("id",function(E){return T._createClass([E.key+" Marker"])}).attr("class",function(E){var C=[],V=o.getClass(E.aggField.length>0?E.aggField[E.aggField.length-1]:"All");return h.x._hasCategories()&&(C=C.concat(E.xField)),h.y._hasCategories()&&(C=C.concat(E.yField)),T._createClass(C)+" "+M.join(" ")+" "+o.customClassList.lineMarker+" "+V}).on("mouseover",function(E){B(E,this,o,h)}).on("mouseleave",function(E){N(E,this,o,h)}).attr("cx",function(E){return h.x._hasCategories()?T._helpers.cx(E,o,h):h.x._previousOrigin}).attr("cy",function(E){return h.y._hasCategories()?T._helpers.cy(E,o,h):h.y._previousOrigin}).attr("r",0).attr("opacity",h.lineMarkers||p.data.length<2?p.color.opacity:0).call(function(E){o.noFormats||E.attr("fill","white").style("stroke-width",h.lineWeight).attr("stroke",function(C){return z?T._helpers.fill(C,o,h):p.color.stroke})}),o._handleTransition(R.merge(k),w,o).attr("cx",function(E){return T._helpers.cx(E,o,h)}).attr("cy",function(E){return T._helpers.cy(E,o,h)}).attr("r",2+h.lineWeight).attr("opacity",h.lineMarkers||p.data.length<2?p.color.opacity:0).call(function(E){o.noFormats||E.attr("fill","white").style("stroke-width",h.lineWeight).attr("stroke",function(C){return z?T._helpers.fill(C,o,h):p.color.stroke})}),I=o._handleTransition(R.exit(),w,o).attr("cx",function(E){return h.x._hasCategories()?T._helpers.cx(E,o,h):h.x._origin}).attr("cy",function(E){return h.y._hasCategories()?T._helpers.cy(E,o,h):h.y._origin}).attr("r",0),w===0?I.remove():I.each("end",function(){pt.select(this).remove()}),(h._markers===void 0||h._markers===null)&&(h._markers={}),h._markers[p.keyString]=R,T._drawMarkerBacks(p,o,h,w,x,D)};T._ease=function(p,o){if(p&&o&&Object.prototype.toString.call(o)==="[object String]"){switch(o){case"linear":o=pt.easeLinear;break;case"poly":o=pt.easePoly;break;case"quad":o=pt.easeQuad;break;case"cubic":o=pt.easeCubic;break;case"sin":o=pt.easeSin;break;case"exp":o=pt.easeExp;break;case"circle":o=pt.easeCircle;break;case"elastic":o=pt.easeElastic;break;case"back":o=pt.easeBack;break;case"bounce":o=pt.easeBounce;break}p.ease(o)}};T._getOrderedList=function(p,o,h){var w,x=[],z=[],B=[].concat(o),N=[].concat(o),D=[];return h!=null&&(D=D.concat(h)),D=D.concat({ordering:B,desc:!1}),D.forEach(function(R){var M,I=[],k=[];if(typeof R.ordering=="function"){if(p&&p.length>0)for(M in p[0])Object.prototype.hasOwnProperty.call(p[0],M)&&N.indexOf(M)===-1&&N.push(M)}else if(!(R.ordering instanceof Array))N.push(R.ordering);else{for(M=0;M<R.ordering.length;M+=1)p&&p.length>0&&Object.prototype.hasOwnProperty.call(p[0],R.ordering[M])&&k.push(R.ordering[M]),I.push(R.ordering[M]);k.length>I.length/2?N.concat(k):R.values=I}},this),w=T._rollUp(p,B,N),D.length>=1&&(D.forEach(function(R){var M=R.desc===null||R.desc===void 0?!1:R.desc,I=R.ordering,k=[],E=function(V){var j=0,et;for(et=0;et<V.length;et+=1)if(!isNaN(V[et]))j+=parseFloat(V[et]);else{j=void 0;break}return j},C=function(V,j){var et=0,rt=E(V),vt=E(j);return!isNaN(rt)&&!isNaN(vt)?et=parseFloat(rt)-parseFloat(vt):!isNaN(Date.parse(V[0]))&&!isNaN(Date.parse(j[0]))?et=Date.parse(V[0])-Date.parse(j[0]):V[0]<j[0]?et=-1:V[0]>j[0]&&(et=1),et};typeof I=="function"?x.push(function(V,j){return(M?-1:1)*I(V,j)}):R.values&&R.values.length>0?(R.values.forEach(function(V){k.push([].concat(V).join("|"))},this),x.push(function(V,j){var et="",rt="",vt,Ft,dt;for(dt=0;dt<B.length;dt+=1)dt>0&&(et+="|",rt+="|"),et+=V[B[dt]],rt+=j[B[dt]];return vt=k.indexOf(et),Ft=k.indexOf(rt),vt=vt<0?M?-1:k.length:vt,Ft=Ft<0?M?-1:k.length:Ft,(M?-1:1)*(vt-Ft)})):[].concat(R.ordering).forEach(function(V){x.push(function(j,et){var rt=0;return j[V]!==void 0&&et[V]!==void 0&&(rt=C([].concat(j[V]),[].concat(et[V]))),(M?-1:1)*rt})})}),w.sort(function(R,M){for(var I=0,k=0;I<x.length&&k===0;)k=x[I](R,M),I+=1;return k}),w.forEach(function(R){var M,I=[];if(B.length===1)z.push(R[B[0]]);else{for(M=0;M<B.length;M+=1)I.push(R[B[M]]);z.push(I)}},this)),z};T._getSeriesOrder=function(p,o){var h=[].concat(o._orderRules),w=o.categoryFields,x=[];return w!=null&&w.length>0&&(o.c!==null&&o.c!==void 0&&o.c._hasMeasure()&&h.push({ordering:o.c.measure,desc:!0}),o.x._hasMeasure()&&h.push({ordering:o.x.measure,desc:!0}),o.y._hasMeasure()&&h.push({ordering:o.y.measure,desc:!0}),x=T._getOrderedList(p,w,h)),x};T._getSeriesSortPredicate=function(p,o,h){return function(w,x){var z=0;return o.x._hasCategories()&&(z=T._helpers.cx(w,p,o)-T._helpers.cx(x,p,o)),z===0&&o.y._hasCategories()&&(z=T._helpers.cy(w,p,o)-T._helpers.cy(x,p,o)),z===0&&h&&(z=T._arrayIndexCompare(h,w.aggField,x.aggField)),z}};T._helpers={cx:function(p,o,h){var w=0;return h.x.measure!==null&&h.x.measure!==void 0?w=h.x._scale(p.cx):h.x._hasCategories()&&h.x.categoryFields.length>=2?w=h.x._scale(p.cx)+T._helpers.xGap(o,h)+(p.xOffset+.5)*((o._widthPixels()/h.x._max-2*T._helpers.xGap(o,h))*p.width):w=h.x._scale(p.cx)+o._widthPixels()/h.x._max/2,w},cy:function(p,o,h){var w=0;return h.y.measure!==null&&h.y.measure!==void 0?w=h.y._scale(p.cy):h.y.categoryFields!==null&&h.y.categoryFields!==void 0&&h.y.categoryFields.length>=2?w=h.y._scale(p.cy)-o._heightPixels()/h.y._max+T._helpers.yGap(o,h)+(p.yOffset+.5)*((o._heightPixels()/h.y._max-2*T._helpers.yGap(o,h))*p.height):w=h.y._scale(p.cy)-o._heightPixels()/h.y._max/2,w},r:function(p,o,h){var w=0,x=1;return h.z===null||h.z===void 0?w=!h.radius||h.radius==="auto"?5:h.radius:(h.radius&&h.radius!=="auto"&&h.radius>1&&(x=h.radius/h.z._scale(h.z._max)),h.z._hasMeasure()?w=h.z._scale(p.r)*x:w=h.z._scale(o._heightPixels()/100)*x),w},xGap:function(p,o){var h=0;return(o.x.measure===null||o.x.measure===void 0)&&o.barGap>0&&(h=p._widthPixels()/o.x._max*(o.barGap>.99?.99:o.barGap)/2),h},xClusterGap:function(p,o,h){var w=0;return h.x.categoryFields!==null&&h.x.categoryFields!==void 0&&h.x.categoryFields.length>=2&&h.clusterBarGap>0&&!h.x._hasMeasure()&&(w=p.width*(o._widthPixels()/h.x._max-T._helpers.xGap(o,h)*2)*(h.clusterBarGap>.99?.99:h.clusterBarGap)/2),w},yGap:function(p,o){var h=0;return(o.y.measure===null||o.y.measure===void 0)&&o.barGap>0&&(h=p._heightPixels()/o.y._max*(o.barGap>.99?.99:o.barGap)/2),h},yClusterGap:function(p,o,h){var w=0;return h.y.categoryFields!==null&&h.y.categoryFields!==void 0&&h.y.categoryFields.length>=2&&h.clusterBarGap>0&&!h.y._hasMeasure()&&(w=p.height*(o._heightPixels()/h.y._max-T._helpers.yGap(o,h)*2)*(h.clusterBarGap>.99?.99:h.clusterBarGap)/2),w},x:function(p,o,h){var w=0;return h.x._hasTimeField()?w=h.x._scale(p.x)-T._helpers.width(p,o,h)/2:h.x.measure!==null&&h.x.measure!==void 0?w=h.x._scale(p.x):w=h.x._scale(p.x)+T._helpers.xGap(o,h)+p.xOffset*(T._helpers.width(p,o,h)+2*T._helpers.xClusterGap(p,o,h))+T._helpers.xClusterGap(p,o,h),w},y:function(p,o,h){var w=0;return h.y._hasTimeField()?w=h.y._scale(p.y)-T._helpers.height(p,o,h)/2:h.y.measure!==null&&h.y.measure!==void 0?w=h.y._scale(p.y):w=h.y._scale(p.y)-o._heightPixels()/h.y._max+T._helpers.yGap(o,h)+p.yOffset*(T._helpers.height(p,o,h)+2*T._helpers.yClusterGap(p,o,h))+T._helpers.yClusterGap(p,o,h),w},width:function(p,o,h){var w=0;return h.x.measure!==null&&h.x.measure!==void 0?w=Math.abs(h.x._scale(p.x<0?p.x-p.width:p.x+p.width)-h.x._scale(p.x)):h.x._hasTimeField()?w=h.x.floatingBarWidth:w=p.width*(o._widthPixels()/h.x._max-T._helpers.xGap(o,h)*2)-T._helpers.xClusterGap(p,o,h)*2,w},height:function(p,o,h){var w=0;return h.y._hasTimeField()?w=h.y.floatingBarWidth:h.y.measure!==null&&h.y.measure!==void 0?w=Math.abs(h.y._scale(p.y)-h.y._scale(p.y<=0?p.y+p.height:p.y-p.height)):w=p.height*(o._heightPixels()/h.y._max-T._helpers.yGap(o,h)*2)-T._helpers.yClusterGap(p,o,h)*2,w},opacity:function(p,o,h){var w=0;return h.c!==null&&h.c!==void 0?w=p.opacity:w=o.getColor(p.aggField.slice(-1)[0]).opacity,w},fill:function(p,o,h){var w=0;return h.c!==null&&h.c!==void 0?w=p.fill:w=o.getColor(p.aggField.slice(-1)[0]).fill,w},stroke:function(p,o,h){var w=0;return h.c!==null&&h.c!==void 0?w=p.stroke:w=o.getColor(p.aggField.slice(-1)[0]).stroke,w},css:function(p,o){return o.getClass(p.aggField.slice(-1)[0])}};T._interpolate=function(p,o){if(p&&o){if(Object.prototype.toString.call(o)==="[object String]")switch(o){case"linear":o=pt.curveLinear;break;case"linear-closed":o=pt.curveLinearClosed;break;case"step":o=pt.curveStep;break;case"step-before":o=pt.curveStepBefore;break;case"step-after":o=pt.curveStepAfter;break;case"basis":o=pt.curveBasis;break;case"basis-open":o=pt.curveBasisOpen;break;case"basis-closed":o=pt.curveBasisClosed;break;case"bundle":o=pt.curveBundle;break;case"cardinal":o=pt.curveCardinal;break;case"cardinal-open":o=pt.curveCardinalOpen;break;case"cardinal-closed":o=pt.curveCardinalClosed;break;case"monotone":o=pt.curveMonotoneX;break}p.curve(o)}};T._parentHeight=function(p){var o=p.getBoundingClientRect().height;return(!o||o<0)&&(o=p.clientHeight),o};T._parentWidth=function(p){var o=p.getBoundingClientRect().width;return(!o||o<0)&&(o=p.clientWidth),o};T._parsePosition=function(p,o){var h=0,w;return p&&(w=p.toString().split(","),w.forEach(function(x){x&&(isNaN(x)?x.slice(-1)==="%"?h+=o*(parseFloat(x.slice(0,x.length-1))/100):x.slice(-2)==="px"?h+=parseFloat(x.slice(0,x.length-2)):h=p:h+=parseFloat(x))},this)),h<0&&(h=o+h),h};T._parseXPosition=function(p,o){return T._parsePosition(p,T._parentWidth(o))};T._parseYPosition=function(p,o){return T._parsePosition(p,T._parentHeight(o))};T._postDrawHandling=function(p,o,h,w){w===0?(o.each(function(x,z){p.afterDraw&&p.afterDraw(this,x,z)}),h.remove()):(o.on("end",function(x,z){p.afterDraw&&p.afterDraw(this,x,z)}),h.call(function(){p.shapes&&p.shapes.exit().remove()}))};T._removeTooltip=function(p,o,h,w){h._tooltipGroup&&h._tooltipGroup.remove()};T._rollUp=function(p,o,h){var w=[];return o!=null?o=[].concat(o):o=[],p.forEach(function(x){var z=-1,B={},N=!0;w.forEach(function(D,R){z===-1&&(N=!0,o.forEach(function(M){N=N&&x[M]===D[M]},this),N&&(z=R))},this),z!==-1?B=w[z]:(o.forEach(function(D){B[D]=x[D]},this),w.push(B),z=w.length-1),h.forEach(function(D){o.indexOf(D)===-1&&(B[D]===void 0&&(B[D]=[]),B[D]=B[D].concat(x[D]))},this),w[z]=B},this),w};T._showBarTooltip=function(p,o,h,w){var x=5,z=10,B=750,N=pt.select(o),D=N.node().getBBox().x,R=N.node().getBBox().y,M=N.node().getBBox().width,I=N.node().getBBox().height,k=N.attr("opacity"),E=N.attr("fill"),C=w._dropLineOrigin(),V=pt.rgb(pt.rgb(E).r+.6*(255-pt.rgb(E).r),pt.rgb(E).g+.6*(255-pt.rgb(E).g),pt.rgb(E).b+.6*(255-pt.rgb(E).b)),j=pt.rgb(pt.rgb(E).r+.8*(255-pt.rgb(E).r),pt.rgb(E).g+.8*(255-pt.rgb(E).g),pt.rgb(E).b+.8*(255-pt.rgb(E).b)),et,rt,vt=w.getTooltipText(p),Ft=0,dt=0,lt=0,Mt,Gt,Nt,qt,ce=function(Kt,Et){var ee=N.node().getCTM(),le=h.svg.node().createSVGPoint();return le.x=Kt||0,le.y=Et||0,le.matrixTransform(ee)};h._tooltipGroup!==null&&h._tooltipGroup!==void 0&&h._tooltipGroup.remove(),h._tooltipGroup=h.svg.append("g"),w.p||(qt=w._isStacked()?1:M/2,!w.x._hasCategories()&&C.y!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<w.x._origin?D+qt:D+M-qt).attr("y1",R<C.y?R+I:R).attr("x2",D<w.x._origin?D+qt:D+M-qt).attr("y2",R<C.y?R+I:R).call(function(Kt){h.noFormats||Kt.style("fill","none").style("stroke",E).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",k)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("y2",R<C.y?C.y-1:C.y+1),qt=w._isStacked()?1:I/2,!w.y._hasCategories()&&C.x!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<C.x?D+M:D).attr("y1",R<w.y._origin?R+qt:R+I-qt).attr("x2",D<C.x?D+M:D).attr("y2",R<w.y._origin?R+qt:R+I-qt).call(function(Kt){h.noFormats||Kt.style("fill","none").style("stroke",E).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",k)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("x2",D<C.x?C.x-1:C.x+1)),et=h._tooltipGroup.append("g"),rt=et.append("rect").attr("class","dimple-tooltip "+h.customClassList.tooltipBox),et.selectAll(".dimple-dont-select-any").data(vt).enter().append("text").attr("class","dimple-tooltip "+h.customClassList.tooltipLabel).text(function(Kt){return Kt}).call(function(Kt){h.noFormats||Kt.style("font-family",w.tooltipFontFamily).style("font-size",w._getTooltipFontSize())}),et.each(function(){dt=this.getBBox().width>dt?this.getBBox().width:dt,lt=this.getBBox().width>lt?this.getBBox().height:lt}),et.selectAll("text").attr("x",0).attr("y",function(){return Ft+=this.getBBox().height,Ft-this.getBBox().height/2}),rt.attr("x",-5).attr("y",-5).attr("height",Math.floor(Ft+x)-.5).attr("width",dt+2*x).attr("rx",5).attr("ry",5).call(function(Kt){h.noFormats||Kt.style("fill",j).style("stroke",V).style("stroke-width",2).style("opacity",.95)}),ce(D+M+x+z+dt).x<parseFloat(h.svg.node().getBBox().width)?(Mt=D+M+x+z,Gt=R+I/2-(Ft-(lt-x))/2):ce(D-(x+z+dt)).x>0?(Mt=D-(x+z+dt),Gt=R+I/2-(Ft-(lt-x))/2):ce(0,R+I+Ft+z+x).y<parseFloat(h.svg.node().getBBox().height)?(Mt=D+M/2-(2*x+dt)/2,Mt=Mt>0?Mt:z,Mt=Mt+dt<parseFloat(h.svg.node().getBBox().width)?Mt:parseFloat(h.svg.node().getBBox().width)-dt-z,Gt=R+I+2*x):(Mt=D+M/2-(2*x+dt)/2,Mt=Mt>0?Mt:z,Mt=Mt+dt<parseFloat(h.svg.node().getBBox().width)?Mt:parseFloat(h.svg.node().getBBox().width)-dt-z,Gt=R-Ft-(lt-x)),Nt=ce(Mt,Gt),et.attr("transform","translate("+Nt.x+" , "+Nt.y+")")};T._showPointTooltip=function(p,o,h,w){var x=5,z=10,B=750,N=pt.select(o),D=parseFloat(N.attr("cx")),R=parseFloat(N.attr("cy")),M=parseFloat(N.attr("r")),I=T._helpers.opacity(p,h,w),k=N.attr("stroke"),E=w._dropLineOrigin(),C=pt.rgb(pt.rgb(k).r+.6*(255-pt.rgb(k).r),pt.rgb(k).g+.6*(255-pt.rgb(k).g),pt.rgb(k).b+.6*(255-pt.rgb(k).b)),V=pt.rgb(pt.rgb(k).r+.8*(255-pt.rgb(k).r),pt.rgb(k).g+.8*(255-pt.rgb(k).g),pt.rgb(k).b+.8*(255-pt.rgb(k).b)),j=0,et=0,rt=0,vt,Ft,dt=w.getTooltipText(p),lt,Mt;h._tooltipGroup!==null&&h._tooltipGroup!==void 0&&h._tooltipGroup.remove(),h._tooltipGroup=h.svg.append("g"),h._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+h.customClassList.lineMarkerCircle).attr("cx",D).attr("cy",R).attr("r",M).call(function(Gt){h.noFormats||Gt.attr("opacity",0).style("fill","none").style("stroke",k).style("stroke-width",1)}).transition().duration(B/2).ease(pt.easeLinear).attr("r",M+w.lineWeight+2).call(function(Gt){h.noFormats||Gt.attr("opacity",1).style("stroke-width",2)}),E.y!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D).attr("y1",R<E.y?R+M+w.lineWeight+2:R-M-w.lineWeight-2).attr("x2",D).attr("y2",R<E.y?R+M+w.lineWeight+2:R-M-w.lineWeight-2).call(function(Gt){h.noFormats||Gt.style("fill","none").style("stroke",k).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("y2",R<E.y?E.y-1:E.y+1),E.x!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<E.x?D+M+w.lineWeight+2:D-M-w.lineWeight-2).attr("y1",R).attr("x2",D<E.x?D+M+w.lineWeight+2:D-M-w.lineWeight-2).attr("y2",R).call(function(Gt){h.noFormats||Gt.style("fill","none").style("stroke",k).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("x2",D<E.x?E.x-1:E.x+1),vt=h._tooltipGroup.append("g"),Ft=vt.append("rect").attr("class","dimple-tooltip "+h.customClassList.tooltipBox),vt.selectAll(".dont-select-any").data(dt).enter().append("text").attr("class","dimple-tooltip "+h.customClassList.tooltipLabel).text(function(Gt){return Gt}).call(function(Gt){h.noFormats||Gt.style("font-family",w.tooltipFontFamily).style("font-size",w._getTooltipFontSize())}),vt.each(function(){et=this.getBBox().width>et?this.getBBox().width:et,rt=this.getBBox().width>rt?this.getBBox().height:rt}),vt.selectAll("text").attr("x",0).attr("y",function(){return j+=this.getBBox().height,j-this.getBBox().height/2}),Ft.attr("x",-5).attr("y",-5).attr("height",Math.floor(j+x)-.5).attr("width",et+2*x).attr("rx",5).attr("ry",5).call(function(Gt){h.noFormats||Gt.style("fill",V).style("stroke",C).style("stroke-width",2).style("opacity",.95)}),D+M+x+z+et<parseFloat(h.svg.node().getBBox().width)?(lt=D+M+x+z,Mt=R-(j-(rt-x))/2):D-M-(x+z+et)>0?(lt=D-M-(x+z+et),Mt=R-(j-(rt-x))/2):R+M+j+z+x<parseFloat(h.svg.node().getBBox().height)?(lt=D-(2*x+et)/2,lt=lt>0?lt:z,lt=lt+et<parseFloat(h.svg.node().getBBox().width)?lt:parseFloat(h.svg.node().getBBox().width)-et-z,Mt=R+M+2*x):(lt=D-(2*x+et)/2,lt=lt>0?lt:z,lt=lt+et<parseFloat(h.svg.node().getBBox().width)?lt:parseFloat(h.svg.node().getBBox().width)-et-z,Mt=R-j-(rt-x)),vt.attr("transform","translate("+lt+" , "+Mt+")")};T.filterData=function(p,o,h){var w=p;return o!==null&&h!==null&&(h!=null&&(h=[].concat(h)),w=[],p.forEach(function(x){(x[o]===null||h.indexOf([].concat(x[o]).join("/"))>-1)&&w.push(x)},this)),w};T.getUniqueValues=function(p,o){var h=[];return o!=null&&(o=[].concat(o),p.forEach(function(w){var x="";o.forEach(function(z,B){B>0&&(x+="/"),x+=w[z]},this),h.indexOf(x)===-1&&h.push(x)},this)),h};T.newSvg=function(p,o,h){var w=null;if(p==null&&(p="body"),w=pt.select(p),w.empty())throw"The '"+p+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return w.append("svg").attr("width",o).attr("height",h)};const fi=(p,o,h)=>{(p==null||p===void 0)&&(p="body");const w=pt.select(p);if(w.empty())throw"The '"+p+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return w.append("svg").attr("width",o).attr("height",h)},vc=p=>{if(typeof window<"u"){const{pptx:I,resultElement:k,thumbElement:E,onError:C,onLoad:V}=p,j=document.createElement("div");j.setAttribute("class","r-preview-pptx-main"),k.innerHTML="",k.appendChild(j);let et=!1;return new Promise((rt,vt)=>{const Ft=lt=>{if(et)return;const Mt=document.createElement("div"),Gt=document.createElement("style");switch(lt.type){case"slide":Mt.innerHTML=lt.data,j.appendChild(Mt);break;case"pptx-thumb":E&&(E==null||E.setAttribute("src",`data:image/jpeg;base64,${lt.data}`));break;case"slideSize":break;case"globalCSS":Gt.innerHTML=lt.data,j.appendChild(Gt);break;case"Done":et=!0,o(lt.data.charts),V&&V({success:!0,data:lt}),rt(lt.data.time);break;case"WARN":console.warn("PPTX processing warning: ",lt.data);break;case"ERROR":et=!0,console.error("PPTX processing error: ",lt.data),C&&C({success:!1,data:lt}),vt(new Error(lt.data));break}},dt={postMessage};mc(lt=>{dt.postMessage=lt},Ft),dt.postMessage({type:"processPPTX",data:I})}).then(rt=>{const vt=()=>{const Ft=Math.max(...Array.from(j.children).filter(lt=>lt.nodeName==="section").map(lt=>lt.offsetWidth)),dt=j.children[0].offsetWidth;j.setAttribute("style",`transform: scale(${dt/Ft}),transform-origin': 'top left'`)};return vt(),window.addEventListener("resize",vt),z(document.getElementsByClassName("block")),z(document.getElementsByTagName("td")),rt})}function o(I){for(let k=0;k<I.length;k++)w(I[k].data)}function h(I){const k=[],E=[],C=[];return I.forEach((V,j)=>{const et=V.key;C[j]=V.key,V.values.forEach((rt,vt)=>{const Ft=V.xlabels[vt];E[vt]=V.xlabels[vt],k.push({name:Ft,group:et,value:rt.y})})}),{data:k,xLabels:E,groupLabels:C}}function w(I){const k=I.chartID,E=I.chartType,C=I.chartData;let V=[];switch(E){case"lineChart":{const{data:j,xLabels:et,groupLabels:rt}=h(C);V=j;const vt=document.getElementById(k)||document.body,Ft=vt&&fi(`#${k}`,vt.style.width,vt.style.height),dt=new T.chart(Ft,V),lt=dt.addCategoryAxis("x","name");lt.addOrderRule(et),lt.addGroupOrderRule(rt),lt.title=null;const Mt=dt.addMeasureAxis("y","value");Mt.title=null,dt.addSeries("group",T.plot.line),dt.addLegend(60,10,500,20,"right"),dt.draw();break}case"barChart":{const{data:j,xLabels:et,groupLabels:rt}=h(C);V=j;const vt=document.getElementById(k)||document.body,Ft=fi("#"+k,vt.style.width,vt.style.height),dt=new T.chart(Ft,V),lt=dt.addCategoryAxis("x",["name","group"]);lt.addOrderRule(et),lt.addGroupOrderRule(rt),lt.title=null;const Mt=dt.addMeasureAxis("y","value");Mt.title=null,dt.addSeries("group",T.plot.bar),dt.addLegend(60,10,500,20,"right"),dt.draw();break}case"pieChart":case"pie3DChart":{const{data:j,groupLabels:et}=h(C);V=j;const rt=document.getElementById(k)||document.body,vt=fi(`#${k}`,rt.style.width,rt.style.height),Ft=new T.chart(vt,V);Ft.addMeasureAxis("p","value").addOrderRule(et),Ft.addSeries("name",T.plot.pie),Ft.addLegend(50,20,400,300,"left"),Ft.draw();break}case"areaChart":{const{data:j,xLabels:et,groupLabels:rt}=h(C);V=j;const vt=document.getElementById(k)||document.body,Ft=fi("#"+k,vt.style.width,vt.style.height),dt=new T.chart(Ft,V),lt=dt.addCategoryAxis("x","name");lt.addOrderRule(et),lt.addGroupOrderRule(rt),lt.title=null;const Mt=dt.addMeasureAxis("y","value");Mt.title=null,dt.addSeries("group",T.plot.area),dt.addLegend(60,10,500,20,"right"),dt.draw();break}case"scatterChart":{for(let j=0;j<C.length;j++){const et=[];for(let rt=0;rt<C[j].length;rt++)et.push({x:rt,y:C[j][rt]});V.push({key:"data"+(j+1),values:et})}break}}}function x(I,k){const E=[],C=V=>{V.forEach(j=>{j.children.length>0&&C(Array.from(j.children)),Array.from(j.classList).includes(k)&&E.push(j)})};return I.children.length>0&&C(Array.from(I.children)),E}function z(I){const k=Array.from(I);for(let E=0;E<k.length;E++){const C=x(k[E],"numeric-bullet-style");if(C.length>0){let V="",j="",et=0;const rt=[];let vt=0;const Ft=[];for(let dt=0;dt<C.length;dt++){const lt=C[dt].getAttribute("data-bulltname"),Mt=C[dt].getAttribute("data-bulltlvl");et===0?(V=lt,j=Mt,rt[vt]=et,Ft[vt]=lt,et++):lt===V&&Mt===j?(V=lt,j=Mt,et++,rt[vt]=et,Ft[vt]=lt):lt!==V&&Mt===j||lt!==V&&Number(Mt)>Number(j)?(V=lt,j=Mt,vt++,rt[vt]=et,Ft[vt]=lt,et=1):lt!==V&&Number(Mt)<Number(j)&&(V=lt,j=Mt,vt--,et=rt[vt]+1);const Gt=B(Ft[vt],et);C[dt].innerHTML=Gt.toString()}}}}function B(I,k){let E="";switch(I){case"arabicPeriod":E=k+". ";break;case"arabicParenR":E=k+") ";break;case"alphaLcParenR":E=M(k,"lowerCase")+") ";break;case"alphaLcPeriod":E=M(k,"lowerCase")+". ";break;case"alphaUcParenR":E=M(k,"upperCase")+") ";break;case"alphaUcPeriod":E=M(k,"upperCase")+". ";break;case"romanUcPeriod":E=N(k)+". ";break;case"romanLcParenR":E=N(k)+") ";break;case"hebrew2Minus":E=D.format(Number(k))+"-";break;default:E=k}return E}function N(I){if(!+I)return!1;const k=String(+I).split(""),E=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let C="",V=3;for(;V--;)C=(E[+k.pop()+V*10]||"")+C;return new Array(+k.join("")+1).join("M")+C}const D=R([[1e3,""],[400,"ת"],[300,"ש"],[200,"ר"],[100,"ק"],[90,"צ"],[80,"פ"],[70,"ע"],[60,"ס"],[50,"נ"],[40,"מ"],[30,"ל"],[20,"כ"],[10,"י"],[9,"ט"],[8,"ח"],[7,"ז"],[6,"ו"],[5,"ה"],[4,"ד"],[3,"ג"],[2,"ב"],[1,"א"],[/יה/,"ט״ו"],[/יו/,"ט״ז"]]);function R(I){return{format:function(k){let E="";return I.forEach(C=>{const V=C[0];if(parseInt(V.toString())>0)for(;k>=Number(V);k-=Number(V))E+=C[1];else E=E.replace(V.toString(),C[1])}),E}}}function M(I,k){I=Number(I)-1;let E="";return k==="upperCase"?E=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toUpperCase():k==="lowerCase"&&(E=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toLowerCase()),E}};export{vc as renderPptx};

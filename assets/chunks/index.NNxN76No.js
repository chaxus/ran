import{a1 as ii}from"./framework.bu1i8zgF.js";var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mv(K){return K&&K.__esModule&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K}var Ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu;function Pv(){if(Cu)return Ur;Cu=1;var K=Symbol.for("react.element"),_=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),t=Symbol.for("react.memo"),i=Symbol.for("react.lazy"),r=Symbol.iterator;function n(H){return H===null||typeof H!="object"?null:(H=r&&H[r]||H["@@iterator"],typeof H=="function"?H:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,a={};function v(H,$,Y){this.props=H,this.context=$,this.refs=a,this.updater=Y||l}v.prototype.isReactComponent={},v.prototype.setState=function(H,$){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,$,"setState")},v.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function y(){}y.prototype=v.prototype;function p(H,$,Y){this.props=H,this.context=$,this.refs=a,this.updater=Y||l}var E=p.prototype=new y;E.constructor=p,d(E,v.prototype),E.isPureReactComponent=!0;var T=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function I(H,$,Y){var z,B={},L=null,G=null;if($!=null)for(z in $.ref!==void 0&&(G=$.ref),$.key!==void 0&&(L=""+$.key),$)S.call($,z)&&!w.hasOwnProperty(z)&&(B[z]=$[z]);var le=arguments.length-2;if(le===1)B.children=Y;else if(1<le){for(var ge=Array(le),Ie=0;Ie<le;Ie++)ge[Ie]=arguments[Ie+2];B.children=ge}if(H&&H.defaultProps)for(z in le=H.defaultProps,le)B[z]===void 0&&(B[z]=le[z]);return{$$typeof:K,type:H,key:L,ref:G,props:B,_owner:A.current}}function D(H,$){return{$$typeof:K,type:H.type,key:$,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===K}function ie(H){var $={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Y){return $[Y]})}var te=/\/+/g;function re(H,$){return typeof H=="object"&&H!==null&&H.key!=null?ie(""+H.key):$.toString(36)}function Z(H,$,Y,z,B){var L=typeof H;(L==="undefined"||L==="boolean")&&(H=null);var G=!1;if(H===null)G=!0;else switch(L){case"string":case"number":G=!0;break;case"object":switch(H.$$typeof){case K:case _:G=!0}}if(G)return G=H,B=B(G),H=z===""?"."+re(G,0):z,T(B)?(Y="",H!=null&&(Y=H.replace(te,"$&/")+"/"),Z(B,$,Y,"",function(Ie){return Ie})):B!=null&&(V(B)&&(B=D(B,Y+(!B.key||G&&G.key===B.key?"":(""+B.key).replace(te,"$&/")+"/")+H)),$.push(B)),1;if(G=0,z=z===""?".":z+":",T(H))for(var le=0;le<H.length;le++){L=H[le];var ge=z+re(L,le);G+=Z(L,$,Y,ge,B)}else if(ge=n(H),typeof ge=="function")for(H=ge.call(H),le=0;!(L=H.next()).done;)L=L.value,ge=z+re(L,le++),G+=Z(L,$,Y,ge,B);else if(L==="object")throw $=String(H),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return G}function W(H,$,Y){if(H==null)return H;var z=[],B=0;return Z(H,z,"","",function(L){return $.call(Y,L,B++)}),z}function j(H){if(H._status===-1){var $=H._result;$=$(),$.then(function(Y){(H._status===0||H._status===-1)&&(H._status=1,H._result=Y)},function(Y){(H._status===0||H._status===-1)&&(H._status=2,H._result=Y)}),H._status===-1&&(H._status=0,H._result=$)}if(H._status===1)return H._result.default;throw H._result}var O={current:null},C={transition:null},F={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:C,ReactCurrentOwner:A};return Ur.Children={map:W,forEach:function(H,$,Y){W(H,function(){$.apply(this,arguments)},Y)},count:function(H){var $=0;return W(H,function(){$++}),$},toArray:function(H){return W(H,function($){return $})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ur.Component=v,Ur.Fragment=e,Ur.Profiler=g,Ur.PureComponent=p,Ur.StrictMode=m,Ur.Suspense=s,Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Ur.cloneElement=function(H,$,Y){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var z=d({},H.props),B=H.key,L=H.ref,G=H._owner;if($!=null){if($.ref!==void 0&&(L=$.ref,G=A.current),$.key!==void 0&&(B=""+$.key),H.type&&H.type.defaultProps)var le=H.type.defaultProps;for(ge in $)S.call($,ge)&&!w.hasOwnProperty(ge)&&(z[ge]=$[ge]===void 0&&le!==void 0?le[ge]:$[ge])}var ge=arguments.length-2;if(ge===1)z.children=Y;else if(1<ge){le=Array(ge);for(var Ie=0;Ie<ge;Ie++)le[Ie]=arguments[Ie+2];z.children=le}return{$$typeof:K,type:H.type,key:B,ref:L,props:z,_owner:G}},Ur.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:f,_context:H},H.Consumer=H},Ur.createElement=I,Ur.createFactory=function(H){var $=I.bind(null,H);return $.type=H,$},Ur.createRef=function(){return{current:null}},Ur.forwardRef=function(H){return{$$typeof:h,render:H}},Ur.isValidElement=V,Ur.lazy=function(H){return{$$typeof:i,_payload:{_status:-1,_result:H},_init:j}},Ur.memo=function(H,$){return{$$typeof:t,type:H,compare:$===void 0?null:$}},Ur.startTransition=function(H){var $=C.transition;C.transition={};try{H()}finally{C.transition=$}},Ur.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ur.useCallback=function(H,$){return O.current.useCallback(H,$)},Ur.useContext=function(H){return O.current.useContext(H)},Ur.useDebugValue=function(){},Ur.useDeferredValue=function(H){return O.current.useDeferredValue(H)},Ur.useEffect=function(H,$){return O.current.useEffect(H,$)},Ur.useId=function(){return O.current.useId()},Ur.useImperativeHandle=function(H,$,Y){return O.current.useImperativeHandle(H,$,Y)},Ur.useInsertionEffect=function(H,$){return O.current.useInsertionEffect(H,$)},Ur.useLayoutEffect=function(H,$){return O.current.useLayoutEffect(H,$)},Ur.useMemo=function(H,$){return O.current.useMemo(H,$)},Ur.useReducer=function(H,$,Y){return O.current.useReducer(H,$,Y)},Ur.useRef=function(H){return O.current.useRef(H)},Ur.useState=function(H){return O.current.useState(H)},Ur.useSyncExternalStore=function(H,$,Y){return O.current.useSyncExternalStore(H,$,Y)},Ur.useTransition=function(){return O.current.useTransition()},Ur.version="18.2.0",Ur}Pv();function $a(K){throw new Error('Could not dynamically require "'+K+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gh={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Ru;function _d(){return Ru||(Ru=1,function(K,_){(function(e){K.exports=e()})(function(){return function e(m,g,f){function u(t,i){if(!g[t]){if(!m[t]){var r=typeof $a=="function"&&$a;if(!i&&r)return r(t,!0);if(h)return h(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var l=g[t]={exports:{}};m[t][0].call(l.exports,function(d){var a=m[t][1][d];return u(a||d)},l,l.exports,e,m,g,f)}return g[t].exports}for(var h=typeof $a=="function"&&$a,s=0;s<f.length;s++)u(f[s]);return u}({1:[function(e,m,g){var f=e("./utils"),u=e("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(s){for(var t,i,r,n,l,d,a,v=[],y=0,p=s.length,E=p,T=f.getTypeOf(s)!=="string";y<s.length;)E=p-y,r=T?(t=s[y++],i=y<p?s[y++]:0,y<p?s[y++]:0):(t=s.charCodeAt(y++),i=y<p?s.charCodeAt(y++):0,y<p?s.charCodeAt(y++):0),n=t>>2,l=(3&t)<<4|i>>4,d=1<E?(15&i)<<2|r>>6:64,a=2<E?63&r:64,v.push(h.charAt(n)+h.charAt(l)+h.charAt(d)+h.charAt(a));return v.join("")},g.decode=function(s){var t,i,r,n,l,d,a=0,v=0,y="data:";if(s.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var p,E=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===h.charAt(64)&&E--,s.charAt(s.length-2)===h.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=u.uint8array?new Uint8Array(0|E):new Array(0|E);a<s.length;)t=h.indexOf(s.charAt(a++))<<2|(n=h.indexOf(s.charAt(a++)))>>4,i=(15&n)<<4|(l=h.indexOf(s.charAt(a++)))>>2,r=(3&l)<<6|(d=h.indexOf(s.charAt(a++))),p[v++]=t,l!==64&&(p[v++]=i),d!==64&&(p[v++]=r);return p}},{"./support":30,"./utils":32}],2:[function(e,m,g){var f=e("./external"),u=e("./stream/DataWorker"),h=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function t(i,r,n,l,d){this.compressedSize=i,this.uncompressedSize=r,this.crc32=n,this.compression=l,this.compressedContent=d}t.prototype={getContentWorker:function(){var i=new u(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),r=this;return i.on("end",function(){if(this.streamInfo.data_length!==r.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),i},getCompressedWorker:function(){return new u(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},t.createWorkerFrom=function(i,r,n){return i.pipe(new h).pipe(new s("uncompressedSize")).pipe(r.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",r)},m.exports=t},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,m,g){var f=e("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},g.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,m,g){var f=e("./utils"),u=function(){for(var h,s=[],t=0;t<256;t++){h=t;for(var i=0;i<8;i++)h=1&h?3988292384^h>>>1:h>>>1;s[t]=h}return s}();m.exports=function(h,s){return h!==void 0&&h.length?f.getTypeOf(h)!=="string"?function(t,i,r,n){var l=u,d=n+r;t^=-1;for(var a=n;a<d;a++)t=t>>>8^l[255&(t^i[a])];return-1^t}(0|s,h,h.length,0):function(t,i,r,n){var l=u,d=n+r;t^=-1;for(var a=n;a<d;a++)t=t>>>8^l[255&(t^i.charCodeAt(a))];return-1^t}(0|s,h,h.length,0):0}},{"./utils":32}],5:[function(e,m,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(e,m,g){var f=null;f=typeof Promise<"u"?Promise:e("lie"),m.exports={Promise:f}},{lie:37}],7:[function(e,m,g){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=e("pako"),h=e("./utils"),s=e("./stream/GenericWorker"),t=f?"uint8array":"array";function i(r,n){s.call(this,"FlateWorker/"+r),this._pako=null,this._pakoAction=r,this._pakoOptions=n,this.meta={}}g.magic="\b\0",h.inherits(i,s),i.prototype.processChunk=function(r){this.meta=r.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(t,r.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var r=this;this._pako.onData=function(n){r.push({data:n,meta:r.meta})}},g.compressWorker=function(r){return new i("Deflate",r)},g.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,m,g){function f(l,d){var a,v="";for(a=0;a<d;a++)v+=String.fromCharCode(255&l),l>>>=8;return v}function u(l,d,a,v,y,p){var E,T,S=l.file,A=l.compression,w=p!==t.utf8encode,I=h.transformTo("string",p(S.name)),D=h.transformTo("string",t.utf8encode(S.name)),V=S.comment,ie=h.transformTo("string",p(V)),te=h.transformTo("string",t.utf8encode(V)),re=D.length!==S.name.length,Z=te.length!==V.length,W="",j="",O="",C=S.dir,F=S.date,H={crc32:0,compressedSize:0,uncompressedSize:0};d&&!a||(H.crc32=l.crc32,H.compressedSize=l.compressedSize,H.uncompressedSize=l.uncompressedSize);var $=0;d&&($|=8),w||!re&&!Z||($|=2048);var Y=0,z=0;C&&(Y|=16),y==="UNIX"?(z=798,Y|=function(L,G){var le=L;return L||(le=G?16893:33204),(65535&le)<<16}(S.unixPermissions,C)):(z=20,Y|=function(L){return 63&(L||0)}(S.dosPermissions)),E=F.getUTCHours(),E<<=6,E|=F.getUTCMinutes(),E<<=5,E|=F.getUTCSeconds()/2,T=F.getUTCFullYear()-1980,T<<=4,T|=F.getUTCMonth()+1,T<<=5,T|=F.getUTCDate(),re&&(j=f(1,1)+f(i(I),4)+D,W+="up"+f(j.length,2)+j),Z&&(O=f(1,1)+f(i(ie),4)+te,W+="uc"+f(O.length,2)+O);var B="";return B+=`
\0`,B+=f($,2),B+=A.magic,B+=f(E,2),B+=f(T,2),B+=f(H.crc32,4),B+=f(H.compressedSize,4),B+=f(H.uncompressedSize,4),B+=f(I.length,2),B+=f(W.length,2),{fileRecord:r.LOCAL_FILE_HEADER+B+I+W,dirRecord:r.CENTRAL_FILE_HEADER+f(z,2)+B+f(ie.length,2)+"\0\0\0\0"+f(Y,4)+f(v,4)+I+W+ie}}var h=e("../utils"),s=e("../stream/GenericWorker"),t=e("../utf8"),i=e("../crc32"),r=e("../signature");function n(l,d,a,v){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=a,this.encodeFileName=v,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(n,s),n.prototype.push=function(l){var d=l.meta.percent||0,a=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,s.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:a?(d+100*(a-v-1))/a:100}}))},n.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var d=this.streamFiles&&!l.file.dir;if(d){var a=u(l,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:a.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(l){this.accumulate=!1;var d=this.streamFiles&&!l.file.dir,a=u(l,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),d)this.push({data:function(v){return r.DATA_DESCRIPTOR+f(v.crc32,4)+f(v.compressedSize,4)+f(v.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var l=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var a=this.bytesWritten-l,v=function(y,p,E,T,S){var A=h.transformTo("string",S(T));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(y,2)+f(y,2)+f(p,4)+f(E,4)+f(A.length,2)+A}(this.dirRecords.length,a,l,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(l){this._sources.push(l);var d=this;return l.on("data",function(a){d.processChunk(a)}),l.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),l.on("error",function(a){d.error(a)}),this},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(l){var d=this._sources;if(!s.prototype.error.call(this,l))return!1;for(var a=0;a<d.length;a++)try{d[a].error(l)}catch{}return!0},n.prototype.lock=function(){s.prototype.lock.call(this);for(var l=this._sources,d=0;d<l.length;d++)l[d].lock()},m.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,m,g){var f=e("../compressions"),u=e("./ZipFileWorker");g.generateWorker=function(h,s,t){var i=new u(s.streamFiles,t,s.platform,s.encodeFileName),r=0;try{h.forEach(function(n,l){r++;var d=function(p,E){var T=p||E,S=f[T];if(!S)throw new Error(T+" is not a valid compression method !");return S}(l.options.compression,s.compression),a=l.options.compressionOptions||s.compressionOptions||{},v=l.dir,y=l.date;l._compressWorker(d,a).withStreamInfo("file",{name:n,dir:v,date:y,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(i)}),i.entriesCount=r}catch(n){i.error(n)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,m,g){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new f;for(var h in this)typeof this[h]!="function"&&(u[h]=this[h]);return u}}(f.prototype=e("./object")).loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(u,h){return new f().loadAsync(u,h)},f.external=e("./external"),m.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,m,g){var f=e("./utils"),u=e("./external"),h=e("./utf8"),s=e("./zipEntries"),t=e("./stream/Crc32Probe"),i=e("./nodejsUtils");function r(n){return new u.Promise(function(l,d){var a=n.decompressed.getContentWorker().pipe(new t);a.on("error",function(v){d(v)}).on("end",function(){a.streamInfo.crc32!==n.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}m.exports=function(n,l){var d=this;return l=f.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),i.isNode&&i.isStream(n)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",n,!0,l.optimizedBinaryString,l.base64).then(function(a){var v=new s(l);return v.load(a),v}).then(function(a){var v=[u.Promise.resolve(a)],y=a.files;if(l.checkCRC32)for(var p=0;p<y.length;p++)v.push(r(y[p]));return u.Promise.all(v)}).then(function(a){for(var v=a.shift(),y=v.files,p=0;p<y.length;p++){var E=y[p],T=E.fileNameStr,S=f.resolve(E.fileNameStr);d.file(S,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:l.createFolders}),E.dir||(d.file(S).unsafeOriginalName=T)}return v.zipComment.length&&(d.comment=v.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,m,g){var f=e("../utils"),u=e("../stream/GenericWorker");function h(s,t){u.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(t)}f.inherits(h,u),h.prototype._bindStream=function(s){var t=this;(this._stream=s).pause(),s.on("data",function(i){t.push({data:i,meta:{percent:0}})}).on("error",function(i){t.isPaused?this.generatedError=i:t.error(i)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},h.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,m,g){var f=e("readable-stream").Readable;function u(h,s,t){f.call(this,s),this._helper=h;var i=this;h.on("data",function(r,n){i.push(r)||i._helper.pause(),t&&t(n)}).on("error",function(r){i.emit("error",r)}).on("end",function(){i.push(null)})}e("../utils").inherits(u,f),u.prototype._read=function(){this._helper.resume()},m.exports=u},{"../utils":32,"readable-stream":16}],14:[function(e,m,g){m.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,u);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,u)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var u=new Buffer(f);return u.fill(0),u},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,m,g){function f(S,A,w){var I,D=h.getTypeOf(A),V=h.extend(w||{},i);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(S=y(S)),V.createFolders&&(I=v(S))&&p.call(this,I,!0);var ie=D==="string"&&V.binary===!1&&V.base64===!1;w&&w.binary!==void 0||(V.binary=!ie),(A instanceof r&&A.uncompressedSize===0||V.dir||!A||A.length===0)&&(V.base64=!1,V.binary=!0,A="",V.compression="STORE",D="string");var te=null;te=A instanceof r||A instanceof s?A:d.isNode&&d.isStream(A)?new a(S,A):h.prepareContent(S,A,V.binary,V.optimizedBinaryString,V.base64);var re=new n(S,te,V);this.files[S]=re}var u=e("./utf8"),h=e("./utils"),s=e("./stream/GenericWorker"),t=e("./stream/StreamHelper"),i=e("./defaults"),r=e("./compressedObject"),n=e("./zipObject"),l=e("./generate"),d=e("./nodejsUtils"),a=e("./nodejs/NodejsStreamInputAdapter"),v=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var A=S.lastIndexOf("/");return 0<A?S.substring(0,A):""},y=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},p=function(S,A){return A=A!==void 0?A:i.createFolders,S=y(S),this.files[S]||f.call(this,S,null,{dir:!0,createFolders:A}),this.files[S]};function E(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var A,w,I;for(A in this.files)I=this.files[A],(w=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&S(w,I)},filter:function(S){var A=[];return this.forEach(function(w,I){S(w,I)&&A.push(I)}),A},file:function(S,A,w){if(arguments.length!==1)return S=this.root+S,f.call(this,S,A,w),this;if(E(S)){var I=S;return this.filter(function(V,ie){return!ie.dir&&I.test(V)})}var D=this.files[this.root+S];return D&&!D.dir?D:null},folder:function(S){if(!S)return this;if(E(S))return this.filter(function(D,V){return V.dir&&S.test(D)});var A=this.root+S,w=p.call(this,A),I=this.clone();return I.root=w.name,I},remove:function(S){S=this.root+S;var A=this.files[S];if(A||(S.slice(-1)!=="/"&&(S+="/"),A=this.files[S]),A&&!A.dir)delete this.files[S];else for(var w=this.filter(function(D,V){return V.name.slice(0,S.length)===S}),I=0;I<w.length;I++)delete this.files[w[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var A,w={};try{if((w=h.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");h.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var I=w.comment||this.comment||"";A=l.generateWorker(this,w,I)}catch(D){(A=new s("error")).error(D)}return new t(A,w.type||"string",w.mimeType)},generateAsync:function(S,A){return this.generateInternalStream(S).accumulate(A)},generateNodeStream:function(S,A){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(A)}};m.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,m,g){m.exports=e("stream")},{stream:void 0}],17:[function(e,m,g){var f=e("./DataReader");function u(h){f.call(this,h);for(var s=0;s<this.data.length;s++)h[s]=255&h[s]}e("../utils").inherits(u,f),u.prototype.byteAt=function(h){return this.data[this.zero+h]},u.prototype.lastIndexOfSignature=function(h){for(var s=h.charCodeAt(0),t=h.charCodeAt(1),i=h.charCodeAt(2),r=h.charCodeAt(3),n=this.length-4;0<=n;--n)if(this.data[n]===s&&this.data[n+1]===t&&this.data[n+2]===i&&this.data[n+3]===r)return n-this.zero;return-1},u.prototype.readAndCheckSignature=function(h){var s=h.charCodeAt(0),t=h.charCodeAt(1),i=h.charCodeAt(2),r=h.charCodeAt(3),n=this.readData(4);return s===n[0]&&t===n[1]&&i===n[2]&&r===n[3]},u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,s},m.exports=u},{"../utils":32,"./DataReader":18}],18:[function(e,m,g){var f=e("../utils");function u(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var s,t=0;for(this.checkOffset(h),s=this.index+h-1;s>=this.index;s--)t=(t<<8)+this.byteAt(s);return this.index+=h,t},readString:function(h){return f.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},m.exports=u},{"../utils":32}],19:[function(e,m,g){var f=e("./Uint8ArrayReader");function u(h){f.call(this,h)}e("../utils").inherits(u,f),u.prototype.readData=function(h){this.checkOffset(h);var s=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,s},m.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,m,g){var f=e("./DataReader");function u(h){f.call(this,h)}e("../utils").inherits(u,f),u.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},u.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},u.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},u.prototype.readData=function(h){this.checkOffset(h);var s=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,s},m.exports=u},{"../utils":32,"./DataReader":18}],21:[function(e,m,g){var f=e("./ArrayReader");function u(h){f.call(this,h)}e("../utils").inherits(u,f),u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,s},m.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(e,m,g){var f=e("../utils"),u=e("../support"),h=e("./ArrayReader"),s=e("./StringReader"),t=e("./NodeBufferReader"),i=e("./Uint8ArrayReader");m.exports=function(r){var n=f.getTypeOf(r);return f.checkSupport(n),n!=="string"||u.uint8array?n==="nodebuffer"?new t(r):u.uint8array?new i(f.transformTo("uint8array",r)):new h(f.transformTo("array",r)):new s(r)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,m,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,m,g){var f=e("./GenericWorker"),u=e("../utils");function h(s){f.call(this,"ConvertWorker to "+s),this.destType=s}u.inherits(h,f),h.prototype.processChunk=function(s){this.push({data:u.transformTo(this.destType,s.data),meta:s.meta})},m.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(e,m,g){var f=e("./GenericWorker"),u=e("../crc32");function h(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(h,f),h.prototype.processChunk=function(s){this.streamInfo.crc32=u(s.data,this.streamInfo.crc32||0),this.push(s)},m.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,m,g){var f=e("../utils"),u=e("./GenericWorker");function h(s){u.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}f.inherits(h,u),h.prototype.processChunk=function(s){if(s){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+s.data.length}u.prototype.processChunk.call(this,s)},m.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(e,m,g){var f=e("../utils"),u=e("./GenericWorker");function h(s){u.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(i){t.dataIsReady=!0,t.data=i,t.max=i&&i.length||0,t.type=f.getTypeOf(i),t.isPaused||t._tickAndRepeat()},function(i){t.error(i)})}f.inherits(h,u),h.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,t);break;case"uint8array":s=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":s=this.data.slice(this.index,t)}return this.index=t,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(e,m,g){function f(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,h){return this._listeners[u].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,h){if(this._listeners[u])for(var s=0;s<this._listeners[u].length;s++)this._listeners[u][s].call(this,h)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var h=this;return u.on("data",function(s){h.processChunk(s)}),u.on("end",function(){h.end()}),u.on("error",function(s){h.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,h){return this.extraStreamInfo[u]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},m.exports=f},{}],29:[function(e,m,g){var f=e("../utils"),u=e("./ConvertWorker"),h=e("./GenericWorker"),s=e("../base64"),t=e("../support"),i=e("../external"),r=null;if(t.nodestream)try{r=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function n(d,a){return new i.Promise(function(v,y){var p=[],E=d._internalType,T=d._outputType,S=d._mimeType;d.on("data",function(A,w){p.push(A),a&&a(w)}).on("error",function(A){p=[],y(A)}).on("end",function(){try{var A=function(w,I,D){switch(w){case"blob":return f.newBlob(f.transformTo("arraybuffer",I),D);case"base64":return s.encode(I);default:return f.transformTo(w,I)}}(T,function(w,I){var D,V=0,ie=null,te=0;for(D=0;D<I.length;D++)te+=I[D].length;switch(w){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(ie=new Uint8Array(te),D=0;D<I.length;D++)ie.set(I[D],V),V+=I[D].length;return ie;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+w+"'")}}(E,p),S);v(A)}catch(w){y(w)}p=[]}).resume()})}function l(d,a,v){var y=a;switch(a){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=a,this._mimeType=v,f.checkSupport(y),this._worker=d.pipe(new u(y)),d.lock()}catch(p){this._worker=new h("error"),this._worker.error(p)}}l.prototype={accumulate:function(d){return n(this,d)},on:function(d,a){var v=this;return d==="data"?this._worker.on(d,function(y){a.call(v,y.data,y.meta)}):this._worker.on(d,function(){f.delay(a,arguments,v)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new r(this,{objectMode:this._outputType!=="nodebuffer"},d)}},m.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,m,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=typeof Buffer<"u",g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var f=new ArrayBuffer(0);try{g.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(f),g.blob=u.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!e("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(e,m,g){for(var f=e("./utils"),u=e("./support"),h=e("./nodejsUtils"),s=e("./stream/GenericWorker"),t=new Array(256),i=0;i<256;i++)t[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;t[254]=t[254]=1;function r(){s.call(this,"utf-8 decode"),this.leftOver=null}function n(){s.call(this,"utf-8 encode")}g.utf8encode=function(l){return u.nodebuffer?h.newBufferFrom(l,"utf-8"):function(d){var a,v,y,p,E,T=d.length,S=0;for(p=0;p<T;p++)(64512&(v=d.charCodeAt(p)))==55296&&p+1<T&&(64512&(y=d.charCodeAt(p+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),p++),S+=v<128?1:v<2048?2:v<65536?3:4;for(a=u.uint8array?new Uint8Array(S):new Array(S),p=E=0;E<S;p++)(64512&(v=d.charCodeAt(p)))==55296&&p+1<T&&(64512&(y=d.charCodeAt(p+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),p++),v<128?a[E++]=v:(v<2048?a[E++]=192|v>>>6:(v<65536?a[E++]=224|v>>>12:(a[E++]=240|v>>>18,a[E++]=128|v>>>12&63),a[E++]=128|v>>>6&63),a[E++]=128|63&v);return a}(l)},g.utf8decode=function(l){return u.nodebuffer?f.transformTo("nodebuffer",l).toString("utf-8"):function(d){var a,v,y,p,E=d.length,T=new Array(2*E);for(a=v=0;a<E;)if((y=d[a++])<128)T[v++]=y;else if(4<(p=t[y]))T[v++]=65533,a+=p-1;else{for(y&=p===2?31:p===3?15:7;1<p&&a<E;)y=y<<6|63&d[a++],p--;1<p?T[v++]=65533:y<65536?T[v++]=y:(y-=65536,T[v++]=55296|y>>10&1023,T[v++]=56320|1023&y)}return T.length!==v&&(T.subarray?T=T.subarray(0,v):T.length=v),f.applyFromCharCode(T)}(l=f.transformTo(u.uint8array?"uint8array":"array",l))},f.inherits(r,s),r.prototype.processChunk=function(l){var d=f.transformTo(u.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var a=d;(d=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),d.set(a,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var v=function(p,E){var T;for((E=E||p.length)>p.length&&(E=p.length),T=E-1;0<=T&&(192&p[T])==128;)T--;return T<0||T===0?E:T+t[p[T]]>E?T:E}(d),y=d;v!==d.length&&(u.uint8array?(y=d.subarray(0,v),this.leftOver=d.subarray(v,d.length)):(y=d.slice(0,v),this.leftOver=d.slice(v,d.length))),this.push({data:g.utf8decode(y),meta:l.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=r,f.inherits(n,s),n.prototype.processChunk=function(l){this.push({data:g.utf8encode(l.data),meta:l.meta})},g.Utf8EncodeWorker=n},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,m,g){var f=e("./support"),u=e("./base64"),h=e("./nodejsUtils"),s=e("./external");function t(a){return a}function i(a,v){for(var y=0;y<a.length;++y)v[y]=255&a.charCodeAt(y);return v}e("setimmediate"),g.newBlob=function(a,v){g.checkSupport("blob");try{return new Blob([a],{type:v})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(a),y.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var r={stringifyByChunk:function(a,v,y){var p=[],E=0,T=a.length;if(T<=y)return String.fromCharCode.apply(null,a);for(;E<T;)v==="array"||v==="nodebuffer"?p.push(String.fromCharCode.apply(null,a.slice(E,Math.min(E+y,T)))):p.push(String.fromCharCode.apply(null,a.subarray(E,Math.min(E+y,T)))),E+=y;return p.join("")},stringifyByChar:function(a){for(var v="",y=0;y<a.length;y++)v+=String.fromCharCode(a[y]);return v},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function n(a){var v=65536,y=g.getTypeOf(a),p=!0;if(y==="uint8array"?p=r.applyCanBeUsed.uint8array:y==="nodebuffer"&&(p=r.applyCanBeUsed.nodebuffer),p)for(;1<v;)try{return r.stringifyByChunk(a,y,v)}catch{v=Math.floor(v/2)}return r.stringifyByChar(a)}function l(a,v){for(var y=0;y<a.length;y++)v[y]=a[y];return v}g.applyFromCharCode=n;var d={};d.string={string:t,array:function(a){return i(a,new Array(a.length))},arraybuffer:function(a){return d.string.uint8array(a).buffer},uint8array:function(a){return i(a,new Uint8Array(a.length))},nodebuffer:function(a){return i(a,h.allocBuffer(a.length))}},d.array={string:n,array:t,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return h.newBufferFrom(a)}},d.arraybuffer={string:function(a){return n(new Uint8Array(a))},array:function(a){return l(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:t,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return h.newBufferFrom(new Uint8Array(a))}},d.uint8array={string:n,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:t,nodebuffer:function(a){return h.newBufferFrom(a)}},d.nodebuffer={string:n,array:function(a){return l(a,new Array(a.length))},arraybuffer:function(a){return d.nodebuffer.uint8array(a).buffer},uint8array:function(a){return l(a,new Uint8Array(a.length))},nodebuffer:t},g.transformTo=function(a,v){if(v=v||"",!a)return v;g.checkSupport(a);var y=g.getTypeOf(v);return d[y][a](v)},g.resolve=function(a){for(var v=a.split("/"),y=[],p=0;p<v.length;p++){var E=v[p];E==="."||E===""&&p!==0&&p!==v.length-1||(E===".."?y.pop():y.push(E))}return y.join("/")},g.getTypeOf=function(a){return typeof a=="string"?"string":Object.prototype.toString.call(a)==="[object Array]"?"array":f.nodebuffer&&h.isBuffer(a)?"nodebuffer":f.uint8array&&a instanceof Uint8Array?"uint8array":f.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(a){if(!f[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(a){var v,y,p="";for(y=0;y<(a||"").length;y++)p+="\\x"+((v=a.charCodeAt(y))<16?"0":"")+v.toString(16).toUpperCase();return p},g.delay=function(a,v,y){setImmediate(function(){a.apply(y||null,v||[])})},g.inherits=function(a,v){function y(){}y.prototype=v.prototype,a.prototype=new y},g.extend=function(){var a,v,y={};for(a=0;a<arguments.length;a++)for(v in arguments[a])Object.prototype.hasOwnProperty.call(arguments[a],v)&&y[v]===void 0&&(y[v]=arguments[a][v]);return y},g.prepareContent=function(a,v,y,p,E){return s.Promise.resolve(v).then(function(T){return f.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new s.Promise(function(S,A){var w=new FileReader;w.onload=function(I){S(I.target.result)},w.onerror=function(I){A(I.target.error)},w.readAsArrayBuffer(T)}):T}).then(function(T){var S=g.getTypeOf(T);return S?(S==="arraybuffer"?T=g.transformTo("uint8array",T):S==="string"&&(E?T=u.decode(T):y&&p!==!0&&(T=function(A){return i(A,f.uint8array?new Uint8Array(A.length):new Array(A.length))}(T))),T):s.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,m,g){var f=e("./reader/readerFor"),u=e("./utils"),h=e("./signature"),s=e("./zipEntry"),t=e("./support");function i(r){this.files=[],this.loadOptions=r}i.prototype={checkSignature:function(r){if(!this.reader.readAndCheckSignature(r)){this.reader.index-=4;var n=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(n)+", expected "+u.pretty(r)+")")}},isSignature:function(r,n){var l=this.reader.index;this.reader.setIndex(r);var d=this.reader.readString(4)===n;return this.reader.setIndex(l),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var r=this.reader.readData(this.zipCommentLength),n=t.uint8array?"uint8array":"array",l=u.transformTo(n,r);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var r,n,l,d=this.zip64EndOfCentralSize-44;0<d;)r=this.reader.readInt(2),n=this.reader.readInt(4),l=this.reader.readData(n),this.zip64ExtensibleData[r]={id:r,length:n,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var r,n;for(r=0;r<this.files.length;r++)n=this.files[r],this.reader.setIndex(n.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(r=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var r=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(r<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(r);var n=r;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(r=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(r),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var d=n-l;if(0<d)this.isSignature(n,h.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(r){this.reader=f(r)},load:function(r){this.prepareReader(r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,m,g){var f=e("./reader/readerFor"),u=e("./utils"),h=e("./compressedObject"),s=e("./crc32"),t=e("./utf8"),i=e("./compressions"),r=e("./support");function n(l,d){this.options=l,this.loadOptions=d}n.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var d,a;if(l.skip(22),this.fileNameLength=l.readInt(2),a=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(a),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(v){for(var y in i)if(Object.prototype.hasOwnProperty.call(i,y)&&i[y].magic===v)return i[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,d,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var d=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(d),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=f(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var d,a,v,y=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<y;)d=l.readInt(2),a=l.readInt(2),v=l.readData(a),this.extraFields[d]={id:d,length:a,value:v};l.setIndex(y)},handleUTF8:function(){var l=r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=t.utf8decode(this.fileName),this.fileCommentStr=t.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var a=u.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(a)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var y=u.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var d=f(l.value);return d.readInt(1)!==1||s(this.fileName)!==d.readInt(4)?null:t.utf8decode(d.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var d=f(l.value);return d.readInt(1)!==1||s(this.fileComment)!==d.readInt(4)?null:t.utf8decode(d.readData(l.length-5))}return null}},m.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,m,g){function f(d,a,v){this.name=d,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=a,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var u=e("./stream/StreamHelper"),h=e("./stream/DataWorker"),s=e("./utf8"),t=e("./compressedObject"),i=e("./stream/GenericWorker");f.prototype={internalStream:function(d){var a=null,v="string";try{if(!d)throw new Error("No output type specified.");var y=(v=d.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),a=this._decompressWorker();var p=!this._dataBinary;p&&!y&&(a=a.pipe(new s.Utf8EncodeWorker)),!p&&y&&(a=a.pipe(new s.Utf8DecodeWorker))}catch(E){(a=new i("error")).error(E)}return new u(a,v,"")},async:function(d,a){return this.internalStream(d).accumulate(a)},nodeStream:function(d,a){return this.internalStream(d||"nodebuffer").toNodejsStream(a)},_compressWorker:function(d,a){if(this._data instanceof t&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new s.Utf8EncodeWorker)),t.createWorkerFrom(v,d,a)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof i?this._data:new h(this._data)}};for(var r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],n=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<r.length;l++)f.prototype[r[l]]=n;m.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,m,g){(function(f){var u,h,s=f.MutationObserver||f.WebKitMutationObserver;if(s){var t=0,i=new s(d),r=f.document.createTextNode("");i.observe(r,{characterData:!0}),u=function(){r.data=t=++t%2}}else if(f.setImmediate||f.MessageChannel===void 0)u="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var a=f.document.createElement("script");a.onreadystatechange=function(){d(),a.onreadystatechange=null,a.parentNode.removeChild(a),a=null},f.document.documentElement.appendChild(a)}:function(){setTimeout(d,0)};else{var n=new f.MessageChannel;n.port1.onmessage=d,u=function(){n.port2.postMessage(0)}}var l=[];function d(){var a,v;h=!0;for(var y=l.length;y;){for(v=l,l=[],a=-1;++a<y;)v[a]();y=l.length}h=!1}m.exports=function(a){l.push(a)!==1||h||u()}}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,m,g){var f=e("immediate");function u(){}var h={},s=["REJECTED"],t=["FULFILLED"],i=["PENDING"];function r(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,y!==u&&a(this,y)}function n(y,p,E){this.promise=y,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function l(y,p,E){f(function(){var T;try{T=p(E)}catch(S){return h.reject(y,S)}T===y?h.reject(y,new TypeError("Cannot resolve promise with itself")):h.resolve(y,T)})}function d(y){var p=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof p=="function")return function(){p.apply(y,arguments)}}function a(y,p){var E=!1;function T(w){E||(E=!0,h.reject(y,w))}function S(w){E||(E=!0,h.resolve(y,w))}var A=v(function(){p(S,T)});A.status==="error"&&T(A.value)}function v(y,p){var E={};try{E.value=y(p),E.status="success"}catch(T){E.status="error",E.value=T}return E}(m.exports=r).prototype.finally=function(y){if(typeof y!="function")return this;var p=this.constructor;return this.then(function(E){return p.resolve(y()).then(function(){return E})},function(E){return p.resolve(y()).then(function(){throw E})})},r.prototype.catch=function(y){return this.then(null,y)},r.prototype.then=function(y,p){if(typeof y!="function"&&this.state===t||typeof p!="function"&&this.state===s)return this;var E=new this.constructor(u);return this.state!==i?l(E,this.state===t?y:p,this.outcome):this.queue.push(new n(E,y,p)),E},n.prototype.callFulfilled=function(y){h.resolve(this.promise,y)},n.prototype.otherCallFulfilled=function(y){l(this.promise,this.onFulfilled,y)},n.prototype.callRejected=function(y){h.reject(this.promise,y)},n.prototype.otherCallRejected=function(y){l(this.promise,this.onRejected,y)},h.resolve=function(y,p){var E=v(d,p);if(E.status==="error")return h.reject(y,E.value);var T=E.value;if(T)a(y,T);else{y.state=t,y.outcome=p;for(var S=-1,A=y.queue.length;++S<A;)y.queue[S].callFulfilled(p)}return y},h.reject=function(y,p){y.state=s,y.outcome=p;for(var E=-1,T=y.queue.length;++E<T;)y.queue[E].callRejected(p);return y},r.resolve=function(y){return y instanceof this?y:h.resolve(new this(u),y)},r.reject=function(y){var p=new this(u);return h.reject(p,y)},r.all=function(y){var p=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,T=!1;if(!E)return this.resolve([]);for(var S=new Array(E),A=0,w=-1,I=new this(u);++w<E;)D(y[w],w);return I;function D(V,ie){p.resolve(V).then(function(te){S[ie]=te,++A!==E||T||(T=!0,h.resolve(I,S))},function(te){T||(T=!0,h.reject(I,te))})}},r.race=function(y){var p=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,T=!1;if(!E)return this.resolve([]);for(var S=-1,A=new this(u);++S<E;)w=y[S],p.resolve(w).then(function(I){T||(T=!0,h.resolve(A,I))},function(I){T||(T=!0,h.reject(A,I))});var w;return A}},{immediate:36}],38:[function(e,m,g){var f={};(0,e("./lib/utils/common").assign)(f,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),m.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,m,g){var f=e("./zlib/deflate"),u=e("./utils/common"),h=e("./utils/strings"),s=e("./zlib/messages"),t=e("./zlib/zstream"),i=Object.prototype.toString,r=0,n=-1,l=0,d=8;function a(y){if(!(this instanceof a))return new a(y);this.options=u.assign({level:n,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},y||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var E=f.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(E!==r)throw new Error(s[E]);if(p.header&&f.deflateSetHeader(this.strm,p.header),p.dictionary){var T;if(T=typeof p.dictionary=="string"?h.string2buf(p.dictionary):i.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(E=f.deflateSetDictionary(this.strm,T))!==r)throw new Error(s[E]);this._dict_set=!0}}function v(y,p){var E=new a(p);if(E.push(y,!0),E.err)throw E.msg||s[E.err];return E.result}a.prototype.push=function(y,p){var E,T,S=this.strm,A=this.options.chunkSize;if(this.ended)return!1;T=p===~~p?p:p===!0?4:0,typeof y=="string"?S.input=h.string2buf(y):i.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new u.Buf8(A),S.next_out=0,S.avail_out=A),(E=f.deflate(S,T))!==1&&E!==r)return this.onEnd(E),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(u.shrinkBuf(S.output,S.next_out))):this.onData(u.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&E!==1);return T===4?(E=f.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===r):T!==2||(this.onEnd(r),!(S.avail_out=0))},a.prototype.onData=function(y){this.chunks.push(y)},a.prototype.onEnd=function(y){y===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},g.Deflate=a,g.deflate=v,g.deflateRaw=function(y,p){return(p=p||{}).raw=!0,v(y,p)},g.gzip=function(y,p){return(p=p||{}).gzip=!0,v(y,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,m,g){var f=e("./zlib/inflate"),u=e("./utils/common"),h=e("./utils/strings"),s=e("./zlib/constants"),t=e("./zlib/messages"),i=e("./zlib/zstream"),r=e("./zlib/gzheader"),n=Object.prototype.toString;function l(a){if(!(this instanceof l))return new l(a);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},a||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||a&&a.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var y=f.inflateInit2(this.strm,v.windowBits);if(y!==s.Z_OK)throw new Error(t[y]);this.header=new r,f.inflateGetHeader(this.strm,this.header)}function d(a,v){var y=new l(v);if(y.push(a,!0),y.err)throw y.msg||t[y.err];return y.result}l.prototype.push=function(a,v){var y,p,E,T,S,A,w=this.strm,I=this.options.chunkSize,D=this.options.dictionary,V=!1;if(this.ended)return!1;p=v===~~v?v:v===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof a=="string"?w.input=h.binstring2buf(a):n.call(a)==="[object ArrayBuffer]"?w.input=new Uint8Array(a):w.input=a,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new u.Buf8(I),w.next_out=0,w.avail_out=I),(y=f.inflate(w,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&D&&(A=typeof D=="string"?h.string2buf(D):n.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,y=f.inflateSetDictionary(this.strm,A)),y===s.Z_BUF_ERROR&&V===!0&&(y=s.Z_OK,V=!1),y!==s.Z_STREAM_END&&y!==s.Z_OK)return this.onEnd(y),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&y!==s.Z_STREAM_END&&(w.avail_in!==0||p!==s.Z_FINISH&&p!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=h.utf8border(w.output,w.next_out),T=w.next_out-E,S=h.buf2string(w.output,E),w.next_out=T,w.avail_out=I-T,T&&u.arraySet(w.output,w.output,E,T,0),this.onData(S)):this.onData(u.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(V=!0)}while((0<w.avail_in||w.avail_out===0)&&y!==s.Z_STREAM_END);return y===s.Z_STREAM_END&&(p=s.Z_FINISH),p===s.Z_FINISH?(y=f.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===s.Z_OK):p!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(w.avail_out=0))},l.prototype.onData=function(a){this.chunks.push(a)},l.prototype.onEnd=function(a){a===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},g.Inflate=l,g.inflate=d,g.inflateRaw=function(a,v){return(v=v||{}).raw=!0,d(a,v)},g.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,m,g){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(s){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(var r in i)i.hasOwnProperty(r)&&(s[r]=i[r])}}return s},g.shrinkBuf=function(s,t){return s.length===t?s:s.subarray?s.subarray(0,t):(s.length=t,s)};var u={arraySet:function(s,t,i,r,n){if(t.subarray&&s.subarray)s.set(t.subarray(i,i+r),n);else for(var l=0;l<r;l++)s[n+l]=t[i+l]},flattenChunks:function(s){var t,i,r,n,l,d;for(t=r=0,i=s.length;t<i;t++)r+=s[t].length;for(d=new Uint8Array(r),t=n=0,i=s.length;t<i;t++)l=s[t],d.set(l,n),n+=l.length;return d}},h={arraySet:function(s,t,i,r,n){for(var l=0;l<r;l++)s[n+l]=t[i+l]},flattenChunks:function(s){return[].concat.apply([],s)}};g.setTyped=function(s){s?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,u)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,h))},g.setTyped(f)},{}],42:[function(e,m,g){var f=e("./common"),u=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var s=new f.Buf8(256),t=0;t<256;t++)s[t]=252<=t?6:248<=t?5:240<=t?4:224<=t?3:192<=t?2:1;function i(r,n){if(n<65537&&(r.subarray&&h||!r.subarray&&u))return String.fromCharCode.apply(null,f.shrinkBuf(r,n));for(var l="",d=0;d<n;d++)l+=String.fromCharCode(r[d]);return l}s[254]=s[254]=1,g.string2buf=function(r){var n,l,d,a,v,y=r.length,p=0;for(a=0;a<y;a++)(64512&(l=r.charCodeAt(a)))==55296&&a+1<y&&(64512&(d=r.charCodeAt(a+1)))==56320&&(l=65536+(l-55296<<10)+(d-56320),a++),p+=l<128?1:l<2048?2:l<65536?3:4;for(n=new f.Buf8(p),a=v=0;v<p;a++)(64512&(l=r.charCodeAt(a)))==55296&&a+1<y&&(64512&(d=r.charCodeAt(a+1)))==56320&&(l=65536+(l-55296<<10)+(d-56320),a++),l<128?n[v++]=l:(l<2048?n[v++]=192|l>>>6:(l<65536?n[v++]=224|l>>>12:(n[v++]=240|l>>>18,n[v++]=128|l>>>12&63),n[v++]=128|l>>>6&63),n[v++]=128|63&l);return n},g.buf2binstring=function(r){return i(r,r.length)},g.binstring2buf=function(r){for(var n=new f.Buf8(r.length),l=0,d=n.length;l<d;l++)n[l]=r.charCodeAt(l);return n},g.buf2string=function(r,n){var l,d,a,v,y=n||r.length,p=new Array(2*y);for(l=d=0;l<y;)if((a=r[l++])<128)p[d++]=a;else if(4<(v=s[a]))p[d++]=65533,l+=v-1;else{for(a&=v===2?31:v===3?15:7;1<v&&l<y;)a=a<<6|63&r[l++],v--;1<v?p[d++]=65533:a<65536?p[d++]=a:(a-=65536,p[d++]=55296|a>>10&1023,p[d++]=56320|1023&a)}return i(p,d)},g.utf8border=function(r,n){var l;for((n=n||r.length)>r.length&&(n=r.length),l=n-1;0<=l&&(192&r[l])==128;)l--;return l<0||l===0?n:l+s[r[l]]>n?l:n}},{"./common":41}],43:[function(e,m,g){m.exports=function(f,u,h,s){for(var t=65535&f|0,i=f>>>16&65535|0,r=0;h!==0;){for(h-=r=2e3<h?2e3:h;i=i+(t=t+u[s++]|0)|0,--r;);t%=65521,i%=65521}return t|i<<16|0}},{}],44:[function(e,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,m,g){var f=function(){for(var u,h=[],s=0;s<256;s++){u=s;for(var t=0;t<8;t++)u=1&u?3988292384^u>>>1:u>>>1;h[s]=u}return h}();m.exports=function(u,h,s,t){var i=f,r=t+s;u^=-1;for(var n=t;n<r;n++)u=u>>>8^i[255&(u^h[n])];return-1^u}},{}],46:[function(e,m,g){var f,u=e("../utils/common"),h=e("./trees"),s=e("./adler32"),t=e("./crc32"),i=e("./messages"),r=0,n=4,l=0,d=-2,a=-1,v=4,y=2,p=8,E=9,T=286,S=30,A=19,w=2*T+1,I=15,D=3,V=258,ie=V+D+1,te=42,re=113,Z=1,W=2,j=3,O=4;function C(Q,ue){return Q.msg=i[ue],ue}function F(Q){return(Q<<1)-(4<Q?9:0)}function H(Q){for(var ue=Q.length;0<=--ue;)Q[ue]=0}function $(Q){var ue=Q.state,xe=ue.pending;xe>Q.avail_out&&(xe=Q.avail_out),xe!==0&&(u.arraySet(Q.output,ue.pending_buf,ue.pending_out,xe,Q.next_out),Q.next_out+=xe,ue.pending_out+=xe,Q.total_out+=xe,Q.avail_out-=xe,ue.pending-=xe,ue.pending===0&&(ue.pending_out=0))}function Y(Q,ue){h._tr_flush_block(Q,0<=Q.block_start?Q.block_start:-1,Q.strstart-Q.block_start,ue),Q.block_start=Q.strstart,$(Q.strm)}function z(Q,ue){Q.pending_buf[Q.pending++]=ue}function B(Q,ue){Q.pending_buf[Q.pending++]=ue>>>8&255,Q.pending_buf[Q.pending++]=255&ue}function L(Q,ue){var xe,_e,ce=Q.max_chain_length,de=Q.strstart,he=Q.prev_length,se=Q.nice_match,ne=Q.strstart>Q.w_size-ie?Q.strstart-(Q.w_size-ie):0,we=Q.window,Ne=Q.w_mask,ae=Q.prev,Pe=Q.strstart+V,ze=we[de+he-1],ve=we[de+he];Q.prev_length>=Q.good_match&&(ce>>=2),se>Q.lookahead&&(se=Q.lookahead);do if(we[(xe=ue)+he]===ve&&we[xe+he-1]===ze&&we[xe]===we[de]&&we[++xe]===we[de+1]){de+=2,xe++;do;while(we[++de]===we[++xe]&&we[++de]===we[++xe]&&we[++de]===we[++xe]&&we[++de]===we[++xe]&&we[++de]===we[++xe]&&we[++de]===we[++xe]&&we[++de]===we[++xe]&&we[++de]===we[++xe]&&de<Pe);if(_e=V-(Pe-de),de=Pe-V,he<_e){if(Q.match_start=ue,se<=(he=_e))break;ze=we[de+he-1],ve=we[de+he]}}while((ue=ae[ue&Ne])>ne&&--ce!=0);return he<=Q.lookahead?he:Q.lookahead}function G(Q){var ue,xe,_e,ce,de,he,se,ne,we,Ne,ae=Q.w_size;do{if(ce=Q.window_size-Q.lookahead-Q.strstart,Q.strstart>=ae+(ae-ie)){for(u.arraySet(Q.window,Q.window,ae,ae,0),Q.match_start-=ae,Q.strstart-=ae,Q.block_start-=ae,ue=xe=Q.hash_size;_e=Q.head[--ue],Q.head[ue]=ae<=_e?_e-ae:0,--xe;);for(ue=xe=ae;_e=Q.prev[--ue],Q.prev[ue]=ae<=_e?_e-ae:0,--xe;);ce+=ae}if(Q.strm.avail_in===0)break;if(he=Q.strm,se=Q.window,ne=Q.strstart+Q.lookahead,we=ce,Ne=void 0,Ne=he.avail_in,we<Ne&&(Ne=we),xe=Ne===0?0:(he.avail_in-=Ne,u.arraySet(se,he.input,he.next_in,Ne,ne),he.state.wrap===1?he.adler=s(he.adler,se,Ne,ne):he.state.wrap===2&&(he.adler=t(he.adler,se,Ne,ne)),he.next_in+=Ne,he.total_in+=Ne,Ne),Q.lookahead+=xe,Q.lookahead+Q.insert>=D)for(de=Q.strstart-Q.insert,Q.ins_h=Q.window[de],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[de+1])&Q.hash_mask;Q.insert&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[de+D-1])&Q.hash_mask,Q.prev[de&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=de,de++,Q.insert--,!(Q.lookahead+Q.insert<D)););}while(Q.lookahead<ie&&Q.strm.avail_in!==0)}function le(Q,ue){for(var xe,_e;;){if(Q.lookahead<ie){if(G(Q),Q.lookahead<ie&&ue===r)return Z;if(Q.lookahead===0)break}if(xe=0,Q.lookahead>=D&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,xe=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),xe!==0&&Q.strstart-xe<=Q.w_size-ie&&(Q.match_length=L(Q,xe)),Q.match_length>=D)if(_e=h._tr_tally(Q,Q.strstart-Q.match_start,Q.match_length-D),Q.lookahead-=Q.match_length,Q.match_length<=Q.max_lazy_match&&Q.lookahead>=D){for(Q.match_length--;Q.strstart++,Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,xe=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart,--Q.match_length!=0;);Q.strstart++}else Q.strstart+=Q.match_length,Q.match_length=0,Q.ins_h=Q.window[Q.strstart],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+1])&Q.hash_mask;else _e=h._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++;if(_e&&(Y(Q,!1),Q.strm.avail_out===0))return Z}return Q.insert=Q.strstart<D-1?Q.strstart:D-1,ue===n?(Y(Q,!0),Q.strm.avail_out===0?j:O):Q.last_lit&&(Y(Q,!1),Q.strm.avail_out===0)?Z:W}function ge(Q,ue){for(var xe,_e,ce;;){if(Q.lookahead<ie){if(G(Q),Q.lookahead<ie&&ue===r)return Z;if(Q.lookahead===0)break}if(xe=0,Q.lookahead>=D&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,xe=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),Q.prev_length=Q.match_length,Q.prev_match=Q.match_start,Q.match_length=D-1,xe!==0&&Q.prev_length<Q.max_lazy_match&&Q.strstart-xe<=Q.w_size-ie&&(Q.match_length=L(Q,xe),Q.match_length<=5&&(Q.strategy===1||Q.match_length===D&&4096<Q.strstart-Q.match_start)&&(Q.match_length=D-1)),Q.prev_length>=D&&Q.match_length<=Q.prev_length){for(ce=Q.strstart+Q.lookahead-D,_e=h._tr_tally(Q,Q.strstart-1-Q.prev_match,Q.prev_length-D),Q.lookahead-=Q.prev_length-1,Q.prev_length-=2;++Q.strstart<=ce&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+D-1])&Q.hash_mask,xe=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),--Q.prev_length!=0;);if(Q.match_available=0,Q.match_length=D-1,Q.strstart++,_e&&(Y(Q,!1),Q.strm.avail_out===0))return Z}else if(Q.match_available){if((_e=h._tr_tally(Q,0,Q.window[Q.strstart-1]))&&Y(Q,!1),Q.strstart++,Q.lookahead--,Q.strm.avail_out===0)return Z}else Q.match_available=1,Q.strstart++,Q.lookahead--}return Q.match_available&&(_e=h._tr_tally(Q,0,Q.window[Q.strstart-1]),Q.match_available=0),Q.insert=Q.strstart<D-1?Q.strstart:D-1,ue===n?(Y(Q,!0),Q.strm.avail_out===0?j:O):Q.last_lit&&(Y(Q,!1),Q.strm.avail_out===0)?Z:W}function Ie(Q,ue,xe,_e,ce){this.good_length=Q,this.max_lazy=ue,this.nice_length=xe,this.max_chain=_e,this.func=ce}function Oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*w),this.dyn_dtree=new u.Buf16(2*(2*S+1)),this.bl_tree=new u.Buf16(2*(2*A+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(I+1),this.heap=new u.Buf16(2*T+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*T+1),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ke(Q){var ue;return Q&&Q.state?(Q.total_in=Q.total_out=0,Q.data_type=y,(ue=Q.state).pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?te:re,Q.adler=ue.wrap===2?0:1,ue.last_flush=r,h._tr_init(ue),l):C(Q,d)}function De(Q){var ue=Ke(Q);return ue===l&&function(xe){xe.window_size=2*xe.w_size,H(xe.head),xe.max_lazy_match=f[xe.level].max_lazy,xe.good_match=f[xe.level].good_length,xe.nice_match=f[xe.level].nice_length,xe.max_chain_length=f[xe.level].max_chain,xe.strstart=0,xe.block_start=0,xe.lookahead=0,xe.insert=0,xe.match_length=xe.prev_length=D-1,xe.match_available=0,xe.ins_h=0}(Q.state),ue}function Ee(Q,ue,xe,_e,ce,de){if(!Q)return d;var he=1;if(ue===a&&(ue=6),_e<0?(he=0,_e=-_e):15<_e&&(he=2,_e-=16),ce<1||E<ce||xe!==p||_e<8||15<_e||ue<0||9<ue||de<0||v<de)return C(Q,d);_e===8&&(_e=9);var se=new Oe;return(Q.state=se).strm=Q,se.wrap=he,se.gzhead=null,se.w_bits=_e,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=ce+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+D-1)/D),se.window=new u.Buf8(2*se.w_size),se.head=new u.Buf16(se.hash_size),se.prev=new u.Buf16(se.w_size),se.lit_bufsize=1<<ce+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new u.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=ue,se.strategy=de,se.method=xe,De(Q)}f=[new Ie(0,0,0,0,function(Q,ue){var xe=65535;for(xe>Q.pending_buf_size-5&&(xe=Q.pending_buf_size-5);;){if(Q.lookahead<=1){if(G(Q),Q.lookahead===0&&ue===r)return Z;if(Q.lookahead===0)break}Q.strstart+=Q.lookahead,Q.lookahead=0;var _e=Q.block_start+xe;if((Q.strstart===0||Q.strstart>=_e)&&(Q.lookahead=Q.strstart-_e,Q.strstart=_e,Y(Q,!1),Q.strm.avail_out===0)||Q.strstart-Q.block_start>=Q.w_size-ie&&(Y(Q,!1),Q.strm.avail_out===0))return Z}return Q.insert=0,ue===n?(Y(Q,!0),Q.strm.avail_out===0?j:O):(Q.strstart>Q.block_start&&(Y(Q,!1),Q.strm.avail_out),Z)}),new Ie(4,4,8,4,le),new Ie(4,5,16,8,le),new Ie(4,6,32,32,le),new Ie(4,4,16,16,ge),new Ie(8,16,32,32,ge),new Ie(8,16,128,128,ge),new Ie(8,32,128,256,ge),new Ie(32,128,258,1024,ge),new Ie(32,258,258,4096,ge)],g.deflateInit=function(Q,ue){return Ee(Q,ue,p,15,8,0)},g.deflateInit2=Ee,g.deflateReset=De,g.deflateResetKeep=Ke,g.deflateSetHeader=function(Q,ue){return Q&&Q.state?Q.state.wrap!==2?d:(Q.state.gzhead=ue,l):d},g.deflate=function(Q,ue){var xe,_e,ce,de;if(!Q||!Q.state||5<ue||ue<0)return Q?C(Q,d):d;if(_e=Q.state,!Q.output||!Q.input&&Q.avail_in!==0||_e.status===666&&ue!==n)return C(Q,Q.avail_out===0?-5:d);if(_e.strm=Q,xe=_e.last_flush,_e.last_flush=ue,_e.status===te)if(_e.wrap===2)Q.adler=0,z(_e,31),z(_e,139),z(_e,8),_e.gzhead?(z(_e,(_e.gzhead.text?1:0)+(_e.gzhead.hcrc?2:0)+(_e.gzhead.extra?4:0)+(_e.gzhead.name?8:0)+(_e.gzhead.comment?16:0)),z(_e,255&_e.gzhead.time),z(_e,_e.gzhead.time>>8&255),z(_e,_e.gzhead.time>>16&255),z(_e,_e.gzhead.time>>24&255),z(_e,_e.level===9?2:2<=_e.strategy||_e.level<2?4:0),z(_e,255&_e.gzhead.os),_e.gzhead.extra&&_e.gzhead.extra.length&&(z(_e,255&_e.gzhead.extra.length),z(_e,_e.gzhead.extra.length>>8&255)),_e.gzhead.hcrc&&(Q.adler=t(Q.adler,_e.pending_buf,_e.pending,0)),_e.gzindex=0,_e.status=69):(z(_e,0),z(_e,0),z(_e,0),z(_e,0),z(_e,0),z(_e,_e.level===9?2:2<=_e.strategy||_e.level<2?4:0),z(_e,3),_e.status=re);else{var he=p+(_e.w_bits-8<<4)<<8;he|=(2<=_e.strategy||_e.level<2?0:_e.level<6?1:_e.level===6?2:3)<<6,_e.strstart!==0&&(he|=32),he+=31-he%31,_e.status=re,B(_e,he),_e.strstart!==0&&(B(_e,Q.adler>>>16),B(_e,65535&Q.adler)),Q.adler=1}if(_e.status===69)if(_e.gzhead.extra){for(ce=_e.pending;_e.gzindex<(65535&_e.gzhead.extra.length)&&(_e.pending!==_e.pending_buf_size||(_e.gzhead.hcrc&&_e.pending>ce&&(Q.adler=t(Q.adler,_e.pending_buf,_e.pending-ce,ce)),$(Q),ce=_e.pending,_e.pending!==_e.pending_buf_size));)z(_e,255&_e.gzhead.extra[_e.gzindex]),_e.gzindex++;_e.gzhead.hcrc&&_e.pending>ce&&(Q.adler=t(Q.adler,_e.pending_buf,_e.pending-ce,ce)),_e.gzindex===_e.gzhead.extra.length&&(_e.gzindex=0,_e.status=73)}else _e.status=73;if(_e.status===73)if(_e.gzhead.name){ce=_e.pending;do{if(_e.pending===_e.pending_buf_size&&(_e.gzhead.hcrc&&_e.pending>ce&&(Q.adler=t(Q.adler,_e.pending_buf,_e.pending-ce,ce)),$(Q),ce=_e.pending,_e.pending===_e.pending_buf_size)){de=1;break}de=_e.gzindex<_e.gzhead.name.length?255&_e.gzhead.name.charCodeAt(_e.gzindex++):0,z(_e,de)}while(de!==0);_e.gzhead.hcrc&&_e.pending>ce&&(Q.adler=t(Q.adler,_e.pending_buf,_e.pending-ce,ce)),de===0&&(_e.gzindex=0,_e.status=91)}else _e.status=91;if(_e.status===91)if(_e.gzhead.comment){ce=_e.pending;do{if(_e.pending===_e.pending_buf_size&&(_e.gzhead.hcrc&&_e.pending>ce&&(Q.adler=t(Q.adler,_e.pending_buf,_e.pending-ce,ce)),$(Q),ce=_e.pending,_e.pending===_e.pending_buf_size)){de=1;break}de=_e.gzindex<_e.gzhead.comment.length?255&_e.gzhead.comment.charCodeAt(_e.gzindex++):0,z(_e,de)}while(de!==0);_e.gzhead.hcrc&&_e.pending>ce&&(Q.adler=t(Q.adler,_e.pending_buf,_e.pending-ce,ce)),de===0&&(_e.status=103)}else _e.status=103;if(_e.status===103&&(_e.gzhead.hcrc?(_e.pending+2>_e.pending_buf_size&&$(Q),_e.pending+2<=_e.pending_buf_size&&(z(_e,255&Q.adler),z(_e,Q.adler>>8&255),Q.adler=0,_e.status=re)):_e.status=re),_e.pending!==0){if($(Q),Q.avail_out===0)return _e.last_flush=-1,l}else if(Q.avail_in===0&&F(ue)<=F(xe)&&ue!==n)return C(Q,-5);if(_e.status===666&&Q.avail_in!==0)return C(Q,-5);if(Q.avail_in!==0||_e.lookahead!==0||ue!==r&&_e.status!==666){var se=_e.strategy===2?function(ne,we){for(var Ne;;){if(ne.lookahead===0&&(G(ne),ne.lookahead===0)){if(we===r)return Z;break}if(ne.match_length=0,Ne=h._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,Ne&&(Y(ne,!1),ne.strm.avail_out===0))return Z}return ne.insert=0,we===n?(Y(ne,!0),ne.strm.avail_out===0?j:O):ne.last_lit&&(Y(ne,!1),ne.strm.avail_out===0)?Z:W}(_e,ue):_e.strategy===3?function(ne,we){for(var Ne,ae,Pe,ze,ve=ne.window;;){if(ne.lookahead<=V){if(G(ne),ne.lookahead<=V&&we===r)return Z;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=D&&0<ne.strstart&&(ae=ve[Pe=ne.strstart-1])===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]){ze=ne.strstart+V;do;while(ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&Pe<ze);ne.match_length=V-(ze-Pe),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=D?(Ne=h._tr_tally(ne,1,ne.match_length-D),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(Ne=h._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),Ne&&(Y(ne,!1),ne.strm.avail_out===0))return Z}return ne.insert=0,we===n?(Y(ne,!0),ne.strm.avail_out===0?j:O):ne.last_lit&&(Y(ne,!1),ne.strm.avail_out===0)?Z:W}(_e,ue):f[_e.level].func(_e,ue);if(se!==j&&se!==O||(_e.status=666),se===Z||se===j)return Q.avail_out===0&&(_e.last_flush=-1),l;if(se===W&&(ue===1?h._tr_align(_e):ue!==5&&(h._tr_stored_block(_e,0,0,!1),ue===3&&(H(_e.head),_e.lookahead===0&&(_e.strstart=0,_e.block_start=0,_e.insert=0))),$(Q),Q.avail_out===0))return _e.last_flush=-1,l}return ue!==n?l:_e.wrap<=0?1:(_e.wrap===2?(z(_e,255&Q.adler),z(_e,Q.adler>>8&255),z(_e,Q.adler>>16&255),z(_e,Q.adler>>24&255),z(_e,255&Q.total_in),z(_e,Q.total_in>>8&255),z(_e,Q.total_in>>16&255),z(_e,Q.total_in>>24&255)):(B(_e,Q.adler>>>16),B(_e,65535&Q.adler)),$(Q),0<_e.wrap&&(_e.wrap=-_e.wrap),_e.pending!==0?l:1)},g.deflateEnd=function(Q){var ue;return Q&&Q.state?(ue=Q.state.status)!==te&&ue!==69&&ue!==73&&ue!==91&&ue!==103&&ue!==re&&ue!==666?C(Q,d):(Q.state=null,ue===re?C(Q,-3):l):d},g.deflateSetDictionary=function(Q,ue){var xe,_e,ce,de,he,se,ne,we,Ne=ue.length;if(!Q||!Q.state||(de=(xe=Q.state).wrap)===2||de===1&&xe.status!==te||xe.lookahead)return d;for(de===1&&(Q.adler=s(Q.adler,ue,Ne,0)),xe.wrap=0,Ne>=xe.w_size&&(de===0&&(H(xe.head),xe.strstart=0,xe.block_start=0,xe.insert=0),we=new u.Buf8(xe.w_size),u.arraySet(we,ue,Ne-xe.w_size,xe.w_size,0),ue=we,Ne=xe.w_size),he=Q.avail_in,se=Q.next_in,ne=Q.input,Q.avail_in=Ne,Q.next_in=0,Q.input=ue,G(xe);xe.lookahead>=D;){for(_e=xe.strstart,ce=xe.lookahead-(D-1);xe.ins_h=(xe.ins_h<<xe.hash_shift^xe.window[_e+D-1])&xe.hash_mask,xe.prev[_e&xe.w_mask]=xe.head[xe.ins_h],xe.head[xe.ins_h]=_e,_e++,--ce;);xe.strstart=_e,xe.lookahead=D-1,G(xe)}return xe.strstart+=xe.lookahead,xe.block_start=xe.strstart,xe.insert=xe.lookahead,xe.lookahead=0,xe.match_length=xe.prev_length=D-1,xe.match_available=0,Q.next_in=se,Q.input=ne,Q.avail_in=he,xe.wrap=de,l},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,m,g){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,m,g){m.exports=function(f,u){var h,s,t,i,r,n,l,d,a,v,y,p,E,T,S,A,w,I,D,V,ie,te,re,Z,W;h=f.state,s=f.next_in,Z=f.input,t=s+(f.avail_in-5),i=f.next_out,W=f.output,r=i-(u-f.avail_out),n=i+(f.avail_out-257),l=h.dmax,d=h.wsize,a=h.whave,v=h.wnext,y=h.window,p=h.hold,E=h.bits,T=h.lencode,S=h.distcode,A=(1<<h.lenbits)-1,w=(1<<h.distbits)-1;e:do{E<15&&(p+=Z[s++]<<E,E+=8,p+=Z[s++]<<E,E+=8),I=T[p&A];t:for(;;){if(p>>>=D=I>>>24,E-=D,(D=I>>>16&255)===0)W[i++]=65535&I;else{if(!(16&D)){if(!(64&D)){I=T[(65535&I)+(p&(1<<D)-1)];continue t}if(32&D){h.mode=12;break e}f.msg="invalid literal/length code",h.mode=30;break e}V=65535&I,(D&=15)&&(E<D&&(p+=Z[s++]<<E,E+=8),V+=p&(1<<D)-1,p>>>=D,E-=D),E<15&&(p+=Z[s++]<<E,E+=8,p+=Z[s++]<<E,E+=8),I=S[p&w];r:for(;;){if(p>>>=D=I>>>24,E-=D,!(16&(D=I>>>16&255))){if(!(64&D)){I=S[(65535&I)+(p&(1<<D)-1)];continue r}f.msg="invalid distance code",h.mode=30;break e}if(ie=65535&I,E<(D&=15)&&(p+=Z[s++]<<E,(E+=8)<D&&(p+=Z[s++]<<E,E+=8)),l<(ie+=p&(1<<D)-1)){f.msg="invalid distance too far back",h.mode=30;break e}if(p>>>=D,E-=D,(D=i-r)<ie){if(a<(D=ie-D)&&h.sane){f.msg="invalid distance too far back",h.mode=30;break e}if(re=y,(te=0)===v){if(te+=d-D,D<V){for(V-=D;W[i++]=y[te++],--D;);te=i-ie,re=W}}else if(v<D){if(te+=d+v-D,(D-=v)<V){for(V-=D;W[i++]=y[te++],--D;);if(te=0,v<V){for(V-=D=v;W[i++]=y[te++],--D;);te=i-ie,re=W}}}else if(te+=v-D,D<V){for(V-=D;W[i++]=y[te++],--D;);te=i-ie,re=W}for(;2<V;)W[i++]=re[te++],W[i++]=re[te++],W[i++]=re[te++],V-=3;V&&(W[i++]=re[te++],1<V&&(W[i++]=re[te++]))}else{for(te=i-ie;W[i++]=W[te++],W[i++]=W[te++],W[i++]=W[te++],2<(V-=3););V&&(W[i++]=W[te++],1<V&&(W[i++]=W[te++]))}break}}break}}while(s<t&&i<n);s-=V=E>>3,p&=(1<<(E-=V<<3))-1,f.next_in=s,f.next_out=i,f.avail_in=s<t?t-s+5:5-(s-t),f.avail_out=i<n?n-i+257:257-(i-n),h.hold=p,h.bits=E}},{}],49:[function(e,m,g){var f=e("../utils/common"),u=e("./adler32"),h=e("./crc32"),s=e("./inffast"),t=e("./inftrees"),i=1,r=2,n=0,l=-2,d=1,a=852,v=592;function y(te){return(te>>>24&255)+(te>>>8&65280)+((65280&te)<<8)+((255&te)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(te){var re;return te&&te.state?(re=te.state,te.total_in=te.total_out=re.total=0,te.msg="",re.wrap&&(te.adler=1&re.wrap),re.mode=d,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new f.Buf32(a),re.distcode=re.distdyn=new f.Buf32(v),re.sane=1,re.back=-1,n):l}function T(te){var re;return te&&te.state?((re=te.state).wsize=0,re.whave=0,re.wnext=0,E(te)):l}function S(te,re){var Z,W;return te&&te.state?(W=te.state,re<0?(Z=0,re=-re):(Z=1+(re>>4),re<48&&(re&=15)),re&&(re<8||15<re)?l:(W.window!==null&&W.wbits!==re&&(W.window=null),W.wrap=Z,W.wbits=re,T(te))):l}function A(te,re){var Z,W;return te?(W=new p,(te.state=W).window=null,(Z=S(te,re))!==n&&(te.state=null),Z):l}var w,I,D=!0;function V(te){if(D){var re;for(w=new f.Buf32(512),I=new f.Buf32(32),re=0;re<144;)te.lens[re++]=8;for(;re<256;)te.lens[re++]=9;for(;re<280;)te.lens[re++]=7;for(;re<288;)te.lens[re++]=8;for(t(i,te.lens,0,288,w,0,te.work,{bits:9}),re=0;re<32;)te.lens[re++]=5;t(r,te.lens,0,32,I,0,te.work,{bits:5}),D=!1}te.lencode=w,te.lenbits=9,te.distcode=I,te.distbits=5}function ie(te,re,Z,W){var j,O=te.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new f.Buf8(O.wsize)),W>=O.wsize?(f.arraySet(O.window,re,Z-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(W<(j=O.wsize-O.wnext)&&(j=W),f.arraySet(O.window,re,Z-W,j,O.wnext),(W-=j)?(f.arraySet(O.window,re,Z-W,W,0),O.wnext=W,O.whave=O.wsize):(O.wnext+=j,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=j))),0}g.inflateReset=T,g.inflateReset2=S,g.inflateResetKeep=E,g.inflateInit=function(te){return A(te,15)},g.inflateInit2=A,g.inflate=function(te,re){var Z,W,j,O,C,F,H,$,Y,z,B,L,G,le,ge,Ie,Oe,Ke,De,Ee,Q,ue,xe,_e,ce=0,de=new f.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!te||!te.state||!te.output||!te.input&&te.avail_in!==0)return l;(Z=te.state).mode===12&&(Z.mode=13),C=te.next_out,j=te.output,H=te.avail_out,O=te.next_in,W=te.input,F=te.avail_in,$=Z.hold,Y=Z.bits,z=F,B=H,ue=n;e:for(;;)switch(Z.mode){case d:if(Z.wrap===0){Z.mode=13;break}for(;Y<16;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if(2&Z.wrap&&$===35615){de[Z.check=0]=255&$,de[1]=$>>>8&255,Z.check=h(Z.check,de,2,0),Y=$=0,Z.mode=2;break}if(Z.flags=0,Z.head&&(Z.head.done=!1),!(1&Z.wrap)||(((255&$)<<8)+($>>8))%31){te.msg="incorrect header check",Z.mode=30;break}if((15&$)!=8){te.msg="unknown compression method",Z.mode=30;break}if(Y-=4,Q=8+(15&($>>>=4)),Z.wbits===0)Z.wbits=Q;else if(Q>Z.wbits){te.msg="invalid window size",Z.mode=30;break}Z.dmax=1<<Q,te.adler=Z.check=1,Z.mode=512&$?10:12,Y=$=0;break;case 2:for(;Y<16;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if(Z.flags=$,(255&Z.flags)!=8){te.msg="unknown compression method",Z.mode=30;break}if(57344&Z.flags){te.msg="unknown header flags set",Z.mode=30;break}Z.head&&(Z.head.text=$>>8&1),512&Z.flags&&(de[0]=255&$,de[1]=$>>>8&255,Z.check=h(Z.check,de,2,0)),Y=$=0,Z.mode=3;case 3:for(;Y<32;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Z.head&&(Z.head.time=$),512&Z.flags&&(de[0]=255&$,de[1]=$>>>8&255,de[2]=$>>>16&255,de[3]=$>>>24&255,Z.check=h(Z.check,de,4,0)),Y=$=0,Z.mode=4;case 4:for(;Y<16;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Z.head&&(Z.head.xflags=255&$,Z.head.os=$>>8),512&Z.flags&&(de[0]=255&$,de[1]=$>>>8&255,Z.check=h(Z.check,de,2,0)),Y=$=0,Z.mode=5;case 5:if(1024&Z.flags){for(;Y<16;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Z.length=$,Z.head&&(Z.head.extra_len=$),512&Z.flags&&(de[0]=255&$,de[1]=$>>>8&255,Z.check=h(Z.check,de,2,0)),Y=$=0}else Z.head&&(Z.head.extra=null);Z.mode=6;case 6:if(1024&Z.flags&&(F<(L=Z.length)&&(L=F),L&&(Z.head&&(Q=Z.head.extra_len-Z.length,Z.head.extra||(Z.head.extra=new Array(Z.head.extra_len)),f.arraySet(Z.head.extra,W,O,L,Q)),512&Z.flags&&(Z.check=h(Z.check,W,L,O)),F-=L,O+=L,Z.length-=L),Z.length))break e;Z.length=0,Z.mode=7;case 7:if(2048&Z.flags){if(F===0)break e;for(L=0;Q=W[O+L++],Z.head&&Q&&Z.length<65536&&(Z.head.name+=String.fromCharCode(Q)),Q&&L<F;);if(512&Z.flags&&(Z.check=h(Z.check,W,L,O)),F-=L,O+=L,Q)break e}else Z.head&&(Z.head.name=null);Z.length=0,Z.mode=8;case 8:if(4096&Z.flags){if(F===0)break e;for(L=0;Q=W[O+L++],Z.head&&Q&&Z.length<65536&&(Z.head.comment+=String.fromCharCode(Q)),Q&&L<F;);if(512&Z.flags&&(Z.check=h(Z.check,W,L,O)),F-=L,O+=L,Q)break e}else Z.head&&(Z.head.comment=null);Z.mode=9;case 9:if(512&Z.flags){for(;Y<16;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if($!==(65535&Z.check)){te.msg="header crc mismatch",Z.mode=30;break}Y=$=0}Z.head&&(Z.head.hcrc=Z.flags>>9&1,Z.head.done=!0),te.adler=Z.check=0,Z.mode=12;break;case 10:for(;Y<32;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}te.adler=Z.check=y($),Y=$=0,Z.mode=11;case 11:if(Z.havedict===0)return te.next_out=C,te.avail_out=H,te.next_in=O,te.avail_in=F,Z.hold=$,Z.bits=Y,2;te.adler=Z.check=1,Z.mode=12;case 12:if(re===5||re===6)break e;case 13:if(Z.last){$>>>=7&Y,Y-=7&Y,Z.mode=27;break}for(;Y<3;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}switch(Z.last=1&$,Y-=1,3&($>>>=1)){case 0:Z.mode=14;break;case 1:if(V(Z),Z.mode=20,re!==6)break;$>>>=2,Y-=2;break e;case 2:Z.mode=17;break;case 3:te.msg="invalid block type",Z.mode=30}$>>>=2,Y-=2;break;case 14:for($>>>=7&Y,Y-=7&Y;Y<32;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if((65535&$)!=($>>>16^65535)){te.msg="invalid stored block lengths",Z.mode=30;break}if(Z.length=65535&$,Y=$=0,Z.mode=15,re===6)break e;case 15:Z.mode=16;case 16:if(L=Z.length){if(F<L&&(L=F),H<L&&(L=H),L===0)break e;f.arraySet(j,W,O,L,C),F-=L,O+=L,H-=L,C+=L,Z.length-=L;break}Z.mode=12;break;case 17:for(;Y<14;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if(Z.nlen=257+(31&$),$>>>=5,Y-=5,Z.ndist=1+(31&$),$>>>=5,Y-=5,Z.ncode=4+(15&$),$>>>=4,Y-=4,286<Z.nlen||30<Z.ndist){te.msg="too many length or distance symbols",Z.mode=30;break}Z.have=0,Z.mode=18;case 18:for(;Z.have<Z.ncode;){for(;Y<3;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Z.lens[he[Z.have++]]=7&$,$>>>=3,Y-=3}for(;Z.have<19;)Z.lens[he[Z.have++]]=0;if(Z.lencode=Z.lendyn,Z.lenbits=7,xe={bits:Z.lenbits},ue=t(0,Z.lens,0,19,Z.lencode,0,Z.work,xe),Z.lenbits=xe.bits,ue){te.msg="invalid code lengths set",Z.mode=30;break}Z.have=0,Z.mode=19;case 19:for(;Z.have<Z.nlen+Z.ndist;){for(;Ie=(ce=Z.lencode[$&(1<<Z.lenbits)-1])>>>16&255,Oe=65535&ce,!((ge=ce>>>24)<=Y);){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if(Oe<16)$>>>=ge,Y-=ge,Z.lens[Z.have++]=Oe;else{if(Oe===16){for(_e=ge+2;Y<_e;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if($>>>=ge,Y-=ge,Z.have===0){te.msg="invalid bit length repeat",Z.mode=30;break}Q=Z.lens[Z.have-1],L=3+(3&$),$>>>=2,Y-=2}else if(Oe===17){for(_e=ge+3;Y<_e;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Y-=ge,Q=0,L=3+(7&($>>>=ge)),$>>>=3,Y-=3}else{for(_e=ge+7;Y<_e;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Y-=ge,Q=0,L=11+(127&($>>>=ge)),$>>>=7,Y-=7}if(Z.have+L>Z.nlen+Z.ndist){te.msg="invalid bit length repeat",Z.mode=30;break}for(;L--;)Z.lens[Z.have++]=Q}}if(Z.mode===30)break;if(Z.lens[256]===0){te.msg="invalid code -- missing end-of-block",Z.mode=30;break}if(Z.lenbits=9,xe={bits:Z.lenbits},ue=t(i,Z.lens,0,Z.nlen,Z.lencode,0,Z.work,xe),Z.lenbits=xe.bits,ue){te.msg="invalid literal/lengths set",Z.mode=30;break}if(Z.distbits=6,Z.distcode=Z.distdyn,xe={bits:Z.distbits},ue=t(r,Z.lens,Z.nlen,Z.ndist,Z.distcode,0,Z.work,xe),Z.distbits=xe.bits,ue){te.msg="invalid distances set",Z.mode=30;break}if(Z.mode=20,re===6)break e;case 20:Z.mode=21;case 21:if(6<=F&&258<=H){te.next_out=C,te.avail_out=H,te.next_in=O,te.avail_in=F,Z.hold=$,Z.bits=Y,s(te,B),C=te.next_out,j=te.output,H=te.avail_out,O=te.next_in,W=te.input,F=te.avail_in,$=Z.hold,Y=Z.bits,Z.mode===12&&(Z.back=-1);break}for(Z.back=0;Ie=(ce=Z.lencode[$&(1<<Z.lenbits)-1])>>>16&255,Oe=65535&ce,!((ge=ce>>>24)<=Y);){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if(Ie&&!(240&Ie)){for(Ke=ge,De=Ie,Ee=Oe;Ie=(ce=Z.lencode[Ee+(($&(1<<Ke+De)-1)>>Ke)])>>>16&255,Oe=65535&ce,!(Ke+(ge=ce>>>24)<=Y);){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}$>>>=Ke,Y-=Ke,Z.back+=Ke}if($>>>=ge,Y-=ge,Z.back+=ge,Z.length=Oe,Ie===0){Z.mode=26;break}if(32&Ie){Z.back=-1,Z.mode=12;break}if(64&Ie){te.msg="invalid literal/length code",Z.mode=30;break}Z.extra=15&Ie,Z.mode=22;case 22:if(Z.extra){for(_e=Z.extra;Y<_e;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Z.length+=$&(1<<Z.extra)-1,$>>>=Z.extra,Y-=Z.extra,Z.back+=Z.extra}Z.was=Z.length,Z.mode=23;case 23:for(;Ie=(ce=Z.distcode[$&(1<<Z.distbits)-1])>>>16&255,Oe=65535&ce,!((ge=ce>>>24)<=Y);){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if(!(240&Ie)){for(Ke=ge,De=Ie,Ee=Oe;Ie=(ce=Z.distcode[Ee+(($&(1<<Ke+De)-1)>>Ke)])>>>16&255,Oe=65535&ce,!(Ke+(ge=ce>>>24)<=Y);){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}$>>>=Ke,Y-=Ke,Z.back+=Ke}if($>>>=ge,Y-=ge,Z.back+=ge,64&Ie){te.msg="invalid distance code",Z.mode=30;break}Z.offset=Oe,Z.extra=15&Ie,Z.mode=24;case 24:if(Z.extra){for(_e=Z.extra;Y<_e;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}Z.offset+=$&(1<<Z.extra)-1,$>>>=Z.extra,Y-=Z.extra,Z.back+=Z.extra}if(Z.offset>Z.dmax){te.msg="invalid distance too far back",Z.mode=30;break}Z.mode=25;case 25:if(H===0)break e;if(L=B-H,Z.offset>L){if((L=Z.offset-L)>Z.whave&&Z.sane){te.msg="invalid distance too far back",Z.mode=30;break}G=L>Z.wnext?(L-=Z.wnext,Z.wsize-L):Z.wnext-L,L>Z.length&&(L=Z.length),le=Z.window}else le=j,G=C-Z.offset,L=Z.length;for(H<L&&(L=H),H-=L,Z.length-=L;j[C++]=le[G++],--L;);Z.length===0&&(Z.mode=21);break;case 26:if(H===0)break e;j[C++]=Z.length,H--,Z.mode=21;break;case 27:if(Z.wrap){for(;Y<32;){if(F===0)break e;F--,$|=W[O++]<<Y,Y+=8}if(B-=H,te.total_out+=B,Z.total+=B,B&&(te.adler=Z.check=Z.flags?h(Z.check,j,B,C-B):u(Z.check,j,B,C-B)),B=H,(Z.flags?$:y($))!==Z.check){te.msg="incorrect data check",Z.mode=30;break}Y=$=0}Z.mode=28;case 28:if(Z.wrap&&Z.flags){for(;Y<32;){if(F===0)break e;F--,$+=W[O++]<<Y,Y+=8}if($!==(4294967295&Z.total)){te.msg="incorrect length check",Z.mode=30;break}Y=$=0}Z.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return l}return te.next_out=C,te.avail_out=H,te.next_in=O,te.avail_in=F,Z.hold=$,Z.bits=Y,(Z.wsize||B!==te.avail_out&&Z.mode<30&&(Z.mode<27||re!==4))&&ie(te,te.output,te.next_out,B-te.avail_out)?(Z.mode=31,-4):(z-=te.avail_in,B-=te.avail_out,te.total_in+=z,te.total_out+=B,Z.total+=B,Z.wrap&&B&&(te.adler=Z.check=Z.flags?h(Z.check,j,B,te.next_out-B):u(Z.check,j,B,te.next_out-B)),te.data_type=Z.bits+(Z.last?64:0)+(Z.mode===12?128:0)+(Z.mode===20||Z.mode===15?256:0),(z==0&&B===0||re===4)&&ue===n&&(ue=-5),ue)},g.inflateEnd=function(te){if(!te||!te.state)return l;var re=te.state;return re.window&&(re.window=null),te.state=null,n},g.inflateGetHeader=function(te,re){var Z;return te&&te.state&&2&(Z=te.state).wrap?((Z.head=re).done=!1,n):l},g.inflateSetDictionary=function(te,re){var Z,W=re.length;return te&&te.state?(Z=te.state).wrap!==0&&Z.mode!==11?l:Z.mode===11&&u(1,re,W,0)!==Z.check?-3:ie(te,re,W,W)?(Z.mode=31,-4):(Z.havedict=1,n):l},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,m,g){var f=e("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],t=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(i,r,n,l,d,a,v,y){var p,E,T,S,A,w,I,D,V,ie=y.bits,te=0,re=0,Z=0,W=0,j=0,O=0,C=0,F=0,H=0,$=0,Y=null,z=0,B=new f.Buf16(16),L=new f.Buf16(16),G=null,le=0;for(te=0;te<=15;te++)B[te]=0;for(re=0;re<l;re++)B[r[n+re]]++;for(j=ie,W=15;1<=W&&B[W]===0;W--);if(W<j&&(j=W),W===0)return d[a++]=20971520,d[a++]=20971520,y.bits=1,0;for(Z=1;Z<W&&B[Z]===0;Z++);for(j<Z&&(j=Z),te=F=1;te<=15;te++)if(F<<=1,(F-=B[te])<0)return-1;if(0<F&&(i===0||W!==1))return-1;for(L[1]=0,te=1;te<15;te++)L[te+1]=L[te]+B[te];for(re=0;re<l;re++)r[n+re]!==0&&(v[L[r[n+re]]++]=re);if(w=i===0?(Y=G=v,19):i===1?(Y=u,z-=257,G=h,le-=257,256):(Y=s,G=t,-1),te=Z,A=a,C=re=$=0,T=-1,S=(H=1<<(O=j))-1,i===1&&852<H||i===2&&592<H)return 1;for(;;){for(I=te-C,V=v[re]<w?(D=0,v[re]):v[re]>w?(D=G[le+v[re]],Y[z+v[re]]):(D=96,0),p=1<<te-C,Z=E=1<<O;d[A+($>>C)+(E-=p)]=I<<24|D<<16|V|0,E!==0;);for(p=1<<te-1;$&p;)p>>=1;if(p!==0?($&=p-1,$+=p):$=0,re++,--B[te]==0){if(te===W)break;te=r[n+v[re]]}if(j<te&&($&S)!==T){for(C===0&&(C=j),A+=Z,F=1<<(O=te-C);O+C<W&&!((F-=B[O+C])<=0);)O++,F<<=1;if(H+=1<<O,i===1&&852<H||i===2&&592<H)return 1;d[T=$&S]=j<<24|O<<16|A-a|0}}return $!==0&&(d[A+$]=te-C<<24|64<<16|0),y.bits=j,0}},{"../utils/common":41}],51:[function(e,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,m,g){var f=e("../utils/common"),u=0,h=1;function s(ce){for(var de=ce.length;0<=--de;)ce[de]=0}var t=0,i=29,r=256,n=r+1+i,l=30,d=19,a=2*n+1,v=15,y=16,p=7,E=256,T=16,S=17,A=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=new Array(2*(n+2));s(ie);var te=new Array(2*l);s(te);var re=new Array(512);s(re);var Z=new Array(256);s(Z);var W=new Array(i);s(W);var j,O,C,F=new Array(l);function H(ce,de,he,se,ne){this.static_tree=ce,this.extra_bits=de,this.extra_base=he,this.elems=se,this.max_length=ne,this.has_stree=ce&&ce.length}function $(ce,de){this.dyn_tree=ce,this.max_code=0,this.stat_desc=de}function Y(ce){return ce<256?re[ce]:re[256+(ce>>>7)]}function z(ce,de){ce.pending_buf[ce.pending++]=255&de,ce.pending_buf[ce.pending++]=de>>>8&255}function B(ce,de,he){ce.bi_valid>y-he?(ce.bi_buf|=de<<ce.bi_valid&65535,z(ce,ce.bi_buf),ce.bi_buf=de>>y-ce.bi_valid,ce.bi_valid+=he-y):(ce.bi_buf|=de<<ce.bi_valid&65535,ce.bi_valid+=he)}function L(ce,de,he){B(ce,he[2*de],he[2*de+1])}function G(ce,de){for(var he=0;he|=1&ce,ce>>>=1,he<<=1,0<--de;);return he>>>1}function le(ce,de,he){var se,ne,we=new Array(v+1),Ne=0;for(se=1;se<=v;se++)we[se]=Ne=Ne+he[se-1]<<1;for(ne=0;ne<=de;ne++){var ae=ce[2*ne+1];ae!==0&&(ce[2*ne]=G(we[ae]++,ae))}}function ge(ce){var de;for(de=0;de<n;de++)ce.dyn_ltree[2*de]=0;for(de=0;de<l;de++)ce.dyn_dtree[2*de]=0;for(de=0;de<d;de++)ce.bl_tree[2*de]=0;ce.dyn_ltree[2*E]=1,ce.opt_len=ce.static_len=0,ce.last_lit=ce.matches=0}function Ie(ce){8<ce.bi_valid?z(ce,ce.bi_buf):0<ce.bi_valid&&(ce.pending_buf[ce.pending++]=ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0}function Oe(ce,de,he,se){var ne=2*de,we=2*he;return ce[ne]<ce[we]||ce[ne]===ce[we]&&se[de]<=se[he]}function Ke(ce,de,he){for(var se=ce.heap[he],ne=he<<1;ne<=ce.heap_len&&(ne<ce.heap_len&&Oe(de,ce.heap[ne+1],ce.heap[ne],ce.depth)&&ne++,!Oe(de,se,ce.heap[ne],ce.depth));)ce.heap[he]=ce.heap[ne],he=ne,ne<<=1;ce.heap[he]=se}function De(ce,de,he){var se,ne,we,Ne,ae=0;if(ce.last_lit!==0)for(;se=ce.pending_buf[ce.d_buf+2*ae]<<8|ce.pending_buf[ce.d_buf+2*ae+1],ne=ce.pending_buf[ce.l_buf+ae],ae++,se===0?L(ce,ne,de):(L(ce,(we=Z[ne])+r+1,de),(Ne=w[we])!==0&&B(ce,ne-=W[we],Ne),L(ce,we=Y(--se),he),(Ne=I[we])!==0&&B(ce,se-=F[we],Ne)),ae<ce.last_lit;);L(ce,E,de)}function Ee(ce,de){var he,se,ne,we=de.dyn_tree,Ne=de.stat_desc.static_tree,ae=de.stat_desc.has_stree,Pe=de.stat_desc.elems,ze=-1;for(ce.heap_len=0,ce.heap_max=a,he=0;he<Pe;he++)we[2*he]!==0?(ce.heap[++ce.heap_len]=ze=he,ce.depth[he]=0):we[2*he+1]=0;for(;ce.heap_len<2;)we[2*(ne=ce.heap[++ce.heap_len]=ze<2?++ze:0)]=1,ce.depth[ne]=0,ce.opt_len--,ae&&(ce.static_len-=Ne[2*ne+1]);for(de.max_code=ze,he=ce.heap_len>>1;1<=he;he--)Ke(ce,we,he);for(ne=Pe;he=ce.heap[1],ce.heap[1]=ce.heap[ce.heap_len--],Ke(ce,we,1),se=ce.heap[1],ce.heap[--ce.heap_max]=he,ce.heap[--ce.heap_max]=se,we[2*ne]=we[2*he]+we[2*se],ce.depth[ne]=(ce.depth[he]>=ce.depth[se]?ce.depth[he]:ce.depth[se])+1,we[2*he+1]=we[2*se+1]=ne,ce.heap[1]=ne++,Ke(ce,we,1),2<=ce.heap_len;);ce.heap[--ce.heap_max]=ce.heap[1],function(ve,Ae){var Be,We,Je,Ge,et,ut,at=Ae.dyn_tree,Fe=Ae.max_code,Qe=Ae.stat_desc.static_tree,rt=Ae.stat_desc.has_stree,mt=Ae.stat_desc.extra_bits,Ut=Ae.stat_desc.extra_base,jt=Ae.stat_desc.max_length,kt=0;for(Ge=0;Ge<=v;Ge++)ve.bl_count[Ge]=0;for(at[2*ve.heap[ve.heap_max]+1]=0,Be=ve.heap_max+1;Be<a;Be++)jt<(Ge=at[2*at[2*(We=ve.heap[Be])+1]+1]+1)&&(Ge=jt,kt++),at[2*We+1]=Ge,Fe<We||(ve.bl_count[Ge]++,et=0,Ut<=We&&(et=mt[We-Ut]),ut=at[2*We],ve.opt_len+=ut*(Ge+et),rt&&(ve.static_len+=ut*(Qe[2*We+1]+et)));if(kt!==0){do{for(Ge=jt-1;ve.bl_count[Ge]===0;)Ge--;ve.bl_count[Ge]--,ve.bl_count[Ge+1]+=2,ve.bl_count[jt]--,kt-=2}while(0<kt);for(Ge=jt;Ge!==0;Ge--)for(We=ve.bl_count[Ge];We!==0;)Fe<(Je=ve.heap[--Be])||(at[2*Je+1]!==Ge&&(ve.opt_len+=(Ge-at[2*Je+1])*at[2*Je],at[2*Je+1]=Ge),We--)}}(ce,de),le(we,ze,ce.bl_count)}function Q(ce,de,he){var se,ne,we=-1,Ne=de[1],ae=0,Pe=7,ze=4;for(Ne===0&&(Pe=138,ze=3),de[2*(he+1)+1]=65535,se=0;se<=he;se++)ne=Ne,Ne=de[2*(se+1)+1],++ae<Pe&&ne===Ne||(ae<ze?ce.bl_tree[2*ne]+=ae:ne!==0?(ne!==we&&ce.bl_tree[2*ne]++,ce.bl_tree[2*T]++):ae<=10?ce.bl_tree[2*S]++:ce.bl_tree[2*A]++,we=ne,ze=(ae=0)===Ne?(Pe=138,3):ne===Ne?(Pe=6,3):(Pe=7,4))}function ue(ce,de,he){var se,ne,we=-1,Ne=de[1],ae=0,Pe=7,ze=4;for(Ne===0&&(Pe=138,ze=3),se=0;se<=he;se++)if(ne=Ne,Ne=de[2*(se+1)+1],!(++ae<Pe&&ne===Ne)){if(ae<ze)for(;L(ce,ne,ce.bl_tree),--ae!=0;);else ne!==0?(ne!==we&&(L(ce,ne,ce.bl_tree),ae--),L(ce,T,ce.bl_tree),B(ce,ae-3,2)):ae<=10?(L(ce,S,ce.bl_tree),B(ce,ae-3,3)):(L(ce,A,ce.bl_tree),B(ce,ae-11,7));we=ne,ze=(ae=0)===Ne?(Pe=138,3):ne===Ne?(Pe=6,3):(Pe=7,4)}}s(F);var xe=!1;function _e(ce,de,he,se){B(ce,(t<<1)+(se?1:0),3),function(ne,we,Ne,ae){Ie(ne),ae&&(z(ne,Ne),z(ne,~Ne)),f.arraySet(ne.pending_buf,ne.window,we,Ne,ne.pending),ne.pending+=Ne}(ce,de,he,!0)}g._tr_init=function(ce){xe||(function(){var de,he,se,ne,we,Ne=new Array(v+1);for(ne=se=0;ne<i-1;ne++)for(W[ne]=se,de=0;de<1<<w[ne];de++)Z[se++]=ne;for(Z[se-1]=ne,ne=we=0;ne<16;ne++)for(F[ne]=we,de=0;de<1<<I[ne];de++)re[we++]=ne;for(we>>=7;ne<l;ne++)for(F[ne]=we<<7,de=0;de<1<<I[ne]-7;de++)re[256+we++]=ne;for(he=0;he<=v;he++)Ne[he]=0;for(de=0;de<=143;)ie[2*de+1]=8,de++,Ne[8]++;for(;de<=255;)ie[2*de+1]=9,de++,Ne[9]++;for(;de<=279;)ie[2*de+1]=7,de++,Ne[7]++;for(;de<=287;)ie[2*de+1]=8,de++,Ne[8]++;for(le(ie,n+1,Ne),de=0;de<l;de++)te[2*de+1]=5,te[2*de]=G(de,5);j=new H(ie,w,r+1,n,v),O=new H(te,I,0,l,v),C=new H(new Array(0),D,0,d,p)}(),xe=!0),ce.l_desc=new $(ce.dyn_ltree,j),ce.d_desc=new $(ce.dyn_dtree,O),ce.bl_desc=new $(ce.bl_tree,C),ce.bi_buf=0,ce.bi_valid=0,ge(ce)},g._tr_stored_block=_e,g._tr_flush_block=function(ce,de,he,se){var ne,we,Ne=0;0<ce.level?(ce.strm.data_type===2&&(ce.strm.data_type=function(ae){var Pe,ze=4093624447;for(Pe=0;Pe<=31;Pe++,ze>>>=1)if(1&ze&&ae.dyn_ltree[2*Pe]!==0)return u;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return h;for(Pe=32;Pe<r;Pe++)if(ae.dyn_ltree[2*Pe]!==0)return h;return u}(ce)),Ee(ce,ce.l_desc),Ee(ce,ce.d_desc),Ne=function(ae){var Pe;for(Q(ae,ae.dyn_ltree,ae.l_desc.max_code),Q(ae,ae.dyn_dtree,ae.d_desc.max_code),Ee(ae,ae.bl_desc),Pe=d-1;3<=Pe&&ae.bl_tree[2*V[Pe]+1]===0;Pe--);return ae.opt_len+=3*(Pe+1)+5+5+4,Pe}(ce),ne=ce.opt_len+3+7>>>3,(we=ce.static_len+3+7>>>3)<=ne&&(ne=we)):ne=we=he+5,he+4<=ne&&de!==-1?_e(ce,de,he,se):ce.strategy===4||we===ne?(B(ce,2+(se?1:0),3),De(ce,ie,te)):(B(ce,4+(se?1:0),3),function(ae,Pe,ze,ve){var Ae;for(B(ae,Pe-257,5),B(ae,ze-1,5),B(ae,ve-4,4),Ae=0;Ae<ve;Ae++)B(ae,ae.bl_tree[2*V[Ae]+1],3);ue(ae,ae.dyn_ltree,Pe-1),ue(ae,ae.dyn_dtree,ze-1)}(ce,ce.l_desc.max_code+1,ce.d_desc.max_code+1,Ne+1),De(ce,ce.dyn_ltree,ce.dyn_dtree)),ge(ce),se&&Ie(ce)},g._tr_tally=function(ce,de,he){return ce.pending_buf[ce.d_buf+2*ce.last_lit]=de>>>8&255,ce.pending_buf[ce.d_buf+2*ce.last_lit+1]=255&de,ce.pending_buf[ce.l_buf+ce.last_lit]=255&he,ce.last_lit++,de===0?ce.dyn_ltree[2*he]++:(ce.matches++,de--,ce.dyn_ltree[2*(Z[he]+r+1)]++,ce.dyn_dtree[2*Y(de)]++),ce.last_lit===ce.lit_bufsize-1},g._tr_align=function(ce){B(ce,2,3),L(ce,E,ie),function(de){de.bi_valid===16?(z(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(ce)}},{"../utils/common":41}],53:[function(e,m,g){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,m,g){(function(f){(function(u,h){if(!u.setImmediate){var s,t,i,r,n=1,l={},d=!1,a=u.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(u);v=v&&v.setTimeout?v:u,s={}.toString.call(u.process)==="[object process]"?function(T){process.nextTick(function(){p(T)})}:function(){if(u.postMessage&&!u.importScripts){var T=!0,S=u.onmessage;return u.onmessage=function(){T=!1},u.postMessage("","*"),u.onmessage=S,T}}()?(r="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",E,!1):u.attachEvent("onmessage",E),function(T){u.postMessage(r+T,"*")}):u.MessageChannel?((i=new MessageChannel).port1.onmessage=function(T){p(T.data)},function(T){i.port2.postMessage(T)}):a&&"onreadystatechange"in a.createElement("script")?(t=a.documentElement,function(T){var S=a.createElement("script");S.onreadystatechange=function(){p(T),S.onreadystatechange=null,t.removeChild(S),S=null},t.appendChild(S)}):function(T){setTimeout(p,0,T)},v.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var S=new Array(arguments.length-1),A=0;A<S.length;A++)S[A]=arguments[A+1];var w={callback:T,args:S};return l[n]=w,s(n),n++},v.clearImmediate=y}function y(T){delete l[T]}function p(T){if(d)setTimeout(p,0,T);else{var S=l[T];if(S){d=!0;try{(function(A){var w=A.callback,I=A.args;switch(I.length){case 0:w();break;case 1:w(I[0]);break;case 2:w(I[0],I[1]);break;case 3:w(I[0],I[1],I[2]);break;default:w.apply(h,I)}})(S)}finally{y(T),d=!1}}}}function E(T){T.source===u&&typeof T.data=="string"&&T.data.indexOf(r)===0&&p(+T.data.slice(r.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Gh)),Gh.exports}var Dv=_d();const D_=Mv(Dv);var xd={exports:{}};(function(K,_){(function(e,m){K.exports=m(_d())})(globalThis,e=>(()=>{var m={438:(u,h,s)=>{s.r(h),s.d(h,{default:()=>p});var t=s(537),i=s.n(t),r=s(645),n=s.n(r),l=s(806),d=s.n(l),a=new URL(s(583),s.b),v=n()(i()),y=d()(a);v.push([u.id,`@namespace "http://www.w3.org/1998/Math/MathML";math{display:inline-block;line-height:initial}mfrac{display:inline-block;vertical-align:-50%;text-align:center}mfrac>:first-child{border-bottom:solid thin currentColor}mfrac>*{display:block}msub>:nth-child(2){font-size:smaller;vertical-align:sub}msup>:nth-child(2){font-size:smaller;vertical-align:super}munder,mover,munderover{display:inline-flex;flex-flow:column nowrap;vertical-align:middle;text-align:center}munder>:not(:first-child),mover>:not(:first-child),munderover>:not(:first-child){font-size:smaller}munderover>:last-child{order:-1}mroot,msqrt{position:relative;display:inline-block;border-top:solid thin currentColor;margin-top:.5px;vertical-align:middle;margin-left:1ch}mroot:before,msqrt:before{content:"";display:inline-block;position:absolute;width:1ch;left:-1ch;top:-1px;bottom:0;background-image:url(${y})}`,"",{version:3,sources:["webpack://./src/mathml.scss"],names:[],mappings:"AAAA,+CAAA,CAEA,KACI,oBAAA,CACA,mBAAA,CAGJ,MACI,oBAAA,CACA,mBAAA,CACA,iBAAA,CAEA,mBACI,qCAAA,CAGJ,QACI,aAAA,CAKJ,mBACI,iBAAA,CACA,kBAAA,CAKJ,mBACI,iBAAA,CACA,oBAAA,CAIR,wBACI,mBAAA,CACA,uBAAA,CACA,qBAAA,CACA,iBAAA,CAEA,iFACI,iBAAA,CAKJ,uBAAA,QAAA,CAGJ,YACI,iBAAA,CACA,oBAAA,CACA,kCAAA,CACA,eAAA,CACA,qBAAA,CACA,eAAA,CAEA,0BACI,UAAA,CACA,oBAAA,CACA,iBAAA,CACA,SAAA,CACA,SAAA,CACA,QAAA,CACA,QAAA,CACA,wDAAA",sourcesContent:[`@namespace "http://www.w3.org/1998/Math/MathML";\r
\r
math {\r
    display: inline-block;\r
    line-height: initial;\r
}\r
\r
mfrac {\r
    display: inline-block;\r
    vertical-align: -50%;\r
    text-align: center;\r
\r
    &>:first-child {\r
        border-bottom: solid thin currentColor;\r
    }\r
\r
    &>* {\r
        display: block;\r
    }\r
}\r
\r
msub {\r
    &>:nth-child(2) {\r
        font-size: smaller;\r
        vertical-align: sub;\r
    }\r
}\r
\r
msup {\r
    &>:nth-child(2) {\r
        font-size: smaller;\r
        vertical-align: super;\r
    }\r
}\r
\r
munder, mover, munderover {\r
    display: inline-flex;\r
    flex-flow: column nowrap;\r
    vertical-align: middle;\r
    text-align: center;\r
\r
    &>:not(:first-child) {\r
        font-size: smaller;\r
    }\r
}\r
\r
munderover {\r
    &>:last-child { order: -1; }\r
}\r
\r
mroot, msqrt {\r
    position: relative;\r
    display: inline-block;\r
    border-top: solid thin currentColor;  \r
    margin-top: 0.5px;\r
    vertical-align: middle;  \r
    margin-left: 1ch; \r
\r
    &:before {\r
        content: "";\r
        display: inline-block;\r
        position: absolute;\r
        width: 1ch;\r
        left: -1ch;\r
        top: -1px;\r
        bottom: 0;\r
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 100' preserveAspectRatio='none'%3E%3Cpath d='m0,75 l5,0 l5,25 l10,-100' stroke='black' fill='none' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E");\r
    }\r
}`],sourceRoot:""}]);const p=v.toString()},645:u=>{u.exports=function(h){var s=[];return s.toString=function(){return this.map(function(t){var i="",r=t[5]!==void 0;return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=h(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i}).join("")},s.i=function(t,i,r,n,l){typeof t=="string"&&(t=[[null,t,void 0]]);var d={};if(r)for(var a=0;a<this.length;a++){var v=this[a][0];v!=null&&(d[v]=!0)}for(var y=0;y<t.length;y++){var p=[].concat(t[y]);r&&d[p[0]]||(l!==void 0&&(p[5]===void 0||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=l),i&&(p[2]&&(p[1]="@media ".concat(p[2]," {").concat(p[1],"}")),p[2]=i),n&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=n):p[4]="".concat(n)),s.push(p))}},s}},806:u=>{u.exports=function(h,s){return s||(s={}),h&&(h=String(h.__esModule?h.default:h),/^['"].*['"]$/.test(h)&&(h=h.slice(1,-1)),s.hash&&(h+=s.hash),/["'() \t\n]|(%20)/.test(h)||s.needQuotes?'"'.concat(h.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):h)}},537:u=>{u.exports=function(h){var s=h[1],t=h[3];if(!t)return s;if(typeof btoa=="function"){var i=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),n="/*# ".concat(r," */");return[s].concat([n]).join(`
`)}return[s].join(`
`)}},522:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OpenXmlPackage=void 0;const t=s(626),i=s(472),r=s(593),n=s(461);class l{constructor(a,v){this._zip=a,this.options=v,this.xmlParser=new i.XmlParser}get(a){return this._zip.files[function(v){return v.startsWith("/")?v.substr(1):v}(a)]}update(a,v){this._zip.file(a,v)}static async load(a,v){const y=await t.loadAsync(a);return new l(y,v)}save(a="blob"){return this._zip.generateAsync({type:a})}load(a,v="string"){var y,p;return(p=(y=this.get(a))===null||y===void 0?void 0:y.async(v))!==null&&p!==void 0?p:Promise.resolve(null)}async loadRelationships(a=null){let v="_rels/.rels";if(a!=null){const[p,E]=(0,r.splitPath)(a);v=`${p}_rels/${E}.rels`}const y=await this.load(v);return y?(0,n.parseRelationships)(this.parseXmlDocument(y).firstElementChild,this.xmlParser):null}parseXmlDocument(a){return(0,i.parseXmlString)(a,this.options.trimXmlDeclaration)}}h.OpenXmlPackage=l},530:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Part=void 0;const t=s(472);h.Part=class{constructor(i,r){this._package=i,this.path=r}async load(){this.rels=await this._package.loadRelationships(this.path);const i=await this._package.load(this.path),r=this._package.parseXmlDocument(i);this._package.options.keepOrigin&&(this._xmlDocument=r),this.parseXml(r.firstElementChild)}save(){this._package.update(this.path,(0,t.serializeXmlString)(this._xmlDocument))}parseXml(i){}}},461:(u,h)=>{var s;Object.defineProperty(h,"__esModule",{value:!0}),h.parseRelationships=h.RelationshipTypes=void 0,function(t){t.OfficeDocument="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",t.FontTable="http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable",t.Image="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",t.Numbering="http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering",t.Styles="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",t.StylesWithEffects="http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects",t.Theme="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",t.Settings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings",t.WebSettings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings",t.Hyperlink="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.Footnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes",t.Endnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes",t.Footer="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",t.Header="http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",t.ExtendedProperties="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",t.CoreProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",t.CustomProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties"}(s||(h.RelationshipTypes=s={})),h.parseRelationships=function(t,i){return i.elements(t).map(r=>({id:i.attr(r,"Id"),type:i.attr(r,"Type"),target:i.attr(r,"Target"),targetMode:i.attr(r,"TargetMode")}))}},168:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DocumentParser=h.autos=void 0;const t=s(120),i=s(109),r=s(59),n=s(472),l=s(488),d=s(172),a=s(149),v=s(320);h.autos={shd:"inherit",color:"black",borderColor:"black",highlight:"transparent"};const y=[],p={oMath:t.DomType.MmlMath,oMathPara:t.DomType.MmlMathParagraph,f:t.DomType.MmlFraction,func:t.DomType.MmlFunction,fName:t.DomType.MmlFunctionName,num:t.DomType.MmlNumerator,den:t.DomType.MmlDenominator,rad:t.DomType.MmlRadical,deg:t.DomType.MmlDegree,e:t.DomType.MmlBase,sSup:t.DomType.MmlSuperscript,sSub:t.DomType.MmlSubscript,sPre:t.DomType.MmlPreSubSuper,sup:t.DomType.MmlSuperArgument,sub:t.DomType.MmlSubArgument,d:t.DomType.MmlDelimiter,nary:t.DomType.MmlNary,eqArr:t.DomType.MmlEquationArray,lim:t.DomType.MmlLimit,limLow:t.DomType.MmlLimitLower,m:t.DomType.MmlMatrix,mr:t.DomType.MmlMatrixRow,box:t.DomType.MmlBox,bar:t.DomType.MmlBar,groupChr:t.DomType.MmlGroupChar};h.DocumentParser=class{constructor(A){this.options=Object.assign({ignoreWidth:!1,debug:!1},A)}parseNotes(A,w,I){var D=[];for(let V of n.default.elements(A,w)){const ie=new I;ie.id=n.default.attr(V,"id"),ie.noteType=n.default.attr(V,"type"),ie.children=this.parseBodyElements(V),D.push(ie)}return D}parseDocumentFile(A){var w=n.default.element(A,"body"),I=n.default.element(A,"background"),D=n.default.element(w,"sectPr");return{type:t.DomType.Document,children:this.parseBodyElements(w),props:D?(0,r.parseSectionProperties)(D,n.default):{},cssStyle:I?this.parseBackground(I):{}}}parseBackground(A){var w={},I=T.colorAttr(A,"color");return I&&(w["background-color"]=I),w}parseBodyElements(A){var w=[];for(let I of n.default.elements(A))switch(I.localName){case"p":w.push(this.parseParagraph(I));break;case"tbl":w.push(this.parseTable(I));break;case"sdt":w.push(...this.parseSdt(I,D=>this.parseBodyElements(D)))}return w}parseStylesFile(A){var w=[];return T.foreach(A,I=>{switch(I.localName){case"style":w.push(this.parseStyle(I));break;case"docDefaults":w.push(this.parseDefaultStyles(I))}}),w}parseDefaultStyles(A){var w={id:null,name:null,target:null,basedOn:null,styles:[]};return T.foreach(A,I=>{switch(I.localName){case"rPrDefault":var D=n.default.element(I,"rPr");D&&w.styles.push({target:"span",values:this.parseDefaultProperties(D,{})});break;case"pPrDefault":var V=n.default.element(I,"pPr");V&&w.styles.push({target:"p",values:this.parseDefaultProperties(V,{})})}}),w}parseStyle(A){var w={id:n.default.attr(A,"styleId"),isDefault:n.default.boolAttr(A,"default"),name:null,target:null,basedOn:null,styles:[],linked:null};switch(n.default.attr(A,"type")){case"paragraph":w.target="p";break;case"table":w.target="table";break;case"character":w.target="span"}return T.foreach(A,I=>{switch(I.localName){case"basedOn":w.basedOn=n.default.attr(I,"val");break;case"name":w.name=n.default.attr(I,"val");break;case"link":w.linked=n.default.attr(I,"val");break;case"next":w.next=n.default.attr(I,"val");break;case"aliases":w.aliases=n.default.attr(I,"val").split(",");break;case"pPr":w.styles.push({target:"p",values:this.parseDefaultProperties(I,{})}),w.paragraphProps=(0,i.parseParagraphProperties)(I,n.default);break;case"rPr":w.styles.push({target:"span",values:this.parseDefaultProperties(I,{})}),w.runProps=(0,l.parseRunProperties)(I,n.default);break;case"tblPr":case"tcPr":w.styles.push({target:"td",values:this.parseDefaultProperties(I,{})});break;case"tblStylePr":for(let D of this.parseTableStyle(I))w.styles.push(D);break;case"rsid":case"qFormat":case"hidden":case"semiHidden":case"unhideWhenUsed":case"autoRedefine":case"uiPriority":break;default:this.options.debug&&console.warn(`DOCX: Unknown style element: ${I.localName}`)}}),w}parseTableStyle(A){var w=[],I=n.default.attr(A,"type"),D="",V="";switch(I){case"firstRow":V=".first-row",D="tr.first-row td";break;case"lastRow":V=".last-row",D="tr.last-row td";break;case"firstCol":V=".first-col",D="td.first-col";break;case"lastCol":V=".last-col",D="td.last-col";break;case"band1Vert":V=":not(.no-vband)",D="td.odd-col";break;case"band2Vert":V=":not(.no-vband)",D="td.even-col";break;case"band1Horz":V=":not(.no-hband)",D="tr.odd-row";break;case"band2Horz":V=":not(.no-hband)",D="tr.even-row";break;default:return[]}return T.foreach(A,ie=>{switch(ie.localName){case"pPr":w.push({target:`${D} p`,mod:V,values:this.parseDefaultProperties(ie,{})});break;case"rPr":w.push({target:`${D} span`,mod:V,values:this.parseDefaultProperties(ie,{})});break;case"tblPr":case"tcPr":w.push({target:D,mod:V,values:this.parseDefaultProperties(ie,{})})}}),w}parseNumberingFile(A){var w=[],I={},D=[];return T.foreach(A,V=>{switch(V.localName){case"abstractNum":this.parseAbstractNumbering(V,D).forEach(re=>w.push(re));break;case"numPicBullet":D.push(this.parseNumberingPicBullet(V));break;case"num":var ie=n.default.attr(V,"numId"),te=n.default.elementAttr(V,"abstractNumId","val");I[te]=ie}}),w.forEach(V=>V.id=I[V.id]),w}parseNumberingPicBullet(A){var w=n.default.element(A,"pict"),I=w&&n.default.element(w,"shape"),D=I&&n.default.element(I,"imagedata");return D?{id:n.default.intAttr(A,"numPicBulletId"),src:n.default.attr(D,"id"),style:n.default.attr(I,"style")}:null}parseAbstractNumbering(A,w){var I=[],D=n.default.attr(A,"abstractNumId");return T.foreach(A,V=>{V.localName==="lvl"&&I.push(this.parseNumberingLevel(D,V,w))}),I}parseNumberingLevel(A,w,I){var D={id:A,level:n.default.intAttr(w,"ilvl"),start:1,pStyleName:void 0,pStyle:{},rStyle:{},suff:"tab"};return T.foreach(w,V=>{switch(V.localName){case"start":D.start=n.default.intAttr(V,"val");break;case"pPr":this.parseDefaultProperties(V,D.pStyle);break;case"rPr":this.parseDefaultProperties(V,D.rStyle);break;case"lvlPicBulletId":var ie=n.default.intAttr(V,"val");D.bullet=I.find(te=>te.id==ie);break;case"lvlText":D.levelText=n.default.attr(V,"val");break;case"pStyle":D.pStyleName=n.default.attr(V,"val");break;case"numFmt":D.format=n.default.attr(V,"val");break;case"suff":D.suff=n.default.attr(V,"val")}}),D}parseSdt(A,w){const I=n.default.element(A,"sdtContent");return I?w(I):[]}parseInserted(A,w){var I,D;return{type:t.DomType.Inserted,children:(D=(I=w(A))===null||I===void 0?void 0:I.children)!==null&&D!==void 0?D:[]}}parseDeleted(A,w){var I,D;return{type:t.DomType.Deleted,children:(D=(I=w(A))===null||I===void 0?void 0:I.children)!==null&&D!==void 0?D:[]}}parseParagraph(A){var w={type:t.DomType.Paragraph,children:[]};for(let I of n.default.elements(A))switch(I.localName){case"pPr":this.parseParagraphProperties(I,w);break;case"r":w.children.push(this.parseRun(I,w));break;case"hyperlink":w.children.push(this.parseHyperlink(I,w));break;case"bookmarkStart":w.children.push((0,d.parseBookmarkStart)(I,n.default));break;case"bookmarkEnd":w.children.push((0,d.parseBookmarkEnd)(I,n.default));break;case"oMath":case"oMathPara":w.children.push(this.parseMathElement(I));break;case"sdt":w.children.push(...this.parseSdt(I,D=>this.parseParagraph(D).children));break;case"ins":w.children.push(this.parseInserted(I,D=>this.parseParagraph(D)));break;case"del":w.children.push(this.parseDeleted(I,D=>this.parseParagraph(D)))}return w}parseParagraphProperties(A,w){this.parseDefaultProperties(A,w.cssStyle={},null,I=>{if((0,i.parseParagraphProperty)(I,w,n.default))return!0;switch(I.localName){case"pStyle":w.styleName=n.default.attr(I,"val");break;case"cnfStyle":w.className=S.classNameOfCnfStyle(I);break;case"framePr":this.parseFrame(I,w);break;case"rPr":break;default:return!1}return!0})}parseFrame(A,w){n.default.attr(A,"dropCap")=="drop"&&(w.cssStyle.float="left")}parseHyperlink(A,w){var I={type:t.DomType.Hyperlink,parent:w,children:[]},D=n.default.attr(A,"anchor"),V=n.default.attr(A,"id");return D&&(I.href="#"+D),V&&(I.id=V),T.foreach(A,ie=>{ie.localName==="r"&&I.children.push(this.parseRun(ie,I))}),I}parseRun(A,w){var I={type:t.DomType.Run,parent:w,children:[]};return T.foreach(A,D=>{switch((D=this.checkAlternateContent(D)).localName){case"t":I.children.push({type:t.DomType.Text,text:D.textContent});break;case"delText":I.children.push({type:t.DomType.DeletedText,text:D.textContent});break;case"fldSimple":I.children.push({type:t.DomType.SimpleField,instruction:n.default.attr(D,"instr"),lock:n.default.boolAttr(D,"lock",!1),dirty:n.default.boolAttr(D,"dirty",!1)});break;case"instrText":I.fieldRun=!0,I.children.push({type:t.DomType.Instruction,text:D.textContent});break;case"fldChar":I.fieldRun=!0,I.children.push({type:t.DomType.ComplexField,charType:n.default.attr(D,"fldCharType"),lock:n.default.boolAttr(D,"lock",!1),dirty:n.default.boolAttr(D,"dirty",!1)});break;case"noBreakHyphen":I.children.push({type:t.DomType.NoBreakHyphen});break;case"br":I.children.push({type:t.DomType.Break,break:n.default.attr(D,"type")||"textWrapping"});break;case"lastRenderedPageBreak":I.children.push({type:t.DomType.Break,break:"lastRenderedPageBreak"});break;case"sym":I.children.push({type:t.DomType.Symbol,font:n.default.attr(D,"font"),char:n.default.attr(D,"char")});break;case"tab":I.children.push({type:t.DomType.Tab});break;case"footnoteReference":I.children.push({type:t.DomType.FootnoteReference,id:n.default.attr(D,"id")});break;case"endnoteReference":I.children.push({type:t.DomType.EndnoteReference,id:n.default.attr(D,"id")});break;case"drawing":let V=this.parseDrawing(D);V&&(I.children=[V]);break;case"pict":I.children.push(this.parseVmlPicture(D));break;case"rPr":this.parseRunProperties(D,I)}}),I}parseMathElement(A){const w=`${A.localName}Pr`,I={type:p[A.localName],children:[]};for(const V of n.default.elements(A))if(p[V.localName])I.children.push(this.parseMathElement(V));else if(V.localName=="r"){var D=this.parseRun(V);D.type=t.DomType.MmlRun,I.children.push(D)}else V.localName==w&&(I.props=this.parseMathProperies(V));return I}parseMathProperies(A){const w={};for(const I of n.default.elements(A))switch(I.localName){case"chr":w.char=n.default.attr(I,"val");break;case"vertJc":w.verticalJustification=n.default.attr(I,"val");break;case"pos":w.position=n.default.attr(I,"val");break;case"degHide":w.hideDegree=n.default.boolAttr(I,"val");break;case"begChr":w.beginChar=n.default.attr(I,"val");break;case"endChr":w.endChar=n.default.attr(I,"val")}return w}parseRunProperties(A,w){this.parseDefaultProperties(A,w.cssStyle={},null,I=>{switch(I.localName){case"rStyle":w.styleName=n.default.attr(I,"val");break;case"vertAlign":w.verticalAlign=S.valueOfVertAlign(I,!0);break;default:return!1}return!0})}parseVmlPicture(A){const w={type:t.DomType.VmlPicture,children:[]};for(const I of n.default.elements(A)){const D=(0,v.parseVmlElement)(I,this);D&&w.children.push(D)}return w}checkAlternateContent(A){var w;if(A.localName!="AlternateContent")return A;var I=n.default.element(A,"Choice");if(I){var D=n.default.attr(I,"Requires"),V=A.lookupNamespaceURI(D);if(y.includes(V))return I.firstElementChild}return(w=n.default.element(A,"Fallback"))===null||w===void 0?void 0:w.firstElementChild}parseDrawing(A){for(var w of n.default.elements(A))switch(w.localName){case"inline":case"anchor":return this.parseDrawingWrapper(w)}}parseDrawingWrapper(A){var w,I={type:t.DomType.Drawing,children:[],cssStyle:{}},D=A.localName=="anchor";let V=null,ie=n.default.boolAttr(A,"simplePos"),te={relative:"page",align:"left",offset:"0"},re={relative:"page",align:"top",offset:"0"};for(var Z of n.default.elements(A))switch(Z.localName){case"simplePos":ie&&(te.offset=n.default.lengthAttr(Z,"x",a.LengthUsage.Emu),re.offset=n.default.lengthAttr(Z,"y",a.LengthUsage.Emu));break;case"extent":I.cssStyle.width=n.default.lengthAttr(Z,"cx",a.LengthUsage.Emu),I.cssStyle.height=n.default.lengthAttr(Z,"cy",a.LengthUsage.Emu);break;case"positionH":case"positionV":if(!ie){let C=Z.localName=="positionH"?te:re;var W=n.default.element(Z,"align"),j=n.default.element(Z,"posOffset");C.relative=(w=n.default.attr(Z,"relativeFrom"))!==null&&w!==void 0?w:C.relative,W&&(C.align=W.textContent),j&&(C.offset=T.sizeValue(j,a.LengthUsage.Emu))}break;case"wrapTopAndBottom":V="wrapTopAndBottom";break;case"wrapNone":V="wrapNone";break;case"graphic":var O=this.parseGraphic(Z);O&&I.children.push(O)}return V=="wrapTopAndBottom"?(I.cssStyle.display="block",te.align&&(I.cssStyle["text-align"]=te.align,I.cssStyle.width="100%")):V=="wrapNone"?(I.cssStyle.display="block",I.cssStyle.position="relative",I.cssStyle.width="0px",I.cssStyle.height="0px",te.offset&&(I.cssStyle.left=te.offset),re.offset&&(I.cssStyle.top=re.offset)):!D||te.align!="left"&&te.align!="right"||(I.cssStyle.float=te.align),I}parseGraphic(A){var w=n.default.element(A,"graphicData");for(let I of n.default.elements(w))if(I.localName==="pic")return this.parsePicture(I);return null}parsePicture(A){var w={type:t.DomType.Image,src:"",cssStyle:{}},I=n.default.element(A,"blipFill"),D=n.default.element(I,"blip");w.src=n.default.attr(D,"embed");var V=n.default.element(A,"spPr"),ie=n.default.element(V,"xfrm");for(var te of(w.cssStyle.position="relative",n.default.elements(ie)))switch(te.localName){case"ext":w.cssStyle.width=n.default.lengthAttr(te,"cx",a.LengthUsage.Emu),w.cssStyle.height=n.default.lengthAttr(te,"cy",a.LengthUsage.Emu);break;case"off":w.cssStyle.left=n.default.lengthAttr(te,"x",a.LengthUsage.Emu),w.cssStyle.top=n.default.lengthAttr(te,"y",a.LengthUsage.Emu)}return w}parseTable(A){var w={type:t.DomType.Table,children:[]};return T.foreach(A,I=>{switch(I.localName){case"tr":w.children.push(this.parseTableRow(I));break;case"tblGrid":w.columns=this.parseTableColumns(I);break;case"tblPr":this.parseTableProperties(I,w)}}),w}parseTableColumns(A){var w=[];return T.foreach(A,I=>{I.localName==="gridCol"&&w.push({width:n.default.lengthAttr(I,"w")})}),w}parseTableProperties(A,w){switch(w.cssStyle={},w.cellStyle={},this.parseDefaultProperties(A,w.cssStyle,w.cellStyle,I=>{switch(I.localName){case"tblStyle":w.styleName=n.default.attr(I,"val");break;case"tblLook":w.className=S.classNameOftblLook(I);break;case"tblpPr":this.parseTablePosition(I,w);break;case"tblStyleColBandSize":w.colBandSize=n.default.intAttr(I,"val");break;case"tblStyleRowBandSize":w.rowBandSize=n.default.intAttr(I,"val");break;default:return!1}return!0}),w.cssStyle["text-align"]){case"center":delete w.cssStyle["text-align"],w.cssStyle["margin-left"]="auto",w.cssStyle["margin-right"]="auto";break;case"right":delete w.cssStyle["text-align"],w.cssStyle["margin-left"]="auto"}}parseTablePosition(A,w){var I=n.default.lengthAttr(A,"topFromText"),D=n.default.lengthAttr(A,"bottomFromText"),V=n.default.lengthAttr(A,"rightFromText"),ie=n.default.lengthAttr(A,"leftFromText");w.cssStyle.float="left",w.cssStyle["margin-bottom"]=S.addSize(w.cssStyle["margin-bottom"],D),w.cssStyle["margin-left"]=S.addSize(w.cssStyle["margin-left"],ie),w.cssStyle["margin-right"]=S.addSize(w.cssStyle["margin-right"],V),w.cssStyle["margin-top"]=S.addSize(w.cssStyle["margin-top"],I)}parseTableRow(A){var w={type:t.DomType.Row,children:[]};return T.foreach(A,I=>{switch(I.localName){case"tc":w.children.push(this.parseTableCell(I));break;case"trPr":this.parseTableRowProperties(I,w)}}),w}parseTableRowProperties(A,w){w.cssStyle=this.parseDefaultProperties(A,{},null,I=>{switch(I.localName){case"cnfStyle":w.className=S.classNameOfCnfStyle(I);break;case"tblHeader":w.isHeader=n.default.boolAttr(I,"val");break;default:return!1}return!0})}parseTableCell(A){var w={type:t.DomType.Cell,children:[]};return T.foreach(A,I=>{switch(I.localName){case"tbl":w.children.push(this.parseTable(I));break;case"p":w.children.push(this.parseParagraph(I));break;case"tcPr":this.parseTableCellProperties(I,w)}}),w}parseTableCellProperties(A,w){w.cssStyle=this.parseDefaultProperties(A,{},null,I=>{var D;switch(I.localName){case"gridSpan":w.span=n.default.intAttr(I,"val",null);break;case"vMerge":w.verticalMerge=(D=n.default.attr(I,"val"))!==null&&D!==void 0?D:"continue";break;case"cnfStyle":w.className=S.classNameOfCnfStyle(I);break;default:return!1}return!0})}parseDefaultProperties(A,w=null,I=null,D=null){return w=w||{},T.foreach(A,V=>{if(!(D!=null&&D(V)))switch(V.localName){case"jc":w["text-align"]=S.valueOfJc(V);break;case"textAlignment":w["vertical-align"]=S.valueOfTextAlignment(V);break;case"color":w.color=T.colorAttr(V,"val",null,h.autos.color);break;case"sz":w["font-size"]=w["min-height"]=n.default.lengthAttr(V,"val",a.LengthUsage.FontSize);break;case"shd":w["background-color"]=T.colorAttr(V,"fill",null,h.autos.shd);break;case"highlight":w["background-color"]=T.colorAttr(V,"val",null,h.autos.highlight);break;case"vertAlign":break;case"position":w.verticalAlign=n.default.lengthAttr(V,"val",a.LengthUsage.FontSize);break;case"tcW":if(this.options.ignoreWidth)break;case"tblW":w.width=S.valueOfSize(V,"w");break;case"trHeight":this.parseTrHeight(V,w);break;case"strike":w["text-decoration"]=n.default.boolAttr(V,"val",!0)?"line-through":"none";break;case"b":w["font-weight"]=n.default.boolAttr(V,"val",!0)?"bold":"normal";break;case"i":w["font-style"]=n.default.boolAttr(V,"val",!0)?"italic":"normal";break;case"caps":w["text-transform"]=n.default.boolAttr(V,"val",!0)?"uppercase":"none";break;case"smallCaps":w["text-transform"]=n.default.boolAttr(V,"val",!0)?"lowercase":"none";break;case"u":this.parseUnderline(V,w);break;case"ind":case"tblInd":this.parseIndentation(V,w);break;case"rFonts":this.parseFont(V,w);break;case"tblBorders":this.parseBorderProperties(V,I||w);break;case"tblCellSpacing":w["border-spacing"]=S.valueOfMargin(V),w["border-collapse"]="separate";break;case"pBdr":this.parseBorderProperties(V,w);break;case"bdr":w.border=S.valueOfBorder(V);break;case"tcBorders":this.parseBorderProperties(V,w);break;case"vanish":n.default.boolAttr(V,"val",!0)&&(w.display="none");break;case"kern":case"noWrap":break;case"tblCellMar":case"tcMar":this.parseMarginProperties(V,I||w);break;case"tblLayout":w["table-layout"]=S.valueOfTblLayout(V);break;case"vAlign":w["vertical-align"]=S.valueOfTextAlignment(V);break;case"spacing":A.localName=="pPr"&&this.parseSpacing(V,w);break;case"wordWrap":n.default.boolAttr(V,"val")&&(w["overflow-wrap"]="break-word");break;case"suppressAutoHyphens":w.hyphens=n.default.boolAttr(V,"val",!0)?"none":"auto";break;case"lang":w.$lang=n.default.attr(V,"val");break;case"bCs":case"iCs":case"szCs":case"tabs":case"outlineLvl":case"contextualSpacing":case"tblStyleColBandSize":case"tblStyleRowBandSize":case"webHidden":case"pageBreakBefore":case"suppressLineNumbers":case"keepLines":case"keepNext":case"widowControl":case"bidi":case"rtl":case"noProof":break;default:this.options.debug&&console.warn(`DOCX: Unknown document element: ${A.localName}.${V.localName}`)}}),w}parseUnderline(A,w){var I=n.default.attr(A,"val");if(I!=null){switch(I){case"dash":case"dashDotDotHeavy":case"dashDotHeavy":case"dashedHeavy":case"dashLong":case"dashLongHeavy":case"dotDash":case"dotDotDash":w["text-decoration-style"]="dashed";break;case"dotted":case"dottedHeavy":w["text-decoration-style"]="dotted";break;case"double":w["text-decoration-style"]="double";break;case"single":case"thick":case"words":w["text-decoration"]="underline";break;case"wave":case"wavyDouble":case"wavyHeavy":w["text-decoration-style"]="wavy";break;case"none":w["text-decoration"]="none"}var D=T.colorAttr(A,"color");D&&(w["text-decoration-color"]=D)}}parseFont(A,w){var I=[n.default.attr(A,"ascii"),S.themeValue(A,"asciiTheme")].filter(D=>D).join(", ");I.length>0&&(w["font-family"]=I)}parseIndentation(A,w){var I=n.default.lengthAttr(A,"firstLine"),D=n.default.lengthAttr(A,"hanging"),V=n.default.lengthAttr(A,"left"),ie=n.default.lengthAttr(A,"start"),te=n.default.lengthAttr(A,"right"),re=n.default.lengthAttr(A,"end");I&&(w["text-indent"]=I),D&&(w["text-indent"]=`-${D}`),(V||ie)&&(w["margin-left"]=V||ie),(te||re)&&(w["margin-right"]=te||re)}parseSpacing(A,w){var I=n.default.lengthAttr(A,"before"),D=n.default.lengthAttr(A,"after"),V=n.default.intAttr(A,"line",null),ie=n.default.attr(A,"lineRule");if(I&&(w["margin-top"]=I),D&&(w["margin-bottom"]=D),V!==null)switch(ie){case"auto":w["line-height"]=`${(V/240).toFixed(2)}`;break;case"atLeast":w["line-height"]=`calc(100% + ${V/20}pt)`;break;default:w["line-height"]=w["min-height"]=V/20+"pt"}}parseMarginProperties(A,w){T.foreach(A,I=>{switch(I.localName){case"left":w["padding-left"]=S.valueOfMargin(I);break;case"right":w["padding-right"]=S.valueOfMargin(I);break;case"top":w["padding-top"]=S.valueOfMargin(I);break;case"bottom":w["padding-bottom"]=S.valueOfMargin(I)}})}parseTrHeight(A,w){n.default.attr(A,"hRule"),w.height=n.default.lengthAttr(A,"val")}parseBorderProperties(A,w){T.foreach(A,I=>{switch(I.localName){case"start":case"left":w["border-left"]=S.valueOfBorder(I);break;case"end":case"right":w["border-right"]=S.valueOfBorder(I);break;case"top":w["border-top"]=S.valueOfBorder(I);break;case"bottom":w["border-bottom"]=S.valueOfBorder(I)}})}};const E=["black","blue","cyan","darkBlue","darkCyan","darkGray","darkGreen","darkMagenta","darkRed","darkYellow","green","lightGray","magenta","none","red","white","yellow"];class T{static foreach(w,I){for(var D=0;D<w.childNodes.length;D++){let V=w.childNodes[D];V.nodeType==Node.ELEMENT_NODE&&I(V)}}static colorAttr(w,I,D=null,V="black"){var ie=n.default.attr(w,I);if(ie)return ie=="auto"?V:E.includes(ie)?ie:`#${ie}`;var te=n.default.attr(w,"themeColor");return te?`var(--docx-${te}-color)`:D}static sizeValue(w,I=a.LengthUsage.Dxa){return(0,a.convertLength)(w.textContent,I)}}class S{static themeValue(w,I){var D=n.default.attr(w,I);return D?`var(--docx-${D}-font)`:null}static valueOfSize(w,I){var D=a.LengthUsage.Dxa;switch(n.default.attr(w,"type")){case"dxa":break;case"pct":D=a.LengthUsage.Percent;break;case"auto":return"auto"}return n.default.lengthAttr(w,I,D)}static valueOfMargin(w){return n.default.lengthAttr(w,"w")}static valueOfBorder(w){if(n.default.attr(w,"val")=="nil")return"none";var I=T.colorAttr(w,"color");return`${n.default.lengthAttr(w,"sz",a.LengthUsage.Border)} solid ${I=="auto"?h.autos.borderColor:I}`}static valueOfTblLayout(w){return n.default.attr(w,"val")=="fixed"?"fixed":"auto"}static classNameOfCnfStyle(w){const I=n.default.attr(w,"val");return["first-row","last-row","first-col","last-col","odd-col","even-col","odd-row","even-row","ne-cell","nw-cell","se-cell","sw-cell"].filter((D,V)=>I[V]=="1").join(" ")}static valueOfJc(w){var I=n.default.attr(w,"val");switch(I){case"start":case"left":return"left";case"center":return"center";case"end":case"right":return"right";case"both":return"justify"}return I}static valueOfVertAlign(w,I=!1){var D=n.default.attr(w,"val");switch(D){case"subscript":return"sub";case"superscript":return I?"sup":"super"}return I?null:D}static valueOfTextAlignment(w){var I=n.default.attr(w,"val");switch(I){case"auto":case"baseline":return"baseline";case"top":return"top";case"center":return"middle";case"bottom":return"bottom"}return I}static addSize(w,I){return w==null?I:I==null?w:`calc(${w} + ${I})`}static classNameOftblLook(w){const I=n.default.hexAttr(w,"val",0);let D="";return(n.default.boolAttr(w,"firstRow")||32&I)&&(D+=" first-row"),(n.default.boolAttr(w,"lastRow")||64&I)&&(D+=" last-row"),(n.default.boolAttr(w,"firstColumn")||128&I)&&(D+=" first-col"),(n.default.boolAttr(w,"lastColumn")||256&I)&&(D+=" last-col"),(n.default.boolAttr(w,"noHBand")||512&I)&&(D+=" no-hband"),(n.default.boolAttr(w,"noVBand")||1024&I)&&(D+=" no-vband"),D.trim()}}},162:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CorePropsPart=void 0;const t=s(530),i=s(614);class r extends t.Part{parseXml(l){this.props=(0,i.parseCoreProps)(l,this._package.xmlParser)}}h.CorePropsPart=r},614:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseCoreProps=void 0,h.parseCoreProps=function(s,t){const i={};for(let r of t.elements(s))switch(r.localName){case"title":i.title=r.textContent;break;case"description":i.description=r.textContent;break;case"subject":i.subject=r.textContent;break;case"creator":i.creator=r.textContent;break;case"keywords":i.keywords=r.textContent;break;case"language":i.language=r.textContent;break;case"lastModifiedBy":i.lastModifiedBy=r.textContent;break;case"revision":r.textContent&&(i.revision=parseInt(r.textContent))}return i}},177:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CustomPropsPart=void 0;const t=s(530),i=s(821);class r extends t.Part{parseXml(l){this.props=(0,i.parseCustomProps)(l,this._package.xmlParser)}}h.CustomPropsPart=r},821:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseCustomProps=void 0,h.parseCustomProps=function(s,t){return t.elements(s,"property").map(i=>{const r=i.firstChild;return{formatId:t.attr(i,"fmtid"),name:t.attr(i,"name"),type:r.nodeName,value:r.textContent}})}},665:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExtendedPropsPart=void 0;const t=s(530),i=s(668);class r extends t.Part{parseXml(l){this.props=(0,i.parseExtendedProps)(l,this._package.xmlParser)}}h.ExtendedPropsPart=r},668:(u,h)=>{function s(t){if(t!==void 0)return parseInt(t)}Object.defineProperty(h,"__esModule",{value:!0}),h.parseExtendedProps=void 0,h.parseExtendedProps=function(t,i){const r={};for(let n of i.elements(t))switch(n.localName){case"Template":r.template=n.textContent;break;case"Pages":r.pages=s(n.textContent);break;case"Words":r.words=s(n.textContent);break;case"Characters":r.characters=s(n.textContent);break;case"Application":r.application=n.textContent;break;case"Lines":r.lines=s(n.textContent);break;case"Paragraphs":r.paragraphs=s(n.textContent);break;case"Company":r.company=n.textContent;break;case"AppVersion":r.appVersion=n.textContent}return r}},172:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseBookmarkEnd=h.parseBookmarkStart=void 0;const t=s(120);h.parseBookmarkStart=function(i,r){return{type:t.DomType.BookmarkStart,id:r.attr(i,"id"),name:r.attr(i,"name"),colFirst:r.intAttr(i,"colFirst"),colLast:r.intAttr(i,"colLast")}},h.parseBookmarkEnd=function(i,r){return{type:t.DomType.BookmarkEnd,id:r.attr(i,"id")}}},191:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseBorders=h.parseBorder=void 0;const t=s(149);function i(r,n){return{type:n.attr(r,"val"),color:n.attr(r,"color"),size:n.lengthAttr(r,"sz",t.LengthUsage.Border),offset:n.lengthAttr(r,"space",t.LengthUsage.Point),frame:n.boolAttr(r,"frame"),shadow:n.boolAttr(r,"shadow")}}h.parseBorder=i,h.parseBorders=function(r,n){var l={};for(let d of n.elements(r))switch(d.localName){case"left":l.left=i(d,n);break;case"top":l.top=i(d,n);break;case"right":l.right=i(d,n);break;case"bottom":l.bottom=i(d,n)}return l}},149:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseCommonProperty=h.convertPercentage=h.convertBoolean=h.convertLength=h.LengthUsage=h.ns=void 0,h.ns={wordml:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",drawingml:"http://schemas.openxmlformats.org/drawingml/2006/main",picture:"http://schemas.openxmlformats.org/drawingml/2006/picture",compatibility:"http://schemas.openxmlformats.org/markup-compatibility/2006",math:"http://schemas.openxmlformats.org/officeDocument/2006/math"},h.LengthUsage={Dxa:{mul:.05,unit:"pt"},Emu:{mul:7874015748031496e-20,unit:"pt"},FontSize:{mul:.5,unit:"pt"},Border:{mul:.125,unit:"pt"},Point:{mul:1,unit:"pt"},Percent:{mul:.02,unit:"%"},LineHeight:{mul:.004166666666666667,unit:""},VmlEmu:{mul:7874015748031496e-20,unit:""}},h.convertLength=function(s,t=h.LengthUsage.Dxa){return s==null||/.+(p[xt]|[%])$/.test(s)?s:`${(parseInt(s)*t.mul).toFixed(2)}${t.unit}`},h.convertBoolean=function(s,t=!1){switch(s){case"1":case"on":case"true":return!0;case"0":case"off":case"false":return!1;default:return t}},h.convertPercentage=function(s){return s?parseInt(s)/100:null},h.parseCommonProperty=function(s,t,i){if(s.namespaceURI!=h.ns.wordml)return!1;switch(s.localName){case"color":t.color=i.attr(s,"val");break;case"sz":t.fontSize=i.lengthAttr(s,"val",h.LengthUsage.FontSize);break;default:return!1}return!0}},448:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DocumentPart=void 0;const t=s(530);class i extends t.Part{constructor(n,l,d){super(n,l),this._documentParser=d}parseXml(n){this.body=this._documentParser.parseDocumentFile(n)}}h.DocumentPart=i},120:(u,h)=>{var s;Object.defineProperty(h,"__esModule",{value:!0}),h.OpenXmlElementBase=h.DomType=void 0,function(t){t.Document="document",t.Paragraph="paragraph",t.Run="run",t.Break="break",t.NoBreakHyphen="noBreakHyphen",t.Table="table",t.Row="row",t.Cell="cell",t.Hyperlink="hyperlink",t.Drawing="drawing",t.Image="image",t.Text="text",t.Tab="tab",t.Symbol="symbol",t.BookmarkStart="bookmarkStart",t.BookmarkEnd="bookmarkEnd",t.Footer="footer",t.Header="header",t.FootnoteReference="footnoteReference",t.EndnoteReference="endnoteReference",t.Footnote="footnote",t.Endnote="endnote",t.SimpleField="simpleField",t.ComplexField="complexField",t.Instruction="instruction",t.VmlPicture="vmlPicture",t.MmlMath="mmlMath",t.MmlMathParagraph="mmlMathParagraph",t.MmlFraction="mmlFraction",t.MmlFunction="mmlFunction",t.MmlFunctionName="mmlFunctionName",t.MmlNumerator="mmlNumerator",t.MmlDenominator="mmlDenominator",t.MmlRadical="mmlRadical",t.MmlBase="mmlBase",t.MmlDegree="mmlDegree",t.MmlSuperscript="mmlSuperscript",t.MmlSubscript="mmlSubscript",t.MmlPreSubSuper="mmlPreSubSuper",t.MmlSubArgument="mmlSubArgument",t.MmlSuperArgument="mmlSuperArgument",t.MmlNary="mmlNary",t.MmlDelimiter="mmlDelimiter",t.MmlRun="mmlRun",t.MmlEquationArray="mmlEquationArray",t.MmlLimit="mmlLimit",t.MmlLimitLower="mmlLimitLower",t.MmlMatrix="mmlMatrix",t.MmlMatrixRow="mmlMatrixRow",t.MmlBox="mmlBox",t.MmlBar="mmlBar",t.MmlGroupChar="mmlGroupChar",t.VmlElement="vmlElement",t.Inserted="inserted",t.Deleted="deleted",t.DeletedText="deletedText"}(s||(h.DomType=s={})),h.OpenXmlElementBase=class{constructor(){this.children=[],this.cssStyle={}}}},931:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseLineSpacing=void 0,h.parseLineSpacing=function(s,t){return{before:t.lengthAttr(s,"before"),after:t.lengthAttr(s,"after"),line:t.intAttr(s,"line"),lineRule:t.attr(s,"lineRule")}}},109:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseNumbering=h.parseTabs=h.parseParagraphProperty=h.parseParagraphProperties=void 0;const t=s(149),i=s(59),r=s(931),n=s(488);function l(v,y,p){if(v.namespaceURI!=t.ns.wordml)return!1;if((0,t.parseCommonProperty)(v,y,p))return!0;switch(v.localName){case"tabs":y.tabs=d(v,p);break;case"sectPr":y.sectionProps=(0,i.parseSectionProperties)(v,p);break;case"numPr":y.numbering=a(v,p);break;case"spacing":return y.lineSpacing=(0,r.parseLineSpacing)(v,p),!1;case"textAlignment":return y.textAlignment=p.attr(v,"val"),!1;case"keepNext":y.keepLines=p.boolAttr(v,"val",!0);break;case"keepNext":y.keepNext=p.boolAttr(v,"val",!0);break;case"pageBreakBefore":y.pageBreakBefore=p.boolAttr(v,"val",!0);break;case"outlineLvl":y.outlineLevel=p.intAttr(v,"val");break;case"pStyle":y.styleName=p.attr(v,"val");break;case"rPr":y.runProps=(0,n.parseRunProperties)(v,p);break;default:return!1}return!0}function d(v,y){return y.elements(v,"tab").map(p=>({position:y.lengthAttr(p,"pos"),leader:y.attr(p,"leader"),style:y.attr(p,"val")}))}function a(v,y){var p={};for(let E of y.elements(v))switch(E.localName){case"numId":p.id=y.attr(E,"val");break;case"ilvl":p.level=y.intAttr(E,"val")}return p}h.parseParagraphProperties=function(v,y){let p={};for(let E of y.elements(v))l(E,p,y);return p},h.parseParagraphProperty=l,h.parseTabs=d,h.parseNumbering=a},488:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseRunProperty=h.parseRunProperties=void 0;const t=s(149);function i(r,n,l){return!!(0,t.parseCommonProperty)(r,n,l)}h.parseRunProperties=function(r,n){let l={};for(let d of n.elements(r))i(d,l,n);return l},h.parseRunProperty=i},59:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseSectionProperties=h.SectionType=void 0;const t=s(472),i=s(191);var r;function n(a,v){return{numberOfColumns:v.intAttr(a,"num"),space:v.lengthAttr(a,"space"),separator:v.boolAttr(a,"sep"),equalWidth:v.boolAttr(a,"equalWidth",!0),columns:v.elements(a,"col").map(y=>({width:v.lengthAttr(y,"w"),space:v.lengthAttr(y,"space")}))}}function l(a,v){return{chapSep:v.attr(a,"chapSep"),chapStyle:v.attr(a,"chapStyle"),format:v.attr(a,"fmt"),start:v.intAttr(a,"start")}}function d(a,v){return{id:v.attr(a,"id"),type:v.attr(a,"type")}}(function(a){a.Continuous="continuous",a.NextPage="nextPage",a.NextColumn="nextColumn",a.EvenPage="evenPage",a.OddPage="oddPage"})(r||(h.SectionType=r={})),h.parseSectionProperties=function(a,v=t.default){var y,p,E={};for(let T of v.elements(a))switch(T.localName){case"pgSz":E.pageSize={width:v.lengthAttr(T,"w"),height:v.lengthAttr(T,"h"),orientation:v.attr(T,"orient")};break;case"type":E.type=v.attr(T,"val");break;case"pgMar":E.pageMargins={left:v.lengthAttr(T,"left"),right:v.lengthAttr(T,"right"),top:v.lengthAttr(T,"top"),bottom:v.lengthAttr(T,"bottom"),header:v.lengthAttr(T,"header"),footer:v.lengthAttr(T,"footer"),gutter:v.lengthAttr(T,"gutter")};break;case"cols":E.columns=n(T,v);break;case"headerReference":((y=E.headerRefs)!==null&&y!==void 0?y:E.headerRefs=[]).push(d(T,v));break;case"footerReference":((p=E.footerRefs)!==null&&p!==void 0?p:E.footerRefs=[]).push(d(T,v));break;case"titlePg":E.titlePage=v.boolAttr(T,"val",!0);break;case"pgBorders":E.pageBorders=(0,i.parseBorders)(T,v);break;case"pgNumType":E.pageNumber=l(T,v)}return E}},667:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.renderAsync=h.praseAsync=h.defaultOptions=void 0;const t=s(213),i=s(168),r=s(932);h.defaultOptions={ignoreHeight:!1,ignoreWidth:!1,ignoreFonts:!1,breakPages:!0,debug:!1,experimental:!1,className:"docx",inWrapper:!0,trimXmlDeclaration:!0,ignoreLastRenderedPageBreak:!0,renderHeaders:!0,renderFooters:!0,renderFootnotes:!0,renderEndnotes:!0,useBase64URL:!1,useMathMLPolyfill:!1,renderChanges:!1},h.praseAsync=function(n,l=null){const d=Object.assign(Object.assign({},h.defaultOptions),l);return t.WordDocument.load(n,new i.DocumentParser(d),d)},h.renderAsync=async function(n,l,d=null,a=null){const v=Object.assign(Object.assign({},h.defaultOptions),a),y=new r.HtmlRenderer(window.document),p=await t.WordDocument.load(n,new i.DocumentParser(v),v);return y.render(p,l,d,v),p}},380:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FontTablePart=void 0;const t=s(530),i=s(512);class r extends t.Part{parseXml(l){this.fonts=(0,i.parseFonts)(l,this._package.xmlParser)}}h.FontTablePart=r},512:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseEmbedFontRef=h.parseFont=h.parseFonts=void 0;const s={embedRegular:"regular",embedBold:"bold",embedItalic:"italic",embedBoldItalic:"boldItalic"};function t(r,n){let l={name:n.attr(r,"name"),embedFontRefs:[]};for(let d of n.elements(r))switch(d.localName){case"family":l.family=n.attr(d,"val");break;case"altName":l.altName=n.attr(d,"val");break;case"embedRegular":case"embedBold":case"embedItalic":case"embedBoldItalic":l.embedFontRefs.push(i(d,n))}return l}function i(r,n){return{id:n.attr(r,"id"),key:n.attr(r,"fontKey"),type:s[r.localName]}}h.parseFonts=function(r,n){return n.elements(r).map(l=>t(l,n))},h.parseFont=t,h.parseEmbedFontRef=i},984:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WmlFooter=h.WmlHeader=void 0;const t=s(120);class i extends t.OpenXmlElementBase{constructor(){super(...arguments),this.type=t.DomType.Header}}h.WmlHeader=i;class r extends t.OpenXmlElementBase{constructor(){super(...arguments),this.type=t.DomType.Footer}}h.WmlFooter=r},985:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FooterPart=h.HeaderPart=h.BaseHeaderFooterPart=void 0;const t=s(530),i=s(984);class r extends t.Part{constructor(l,d,a){super(l,d),this._documentParser=a}parseXml(l){this.rootElement=this.createRootElement(),this.rootElement.children=this._documentParser.parseBodyElements(l)}}h.BaseHeaderFooterPart=r,h.HeaderPart=class extends r{createRootElement(){return new i.WmlHeader}},h.FooterPart=class extends r{createRootElement(){return new i.WmlFooter}}},932:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HtmlRenderer=void 0;const t=s(120),i=s(593),r=s(630),n=s(438),l="http://www.w3.org/1998/Math/MathML";function d(S,A,w){return v(void 0,S,A,w)}function a(S,A,w){return v("http://www.w3.org/2000/svg",S,A,w)}function v(S,A,w,I){var D=S?document.createElementNS(S,A):document.createElement(A);return Object.assign(D,w),I&&p(D,I),D}function y(S){S.innerHTML=""}function p(S,A){A.forEach(w=>S.appendChild((0,i.isString)(w)?document.createTextNode(w):w))}function E(S){return d("style",{innerHTML:S})}function T(S,A){S.appendChild(document.createComment(A))}h.HtmlRenderer=class{constructor(S){this.htmlDocument=S,this.className="docx",this.styleMap={},this.currentPart=null,this.tableVerticalMerges=[],this.currentVerticalMerge=null,this.tableCellPositions=[],this.currentCellPosition=null,this.footnoteMap={},this.endnoteMap={},this.currentEndnoteIds=[],this.usedHederFooterParts=[],this.currentTabs=[],this.tabsTimeout=0,this.createElement=d}render(S,A,w=null,I){var D;this.document=S,this.options=I,this.className=I.className,this.rootSelector=I.inWrapper?`.${this.className}-wrapper`:":root",this.styleMap=null,y(w=w||A),y(A),T(w,"docxjs library predefined styles"),w.appendChild(this.renderDefaultStyle()),!window.MathMLElement&&I.useMathMLPolyfill&&(T(w,"docxjs mathml polyfill styles"),w.appendChild(E(n.default))),S.themePart&&(T(w,"docxjs document theme values"),this.renderTheme(S.themePart,w)),S.stylesPart!=null&&(this.styleMap=this.processStyles(S.stylesPart.styles),T(w,"docxjs document styles"),w.appendChild(this.renderStyles(S.stylesPart.styles))),S.numberingPart&&(this.prodessNumberings(S.numberingPart.domNumberings),T(w,"docxjs document numbering styles"),w.appendChild(this.renderNumbering(S.numberingPart.domNumberings,w))),S.footnotesPart&&(this.footnoteMap=(0,i.keyBy)(S.footnotesPart.notes,ie=>ie.id)),S.endnotesPart&&(this.endnoteMap=(0,i.keyBy)(S.endnotesPart.notes,ie=>ie.id)),S.settingsPart&&(this.defaultTabSize=(D=S.settingsPart.settings)===null||D===void 0?void 0:D.defaultTabStop),!I.ignoreFonts&&S.fontTablePart&&this.renderFontTable(S.fontTablePart,w);var V=this.renderSections(S.documentPart.body);this.options.inWrapper?A.appendChild(this.renderWrapper(V)):p(A,V),this.refreshTabStops()}renderTheme(S,A){var w,I;const D={},V=(w=S.theme)===null||w===void 0?void 0:w.fontScheme;V&&(V.majorFont&&(D["--docx-majorHAnsi-font"]=V.majorFont.latinTypeface),V.minorFont&&(D["--docx-minorHAnsi-font"]=V.minorFont.latinTypeface));const ie=(I=S.theme)===null||I===void 0?void 0:I.colorScheme;if(ie)for(let[re,Z]of Object.entries(ie.colors))D[`--docx-${re}-color`]=`#${Z}`;const te=this.styleToString(`.${this.className}`,D);A.appendChild(E(te))}renderFontTable(S,A){for(let w of S.fonts)for(let I of w.embedFontRefs)this.document.loadFont(I.id,I.key).then(D=>{const V={"font-family":w.name,src:`url(${D})`};I.type!="bold"&&I.type!="boldItalic"||(V["font-weight"]="bold"),I.type!="italic"&&I.type!="boldItalic"||(V["font-style"]="italic"),T(A,`docxjs ${w.name} font`);const ie=this.styleToString("@font-face",V);A.appendChild(E(ie)),this.refreshTabStops()})}processStyleName(S){return S?`${this.className}_${(0,i.escapeClassName)(S)}`:this.className}processStyles(S){const A=(0,i.keyBy)(S.filter(I=>I.id!=null),I=>I.id);for(const I of S.filter(D=>D.basedOn)){var w=A[I.basedOn];if(w){I.paragraphProps=(0,i.mergeDeep)(I.paragraphProps,w.paragraphProps),I.runProps=(0,i.mergeDeep)(I.runProps,w.runProps);for(const D of w.styles){const V=I.styles.find(ie=>ie.target==D.target);V?this.copyStyleProperties(D.values,V.values):I.styles.push(Object.assign(Object.assign({},D),{values:Object.assign({},D.values)}))}}else this.options.debug&&console.warn(`Can't find base style ${I.basedOn}`)}for(let I of S)I.cssName=this.processStyleName(I.id);return A}prodessNumberings(S){var A;for(let w of S.filter(I=>I.pStyleName)){const I=this.findStyle(w.pStyleName);!((A=I==null?void 0:I.paragraphProps)===null||A===void 0)&&A.numbering&&(I.paragraphProps.numbering.level=w.level)}}processElement(S){if(S.children)for(var A of S.children)A.parent=S,A.type==t.DomType.Table?this.processTable(A):this.processElement(A)}processTable(S){for(var A of S.children)for(var w of A.children)w.cssStyle=this.copyStyleProperties(S.cellStyle,w.cssStyle,["border-left","border-right","border-top","border-bottom","padding-left","padding-right","padding-top","padding-bottom"]),this.processElement(w)}copyStyleProperties(S,A,w=null){if(!S)return A;for(var I of(A==null&&(A={}),w==null&&(w=Object.getOwnPropertyNames(S)),w))S.hasOwnProperty(I)&&!A.hasOwnProperty(I)&&(A[I]=S[I]);return A}createSection(S,A){var w=this.createElement("section",{className:S});return A&&(A.pageMargins&&(w.style.paddingLeft=A.pageMargins.left,w.style.paddingRight=A.pageMargins.right,w.style.paddingTop=A.pageMargins.top,w.style.paddingBottom=A.pageMargins.bottom),A.pageSize&&(this.options.ignoreWidth||(w.style.width=A.pageSize.width),this.options.ignoreHeight||(w.style.minHeight=A.pageSize.height)),A.columns&&A.columns.numberOfColumns&&(w.style.columnCount=`${A.columns.numberOfColumns}`,w.style.columnGap=A.columns.space,A.columns.separator&&(w.style.columnRule="1px solid black"))),w}renderSections(S){const A=[];this.processElement(S);const w=this.splitBySection(S.children);let I=null;for(let V=0,ie=w.length;V<ie;V++){this.currentFootnoteIds=[];const te=w[V],re=te.sectProps||S.props,Z=this.createSection(this.className,re);this.renderStyleValues(S.cssStyle,Z),this.options.renderHeaders&&this.renderHeaderFooter(re.headerRefs,re,A.length,I!=re,Z);var D=this.createElement("article");this.renderElements(te.elements,D),Z.appendChild(D),this.options.renderFootnotes&&this.renderNotes(this.currentFootnoteIds,this.footnoteMap,Z),this.options.renderEndnotes&&V==ie-1&&this.renderNotes(this.currentEndnoteIds,this.endnoteMap,Z),this.options.renderFooters&&this.renderHeaderFooter(re.footerRefs,re,A.length,I!=re,Z),A.push(Z),I=re}return A}renderHeaderFooter(S,A,w,I,D){var V,ie;if(S){var te=(ie=(V=A.titlePage&&I?S.find(Z=>Z.type=="first"):null)!==null&&V!==void 0?V:w%2==1?S.find(Z=>Z.type=="even"):null)!==null&&ie!==void 0?ie:S.find(Z=>Z.type=="default"),re=te&&this.document.findPartByRelId(te.id,this.document.documentPart);re&&(this.currentPart=re,this.usedHederFooterParts.includes(re.path)||(this.processElement(re.rootElement),this.usedHederFooterParts.push(re.path)),this.renderElements([re.rootElement],D),this.currentPart=null)}}isPageBreakElement(S){return S.type==t.DomType.Break&&(S.break=="lastRenderedPageBreak"?!this.options.ignoreLastRenderedPageBreak:S.break=="page")}splitBySection(S){var A,w={sectProps:null,elements:[]},I=[w];for(let W of S){if(W.type==t.DomType.Paragraph){const j=this.findStyle(W.styleName);!((A=j==null?void 0:j.paragraphProps)===null||A===void 0)&&A.pageBreakBefore&&(w.sectProps=D,w={sectProps:null,elements:[]},I.push(w))}if(w.elements.push(W),W.type==t.DomType.Paragraph){const j=W;var D=j.sectionProps,V=-1,ie=-1;if(this.options.breakPages&&j.children&&(V=j.children.findIndex(O=>{var C,F;return(ie=(F=(C=O.children)===null||C===void 0?void 0:C.findIndex(this.isPageBreakElement.bind(this)))!==null&&F!==void 0?F:-1)!=-1})),(D||V!=-1)&&(w.sectProps=D,w={sectProps:null,elements:[]},I.push(w)),V!=-1){let O=j.children[V],C=ie<O.children.length-1;if(V<j.children.length-1||C){var te=W.children,re=Object.assign(Object.assign({},W),{children:te.slice(V)});if(W.children=te.slice(0,V),w.elements.push(re),C){let F=O.children,H=Object.assign(Object.assign({},O),{children:F.slice(0,ie)});W.children.push(H),O.children=F.slice(ie)}}}}}let Z=null;for(let W=I.length-1;W>=0;W--)I[W].sectProps==null?I[W].sectProps=Z:Z=I[W].sectProps;return I}renderWrapper(S){return this.createElement("div",{className:`${this.className}-wrapper`},S)}renderDefaultStyle(){var S=this.className;return E(`
.${S}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } 
.${S}-wrapper>section.${S} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }
.${S} { color: black; hyphens: auto; }
section.${S} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }
section.${S}>article { margin-bottom: auto; z-index: 1; }
section.${S}>footer { z-index: 1; }
.${S} table { border-collapse: collapse; }
.${S} table td, .${S} table th { vertical-align: top; }
.${S} p { margin: 0pt; min-height: 1em; }
.${S} span { white-space: pre-wrap; overflow-wrap: break-word; }
.${S} a { color: inherit; text-decoration: inherit; }
`)}renderNumbering(S,A){var w="",I=[];for(var D of S){var V=`p.${this.numberingClass(D.id,D.level)}`,ie="none";if(D.bullet){let te=`--${this.className}-${D.bullet.src}`.toLowerCase();w+=this.styleToString(`${V}:before`,{content:"' '",display:"inline-block",background:`var(${te})`},D.bullet.style),this.document.loadNumberingImage(D.bullet.src).then(re=>{var Z=`${this.rootSelector} { ${te}: url(${re}) }`;A.appendChild(E(Z))})}else if(D.levelText){let te=this.numberingCounter(D.id,D.level);const re=te+" "+(D.start-1);D.level>0&&(w+=this.styleToString(`p.${this.numberingClass(D.id,D.level-1)}`,{"counter-reset":re})),I.push(re),w+=this.styleToString(`${V}:before`,Object.assign({content:this.levelTextToContent(D.levelText,D.suff,D.id,this.numFormatToCssValue(D.format)),"counter-increment":te},D.rStyle))}else ie=this.numFormatToCssValue(D.format);w+=this.styleToString(V,Object.assign({display:"list-item","list-style-position":"inside","list-style-type":ie},D.pStyle))}return I.length>0&&(w+=this.styleToString(this.rootSelector,{"counter-reset":I.join(" ")})),E(w)}renderStyles(S){var A,w="";const I=this.styleMap,D=(0,i.keyBy)(S.filter(re=>re.isDefault),re=>re.target);for(const re of S){var V=re.styles;if(re.linked){var ie=re.linked&&I[re.linked];ie?V=V.concat(ie.styles):this.options.debug&&console.warn(`Can't find linked style ${re.linked}`)}for(const Z of V){var te=`${(A=re.target)!==null&&A!==void 0?A:""}.${re.cssName}`;re.target!=Z.target&&(te+=` ${Z.target}`),D[re.target]==re&&(te=`.${this.className} ${re.target}, `+te),w+=this.styleToString(te,Z.values)}}return E(w)}renderNotes(S,A,w){var I=S.map(V=>A[V]).filter(V=>V);if(I.length>0){var D=this.createElement("ol",null,this.renderElements(I));w.appendChild(D)}}renderElement(S){switch(S.type){case t.DomType.Paragraph:return this.renderParagraph(S);case t.DomType.BookmarkStart:return this.renderBookmarkStart(S);case t.DomType.BookmarkEnd:return null;case t.DomType.Run:return this.renderRun(S);case t.DomType.Table:return this.renderTable(S);case t.DomType.Row:return this.renderTableRow(S);case t.DomType.Cell:return this.renderTableCell(S);case t.DomType.Hyperlink:return this.renderHyperlink(S);case t.DomType.Drawing:return this.renderDrawing(S);case t.DomType.Image:return this.renderImage(S);case t.DomType.Text:case t.DomType.Text:return this.renderText(S);case t.DomType.DeletedText:return this.renderDeletedText(S);case t.DomType.Tab:return this.renderTab(S);case t.DomType.Symbol:return this.renderSymbol(S);case t.DomType.Break:return this.renderBreak(S);case t.DomType.Footer:return this.renderContainer(S,"footer");case t.DomType.Header:return this.renderContainer(S,"header");case t.DomType.Footnote:case t.DomType.Endnote:return this.renderContainer(S,"li");case t.DomType.FootnoteReference:return this.renderFootnoteReference(S);case t.DomType.EndnoteReference:return this.renderEndnoteReference(S);case t.DomType.NoBreakHyphen:return this.createElement("wbr");case t.DomType.VmlPicture:return this.renderVmlPicture(S);case t.DomType.VmlElement:return this.renderVmlElement(S);case t.DomType.MmlMath:return this.renderContainerNS(S,l,"math",{xmlns:l});case t.DomType.MmlMathParagraph:return this.renderContainer(S,"span");case t.DomType.MmlFraction:return this.renderContainerNS(S,l,"mfrac");case t.DomType.MmlBase:return this.renderContainerNS(S,l,S.parent.type==t.DomType.MmlMatrixRow?"mtd":"mrow");case t.DomType.MmlNumerator:case t.DomType.MmlDenominator:case t.DomType.MmlFunction:case t.DomType.MmlLimit:case t.DomType.MmlBox:return this.renderContainerNS(S,l,"mrow");case t.DomType.MmlGroupChar:return this.renderMmlGroupChar(S);case t.DomType.MmlLimitLower:return this.renderContainerNS(S,l,"munder");case t.DomType.MmlMatrix:return this.renderContainerNS(S,l,"mtable");case t.DomType.MmlMatrixRow:return this.renderContainerNS(S,l,"mtr");case t.DomType.MmlRadical:return this.renderMmlRadical(S);case t.DomType.MmlSuperscript:return this.renderContainerNS(S,l,"msup");case t.DomType.MmlSubscript:return this.renderContainerNS(S,l,"msub");case t.DomType.MmlDegree:case t.DomType.MmlSuperArgument:case t.DomType.MmlSubArgument:return this.renderContainerNS(S,l,"mn");case t.DomType.MmlFunctionName:return this.renderContainerNS(S,l,"ms");case t.DomType.MmlDelimiter:return this.renderMmlDelimiter(S);case t.DomType.MmlRun:return this.renderMmlRun(S);case t.DomType.MmlNary:return this.renderMmlNary(S);case t.DomType.MmlPreSubSuper:return this.renderMmlPreSubSuper(S);case t.DomType.MmlBar:return this.renderMmlBar(S);case t.DomType.MmlEquationArray:return this.renderMllList(S);case t.DomType.Inserted:return this.renderInserted(S);case t.DomType.Deleted:return this.renderDeleted(S)}return null}renderChildren(S,A){return this.renderElements(S.children,A)}renderElements(S,A){if(S==null)return null;var w=S.flatMap(I=>this.renderElement(I)).filter(I=>I!=null);return A&&p(A,w),w}renderContainer(S,A,w){return this.createElement(A,w,this.renderChildren(S))}renderContainerNS(S,A,w,I){return v(A,w,I,this.renderChildren(S))}renderParagraph(S){var A,w,I,D,V=this.createElement("p");const ie=this.findStyle(S.styleName);(A=S.tabs)!==null&&A!==void 0||(S.tabs=(w=ie==null?void 0:ie.paragraphProps)===null||w===void 0?void 0:w.tabs),this.renderClass(S,V),this.renderChildren(S,V),this.renderStyleValues(S.cssStyle,V),this.renderCommonProperties(V.style,S);const te=(I=S.numbering)!==null&&I!==void 0?I:(D=ie==null?void 0:ie.paragraphProps)===null||D===void 0?void 0:D.numbering;return te&&V.classList.add(this.numberingClass(te.id,te.level)),V}renderRunProperties(S,A){this.renderCommonProperties(S,A)}renderCommonProperties(S,A){A!=null&&(A.color&&(S.color=A.color),A.fontSize&&(S["font-size"]=A.fontSize))}renderHyperlink(S){var A=this.createElement("a");if(this.renderChildren(S,A),this.renderStyleValues(S.cssStyle,A),S.href)A.href=S.href;else if(S.id){const w=this.document.documentPart.rels.find(I=>I.id==S.id&&I.targetMode==="External");A.href=w==null?void 0:w.target}return A}renderDrawing(S){var A=this.createElement("div");return A.style.display="inline-block",A.style.position="relative",A.style.textIndent="0px",this.renderChildren(S,A),this.renderStyleValues(S.cssStyle,A),A}renderImage(S){let A=this.createElement("img");return this.renderStyleValues(S.cssStyle,A),this.document&&this.document.loadDocumentImage(S.src,this.currentPart).then(w=>{A.src=w}),A}renderText(S){return this.htmlDocument.createTextNode(S.text)}renderDeletedText(S){return this.options.renderEndnotes?this.htmlDocument.createTextNode(S.text):null}renderBreak(S){return S.break=="textWrapping"?this.createElement("br"):null}renderInserted(S){return this.options.renderChanges?this.renderContainer(S,"ins"):this.renderChildren(S)}renderDeleted(S){return this.options.renderChanges?this.renderContainer(S,"del"):null}renderSymbol(S){var A=this.createElement("span");return A.style.fontFamily=S.font,A.innerHTML=`&#x${S.char};`,A}renderFootnoteReference(S){var A=this.createElement("sup");return this.currentFootnoteIds.push(S.id),A.textContent=`${this.currentFootnoteIds.length}`,A}renderEndnoteReference(S){var A=this.createElement("sup");return this.currentEndnoteIds.push(S.id),A.textContent=`${this.currentEndnoteIds.length}`,A}renderTab(S){var A,w=this.createElement("span");if(w.innerHTML="&emsp;",this.options.experimental){w.className=this.tabStopClass();var I=(A=function(D,V){for(var ie=D.parent;ie!=null&&ie.type!=V;)ie=ie.parent;return ie}(S,t.DomType.Paragraph))===null||A===void 0?void 0:A.tabs;this.currentTabs.push({stops:I,span:w})}return w}renderBookmarkStart(S){var A=this.createElement("span");return A.id=S.name,A}renderRun(S){if(S.fieldRun)return null;const A=this.createElement("span");if(S.id&&(A.id=S.id),this.renderClass(S,A),this.renderStyleValues(S.cssStyle,A),S.verticalAlign){const w=this.createElement(S.verticalAlign);this.renderChildren(S,w),A.appendChild(w)}else this.renderChildren(S,A);return A}renderTable(S){let A=this.createElement("table");return this.tableCellPositions.push(this.currentCellPosition),this.tableVerticalMerges.push(this.currentVerticalMerge),this.currentVerticalMerge={},this.currentCellPosition={col:0,row:0},S.columns&&A.appendChild(this.renderTableColumns(S.columns)),this.renderClass(S,A),this.renderChildren(S,A),this.renderStyleValues(S.cssStyle,A),this.currentVerticalMerge=this.tableVerticalMerges.pop(),this.currentCellPosition=this.tableCellPositions.pop(),A}renderTableColumns(S){let A=this.createElement("colgroup");for(let w of S){let I=this.createElement("col");w.width&&(I.style.width=w.width),A.appendChild(I)}return A}renderTableRow(S){let A=this.createElement("tr");return this.currentCellPosition.col=0,this.renderClass(S,A),this.renderChildren(S,A),this.renderStyleValues(S.cssStyle,A),this.currentCellPosition.row++,A}renderTableCell(S){let A=this.createElement("td");const w=this.currentCellPosition.col;return S.verticalMerge?S.verticalMerge=="restart"?(this.currentVerticalMerge[w]=A,A.rowSpan=1):this.currentVerticalMerge[w]&&(this.currentVerticalMerge[w].rowSpan+=1,A.style.display="none"):this.currentVerticalMerge[w]=null,this.renderClass(S,A),this.renderChildren(S,A),this.renderStyleValues(S.cssStyle,A),S.span&&(A.colSpan=S.span),this.currentCellPosition.col+=A.colSpan,A}renderVmlPicture(S){var A=d("div");return this.renderChildren(S,A),A}renderVmlElement(S){var A,w,I=a("svg");I.setAttribute("style",S.cssStyleText);const D=this.renderVmlChildElement(S);return!((A=S.imageHref)===null||A===void 0)&&A.id&&((w=this.document)===null||w===void 0||w.loadDocumentImage(S.imageHref.id,this.currentPart).then(V=>D.setAttribute("href",V))),I.appendChild(D),requestAnimationFrame(()=>{const V=I.firstElementChild.getBBox();I.setAttribute("width",`${Math.ceil(V.x+V.width)}`),I.setAttribute("height",`${Math.ceil(V.y+V.height)}`)}),I}renderVmlChildElement(S){const A=a(S.tagName);Object.entries(S.attrs).forEach(([w,I])=>A.setAttribute(w,I));for(let w of S.children)w.type==t.DomType.VmlElement?A.appendChild(this.renderVmlChildElement(w)):A.appendChild(...(0,i.asArray)(this.renderElement(w)));return A}renderMmlRadical(S){var A;const w=S.children.find(D=>D.type==t.DomType.MmlBase);if(!((A=S.props)===null||A===void 0)&&A.hideDegree)return v(l,"msqrt",null,this.renderElements([w]));const I=S.children.find(D=>D.type==t.DomType.MmlDegree);return v(l,"mroot",null,this.renderElements([w,I]))}renderMmlDelimiter(S){var A,w;const I=[];return I.push(v(l,"mo",null,[(A=S.props.beginChar)!==null&&A!==void 0?A:"("])),I.push(...this.renderElements(S.children)),I.push(v(l,"mo",null,[(w=S.props.endChar)!==null&&w!==void 0?w:")"])),v(l,"mrow",null,I)}renderMmlNary(S){var A,w;const I=[],D=(0,i.keyBy)(S.children,W=>W.type),V=D[t.DomType.MmlSuperArgument],ie=D[t.DomType.MmlSubArgument],te=V?v(l,"mo",null,(0,i.asArray)(this.renderElement(V))):null,re=ie?v(l,"mo",null,(0,i.asArray)(this.renderElement(ie))):null,Z=v(l,"mo",null,[(w=(A=S.props)===null||A===void 0?void 0:A.char)!==null&&w!==void 0?w:""]);return te||re?I.push(v(l,"munderover",null,[Z,re,te])):te?I.push(v(l,"mover",null,[Z,te])):re?I.push(v(l,"munder",null,[Z,re])):I.push(Z),I.push(...this.renderElements(D[t.DomType.MmlBase].children)),v(l,"mrow",null,I)}renderMmlPreSubSuper(S){const A=[],w=(0,i.keyBy)(S.children,re=>re.type),I=w[t.DomType.MmlSuperArgument],D=w[t.DomType.MmlSubArgument],V=I?v(l,"mo",null,(0,i.asArray)(this.renderElement(I))):null,ie=D?v(l,"mo",null,(0,i.asArray)(this.renderElement(D))):null,te=v(l,"mo",null);return A.push(v(l,"msubsup",null,[te,ie,V])),A.push(...this.renderElements(w[t.DomType.MmlBase].children)),v(l,"mrow",null,A)}renderMmlGroupChar(S){const A=S.props.verticalJustification==="bot"?"mover":"munder",w=this.renderContainerNS(S,l,A);return S.props.char&&w.appendChild(v(l,"mo",null,[S.props.char])),w}renderMmlBar(S){const A=this.renderContainerNS(S,l,"mrow");switch(S.props.position){case"top":A.style.textDecoration="overline";break;case"bottom":A.style.textDecoration="underline"}return A}renderMmlRun(S){const A=v(l,"ms");return this.renderClass(S,A),this.renderStyleValues(S.cssStyle,A),this.renderChildren(S,A),A}renderMllList(S){const A=v(l,"mtable");this.renderClass(S,A),this.renderStyleValues(S.cssStyle,A),this.renderChildren(S);for(let w of this.renderChildren(S))A.appendChild(v(l,"mtr",null,[v(l,"mtd",null,[w])]));return A}renderStyleValues(S,A){for(let w in S)w.startsWith("$")?A.setAttribute(w.slice(1),S[w]):A.style[w]=S[w]}renderClass(S,A){S.className&&(A.className=S.className),S.styleName&&A.classList.add(this.processStyleName(S.styleName))}findStyle(S){var A;return S&&((A=this.styleMap)===null||A===void 0?void 0:A[S])}numberingClass(S,A){return`${this.className}-num-${S}-${A}`}tabStopClass(){return`${this.className}-tab-stop`}styleToString(S,A,w=null){let I=`${S} {\r
`;for(const D in A)D.startsWith("$")||(I+=`  ${D}: ${A[D]};\r
`);return w&&(I+=w),I+`}\r
`}numberingCounter(S,A){return`${this.className}-num-${S}-${A}`}levelTextToContent(S,A,w,I){var D;return`"${S.replace(/%\d*/g,V=>{let ie=parseInt(V.substring(1),10)-1;return`"counter(${this.numberingCounter(w,ie)}, ${I})"`})}${(D={tab:"\\9",space:"\\a0"}[A])!==null&&D!==void 0?D:""}"`}numFormatToCssValue(S){var A;return(A={none:"none",bullet:"disc",decimal:"decimal",lowerLetter:"lower-alpha",upperLetter:"upper-alpha",lowerRoman:"lower-roman",upperRoman:"upper-roman",decimalZero:"decimal-leading-zero",aiueo:"katakana",aiueoFullWidth:"katakana",chineseCounting:"simp-chinese-informal",chineseCountingThousand:"simp-chinese-informal",chineseLegalSimplified:"simp-chinese-formal",chosung:"hangul-consonant",ideographDigital:"cjk-ideographic",ideographTraditional:"cjk-heavenly-stem",ideographLegalTraditional:"trad-chinese-formal",ideographZodiac:"cjk-earthly-branch",iroha:"katakana-iroha",irohaFullWidth:"katakana-iroha",japaneseCounting:"japanese-informal",japaneseDigitalTenThousand:"cjk-decimal",japaneseLegal:"japanese-formal",thaiNumbers:"thai",koreanCounting:"korean-hangul-formal",koreanDigital:"korean-hangul-formal",koreanDigital2:"korean-hanja-informal",hebrew1:"hebrew",hebrew2:"hebrew",hindiNumbers:"devanagari",ganada:"hangul",taiwaneseCounting:"cjk-ideographic",taiwaneseCountingThousand:"cjk-ideographic",taiwaneseDigital:"cjk-decimal"}[S])!==null&&A!==void 0?A:S}refreshTabStops(){this.options.experimental&&(clearTimeout(this.tabsTimeout),this.tabsTimeout=setTimeout(()=>{const S=(0,r.computePixelToPoint)();for(let A of this.currentTabs)(0,r.updateTabStop)(A.span,A.stops,this.defaultTabSize,S)},500))}}},630:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.updateTabStop=h.computePixelToPoint=void 0;const s={pos:0,leader:"none",style:"left"};function t(i){return parseFloat(i)}h.computePixelToPoint=function(i=document.body){const r=document.createElement("div");r.style.width="100pt",i.appendChild(r);const n=100/r.offsetWidth;return i.removeChild(r),n},h.updateTabStop=function(i,r,n,l=.75){const d=i.closest("p"),a=i.getBoundingClientRect(),v=d.getBoundingClientRect(),y=getComputedStyle(d),p=(r==null?void 0:r.length)>0?r.map(te=>({pos:t(te.position),leader:te.leader,style:te.style})).sort((te,re)=>te.pos-re.pos):[s],E=p[p.length-1],T=v.width*l,S=t(n);let A=E.pos+S;if(A<T)for(;A<T&&p.length<50;A+=S)p.push(Object.assign(Object.assign({},s),{pos:A}));const w=parseFloat(y.marginLeft),I=v.left+w,D=(a.left-I)*l,V=p.find(te=>te.style!="clear"&&te.pos>D);if(V==null)return;let ie=1;if(V.style=="right"||V.style=="center"){const te=Array.from(d.querySelectorAll(`.${i.className}`)),re=te.indexOf(i)+1,Z=document.createRange();Z.setStart(i,1),re<te.length?Z.setEndBefore(te[re]):Z.setEndAfter(d);const W=V.style=="center"?.5:1,j=Z.getBoundingClientRect(),O=j.left+W*j.width-(v.left-w);ie=V.pos-O*l}else ie=V.pos-D;switch(i.innerHTML="&nbsp;",i.style.textDecoration="inherit",i.style.wordSpacing=`${ie.toFixed(0)}pt`,V.leader){case"dot":case"middleDot":i.style.textDecoration="underline",i.style.textDecorationStyle="dotted";break;case"hyphen":case"heavy":case"underscore":i.style.textDecoration="underline"}}},881:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WmlEndnote=h.WmlFootnote=h.WmlBaseNote=void 0;const t=s(120);class i{}h.WmlBaseNote=i,h.WmlFootnote=class extends i{constructor(){super(...arguments),this.type=t.DomType.Footnote}},h.WmlEndnote=class extends i{constructor(){super(...arguments),this.type=t.DomType.Endnote}}},735:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EndnotesPart=h.FootnotesPart=h.BaseNotePart=void 0;const t=s(530),i=s(881);class r extends t.Part{constructor(l,d,a){super(l,d),this._documentParser=a}}h.BaseNotePart=r,h.FootnotesPart=class extends r{constructor(n,l,d){super(n,l,d)}parseXml(n){this.notes=this._documentParser.parseNotes(n,"footnote",i.WmlFootnote)}},h.EndnotesPart=class extends r{constructor(n,l,d){super(n,l,d)}parseXml(n){this.notes=this._documentParser.parseNotes(n,"endnote",i.WmlEndnote)}}},527:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NumberingPart=void 0;const t=s(530),i=s(682);class r extends t.Part{constructor(l,d,a){super(l,d),this._documentParser=a}parseXml(l){Object.assign(this,(0,i.parseNumberingPart)(l,this._package.xmlParser)),this.domNumberings=this._documentParser.parseNumberingFile(l)}}h.NumberingPart=r},682:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseNumberingBulletPicture=h.parseNumberingLevelOverrride=h.parseNumberingLevel=h.parseAbstractNumbering=h.parseNumbering=h.parseNumberingPart=void 0;const t=s(109),i=s(488);function r(v,y){let p={id:y.attr(v,"numId"),overrides:[]};for(let E of y.elements(v))switch(E.localName){case"abstractNumId":p.abstractId=y.attr(E,"val");break;case"lvlOverride":p.overrides.push(d(E,y))}return p}function n(v,y){let p={id:y.attr(v,"abstractNumId"),levels:[]};for(let E of y.elements(v))switch(E.localName){case"name":p.name=y.attr(E,"val");break;case"multiLevelType":p.multiLevelType=y.attr(E,"val");break;case"numStyleLink":p.numberingStyleLink=y.attr(E,"val");break;case"styleLink":p.styleLink=y.attr(E,"val");break;case"lvl":p.levels.push(l(E,y))}return p}function l(v,y){let p={level:y.intAttr(v,"ilvl")};for(let E of y.elements(v))switch(E.localName){case"start":p.start=y.attr(E,"val");break;case"lvlRestart":p.restart=y.intAttr(E,"val");break;case"numFmt":p.format=y.attr(E,"val");break;case"lvlText":p.text=y.attr(E,"val");break;case"lvlJc":p.justification=y.attr(E,"val");break;case"lvlPicBulletId":p.bulletPictureId=y.attr(E,"val");break;case"pStyle":p.paragraphStyle=y.attr(E,"val");break;case"pPr":p.paragraphProps=(0,t.parseParagraphProperties)(E,y);break;case"rPr":p.runProps=(0,i.parseRunProperties)(E,y)}return p}function d(v,y){let p={level:y.intAttr(v,"ilvl")};for(let E of y.elements(v))switch(E.localName){case"startOverride":p.start=y.intAttr(E,"val");break;case"lvl":p.numberingLevel=l(E,y)}return p}function a(v,y){var p=y.element(v,"pict"),E=p&&y.element(p,"shape"),T=E&&y.element(E,"imagedata");return T?{id:y.attr(v,"numPicBulletId"),referenceId:y.attr(T,"id"),style:y.attr(E,"style")}:null}h.parseNumberingPart=function(v,y){let p={numberings:[],abstractNumberings:[],bulletPictures:[]};for(let E of y.elements(v))switch(E.localName){case"num":p.numberings.push(r(E,y));break;case"abstractNum":p.abstractNumberings.push(n(E,y));break;case"numPicBullet":p.bulletPictures.push(a(E,y))}return p},h.parseNumbering=r,h.parseAbstractNumbering=n,h.parseNumberingLevel=l,h.parseNumberingLevelOverrride=d,h.parseNumberingBulletPicture=a},472:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.XmlParser=h.serializeXmlString=h.parseXmlString=void 0;const t=s(149);h.parseXmlString=function(n,l=!1){var d;l&&(n=n.replace(/<[?].*[?]>/,"")),n=(d=n).charCodeAt(0)===65279?d.substring(1):d;const a=new DOMParser().parseFromString(n,"application/xml"),v=(y=a.getElementsByTagName("parsererror")[0])===null||y===void 0?void 0:y.textContent;var y;if(v)throw new Error(v);return a},h.serializeXmlString=function(n){return new XMLSerializer().serializeToString(n)};class i{elements(l,d=null){const a=[];for(let v=0,y=l.childNodes.length;v<y;v++){let p=l.childNodes.item(v);p.nodeType!=1||d!=null&&p.localName!=d||a.push(p)}return a}element(l,d){for(let a=0,v=l.childNodes.length;a<v;a++){let y=l.childNodes.item(a);if(y.nodeType==1&&y.localName==d)return y}return null}elementAttr(l,d,a){var v=this.element(l,d);return v?this.attr(v,a):void 0}attrs(l){return Array.from(l.attributes)}attr(l,d){for(let a=0,v=l.attributes.length;a<v;a++){let y=l.attributes.item(a);if(y.localName==d)return y.value}return null}intAttr(l,d,a=null){var v=this.attr(l,d);return v?parseInt(v):a}hexAttr(l,d,a=null){var v=this.attr(l,d);return v?parseInt(v,16):a}floatAttr(l,d,a=null){var v=this.attr(l,d);return v?parseFloat(v):a}boolAttr(l,d,a=null){return(0,t.convertBoolean)(this.attr(l,d),a)}lengthAttr(l,d,a=t.LengthUsage.Dxa){return(0,t.convertLength)(this.attr(l,d),a)}}h.XmlParser=i;const r=new i;h.default=r},287:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SettingsPart=void 0;const t=s(530),i=s(846);class r extends t.Part{constructor(l,d){super(l,d)}parseXml(l){this.settings=(0,i.parseSettings)(l,this._package.xmlParser)}}h.SettingsPart=r},846:(u,h)=>{function s(t,i){var r={defaultNoteIds:[]};for(let n of i.elements(t))switch(n.localName){case"numFmt":r.nummeringFormat=i.attr(n,"val");break;case"footnote":case"endnote":r.defaultNoteIds.push(i.attr(n,"id"))}return r}Object.defineProperty(h,"__esModule",{value:!0}),h.parseNoteProperties=h.parseSettings=void 0,h.parseSettings=function(t,i){var r={};for(let n of i.elements(t))switch(n.localName){case"defaultTabStop":r.defaultTabStop=i.lengthAttr(n,"val");break;case"footnotePr":r.footnoteProps=s(n,i);break;case"endnotePr":r.endnoteProps=s(n,i);break;case"autoHyphenation":r.autoHyphenation=i.boolAttr(n,"val")}return r},h.parseNoteProperties=s},240:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StylesPart=void 0;const t=s(530);class i extends t.Part{constructor(n,l,d){super(n,l),this._documentParser=d}parseXml(n){this.styles=this._documentParser.parseStylesFile(n)}}h.StylesPart=i},893:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ThemePart=void 0;const t=s(530),i=s(55);class r extends t.Part{constructor(l,d){super(l,d)}parseXml(l){this.theme=(0,i.parseTheme)(l,this._package.xmlParser)}}h.ThemePart=r},55:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseFontInfo=h.parseFontScheme=h.parseColorScheme=h.parseTheme=h.DmlTheme=void 0;class s{}function t(n,l){var d={name:l.attr(n,"name"),colors:{}};for(let y of l.elements(n)){var a=l.element(y,"srgbClr"),v=l.element(y,"sysClr");a?d.colors[y.localName]=l.attr(a,"val"):v&&(d.colors[y.localName]=l.attr(v,"lastClr"))}return d}function i(n,l){var d={name:l.attr(n,"name")};for(let a of l.elements(n))switch(a.localName){case"majorFont":d.majorFont=r(a,l);break;case"minorFont":d.minorFont=r(a,l)}return d}function r(n,l){return{latinTypeface:l.elementAttr(n,"latin","typeface"),eaTypeface:l.elementAttr(n,"ea","typeface"),csTypeface:l.elementAttr(n,"cs","typeface")}}h.DmlTheme=s,h.parseTheme=function(n,l){var d=new s,a=l.element(n,"themeElements");for(let v of l.elements(a))switch(v.localName){case"clrScheme":d.colorScheme=t(v,l);break;case"fontScheme":d.fontScheme=i(v,l)}return d},h.parseColorScheme=t,h.parseFontScheme=i,h.parseFontInfo=r},593:(u,h)=>{function s(t){return t&&typeof t=="object"&&!Array.isArray(t)}Object.defineProperty(h,"__esModule",{value:!0}),h.asArray=h.formatCssRules=h.parseCssRules=h.mergeDeep=h.isString=h.isObject=h.blobToBase64=h.keyBy=h.resolvePath=h.splitPath=h.escapeClassName=void 0,h.escapeClassName=function(t){return t==null?void 0:t.replace(/[ .]+/g,"-").replace(/[&]+/g,"and").toLowerCase()},h.splitPath=function(t){let i=t.lastIndexOf("/")+1;return[i==0?"":t.substring(0,i),i==0?t:t.substring(i)]},h.resolvePath=function(t,i){try{const r="http://docx/";return new URL(t,r+i).toString().substring(r.length)}catch{return`${i}${t}`}},h.keyBy=function(t,i){return t.reduce((r,n)=>(r[i(n)]=n,r),{})},h.blobToBase64=function(t){return new Promise((i,r)=>{const n=new FileReader;n.onloadend=()=>i(n.result),n.onerror=()=>r(),n.readAsDataURL(t)})},h.isObject=s,h.isString=function(t){return typeof t=="string"||t instanceof String},h.mergeDeep=function t(i,...r){var n;if(!r.length)return i;const l=r.shift();if(s(i)&&s(l))for(const d in l)s(l[d])?t((n=i[d])!==null&&n!==void 0?n:i[d]={},l[d]):i[d]=l[d];return t(i,...r)},h.parseCssRules=function(t){const i={};for(const r of t.split(";")){const[n,l]=r.split(":");i[n]=l}return i},h.formatCssRules=function(t){return Object.entries(t).map((i,r)=>`${i}: ${r}`).join(";")},h.asArray=function(t){return Array.isArray(t)?t:[t]}},320:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.parseVmlElement=h.VmlElement=void 0;const t=s(149),i=s(120),r=s(472);class n extends i.OpenXmlElementBase{constructor(){super(...arguments),this.type=i.DomType.VmlElement,this.attrs={}}}function l(a){var v;return{stroke:r.default.attr(a,"color"),"stroke-width":(v=r.default.lengthAttr(a,"weight",t.LengthUsage.Emu))!==null&&v!==void 0?v:"1px"}}function d(a){return a.split(",")}h.VmlElement=n,h.parseVmlElement=function a(v,y){var p=new n;switch(v.localName){case"rect":p.tagName="rect",Object.assign(p.attrs,{width:"100%",height:"100%"});break;case"oval":p.tagName="ellipse",Object.assign(p.attrs,{cx:"50%",cy:"50%",rx:"50%",ry:"50%"});break;case"line":p.tagName="line";break;case"shape":p.tagName="g";break;case"textbox":p.tagName="foreignObject",Object.assign(p.attrs,{width:"100%",height:"100%"});break;default:return null}for(const E of r.default.attrs(v))switch(E.localName){case"style":p.cssStyleText=E.value;break;case"fillcolor":p.attrs.fill=E.value;break;case"from":const[T,S]=d(E.value);Object.assign(p.attrs,{x1:T,y1:S});break;case"to":const[A,w]=d(E.value);Object.assign(p.attrs,{x2:A,y2:w})}for(const E of r.default.elements(v))switch(E.localName){case"stroke":Object.assign(p.attrs,l(E));break;case"fill":Object.assign(p.attrs,{});break;case"imagedata":p.tagName="image",Object.assign(p.attrs,{width:"100%",height:"100%"}),p.imageHref={id:r.default.attr(E,"id"),title:r.default.attr(E,"title")};break;case"txbxContent":p.children.push(...y.parseBodyElements(E));break;default:const T=a(E,y);T&&p.children.push(T)}return p}},213:(u,h,s)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.deobfuscate=h.WordDocument=void 0;const t=s(461),i=s(380),r=s(522),n=s(448),l=s(593),d=s(527),a=s(240),v=s(985),y=s(665),p=s(162),E=s(893),T=s(735),S=s(287),A=s(177),w=[{type:t.RelationshipTypes.OfficeDocument,target:"word/document.xml"},{type:t.RelationshipTypes.ExtendedProperties,target:"docProps/app.xml"},{type:t.RelationshipTypes.CoreProperties,target:"docProps/core.xml"},{type:t.RelationshipTypes.CustomProperties,target:"docProps/custom.xml"}];class I{constructor(){this.parts=[],this.partsMap={}}static async load(ie,te,re){var Z=new I;return Z._options=re,Z._parser=te,Z._package=await r.OpenXmlPackage.load(ie,re),Z.rels=await Z._package.loadRelationships(),await Promise.all(w.map(W=>{var j;const O=(j=Z.rels.find(C=>C.type===W.type))!==null&&j!==void 0?j:W;return Z.loadRelationshipPart(O.target,O.type)})),Z}save(ie="blob"){return this._package.save(ie)}async loadRelationshipPart(ie,te){var re;if(this.partsMap[ie])return this.partsMap[ie];if(!this._package.get(ie))return null;let Z=null;switch(te){case t.RelationshipTypes.OfficeDocument:this.documentPart=Z=new n.DocumentPart(this._package,ie,this._parser);break;case t.RelationshipTypes.FontTable:this.fontTablePart=Z=new i.FontTablePart(this._package,ie);break;case t.RelationshipTypes.Numbering:this.numberingPart=Z=new d.NumberingPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Styles:this.stylesPart=Z=new a.StylesPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Theme:this.themePart=Z=new E.ThemePart(this._package,ie);break;case t.RelationshipTypes.Footnotes:this.footnotesPart=Z=new T.FootnotesPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Endnotes:this.endnotesPart=Z=new T.EndnotesPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Footer:Z=new v.FooterPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Header:Z=new v.HeaderPart(this._package,ie,this._parser);break;case t.RelationshipTypes.CoreProperties:this.corePropsPart=Z=new p.CorePropsPart(this._package,ie);break;case t.RelationshipTypes.ExtendedProperties:this.extendedPropsPart=Z=new y.ExtendedPropsPart(this._package,ie);break;case t.RelationshipTypes.CustomProperties:Z=new A.CustomPropsPart(this._package,ie);break;case t.RelationshipTypes.Settings:this.settingsPart=Z=new S.SettingsPart(this._package,ie)}if(Z==null)return Promise.resolve(null);if(this.partsMap[ie]=Z,this.parts.push(Z),await Z.load(),((re=Z.rels)===null||re===void 0?void 0:re.length)>0){const[W]=(0,l.splitPath)(Z.path);await Promise.all(Z.rels.map(j=>this.loadRelationshipPart((0,l.resolvePath)(j.target,W),j.type)))}return Z}async loadDocumentImage(ie,te){const re=await this.loadResource(te??this.documentPart,ie,"blob");return this.blobToURL(re)}async loadNumberingImage(ie){const te=await this.loadResource(this.numberingPart,ie,"blob");return this.blobToURL(te)}async loadFont(ie,te){const re=await this.loadResource(this.fontTablePart,ie,"uint8array");return re&&this.blobToURL(new Blob([D(re,te)]))}blobToURL(ie){return ie?this._options.useBase64URL?(0,l.blobToBase64)(ie):URL.createObjectURL(ie):null}findPartByRelId(ie,te=null){var re,Z=((re=te.rels)!==null&&re!==void 0?re:this.rels).find(j=>j.id==ie);const W=te?(0,l.splitPath)(te.path)[0]:"";return Z?this.partsMap[(0,l.resolvePath)(Z.target,W)]:null}getPathById(ie,te){const re=ie.rels.find(W=>W.id==te),[Z]=(0,l.splitPath)(ie.path);return re?(0,l.resolvePath)(re.target,Z):null}loadResource(ie,te,re){const Z=this.getPathById(ie,te);return Z?this._package.load(Z,re):Promise.resolve(null)}}function D(V,ie){const te=ie.replace(/{|}|-/g,""),re=new Array(16);for(let Z=0;Z<16;Z++)re[16-Z-1]=parseInt(te.substr(2*Z,2),16);for(let Z=0;Z<32;Z++)V[Z]=V[Z]^re[Z%16];return V}h.WordDocument=I,h.deobfuscate=D},583:u=>{u.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 100%27 preserveAspectRatio=%27none%27%3E%3Cpath d=%27m0,75 l5,0 l5,25 l10,-100%27 stroke=%27black%27 fill=%27none%27 vector-effect=%27non-scaling-stroke%27/%3E%3C/svg%3E"},626:u=>{u.exports=e}},g={};function f(u){var h=g[u];if(h!==void 0)return h.exports;var s=g[u]={id:u,exports:{}};return m[u](s,s.exports,f),s.exports}return f.m=m,f.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return f.d(h,{a:h}),h},f.d=(u,h)=>{for(var s in h)f.o(h,s)&&!f.o(u,s)&&Object.defineProperty(u,s,{enumerable:!0,get:h[s]})},f.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),f.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},f.b=document.baseURI||self.location.href,f(667)})())})(xd);var L_=xd.exports;class mo{constructor(_,e=""){typeof _=="string"?(this.el=document.createElement(_),this.el.className=e):this.el=_,this.data={}}data(_,e){return e!==void 0?(this.data[_]=e,this):this.data[_]}on(_,e){const[m,...g]=_.split(".");let f=m;return f==="mousewheel"&&/Firefox/i.test(window.navigator.userAgent)&&(f="DOMMouseScroll"),this.el.addEventListener(f,u=>{e(u);for(let h=0;h<g.length;h+=1){const s=g[h];if(s==="left"&&u.button!==0||s==="right"&&u.button!==2)return;s==="stop"&&u.stopPropagation()}}),this}offset(_){if(_!==void 0)return Object.keys(_).forEach(u=>{this.css(u,`${_[u]}px`)}),this;const{offsetTop:e,offsetLeft:m,offsetHeight:g,offsetWidth:f}=this.el;return{top:e,left:m,height:g,width:f}}scroll(_){const{el:e}=this;return _!==void 0&&(_.left!==void 0&&(e.scrollLeft=_.left),_.top!==void 0&&(e.scrollTop=_.top)),{left:e.scrollLeft,top:e.scrollTop}}box(){return this.el.getBoundingClientRect()}parent(){return new mo(this.el.parentNode)}children(..._){return arguments.length===0?this.el.childNodes:(_.forEach(e=>this.child(e)),this)}removeChild(_){this.el.removeChild(_)}child(_){let e=_;return typeof _=="string"?e=document.createTextNode(_):_ instanceof mo&&(e=_.el),this.el.appendChild(e),this}contains(_){return this.el.contains(_)}className(_){return _!==void 0?(this.el.className=_,this):this.el.className}addClass(_){return this.el.classList.add(_),this}hasClass(_){return this.el.classList.contains(_)}removeClass(_){return this.el.classList.remove(_),this}toggle(_="active"){return this.toggleClass(_)}toggleClass(_){return this.el.classList.toggle(_)}active(_=!0,e="active"){return _?this.addClass(e):this.removeClass(e),this}checked(_=!0){return this.active(_,"checked"),this}disabled(_=!0){return _?this.addClass("disabled"):this.removeClass("disabled"),this}attr(_,e){if(e!==void 0)this.el.setAttribute(_,e);else{if(typeof _=="string")return this.el.getAttribute(_);Object.keys(_).forEach(m=>{this.el.setAttribute(m,_[m])})}return this}removeAttr(_){return this.el.removeAttribute(_),this}html(_){return _!==void 0?(this.el.innerHTML=_,this):this.el.innerHTML}val(_){return _!==void 0?(this.el.value=_,this):this.el.value}focus(){this.el.focus()}cssRemoveKeys(..._){return _.forEach(e=>this.el.style.removeProperty(e)),this}css(_,e){return e===void 0&&typeof _!="string"?(Object.keys(_).forEach(m=>{this.el.style[m]=_[m]}),this):e!==void 0?(this.el.style[_]=e,this):this.el.style[_]}computedStyle(){return window.getComputedStyle(this.el,null)}show(){return this.css("display","block"),this}hide(){return this.css("display","none"),this}}const ft=(K,_="")=>new mo(K,_),Ha=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function Ed(K){let _="",e=K;for(;e>=Ha.length;)e/=Ha.length,e-=1,_+=Ha[parseInt(e,10)%Ha.length];const m=K%Ha.length;return _+=Ha[m],_}function Lv(K){let _=0;for(let e=0;e<K.length-1;e+=1){const m=K.charCodeAt(e)-65,g=K.length-1-e;_+=Ha.length**g+Ha.length*m}return _+=K.charCodeAt(K.length-1)-65,_}function Wa(K){let _="",e="";for(let m=0;m<K.length;m+=1)K.charAt(m)>="0"&&K.charAt(m)<="9"?e+=K.charAt(m):_+=K.charAt(m);return[Lv(_),parseInt(e,10)-1]}function da(K,_){return`${Ed(K)}${_+1}`}function wl(K,_,e,m=()=>!0){if(_===0&&e===0)return K;const[g,f]=Wa(K);return m(g,f)?da(g+_,f+e):K}class Pi{constructor(_,e,m,g,f=0,u=0){this.sri=_,this.sci=e,this.eri=m,this.eci=g,this.w=f,this.h=u}set(_,e,m,g){this.sri=_,this.sci=e,this.eri=m,this.eci=g}multiple(){return this.eri-this.sri>0||this.eci-this.sci>0}includes(..._){let[e,m]=[0,0];_.length===1?[m,e]=Wa(_[0]):_.length===2&&([e,m]=_);const{sri:g,sci:f,eri:u,eci:h}=this;return g<=e&&e<=u&&f<=m&&m<=h}each(_,e=()=>!0){const{sri:m,sci:g,eri:f,eci:u}=this;for(let h=m;h<=f;h+=1)if(e(h))for(let s=g;s<=u;s+=1)_(h,s)}contains(_){return this.sri<=_.sri&&this.sci<=_.sci&&this.eri>=_.eri&&this.eci>=_.eci}within(_){return this.sri>=_.sri&&this.sci>=_.sci&&this.eri<=_.eri&&this.eci<=_.eci}disjoint(_){return this.sri>_.eri||this.sci>_.eci||_.sri>this.eri||_.sci>this.eci}intersects(_){return this.sri<=_.eri&&this.sci<=_.eci&&_.sri<=this.eri&&_.sci<=this.eci}union(_){const{sri:e,sci:m,eri:g,eci:f}=this;return new Pi(_.sri<e?_.sri:e,_.sci<m?_.sci:m,_.eri>g?_.eri:g,_.eci>f?_.eci:f)}difference(_){const e=[],m=(n,l,d,a)=>{e.push(new Pi(n,l,d,a))},{sri:g,sci:f,eri:u,eci:h}=this,s=_.sri-g,t=_.sci-f,i=u-_.eri,r=h-_.eci;return s>0?(m(g,f,_.sri-1,h),i>0?(m(_.eri+1,f,u,h),t>0&&m(_.sri,f,_.eri,_.sci-1),r>0&&m(_.sri,_.eci+1,_.eri,h)):(t>0&&m(_.sri,f,u,_.sci-1),r>0&&m(_.sri,_.eci+1,u,h))):i>0&&(m(_.eri+1,f,u,h),t>0&&m(g,f,_.eri,_.sci-1),r>0&&m(g,_.eci+1,_.eri,h)),t>0?(m(g,f,u,_.sci-1),r>0?(m(g,_.eri+1,u,h),s>0&&m(g,_.sci,_.sri-1,_.eci),i>0&&m(_.sri+1,_.sci,u,_.eci)):(s>0&&m(g,_.sci,_.sri-1,h),i>0&&m(_.sri+1,_.sci,u,h))):r>0&&(m(u,_.eci+1,u,h),s>0&&m(g,f,_.sri-1,_.eci),i>0&&m(_.eri+1,f,u,_.eci)),e}size(){return[this.eri-this.sri+1,this.eci-this.sci+1]}toString(){const{sri:_,sci:e,eri:m,eci:g}=this;let f=da(e,_);return this.multiple()&&(f=`${f}:${da(g,m)}`),f}clone(){const{sri:_,sci:e,eri:m,eci:g,w:f,h:u}=this;return new Pi(_,e,m,g,f,u)}equals(_){return this.eri===_.eri&&this.eci===_.eci&&this.sri===_.sri&&this.sci===_.sci}static valueOf(_){const e=_.split(":"),[m,g]=Wa(e[0]);let[f,u]=[g,m];return e.length>1&&([u,f]=Wa(e[1])),new Pi(g,m,f,u)}}let Ov=class{constructor(){this.range=new Pi(0,0,0,0),this.ri=0,this.ci=0}multiple(){return this.range.multiple()}setIndexes(_,e){this.ri=_,this.ci=e}size(){return this.range.size()}};class Nv{constructor(){this.x=0,this.y=0,this.ri=0,this.ci=0}}class Fv{constructor(){this.undoItems=[],this.redoItems=[]}add(_){this.undoItems.push(JSON.stringify(_)),this.redoItems=[]}canUndo(){return this.undoItems.length>0}canRedo(){return this.redoItems.length>0}undo(_,e){const{undoItems:m,redoItems:g}=this;this.canUndo()&&(g.push(JSON.stringify(_)),e(JSON.parse(m.pop())))}redo(_,e){const{undoItems:m,redoItems:g}=this;this.canRedo()&&(m.push(JSON.stringify(_)),e(JSON.parse(g.pop())))}}class Bv{constructor(){this.range=null,this.state="clear"}copy(_){return this.range=_,this.state="copy",this}cut(_){return this.range=_,this.state="cut",this}isCopy(){return this.state==="copy"}isCut(){return this.state==="cut"}isClear(){return this.state==="clear"}clear(){this.range=null,this.state="clear"}}class Iu{constructor(_,e,m){this.ci=_,this.operator=e,this.value=m}set(_,e){this.operator=_,this.value=e}includes(_){const{operator:e,value:m}=this;return e==="all"?!0:e==="in"?m.includes(_):!1}vlength(){const{operator:_,value:e}=this;return _==="in"?e.length:0}getData(){const{ci:_,operator:e,value:m}=this;return{ci:_,operator:e,value:m}}}class Mu{constructor(_,e){this.ci=_,this.order=e}asc(){return this.order==="asc"}desc(){return this.order==="desc"}}class Uv{constructor(){this.ref=null,this.filters=[],this.sort=null}setData({ref:_,filters:e,sort:m}){_!=null&&(this.ref=_,this.filters=e.map(g=>new Iu(g.ci,g.operator,g.value)),m&&(this.sort=new Mu(m.ci,m.order)))}getData(){if(this.active()){const{ref:_,filters:e,sort:m}=this;return{ref:_,filters:e.map(g=>g.getData()),sort:m}}return{}}addFilter(_,e,m){const g=this.getFilter(_);g==null?this.filters.push(new Iu(_,e,m)):g.set(e,m)}setSort(_,e){this.sort=e?new Mu(_,e):null}includes(_,e){return this.active()?this.hrange().includes(_,e):!1}getSort(_){const{sort:e}=this;return e&&e.ci===_?e:null}getFilter(_){const{filters:e}=this;for(let m=0;m<e.length;m+=1)if(e[m].ci===_)return e[m];return null}filteredRows(_){const e=new Set,m=new Set;if(this.active()){const{sri:g,eri:f}=this.range(),{filters:u}=this;for(let h=g+1;h<=f;h+=1)for(let s=0;s<u.length;s+=1){const t=u[s],i=_(h,t.ci),r=i?i.text:"";if(t.includes(r))m.add(h);else{e.add(h);break}}}return{rset:e,fset:m}}items(_,e){const m={};if(this.active()){const{sri:g,eri:f}=this.range();for(let u=g+1;u<=f;u+=1){const h=e(u,_);if(h!==null&&!/^\s*$/.test(h.text)){const s=h.text,t=(m[s]||0)+1;m[s]=t}else m[""]=(m[""]||0)+1}}return m}range(){return Pi.valueOf(this.ref)}hrange(){const _=this.range();return _.eri=_.sri,_}clear(){this.ref=null,this.filters=[],this.sort=null}active(){return this.ref!==null}}class df{constructor(_=[]){this._=_}forEach(_){this._.forEach(_)}deleteWithin(_){this._=this._.filter(e=>!e.within(_))}getFirstIncludes(_,e){for(let m=0;m<this._.length;m+=1){const g=this._[m];if(g.includes(_,e))return g}return null}filterIntersects(_){return new df(this._.filter(e=>e.intersects(_)))}intersects(_){for(let e=0;e<this._.length;e+=1)if(this._[e].intersects(_))return!0;return!1}union(_){let e=_;return this._.forEach(m=>{m.intersects(e)&&(e=m.union(e))}),e}add(_){this.deleteWithin(_),this._.push(_)}shift(_,e,m,g){this._.forEach(f=>{const{sri:u,sci:h,eri:s,eci:t}=f,i=f;_==="row"?u>=e?(i.sri+=m,i.eri+=m):u<e&&e<=s&&(i.eri+=m,g(u,h,m,0)):_==="column"&&(h>=e?(i.sci+=m,i.eci+=m):h<e&&e<=t&&(i.eci+=m,g(u,h,0,m)))})}move(_,e,m){this._.forEach(g=>{const f=g;f.within(_)&&(f.eri+=e,f.sri+=e,f.sci+=m,f.eci+=m)})}setData(_){return this._=_.map(e=>Pi.valueOf(e)),this}getData(){return this._.map(_=>_.toString())}}function jv(K){return JSON.parse(JSON.stringify(K))}const Td=(K={},..._)=>(_.forEach(e=>{Object.keys(e).forEach(m=>{const g=e[m];typeof g=="string"||typeof g=="number"||typeof g=="boolean"?K[m]=g:typeof g!="function"&&!Array.isArray(g)&&g instanceof Object?(K[m]=K[m]||{},Td(K[m],g)):K[m]=g})}),K);function rf(K,_){const e=Object.keys(K);if(e.length!==Object.keys(_).length)return!1;for(let m=0;m<e.length;m+=1){const g=e[m],f=K[g],u=_[g];if(u===void 0)return!1;if(typeof f=="string"||typeof f=="number"||typeof f=="boolean"){if(f!==u)return!1}else if(Array.isArray(f)){if(f.length!==u.length)return!1;for(let h=0;h<f.length;h+=1)if(!rf(f[h],u[h]))return!1}else if(typeof f!="function"&&!Array.isArray(f)&&f instanceof Object&&!rf(f,u))return!1}return!0}const zv=(K,_=e=>e)=>{let e=0,m=0;return Object.keys(K).forEach(g=>{e+=_(K[g],g),m+=1}),[e,m]};function Hv(K,_){const e=K[`${_}`];return delete K[`${_}`],e}function $v(K,_,e,m,g,f){let u=e,h=m,s=K;for(;s<_&&!(u>g);s+=1)h=f(s),u+=h;return[s,u-h,h]}function Wv(K,_,e){let m=0;for(let g=K;g<_;g+=1)m+=e(g);return m}function Vv(K,_,e){for(let m=K;m<_;m+=1)e(m)}function Xv(K,_){if(K.length===_.length){for(let e=0;e<K.length;e+=1)if(K[e]!==_[e])return!1}else return!1;return!0}function Kh(K){const _=`${K}`;let e=0,m=!1;for(let g=0;g<_.length;g+=1)m===!0&&(e+=1),_.charAt(g)==="."&&(m=!0);return e}function fo(K,_,e){if(Number.isNaN(_)||Number.isNaN(e))return _+K+e;const m=Kh(_),g=Kh(e),f=Number(_),u=Number(e);let h=0;if(K==="-")h=f-u;else if(K==="+")h=f+u;else if(K==="*")h=f*u;else if(K==="/")return h=f/u,Kh(h)>5?h.toFixed(2):h;return h.toFixed(Math.max(m,g))}const In={cloneDeep:jv,merge:(...K)=>Td({},...K),equals:rf,arrayEquals:Xv,sum:zv,rangeEach:Vv,rangeSum:Wv,rangeReduceIf:$v,deleteProperty:Hv,numberCalc:fo};class Gv{constructor({len:_,height:e}){this._={},this.len=_,this.height=e}getHeight(_){if(this.isHide(_))return 0;const e=this.get(_);return e&&e.height?e.height:this.height}setHeight(_,e){const m=this.getOrNew(_);m.height=e}unhide(_){let e=_;for(;e>0&&(e-=1,this.isHide(e));)this.setHide(e,!1)}isHide(_){const e=this.get(_);return e&&e.hide}setHide(_,e){const m=this.getOrNew(_);e===!0?m.hide=!0:delete m.hide}setStyle(_,e){const m=this.getOrNew(_);m.style=e}sumHeight(_,e,m){return In.rangeSum(_,e,g=>m&&m.has(g)?0:this.getHeight(g))}totalHeight(){return this.sumHeight(0,this.len)}get(_){return this._[_]}getOrNew(_){return this._[_]=this._[_]||{cells:{}},this._[_]}getCell(_,e){const m=this.get(_);return m!==void 0&&m.cells!==void 0&&m.cells[e]!==void 0?m.cells[e]:null}getCellMerge(_,e){const m=this.getCell(_,e);return m&&m.merge?m.merge:[0,0]}getCellOrNew(_,e){const m=this.getOrNew(_);return m.cells[e]=m.cells[e]||{},m.cells[e]}setCell(_,e,m,g="all"){const f=this.getOrNew(_);g==="all"?f.cells[e]=m:g==="text"?(f.cells[e]=f.cells[e]||{},f.cells[e].text=m.text):g==="format"&&(f.cells[e]=f.cells[e]||{},f.cells[e].style=m.style,m.merge&&(f.cells[e].merge=m.merge))}setCellText(_,e,m){const g=this.getCellOrNew(_,e);g.editable!==!1&&(g.text=m)}copyPaste(_,e,m,g=!1,f=()=>{}){const{sri:u,sci:h,eri:s,eci:t}=_,i=e.sri,r=e.sci,n=e.eri,l=e.eci,[d,a]=_.size(),[v,y]=e.size();let p=!0,E=0;(n<u||l<h)&&(p=!1,n<u?E=v:E=y);for(let T=u;T<=s;T+=1)if(this._[T]){for(let S=h;S<=t;S+=1)if(this._[T].cells&&this._[T].cells[S])for(let A=i;A<=n;A+=d)for(let w=r;w<=l;w+=a){const I=A+(T-u),D=w+(S-h),V=In.cloneDeep(this._[T].cells[S]);if(g&&V&&V.text&&V.text.length>0){const{text:ie}=V;let te=w-r+(A-i)+2;if(p||(te-=E+1),ie[0]==="=")V.text=ie.replace(/[a-zA-Z]{1,3}\d+/g,re=>{let[Z,W]=[0,0];return u===i?Z=te-1:W=te-1,/^\d+$/.test(re)?re:wl(re,Z,W)});else if(d<=1&&a>1&&(i>s||n<u)||a<=1&&d>1&&(r>t||l<h)||d<=1&&a<=1){const re=/[\\.\d]+$/.exec(ie);if(re!==null){const Z=Number(re[0])+te-1;V.text=ie.substring(0,re.index)+Z}}}this.setCell(I,D,V,m),f(I,D,V)}}}cutPaste(_,e){const m={};this.each(g=>{this.eachCells(g,f=>{let u=parseInt(g,10),h=parseInt(f,10);_.includes(g,f)&&(u=e.sri+(u-_.sri),h=e.sci+(h-_.sci)),m[u]=m[u]||{cells:{}},m[u].cells[h]=this._[g].cells[f]})}),this._=m}paste(_,e){if(_.length<=0)return;const{sri:m,sci:g}=e;_.forEach((f,u)=>{const h=m+u;f.forEach((s,t)=>{const i=g+t;this.setCellText(h,i,s)})})}insert(_,e=1){const m={};this.each((g,f)=>{let u=parseInt(g,10);u>=_&&(u+=e,this.eachCells(g,(h,s)=>{s.text&&s.text[0]==="="&&(s.text=s.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>wl(t,0,e,(i,r)=>r>=_)))})),m[u]=f}),this._=m,this.len+=e}delete(_,e){const m=e-_+1,g={};this.each((f,u)=>{const h=parseInt(f,10);h<_?g[h]=u:f>e&&(g[h-m]=u,this.eachCells(f,(s,t)=>{t.text&&t.text[0]==="="&&(t.text=t.text.replace(/[a-zA-Z]{1,3}\d+/g,i=>wl(i,0,-m,(r,n)=>n>e)))}))}),this._=g,this.len-=m}insertColumn(_,e=1){this.each((m,g)=>{const f={};this.eachCells(m,(u,h)=>{let s=parseInt(u,10);s>=_&&(s+=e,h.text&&h.text[0]==="="&&(h.text=h.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>wl(t,e,0,i=>i>=_)))),f[s]=h}),g.cells=f})}deleteColumn(_,e){const m=e-_+1;this.each((g,f)=>{const u={};this.eachCells(g,(h,s)=>{const t=parseInt(h,10);t<_?u[t]=s:t>e&&(u[t-m]=s,s.text&&s.text[0]==="="&&(s.text=s.text.replace(/[a-zA-Z]{1,3}\d+/g,i=>wl(i,-m,0,r=>r>e))))}),f.cells=u})}deleteCells(_,e="all"){_.each((m,g)=>{this.deleteCell(m,g,e)})}deleteCell(_,e,m="all"){const g=this.get(_);if(g!==null){const f=this.getCell(_,e);f!==null&&f.editable!==!1&&(m==="all"?delete g.cells[e]:m==="text"?(f.text&&delete f.text,f.value&&delete f.value):m==="format"?(f.style!==void 0&&delete f.style,f.merge&&delete f.merge):m==="merge"&&f.merge&&delete f.merge)}}maxCell(){const _=Object.keys(this._),e=_[_.length-1],m=this._[e];if(m){const{cells:g}=m,f=Object.keys(g),u=f[f.length-1];return[parseInt(e,10),parseInt(u,10)]}return[0,0]}each(_){Object.entries(this._).forEach(([e,m])=>{_(e,m)})}eachCells(_,e){this._[_]&&this._[_].cells&&Object.entries(this._[_].cells).forEach(([m,g])=>{e(m,g)})}setData(_){_.len&&(this.len=_.len,delete _.len),this._=_}getData(){const{len:_}=this;return Object.assign({len:_},this._)}}class Kv{constructor({len:_,width:e,indexWidth:m,minWidth:g}){this._={},this.len=_,this.width=e,this.indexWidth=m,this.minWidth=g}setData(_){_.len&&(this.len=_.len,delete _.len),this._=_}getData(){const{len:_}=this;return Object.assign({len:_},this._)}getWidth(_){if(this.isHide(_))return 0;const e=this._[_];return e&&e.width?e.width:this.width}getOrNew(_){return this._[_]=this._[_]||{},this._[_]}setWidth(_,e){const m=this.getOrNew(_);m.width=e}unhide(_){let e=_;for(;e>0&&(e-=1,this.isHide(e));)this.setHide(e,!1)}isHide(_){const e=this._[_];return e&&e.hide}setHide(_,e){const m=this.getOrNew(_);e===!0?m.hide=!0:delete m.hide}setStyle(_,e){const m=this.getOrNew(_);m.style=e}sumWidth(_,e){return In.rangeSum(_,e,m=>this.getWidth(m))}totalWidth(){return this.sumWidth(0,this.len)}}const Yv={toolbar:{undo:"Undo",redo:"Redo",print:"Print",paintformat:"Paint format",clearformat:"Clear format",format:"Format",fontName:"Font",fontSize:"Font size",fontBold:"Font bold",fontItalic:"Font italic",underline:"Underline",strike:"Strike",color:"Text color",bgcolor:"Fill color",border:"Borders",merge:"Merge cells",align:"Horizontal align",valign:"Vertical align",textwrap:"Text wrapping",freeze:"Freeze cell",autofilter:"Filter",formula:"Functions",more:"More"},contextmenu:{copy:"Copy",cut:"Cut",paste:"Paste",pasteValue:"Paste values only",pasteFormat:"Paste format only",hide:"Hide",insertRow:"Insert row",insertColumn:"Insert column",deleteSheet:"Delete",deleteRow:"Delete row",deleteColumn:"Delete column",deleteCell:"Delete cell",deleteCellText:"Delete cell text",validation:"Data validations",cellprintable:"Enable export",cellnonprintable:"Disable export",celleditable:"Enable editing",cellnoneditable:"Disable editing"},print:{size:"Paper size",orientation:"Page orientation",orientations:["Landscape","Portrait"]},format:{normal:"Normal",text:"Plain Text",number:"Number",percent:"Percent",rmb:"RMB",usd:"USD",eur:"EUR",date:"Date",time:"Time",datetime:"Date time",duration:"Duration"},formula:{sum:"Sum",average:"Average",max:"Max",min:"Min",_if:"IF",and:"AND",or:"OR",concat:"Concat"},validation:{required:"it must be required",notMatch:"it not match its validation rule",between:"it is between {} and {}",notBetween:"it is not between {} and {}",notIn:"it is not in list",equal:"it equal to {}",notEqual:"it not equal to {}",lessThan:"it less than {}",lessThanEqual:"it less than or equal to {}",greaterThan:"it greater than {}",greaterThanEqual:"it greater than or equal to {}"},error:{pasteForMergedCell:"Unable to do this for merged cells"},calendar:{weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},button:{next:"Next",cancel:"Cancel",remove:"Remove",save:"Save",ok:"OK"},sort:{desc:"Sort Z -> A",asc:"Sort A -> Z"},filter:{empty:"empty"},dataValidation:{mode:"Mode",range:"Cell Range",criteria:"Criteria",modeType:{cell:"Cell",column:"Colun",row:"Row"},type:{list:"List",number:"Number",date:"Date",phone:"Phone",email:"Email"},operator:{be:"between",nbe:"not betwwen",lt:"less than",lte:"less than or equal to",gt:"greater than",gte:"greater than or equal to",eq:"equal to",neq:"not equal to"}}};let nf=["en"];const Sd={en:Yv};function Pu(K,_){if(_)for(const e of nf){if(!_[e])break;let m=_[e];const g=K.match(/(?:\\.|[^.])+/g);for(let f=0;f<g.length;f+=1){const u=g[f],h=m[u];if(!h)break;if(f===g.length-1)return h;m=h}}}function Ni(K){let _=Pu(K,Sd);return!_&&window&&window.x_spreadsheet&&window.x_spreadsheet.$messages&&(_=Pu(K,window.x_spreadsheet.$messages)),_||""}function zr(K){return()=>Ni(K)}function Ad(K,_,e=!1){e?nf=[K]:nf.unshift(K),_&&(Sd[K]=_)}const Du={phone:/^[1-9]\d{10}$/,email:/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/};function ds(K,_,...e){let m="";return K||(m=Ni(`validation.${_}`,...e)),[K,m]}class kd{constructor(_,e,m,g){this.required=e,this.value=m,this.type=_,this.operator=g,this.message=""}parseValue(_){const{type:e}=this;return e==="date"?new Date(_):e==="number"?Number(_):_}equals(_){let e=this.type===_.type&&this.required===_.required&&this.operator===_.operator;return e&&(Array.isArray(this.value)?e=In.arrayEquals(this.value,_.value):e=this.value===_.value),e}values(){return this.value.split(",")}validate(_){const{required:e,operator:m,value:g,type:f}=this;if(e&&/^\s*$/.test(_))return ds(!1,"required");if(/^\s*$/.test(_))return[!0];if(Du[f]&&!Du[f].test(_))return ds(!1,"notMatch");if(f==="list")return ds(this.values().includes(_),"notIn");if(m){const u=this.parseValue(_);if(m==="be"){const[h,s]=g;return ds(u>=this.parseValue(h)&&u<=this.parseValue(s),"between",h,s)}if(m==="nbe"){const[h,s]=g;return ds(u<this.parseValue(h)||u>this.parseValue(s),"notBetween",h,s)}if(m==="eq")return ds(u===this.parseValue(g),"equal",g);if(m==="neq")return ds(u!==this.parseValue(g),"notEqual",g);if(m==="lt")return ds(u<this.parseValue(g),"lessThan",g);if(m==="lte")return ds(u<=this.parseValue(g),"lessThanEqual",g);if(m==="gt")return ds(u>this.parseValue(g),"greaterThan",g);if(m==="gte")return ds(u>=this.parseValue(g),"greaterThanEqual",g)}return[!0]}}class Nc{constructor(_,e,m){this.refs=e,this.mode=_,this.validator=m}includes(_,e){const{refs:m}=this;for(let g=0;g<m.length;g+=1)if(Pi.valueOf(m[g]).includes(_,e))return!0;return!1}addRef(_){this.remove(Pi.valueOf(_)),this.refs.push(_)}remove(_){const e=[];this.refs.forEach(m=>{const g=Pi.valueOf(m);g.intersects(_)?g.difference(_).forEach(u=>e.push(u.toString())):e.push(m)}),this.refs=e}getData(){const{refs:_,mode:e,validator:m}=this,{type:g,required:f,operator:u,value:h}=m;return{refs:_,mode:e,type:g,required:f,operator:u,value:h}}static valueOf({refs:_,mode:e,type:m,required:g,operator:f,value:u}){return new Nc(e,_,new kd(m,g,u,f))}}class Zv{constructor(){this._=[],this.errors=new Map}getError(_,e){return this.errors.get(`${_}_${e}`)}validate(_,e,m){const g=this.get(_,e),f=`${_}_${e}`,{errors:u}=this;if(g!==null){const[h,s]=g.validator.validate(m);h?u.delete(f):u.set(f,s)}else u.delete(f);return!0}add(_,e,{type:m,required:g,value:f,operator:u}){const h=new kd(m,g,f,u),s=this.getByValidator(h);s!==null?s.addRef(e):this._.push(new Nc(_,[e],h))}getByValidator(_){for(let e=0;e<this._.length;e+=1){const m=this._[e];if(m.validator.equals(_))return m}return null}get(_,e){for(let m=0;m<this._.length;m+=1){const g=this._[m];if(g.includes(_,e))return g}return null}remove(_){this.each(e=>{e.remove(_)})}each(_){this._.forEach(e=>_(e))}getData(){return this._.filter(_=>_.refs.length>0).map(_=>_.getData())}setData(_){this._=_.map(e=>Nc.valueOf(e))}}const Qv={mode:"edit",view:{height:()=>document.documentElement.clientHeight,width:()=>document.documentElement.clientWidth},showGrid:!0,showToolbar:!0,showContextmenu:!0,showBottomBar:!0,row:{len:100,height:25},col:{len:26,width:100,indexWidth:60,minWidth:60},style:{bgcolor:"#ffffff",align:"left",valign:"middle",textwrap:!1,strike:!1,underline:!1,color:"#0a0a0a",font:{name:"Arial",size:10,bold:!1,italic:!1},format:"normal"}},Jv=41,qv=41,Lu=(K,_)=>Object.prototype.hasOwnProperty.call(K,_);function Ou(K,_,e=()=>{}){const{merges:m}=this,g=_.clone(),[f,u]=K.size(),[h,s]=_.size();return f>h&&(g.eri=_.sri+f-1),u>s&&(g.eci=_.sci+u-1),m.intersects(g)?(e(Ni("error.pasteForMergedCell")),!1):!0}function Nu(K,_,e,m=!1){const{rows:g,merges:f}=this;(e==="all"||e==="format")&&(g.deleteCells(_,e),f.deleteWithin(_)),g.copyPaste(K,_,e,m,(u,h,s)=>{if(s&&s.merge){const[t,i]=s.merge;if(t<=0&&i<=0)return;f.add(new Pi(u,h,u+t,h+i))}})}function eb(K,_){const{clipboard:e,rows:m,merges:g}=this;m.cutPaste(K,_),g.move(K,_.sri-K.sri,_.sci-K.sci),e.clear()}function Uo(K,_,e){const{styles:m,rows:g}=this,f=g.getCellOrNew(K,_);let u={};f.style!==void 0&&(u=In.cloneDeep(m[f.style])),u=In.merge(u,{border:e}),f.style=this.addStyle(u)}function tb({mode:K,style:_,color:e}){const{styles:m,selector:g,rows:f}=this,{sri:u,sci:h,eri:s,eci:t}=g.range,i=!this.isSignleSelected();if(!(!i&&(K==="inside"||K==="horizontal"||K==="vertical"))){if(K==="outside"&&!i)Uo.call(this,u,h,{top:[_,e],bottom:[_,e],left:[_,e],right:[_,e]});else if(K==="none")g.range.each((r,n)=>{const l=f.getCell(r,n);if(l&&l.style!==void 0){const d=In.cloneDeep(m[l.style]);delete d.border,l.style=this.addStyle(d)}});else if(K==="all"||K==="inside"||K==="outside"||K==="horizontal"||K==="vertical"){const r=[];for(let n=u;n<=s;n+=1)for(let l=h;l<=t;l+=1){const d=[];for(let S=0;S<r.length;S+=1){const[A,w,I,D]=r[S];if(n===A+I+1&&d.push(S),A<=n&&n<=A+I&&l===w){l+=D+1;break}}if(d.forEach(S=>r.splice(S,1)),l>t)break;const a=f.getCell(n,l);let[v,y]=[0,0];a&&a.merge&&([v,y]=a.merge,r.push([n,l,v,y]));const p=v>0&&n+v===s,E=y>0&&l+y===t;let T={};K==="all"?T={bottom:[_,e],top:[_,e],left:[_,e],right:[_,e]}:K==="inside"?(!E&&l<t&&(T.right=[_,e]),!p&&n<s&&(T.bottom=[_,e])):K==="horizontal"?!p&&n<s&&(T.bottom=[_,e]):K==="vertical"?!E&&l<t&&(T.right=[_,e]):K==="outside"&&i&&(u===n&&(T.top=[_,e]),(p||s===n)&&(T.bottom=[_,e]),h===l&&(T.left=[_,e]),(E||t===l)&&(T.right=[_,e])),Object.keys(T).length>0&&Uo.call(this,n,l,T),l+=y}}else if(K==="top"||K==="bottom")for(let r=h;r<=t;r+=1)K==="top"&&(Uo.call(this,u,r,{top:[_,e]}),r+=f.getCellMerge(u,r)[1]),K==="bottom"&&(Uo.call(this,s,r,{bottom:[_,e]}),r+=f.getCellMerge(s,r)[1]);else if(K==="left"||K==="right")for(let r=u;r<=s;r+=1)K==="left"&&(Uo.call(this,r,h,{left:[_,e]}),r+=f.getCellMerge(r,h)[0]),K==="right"&&(Uo.call(this,r,t,{right:[_,e]}),r+=f.getCellMerge(r,t)[0])}}function rb(K,_){const{rows:e}=this,m=this.freezeTotalHeight();let g=e.height;m+e.height<K&&(g-=_);const f=this.exceptRowSet;let u=0,h=g,{height:s}=e;for(;u<e.len&&!(h>K);u+=1)f.has(u)||(s=e.getHeight(u),h+=s);return h-=s,h<=0?{ri:-1,top:0,height:s}:{ri:u-1,top:h,height:s}}function ib(K,_){const{cols:e}=this,m=this.freezeTotalWidth();let g=e.indexWidth;m+e.indexWidth<K&&(g-=_);const[f,u,h]=In.rangeReduceIf(0,e.len,g,e.indexWidth,K,s=>e.getWidth(s));return u<=0?{ci:-1,left:0,width:e.indexWidth}:{ci:f-1,left:u,width:h}}class nb{constructor(_,e){this.settings=In.merge(Qv,e||{}),this.name=_||"sheet",this.freeze=[0,0],this.styles=[],this.merges=new df,this.rows=new Gv(this.settings.row),this.cols=new Kv(this.settings.col),this.validations=new Zv,this.hyperlinks={},this.comments={},this.selector=new Ov,this.scroll=new Nv,this.history=new Fv,this.clipboard=new Bv,this.autoFilter=new Uv,this.change=()=>{},this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map}addValidation(_,e,m){this.changeData(()=>{this.validations.add(_,e,m)})}removeValidation(){const{range:_}=this.selector;this.changeData(()=>{this.validations.remove(_)})}getSelectedValidator(){const{ri:_,ci:e}=this.selector,m=this.validations.get(_,e);return m?m.validator:null}getSelectedValidation(){const{ri:_,ci:e,range:m}=this.selector,g=this.validations.get(_,e),f={ref:m.toString()};return g!==null&&(f.mode=g.mode,f.validator=g.validator),f}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}undo(){this.history.undo(this.getData(),_=>{this.setData(_)})}redo(){this.history.redo(this.getData(),_=>{this.setData(_)})}copy(){this.clipboard.copy(this.selector.range)}copyToSystemClipboard(){if(navigator.clipboard===void 0)return;let _="";const e=this.rows.getData();for(let m=this.selector.range.sri;m<=this.selector.range.eri;m+=1){if(Lu(e,m)){for(let g=this.selector.range.sci;g<=this.selector.range.eci;g+=1)if(g>this.selector.range.sci&&(_+="	"),Lu(e[m].cells,g)){const f=String(e[m].cells[g].text);f.indexOf(`
`)===-1&&f.indexOf("	")===-1&&f.indexOf('"')===-1?_+=f:_+=`"${f}"`}}else for(let g=this.selector.range.sci;g<=this.selector.range.eci;g+=1)_+="	";_+=`
`}navigator.clipboard.writeText(_).then(()=>{},m=>{})}cut(){this.clipboard.cut(this.selector.range)}paste(_="all",e=()=>{}){const{clipboard:m,selector:g}=this;return m.isClear()||!Ou.call(this,m.range,g.range,e)?!1:(this.changeData(()=>{m.isCopy()?Nu.call(this,m.range,g.range,_):m.isCut()&&eb.call(this,m.range,g.range)}),!0)}pasteFromText(_){const e=_.split(`\r
`).map(f=>f.replace(/"/g,"").split("	"));e.length>0&&(e.length-=1);const{rows:m,selector:g}=this;this.changeData(()=>{m.paste(e,g.range)})}autofill(_,e,m=()=>{}){const g=this.selector.range;return Ou.call(this,g,_,m)?(this.changeData(()=>{Nu.call(this,g,_,e,!0)}),!0):!1}clearClipboard(){this.clipboard.clear()}calSelectedRangeByEnd(_,e){const{selector:m,rows:g,cols:f,merges:u}=this;let{sri:h,sci:s,eri:t,eci:i}=m.range;const r=m.ri,n=m.ci;let[l,d]=[_,e];return _<0&&(l=g.len-1),e<0&&(d=f.len-1),l>r?[h,t]=[r,l]:[h,t]=[l,r],d>n?[s,i]=[n,d]:[s,i]=[d,n],m.range=u.union(new Pi(h,s,t,i)),m.range=u.union(m.range),m.range}calSelectedRangeByStart(_,e){const{selector:m,rows:g,cols:f,merges:u}=this;let h=u.getFirstIncludes(_,e);return h===null&&(h=new Pi(_,e,_,e),_===-1&&(h.sri=0,h.eri=g.len-1),e===-1&&(h.sci=0,h.eci=f.len-1)),m.range=h,h}setSelectedCellAttr(_,e){this.changeData(()=>{const{selector:m,styles:g,rows:f}=this;if(_==="merge")e?this.merge():this.unmerge();else if(_==="border")tb.call(this,e);else if(_==="formula"){const{ri:u,ci:h,range:s}=m;if(m.multiple()){const[t,i]=m.size(),{sri:r,sci:n,eri:l,eci:d}=s;if(t>1)for(let a=n;a<=d;a+=1){const v=f.getCellOrNew(l+1,a);v.text=`=${e}(${da(a,r)}:${da(a,l)})`}else if(i>1){const a=f.getCellOrNew(u,d+1);a.text=`=${e}(${da(n,u)}:${da(d,u)})`}}else{const t=f.getCellOrNew(u,h);t.text=`=${e}()`}}else m.range.each((u,h)=>{const s=f.getCellOrNew(u,h);let t={};if(s.style!==void 0&&(t=In.cloneDeep(g[s.style])),_==="format")t.format=e,s.style=this.addStyle(t);else if(_==="font-bold"||_==="font-italic"||_==="font-name"||_==="font-size"){const i={};i[_.split("-")[1]]=e,t.font=Object.assign(t.font||{},i),s.style=this.addStyle(t)}else _==="strike"||_==="textwrap"||_==="underline"||_==="align"||_==="valign"||_==="color"||_==="bgcolor"?(t[_]=e,s.style=this.addStyle(t)):s[_]=e})})}setSelectedCellText(_,e="input"){const{autoFilter:m,selector:g,rows:f}=this,{ri:u,ci:h}=g;let s=u;this.unsortedRowMap.has(u)&&(s=this.unsortedRowMap.get(u));const t=f.getCell(s,h),i=t?t.text:"";if(this.setCellText(s,h,_,e),m.active()){const r=m.getFilter(h);if(r){const n=r.value.findIndex(l=>l===i);n>=0&&r.value.splice(n,1,_)}}}getSelectedCell(){const{ri:_,ci:e}=this.selector;let m=_;return this.unsortedRowMap.has(_)&&(m=this.unsortedRowMap.get(_)),this.rows.getCell(m,e)}xyInSelectedRect(_,e){const{left:m,top:g,width:f,height:u}=this.getSelectedRect(),h=_-this.cols.indexWidth,s=e-this.rows.height;return h>m&&h<m+f&&s>g&&s<g+u}getSelectedRect(){return this.getRect(this.selector.range)}getClipboardRect(){const{clipboard:_}=this;return _.isClear()?{left:-100,top:-100}:this.getRect(_.range)}getRect(_){const{scroll:e,rows:m,cols:g,exceptRowSet:f}=this,{sri:u,sci:h,eri:s,eci:t}=_;if(u<0&&h<0)return{left:0,l:0,top:0,t:0,scroll:e};const i=g.sumWidth(0,h),r=m.sumHeight(0,u,f),n=m.sumHeight(u,s+1,f),l=g.sumWidth(h,t+1);let d=i-e.x,a=r-e.y;const v=this.freezeTotalHeight(),y=this.freezeTotalWidth();return y>0&&y>i&&(d=i),v>0&&v>r&&(a=r),{l:i,t:r,left:d,top:a,height:n,width:l,scroll:e}}getCellRectByXY(_,e){const{scroll:m,merges:g,rows:f,cols:u}=this;let{ri:h,top:s,height:t}=rb.call(this,e,m.y),{ci:i,left:r,width:n}=ib.call(this,_,m.x);if(i===-1&&(n=u.totalWidth()),h===-1&&(t=f.totalHeight()),h>=0||i>=0){const l=g.getFirstIncludes(h,i);l&&(h=l.sri,i=l.sci,{left:r,top:s,width:n,height:t}=this.cellRect(h,i))}return{ri:h,ci:i,left:r,top:s,width:n,height:t}}isSignleSelected(){const{sri:_,sci:e,eri:m,eci:g}=this.selector.range,f=this.getCell(_,e);if(f&&f.merge){const[u,h]=f.merge;if(_+u===m&&e+h===g)return!0}return!this.selector.multiple()}canUnmerge(){const{sri:_,sci:e,eri:m,eci:g}=this.selector.range,f=this.getCell(_,e);if(f&&f.merge){const[u,h]=f.merge;if(_+u===m&&e+h===g)return!0}return!1}merge(){const{selector:_,rows:e}=this;if(this.isSignleSelected())return;const[m,g]=_.size();if(m>1||g>1){const{sri:f,sci:u}=_.range;this.changeData(()=>{const h=e.getCellOrNew(f,u);h.merge=[m-1,g-1],this.merges.add(_.range),this.rows.deleteCells(_.range),this.rows.setCell(f,u,h)})}}unmerge(){const{selector:_}=this;if(!this.isSignleSelected())return;const{sri:e,sci:m}=_.range;this.changeData(()=>{this.rows.deleteCell(e,m,"merge"),this.merges.deleteWithin(_.range)})}canAutofilter(){return!this.autoFilter.active()}autofilter(){const{autoFilter:_,selector:e}=this;this.changeData(()=>{_.active()?(_.clear(),this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map):_.ref=e.range.toString()})}setAutoFilter(_,e,m,g){const{autoFilter:f}=this;f.addFilter(_,m,g),f.setSort(_,e),this.resetAutoFilter()}resetAutoFilter(){const{autoFilter:_,rows:e}=this;if(!_.active())return;const{sort:m}=_,{rset:g,fset:f}=_.filteredRows((s,t)=>e.getCell(s,t)),u=Array.from(f),h=Array.from(f);m&&u.sort((s,t)=>m.order==="asc"?s-t:m.order==="desc"?t-s:0),this.exceptRowSet=g,this.sortedRowMap=new Map,this.unsortedRowMap=new Map,u.forEach((s,t)=>{this.sortedRowMap.set(h[t],s),this.unsortedRowMap.set(s,h[t])})}deleteCell(_="all"){const{selector:e}=this;this.changeData(()=>{this.rows.deleteCells(e.range,_),(_==="all"||_==="format")&&this.merges.deleteWithin(e.range)})}insert(_,e=1){this.changeData(()=>{const{sri:m,sci:g}=this.selector.range,{rows:f,merges:u,cols:h}=this;let s=m;_==="row"?f.insert(m,e):_==="column"&&(f.insertColumn(g,e),s=g,h.len+=1),u.shift(_,s,e,(t,i,r,n)=>{const l=f.getCell(t,i);l.merge[0]+=r,l.merge[1]+=n})})}delete(_){this.changeData(()=>{const{rows:e,merges:m,selector:g,cols:f}=this,{range:u}=g,{sri:h,sci:s,eri:t,eci:i}=g.range,[r,n]=g.range.size();let l=h,d=r;_==="row"?e.delete(h,t):_==="column"&&(e.deleteColumn(s,i),l=u.sci,d=n,f.len-=1),m.shift(_,l,-d,(a,v,y,p)=>{const E=e.getCell(a,v);E.merge[0]+=y,E.merge[1]+=p,E.merge[0]===0&&E.merge[1]===0&&delete E.merge})})}scrollx(_,e){const{scroll:m,freeze:g,cols:f}=this,[,u]=g,[h,s,t]=In.rangeReduceIf(u,f.len,0,0,_,r=>f.getWidth(r));let i=s;_>0&&(i+=t),m.x!==i&&(m.ci=_>0?h:0,m.x=i,e())}scrolly(_,e){const{scroll:m,freeze:g,rows:f}=this,[u]=g,[h,s,t]=In.rangeReduceIf(u,f.len,0,0,_,r=>f.getHeight(r));let i=s;_>0&&(i+=t),m.y!==i&&(m.ri=_>0?h:0,m.y=i,e())}cellRect(_,e){const{rows:m,cols:g}=this,f=g.sumWidth(0,e),u=m.sumHeight(0,_),h=m.getCell(_,e);let s=g.getWidth(e),t=m.getHeight(_);if(h!==null&&h.merge){const[i,r]=h.merge;if(i>0)for(let n=1;n<=i;n+=1)t+=m.getHeight(_+n);if(r>0)for(let n=1;n<=r;n+=1)s+=g.getWidth(e+n)}return{left:f,top:u,width:s,height:t,cell:h}}getCell(_,e){return this.rows.getCell(_,e)}getCellTextOrDefault(_,e){const m=this.getCell(_,e);return m&&m.text?m.text:""}getCellStyle(_,e){const m=this.getCell(_,e);return m&&m.style!==void 0?this.styles[m.style]:null}getCellStyleOrDefault(_,e){const{styles:m,rows:g}=this,f=g.getCell(_,e),u=f&&f.style!==void 0?m[f.style]:{};return In.merge(this.defaultStyle(),u)}getSelectedCellStyle(){const{ri:_,ci:e}=this.selector;return this.getCellStyleOrDefault(_,e)}setCellText(_,e,m,g){const{rows:f,history:u,validations:h}=this;g==="finished"?(f.setCellText(_,e,""),u.add(this.getData()),f.setCellText(_,e,m)):(f.setCellText(_,e,m),this.change(this.getData())),h.validate(_,e,m)}freezeIsActive(){const[_,e]=this.freeze;return _>0||e>0}setFreeze(_,e){this.changeData(()=>{this.freeze=[_,e]})}freezeTotalWidth(){return this.cols.sumWidth(0,this.freeze[1])}freezeTotalHeight(){return this.rows.sumHeight(0,this.freeze[0])}setRowHeight(_,e){this.changeData(()=>{this.rows.setHeight(_,e)})}setColWidth(_,e){this.changeData(()=>{this.cols.setWidth(_,e)})}viewHeight(){const{view:_,showToolbar:e,showBottomBar:m}=this.settings;let g=_.height();return m&&(g-=qv),e&&(g-=Jv),g}viewWidth(){return this.settings.view.width()}freezeViewRange(){const[_,e]=this.freeze;return new Pi(0,0,_-1,e-1,this.freezeTotalWidth(),this.freezeTotalHeight())}contentRange(){const{rows:_,cols:e}=this,[m,g]=_.maxCell(),f=_.sumHeight(0,m+1),u=e.sumWidth(0,g+1);return new Pi(0,0,m,g,u,f)}exceptRowTotalHeight(_,e){const{exceptRowSet:m,rows:g}=this,f=Array.from(m);let u=0;return f.forEach(h=>{if(h<_||h>e){const s=g.getHeight(h);u+=s}}),u}viewRange(){const{scroll:_,rows:e,cols:m,freeze:g,exceptRowSet:f}=this;let{ri:u,ci:h}=_;u<=0&&([u]=g),h<=0&&([,h]=g);let[s,t]=[0,0],[i,r]=[e.len,m.len];for(let n=u;n<e.len&&(f.has(n)||(t+=e.getHeight(n),i=n),!(t>this.viewHeight()));n+=1);for(let n=h;n<m.len&&(s+=m.getWidth(n),r=n,!(s>this.viewWidth()));n+=1);return new Pi(u,h,i,r,s,t)}eachMergesInView(_,e){this.merges.filterIntersects(_).forEach(m=>e(m))}hideRowsOrCols(){const{rows:_,cols:e,selector:m}=this,[g,f]=m.size(),{sri:u,sci:h,eri:s,eci:t}=m.range;if(g===_.len)for(let i=h;i<=t;i+=1)e.setHide(i,!0);else if(f===e.len)for(let i=u;i<=s;i+=1)_.setHide(i,!0)}unhideRowsOrCols(_,e){this[`${_}s`].unhide(e)}rowEach(_,e,m){let g=0;const{rows:f}=this,u=this.exceptRowSet,h=[...u];let s=0;for(let t=0;t<h.length;t+=1)h[t]<_&&(s+=1);for(let t=_+s;t<=e+s;t+=1)if(u.has(t))s+=1;else{const i=f.getHeight(t);if(i>0&&(m(t,g,i),g+=i,g>this.viewHeight()))break}}colEach(_,e,m){let g=0;const{cols:f}=this;for(let u=_;u<=e;u+=1){const h=f.getWidth(u);if(h>0&&(m(u,g,h),g+=h,g>this.viewWidth()))break}}defaultStyle(){return this.settings.style}addStyle(_){const{styles:e}=this;for(let m=0;m<e.length;m+=1){const g=e[m];if(In.equals(g,_))return m}return e.push(_),e.length-1}changeData(_){this.history.add(this.getData()),_(),this.change(this.getData())}setData(_){return Object.keys(_).forEach(e=>{if(e==="merges"||e==="rows"||e==="cols"||e==="validations")this[e].setData(_[e]);else if(e==="freeze"){const[m,g]=Wa(_[e]);this.freeze=[g,m]}else e==="autofilter"?this.autoFilter.setData(_[e]):_[e]!==void 0&&(this[e]=_[e])}),this}getData(){const{name:_,freeze:e,styles:m,merges:g,rows:f,cols:u,validations:h,autoFilter:s}=this;return{name:_,freeze:da(e[1],e[0]),styles:m,merges:g.getData(),rows:f.getData(),cols:u.getData(),validations:h.getData(),autofilter:s.getData()}}}function Pn(K,_,e){K.addEventListener(_,e)}function Fc(K,_,e){K.removeEventListener(_,e)}function Wo(K){K.xclickoutside&&(Fc(window.document.body,"click",K.xclickoutside),delete K.xclickoutside)}function Cl(K,_){K.xclickoutside=e=>{e.detail===2||K.contains(e.target)||(_?_(K):(K.hide(),Wo(K)))},Pn(window.document.body,"click",K.xclickoutside)}function Cd(K,_,e){Pn(K,"mousemove",_);const m=K;m.xEvtUp=g=>{Fc(K,"mousemove",_),Fc(K,"mouseup",K.xEvtUp),e(g)},Pn(K,"mouseup",K.xEvtUp)}function Fu(K,_,e,m){let g="";Math.abs(K)>Math.abs(_)?(g=K>0?"right":"left",m(g,K,e)):(g=_>0?"down":"up",m(g,_,e))}function sb(K,{move:_,end:e}){let m=0,g=0;Pn(K,"touchstart",f=>{const{pageX:u,pageY:h}=f.touches[0];m=u,g=h}),Pn(K,"touchmove",f=>{if(!_)return;const{pageX:u,pageY:h}=f.changedTouches[0],s=u-m,t=h-g;(Math.abs(s)>10||Math.abs(t)>10)&&(Fu(s,t,f,_),m=u,g=h),f.preventDefault()}),Pn(K,"touchend",f=>{if(!e)return;const{pageX:u,pageY:h}=f.changedTouches[0],s=u-m,t=h-g;Fu(s,t,f,e)})}function ab(){const K=new Map;function _(u,h){const s=()=>{const i=K.get(u);return Array.isArray(i)&&i.push(h)||!1},t=()=>K.set(u,[].concat(h));return K.has(u)&&s()||t()}function e(u,h){const s=()=>{const t=K.get(u);for(const i of t)i.call(null,...h)};return K.has(u)&&s()}function m(u,h){const s=()=>{const t=K.get(u),i=t.indexOf(h);return i>=0&&t.splice(i,1)&&K.get(u).length===0&&K.delete(u)};return K.has(u)&&s()}function g(u,h){const s=(...t)=>{h.call(null,...t),m(u,s)};return _(u,s)}function f(){K.clear()}return{get current(){return K},on:_,once:g,fire:e,removeListener:m,removeAllListeners:f}}const At="x-spreadsheet";class Bu{constructor(_=!1,e){this.moving=!1,this.vertical=_,this.el=ft("div",`${At}-resizer ${_?"vertical":"horizontal"}`).children(this.unhideHoverEl=ft("div",`${At}-resizer-hover`).on("dblclick.stop",m=>this.mousedblclickHandler(m)).css("position","absolute").hide(),this.hoverEl=ft("div",`${At}-resizer-hover`).on("mousedown.stop",m=>this.mousedownHandler(m)),this.lineEl=ft("div",`${At}-resizer-line`).hide()).hide(),this.cRect=null,this.finishedFn=null,this.minDistance=e,this.unhideFn=()=>{}}showUnhide(_){this.unhideIndex=_,this.unhideHoverEl.show()}hideUnhide(){this.unhideHoverEl.hide()}show(_,e){const{moving:m,vertical:g,hoverEl:f,lineEl:u,el:h,unhideHoverEl:s}=this;if(m)return;this.cRect=_;const{left:t,top:i,width:r,height:n}=_;h.offset({left:g?t+r-5:t,top:g?i:i+n-5}).show(),f.offset({width:g?5:r,height:g?n:5}),u.offset({width:g?0:e.width,height:g?e.height:0}),s.offset({left:g?5-r:t,top:g?i:5-n,width:g?5:r,height:g?n:5})}hide(){this.el.offset({left:0,top:0}).hide(),this.hideUnhide()}mousedblclickHandler(){this.unhideIndex&&this.unhideFn(this.unhideIndex)}mousedownHandler(_){let e=_;const{el:m,lineEl:g,cRect:f,vertical:u,minDistance:h}=this;let s=u?f.width:f.height;g.show(),Cd(window,t=>{this.moving=!0,e!==null&&t.buttons===1&&(u?(s+=t.movementX,s>h&&m.css("left",`${f.left+s}px`)):(s+=t.movementY,s>h&&m.css("top",`${f.top+s}px`)),e=t)},()=>{e=null,g.hide(),this.moving=!1,this.hide(),this.finishedFn&&(s<h&&(s=h),this.finishedFn(f,s))})}}class Uu{constructor(_){this.vertical=_,this.moveFn=null,this.el=ft("div",`${At}-scrollbar ${_?"vertical":"horizontal"}`).child(this.contentEl=ft("div","")).on("mousemove.stop",()=>{}).on("scroll.stop",e=>{const{scrollTop:m,scrollLeft:g}=e.target;this.moveFn&&this.moveFn(this.vertical?m:g,e)})}move(_){return this.el.scroll(_),this}scroll(){return this.el.scroll()}set(_,e){const m=_-1;if(e>m){const g=this.vertical?"height":"width";this.el.css(g,`${m-15}px`).show(),this.contentEl.css(this.vertical?"width":"height","1px").css(g,`${e}px`)}else this.el.hide();return this}}const Ec=2*2-1;let sf=10;class Tc{constructor(_=!1){this.useHideInput=_,this.inputChange=()=>{},this.cornerEl=ft("div",`${At}-selector-corner`),this.areaEl=ft("div",`${At}-selector-area`).child(this.cornerEl).hide(),this.clipboardEl=ft("div",`${At}-selector-clipboard`).hide(),this.autofillEl=ft("div",`${At}-selector-autofill`).hide(),this.el=ft("div",`${At}-selector`).css("z-index",`${sf}`).children(this.areaEl,this.clipboardEl,this.autofillEl).hide(),_&&(this.hideInput=ft("input","").on("compositionend",e=>{this.inputChange(e.target.value)}),this.el.child(this.hideInputDiv=ft("div","hide-input").child(this.hideInput)),this.el.child(this.hideInputDiv=ft("div","hide-input").child(this.hideInput))),sf+=1}setOffset(_){return this.el.offset(_).show(),this}hide(){return this.el.hide(),this}setAreaOffset(_){const{left:e,top:m,width:g,height:f}=_,u={width:g-Ec+.8,height:f-Ec+.8,left:e-.8,top:m-.8};this.areaEl.offset(u).show(),this.useHideInput&&(this.hideInputDiv.offset(u),this.hideInput.val("").focus())}setClipboardOffset(_){const{left:e,top:m,width:g,height:f}=_;this.clipboardEl.offset({left:e,top:m,width:g-5,height:f-5})}showAutofill(_){const{left:e,top:m,width:g,height:f}=_;this.autofillEl.offset({width:g-Ec,height:f-Ec,left:e,top:m}).show()}hideAutofill(){this.autofillEl.hide()}showClipboard(){this.clipboardEl.show()}hideClipboard(){this.clipboardEl.hide()}}function pf(K){const{data:_}=this,{left:e,top:m,width:g,height:f,scroll:u,l:h,t:s}=K,t=_.freezeTotalWidth(),i=_.freezeTotalHeight();let r=e-t;t>h&&(r-=u.x);let n=m-i;return i>s&&(n-=u.y),{left:r,top:n,width:g,height:f}}function mf(K){const{data:_}=this,{left:e,width:m,height:g,l:f,t:u,scroll:h}=K,s=_.freezeTotalWidth();let t=e-s;return s>f&&(t-=h.x),{left:t,top:u,width:m,height:g}}function gf(K){const{data:_}=this,{top:e,width:m,height:g,l:f,t:u,scroll:h}=K,s=_.freezeTotalHeight();let t=e-s;return s>u&&(t-=h.y),{left:f,top:t,width:m,height:g}}function af(K){const{br:_}=this;_.setAreaOffset(pf.call(this,K))}function ob(K){const{tl:_}=this;_.setAreaOffset(K)}function Rd(K){const{t:_}=this;_.setAreaOffset(mf.call(this,K))}function Id(K){const{l:_}=this;_.setAreaOffset(gf.call(this,K))}function Md(K){const{l:_}=this;_.setClipboardOffset(gf.call(this,K))}function of(K){const{br:_}=this;_.setClipboardOffset(pf.call(this,K))}function lb(K){const{tl:_}=this;_.setClipboardOffset(K)}function Pd(K){const{t:_}=this;_.setClipboardOffset(mf.call(this,K))}function ju(K){af.call(this,K),ob.call(this,K),Rd.call(this,K),Id.call(this,K)}function zu(K){of.call(this,K),lb.call(this,K),Pd.call(this,K),Md.call(this,K)}class cb{constructor(_){this.inputChange=()=>{},this.data=_,this.br=new Tc(!0),this.t=new Tc,this.l=new Tc,this.tl=new Tc,this.br.inputChange=e=>{this.inputChange(e)},this.br.el.show(),this.offset=null,this.areaOffset=null,this.indexes=null,this.range=null,this.arange=null,this.el=ft("div",`${At}-selectors`).children(this.tl.el,this.t.el,this.l.el,this.br.el).hide(),this.lastri=-1,this.lastci=-1,sf+=1}resetData(_){this.data=_,this.range=_.selector.range,this.resetAreaOffset()}hide(){this.el.hide()}resetOffset(){const{data:_,tl:e,t:m,l:g,br:f}=this,u=_.freezeTotalHeight(),h=_.freezeTotalWidth();u>0||h>0?(e.setOffset({width:h,height:u}),m.setOffset({left:h,height:u}),g.setOffset({top:u,width:h}),f.setOffset({left:h,top:u})):(e.hide(),m.hide(),g.hide(),f.setOffset({left:0,top:0}))}resetAreaOffset(){const _=this.data.getSelectedRect(),e=this.data.getClipboardRect();ju.call(this,_),zu.call(this,e),this.resetOffset()}resetBRTAreaOffset(){const _=this.data.getSelectedRect(),e=this.data.getClipboardRect();af.call(this,_),Rd.call(this,_),of.call(this,e),Pd.call(this,e),this.resetOffset()}resetBRLAreaOffset(){const _=this.data.getSelectedRect(),e=this.data.getClipboardRect();af.call(this,_),Id.call(this,_),of.call(this,e),Md.call(this,e),this.resetOffset()}set(_,e,m=!0){const{data:g}=this,f=g.calSelectedRangeByStart(_,e),{sri:u,sci:h}=f;if(m){let[s,t]=[_,e];_<0&&(s=0),e<0&&(t=0),g.selector.setIndexes(s,t),this.indexes=[s,t]}this.moveIndexes=[u,h],this.range=f,this.resetAreaOffset(),this.el.show()}setEnd(_,e,m=!0){const{data:g,lastri:f,lastci:u}=this;if(m){if(_===f&&e===u)return;this.lastri=_,this.lastci=e}this.range=g.calSelectedRangeByEnd(_,e),ju.call(this,this.data.getSelectedRect())}reset(){const{eri:_,eci:e}=this.data.selector.range;this.setEnd(_,e)}showAutofill(_,e){if(_===-1&&e===-1)return;const{sri:m,sci:g,eri:f,eci:u}=this.range,[h,s]=[_,e],t=m-_,i=g-e,r=f-_,n=u-e;if(i>0)this.arange=new Pi(m,s,f,g-1);else if(t>0)this.arange=new Pi(h,g,m-1,u);else if(n<0)this.arange=new Pi(m,u+1,f,s);else if(r<0)this.arange=new Pi(f+1,g,h,u);else{this.arange=null;return}if(this.arange!==null){const l=this.data.getRect(this.arange);l.width+=2,l.height+=2;const{br:d,l:a,t:v,tl:y}=this;d.showAutofill(pf.call(this,l)),a.showAutofill(gf.call(this,l)),v.showAutofill(mf.call(this,l)),y.showAutofill(l)}}hideAutofill(){["br","l","t","tl"].forEach(_=>{this[_].hideAutofill()})}showClipboard(){const _=this.data.getClipboardRect();zu.call(this,_),["br","l","t","tl"].forEach(e=>{this[e].showClipboard()})}hideClipboard(){["br","l","t","tl"].forEach(_=>{this[_].hideClipboard()})}}function hb(K){K.preventDefault(),K.stopPropagation();const{filterItems:_}=this;_.length<=0||(this.itemIndex>=0&&_[this.itemIndex].toggle(),this.itemIndex-=1,this.itemIndex<0&&(this.itemIndex=_.length-1),_[this.itemIndex].toggle())}function fb(K){K.stopPropagation();const{filterItems:_}=this;_.length<=0||(this.itemIndex>=0&&_[this.itemIndex].toggle(),this.itemIndex+=1,this.itemIndex>_.length-1&&(this.itemIndex=0),_[this.itemIndex].toggle())}function Hu(K){K.preventDefault();const{filterItems:_}=this;_.length<=0||(K.stopPropagation(),this.itemIndex<0&&(this.itemIndex=0),_[this.itemIndex].el.click(),this.hide())}function ub(K){const{keyCode:_}=K;switch(K.ctrlKey&&K.stopPropagation(),_){case 37:K.stopPropagation();break;case 38:hb.call(this,K);break;case 39:K.stopPropagation();break;case 40:fb.call(this,K);break;case 13:Hu.call(this,K);break;case 9:Hu.call(this,K);break;default:K.stopPropagation();break}}class Dd{constructor(_,e,m="200px"){this.filterItems=[],this.items=_,this.el=ft("div",`${At}-suggest`).css("width",m).hide(),this.itemClick=e,this.itemIndex=-1}setOffset(_){this.el.cssRemoveKeys("top","bottom").offset(_)}hide(){const{el:_}=this;this.filterItems=[],this.itemIndex=-1,_.hide(),Wo(this.el.parent())}setItems(_){this.items=_}search(_){let{items:e}=this;if(/^\s*$/.test(_)||(e=e.filter(g=>(g.key||g).startsWith(_.toUpperCase()))),e=e.map(g=>{let{title:f}=g;f?typeof f=="function"&&(f=f()):f=g;const u=ft("div",`${At}-item`).child(f).on("click.stop",()=>{this.itemClick(g),this.hide()});return g.label&&u.child(ft("div","label").html(g.label)),u}),this.filterItems=e,e.length<=0)return;const{el:m}=this;m.html("").children(...e).show(),Cl(m.parent(),()=>{this.hide()})}bindInputEvents(_){_.on("keydown",e=>ub.call(this,e))}}class hn extends mo{constructor(_){super("div",`${At}-icon`),this.iconNameEl=ft("div",`${At}-icon-img ${_}`),this.child(this.iconNameEl)}setName(_){this.iconNameEl.className(`${At}-icon-img ${_}`)}}function $u(K,_){K.setMonth(K.getMonth()+_)}function db(K,_){const e=new Date(K);return e.setDate(_-K.getDay()+1),e}function pb(K,_,e){const m=new Date(K,_,1,23,59,59),g=[[],[],[],[],[],[]];for(let f=0;f<6;f+=1)for(let u=0;u<7;u+=1){const h=f*7+u,s=db(m,h),t=s.getMonth()!==_,i=s.getMonth()===e.getMonth()&&s.getDate()===e.getDate();g[f][u]={d:s,disabled:t,active:i}}return g}class mb{constructor(_){this.value=_,this.cvalue=new Date(_),this.headerLeftEl=ft("div","calendar-header-left"),this.bodyEl=ft("tbody",""),this.buildAll(),this.el=ft("div","x-spreadsheet-calendar").children(ft("div","calendar-header").children(this.headerLeftEl,ft("div","calendar-header-right").children(ft("a","calendar-prev").on("click.stop",()=>this.prev()).child(new hn("chevron-left")),ft("a","calendar-next").on("click.stop",()=>this.next()).child(new hn("chevron-right")))),ft("table","calendar-body").children(ft("thead","").child(ft("tr","").children(...Ni("calendar.weeks").map(e=>ft("th","cell").child(e)))),this.bodyEl)),this.selectChange=()=>{}}setValue(_){this.value=_,this.cvalue=new Date(_),this.buildAll()}prev(){const{value:_}=this;$u(_,-1),this.buildAll()}next(){const{value:_}=this;$u(_,1),this.buildAll()}buildAll(){this.buildHeaderLeft(),this.buildBody()}buildHeaderLeft(){const{value:_}=this;this.headerLeftEl.html(`${Ni("calendar.months")[_.getMonth()]} ${_.getFullYear()}`)}buildBody(){const{value:_,cvalue:e,bodyEl:m}=this,f=pb(_.getFullYear(),_.getMonth(),e).map(u=>{const h=u.map(s=>{let t="cell";return s.disabled&&(t+=" disabled"),s.active&&(t+=" active"),ft("td","").child(ft("div",t).on("click.stop",()=>{this.selectChange(s.d)}).child(s.d.getDate().toString()))});return ft("tr","").children(...h)});m.html("").children(...f)}}class gb{constructor(){this.calendar=new mb(new Date),this.el=ft("div",`${At}-datepicker`).child(this.calendar.el).hide()}setValue(_){const{calendar:e}=this;return typeof _=="string"?/^\d{4}-\d{1,2}-\d{1,2}$/.test(_)&&e.setValue(new Date(_.replace(new RegExp("-","g"),"/"))):_ instanceof Date&&e.setValue(_),this}change(_){this.calendar.selectChange=e=>{_(e),this.hide()}}show(){this.el.show()}hide(){this.el.hide()}}function Bc(){const{inputText:K}=this;if(!/^\s*$/.test(K)){const{textlineEl:_,textEl:e,areaOffset:m}=this,g=K.split(`
`),f=Math.max(...g.map(r=>r.length)),h=_.offset().width/K.length,s=(f+1)*h+5,t=this.viewFn().width-m.left-h;let i=g.length;if(s>m.width){let r=s;s>t&&(r=t,i+=parseInt(s/t,10),i+=s%t>0?1:0),e.css("width",`${r}px`)}i*=this.rowHeight,i>m.height&&e.css("height",`${i}px`)}}function vb({target:K},_){const{value:e,selectionEnd:m}=K,g=`${e.slice(0,m)}${_}${e.slice(m)}`;K.value=g,K.setSelectionRange(m+1,m+1),this.inputText=g,this.textlineEl.html(g),Bc.call(this)}function bb(K){const{keyCode:_,altKey:e}=K;_!==13&&_!==9&&K.stopPropagation(),_===13&&e&&(vb.call(this,K,`
`),K.stopPropagation()),_===13&&!e&&K.preventDefault()}function yb(K){const _=K.target.value,{suggest:e,textlineEl:m,validator:g}=this,{cell:f}=this;if(f!==null)if("editable"in f&&f.editable===!0||f.editable===void 0){if(this.inputText=_,g)g.type==="list"?e.search(_):e.hide();else{const u=_.lastIndexOf("=");u!==-1?e.search(_.substring(u+1)):e.hide()}m.html(_),Bc.call(this),this.change("input",_)}else K.target.value=f.text;else{if(this.inputText=_,g)g.type==="list"?e.search(_):e.hide();else{const u=_.lastIndexOf("=");u!==-1?e.search(_.substring(u+1)):e.hide()}m.html(_),Bc.call(this),this.change("input",_)}}function wb(K){const{el:_}=this.textEl;setTimeout(()=>{_.focus(),_.setSelectionRange(K,K)},0)}function Ld(K,_){const{textEl:e,textlineEl:m}=this;e.el.blur(),e.val(K),m.html(K),wb.call(this,_)}function _b(K){const{inputText:_,validator:e}=this;let m=0;if(e&&e.type==="list")this.inputText=K,m=this.inputText.length;else{const g=_.lastIndexOf("="),f=_.substring(0,g+1);let u=_.substring(g+1);u.indexOf(")")!==-1?u=u.substring(u.indexOf(")")):u="",this.inputText=`${f+K.key}(`,m=this.inputText.length,this.inputText+=`)${u}`}Ld.call(this,this.inputText,m)}function xb(){this.suggest.setItems(this.formulas)}function Eb(K){let _=K.getMonth()+1,e=K.getDate();return _<10&&(_=`0${_}`),e<10&&(e=`0${e}`),`${K.getFullYear()}-${_}-${e}`}class Tb{constructor(_,e,m){this.viewFn=e,this.rowHeight=m,this.formulas=_,this.suggest=new Dd(_,g=>{_b.call(this,g)}),this.datepicker=new gb,this.datepicker.change(g=>{this.setText(Eb(g)),this.clear()}),this.areaEl=ft("div",`${At}-editor-area`).children(this.textEl=ft("textarea","").on("input",g=>yb.call(this,g)).on("paste.stop",()=>{}).on("keydown",g=>bb.call(this,g)),this.textlineEl=ft("div","textline"),this.suggest.el,this.datepicker.el).on("mousemove.stop",()=>{}).on("mousedown.stop",()=>{}),this.el=ft("div",`${At}-editor`).child(this.areaEl).hide(),this.suggest.bindInputEvents(this.textEl),this.areaOffset=null,this.freeze={w:0,h:0},this.cell=null,this.inputText="",this.change=()=>{}}setFreezeLengths(_,e){this.freeze.w=_,this.freeze.h=e}clear(){this.inputText!==""&&this.change("finished",this.inputText),this.cell=null,this.areaOffset=null,this.inputText="",this.el.hide(),this.textEl.val(""),this.textlineEl.html(""),xb.call(this),this.datepicker.hide()}setOffset(_,e="top"){const{textEl:m,areaEl:g,suggest:f,freeze:u,el:h}=this;if(_){this.areaOffset=_;const{left:s,top:t,width:i,height:r,l:n,t:l}=_,d={left:0,top:0};u.w>n&&u.h>l||(u.w<n&&u.h<l?(d.left=u.w,d.top=u.h):u.w>n?d.top=u.h:u.h>l&&(d.left=u.w)),h.offset(d),g.offset({left:s-d.left-.8,top:t-d.top-.8}),m.offset({width:i-9+.8,height:r-3+.8});const a={left:0};a[e]=r,f.setOffset(a),f.hide()}}setCell(_,e){const{el:m,datepicker:g,suggest:f}=this;m.show(),this.cell=_;const u=_&&_.text||"";if(this.setText(u),this.validator=e,e){const{type:h}=e;h==="date"&&(g.show(),/^\s*$/.test(u)||g.setValue(u)),h==="list"&&(f.setItems(e.values()),f.search(""))}}setText(_){this.inputText=_,Ld.call(this,_,_.length),Bc.call(this)}}class uo extends mo{constructor(_,e=""){super("div",`${At}-button ${e}`),this.child(Ni(`button.${_}`))}}function Uc(){return window.devicePixelRatio||1}function vf(){return Uc()-.5}function Tr(K){return parseInt(K*Uc(),10)}function jo(K){const _=Tr(K);return _>0?_-.5:.5}class Sb{constructor(_,e,m,g,f=0){this.x=_,this.y=e,this.width=m,this.height=g,this.padding=f,this.bgcolor="#ffffff",this.borderTop=null,this.borderRight=null,this.borderBottom=null,this.borderLeft=null}setBorders({top:_,bottom:e,left:m,right:g}){_&&(this.borderTop=_),g&&(this.borderRight=g),e&&(this.borderBottom=e),m&&(this.borderLeft=m)}innerWidth(){return this.width-this.padding*2-2}innerHeight(){return this.height-this.padding*2-2}textx(_){const{width:e,padding:m}=this;let{x:g}=this;return _==="left"?g+=m:_==="center"?g+=e/2:_==="right"&&(g+=e-m),g}texty(_,e){const{height:m,padding:g}=this;let{y:f}=this;return _==="top"?f+=g:_==="middle"?f+=m/2-e/2:_==="bottom"&&(f+=m-g-e),f}topxys(){const{x:_,y:e,width:m}=this;return[[_,e],[_+m,e]]}rightxys(){const{x:_,y:e,width:m,height:g}=this;return[[_+m,e],[_+m,e+g]]}bottomxys(){const{x:_,y:e,width:m,height:g}=this;return[[_,e+g],[_+m,e+g]]}leftxys(){const{x:_,y:e,height:m}=this;return[[_,e],[_,e+m]]}}function Wu(K,_,e,m,g,f,u){const h={x:0,y:0};K==="underline"?g==="bottom"?h.y=0:g==="top"?h.y=-(f+2):h.y=-f/2:K==="strike"&&(g==="bottom"?h.y=f/2:g==="top"&&(h.y=-(f/2+2))),m==="center"?h.x=u/2:m==="right"&&(h.x=u),this.line([_-h.x,e-h.y],[_-h.x+u,e-h.y])}class Od{constructor(_,e,m){this.el=_,this.ctx=_.getContext("2d"),this.resize(e,m),this.ctx.scale(Uc(),Uc())}resize(_,e){this.el.style.width=`${_}px`,this.el.style.height=`${e}px`,this.el.width=Tr(_),this.el.height=Tr(e)}clear(){const{width:_,height:e}=this.el;return this.ctx.clearRect(0,0,_,e),this}attr(_){return Object.assign(this.ctx,_),this}save(){return this.ctx.save(),this.ctx.beginPath(),this}restore(){return this.ctx.restore(),this}beginPath(){return this.ctx.beginPath(),this}translate(_,e){return this.ctx.translate(Tr(_),Tr(e)),this}scale(_,e){return this.ctx.scale(_,e),this}clearRect(_,e,m,g){return this.ctx.clearRect(_,e,m,g),this}fillRect(_,e,m,g){return this.ctx.fillRect(Tr(_)-.5,Tr(e)-.5,Tr(m),Tr(g)),this}fillText(_,e,m){return this.ctx.fillText(_,Tr(e),Tr(m)),this}text(_,e,m={},g=!0){const{ctx:f}=this,{align:u,valign:h,font:s,color:t,strike:i,underline:r}=m,n=e.textx(u);f.save(),f.beginPath(),this.attr({textAlign:u,textBaseline:h,font:`${s.italic?"italic":""} ${s.bold?"bold":""} ${Tr(s.size)}px ${s.name}`,fillStyle:t,strokeStyle:t});const l=`${_}`.split(`
`),d=e.innerWidth(),a=[];l.forEach(p=>{const E=f.measureText(p).width;if(g&&E>Tr(d)){let T={w:0,len:0,start:0};for(let S=0;S<p.length;S+=1)T.w>=Tr(d)&&(a.push(p.substr(T.start,T.len)),T={w:0,len:0,start:S}),T.len+=1,T.w+=f.measureText(p[S]).width+1;T.len>0&&a.push(p.substr(T.start,T.len))}else a.push(p)});const v=(a.length-1)*(s.size+2);let y=e.texty(h,v);return a.forEach(p=>{const E=f.measureText(p).width;this.fillText(p,n,y),i&&Wu.call(this,"strike",n,y,u,h,s.size,E),r&&Wu.call(this,"underline",n,y,u,h,s.size,E),y+=s.size+2}),f.restore(),this}border(_,e){const{ctx:m}=this;return m.lineWidth=vf,m.strokeStyle=e,_==="medium"?m.lineWidth=Tr(2)-.5:_==="thick"?m.lineWidth=Tr(3):_==="dashed"?m.setLineDash([Tr(3),Tr(2)]):_==="dotted"?m.setLineDash([Tr(1),Tr(1)]):_==="double"&&m.setLineDash([Tr(2),0]),this}line(..._){const{ctx:e}=this;if(_.length>1){e.beginPath();const[m,g]=_[0];e.moveTo(jo(m),jo(g));for(let f=1;f<_.length;f+=1){const[u,h]=_[f];e.lineTo(jo(u),jo(h))}e.stroke()}return this}strokeBorders(_){const{ctx:e}=this;e.save();const{borderTop:m,borderRight:g,borderBottom:f,borderLeft:u}=_;m&&(this.border(...m),this.line(..._.topxys())),g&&(this.border(...g),this.line(..._.rightxys())),f&&(this.border(...f),this.line(..._.bottomxys())),u&&(this.border(...u),this.line(..._.leftxys())),e.restore()}dropdown(_){const{ctx:e}=this,{x:m,y:g,width:f,height:u}=_,h=m+f-15,s=g+u-15;e.save(),e.beginPath(),e.moveTo(Tr(h),Tr(s)),e.lineTo(Tr(h+8),Tr(s)),e.lineTo(Tr(h+4),Tr(s+6)),e.closePath(),e.fillStyle="rgba(0, 0, 0, .45)",e.fill(),e.restore()}error(_){const{ctx:e}=this,{x:m,y:g,width:f}=_,u=m+f-1;e.save(),e.beginPath(),e.moveTo(Tr(u-8),Tr(g-1)),e.lineTo(Tr(u),Tr(g-1)),e.lineTo(Tr(u),Tr(g+8)),e.closePath(),e.fillStyle="rgba(255, 0, 0, .65)",e.fill(),e.restore()}frozen(_){const{ctx:e}=this,{x:m,y:g,width:f}=_,u=m+f-1;e.save(),e.beginPath(),e.moveTo(Tr(u-8),Tr(g-1)),e.lineTo(Tr(u),Tr(g-1)),e.lineTo(Tr(u),Tr(g+8)),e.closePath(),e.fillStyle="rgba(0, 255, 0, .85)",e.fill(),e.restore()}rect(_,e){const{ctx:m}=this,{x:g,y:f,width:u,height:h,bgcolor:s}=_;m.save(),m.beginPath(),m.fillStyle=s||"#fff",m.rect(jo(g+1),jo(f+1),Tr(u-2),Tr(h-2)),m.clip(),m.fill(),e(),m.restore()}}const Vu=[{key:"Arial",title:"Arial"},{key:"Helvetica",title:"Helvetica"},{key:"Source Sans Pro",title:"Source Sans Pro"},{key:"Comic Sans MS",title:"Comic Sans MS"},{key:"Courier New",title:"Courier New"},{key:"Verdana",title:"Verdana"},{key:"Lato",title:"Lato"}],lf=[{pt:7.5,px:10},{pt:8,px:11},{pt:9,px:12},{pt:10,px:13},{pt:10.5,px:14},{pt:11,px:15},{pt:12,px:16},{pt:14,px:18.7},{pt:15,px:20},{pt:16,px:21.3},{pt:18,px:24},{pt:22,px:29.3},{pt:24,px:32},{pt:26,px:34.7},{pt:36,px:48},{pt:42,px:56}];function Ab(K){for(let _=0;_<lf.length;_+=1){const e=lf[_];if(e.pt===K)return e.px}return K}const kb=K=>{const _=[],e=[];let m=[],g=0,f="",u=1,h="";for(let s=0;s<K.length;s+=1){const t=K.charAt(s);if(t!==" "){if(t>="a"&&t<="z")m.push(t.toUpperCase());else if(t>="0"&&t<="9"||t>="A"&&t<="Z"||t===".")m.push(t);else if(t==='"'){for(s+=1;K.charAt(s)!=='"';)m.push(K.charAt(s)),s+=1;e.push(`"${m.join("")}`),m=[]}else if(t==="-"&&/[+\-*/,(]/.test(h))m.push(t);else{if(t!=="("&&m.length>0&&e.push(m.join("")),t===")"){let i=_.pop();if(g===2)try{const[r,n]=Wa(e.pop()),[l,d]=Wa(e.pop());let a=0;for(let v=l;v<=r;v+=1)for(let y=d;y<=n;y+=1)e.push(da(v,y)),a+=1;e.push([i,a])}catch{}else if(g===1||g===3)g===3&&e.push(f),e.push([i,u]),u=1;else for(;i!=="("&&(e.push(i),!(_.length<=0));)i=_.pop();g=0}else if(t==="="||t===">"||t==="<"){const i=K.charAt(s+1);f=t,(i==="="||i==="-")&&(f+=i,s+=1),g=3}else if(t===":")g=2;else if(t===",")g===3&&e.push(f),g=1,u+=1;else if(t==="("&&m.length>0)_.push(m.join(""));else{if(_.length>0&&(t==="+"||t==="-")){let i=_[_.length-1];if(i!=="("&&e.push(_.pop()),i==="*"||i==="/")for(;_.length>0&&(i=_[_.length-1],i!=="(");)e.push(_.pop())}else if(_.length>0){const i=_[_.length-1];(i==="*"||i==="/")&&e.push(_.pop())}_.push(t)}m=[]}h=t}}for(m.length>0&&e.push(m.join(""));_.length>0;)e.push(_.pop());return e},Cb=(K,_)=>{const[e]=K;let m=K;if(e==='"')return K.substring(1);let g=1;if(e==="-"&&(m=K.substring(1),g=-1),m[0]>="0"&&m[0]<="9")return g*Number(m);const[f,u]=Wa(m);return g*_(f,u)},Rb=(K,_,e,m)=>{const g=[];for(let f=0;f<K.length;f+=1){const u=K[f],h=u[0];if(u==="+"){const s=g.pop();g.push(fo("+",g.pop(),s))}else if(u==="-")if(g.length===1){const s=g.pop();g.push(fo("*",s,-1))}else{const s=g.pop();g.push(fo("-",g.pop(),s))}else if(u==="*")g.push(fo("*",g.pop(),g.pop()));else if(u==="/"){const s=g.pop();g.push(fo("/",g.pop(),s))}else if(h==="="||h===">"||h==="<"){let s=g.pop();Number.isNaN(s)||(s=Number(s));let t=g.pop();Number.isNaN(t)||(t=Number(t));let i=!1;h==="="?i=t===s:u===">"?i=t>s:u===">="?i=t>=s:u==="<"?i=t<s:u==="<="&&(i=t<=s),g.push(i)}else if(Array.isArray(u)){const[s,t]=u,i=[];for(let r=0;r<t;r+=1)i.push(g.pop());g.push(_[s].render(i.reverse()))}else{if(m.includes(u))return 0;(h>="a"&&h<="z"||h>="A"&&h<="Z")&&m.push(u),g.push(Cb(u,e)),m.pop()}}return g[0]},Nd=(K,_,e,m=[])=>{if(K[0]==="="){const g=kb(K.substring(1));return g.length<=0?K:Rb(g,_,(f,u)=>Nd(e(f,u),_,e,m),m)}return K},Ib={render:Nd},bf=[{key:"SUM",title:zr("formula.sum"),render:K=>K.reduce((_,e)=>fo("+",_,e),0)},{key:"AVERAGE",title:zr("formula.average"),render:K=>K.reduce((_,e)=>Number(_)+Number(e),0)/K.length},{key:"MAX",title:zr("formula.max"),render:K=>Math.max(...K.map(_=>Number(_)))},{key:"MIN",title:zr("formula.min"),render:K=>Math.min(...K.map(_=>Number(_)))},{key:"IF",title:zr("formula._if"),render:([K,_,e])=>K?_:e},{key:"AND",title:zr("formula.and"),render:K=>K.every(_=>_)},{key:"OR",title:zr("formula.or"),render:K=>K.some(_=>_)},{key:"CONCAT",title:zr("formula.concat"),render:K=>K.join("")}],Mb=bf,Fd={};bf.forEach(K=>{Fd[K.key]=K});const zo=K=>K,Sc=K=>{if(/^(-?\d*.?\d*)$/.test(K)){const _=Number(K).toFixed(2).toString(),[e,...m]=_.split("\\.");return[e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),...m]}return K},El=[{key:"normal",title:zr("format.normal"),type:"string",render:zo},{key:"text",title:zr("format.text"),type:"string",render:zo},{key:"number",title:zr("format.number"),type:"number",label:"1,000.12",render:Sc},{key:"percent",title:zr("format.percent"),type:"number",label:"10.12%",render:K=>`${K}%`},{key:"rmb",title:zr("format.rmb"),type:"number",label:"10.00",render:K=>`${Sc(K)}`},{key:"usd",title:zr("format.usd"),type:"number",label:"$10.00",render:K=>`$${Sc(K)}`},{key:"eur",title:zr("format.eur"),type:"number",label:"10.00",render:K=>`${Sc(K)}`},{key:"date",title:zr("format.date"),type:"date",label:"26/09/2008",render:zo},{key:"time",title:zr("format.time"),type:"date",label:"15:59:00",render:zo},{key:"datetime",title:zr("format.datetime"),type:"date",label:"26/09/2008 15:59:00",render:zo},{key:"duration",title:zr("format.duration"),type:"date",label:"24:01:00",render:zo}],Bd={};El.forEach(K=>{Bd[K.key]=K});const Pb=5,Db={fillStyle:"#f4f5f8"},Lb={fillStyle:"#fff",lineWidth:vf,strokeStyle:"#e6e6e6"};function Ob(){return{textAlign:"center",textBaseline:"middle",font:`500 ${Tr(12)}px Source Sans Pro`,fillStyle:"#585757",lineWidth:vf(),strokeStyle:"#e6e6e6"}}function Ud(K,_,e,m=0){const{left:g,top:f,width:u,height:h}=K.cellRect(_,e);return new Sb(g,f+m,u,h,Pb)}function jc(K,_,e,m,g=0){const{sortedRowMap:f,rows:u,cols:h}=_;if(u.isHide(e)||h.isHide(m))return;let s=e;f.has(e)&&(s=f.get(e));const t=_.getCell(s,m);if(t===null)return;let i=!1;"editable"in t&&t.editable===!1&&(i=!0);const r=_.getCellStyleOrDefault(s,m),n=Ud(_,e,m,g);n.bgcolor=r.bgcolor,r.border!==void 0&&(n.setBorders(r.border),K.strokeBorders(n)),K.rect(n,()=>{let l="";_.settings.evalPaused?l=t.text||"":l=Ib.render(t.text||"",Fd,(v,y)=>_.getCellTextOrDefault(y,v)),r.format&&(l=Bd[r.format].render(l));const d=Object.assign({},r.font);d.size=Ab(d.size),K.text(l,n,{align:r.align,valign:r.valign,font:d,color:r.color,strike:r.strike,underline:r.underline},r.textwrap),_.validations.getError(e,m)&&K.error(n),i&&K.frozen(n)})}function Nb(K){const{data:_,draw:e}=this;if(K){const{autoFilter:m}=_;if(!m.active())return;const g=m.hrange();K.intersects(g)&&g.each((f,u)=>{const h=Ud(_,f,u);e.dropdown(h)})}}function Ac(K,_,e,m,g){const{draw:f,data:u}=this;f.save(),f.translate(_,e).translate(m,g);const{exceptRowSet:h}=u,s=r=>{const n=h.has(r);if(n){const l=u.rows.getHeight(r);f.translate(0,-l)}return!n},t=u.exceptRowTotalHeight(K.sri,K.eri);f.save(),f.translate(0,-t),K.each((r,n)=>{jc(f,u,r,n)},r=>s(r)),f.restore();const i=new Set;f.save(),f.translate(0,-t),u.eachMergesInView(K,({sri:r,sci:n,eri:l})=>{if(!h.has(r))jc(f,u,r,n);else if(!i.has(r)){i.add(r);const d=u.rows.sumHeight(r,l+1);f.translate(0,-d)}}),f.restore(),Nb.call(this,K),f.restore()}function Xu(K,_,e,m){const{draw:g}=this;g.save(),g.attr({fillStyle:"rgba(75, 137, 255, 0.08)"}).fillRect(K,_,e,m),g.restore()}function kc(K,_,e,m,g,f){const{draw:u,data:h}=this,s=_.h,t=_.w,i=f+m,r=g+e;u.save(),u.attr(Db),(K==="all"||K==="left")&&u.fillRect(0,i,e,s),(K==="all"||K==="top")&&u.fillRect(r,0,t,m);const{sri:n,sci:l,eri:d,eci:a}=h.selector.range;u.attr(Ob()),(K==="all"||K==="left")&&(h.rowEach(_.sri,_.eri,(v,y,p)=>{const E=i+y,T=v;u.line([0,E],[e,E]),n<=T&&T<d+1&&Xu.call(this,0,E,e,p),u.fillText(T+1,e/2,E+p/2),v>0&&h.rows.isHide(v-1)&&(u.save(),u.attr({strokeStyle:"#c6c6c6"}),u.line([5,E+5],[e-5,E+5]),u.restore())}),u.line([0,s+i],[e,s+i]),u.line([e,i],[e,s+i])),(K==="all"||K==="top")&&(h.colEach(_.sci,_.eci,(v,y,p)=>{const E=r+y,T=v;u.line([E,0],[E,m]),l<=T&&T<a+1&&Xu.call(this,E,0,p,m),u.fillText(Ed(T),E+p/2,m/2),v>0&&h.cols.isHide(v-1)&&(u.save(),u.attr({strokeStyle:"#c6c6c6"}),u.line([E+5,5],[E+5,m-5]),u.restore())}),u.line([t+r,0],[t+r,m]),u.line([0,m],[t+r,m])),u.restore()}function Fb(K,_){const{draw:e}=this;e.save(),e.attr({fillStyle:"#f4f5f8"}).fillRect(0,0,K,_),e.restore()}function Cc({sri:K,sci:_,eri:e,eci:m,w:g,h:f},u,h,s,t){const{draw:i,data:r}=this,{settings:n}=r;if(i.save(),i.attr(Lb).translate(u+s,h+t),!n.showGrid){i.restore();return}r.rowEach(K,e,(l,d,a)=>{l!==K&&i.line([0,d],[g,d]),l===e&&i.line([0,d+a],[g,d+a])}),r.colEach(_,m,(l,d,a)=>{l!==_&&i.line([d,0],[d,f]),l===m&&i.line([d+a,0],[d+a,f])}),i.restore()}function Bb(K,_,e,m){const{draw:g,data:f}=this,u=f.viewWidth()-K,h=f.viewHeight()-_;g.save().translate(K,_).attr({strokeStyle:"rgba(75, 137, 255, .6)"}),g.line([0,m],[u,m]),g.line([e,0],[e,h]),g.restore()}class Ub{constructor(_,e){this.el=_,this.draw=new Od(_,e.viewWidth(),e.viewHeight()),this.data=e}resetData(_){this.data=_,this.render()}render(){const{data:_}=this,{rows:e,cols:m}=_,g=m.indexWidth,f=e.height;this.draw.resize(_.viewWidth(),_.viewHeight()),this.clear();const u=_.viewRange(),h=_.freezeTotalWidth(),s=_.freezeTotalHeight(),{x:t,y:i}=_.scroll;Cc.call(this,u,g,f,h,s),Ac.call(this,u,g,f,-t,-i),kc.call(this,"all",u,g,f,h,s),Fb.call(this,g,f);const[r,n]=_.freeze;if(r>0||n>0){if(r>0){const d=u.clone();d.sri=0,d.eri=r-1,d.h=s,Cc.call(this,d,g,f,h,0),Ac.call(this,d,g,f,-t,0),kc.call(this,"top",d,g,f,h,0)}if(n>0){const d=u.clone();d.sci=0,d.eci=n-1,d.w=h,Cc.call(this,d,g,f,0,s),kc.call(this,"left",d,g,f,0,s),Ac.call(this,d,g,f,0,-i)}const l=_.freezeViewRange();Cc.call(this,l,g,f,0,0),kc.call(this,"all",l,g,f,0,0),Ac.call(this,l,g,f,0,0),Bb.call(this,g,f,h,s)}}clear(){this.draw.clear()}}const Lc=[["A3",11.69,16.54],["A4",8.27,11.69],["A5",5.83,8.27],["B4",9.84,13.9],["B5",6.93,9.84]],cf=["landscape","portrait"];function zc(K){return parseInt(96*K,10)}function Gu(K){K==="cancel"?this.el.hide():this.toPrint()}function jb(K){const{paper:_}=this,{value:e}=K.target,m=Lc[e];_.w=zc(m[1]),_.h=zc(m[2]),this.preview()}function zb(K){const{paper:_}=this,{value:e}=K.target,m=cf[e];_.orientation=m,this.preview()}let Hb=class{constructor(_){this.paper={w:zc(Lc[0][1]),h:zc(Lc[0][2]),padding:50,orientation:cf[0],get width(){return this.orientation==="landscape"?this.h:this.w},get height(){return this.orientation==="landscape"?this.w:this.h}},this.data=_,this.el=ft("div",`${At}-print`).children(ft("div",`${At}-print-bar`).children(ft("div","-title").child("Print settings"),ft("div","-right").children(ft("div",`${At}-buttons`).children(new uo("cancel").on("click",Gu.bind(this,"cancel")),new uo("next","primary").on("click",Gu.bind(this,"next"))))),ft("div",`${At}-print-content`).children(this.contentEl=ft("div","-content"),ft("div","-sider").child(ft("form","").children(ft("fieldset","").children(ft("label","").child(`${Ni("print.size")}`),ft("select","").children(...Lc.map((e,m)=>ft("option","").attr("value",m).child(`${e[0]} ( ${e[1]}''x${e[2]}'' )`))).on("change",jb.bind(this))),ft("fieldset","").children(ft("label","").child(`${Ni("print.orientation")}`),ft("select","").children(...cf.map((e,m)=>ft("option","").attr("value",m).child(`${Ni("print.orientations")[m]}`))).on("change",zb.bind(this))))))).hide()}resetData(_){this.data=_}preview(){const{data:_,paper:e}=this,{width:m,height:g,padding:f}=e,u=m-f*2,h=g-f*2,s=_.contentRange(),t=parseInt(s.h/h,10)+1,i=u/s.w;let r=f;const n=f;i>1&&(r+=(u-s.w)/2);let l=0,d=0;this.contentEl.html(""),this.canvases=[];const a={sri:0,sci:0,eri:0,eci:0};for(let v=0;v<t;v+=1){let y=0,p=0;const E=ft("div",`${At}-canvas-card`),T=ft("canvas",`${At}-canvas`);this.canvases.push(T.el);const S=new Od(T.el,m,g);for(S.save(),S.translate(r,n),i<1&&S.scale(i,i);l<=s.eri;l+=1){const w=_.rows.getHeight(l);if(y+=w,y<h)for(let I=0;I<=s.eci;I+=1)jc(S,_,l,I,d),a.eci=I;else{p=-(y-w);break}}a.eri=l,S.restore(),S.save(),S.translate(r,n),i<1&&S.scale(i,i);const A=d;_.eachMergesInView(a,({sri:w,sci:I})=>{jc(S,_,w,I,A)}),S.restore(),a.sri=a.eri,a.sci=a.eci,d+=p,this.contentEl.child(ft("div",`${At}-canvas-card-wraper`).child(E.child(T)))}this.el.show()}toPrint(){this.el.hide();const{paper:_}=this,e=ft("iframe","").hide(),{el:m}=e;window.document.body.appendChild(m);const{contentWindow:g}=m,f=g.document,u=document.createElement("style");u.innerHTML=`
      @page { size: ${_.width}px ${_.height}px; };
      canvas {
        page-break-before: auto;        
        page-break-after: always;
        image-rendering: pixelated;
      };
    `,f.head.appendChild(u),this.canvases.forEach(h=>{const s=h.cloneNode(!1);s.getContext("2d").drawImage(h,0,0),f.body.appendChild(s)}),g.print()}};const $b=[{key:"copy",title:zr("contextmenu.copy"),label:"Ctrl+C"},{key:"cut",title:zr("contextmenu.cut"),label:"Ctrl+X"},{key:"paste",title:zr("contextmenu.paste"),label:"Ctrl+V"},{key:"paste-value",title:zr("contextmenu.pasteValue"),label:"Ctrl+Shift+V"},{key:"paste-format",title:zr("contextmenu.pasteFormat"),label:"Ctrl+Alt+V"},{key:"divider"},{key:"insert-row",title:zr("contextmenu.insertRow")},{key:"insert-column",title:zr("contextmenu.insertColumn")},{key:"divider"},{key:"delete-row",title:zr("contextmenu.deleteRow")},{key:"delete-column",title:zr("contextmenu.deleteColumn")},{key:"delete-cell-text",title:zr("contextmenu.deleteCellText")},{key:"hide",title:zr("contextmenu.hide")},{key:"divider"},{key:"validation",title:zr("contextmenu.validation")},{key:"divider"},{key:"cell-printable",title:zr("contextmenu.cellprintable")},{key:"cell-non-printable",title:zr("contextmenu.cellnonprintable")},{key:"divider"},{key:"cell-editable",title:zr("contextmenu.celleditable")},{key:"cell-non-editable",title:zr("contextmenu.cellnoneditable")}];function Wb(K){return K.key==="divider"?ft("div",`${At}-item divider`):ft("div",`${At}-item`).on("click",()=>{this.itemClick(K.key),this.hide()}).children(K.title(),ft("div","label").child(K.label||""))}function Vb(){return $b.map(K=>Wb.call(this,K))}let Xb=class{constructor(_,e=!1){this.menuItems=Vb.call(this),this.el=ft("div",`${At}-contextmenu`).children(...this.menuItems).hide(),this.viewFn=_,this.itemClick=()=>{},this.isHide=e,this.setMode("range")}setMode(_){const e=this.menuItems[12];_==="row-col"?e.show():e.hide()}hide(){const{el:_}=this;_.hide(),Wo(_)}setPosition(_,e){if(this.isHide)return;const{el:m}=this,{width:g}=m.show().offset(),f=this.viewFn(),u=f.height/2;let h=_;f.width-_<=g&&(h-=g),m.css("left",`${h}px`),e>u?m.css("bottom",`${f.height-e}px`).css("max-height",`${e}px`).css("top","auto"):m.css("top",`${e}px`).css("max-height",`${f.height-e}px`).css("bottom","auto"),Cl(m)}};function Gb(K,_){if(_.classList.contains("active"))return;const{left:e,top:m,width:g,height:f}=_.getBoundingClientRect(),u=ft("div",`${At}-tooltip`).html(K).show();document.body.appendChild(u.el);const h=u.box();u.css("left",`${e+g/2-h.width/2}px`).css("top",`${m+f+2}px`),Pn(_,"mouseleave",()=>{document.body.contains(u.el)&&document.body.removeChild(u.el)}),Pn(_,"click",()=>{document.body.contains(u.el)&&document.body.removeChild(u.el)})}class yf{constructor(_,e,m){this.tip=Ni(`toolbar.${_.replace(/-[a-z]/g,g=>g[1].toUpperCase())}`),e&&(this.tip+=` (${e})`),this.tag=_,this.shortcut=e,this.value=m,this.el=this.element(),this.change=()=>{}}element(){const{tip:_}=this;return ft("div",`${At}-toolbar-btn`).on("mouseenter",e=>{Gb(_,e.target)}).attr("data-tooltip",_)}setState(){}}class Ns extends yf{dropdown(){}getValue(_){return _}element(){const{tag:_}=this;return this.dd=this.dropdown(),this.dd.change=e=>this.change(_,this.getValue(e)),super.element().child(this.dd)}setState(_){_&&(this.value=_,this.dd.setTitle(_))}}class Fs extends mo{constructor(_,e,m,g,...f){super("div",`${At}-dropdown ${g}`),this.title=_,this.change=()=>{},this.headerClick=()=>{},typeof _=="string"?this.title=ft("div",`${At}-dropdown-title`).child(_):m&&this.title.addClass("arrow-left"),this.contentEl=ft("div",`${At}-dropdown-content`).css("width",e).hide(),this.setContentChildren(...f),this.headerEl=ft("div",`${At}-dropdown-header`),this.headerEl.on("click",()=>{this.contentEl.css("display")!=="block"?this.show():this.hide()}).children(this.title,m?ft("div",`${At}-icon arrow-right`).child(ft("div",`${At}-icon-img arrow-down`)):""),this.children(this.headerEl,this.contentEl)}setContentChildren(..._){this.contentEl.html(""),_.length>0&&this.contentEl.children(..._)}setTitle(_){this.title.html(_),this.hide()}show(){const{contentEl:_}=this;_.show(),this.parent().active(),Cl(this.parent(),()=>{this.hide()})}hide(){this.parent().active(!1),this.contentEl.hide(),Wo(this.parent())}}function Kb(K){return ft("div",`${At}-item`).child(new hn(K))}class jd extends Fs{constructor(_,e){const m=new hn(`align-${e}`),g=_.map(f=>Kb(`align-${f}`).on("click",()=>{this.setTitle(f),this.change(f)}));super(m,"auto",!0,"bottom-left",...g)}setTitle(_){this.title.setName(`align-${_}`),this.hide()}}class Yb extends Ns{constructor(_){super("align","",_)}dropdown(){const{value:_}=this;return new jd(["left","center","right"],_)}}class Zb extends Ns{constructor(_){super("valign","",_)}dropdown(){const{value:_}=this;return new jd(["top","middle","bottom"],_)}}class ma extends yf{element(){const{tag:_}=this;return super.element().child(new hn(_)).on("click",()=>this.click())}click(){this.change(this.tag,this.toggle())}setState(_){this.el.active(_)}toggle(){return this.el.toggle()}active(){return this.el.hasClass("active")}}class Qb extends ma{constructor(){super("autofilter")}setState(){}}class Jb extends ma{constructor(){super("font-bold","Ctrl+B")}}class qb extends ma{constructor(){super("font-italic","Ctrl+I")}}class e1 extends ma{constructor(){super("strike","Ctrl+U")}}class t1 extends ma{constructor(){super("underline","Ctrl+U")}}const r1=["#ffffff","#000100","#e7e5e6","#445569","#5b9cd6","#ed7d31","#a5a5a5","#ffc001","#4371c6","#71ae47"],i1=[["#f2f2f2","#7f7f7f","#d0cecf","#d5dce4","#deeaf6","#fce5d5","#ededed","#fff2cd","#d9e2f3","#e3efd9"],["#d8d8d8","#595959","#afabac","#adb8ca","#bdd7ee","#f7ccac","#dbdbdb","#ffe59a","#b3c6e7","#c5e0b3"],["#bfbfbf","#3f3f3f","#756f6f","#8596b0","#9cc2e6","#f4b184","#c9c9c9","#fed964","#8eaada","#a7d08c"],["#a5a5a5","#262626","#3a3839","#333f4f","#2e75b5","#c45a10","#7b7b7b","#bf8e01","#2f5596","#538136"],["#7f7f7f","#0c0c0c","#171516","#222a35","#1f4e7a","#843c0a","#525252","#7e6000","#203864","#365624"]],n1=["#c00000","#fe0000","#fdc101","#ffff01","#93d051","#00b04e","#01b0f1","#0170c1","#012060","#7030a0"];function Yh(K){return ft("td","").child(ft("div",`${At}-color-palette-cell`).on("click.stop",()=>this.change(K)).css("background-color",K))}class s1{constructor(){this.el=ft("div",`${At}-color-palette`),this.change=()=>{};const _=ft("table","").children(ft("tbody","").children(ft("tr",`${At}-theme-color-placeholders`).children(...r1.map(e=>Yh.call(this,e))),...i1.map(e=>ft("tr",`${At}-theme-colors`).children(...e.map(m=>Yh.call(this,m)))),ft("tr",`${At}-standard-colors`).children(...n1.map(e=>Yh.call(this,e)))));this.el.child(_)}}class wf extends Fs{constructor(_,e){const m=new hn(_).css("height","16px").css("border-bottom",`3px solid ${e}`),g=new s1;g.change=f=>{this.setTitle(f),this.change(f)},super(m,"auto",!1,"bottom-left",g.el)}setTitle(_){this.title.css("border-color",_),this.hide()}}const a1=[["thin",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" style="user-select: none;"></line></svg>'],["medium",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="2" style="user-select: none;"><line x1="0" y1="1.0" x2="50" y2="1.0" stroke-width="2" stroke="black" style="user-select: none;"></line></svg>'],["thick",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="3" style="user-select: none;"><line x1="0" y1="1.5" x2="50" y2="1.5" stroke-width="3" stroke="black" style="user-select: none;"></line></svg>'],["dashed",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="2" style="user-select: none;"></line></svg>'],["dotted",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="1" style="user-select: none;"></line></svg>']];class o1 extends Fs{constructor(_){const e=new hn("line-type");let m=0;const g=a1.map((f,u)=>ft("div",`${At}-item state ${_===f[0]?"checked":""}`).on("click",()=>{g[m].toggle("checked"),g[u].toggle("checked"),m=u,this.hide(),this.change(f)}).child(ft("div",`${At}-line-type`).html(f[1])));super(e,"auto",!1,"bottom-left",...g)}}function Ku(...K){return ft("table","").child(ft("tbody","").children(...K))}function Yu(K){return ft("td","").child(ft("div",`${At}-border-palette-cell`).child(new hn(`border-${K}`)).on("click",()=>{this.mode=K;const{mode:_,style:e,color:m}=this;this.change({mode:_,style:e,color:m})}))}class l1{constructor(){this.color="#000",this.style="thin",this.mode="all",this.change=()=>{},this.ddColor=new wf("line-color",this.color),this.ddColor.change=e=>{this.color=e},this.ddType=new o1(this.style),this.ddType.change=([e])=>{this.style=e},this.el=ft("div",`${At}-border-palette`);const _=Ku(ft("tr","").children(ft("td",`${At}-border-palette-left`).child(Ku(ft("tr","").children(...["all","inside","horizontal","vertical","outside"].map(e=>Yu.call(this,e))),ft("tr","").children(...["left","top","right","bottom","none"].map(e=>Yu.call(this,e))))),ft("td",`${At}-border-palette-right`).children(ft("div",`${At}-toolbar-btn`).child(this.ddColor.el),ft("div",`${At}-toolbar-btn`).child(this.ddType.el))));this.el.child(_)}}class c1 extends Fs{constructor(){const _=new hn("border-all"),e=new l1;e.change=m=>{this.change(m),this.hide()},super(_,"auto",!1,"bottom-left",e.el)}}class h1 extends Ns{constructor(){super("border")}dropdown(){return new c1}}class Vc extends yf{element(){return super.element().child(new hn(this.tag)).on("click",()=>this.change(this.tag))}setState(_){this.el.disabled(_)}}class f1 extends Vc{constructor(){super("clearformat")}}class u1 extends ma{constructor(){super("paintformat")}setState(){}}class d1 extends Ns{constructor(_){super("color",void 0,_)}dropdown(){const{tag:_,value:e}=this;return new wf(_,e)}}class p1 extends Ns{constructor(_){super("bgcolor",void 0,_)}dropdown(){const{tag:_,value:e}=this;return new wf(_,e)}}class m1 extends Fs{constructor(){const _=lf.map(e=>ft("div",`${At}-item`).on("click",()=>{this.setTitle(`${e.pt}`),this.change(e)}).child(`${e.pt}`));super("10","60px",!0,"bottom-left",..._)}}let g1=class extends Ns{constructor(){super("font-size")}getValue(_){return _.pt}dropdown(){return new m1}};class v1 extends Fs{constructor(){const _=Vu.map(e=>ft("div",`${At}-item`).on("click",()=>{this.setTitle(e.title),this.change(e)}).child(e.title));super(Vu[0].title,"160px",!0,"bottom-left",..._)}}class b1 extends Ns{constructor(){super("font-name")}getValue(_){return _.key}dropdown(){return new v1}}class y1 extends Fs{constructor(){let _=El.slice(0);_.splice(2,0,{key:"divider"}),_.splice(8,0,{key:"divider"}),_=_.map(e=>{const m=ft("div",`${At}-item`);return e.key==="divider"?m.addClass("divider"):(m.child(e.title()).on("click",()=>{this.setTitle(e.title()),this.change(e)}),e.label&&m.child(ft("div","label").html(e.label))),m}),super("Normal","220px",!0,"bottom-left",..._)}setTitle(_){for(let e=0;e<El.length;e+=1)El[e].key===_&&this.title.html(El[e].title());this.hide()}}let w1=class extends Ns{constructor(){super("format")}getValue(_){return _.key}dropdown(){return new y1}};class _1 extends Fs{constructor(){const _=bf.map(e=>ft("div",`${At}-item`).on("click",()=>{this.hide(),this.change(e)}).child(e.key));super(new hn("formula"),"180px",!0,"bottom-left",..._)}}class x1 extends Ns{constructor(){super("formula")}getValue(_){return _.key}dropdown(){return new _1}}class E1 extends ma{constructor(){super("freeze")}}class T1 extends ma{constructor(){super("merge")}setState(_,e){this.el.active(_).disabled(e)}}class S1 extends Vc{constructor(){super("redo","Ctrl+Y")}}class A1 extends Vc{constructor(){super("undo","Ctrl+Z")}}class k1 extends Vc{constructor(){super("print","Ctrl+P")}}class C1 extends ma{constructor(){super("textwrap")}}let R1=class extends Fs{constructor(){const _=new hn("ellipsis"),e=ft("div",`${At}-toolbar-more`);super(_,"auto",!1,"bottom-right",e),this.moreBtns=e,this.contentEl.css("max-width","420px")}};class I1 extends Ns{constructor(){super("more"),this.el.hide()}dropdown(){return new R1}show(){this.el.show()}hide(){this.el.hide()}}function Ho(){return ft("div",`${At}-toolbar-divider`)}function M1(){this.btns2=[],this.items.forEach(K=>{if(Array.isArray(K))K.forEach(({el:_})=>{const e=_.box(),{marginLeft:m,marginRight:g}=_.computedStyle();this.btns2.push([_,e.width+parseInt(m,10)+parseInt(g,10)])});else{const _=K.box(),{marginLeft:e,marginRight:m}=K.computedStyle();this.btns2.push([K,_.width+parseInt(e,10)+parseInt(m,10)])}})}function Zu(){const{el:K,btns:_,moreEl:e,btns2:m}=this,{moreBtns:g,contentEl:f}=e.dd;K.css("width",`${this.widthFn()-60}px`);const u=K.box();let h=160,s=12;const t=[],i=[];m.forEach(([r,n],l)=>{h+=n,l===m.length-1||h<u.width?t.push(r):(s+=n,i.push(r))}),_.html("").children(...t),g.html("").children(...i),f.css("width",`${s}px`),i.length>0?e.show():e.hide()}class P1{constructor(_,e,m=!1){this.data=_,this.change=()=>{},this.widthFn=e,this.isHide=m;const g=_.defaultStyle();this.items=[[this.undoEl=new A1,this.redoEl=new S1,new k1,this.paintformatEl=new u1,this.clearformatEl=new f1],Ho(),[this.formatEl=new w1],Ho(),[this.fontEl=new b1,this.fontSizeEl=new g1],Ho(),[this.boldEl=new Jb,this.italicEl=new qb,this.underlineEl=new t1,this.strikeEl=new e1,this.textColorEl=new d1(g.color)],Ho(),[this.fillColorEl=new p1(g.bgcolor),this.borderEl=new h1,this.mergeEl=new T1],Ho(),[this.alignEl=new Yb(g.align),this.valignEl=new Zb(g.valign),this.textwrapEl=new C1],Ho(),[this.freezeEl=new E1,this.autofilterEl=new Qb,this.formulaEl=new x1,this.moreEl=new I1]],this.el=ft("div",`${At}-toolbar`),this.btns=ft("div",`${At}-toolbar-btns`),this.items.forEach(f=>{Array.isArray(f)?f.forEach(u=>{this.btns.child(u.el),u.change=(...h)=>{this.change(...h)}}):this.btns.child(f.el)}),this.el.child(this.btns),m?this.el.hide():(this.reset(),setTimeout(()=>{M1.call(this),Zu.call(this)},0),Pn(window,"resize",()=>{Zu.call(this)}))}paintformatActive(){return this.paintformatEl.active()}paintformatToggle(){this.paintformatEl.toggle()}trigger(_){this[`${_}El`].click()}resetData(_){this.data=_,this.reset()}reset(){if(this.isHide)return;const{data:_}=this,e=_.getSelectedCellStyle();this.undoEl.setState(!_.canUndo()),this.redoEl.setState(!_.canRedo()),this.mergeEl.setState(_.canUnmerge(),!_.selector.multiple()),this.autofilterEl.setState(!_.canAutofilter());const{font:m,format:g}=e;this.formatEl.setState(g),this.fontEl.setState(m.name),this.fontSizeEl.setState(m.size),this.boldEl.setState(m.bold),this.italicEl.setState(m.italic),this.underlineEl.setState(e.underline),this.strikeEl.setState(e.strike),this.textColorEl.setState(e.color),this.fillColorEl.setState(e.bgcolor),this.alignEl.setState(e.align),this.valignEl.setState(e.valign),this.textwrapEl.setState(e.textwrap),this.freezeEl.setState(_.freezeIsActive())}}class D1{constructor(_,e,m="600px"){this.title=_,this.el=ft("div",`${At}-modal`).css("width",m).children(ft("div",`${At}-modal-header`).children(new hn("close").on("click.stop",()=>this.hide()),this.title),ft("div",`${At}-modal-content`).children(...e)).hide()}show(){this.dimmer=ft("div",`${At}-dimmer active`),document.body.appendChild(this.dimmer.el);const{width:_,height:e}=this.el.show().box(),{clientHeight:m,clientWidth:g}=document.documentElement;this.el.offset({left:(g-_)/2,top:(m-e)/3}),window.xkeydownEsc=f=>{f.keyCode===27&&this.hide()},Pn(window,"keydown",window.xkeydownEsc)}hide(){this.el.hide(),document.body.removeChild(this.dimmer.el),Fc(window,"keydown",window.xkeydownEsc),delete window.xkeydownEsc}}class $o{constructor(_,e){this.vchange=()=>{},this.el=ft("div",`${At}-form-input`),this.input=ft("input","").css("width",_).on("input",m=>this.vchange(m)).attr("placeholder",e),this.el.child(this.input)}focus(){setTimeout(()=>{this.input.el.focus()},10)}hint(_){this.input.attr("placeholder",_)}val(_){return this.input.val(_)}}class Zh{constructor(_,e,m,g=u=>u,f=()=>{}){this.key=_,this.getTitle=g,this.vchange=()=>{},this.el=ft("div",`${At}-form-select`),this.suggest=new Dd(e.map(u=>({key:u,title:this.getTitle(u)})),u=>{this.itemClick(u.key),f(u.key),this.vchange(u.key)},m,this.el),this.el.children(this.itemEl=ft("div","input-text").html(this.getTitle(_)),this.suggest.el).on("click",()=>this.show())}show(){this.suggest.search("")}itemClick(_){this.key=_,this.itemEl.html(this.getTitle(_))}val(_){return _!==void 0?(this.key=_,this.itemEl.html(this.getTitle(_)),this):this.key}}const L1={number:/(^\d+$)|(^\d+(\.\d{0,4})?$)/,date:/^\d{4}-\d{1,2}-\d{1,2}$/};class Ba{constructor(_,e,m,g){this.label="",this.rule=e,m&&(this.label=ft("label","label").css("width",`${g}px`).html(m)),this.tip=ft("div","tip").child("tip").hide(),this.input=_,this.input.vchange=()=>this.validate(),this.el=ft("div",`${At}-form-field`).children(this.label,_.el,this.tip)}isShow(){return this.el.css("display")!=="none"}show(){this.el.show()}hide(){return this.el.hide(),this}val(_){return this.input.val(_)}hint(_){this.input.hint(_)}validate(){const{input:_,rule:e,tip:m,el:g}=this,f=_.val();return e.required&&/^\s*$/.test(f)?(m.html(Ni("validation.required")),g.addClass("error"),!1):(e.type||e.pattern)&&!(e.pattern||L1[e.type]).test(f)?(m.html(Ni("validation.notMatch")),g.addClass("error"),!1):(g.removeClass("error"),!0)}}const Qu=100;class O1 extends D1{constructor(){const _=new Ba(new Zh("cell",["cell"],"100%",t=>Ni(`dataValidation.modeType.${t}`)),{required:!0},`${Ni("dataValidation.range")}:`,Qu),e=new Ba(new $o("120px","E3 or E3:F12"),{required:!0,pattern:/^([A-Z]{1,2}[1-9]\d*)(:[A-Z]{1,2}[1-9]\d*)?$/}),m=new Ba(new Zh("list",["list","number","date","phone","email"],"100%",t=>Ni(`dataValidation.type.${t}`),t=>this.criteriaSelected(t)),{required:!0},`${Ni("dataValidation.criteria")}:`,Qu),g=new Ba(new Zh("be",["be","nbe","eq","neq","lt","lte","gt","gte"],"160px",t=>Ni(`dataValidation.operator.${t}`),t=>this.criteriaOperatorSelected(t)),{required:!0}).hide(),f=new Ba(new $o("70px","10"),{required:!0}).hide(),u=new Ba(new $o("70px","100"),{required:!0,type:"number"}).hide(),h=new Ba(new $o("120px","a,b,c"),{required:!0}),s=new Ba(new $o("70px","10"),{required:!0,type:"number"}).hide();super(Ni("contextmenu.validation"),[ft("div",`${At}-form-fields`).children(_.el,e.el),ft("div",`${At}-form-fields`).children(m.el,g.el,f.el,u.el,s.el,h.el),ft("div",`${At}-buttons`).children(new uo("cancel").on("click",()=>this.btnClick("cancel")),new uo("remove").on("click",()=>this.btnClick("remove")),new uo("save","primary").on("click",()=>this.btnClick("save")))]),this.mf=_,this.rf=e,this.cf=m,this.of=g,this.minvf=f,this.maxvf=u,this.vf=s,this.svf=h,this.change=()=>{}}showVf(_){const e=_==="date"?"2018-11-12":"10",{vf:m}=this;m.input.hint(e),m.show()}criteriaSelected(_){const{of:e,minvf:m,maxvf:g,vf:f,svf:u}=this;_==="date"||_==="number"?(e.show(),m.rule.type=_,g.rule.type=_,_==="date"?(m.hint("2018-11-12"),g.hint("2019-11-12")):(m.hint("10"),g.hint("100")),m.show(),g.show(),f.hide(),u.hide()):(_==="list"?u.show():u.hide(),f.hide(),e.hide(),m.hide(),g.hide())}criteriaOperatorSelected(_){if(!_)return;const{minvf:e,maxvf:m,vf:g}=this;if(_==="be"||_==="nbe")e.show(),m.show(),g.hide();else{const f=this.cf.val();g.rule.type=f,f==="date"?g.hint("2018-11-12"):g.hint("10"),g.show(),e.hide(),m.hide()}}btnClick(_){if(_==="cancel")this.hide();else if(_==="remove")this.change("remove"),this.hide();else if(_==="save"){const e=["mf","rf","cf","of","svf","vf","minvf","maxvf"];for(let s=0;s<e.length;s+=1){const t=this[e[s]];if(t.isShow()&&!t.validate())return}const m=this.mf.val(),g=this.rf.val(),f=this.cf.val(),u=this.of.val();let h=this.svf.val();(f==="number"||f==="date")&&(u==="be"||u==="nbe"?h=[this.minvf.val(),this.maxvf.val()]:h=this.vf.val()),this.change("save",m,g,{type:f,operator:u,required:!1,value:h}),this.hide()}}setValue(_){if(_){const{mf:e,rf:m,cf:g,of:f,svf:u,vf:h,minvf:s,maxvf:t}=this,{mode:i,ref:r,validator:n}=_,{type:l,operator:d,value:a}=n||{type:"list"};e.val(i||"cell"),m.val(r),g.val(l),f.val(d),Array.isArray(a)?(s.val(a[0]),t.val(a[1])):(u.val(a||""),h.val(a||"")),this.criteriaSelected(l),this.criteriaOperatorSelected(d)}this.show()}}function zd(K){return ft("div",`${At}-item ${K}`)}function Ju(K){return zd("state").child(Ni(`sort.${K}`)).on("click.stop",()=>this.itemClick(K))}function N1(K){const{filterbEl:_,filterValues:e}=this;_.html(""),Object.keys(K).forEach((g,f)=>{const u=K[g],h=e.includes(g)?"checked":"";_.child(ft("div",`${At}-item state ${h}`).on("click.stop",()=>this.filterClick(f,g)).children(g===""?Ni("filter.empty"):g,ft("div","label").html(`(${u})`)))})}function qu(){const{filterhEl:K,filterValues:_,values:e}=this;K.html(`${_.length} / ${e.length}`),K.checked(_.length===e.length)}class F1{constructor(){this.filterbEl=ft("div",`${At}-body`),this.filterhEl=ft("div",`${At}-header state`).on("click.stop",()=>this.filterClick(0,"all")),this.el=ft("div",`${At}-sort-filter`).children(this.sortAscEl=Ju.call(this,"asc"),this.sortDescEl=Ju.call(this,"desc"),zd("divider"),ft("div",`${At}-filter`).children(this.filterhEl,this.filterbEl),ft("div",`${At}-buttons`).children(new uo("cancel").on("click",()=>this.btnClick("cancel")),new uo("ok","primary").on("click",()=>this.btnClick("ok")))).hide(),this.ci=null,this.sortDesc=null,this.values=null,this.filterValues=[]}btnClick(_){if(_==="ok"){const{ci:e,sort:m,filterValues:g}=this;this.ok&&this.ok(e,m,"in",g)}this.hide()}itemClick(_){this.sort=_;const{sortAscEl:e,sortDescEl:m}=this;e.checked(_==="asc"),m.checked(_==="desc")}filterClick(_,e){const{filterbEl:m,filterValues:g,values:f}=this,u=m.children();e==="all"?u.length===g.length?(this.filterValues=[],u.forEach(h=>ft(h).checked(!1))):(this.filterValues=Array.from(f),u.forEach(h=>ft(h).checked(!0))):ft(u[_]).toggle("checked")?g.push(e):g.splice(g.findIndex(s=>s===e),1),qu.call(this)}set(_,e,m,g){this.ci=_;const{sortAscEl:f,sortDescEl:u}=this;g!==null?(this.sort=g.order,f.checked(g.asc()),u.checked(g.desc())):(this.sortDesc=null,f.checked(!1),u.checked(!1)),this.values=Object.keys(e),this.filterValues=m?Array.from(m.value):Object.keys(e),N1.call(this,e,m),qu.call(this)}setOffset(_){this.el.offset(_).show();let e=1;Cl(this.el,()=>{e<=0&&this.hide(),e-=1})}show(){this.el.show()}hide(){this.el.hide(),Wo(this.el)}}function Hd(K,_){const e=ft("div",`${At}-toast`),m=ft("div",`${At}-dimmer active`),g=()=>{document.body.removeChild(e.el),document.body.removeChild(m.el)};e.children(ft("div",`${At}-toast-header`).children(new hn("close").on("click.stop",()=>g()),K),ft("div",`${At}-toast-content`).html(_)),document.body.appendChild(e.el),document.body.appendChild(m.el);const{width:f,height:u}=e.box(),{clientHeight:h,clientWidth:s}=document.documentElement;e.offset({left:(s-f)/2,top:(h-u)/3})}function Qh(K,_){let e;return(...m)=>{const g=this,f=m;e||(e=setTimeout(()=>{e=null,K.apply(g,f)},_))}}function B1(){const{data:K,verticalScrollbar:_,horizontalScrollbar:e}=this,{l:m,t:g,left:f,top:u,width:h,height:s}=K.getSelectedRect(),t=this.getTableOffset();if(Math.abs(f)+h>t.width)e.move({left:m+h-t.width});else{const i=K.freezeTotalWidth();f<i&&e.move({left:m-1-i})}if(Math.abs(u)+s>t.height)_.move({top:g+s-t.height-1});else{const i=K.freezeTotalHeight();u<i&&_.move({top:g-1-i})}}function po(K,_,e,m=!0,g=!1){if(_===-1&&e===-1)return;const{table:f,selector:u,toolbar:h,data:s,contextMenu:t}=this;t.setMode(_===-1||e===-1?"row-col":"range");const i=s.getCell(_,e);K?(u.setEnd(_,e,g),this.trigger("cells-selected",i,u.range)):(u.set(_,e,m),this.trigger("cell-selected",i,_,e)),h.reset(),f.render()}function Ds(K,_){const{selector:e,data:m}=this,{rows:g,cols:f}=m;let[u,h]=e.indexes;const{eri:s,eci:t}=e.range;K&&([u,h]=e.moveIndexes),_==="left"?h>0&&(h-=1):_==="right"?(t!==h&&(h=t),h<f.len-1&&(h+=1)):_==="up"?u>0&&(u-=1):_==="down"?(s!==u&&(u=s),u<g.len-1&&(u+=1)):_==="row-first"?h=0:_==="row-last"?h=f.len-1:_==="col-first"?u=0:_==="col-last"&&(u=g.len-1),K&&(e.moveIndexes=[u,h]),po.call(this,K,u,h),B1.call(this)}function U1(K){if(K.buttons!==0||K.target.className===`${At}-resizer-hover`)return;const{offsetX:_,offsetY:e}=K,{rowResizer:m,colResizer:g,tableEl:f,data:u}=this,{rows:h,cols:s}=u;if(_>s.indexWidth&&e>h.height){m.hide(),g.hide();return}const t=f.box(),i=u.getCellRectByXY(K.offsetX,K.offsetY);i.ri>=0&&i.ci===-1?(i.width=s.indexWidth,m.show(i,{width:t.width}),h.isHide(i.ri-1)?m.showUnhide(i.ri):m.hideUnhide()):m.hide(),i.ri===-1&&i.ci>=0?(i.height=h.height,g.show(i,{height:t.height}),s.isHide(i.ci-1)?g.showUnhide(i.ci):g.hideUnhide()):g.hide()}function j1(K){const{verticalScrollbar:_,horizontalScrollbar:e,data:m}=this,{top:g}=_.scroll(),{left:f}=e.scroll(),{rows:u,cols:h}=m,{deltaY:s,deltaX:t}=K,i=(v,y)=>{let p=v,E=0;do E=y(p),p+=1;while(E<=0);return E},r=v=>{if(v>0){const y=m.scroll.ri+1;if(y<u.len){const p=i(y,E=>u.getHeight(E));_.move({top:g+p-1})}}else{const y=m.scroll.ri-1;if(y>=0){const p=i(y,E=>u.getHeight(E));_.move({top:y===0?0:g-p})}}},n=v=>{if(v>0){const y=m.scroll.ci+1;if(y<h.len){const p=i(y,E=>h.getWidth(E));e.move({left:f+p-1})}}else{const y=m.scroll.ci-1;if(y>=0){const p=i(y,E=>h.getWidth(E));e.move({left:y===0?0:f-p})}}},l=Math.abs(s),d=Math.abs(t),a=Math.max(l,d);/Firefox/i.test(window.navigator.userAgent)&&Qh(r(K.detail),50),a===d&&Qh(n(t),50),a===l&&Qh(r(s),50)}function z1(K,_){const{verticalScrollbar:e,horizontalScrollbar:m}=this,{top:g}=e.scroll(),{left:f}=m.scroll();K==="left"||K==="right"?m.move({left:f-_}):(K==="up"||K==="down")&&e.move({top:g-_})}function _f(){const{data:K,verticalScrollbar:_}=this,{height:e}=this.getTableOffset(),m=K.exceptRowTotalHeight(0,-1);_.set(e,K.rows.totalHeight()-m)}function xf(){const{data:K,horizontalScrollbar:_}=this,{width:e}=this.getTableOffset();K&&_.set(e,K.cols.totalWidth())}function H1(){const{selector:K,data:_,editor:e}=this,[m,g]=_.freeze;if(m>0||g>0){const f=_.freezeTotalWidth(),u=_.freezeTotalHeight();e.setFreezeLengths(f,u)}K.resetAreaOffset()}function Mn(){const{tableEl:K,overlayerEl:_,overlayerCEl:e,table:m,toolbar:g,selector:f,el:u}=this,h=this.getTableOffset(),s=this.getRect();K.attr(s),_.offset(s),e.offset(h),u.css("width",`${s.width}px`),_f.call(this),xf.call(this),H1.call(this),m.render(),g.reset(),f.reset()}function Rl(){const{data:K,selector:_}=this;K.clearClipboard(),_.hideClipboard()}function hf(){const{data:K,selector:_}=this;K.copy(),K.copyToSystemClipboard(),_.showClipboard()}function ed(){const{data:K,selector:_}=this;K.cut(),_.showClipboard()}function Tl(K,_){const{data:e}=this;if(e.settings.mode!=="read"){if(e.paste(K,m=>Hd("Tip",m)))Mn.call(this);else if(_){const m=_.clipboardData.getData("text/plain");this.data.pasteFromText(m),Mn.call(this)}}}function $1(){this.data.hideRowsOrCols(),Mn.call(this)}function td(K,_){this.data.unhideRowsOrCols(K,_),Mn.call(this)}function W1(){const{data:K}=this;K.autofilter(),Mn.call(this)}function V1(){const{toolbar:K}=this;K.paintformatActive()&&(Tl.call(this,"format"),Rl.call(this),K.paintformatToggle())}function rd(K){const{selector:_,data:e,table:m,sortFilter:g}=this,{offsetX:f,offsetY:u}=K,h=K.target.className===`${At}-selector-corner`,s=e.getCellRectByXY(f,u),{left:t,top:i,width:r,height:n}=s;let{ri:l,ci:d}=s;const{autoFilter:a}=e;if(a.includes(l,d)&&t+r-20<f&&i+n-20<u){const v=a.items(d,(y,p)=>e.rows.getCell(y,p));g.hide(),g.set(d,v,a.getFilter(d),a.getSort(d)),g.setOffset({left:t,top:i+n+2});return}K.shiftKey||(h?_.showAutofill(l,d):po.call(this,!1,l,d),Cd(window,v=>{({ri:l,ci:d}=e.getCellRectByXY(v.offsetX,v.offsetY)),h?_.showAutofill(l,d):v.buttons===1&&!v.shiftKey&&po.call(this,!0,l,d,!0,!0)},()=>{h&&_.arange&&e.settings.mode!=="read"&&e.autofill(_.arange,"all",v=>Hd("Tip",v))&&m.render(),_.hideAutofill(),V1.call(this)})),!h&&K.buttons===1&&K.shiftKey&&po.call(this,!0,l,d)}function Il(){const{editor:K,data:_}=this,e=_.getSelectedRect(),m=this.getTableOffset();let g="top";e.top>m.height/2&&(g="bottom"),K.setOffset(e,g)}function Sl(){const{editor:K,data:_}=this;_.settings.mode!=="read"&&(Il.call(this),K.setCell(_.getSelectedCell(),_.getSelectedValidator()),Rl.call(this))}function X1(K){const{data:_,table:e,selector:m}=this;_.scrolly(K,()=>{m.resetBRLAreaOffset(),Il.call(this),e.render()})}function G1(K){const{data:_,table:e,selector:m}=this;_.scrollx(K,()=>{m.resetBRTAreaOffset(),Il.call(this),e.render()})}function K1(K,_){const{ri:e}=K,{table:m,selector:g,data:f}=this;f.rows.setHeight(e,_),m.render(),g.resetAreaOffset(),_f.call(this),Il.call(this)}function Y1(K,_){const{ci:e}=K,{table:m,selector:g,data:f}=this;f.cols.setWidth(e,_),m.render(),g.resetAreaOffset(),xf.call(this),Il.call(this)}function Jh(K,_="finished"){const{data:e,table:m}=this;if(e.settings.mode==="read")return;e.setSelectedCellText(K,_);const{ri:g,ci:f}=e.selector;_==="finished"?m.render():this.trigger("cell-edited",K,g,f)}function Oc(K){const{data:_}=this;_.settings.mode!=="read"&&(K==="insert-row"?_.insert("row"):K==="delete-row"?_.delete("row"):K==="insert-column"?_.insert("column"):K==="delete-column"?_.delete("column"):K==="delete-cell"?_.deleteCell():K==="delete-cell-format"?_.deleteCell("format"):K==="delete-cell-text"?_.deleteCell("text"):K==="cell-printable"?_.setSelectedCellAttr("printable",!0):K==="cell-non-printable"?_.setSelectedCellAttr("printable",!1):K==="cell-editable"?_.setSelectedCellAttr("editable",!0):K==="cell-non-editable"&&_.setSelectedCellAttr("editable",!1),Rl.call(this),Mn.call(this))}function Z1(K,_){const{data:e}=this;if(K==="undo")this.undo();else if(K==="redo")this.redo();else if(K==="print")this.print.preview();else if(K==="paintformat")_===!0?hf.call(this):Rl.call(this);else if(K==="clearformat")Oc.call(this,"delete-cell-format");else if(K!=="link"){if(K!=="chart")if(K==="autofilter")W1.call(this);else if(K==="freeze")if(_){const{ri:m,ci:g}=e.selector;this.freeze(m,g)}else this.freeze(0,0);else e.setSelectedCellAttr(K,_),K==="formula"&&!e.selector.multiple()&&Sl.call(this),Mn.call(this)}}function Q1(K,_,e,m){this.data.setAutoFilter(K,_,e,m),Mn.call(this)}function J1(){const{selector:K,overlayerEl:_,rowResizer:e,colResizer:m,verticalScrollbar:g,horizontalScrollbar:f,editor:u,contextMenu:h,toolbar:s,modalValidation:t,sortFilter:i}=this;_.on("mousemove",r=>{U1.call(this,r)}).on("mousedown",r=>{u.clear(),h.hide(),r.buttons===2?(this.data.xyInSelectedRect(r.offsetX,r.offsetY)||rd.call(this,r),h.setPosition(r.offsetX,r.offsetY),r.stopPropagation()):r.detail===2?Sl.call(this):rd.call(this,r)}).on("mousewheel.stop",r=>{j1.call(this,r)}).on("mouseout",r=>{const{offsetX:n,offsetY:l}=r;l<=0&&m.hide(),n<=0&&e.hide()}),K.inputChange=r=>{Jh.call(this,r,"input"),Sl.call(this)},sb(_.el,{move:(r,n)=>{z1.call(this,r,n)}}),s.change=(r,n)=>Z1.call(this,r,n),i.ok=(r,n,l,d)=>Q1.call(this,r,n,l,d),e.finishedFn=(r,n)=>{K1.call(this,r,n)},m.finishedFn=(r,n)=>{Y1.call(this,r,n)},e.unhideFn=r=>{td.call(this,"row",r)},m.unhideFn=r=>{td.call(this,"col",r)},g.moveFn=(r,n)=>{X1.call(this,r,n)},f.moveFn=(r,n)=>{G1.call(this,r,n)},u.change=(r,n)=>{Jh.call(this,n,r)},t.change=(r,...n)=>{r==="save"?this.data.addValidation(...n):this.data.removeValidation()},h.itemClick=r=>{r==="validation"?t.setValue(this.data.getSelectedValidation()):r==="copy"?hf.call(this):r==="cut"?ed.call(this):r==="paste"?Tl.call(this,"all"):r==="paste-value"?Tl.call(this,"text"):r==="paste-format"?Tl.call(this,"format"):r==="hide"?$1.call(this):Oc.call(this,r)},Pn(window,"resize",()=>{this.reload()}),Pn(window,"click",r=>{this.focusing=_.contains(r.target)}),Pn(window,"paste",r=>{this.focusing&&(Tl.call(this,"all",r),r.preventDefault())}),Pn(window,"keydown",r=>{if(!this.focusing)return;const n=r.keyCode||r.which,{key:l,ctrlKey:d,shiftKey:a,metaKey:v}=r;if(d||v)switch(n){case 90:this.undo(),r.preventDefault();break;case 89:this.redo(),r.preventDefault();break;case 67:hf.call(this),r.preventDefault();break;case 88:ed.call(this),r.preventDefault();break;case 85:s.trigger("underline"),r.preventDefault();break;case 86:break;case 37:Ds.call(this,a,"row-first"),r.preventDefault();break;case 38:Ds.call(this,a,"col-first"),r.preventDefault();break;case 39:Ds.call(this,a,"row-last"),r.preventDefault();break;case 40:Ds.call(this,a,"col-last"),r.preventDefault();break;case 32:po.call(this,!1,-1,this.data.selector.ci,!1),r.preventDefault();break;case 66:s.trigger("bold");break;case 73:s.trigger("italic");break}else{switch(n){case 32:a&&po.call(this,!1,this.data.selector.ri,-1,!1);break;case 27:h.hide(),Rl.call(this);break;case 37:Ds.call(this,a,"left"),r.preventDefault();break;case 38:Ds.call(this,a,"up"),r.preventDefault();break;case 39:Ds.call(this,a,"right"),r.preventDefault();break;case 40:Ds.call(this,a,"down"),r.preventDefault();break;case 9:u.clear(),Ds.call(this,!1,a?"left":"right"),r.preventDefault();break;case 13:u.clear(),Ds.call(this,!1,a?"up":"down"),r.preventDefault();break;case 8:Oc.call(this,"delete-cell-text"),r.preventDefault();break}l==="Delete"?(Oc.call(this,"delete-cell-text"),r.preventDefault()):n>=65&&n<=90||n>=48&&n<=57||n>=96&&n<=105||r.key==="="?(Jh.call(this,r.key,"input"),Sl.call(this)):n===113&&Sl.call(this)}})}class q1{constructor(_,e){this.eventMap=ab();const{view:m,showToolbar:g,showContextmenu:f}=e.settings;this.el=ft("div",`${At}-sheet`),this.toolbar=new P1(e,m.width,!g),this.print=new Hb(e),_.children(this.toolbar.el,this.el,this.print.el),this.data=e,this.tableEl=ft("canvas",`${At}-table`),this.rowResizer=new Bu(!1,e.rows.height),this.colResizer=new Bu(!0,e.cols.minWidth),this.verticalScrollbar=new Uu(!0),this.horizontalScrollbar=new Uu(!1),this.editor=new Tb(Mb,()=>this.getTableOffset(),e.rows.height),this.modalValidation=new O1,this.contextMenu=new Xb(()=>this.getRect(),!f),this.selector=new cb(e),this.overlayerCEl=ft("div",`${At}-overlayer-content`).children(this.editor.el,this.selector.el),this.overlayerEl=ft("div",`${At}-overlayer`).child(this.overlayerCEl),this.sortFilter=new F1,this.el.children(this.tableEl,this.overlayerEl.el,this.rowResizer.el,this.colResizer.el,this.verticalScrollbar.el,this.horizontalScrollbar.el,this.contextMenu.el,this.modalValidation.el,this.sortFilter.el),this.table=new Ub(this.tableEl.el,e),J1.call(this),Mn.call(this),po.call(this,!1,0,0)}on(_,e){return this.eventMap.on(_,e),this}trigger(_,...e){const{eventMap:m}=this;m.fire(_,e)}resetData(_){this.editor.clear(),this.data=_,_f.call(this),xf.call(this),this.toolbar.resetData(_),this.print.resetData(_),this.selector.resetData(_),this.table.resetData(_)}loadData(_){return this.data.setData(_),Mn.call(this),this}freeze(_,e){const{data:m}=this;return m.setFreeze(_,e),Mn.call(this),this}undo(){this.data.undo(),Mn.call(this)}redo(){this.data.redo(),Mn.call(this)}reload(){return Mn.call(this),this}getRect(){const{data:_}=this;return{width:_.viewWidth(),height:_.viewHeight()}}getTableOffset(){const{rows:_,cols:e}=this.data,{width:m,height:g}=this.getRect();return{width:m-e.indexWidth,height:g-_.height,left:e.indexWidth,top:_.height}}}class ey extends Fs{constructor(_){const e=new hn("ellipsis");super(e,"auto",!1,"top-left"),this.contentClick=_}reset(_){const e=_.map((m,g)=>ft("div",`${At}-item`).css("width","150px").css("font-weight","normal").on("click",()=>{this.contentClick(g),this.hide()}).child(m));this.setContentChildren(...e)}setTitle(){}}const ty=[{key:"delete",title:zr("contextmenu.deleteSheet")}];function ry(K){return ft("div",`${At}-item`).child(K.title()).on("click",()=>{this.itemClick(K.key),this.hide()})}function iy(){return ty.map(K=>ry.call(this,K))}class ny{constructor(){this.el=ft("div",`${At}-contextmenu`).css("width","160px").children(...iy.call(this)).hide(),this.itemClick=()=>{}}hide(){const{el:_}=this;_.hide(),Wo(_)}setOffset(_){const{el:e}=this;e.offset(_),e.show(),Cl(e)}}class sy{constructor(_=()=>{},e=()=>{},m=()=>{},g=()=>{}){this.swapFunc=e,this.updateFunc=g,this.dataNames=[],this.activeEl=null,this.deleteEl=null,this.items=[],this.moreEl=new ey(f=>{this.clickSwap2(this.items[f])}),this.contextMenu=new ny,this.contextMenu.itemClick=m,this.el=ft("div",`${At}-bottombar`).children(this.contextMenu.el,this.menuEl=ft("ul",`${At}-menu`).child(ft("li","").children(new hn("add").on("click",()=>{_()}),ft("span","").child(this.moreEl))))}addItem(_,e){this.dataNames.push(_);const m=ft("li",e?"active":"").child(_);m.on("click",()=>{this.clickSwap2(m)}).on("contextmenu",g=>{const{offsetLeft:f,offsetHeight:u}=g.target;this.contextMenu.setOffset({left:f,bottom:u+1}),this.deleteEl=m}).on("dblclick",()=>{const g=m.html(),f=new $o("auto","");f.val(g),f.input.on("blur",({target:u})=>{const{value:h}=u,s=this.dataNames.findIndex(t=>t===g);this.renameItem(s,h)}),m.html("").child(f.el),f.focus()}),e&&this.clickSwap(m),this.items.push(m),this.menuEl.child(m),this.moreEl.reset(this.dataNames)}renameItem(_,e){this.dataNames.splice(_,1,e),this.moreEl.reset(this.dataNames),this.items[_].html("").child(e),this.updateFunc(_,e)}clear(){this.items.forEach(_=>{this.menuEl.removeChild(_.el)}),this.items=[],this.dataNames=[],this.moreEl.reset(this.dataNames)}deleteItem(){const{activeEl:_,deleteEl:e}=this;if(this.items.length>1){const m=this.items.findIndex(g=>g===e);if(this.items.splice(m,1),this.dataNames.splice(m,1),this.menuEl.removeChild(e.el),this.moreEl.reset(this.dataNames),_===e){const[g]=this.items;return this.activeEl=g,this.activeEl.toggle(),[m,0]}return[m,-1]}return[-1]}clickSwap2(_){const e=this.items.findIndex(m=>m===_);this.clickSwap(_),this.activeEl.toggle(),this.swapFunc(e)}clickSwap(_){this.activeEl!==null&&this.activeEl.toggle(),this.activeEl=_}}class ay{constructor(_,e={}){let m=_;this.options={showBottomBar:!0,...e},this.sheetIndex=1,this.datas=[],typeof _=="string"&&(m=document.querySelector(_)),this.bottombar=this.options.showBottomBar?new sy(()=>{const f=this.addSheet();this.sheet.resetData(f)},f=>{const u=this.datas[f];this.sheet.resetData(u)},()=>{this.deleteSheet()},(f,u)=>{this.datas[f].name=u}):null,this.data=this.addSheet();const g=ft("div",`${At}`).on("contextmenu",f=>f.preventDefault());m.appendChild(g.el),this.sheet=new q1(g,this.data),this.bottombar!==null&&g.child(this.bottombar.el)}addSheet(_,e=!0){const m=_||`sheet${this.sheetIndex}`,g=new nb(m,this.options);return g.change=(...f)=>{this.sheet.trigger("change",...f)},this.datas.push(g),this.bottombar!==null&&this.bottombar.addItem(m,e),this.sheetIndex+=1,g}deleteSheet(){if(this.bottombar===null)return;const[_,e]=this.bottombar.deleteItem();_>=0&&(this.datas.splice(_,1),e>=0&&this.sheet.resetData(this.datas[e]))}loadData(_){const e=Array.isArray(_)?_:[_];if(this.bottombar!==null&&this.bottombar.clear(),this.datas=[],e.length>0)for(let m=0;m<e.length;m+=1){const g=e[m],f=this.addSheet(g.name,m===0);f.setData(g),m===0&&this.sheet.resetData(f)}return this}getData(){return this.datas.map(_=>_.getData())}cellText(_,e,m,g=0){return this.datas[g].setCellText(_,e,m,"finished"),this}cell(_,e,m=0){return this.datas[m].getCell(_,e)}cellStyle(_,e,m=0){return this.datas[m].getCellStyle(_,e)}reRender(){return this.sheet.table.render(),this}on(_,e){return this.sheet.on(_,e),this}validate(){const{validations:_}=this.data;return _.errors.size<=0}change(_){return this.sheet.on("change",_),this}static locale(_,e){Ad(_,e)}}const oy=(K,_={})=>new ay(K,_);window&&(window.x_spreadsheet=oy,window.x_spreadsheet.locale=(K,_)=>Ad(K,_));var Hc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Hc.exports;(function(K,_){(function(){var e,m="4.17.21",g=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",t=500,i="__lodash_placeholder__",r=1,n=2,l=4,d=1,a=2,v=1,y=2,p=4,E=8,T=16,S=32,A=64,w=128,I=256,D=512,V=30,ie="...",te=800,re=16,Z=1,W=2,j=3,O=1/0,C=9007199254740991,F=17976931348623157e292,H=NaN,$=4294967295,Y=$-1,z=$>>>1,B=[["ary",w],["bind",v],["bindKey",y],["curry",E],["curryRight",T],["flip",D],["partial",S],["partialRight",A],["rearg",I]],L="[object Arguments]",G="[object Array]",le="[object AsyncFunction]",ge="[object Boolean]",Ie="[object Date]",Oe="[object DOMException]",Ke="[object Error]",De="[object Function]",Ee="[object GeneratorFunction]",Q="[object Map]",ue="[object Number]",xe="[object Null]",_e="[object Object]",ce="[object Promise]",de="[object Proxy]",he="[object RegExp]",se="[object Set]",ne="[object String]",we="[object Symbol]",Ne="[object Undefined]",ae="[object WeakMap]",Pe="[object WeakSet]",ze="[object ArrayBuffer]",ve="[object DataView]",Ae="[object Float32Array]",Be="[object Float64Array]",We="[object Int8Array]",Je="[object Int16Array]",Ge="[object Int32Array]",et="[object Uint8Array]",ut="[object Uint8ClampedArray]",at="[object Uint16Array]",Fe="[object Uint32Array]",Qe=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ut=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&<>"']/g,kt=RegExp(Ut.source),Nt=RegExp(jt.source),Tt=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$t=/^\w*$/,Sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mr=/[\\^$.*+?()[\]{}|]/g,Xt=RegExp(mr.source),hr=/^\s+/,Mr=/\s/,ir=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vr=/\{\n\/\* \[wrapped with (.+)\] \*/,Nr=/,? & /,qt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pr=/[()=,{}\[\]\/\s]/,ur=/\\(\\)?/g,rr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ar=/\w*$/,dr=/^[-+]0x[0-9a-f]+$/i,tr=/^0b[01]+$/i,Hr=/^\[object .+?Constructor\]$/,or=/^0o[0-7]+$/i,nr=/^(?:0|[1-9]\d*)$/,Ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it=/($^)/,ot=/['\n\r\u2028\u2029\\]/g,Rt="\\ud800-\\udfff",zt="\\u0300-\\u036f",gr="\\ufe20-\\ufe2f",Gr="\\u20d0-\\u20ff",di=zt+gr+Gr,gi="\\u2700-\\u27bf",ci="a-z\\xdf-\\xf6\\xf8-\\xff",ti="\\xac\\xb1\\xd7\\xf7",fn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",en="\\u2000-\\u206f",Yr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ki="A-Z\\xc0-\\xd6\\xd8-\\xde",Yi="\\ufe0e\\ufe0f",_i=ti+fn+en+Yr,Fi="[']",Di="["+Rt+"]",tn="["+_i+"]",vr="["+di+"]",Zi="\\d+",Hi="["+gi+"]",ys="["+ci+"]",ss="[^"+Rt+_i+Zi+gi+ci+Ki+"]",ws="\\ud83c[\\udffb-\\udfff]",ga="(?:"+vr+"|"+ws+")",Bs="[^"+Rt+"]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",Gn="[\\ud800-\\udbff][\\udc00-\\udfff]",nn="["+Ki+"]",va="\\u200d",Dn="(?:"+ys+"|"+ss+")",Kn="(?:"+nn+"|"+ss+")",sn="(?:"+Fi+"(?:d|ll|m|re|s|t|ve))?",_s="(?:"+Fi+"(?:D|LL|M|RE|S|T|VE))?",ba=ga+"?",un="["+Yi+"]?",Us="(?:"+va+"(?:"+[Bs,rn,Gn].join("|")+")"+un+ba+")*",xs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Va="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ya=un+ba+Us,wa="(?:"+[Hi,rn,Gn].join("|")+")"+ya,$i="(?:"+[Bs+vr+"?",vr,rn,Gn,Di].join("|")+")",Es=RegExp(Fi,"g"),_a=RegExp(vr,"g"),dn=RegExp(ws+"(?="+ws+")|"+$i+ya,"g"),xa=RegExp([nn+"?"+ys+"+"+sn+"(?="+[tn,nn,"$"].join("|")+")",Kn+"+"+_s+"(?="+[tn,nn+Dn,"$"].join("|")+")",nn+"?"+Dn+"+"+sn,nn+"+"+_s,Va,xs,Zi,wa].join("|"),"g"),an=RegExp("["+va+Rt+di+Yi+"]"),pn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,js=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yn=-1,jr={};jr[Ae]=jr[Be]=jr[We]=jr[Je]=jr[Ge]=jr[et]=jr[ut]=jr[at]=jr[Fe]=!0,jr[L]=jr[G]=jr[ze]=jr[ge]=jr[ve]=jr[Ie]=jr[Ke]=jr[De]=jr[Q]=jr[ue]=jr[_e]=jr[he]=jr[se]=jr[ne]=jr[ae]=!1;var Dr={};Dr[L]=Dr[G]=Dr[ze]=Dr[ve]=Dr[ge]=Dr[Ie]=Dr[Ae]=Dr[Be]=Dr[We]=Dr[Je]=Dr[Ge]=Dr[Q]=Dr[ue]=Dr[_e]=Dr[he]=Dr[se]=Dr[ne]=Dr[we]=Dr[et]=Dr[ut]=Dr[at]=Dr[Fe]=!0,Dr[Ke]=Dr[De]=Dr[ae]=!1;var zs={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ts={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,qe=parseInt,vt=typeof br=="object"&&br&&br.Object===Object&&br,Ot=typeof self=="object"&&self&&self.Object===Object&&self,sr=vt||Ot||Function("return this")(),Zt=_&&!_.nodeType&&_,Lr=Zt&&!0&&K&&!K.nodeType&&K,Fr=Lr&&Lr.exports===Zt,Zr=Fr&&vt.process,kr=function(){try{var tt=Lr&&Lr.require&&Lr.require("util").types;return tt||Zr&&Zr.binding&&Zr.binding("util")}catch{}}(),xi=kr&&kr.isArrayBuffer,vi=kr&&kr.isDate,si=kr&&kr.isMap,ai=kr&&kr.isRegExp,bi=kr&&kr.isSet,Bi=kr&&kr.isTypedArray;function ri(tt,pt,ht){switch(ht.length){case 0:return tt.call(pt);case 1:return tt.call(pt,ht[0]);case 2:return tt.call(pt,ht[0],ht[1]);case 3:return tt.call(pt,ht[0],ht[1],ht[2])}return tt.apply(pt,ht)}function Wi(tt,pt,ht,Bt){for(var pr=-1,Xr=tt==null?0:tt.length;++pr<Xr;){var Si=tt[pr];pt(Bt,Si,ht(Si),tt)}return Bt}function pi(tt,pt){for(var ht=-1,Bt=tt==null?0:tt.length;++ht<Bt&&pt(tt[ht],ht,tt)!==!1;);return tt}function Ln(tt,pt){for(var ht=tt==null?0:tt.length;ht--&&pt(tt[ht],ht,tt)!==!1;);return tt}function wn(tt,pt){for(var ht=-1,Bt=tt==null?0:tt.length;++ht<Bt;)if(!pt(tt[ht],ht,tt))return!1;return!0}function Qi(tt,pt){for(var ht=-1,Bt=tt==null?0:tt.length,pr=0,Xr=[];++ht<Bt;){var Si=tt[ht];pt(Si,ht,tt)&&(Xr[pr++]=Si)}return Xr}function Ce(tt,pt){var ht=tt==null?0:tt.length;return!!ht&&ei(tt,pt,0)>-1}function Ve(tt,pt,ht){for(var Bt=-1,pr=tt==null?0:tt.length;++Bt<pr;)if(ht(pt,tt[Bt]))return!0;return!1}function st(tt,pt){for(var ht=-1,Bt=tt==null?0:tt.length,pr=Array(Bt);++ht<Bt;)pr[ht]=pt(tt[ht],ht,tt);return pr}function xt(tt,pt){for(var ht=-1,Bt=pt.length,pr=tt.length;++ht<Bt;)tt[pr+ht]=pt[ht];return tt}function Ht(tt,pt,ht,Bt){var pr=-1,Xr=tt==null?0:tt.length;for(Bt&&Xr&&(ht=tt[++pr]);++pr<Xr;)ht=pt(ht,tt[pr],pr,tt);return ht}function Ft(tt,pt,ht,Bt){var pr=tt==null?0:tt.length;for(Bt&&pr&&(ht=tt[--pr]);pr--;)ht=pt(ht,tt[pr],pr,tt);return ht}function yr(tt,pt){for(var ht=-1,Bt=tt==null?0:tt.length;++ht<Bt;)if(pt(tt[ht],ht,tt))return!0;return!1}var Qr=mn("length");function fr(tt){return tt.split("")}function hi(tt){return tt.match(qt)||[]}function Ei(tt,pt,ht){var Bt;return ht(tt,function(pr,Xr,Si){if(pt(pr,Xr,Si))return Bt=Xr,!1}),Bt}function yi(tt,pt,ht,Bt){for(var pr=tt.length,Xr=ht+(Bt?1:-1);Bt?Xr--:++Xr<pr;)if(pt(tt[Xr],Xr,tt))return Xr;return-1}function ei(tt,pt,ht){return pt===pt?Dl(tt,pt,ht):yi(tt,Vi,ht)}function on(tt,pt,ht,Bt){for(var pr=ht-1,Xr=tt.length;++pr<Xr;)if(Bt(tt[pr],pt))return pr;return-1}function Vi(tt){return tt!==tt}function On(tt,pt){var ht=tt==null?0:tt.length;return ht?Ti(tt,pt)/ht:H}function mn(tt){return function(pt){return pt==null?e:pt[tt]}}function Nn(tt){return function(pt){return tt==null?e:tt[pt]}}function $s(tt,pt,ht,Bt,pr){return pr(tt,function(Xr,Si,Er){ht=Bt?(Bt=!1,Xr):pt(ht,Xr,Si,Er)}),ht}function Ea(tt,pt){var ht=tt.length;for(tt.sort(pt);ht--;)tt[ht]=tt[ht].value;return tt}function Ti(tt,pt){for(var ht,Bt=-1,pr=tt.length;++Bt<pr;){var Xr=pt(tt[Bt]);Xr!==e&&(ht=ht===e?Xr:ht+Xr)}return ht}function xr(tt,pt){for(var ht=-1,Bt=Array(tt);++ht<tt;)Bt[ht]=pt(ht);return Bt}function Xo(tt,pt){return st(pt,function(ht){return[ht,tt[ht]]})}function Ws(tt){return tt&&tt.slice(0,Ol(tt)+1).replace(hr,"")}function Li(tt){return function(pt){return tt(pt)}}function Vs(tt,pt){return st(pt,function(ht){return tt[ht]})}function gn(tt,pt){return tt.has(pt)}function Xa(tt,pt){for(var ht=-1,Bt=tt.length;++ht<Bt&&ei(pt,tt[ht],0)>-1;);return ht}function Ta(tt,pt){for(var ht=tt.length;ht--&&ei(pt,tt[ht],0)>-1;);return ht}function Sa(tt,pt){for(var ht=tt.length,Bt=0;ht--;)tt[ht]===pt&&++Bt;return Bt}var Ga=Nn(zs),Xs=Nn(Ts);function Go(tt){return"\\"+Zn[tt]}function Ml(tt,pt){return tt==null?e:tt[pt]}function Ji(tt){return an.test(tt)}function Pl(tt){return pn.test(tt)}function Gc(tt){for(var pt,ht=[];!(pt=tt.next()).done;)ht.push(pt.value);return ht}function go(tt){var pt=-1,ht=Array(tt.size);return tt.forEach(function(Bt,pr){ht[++pt]=[pr,Bt]}),ht}function Ko(tt,pt){return function(ht){return tt(pt(ht))}}function Qn(tt,pt){for(var ht=-1,Bt=tt.length,pr=0,Xr=[];++ht<Bt;){var Si=tt[ht];(Si===pt||Si===i)&&(tt[ht]=i,Xr[pr++]=ht)}return Xr}function Gs(tt){var pt=-1,ht=Array(tt.size);return tt.forEach(function(Bt){ht[++pt]=Bt}),ht}function Kc(tt){var pt=-1,ht=Array(tt.size);return tt.forEach(function(Bt){ht[++pt]=[Bt,Bt]}),ht}function Dl(tt,pt,ht){for(var Bt=ht-1,pr=tt.length;++Bt<pr;)if(tt[Bt]===pt)return Bt;return-1}function Ll(tt,pt,ht){for(var Bt=ht+1;Bt--;)if(tt[Bt]===pt)return Bt;return Bt}function Ks(tt){return Ji(tt)?vo(tt):Qr(tt)}function Fn(tt){return Ji(tt)?Zc(tt):fr(tt)}function Ol(tt){for(var pt=tt.length;pt--&&Mr.test(tt.charAt(pt)););return pt}var Yc=Nn(Hs);function vo(tt){for(var pt=dn.lastIndex=0;dn.test(tt);)++pt;return pt}function Zc(tt){return tt.match(dn)||[]}function Qc(tt){return tt.match(xa)||[]}var Jc=function tt(pt){pt=pt==null?sr:Aa.defaults(sr.Object(),pt,Aa.pick(sr,js));var ht=pt.Array,Bt=pt.Date,pr=pt.Error,Xr=pt.Function,Si=pt.Math,Er=pt.Object,Yo=pt.RegExp,bo=pt.String,ln=pt.TypeError,yo=ht.prototype,qc=Xr.prototype,Bn=Er.prototype,Ss=pt["__core-js_shared__"],wo=qc.toString,Kr=Bn.hasOwnProperty,As=0,Oi=function(){var x=/[^.]+$/.exec(Ss&&Ss.keys&&Ss.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),ka=Bn.toString,Ka=wo.call(Er),_o=sr._,Zo=Yo("^"+wo.call(Kr).replace(mr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ca=Fr?pt.Buffer:e,Ai=pt.Symbol,Ya=pt.Uint8Array,Qo=Ca?Ca.allocUnsafe:e,_n=Ko(Er.getPrototypeOf,Er),Jo=Er.create,Nl=Bn.propertyIsEnumerable,xo=yo.splice,qo=Ai?Ai.isConcatSpreadable:e,Ys=Ai?Ai.iterator:e,as=Ai?Ai.toStringTag:e,Ra=function(){try{var x=oo(Er,"defineProperty");return x({},"",{}),x}catch{}}(),Zs=pt.clearTimeout!==sr.clearTimeout&&pt.clearTimeout,eh=Bt&&Bt.now!==sr.Date.now&&Bt.now,th=pt.setTimeout!==sr.setTimeout&&pt.setTimeout,Za=Si.ceil,Qs=Si.floor,Qa=Er.getOwnPropertySymbols,Fl=Ca?Ca.isBuffer:e,el=pt.isFinite,tl=yo.join,Bl=Ko(Er.keys,Er),ki=Si.max,Xi=Si.min,Ia=Bt.now,rh=pt.parseInt,Ul=Si.random,jl=yo.reverse,rl=oo(pt,"DataView"),Ja=oo(pt,"Map"),Eo=oo(pt,"Promise"),Ma=oo(pt,"Set"),qa=oo(pt,"WeakMap"),eo=oo(Er,"create"),To=qa&&new qa,ks={},ih=lo(rl),zl=lo(Ja),Hl=lo(Eo),nh=lo(Ma),$l=lo(qa),to=Ai?Ai.prototype:e,Un=to?to.valueOf:e,Jn=to?to.toString:e;function Me(x){if(wi(x)&&!_r(x)&&!(x instanceof Or)){if(x instanceof xn)return x;if(Kr.call(x,"__wrapped__"))return Gf(x)}return new xn(x)}var Pa=function(){function x(){}return function(P){if(!mi(P))return{};if(Jo)return Jo(P);x.prototype=P;var q=new x;return x.prototype=e,q}}();function So(){}function xn(x,P){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!P,this.__index__=0,this.__values__=e}Me.templateSettings={escape:Tt,evaluate:Mt,interpolate:Dt,variable:"",imports:{_:Me}},Me.prototype=So.prototype,Me.prototype.constructor=Me,xn.prototype=Pa(So.prototype),xn.prototype.constructor=xn;function Or(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function sh(){var x=new Or(this.__wrapped__);return x.__actions__=An(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=An(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=An(this.__views__),x}function Js(){if(this.__filtered__){var x=new Or(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function Wl(){var x=this.__wrapped__.value(),P=this.__dir__,q=_r(x),fe=P<0,Se=q?x.length:0,Le=np(0,Se,this.__views__),Xe=Le.start,Ye=Le.end,nt=Ye-Xe,bt=fe?Ye:Xe-1,yt=this.__iteratees__,Et=yt.length,Lt=0,Yt=Xi(nt,this.__takeCount__);if(!q||!fe&&Se==nt&&Yt==nt)return Rs(x,this.__actions__);var lr=[];e:for(;nt--&&Lt<Yt;){bt+=P;for(var Ir=-1,cr=x[bt];++Ir<Et;){var Br=yt[Ir],Wr=Br.iteratee,Wn=Br.type,yn=Wr(cr);if(Wn==W)cr=yn;else if(!yn){if(Wn==Z)continue e;break e}}lr[Lt++]=cr}return lr}Or.prototype=Pa(So.prototype),Or.prototype.constructor=Or;function qs(x){var P=-1,q=x==null?0:x.length;for(this.clear();++P<q;){var fe=x[P];this.set(fe[0],fe[1])}}function ah(){this.__data__=eo?eo(null):{},this.size=0}function il(x){var P=this.has(x)&&delete this.__data__[x];return this.size-=P?1:0,P}function Vl(x){var P=this.__data__;if(eo){var q=P[x];return q===s?e:q}return Kr.call(P,x)?P[x]:e}function Xl(x){var P=this.__data__;return eo?P[x]!==e:Kr.call(P,x)}function Da(x,P){var q=this.__data__;return this.size+=this.has(x)?0:1,q[x]=eo&&P===e?s:P,this}qs.prototype.clear=ah,qs.prototype.delete=il,qs.prototype.get=Vl,qs.prototype.has=Xl,qs.prototype.set=Da;function qn(x){var P=-1,q=x==null?0:x.length;for(this.clear();++P<q;){var fe=x[P];this.set(fe[0],fe[1])}}function Ao(){this.__data__=[],this.size=0}function nl(x){var P=this.__data__,q=Oa(P,x);if(q<0)return!1;var fe=P.length-1;return q==fe?P.pop():xo.call(P,q,1),--this.size,!0}function oh(x){var P=this.__data__,q=Oa(P,x);return q<0?e:P[q][1]}function Gl(x){return Oa(this.__data__,x)>-1}function lh(x,P){var q=this.__data__,fe=Oa(q,x);return fe<0?(++this.size,q.push([x,P])):q[fe][1]=P,this}qn.prototype.clear=Ao,qn.prototype.delete=nl,qn.prototype.get=oh,qn.prototype.has=Gl,qn.prototype.set=lh;function es(x){var P=-1,q=x==null?0:x.length;for(this.clear();++P<q;){var fe=x[P];this.set(fe[0],fe[1])}}function sl(){this.size=0,this.__data__={hash:new qs,map:new(Ja||qn),string:new qs}}function ko(x){var P=dc(this,x).delete(x);return this.size-=P?1:0,P}function ch(x){return dc(this,x).get(x)}function Kl(x){return dc(this,x).has(x)}function hh(x,P){var q=dc(this,x),fe=q.size;return q.set(x,P),this.size+=q.size==fe?0:1,this}es.prototype.clear=sl,es.prototype.delete=ko,es.prototype.get=ch,es.prototype.has=Kl,es.prototype.set=hh;function ea(x){var P=-1,q=x==null?0:x.length;for(this.__data__=new es;++P<q;)this.add(x[P])}function al(x){return this.__data__.set(x,s),this}function ol(x){return this.__data__.has(x)}ea.prototype.add=ea.prototype.push=al,ea.prototype.has=ol;function vn(x){var P=this.__data__=new qn(x);this.size=P.size}function fh(){this.__data__=new qn,this.size=0}function ll(x){var P=this.__data__,q=P.delete(x);return this.size=P.size,q}function Yl(x){return this.__data__.get(x)}function Zl(x){return this.__data__.has(x)}function uh(x,P){var q=this.__data__;if(q instanceof qn){var fe=q.__data__;if(!Ja||fe.length<g-1)return fe.push([x,P]),this.size=++q.size,this;q=this.__data__=new es(fe)}return q.set(x,P),this.size=q.size,this}vn.prototype.clear=fh,vn.prototype.delete=ll,vn.prototype.get=Yl,vn.prototype.has=Zl,vn.prototype.set=uh;function cl(x,P){var q=_r(x),fe=!q&&co(x),Se=!q&&!fe&&Fa(x),Le=!q&&!fe&&!Se&&Fo(x),Xe=q||fe||Se||Le,Ye=Xe?xr(x.length,bo):[],nt=Ye.length;for(var bt in x)(P||Kr.call(x,bt))&&!(Xe&&(bt=="length"||Se&&(bt=="offset"||bt=="parent")||Le&&(bt=="buffer"||bt=="byteLength"||bt=="byteOffset")||oa(bt,nt)))&&Ye.push(bt);return Ye}function Co(x){var P=x.length;return P?x[Gt(0,P-1)]:e}function Ql(x,P){return pc(An(x),Cs(P,0,x.length))}function Jl(x){return pc(An(x))}function ro(x,P,q){(q!==e&&!fs(x[P],q)||q===e&&!(P in x))&&os(x,P,q)}function La(x,P,q){var fe=x[P];(!(Kr.call(x,P)&&fs(fe,q))||q===e&&!(P in x))&&os(x,P,q)}function Oa(x,P){for(var q=x.length;q--;)if(fs(x[q][0],P))return q;return-1}function dh(x,P,q,fe){return ls(x,function(Se,Le,Xe){P(fe,Se,q(Se),Xe)}),fe}function ql(x,P){return x&&Ms(P,Gi(P),x)}function ph(x,P){return x&&Ms(P,Cn(P),x)}function os(x,P,q){P=="__proto__"&&Ra?Ra(x,P,{configurable:!0,enumerable:!0,value:q,writable:!0}):x[P]=q}function Na(x,P){for(var q=-1,fe=P.length,Se=ht(fe),Le=x==null;++q<fe;)Se[q]=Le?e:Bh(x,P[q]);return Se}function Cs(x,P,q){return x===x&&(q!==e&&(x=x<=q?x:q),P!==e&&(x=x>=P?x:P)),x}function oi(x,P,q,fe,Se,Le){var Xe,Ye=P&r,nt=P&n,bt=P&l;if(q&&(Xe=Se?q(x,fe,Se,Le):q(x)),Xe!==e)return Xe;if(!mi(x))return x;var yt=_r(x);if(yt){if(Xe=ap(x),!Ye)return An(x,Xe)}else{var Et=cn(x),Lt=Et==De||Et==Ee;if(Fa(x))return pl(x,Ye);if(Et==_e||Et==L||Lt&&!Se){if(Xe=nt||Lt?{}:Bf(x),!Ye)return nt?Yd(x,ph(Xe,x)):Kd(x,ql(Xe,x))}else{if(!Dr[Et])return Se?x:{};Xe=op(x,Et,Ye)}}Le||(Le=new vn);var Yt=Le.get(x);if(Yt)return Yt;Le.set(x,Xe),du(x)?x.forEach(function(cr){Xe.add(oi(cr,P,q,cr,x,Le))}):fu(x)&&x.forEach(function(cr,Br){Xe.set(Br,oi(cr,P,q,Br,x,Le))});var lr=bt?nt?Th:Eh:nt?Cn:Gi,Ir=yt?e:lr(x);return pi(Ir||x,function(cr,Br){Ir&&(Br=cr,cr=x[Br]),La(Xe,Br,oi(cr,P,q,Br,x,Le))}),Xe}function mh(x){var P=Gi(x);return function(q){return io(q,x,P)}}function io(x,P,q){var fe=q.length;if(x==null)return!fe;for(x=Er(x);fe--;){var Se=q[fe],Le=P[Se],Xe=x[Se];if(Xe===e&&!(Se in x)||!Le(Xe))return!1}return!0}function Ro(x,P,q){if(typeof x!="function")throw new ln(u);return bl(function(){x.apply(e,q)},P)}function ta(x,P,q,fe){var Se=-1,Le=Ce,Xe=!0,Ye=x.length,nt=[],bt=P.length;if(!Ye)return nt;q&&(P=st(P,Li(q))),fe?(Le=Ve,Xe=!1):P.length>=g&&(Le=gn,Xe=!1,P=new ea(P));e:for(;++Se<Ye;){var yt=x[Se],Et=q==null?yt:q(yt);if(yt=fe||yt!==0?yt:0,Xe&&Et===Et){for(var Lt=bt;Lt--;)if(P[Lt]===Et)continue e;nt.push(yt)}else Le(P,Et,fe)||nt.push(yt)}return nt}var ls=Tf(jn),ec=Tf(fl,!0);function gh(x,P){var q=!0;return ls(x,function(fe,Se,Le){return q=!!P(fe,Se,Le),q}),q}function Io(x,P,q){for(var fe=-1,Se=x.length;++fe<Se;){var Le=x[fe],Xe=P(Le);if(Xe!=null&&(Ye===e?Xe===Xe&&!$n(Xe):q(Xe,Ye)))var Ye=Xe,nt=Le}return nt}function tc(x,P,q,fe){var Se=x.length;for(q=Cr(q),q<0&&(q=-q>Se?0:Se+q),fe=fe===e||fe>Se?Se:Cr(fe),fe<0&&(fe+=Se),fe=q>fe?0:mu(fe);q<fe;)x[q++]=P;return x}function hl(x,P){var q=[];return ls(x,function(fe,Se,Le){P(fe,Se,Le)&&q.push(fe)}),q}function Ui(x,P,q,fe,Se){var Le=-1,Xe=x.length;for(q||(q=cp),Se||(Se=[]);++Le<Xe;){var Ye=x[Le];P>0&&q(Ye)?P>1?Ui(Ye,P-1,q,fe,Se):xt(Se,Ye):fe||(Se[Se.length]=Ye)}return Se}var Mo=Sf(),rc=Sf(!0);function jn(x,P){return x&&Mo(x,P,Gi)}function fl(x,P){return x&&rc(x,P,Gi)}function Po(x,P){return Qi(P,function(q){return la(x[q])})}function ra(x,P){P=Is(P,x);for(var q=0,fe=P.length;x!=null&&q<fe;)x=x[Ps(P[q++])];return q&&q==fe?x:e}function ic(x,P,q){var fe=P(x);return _r(x)?fe:xt(fe,q(x))}function ji(x){return x==null?x===e?Ne:xe:as&&as in Er(x)?ip(x):gp(x)}function ul(x,P){return x>P}function nc(x,P){return x!=null&&Kr.call(x,P)}function N(x,P){return x!=null&&P in Er(x)}function R(x,P,q){return x>=Xi(P,q)&&x<ki(P,q)}function o(x,P,q){for(var fe=q?Ve:Ce,Se=x[0].length,Le=x.length,Xe=Le,Ye=ht(Le),nt=1/0,bt=[];Xe--;){var yt=x[Xe];Xe&&P&&(yt=st(yt,Li(P))),nt=Xi(yt.length,nt),Ye[Xe]=!q&&(P||Se>=120&&yt.length>=120)?new ea(Xe&&yt):e}yt=x[0];var Et=-1,Lt=Ye[0];e:for(;++Et<Se&&bt.length<nt;){var Yt=yt[Et],lr=P?P(Yt):Yt;if(Yt=q||Yt!==0?Yt:0,!(Lt?gn(Lt,lr):fe(bt,lr,q))){for(Xe=Le;--Xe;){var Ir=Ye[Xe];if(!(Ir?gn(Ir,lr):fe(x[Xe],lr,q)))continue e}Lt&&Lt.push(lr),bt.push(Yt)}}return bt}function c(x,P,q,fe){return jn(x,function(Se,Le,Xe){P(fe,q(Se),Le,Xe)}),fe}function b(x,P,q){P=Is(P,x),x=Hf(x,P);var fe=x==null?x:x[Ps(is(P))];return fe==null?e:ri(fe,x,q)}function k(x){return wi(x)&&ji(x)==L}function M(x){return wi(x)&&ji(x)==ze}function U(x){return wi(x)&&ji(x)==Ie}function X(x,P,q,fe,Se){return x===P?!0:x==null||P==null||!wi(x)&&!wi(P)?x!==x&&P!==P:J(x,P,q,fe,X,Se)}function J(x,P,q,fe,Se,Le){var Xe=_r(x),Ye=_r(P),nt=Xe?G:cn(x),bt=Ye?G:cn(P);nt=nt==L?_e:nt,bt=bt==L?_e:bt;var yt=nt==_e,Et=bt==_e,Lt=nt==bt;if(Lt&&Fa(x)){if(!Fa(P))return!1;Xe=!0,yt=!1}if(Lt&&!yt)return Le||(Le=new vn),Xe||Fo(x)?Of(x,P,q,fe,Se,Le):tp(x,P,nt,q,fe,Se,Le);if(!(q&d)){var Yt=yt&&Kr.call(x,"__wrapped__"),lr=Et&&Kr.call(P,"__wrapped__");if(Yt||lr){var Ir=Yt?x.value():x,cr=lr?P.value():P;return Le||(Le=new vn),Se(Ir,cr,q,fe,Le)}}return Lt?(Le||(Le=new vn),rp(x,P,q,fe,Se,Le)):!1}function ee(x){return wi(x)&&cn(x)==Q}function oe(x,P,q,fe){var Se=q.length,Le=Se,Xe=!fe;if(x==null)return!Le;for(x=Er(x);Se--;){var Ye=q[Se];if(Xe&&Ye[2]?Ye[1]!==x[Ye[0]]:!(Ye[0]in x))return!1}for(;++Se<Le;){Ye=q[Se];var nt=Ye[0],bt=x[nt],yt=Ye[1];if(Xe&&Ye[2]){if(bt===e&&!(nt in x))return!1}else{var Et=new vn;if(fe)var Lt=fe(bt,yt,nt,x,P,Et);if(!(Lt===e?X(yt,bt,d|a,fe,Et):Lt))return!1}}return!0}function pe(x){if(!mi(x)||fp(x))return!1;var P=la(x)?Zo:Hr;return P.test(lo(x))}function me(x){return wi(x)&&ji(x)==he}function be(x){return wi(x)&&cn(x)==se}function Te(x){return wi(x)&&wc(x.length)&&!!jr[ji(x)]}function Re(x){return typeof x=="function"?x:x==null?Rn:typeof x=="object"?_r(x)?lt(x[0],x[1]):Ze(x):Au(x)}function ye(x){if(!vl(x))return Bl(x);var P=[];for(var q in Er(x))Kr.call(x,q)&&q!="constructor"&&P.push(q);return P}function ke(x){if(!mi(x))return mp(x);var P=vl(x),q=[];for(var fe in x)fe=="constructor"&&(P||!Kr.call(x,fe))||q.push(fe);return q}function $e(x,P){return x<P}function He(x,P){var q=-1,fe=kn(x)?ht(x.length):[];return ls(x,function(Se,Le,Xe){fe[++q]=P(Se,Le,Xe)}),fe}function Ze(x){var P=Ah(x);return P.length==1&&P[0][2]?jf(P[0][0],P[0][1]):function(q){return q===x||oe(q,x,P)}}function lt(x,P){return Ch(x)&&Uf(P)?jf(Ps(x),P):function(q){var fe=Bh(q,x);return fe===e&&fe===P?Uh(q,x):X(P,fe,d|a)}}function ct(x,P,q,fe,Se){x!==P&&Mo(P,function(Le,Xe){if(Se||(Se=new vn),mi(Le))wt(x,P,Xe,q,ct,fe,Se);else{var Ye=fe?fe(Ih(x,Xe),Le,Xe+"",x,P,Se):e;Ye===e&&(Ye=Le),ro(x,Xe,Ye)}},Cn)}function wt(x,P,q,fe,Se,Le,Xe){var Ye=Ih(x,q),nt=Ih(P,q),bt=Xe.get(nt);if(bt){ro(x,q,bt);return}var yt=Le?Le(Ye,nt,q+"",x,P,Xe):e,Et=yt===e;if(Et){var Lt=_r(nt),Yt=!Lt&&Fa(nt),lr=!Lt&&!Yt&&Fo(nt);yt=nt,Lt||Yt||lr?_r(Ye)?yt=Ye:Ii(Ye)?yt=An(Ye):Yt?(Et=!1,yt=pl(nt,!0)):lr?(Et=!1,yt=ao(nt,!0)):yt=[]:yl(nt)||co(nt)?(yt=Ye,co(Ye)?yt=gu(Ye):(!mi(Ye)||la(Ye))&&(yt=Bf(nt))):Et=!1}Et&&(Xe.set(nt,yt),Se(yt,nt,fe,Le,Xe),Xe.delete(nt)),ro(x,q,yt)}function dt(x,P){var q=x.length;if(q)return P+=P<0?q:0,oa(P,q)?x[P]:e}function gt(x,P,q){P.length?P=st(P,function(Le){return _r(Le)?function(Xe){return ra(Xe,Le.length===1?Le[0]:Le)}:Le}):P=[Rn];var fe=-1;P=st(P,Li(ar()));var Se=He(x,function(Le,Xe,Ye){var nt=st(P,function(bt){return bt(Le)});return{criteria:nt,index:++fe,value:Le}});return Ea(Se,function(Le,Xe){return wh(Le,Xe,q)})}function Pt(x,P){return St(x,P,function(q,fe){return Uh(x,fe)})}function St(x,P,q){for(var fe=-1,Se=P.length,Le={};++fe<Se;){var Xe=P[fe],Ye=ra(x,Xe);q(Ye,Xe)&&$r(Le,Is(Xe,x),Ye)}return Le}function Wt(x){return function(P){return ra(P,x)}}function Qt(x,P,q,fe){var Se=fe?on:ei,Le=-1,Xe=P.length,Ye=x;for(x===P&&(P=An(P)),q&&(Ye=st(x,Li(q)));++Le<Xe;)for(var nt=0,bt=P[Le],yt=q?q(bt):bt;(nt=Se(Ye,yt,nt,fe))>-1;)Ye!==x&&xo.call(Ye,nt,1),xo.call(x,nt,1);return x}function Vt(x,P){for(var q=x?P.length:0,fe=q-1;q--;){var Se=P[q];if(q==fe||Se!==Le){var Le=Se;oa(Se)?xo.call(x,Se,1):ia(x,Se)}}return x}function Gt(x,P){return x+Qs(Ul()*(P-x+1))}function Jt(x,P,q,fe){for(var Se=-1,Le=ki(Za((P-x)/(q||1)),0),Xe=ht(Le);Le--;)Xe[fe?Le:++Se]=x,x+=q;return Xe}function Kt(x,P){var q="";if(!x||P<1||P>C)return q;do P%2&&(q+=x),P=Qs(P/2),P&&(x+=x);while(P);return q}function Ct(x,P){return Mh(zf(x,P,Rn),x+"")}function wr(x){return Co(Bo(x))}function Rr(x,P){var q=Bo(x);return pc(q,Cs(P,0,q.length))}function $r(x,P,q,fe){if(!mi(x))return x;P=Is(P,x);for(var Se=-1,Le=P.length,Xe=Le-1,Ye=x;Ye!=null&&++Se<Le;){var nt=Ps(P[Se]),bt=q;if(nt==="__proto__"||nt==="constructor"||nt==="prototype")return x;if(Se!=Xe){var yt=Ye[nt];bt=fe?fe(yt,nt,Ye):e,bt===e&&(bt=mi(yt)?yt:oa(P[Se+1])?[]:{})}La(Ye,nt,bt),Ye=Ye[nt]}return x}var qi=To?function(x,P){return To.set(x,P),x}:Rn,Ci=Ra?function(x,P){return Ra(x,"toString",{configurable:!0,enumerable:!1,value:zh(P),writable:!0})}:Rn;function zn(x){return pc(Bo(x))}function li(x,P,q){var fe=-1,Se=x.length;P<0&&(P=-P>Se?0:Se+P),q=q>Se?Se:q,q<0&&(q+=Se),Se=P>q?0:q-P>>>0,P>>>=0;for(var Le=ht(Se);++fe<Se;)Le[fe]=x[fe+P];return Le}function En(x,P){var q;return ls(x,function(fe,Se,Le){return q=P(fe,Se,Le),!q}),!!q}function fi(x,P,q){var fe=0,Se=x==null?fe:x.length;if(typeof P=="number"&&P===P&&Se<=z){for(;fe<Se;){var Le=fe+Se>>>1,Xe=x[Le];Xe!==null&&!$n(Xe)&&(q?Xe<=P:Xe<P)?fe=Le+1:Se=Le}return Se}return Ri(x,P,Rn,q)}function Ri(x,P,q,fe){var Se=0,Le=x==null?0:x.length;if(Le===0)return 0;P=q(P);for(var Xe=P!==P,Ye=P===null,nt=$n(P),bt=P===e;Se<Le;){var yt=Qs((Se+Le)/2),Et=q(x[yt]),Lt=Et!==e,Yt=Et===null,lr=Et===Et,Ir=$n(Et);if(Xe)var cr=fe||lr;else bt?cr=lr&&(fe||Lt):Ye?cr=lr&&Lt&&(fe||!Yt):nt?cr=lr&&Lt&&!Yt&&(fe||!Ir):Yt||Ir?cr=!1:cr=fe?Et<=P:Et<P;cr?Se=yt+1:Le=yt}return Xi(Le,Y)}function Hn(x,P){for(var q=-1,fe=x.length,Se=0,Le=[];++q<fe;){var Xe=x[q],Ye=P?P(Xe):Xe;if(!q||!fs(Ye,nt)){var nt=Ye;Le[Se++]=Xe===0?0:Xe}}return Le}function cs(x){return typeof x=="number"?x:$n(x)?H:+x}function ni(x){if(typeof x=="string")return x;if(_r(x))return st(x,ni)+"";if($n(x))return Jn?Jn.call(x):"";var P=x+"";return P=="0"&&1/x==-O?"-0":P}function Tn(x,P,q){var fe=-1,Se=Ce,Le=x.length,Xe=!0,Ye=[],nt=Ye;if(q)Xe=!1,Se=Ve;else if(Le>=g){var bt=P?null:qd(x);if(bt)return Gs(bt);Xe=!1,Se=gn,nt=new ea}else nt=P?[]:Ye;e:for(;++fe<Le;){var yt=x[fe],Et=P?P(yt):yt;if(yt=q||yt!==0?yt:0,Xe&&Et===Et){for(var Lt=nt.length;Lt--;)if(nt[Lt]===Et)continue e;P&&nt.push(Et),Ye.push(yt)}else Se(nt,Et,q)||(nt!==Ye&&nt.push(Et),Ye.push(yt))}return Ye}function ia(x,P){return P=Is(P,x),x=Hf(x,P),x==null||delete x[Ps(is(P))]}function no(x,P,q,fe){return $r(x,P,q(ra(x,P)),fe)}function hs(x,P,q,fe){for(var Se=x.length,Le=fe?Se:-1;(fe?Le--:++Le<Se)&&P(x[Le],Le,x););return q?li(x,fe?0:Le,fe?Le+1:Se):li(x,fe?Le+1:0,fe?Se:Le)}function Rs(x,P){var q=x;return q instanceof Or&&(q=q.value()),Ht(P,function(fe,Se){return Se.func.apply(Se.thisArg,xt([fe],Se.args))},q)}function na(x,P,q){var fe=x.length;if(fe<2)return fe?Tn(x[0]):[];for(var Se=-1,Le=ht(fe);++Se<fe;)for(var Xe=x[Se],Ye=-1;++Ye<fe;)Ye!=Se&&(Le[Se]=ta(Le[Se]||Xe,x[Ye],P,q));return Tn(Ui(Le,1),P,q)}function ts(x,P,q){for(var fe=-1,Se=x.length,Le=P.length,Xe={};++fe<Se;){var Ye=fe<Le?P[fe]:e;q(Xe,x[fe],Ye)}return Xe}function dl(x){return Ii(x)?x:[]}function so(x){return typeof x=="function"?x:Rn}function Is(x,P){return _r(x)?x:Ch(x,P)?[x]:Xf(Jr(x))}var sc=Ct;function rs(x,P,q){var fe=x.length;return q=q===e?fe:q,!P&&q>=fe?x:li(x,P,q)}var Sn=Zs||function(x){return sr.clearTimeout(x)};function pl(x,P){if(P)return x.slice();var q=x.length,fe=Qo?Qo(q):new x.constructor(q);return x.copy(fe),fe}function Do(x){var P=new x.constructor(x.byteLength);return new Ya(P).set(new Ya(x)),P}function vh(x,P){var q=P?Do(x.buffer):x.buffer;return new x.constructor(q,x.byteOffset,x.byteLength)}function bh(x){var P=new x.constructor(x.source,Ar.exec(x));return P.lastIndex=x.lastIndex,P}function yh(x){return Un?Er(Un.call(x)):{}}function ao(x,P){var q=P?Do(x.buffer):x.buffer;return new x.constructor(q,x.byteOffset,x.length)}function ml(x,P){if(x!==P){var q=x!==e,fe=x===null,Se=x===x,Le=$n(x),Xe=P!==e,Ye=P===null,nt=P===P,bt=$n(P);if(!Ye&&!bt&&!Le&&x>P||Le&&Xe&&nt&&!Ye&&!bt||fe&&Xe&&nt||!q&&nt||!Se)return 1;if(!fe&&!Le&&!bt&&x<P||bt&&q&&Se&&!fe&&!Le||Ye&&q&&Se||!Xe&&Se||!nt)return-1}return 0}function wh(x,P,q){for(var fe=-1,Se=x.criteria,Le=P.criteria,Xe=Se.length,Ye=q.length;++fe<Xe;){var nt=ml(Se[fe],Le[fe]);if(nt){if(fe>=Ye)return nt;var bt=q[fe];return nt*(bt=="desc"?-1:1)}}return x.index-P.index}function ac(x,P,q,fe){for(var Se=-1,Le=x.length,Xe=q.length,Ye=-1,nt=P.length,bt=ki(Le-Xe,0),yt=ht(nt+bt),Et=!fe;++Ye<nt;)yt[Ye]=P[Ye];for(;++Se<Xe;)(Et||Se<Le)&&(yt[q[Se]]=x[Se]);for(;bt--;)yt[Ye++]=x[Se++];return yt}function Ef(x,P,q,fe){for(var Se=-1,Le=x.length,Xe=-1,Ye=q.length,nt=-1,bt=P.length,yt=ki(Le-Ye,0),Et=ht(yt+bt),Lt=!fe;++Se<yt;)Et[Se]=x[Se];for(var Yt=Se;++nt<bt;)Et[Yt+nt]=P[nt];for(;++Xe<Ye;)(Lt||Se<Le)&&(Et[Yt+q[Xe]]=x[Se++]);return Et}function An(x,P){var q=-1,fe=x.length;for(P||(P=ht(fe));++q<fe;)P[q]=x[q];return P}function Ms(x,P,q,fe){var Se=!q;q||(q={});for(var Le=-1,Xe=P.length;++Le<Xe;){var Ye=P[Le],nt=fe?fe(q[Ye],x[Ye],Ye,q,x):e;nt===e&&(nt=x[Ye]),Se?os(q,Ye,nt):La(q,Ye,nt)}return q}function Kd(x,P){return Ms(x,kh(x),P)}function Yd(x,P){return Ms(x,Nf(x),P)}function oc(x,P){return function(q,fe){var Se=_r(q)?Wi:dh,Le=P?P():{};return Se(q,x,ar(fe,2),Le)}}function Lo(x){return Ct(function(P,q){var fe=-1,Se=q.length,Le=Se>1?q[Se-1]:e,Xe=Se>2?q[2]:e;for(Le=x.length>3&&typeof Le=="function"?(Se--,Le):e,Xe&&bn(q[0],q[1],Xe)&&(Le=Se<3?e:Le,Se=1),P=Er(P);++fe<Se;){var Ye=q[fe];Ye&&x(P,Ye,fe,Le)}return P})}function Tf(x,P){return function(q,fe){if(q==null)return q;if(!kn(q))return x(q,fe);for(var Se=q.length,Le=P?Se:-1,Xe=Er(q);(P?Le--:++Le<Se)&&fe(Xe[Le],Le,Xe)!==!1;);return q}}function Sf(x){return function(P,q,fe){for(var Se=-1,Le=Er(P),Xe=fe(P),Ye=Xe.length;Ye--;){var nt=Xe[x?Ye:++Se];if(q(Le[nt],nt,Le)===!1)break}return P}}function Zd(x,P,q){var fe=P&v,Se=gl(x);function Le(){var Xe=this&&this!==sr&&this instanceof Le?Se:x;return Xe.apply(fe?q:this,arguments)}return Le}function Af(x){return function(P){P=Jr(P);var q=Ji(P)?Fn(P):e,fe=q?q[0]:P.charAt(0),Se=q?rs(q,1).join(""):P.slice(1);return fe[x]()+Se}}function Oo(x){return function(P){return Ht(Tu(Eu(P).replace(Es,"")),x,"")}}function gl(x){return function(){var P=arguments;switch(P.length){case 0:return new x;case 1:return new x(P[0]);case 2:return new x(P[0],P[1]);case 3:return new x(P[0],P[1],P[2]);case 4:return new x(P[0],P[1],P[2],P[3]);case 5:return new x(P[0],P[1],P[2],P[3],P[4]);case 6:return new x(P[0],P[1],P[2],P[3],P[4],P[5]);case 7:return new x(P[0],P[1],P[2],P[3],P[4],P[5],P[6])}var q=Pa(x.prototype),fe=x.apply(q,P);return mi(fe)?fe:q}}function Qd(x,P,q){var fe=gl(x);function Se(){for(var Le=arguments.length,Xe=ht(Le),Ye=Le,nt=No(Se);Ye--;)Xe[Ye]=arguments[Ye];var bt=Le<3&&Xe[0]!==nt&&Xe[Le-1]!==nt?[]:Qn(Xe,nt);if(Le-=bt.length,Le<q)return Mf(x,P,lc,Se.placeholder,e,Xe,bt,e,e,q-Le);var yt=this&&this!==sr&&this instanceof Se?fe:x;return ri(yt,this,Xe)}return Se}function kf(x){return function(P,q,fe){var Se=Er(P);if(!kn(P)){var Le=ar(q,3);P=Gi(P),q=function(Ye){return Le(Se[Ye],Ye,Se)}}var Xe=x(P,q,fe);return Xe>-1?Se[Le?P[Xe]:Xe]:e}}function Cf(x){return aa(function(P){var q=P.length,fe=q,Se=xn.prototype.thru;for(x&&P.reverse();fe--;){var Le=P[fe];if(typeof Le!="function")throw new ln(u);if(Se&&!Xe&&uc(Le)=="wrapper")var Xe=new xn([],!0)}for(fe=Xe?fe:q;++fe<q;){Le=P[fe];var Ye=uc(Le),nt=Ye=="wrapper"?Sh(Le):e;nt&&Rh(nt[0])&&nt[1]==(w|E|S|I)&&!nt[4].length&&nt[9]==1?Xe=Xe[uc(nt[0])].apply(Xe,nt[3]):Xe=Le.length==1&&Rh(Le)?Xe[Ye]():Xe.thru(Le)}return function(){var bt=arguments,yt=bt[0];if(Xe&&bt.length==1&&_r(yt))return Xe.plant(yt).value();for(var Et=0,Lt=q?P[Et].apply(this,bt):yt;++Et<q;)Lt=P[Et].call(this,Lt);return Lt}})}function lc(x,P,q,fe,Se,Le,Xe,Ye,nt,bt){var yt=P&w,Et=P&v,Lt=P&y,Yt=P&(E|T),lr=P&D,Ir=Lt?e:gl(x);function cr(){for(var Br=arguments.length,Wr=ht(Br),Wn=Br;Wn--;)Wr[Wn]=arguments[Wn];if(Yt)var yn=No(cr),Vn=Sa(Wr,yn);if(fe&&(Wr=ac(Wr,fe,Se,Yt)),Le&&(Wr=Ef(Wr,Le,Xe,Yt)),Br-=Vn,Yt&&Br<bt){var Mi=Qn(Wr,yn);return Mf(x,P,lc,cr.placeholder,q,Wr,Mi,Ye,nt,bt-Br)}var us=Et?q:this,ha=Lt?us[x]:x;return Br=Wr.length,Ye?Wr=vp(Wr,Ye):lr&&Br>1&&Wr.reverse(),yt&&nt<Br&&(Wr.length=nt),this&&this!==sr&&this instanceof cr&&(ha=Ir||gl(ha)),ha.apply(us,Wr)}return cr}function Rf(x,P){return function(q,fe){return c(q,x,P(fe),{})}}function cc(x,P){return function(q,fe){var Se;if(q===e&&fe===e)return P;if(q!==e&&(Se=q),fe!==e){if(Se===e)return fe;typeof q=="string"||typeof fe=="string"?(q=ni(q),fe=ni(fe)):(q=cs(q),fe=cs(fe)),Se=x(q,fe)}return Se}}function _h(x){return aa(function(P){return P=st(P,Li(ar())),Ct(function(q){var fe=this;return x(P,function(Se){return ri(Se,fe,q)})})})}function hc(x,P){P=P===e?" ":ni(P);var q=P.length;if(q<2)return q?Kt(P,x):P;var fe=Kt(P,Za(x/Ks(P)));return Ji(P)?rs(Fn(fe),0,x).join(""):fe.slice(0,x)}function Jd(x,P,q,fe){var Se=P&v,Le=gl(x);function Xe(){for(var Ye=-1,nt=arguments.length,bt=-1,yt=fe.length,Et=ht(yt+nt),Lt=this&&this!==sr&&this instanceof Xe?Le:x;++bt<yt;)Et[bt]=fe[bt];for(;nt--;)Et[bt++]=arguments[++Ye];return ri(Lt,Se?q:this,Et)}return Xe}function If(x){return function(P,q,fe){return fe&&typeof fe!="number"&&bn(P,q,fe)&&(q=fe=e),P=ca(P),q===e?(q=P,P=0):q=ca(q),fe=fe===e?P<q?1:-1:ca(fe),Jt(P,q,fe,x)}}function fc(x){return function(P,q){return typeof P=="string"&&typeof q=="string"||(P=ns(P),q=ns(q)),x(P,q)}}function Mf(x,P,q,fe,Se,Le,Xe,Ye,nt,bt){var yt=P&E,Et=yt?Xe:e,Lt=yt?e:Xe,Yt=yt?Le:e,lr=yt?e:Le;P|=yt?S:A,P&=~(yt?A:S),P&p||(P&=~(v|y));var Ir=[x,P,Se,Yt,Et,lr,Lt,Ye,nt,bt],cr=q.apply(e,Ir);return Rh(x)&&$f(cr,Ir),cr.placeholder=fe,Wf(cr,x,P)}function xh(x){var P=Si[x];return function(q,fe){if(q=ns(q),fe=fe==null?0:Xi(Cr(fe),292),fe&&el(q)){var Se=(Jr(q)+"e").split("e"),Le=P(Se[0]+"e"+(+Se[1]+fe));return Se=(Jr(Le)+"e").split("e"),+(Se[0]+"e"+(+Se[1]-fe))}return P(q)}}var qd=Ma&&1/Gs(new Ma([,-0]))[1]==O?function(x){return new Ma(x)}:Wh;function Pf(x){return function(P){var q=cn(P);return q==Q?go(P):q==se?Kc(P):Xo(P,x(P))}}function sa(x,P,q,fe,Se,Le,Xe,Ye){var nt=P&y;if(!nt&&typeof x!="function")throw new ln(u);var bt=fe?fe.length:0;if(bt||(P&=~(S|A),fe=Se=e),Xe=Xe===e?Xe:ki(Cr(Xe),0),Ye=Ye===e?Ye:Cr(Ye),bt-=Se?Se.length:0,P&A){var yt=fe,Et=Se;fe=Se=e}var Lt=nt?e:Sh(x),Yt=[x,P,q,fe,Se,yt,Et,Le,Xe,Ye];if(Lt&&pp(Yt,Lt),x=Yt[0],P=Yt[1],q=Yt[2],fe=Yt[3],Se=Yt[4],Ye=Yt[9]=Yt[9]===e?nt?0:x.length:ki(Yt[9]-bt,0),!Ye&&P&(E|T)&&(P&=~(E|T)),!P||P==v)var lr=Zd(x,P,q);else P==E||P==T?lr=Qd(x,P,Ye):(P==S||P==(v|S))&&!Se.length?lr=Jd(x,P,q,fe):lr=lc.apply(e,Yt);var Ir=Lt?qi:$f;return Wf(Ir(lr,Yt),x,P)}function Df(x,P,q,fe){return x===e||fs(x,Bn[q])&&!Kr.call(fe,q)?P:x}function Lf(x,P,q,fe,Se,Le){return mi(x)&&mi(P)&&(Le.set(P,x),ct(x,P,e,Lf,Le),Le.delete(P)),x}function ep(x){return yl(x)?e:x}function Of(x,P,q,fe,Se,Le){var Xe=q&d,Ye=x.length,nt=P.length;if(Ye!=nt&&!(Xe&&nt>Ye))return!1;var bt=Le.get(x),yt=Le.get(P);if(bt&&yt)return bt==P&&yt==x;var Et=-1,Lt=!0,Yt=q&a?new ea:e;for(Le.set(x,P),Le.set(P,x);++Et<Ye;){var lr=x[Et],Ir=P[Et];if(fe)var cr=Xe?fe(Ir,lr,Et,P,x,Le):fe(lr,Ir,Et,x,P,Le);if(cr!==e){if(cr)continue;Lt=!1;break}if(Yt){if(!yr(P,function(Br,Wr){if(!gn(Yt,Wr)&&(lr===Br||Se(lr,Br,q,fe,Le)))return Yt.push(Wr)})){Lt=!1;break}}else if(!(lr===Ir||Se(lr,Ir,q,fe,Le))){Lt=!1;break}}return Le.delete(x),Le.delete(P),Lt}function tp(x,P,q,fe,Se,Le,Xe){switch(q){case ve:if(x.byteLength!=P.byteLength||x.byteOffset!=P.byteOffset)return!1;x=x.buffer,P=P.buffer;case ze:return!(x.byteLength!=P.byteLength||!Le(new Ya(x),new Ya(P)));case ge:case Ie:case ue:return fs(+x,+P);case Ke:return x.name==P.name&&x.message==P.message;case he:case ne:return x==P+"";case Q:var Ye=go;case se:var nt=fe&d;if(Ye||(Ye=Gs),x.size!=P.size&&!nt)return!1;var bt=Xe.get(x);if(bt)return bt==P;fe|=a,Xe.set(x,P);var yt=Of(Ye(x),Ye(P),fe,Se,Le,Xe);return Xe.delete(x),yt;case we:if(Un)return Un.call(x)==Un.call(P)}return!1}function rp(x,P,q,fe,Se,Le){var Xe=q&d,Ye=Eh(x),nt=Ye.length,bt=Eh(P),yt=bt.length;if(nt!=yt&&!Xe)return!1;for(var Et=nt;Et--;){var Lt=Ye[Et];if(!(Xe?Lt in P:Kr.call(P,Lt)))return!1}var Yt=Le.get(x),lr=Le.get(P);if(Yt&&lr)return Yt==P&&lr==x;var Ir=!0;Le.set(x,P),Le.set(P,x);for(var cr=Xe;++Et<nt;){Lt=Ye[Et];var Br=x[Lt],Wr=P[Lt];if(fe)var Wn=Xe?fe(Wr,Br,Lt,P,x,Le):fe(Br,Wr,Lt,x,P,Le);if(!(Wn===e?Br===Wr||Se(Br,Wr,q,fe,Le):Wn)){Ir=!1;break}cr||(cr=Lt=="constructor")}if(Ir&&!cr){var yn=x.constructor,Vn=P.constructor;yn!=Vn&&"constructor"in x&&"constructor"in P&&!(typeof yn=="function"&&yn instanceof yn&&typeof Vn=="function"&&Vn instanceof Vn)&&(Ir=!1)}return Le.delete(x),Le.delete(P),Ir}function aa(x){return Mh(zf(x,e,Zf),x+"")}function Eh(x){return ic(x,Gi,kh)}function Th(x){return ic(x,Cn,Nf)}var Sh=To?function(x){return To.get(x)}:Wh;function uc(x){for(var P=x.name+"",q=ks[P],fe=Kr.call(ks,P)?q.length:0;fe--;){var Se=q[fe],Le=Se.func;if(Le==null||Le==x)return Se.name}return P}function No(x){var P=Kr.call(Me,"placeholder")?Me:x;return P.placeholder}function ar(){var x=Me.iteratee||Hh;return x=x===Hh?Re:x,arguments.length?x(arguments[0],arguments[1]):x}function dc(x,P){var q=x.__data__;return hp(P)?q[typeof P=="string"?"string":"hash"]:q.map}function Ah(x){for(var P=Gi(x),q=P.length;q--;){var fe=P[q],Se=x[fe];P[q]=[fe,Se,Uf(Se)]}return P}function oo(x,P){var q=Ml(x,P);return pe(q)?q:e}function ip(x){var P=Kr.call(x,as),q=x[as];try{x[as]=e;var fe=!0}catch{}var Se=ka.call(x);return fe&&(P?x[as]=q:delete x[as]),Se}var kh=Qa?function(x){return x==null?[]:(x=Er(x),Qi(Qa(x),function(P){return Nl.call(x,P)}))}:Vh,Nf=Qa?function(x){for(var P=[];x;)xt(P,kh(x)),x=_n(x);return P}:Vh,cn=ji;(rl&&cn(new rl(new ArrayBuffer(1)))!=ve||Ja&&cn(new Ja)!=Q||Eo&&cn(Eo.resolve())!=ce||Ma&&cn(new Ma)!=se||qa&&cn(new qa)!=ae)&&(cn=function(x){var P=ji(x),q=P==_e?x.constructor:e,fe=q?lo(q):"";if(fe)switch(fe){case ih:return ve;case zl:return Q;case Hl:return ce;case nh:return se;case $l:return ae}return P});function np(x,P,q){for(var fe=-1,Se=q.length;++fe<Se;){var Le=q[fe],Xe=Le.size;switch(Le.type){case"drop":x+=Xe;break;case"dropRight":P-=Xe;break;case"take":P=Xi(P,x+Xe);break;case"takeRight":x=ki(x,P-Xe);break}}return{start:x,end:P}}function sp(x){var P=x.match(Vr);return P?P[1].split(Nr):[]}function Ff(x,P,q){P=Is(P,x);for(var fe=-1,Se=P.length,Le=!1;++fe<Se;){var Xe=Ps(P[fe]);if(!(Le=x!=null&&q(x,Xe)))break;x=x[Xe]}return Le||++fe!=Se?Le:(Se=x==null?0:x.length,!!Se&&wc(Se)&&oa(Xe,Se)&&(_r(x)||co(x)))}function ap(x){var P=x.length,q=new x.constructor(P);return P&&typeof x[0]=="string"&&Kr.call(x,"index")&&(q.index=x.index,q.input=x.input),q}function Bf(x){return typeof x.constructor=="function"&&!vl(x)?Pa(_n(x)):{}}function op(x,P,q){var fe=x.constructor;switch(P){case ze:return Do(x);case ge:case Ie:return new fe(+x);case ve:return vh(x,q);case Ae:case Be:case We:case Je:case Ge:case et:case ut:case at:case Fe:return ao(x,q);case Q:return new fe;case ue:case ne:return new fe(x);case he:return bh(x);case se:return new fe;case we:return yh(x)}}function lp(x,P){var q=P.length;if(!q)return x;var fe=q-1;return P[fe]=(q>1?"& ":"")+P[fe],P=P.join(q>2?", ":" "),x.replace(ir,`{
/* [wrapped with `+P+`] */
`)}function cp(x){return _r(x)||co(x)||!!(qo&&x&&x[qo])}function oa(x,P){var q=typeof x;return P=P??C,!!P&&(q=="number"||q!="symbol"&&nr.test(x))&&x>-1&&x%1==0&&x<P}function bn(x,P,q){if(!mi(q))return!1;var fe=typeof P;return(fe=="number"?kn(q)&&oa(P,q.length):fe=="string"&&P in q)?fs(q[P],x):!1}function Ch(x,P){if(_r(x))return!1;var q=typeof x;return q=="number"||q=="symbol"||q=="boolean"||x==null||$n(x)?!0:$t.test(x)||!It.test(x)||P!=null&&x in Er(P)}function hp(x){var P=typeof x;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?x!=="__proto__":x===null}function Rh(x){var P=uc(x),q=Me[P];if(typeof q!="function"||!(P in Or.prototype))return!1;if(x===q)return!0;var fe=Sh(q);return!!fe&&x===fe[0]}function fp(x){return!!Oi&&Oi in x}var up=Ss?la:Xh;function vl(x){var P=x&&x.constructor,q=typeof P=="function"&&P.prototype||Bn;return x===q}function Uf(x){return x===x&&!mi(x)}function jf(x,P){return function(q){return q==null?!1:q[x]===P&&(P!==e||x in Er(q))}}function dp(x){var P=bc(x,function(fe){return q.size===t&&q.clear(),fe}),q=P.cache;return P}function pp(x,P){var q=x[1],fe=P[1],Se=q|fe,Le=Se<(v|y|w),Xe=fe==w&&q==E||fe==w&&q==I&&x[7].length<=P[8]||fe==(w|I)&&P[7].length<=P[8]&&q==E;if(!(Le||Xe))return x;fe&v&&(x[2]=P[2],Se|=q&v?0:p);var Ye=P[3];if(Ye){var nt=x[3];x[3]=nt?ac(nt,Ye,P[4]):Ye,x[4]=nt?Qn(x[3],i):P[4]}return Ye=P[5],Ye&&(nt=x[5],x[5]=nt?Ef(nt,Ye,P[6]):Ye,x[6]=nt?Qn(x[5],i):P[6]),Ye=P[7],Ye&&(x[7]=Ye),fe&w&&(x[8]=x[8]==null?P[8]:Xi(x[8],P[8])),x[9]==null&&(x[9]=P[9]),x[0]=P[0],x[1]=Se,x}function mp(x){var P=[];if(x!=null)for(var q in Er(x))P.push(q);return P}function gp(x){return ka.call(x)}function zf(x,P,q){return P=ki(P===e?x.length-1:P,0),function(){for(var fe=arguments,Se=-1,Le=ki(fe.length-P,0),Xe=ht(Le);++Se<Le;)Xe[Se]=fe[P+Se];Se=-1;for(var Ye=ht(P+1);++Se<P;)Ye[Se]=fe[Se];return Ye[P]=q(Xe),ri(x,this,Ye)}}function Hf(x,P){return P.length<2?x:ra(x,li(P,0,-1))}function vp(x,P){for(var q=x.length,fe=Xi(P.length,q),Se=An(x);fe--;){var Le=P[fe];x[fe]=oa(Le,q)?Se[Le]:e}return x}function Ih(x,P){if(!(P==="constructor"&&typeof x[P]=="function")&&P!="__proto__")return x[P]}var $f=Vf(qi),bl=th||function(x,P){return sr.setTimeout(x,P)},Mh=Vf(Ci);function Wf(x,P,q){var fe=P+"";return Mh(x,lp(fe,bp(sp(fe),q)))}function Vf(x){var P=0,q=0;return function(){var fe=Ia(),Se=re-(fe-q);if(q=fe,Se>0){if(++P>=te)return arguments[0]}else P=0;return x.apply(e,arguments)}}function pc(x,P){var q=-1,fe=x.length,Se=fe-1;for(P=P===e?fe:P;++q<P;){var Le=Gt(q,Se),Xe=x[Le];x[Le]=x[q],x[q]=Xe}return x.length=P,x}var Xf=dp(function(x){var P=[];return x.charCodeAt(0)===46&&P.push(""),x.replace(Sr,function(q,fe,Se,Le){P.push(Se?Le.replace(ur,"$1"):fe||q)}),P});function Ps(x){if(typeof x=="string"||$n(x))return x;var P=x+"";return P=="0"&&1/x==-O?"-0":P}function lo(x){if(x!=null){try{return wo.call(x)}catch{}try{return x+""}catch{}}return""}function bp(x,P){return pi(B,function(q){var fe="_."+q[0];P&q[1]&&!Ce(x,fe)&&x.push(fe)}),x.sort()}function Gf(x){if(x instanceof Or)return x.clone();var P=new xn(x.__wrapped__,x.__chain__);return P.__actions__=An(x.__actions__),P.__index__=x.__index__,P.__values__=x.__values__,P}function yp(x,P,q){(q?bn(x,P,q):P===e)?P=1:P=ki(Cr(P),0);var fe=x==null?0:x.length;if(!fe||P<1)return[];for(var Se=0,Le=0,Xe=ht(Za(fe/P));Se<fe;)Xe[Le++]=li(x,Se,Se+=P);return Xe}function wp(x){for(var P=-1,q=x==null?0:x.length,fe=0,Se=[];++P<q;){var Le=x[P];Le&&(Se[fe++]=Le)}return Se}function _p(){var x=arguments.length;if(!x)return[];for(var P=ht(x-1),q=arguments[0],fe=x;fe--;)P[fe-1]=arguments[fe];return xt(_r(q)?An(q):[q],Ui(P,1))}var xp=Ct(function(x,P){return Ii(x)?ta(x,Ui(P,1,Ii,!0)):[]}),Ep=Ct(function(x,P){var q=is(P);return Ii(q)&&(q=e),Ii(x)?ta(x,Ui(P,1,Ii,!0),ar(q,2)):[]}),Tp=Ct(function(x,P){var q=is(P);return Ii(q)&&(q=e),Ii(x)?ta(x,Ui(P,1,Ii,!0),e,q):[]});function Sp(x,P,q){var fe=x==null?0:x.length;return fe?(P=q||P===e?1:Cr(P),li(x,P<0?0:P,fe)):[]}function Ap(x,P,q){var fe=x==null?0:x.length;return fe?(P=q||P===e?1:Cr(P),P=fe-P,li(x,0,P<0?0:P)):[]}function kp(x,P){return x&&x.length?hs(x,ar(P,3),!0,!0):[]}function Cp(x,P){return x&&x.length?hs(x,ar(P,3),!0):[]}function Rp(x,P,q,fe){var Se=x==null?0:x.length;return Se?(q&&typeof q!="number"&&bn(x,P,q)&&(q=0,fe=Se),tc(x,P,q,fe)):[]}function Kf(x,P,q){var fe=x==null?0:x.length;if(!fe)return-1;var Se=q==null?0:Cr(q);return Se<0&&(Se=ki(fe+Se,0)),yi(x,ar(P,3),Se)}function Yf(x,P,q){var fe=x==null?0:x.length;if(!fe)return-1;var Se=fe-1;return q!==e&&(Se=Cr(q),Se=q<0?ki(fe+Se,0):Xi(Se,fe-1)),yi(x,ar(P,3),Se,!0)}function Zf(x){var P=x==null?0:x.length;return P?Ui(x,1):[]}function Ip(x){var P=x==null?0:x.length;return P?Ui(x,O):[]}function Mp(x,P){var q=x==null?0:x.length;return q?(P=P===e?1:Cr(P),Ui(x,P)):[]}function Pp(x){for(var P=-1,q=x==null?0:x.length,fe={};++P<q;){var Se=x[P];fe[Se[0]]=Se[1]}return fe}function Qf(x){return x&&x.length?x[0]:e}function Dp(x,P,q){var fe=x==null?0:x.length;if(!fe)return-1;var Se=q==null?0:Cr(q);return Se<0&&(Se=ki(fe+Se,0)),ei(x,P,Se)}function Lp(x){var P=x==null?0:x.length;return P?li(x,0,-1):[]}var Op=Ct(function(x){var P=st(x,dl);return P.length&&P[0]===x[0]?o(P):[]}),Np=Ct(function(x){var P=is(x),q=st(x,dl);return P===is(q)?P=e:q.pop(),q.length&&q[0]===x[0]?o(q,ar(P,2)):[]}),Fp=Ct(function(x){var P=is(x),q=st(x,dl);return P=typeof P=="function"?P:e,P&&q.pop(),q.length&&q[0]===x[0]?o(q,e,P):[]});function Bp(x,P){return x==null?"":tl.call(x,P)}function is(x){var P=x==null?0:x.length;return P?x[P-1]:e}function Up(x,P,q){var fe=x==null?0:x.length;if(!fe)return-1;var Se=fe;return q!==e&&(Se=Cr(q),Se=Se<0?ki(fe+Se,0):Xi(Se,fe-1)),P===P?Ll(x,P,Se):yi(x,Vi,Se,!0)}function jp(x,P){return x&&x.length?dt(x,Cr(P)):e}var zp=Ct(Jf);function Jf(x,P){return x&&x.length&&P&&P.length?Qt(x,P):x}function Hp(x,P,q){return x&&x.length&&P&&P.length?Qt(x,P,ar(q,2)):x}function $p(x,P,q){return x&&x.length&&P&&P.length?Qt(x,P,e,q):x}var Wp=aa(function(x,P){var q=x==null?0:x.length,fe=Na(x,P);return Vt(x,st(P,function(Se){return oa(Se,q)?+Se:Se}).sort(ml)),fe});function Vp(x,P){var q=[];if(!(x&&x.length))return q;var fe=-1,Se=[],Le=x.length;for(P=ar(P,3);++fe<Le;){var Xe=x[fe];P(Xe,fe,x)&&(q.push(Xe),Se.push(fe))}return Vt(x,Se),q}function Ph(x){return x==null?x:jl.call(x)}function Xp(x,P,q){var fe=x==null?0:x.length;return fe?(q&&typeof q!="number"&&bn(x,P,q)?(P=0,q=fe):(P=P==null?0:Cr(P),q=q===e?fe:Cr(q)),li(x,P,q)):[]}function Gp(x,P){return fi(x,P)}function Kp(x,P,q){return Ri(x,P,ar(q,2))}function Yp(x,P){var q=x==null?0:x.length;if(q){var fe=fi(x,P);if(fe<q&&fs(x[fe],P))return fe}return-1}function Zp(x,P){return fi(x,P,!0)}function Qp(x,P,q){return Ri(x,P,ar(q,2),!0)}function Jp(x,P){var q=x==null?0:x.length;if(q){var fe=fi(x,P,!0)-1;if(fs(x[fe],P))return fe}return-1}function qp(x){return x&&x.length?Hn(x):[]}function em(x,P){return x&&x.length?Hn(x,ar(P,2)):[]}function tm(x){var P=x==null?0:x.length;return P?li(x,1,P):[]}function rm(x,P,q){return x&&x.length?(P=q||P===e?1:Cr(P),li(x,0,P<0?0:P)):[]}function im(x,P,q){var fe=x==null?0:x.length;return fe?(P=q||P===e?1:Cr(P),P=fe-P,li(x,P<0?0:P,fe)):[]}function nm(x,P){return x&&x.length?hs(x,ar(P,3),!1,!0):[]}function sm(x,P){return x&&x.length?hs(x,ar(P,3)):[]}var am=Ct(function(x){return Tn(Ui(x,1,Ii,!0))}),om=Ct(function(x){var P=is(x);return Ii(P)&&(P=e),Tn(Ui(x,1,Ii,!0),ar(P,2))}),lm=Ct(function(x){var P=is(x);return P=typeof P=="function"?P:e,Tn(Ui(x,1,Ii,!0),e,P)});function cm(x){return x&&x.length?Tn(x):[]}function hm(x,P){return x&&x.length?Tn(x,ar(P,2)):[]}function fm(x,P){return P=typeof P=="function"?P:e,x&&x.length?Tn(x,e,P):[]}function Dh(x){if(!(x&&x.length))return[];var P=0;return x=Qi(x,function(q){if(Ii(q))return P=ki(q.length,P),!0}),xr(P,function(q){return st(x,mn(q))})}function qf(x,P){if(!(x&&x.length))return[];var q=Dh(x);return P==null?q:st(q,function(fe){return ri(P,e,fe)})}var um=Ct(function(x,P){return Ii(x)?ta(x,P):[]}),dm=Ct(function(x){return na(Qi(x,Ii))}),pm=Ct(function(x){var P=is(x);return Ii(P)&&(P=e),na(Qi(x,Ii),ar(P,2))}),mm=Ct(function(x){var P=is(x);return P=typeof P=="function"?P:e,na(Qi(x,Ii),e,P)}),gm=Ct(Dh);function vm(x,P){return ts(x||[],P||[],La)}function bm(x,P){return ts(x||[],P||[],$r)}var ym=Ct(function(x){var P=x.length,q=P>1?x[P-1]:e;return q=typeof q=="function"?(x.pop(),q):e,qf(x,q)});function eu(x){var P=Me(x);return P.__chain__=!0,P}function wm(x,P){return P(x),x}function mc(x,P){return P(x)}var _m=aa(function(x){var P=x.length,q=P?x[0]:0,fe=this.__wrapped__,Se=function(Le){return Na(Le,x)};return P>1||this.__actions__.length||!(fe instanceof Or)||!oa(q)?this.thru(Se):(fe=fe.slice(q,+q+(P?1:0)),fe.__actions__.push({func:mc,args:[Se],thisArg:e}),new xn(fe,this.__chain__).thru(function(Le){return P&&!Le.length&&Le.push(e),Le}))});function xm(){return eu(this)}function Em(){return new xn(this.value(),this.__chain__)}function Tm(){this.__values__===e&&(this.__values__=pu(this.value()));var x=this.__index__>=this.__values__.length,P=x?e:this.__values__[this.__index__++];return{done:x,value:P}}function Sm(){return this}function Am(x){for(var P,q=this;q instanceof So;){var fe=Gf(q);fe.__index__=0,fe.__values__=e,P?Se.__wrapped__=fe:P=fe;var Se=fe;q=q.__wrapped__}return Se.__wrapped__=x,P}function km(){var x=this.__wrapped__;if(x instanceof Or){var P=x;return this.__actions__.length&&(P=new Or(this)),P=P.reverse(),P.__actions__.push({func:mc,args:[Ph],thisArg:e}),new xn(P,this.__chain__)}return this.thru(Ph)}function Cm(){return Rs(this.__wrapped__,this.__actions__)}var Rm=oc(function(x,P,q){Kr.call(x,q)?++x[q]:os(x,q,1)});function Im(x,P,q){var fe=_r(x)?wn:gh;return q&&bn(x,P,q)&&(P=e),fe(x,ar(P,3))}function Mm(x,P){var q=_r(x)?Qi:hl;return q(x,ar(P,3))}var Pm=kf(Kf),Dm=kf(Yf);function Lm(x,P){return Ui(gc(x,P),1)}function Om(x,P){return Ui(gc(x,P),O)}function Nm(x,P,q){return q=q===e?1:Cr(q),Ui(gc(x,P),q)}function tu(x,P){var q=_r(x)?pi:ls;return q(x,ar(P,3))}function ru(x,P){var q=_r(x)?Ln:ec;return q(x,ar(P,3))}var Fm=oc(function(x,P,q){Kr.call(x,q)?x[q].push(P):os(x,q,[P])});function Bm(x,P,q,fe){x=kn(x)?x:Bo(x),q=q&&!fe?Cr(q):0;var Se=x.length;return q<0&&(q=ki(Se+q,0)),_c(x)?q<=Se&&x.indexOf(P,q)>-1:!!Se&&ei(x,P,q)>-1}var Um=Ct(function(x,P,q){var fe=-1,Se=typeof P=="function",Le=kn(x)?ht(x.length):[];return ls(x,function(Xe){Le[++fe]=Se?ri(P,Xe,q):b(Xe,P,q)}),Le}),jm=oc(function(x,P,q){os(x,q,P)});function gc(x,P){var q=_r(x)?st:He;return q(x,ar(P,3))}function zm(x,P,q,fe){return x==null?[]:(_r(P)||(P=P==null?[]:[P]),q=fe?e:q,_r(q)||(q=q==null?[]:[q]),gt(x,P,q))}var Hm=oc(function(x,P,q){x[q?0:1].push(P)},function(){return[[],[]]});function $m(x,P,q){var fe=_r(x)?Ht:$s,Se=arguments.length<3;return fe(x,ar(P,4),q,Se,ls)}function Wm(x,P,q){var fe=_r(x)?Ft:$s,Se=arguments.length<3;return fe(x,ar(P,4),q,Se,ec)}function Vm(x,P){var q=_r(x)?Qi:hl;return q(x,yc(ar(P,3)))}function Xm(x){var P=_r(x)?Co:wr;return P(x)}function Gm(x,P,q){(q?bn(x,P,q):P===e)?P=1:P=Cr(P);var fe=_r(x)?Ql:Rr;return fe(x,P)}function Km(x){var P=_r(x)?Jl:zn;return P(x)}function Ym(x){if(x==null)return 0;if(kn(x))return _c(x)?Ks(x):x.length;var P=cn(x);return P==Q||P==se?x.size:ye(x).length}function Zm(x,P,q){var fe=_r(x)?yr:En;return q&&bn(x,P,q)&&(P=e),fe(x,ar(P,3))}var Qm=Ct(function(x,P){if(x==null)return[];var q=P.length;return q>1&&bn(x,P[0],P[1])?P=[]:q>2&&bn(P[0],P[1],P[2])&&(P=[P[0]]),gt(x,Ui(P,1),[])}),vc=eh||function(){return sr.Date.now()};function Jm(x,P){if(typeof P!="function")throw new ln(u);return x=Cr(x),function(){if(--x<1)return P.apply(this,arguments)}}function iu(x,P,q){return P=q?e:P,P=x&&P==null?x.length:P,sa(x,w,e,e,e,e,P)}function nu(x,P){var q;if(typeof P!="function")throw new ln(u);return x=Cr(x),function(){return--x>0&&(q=P.apply(this,arguments)),x<=1&&(P=e),q}}var Lh=Ct(function(x,P,q){var fe=v;if(q.length){var Se=Qn(q,No(Lh));fe|=S}return sa(x,fe,P,q,Se)}),su=Ct(function(x,P,q){var fe=v|y;if(q.length){var Se=Qn(q,No(su));fe|=S}return sa(P,fe,x,q,Se)});function au(x,P,q){P=q?e:P;var fe=sa(x,E,e,e,e,e,e,P);return fe.placeholder=au.placeholder,fe}function ou(x,P,q){P=q?e:P;var fe=sa(x,T,e,e,e,e,e,P);return fe.placeholder=ou.placeholder,fe}function lu(x,P,q){var fe,Se,Le,Xe,Ye,nt,bt=0,yt=!1,Et=!1,Lt=!0;if(typeof x!="function")throw new ln(u);P=ns(P)||0,mi(q)&&(yt=!!q.leading,Et="maxWait"in q,Le=Et?ki(ns(q.maxWait)||0,P):Le,Lt="trailing"in q?!!q.trailing:Lt);function Yt(Mi){var us=fe,ha=Se;return fe=Se=e,bt=Mi,Xe=x.apply(ha,us),Xe}function lr(Mi){return bt=Mi,Ye=bl(Br,P),yt?Yt(Mi):Xe}function Ir(Mi){var us=Mi-nt,ha=Mi-bt,ku=P-us;return Et?Xi(ku,Le-ha):ku}function cr(Mi){var us=Mi-nt,ha=Mi-bt;return nt===e||us>=P||us<0||Et&&ha>=Le}function Br(){var Mi=vc();if(cr(Mi))return Wr(Mi);Ye=bl(Br,Ir(Mi))}function Wr(Mi){return Ye=e,Lt&&fe?Yt(Mi):(fe=Se=e,Xe)}function Wn(){Ye!==e&&Sn(Ye),bt=0,fe=nt=Se=Ye=e}function yn(){return Ye===e?Xe:Wr(vc())}function Vn(){var Mi=vc(),us=cr(Mi);if(fe=arguments,Se=this,nt=Mi,us){if(Ye===e)return lr(nt);if(Et)return Sn(Ye),Ye=bl(Br,P),Yt(nt)}return Ye===e&&(Ye=bl(Br,P)),Xe}return Vn.cancel=Wn,Vn.flush=yn,Vn}var qm=Ct(function(x,P){return Ro(x,1,P)}),e0=Ct(function(x,P,q){return Ro(x,ns(P)||0,q)});function t0(x){return sa(x,D)}function bc(x,P){if(typeof x!="function"||P!=null&&typeof P!="function")throw new ln(u);var q=function(){var fe=arguments,Se=P?P.apply(this,fe):fe[0],Le=q.cache;if(Le.has(Se))return Le.get(Se);var Xe=x.apply(this,fe);return q.cache=Le.set(Se,Xe)||Le,Xe};return q.cache=new(bc.Cache||es),q}bc.Cache=es;function yc(x){if(typeof x!="function")throw new ln(u);return function(){var P=arguments;switch(P.length){case 0:return!x.call(this);case 1:return!x.call(this,P[0]);case 2:return!x.call(this,P[0],P[1]);case 3:return!x.call(this,P[0],P[1],P[2])}return!x.apply(this,P)}}function r0(x){return nu(2,x)}var i0=sc(function(x,P){P=P.length==1&&_r(P[0])?st(P[0],Li(ar())):st(Ui(P,1),Li(ar()));var q=P.length;return Ct(function(fe){for(var Se=-1,Le=Xi(fe.length,q);++Se<Le;)fe[Se]=P[Se].call(this,fe[Se]);return ri(x,this,fe)})}),Oh=Ct(function(x,P){var q=Qn(P,No(Oh));return sa(x,S,e,P,q)}),cu=Ct(function(x,P){var q=Qn(P,No(cu));return sa(x,A,e,P,q)}),n0=aa(function(x,P){return sa(x,I,e,e,e,P)});function s0(x,P){if(typeof x!="function")throw new ln(u);return P=P===e?P:Cr(P),Ct(x,P)}function a0(x,P){if(typeof x!="function")throw new ln(u);return P=P==null?0:ki(Cr(P),0),Ct(function(q){var fe=q[P],Se=rs(q,0,P);return fe&&xt(Se,fe),ri(x,this,Se)})}function o0(x,P,q){var fe=!0,Se=!0;if(typeof x!="function")throw new ln(u);return mi(q)&&(fe="leading"in q?!!q.leading:fe,Se="trailing"in q?!!q.trailing:Se),lu(x,P,{leading:fe,maxWait:P,trailing:Se})}function l0(x){return iu(x,1)}function c0(x,P){return Oh(so(P),x)}function h0(){if(!arguments.length)return[];var x=arguments[0];return _r(x)?x:[x]}function f0(x){return oi(x,l)}function u0(x,P){return P=typeof P=="function"?P:e,oi(x,l,P)}function d0(x){return oi(x,r|l)}function p0(x,P){return P=typeof P=="function"?P:e,oi(x,r|l,P)}function m0(x,P){return P==null||io(x,P,Gi(P))}function fs(x,P){return x===P||x!==x&&P!==P}var g0=fc(ul),v0=fc(function(x,P){return x>=P}),co=k(function(){return arguments}())?k:function(x){return wi(x)&&Kr.call(x,"callee")&&!Nl.call(x,"callee")},_r=ht.isArray,b0=xi?Li(xi):M;function kn(x){return x!=null&&wc(x.length)&&!la(x)}function Ii(x){return wi(x)&&kn(x)}function y0(x){return x===!0||x===!1||wi(x)&&ji(x)==ge}var Fa=Fl||Xh,w0=vi?Li(vi):U;function _0(x){return wi(x)&&x.nodeType===1&&!yl(x)}function x0(x){if(x==null)return!0;if(kn(x)&&(_r(x)||typeof x=="string"||typeof x.splice=="function"||Fa(x)||Fo(x)||co(x)))return!x.length;var P=cn(x);if(P==Q||P==se)return!x.size;if(vl(x))return!ye(x).length;for(var q in x)if(Kr.call(x,q))return!1;return!0}function E0(x,P){return X(x,P)}function T0(x,P,q){q=typeof q=="function"?q:e;var fe=q?q(x,P):e;return fe===e?X(x,P,e,q):!!fe}function Nh(x){if(!wi(x))return!1;var P=ji(x);return P==Ke||P==Oe||typeof x.message=="string"&&typeof x.name=="string"&&!yl(x)}function S0(x){return typeof x=="number"&&el(x)}function la(x){if(!mi(x))return!1;var P=ji(x);return P==De||P==Ee||P==le||P==de}function hu(x){return typeof x=="number"&&x==Cr(x)}function wc(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=C}function mi(x){var P=typeof x;return x!=null&&(P=="object"||P=="function")}function wi(x){return x!=null&&typeof x=="object"}var fu=si?Li(si):ee;function A0(x,P){return x===P||oe(x,P,Ah(P))}function k0(x,P,q){return q=typeof q=="function"?q:e,oe(x,P,Ah(P),q)}function C0(x){return uu(x)&&x!=+x}function R0(x){if(up(x))throw new pr(f);return pe(x)}function I0(x){return x===null}function M0(x){return x==null}function uu(x){return typeof x=="number"||wi(x)&&ji(x)==ue}function yl(x){if(!wi(x)||ji(x)!=_e)return!1;var P=_n(x);if(P===null)return!0;var q=Kr.call(P,"constructor")&&P.constructor;return typeof q=="function"&&q instanceof q&&wo.call(q)==Ka}var Fh=ai?Li(ai):me;function P0(x){return hu(x)&&x>=-C&&x<=C}var du=bi?Li(bi):be;function _c(x){return typeof x=="string"||!_r(x)&&wi(x)&&ji(x)==ne}function $n(x){return typeof x=="symbol"||wi(x)&&ji(x)==we}var Fo=Bi?Li(Bi):Te;function D0(x){return x===e}function L0(x){return wi(x)&&cn(x)==ae}function O0(x){return wi(x)&&ji(x)==Pe}var N0=fc($e),F0=fc(function(x,P){return x<=P});function pu(x){if(!x)return[];if(kn(x))return _c(x)?Fn(x):An(x);if(Ys&&x[Ys])return Gc(x[Ys]());var P=cn(x),q=P==Q?go:P==se?Gs:Bo;return q(x)}function ca(x){if(!x)return x===0?x:0;if(x=ns(x),x===O||x===-O){var P=x<0?-1:1;return P*F}return x===x?x:0}function Cr(x){var P=ca(x),q=P%1;return P===P?q?P-q:P:0}function mu(x){return x?Cs(Cr(x),0,$):0}function ns(x){if(typeof x=="number")return x;if($n(x))return H;if(mi(x)){var P=typeof x.valueOf=="function"?x.valueOf():x;x=mi(P)?P+"":P}if(typeof x!="string")return x===0?x:+x;x=Ws(x);var q=tr.test(x);return q||or.test(x)?qe(x.slice(2),q?2:8):dr.test(x)?H:+x}function gu(x){return Ms(x,Cn(x))}function B0(x){return x?Cs(Cr(x),-C,C):x===0?x:0}function Jr(x){return x==null?"":ni(x)}var U0=Lo(function(x,P){if(vl(P)||kn(P)){Ms(P,Gi(P),x);return}for(var q in P)Kr.call(P,q)&&La(x,q,P[q])}),vu=Lo(function(x,P){Ms(P,Cn(P),x)}),xc=Lo(function(x,P,q,fe){Ms(P,Cn(P),x,fe)}),j0=Lo(function(x,P,q,fe){Ms(P,Gi(P),x,fe)}),z0=aa(Na);function H0(x,P){var q=Pa(x);return P==null?q:ql(q,P)}var $0=Ct(function(x,P){x=Er(x);var q=-1,fe=P.length,Se=fe>2?P[2]:e;for(Se&&bn(P[0],P[1],Se)&&(fe=1);++q<fe;)for(var Le=P[q],Xe=Cn(Le),Ye=-1,nt=Xe.length;++Ye<nt;){var bt=Xe[Ye],yt=x[bt];(yt===e||fs(yt,Bn[bt])&&!Kr.call(x,bt))&&(x[bt]=Le[bt])}return x}),W0=Ct(function(x){return x.push(e,Lf),ri(bu,e,x)});function V0(x,P){return Ei(x,ar(P,3),jn)}function X0(x,P){return Ei(x,ar(P,3),fl)}function G0(x,P){return x==null?x:Mo(x,ar(P,3),Cn)}function K0(x,P){return x==null?x:rc(x,ar(P,3),Cn)}function Y0(x,P){return x&&jn(x,ar(P,3))}function Z0(x,P){return x&&fl(x,ar(P,3))}function Q0(x){return x==null?[]:Po(x,Gi(x))}function J0(x){return x==null?[]:Po(x,Cn(x))}function Bh(x,P,q){var fe=x==null?e:ra(x,P);return fe===e?q:fe}function q0(x,P){return x!=null&&Ff(x,P,nc)}function Uh(x,P){return x!=null&&Ff(x,P,N)}var eg=Rf(function(x,P,q){P!=null&&typeof P.toString!="function"&&(P=ka.call(P)),x[P]=q},zh(Rn)),tg=Rf(function(x,P,q){P!=null&&typeof P.toString!="function"&&(P=ka.call(P)),Kr.call(x,P)?x[P].push(q):x[P]=[q]},ar),rg=Ct(b);function Gi(x){return kn(x)?cl(x):ye(x)}function Cn(x){return kn(x)?cl(x,!0):ke(x)}function ig(x,P){var q={};return P=ar(P,3),jn(x,function(fe,Se,Le){os(q,P(fe,Se,Le),fe)}),q}function ng(x,P){var q={};return P=ar(P,3),jn(x,function(fe,Se,Le){os(q,Se,P(fe,Se,Le))}),q}var sg=Lo(function(x,P,q){ct(x,P,q)}),bu=Lo(function(x,P,q,fe){ct(x,P,q,fe)}),ag=aa(function(x,P){var q={};if(x==null)return q;var fe=!1;P=st(P,function(Le){return Le=Is(Le,x),fe||(fe=Le.length>1),Le}),Ms(x,Th(x),q),fe&&(q=oi(q,r|n|l,ep));for(var Se=P.length;Se--;)ia(q,P[Se]);return q});function og(x,P){return yu(x,yc(ar(P)))}var lg=aa(function(x,P){return x==null?{}:Pt(x,P)});function yu(x,P){if(x==null)return{};var q=st(Th(x),function(fe){return[fe]});return P=ar(P),St(x,q,function(fe,Se){return P(fe,Se[0])})}function cg(x,P,q){P=Is(P,x);var fe=-1,Se=P.length;for(Se||(Se=1,x=e);++fe<Se;){var Le=x==null?e:x[Ps(P[fe])];Le===e&&(fe=Se,Le=q),x=la(Le)?Le.call(x):Le}return x}function hg(x,P,q){return x==null?x:$r(x,P,q)}function fg(x,P,q,fe){return fe=typeof fe=="function"?fe:e,x==null?x:$r(x,P,q,fe)}var wu=Pf(Gi),_u=Pf(Cn);function ug(x,P,q){var fe=_r(x),Se=fe||Fa(x)||Fo(x);if(P=ar(P,4),q==null){var Le=x&&x.constructor;Se?q=fe?new Le:[]:mi(x)?q=la(Le)?Pa(_n(x)):{}:q={}}return(Se?pi:jn)(x,function(Xe,Ye,nt){return P(q,Xe,Ye,nt)}),q}function dg(x,P){return x==null?!0:ia(x,P)}function pg(x,P,q){return x==null?x:no(x,P,so(q))}function mg(x,P,q,fe){return fe=typeof fe=="function"?fe:e,x==null?x:no(x,P,so(q),fe)}function Bo(x){return x==null?[]:Vs(x,Gi(x))}function gg(x){return x==null?[]:Vs(x,Cn(x))}function vg(x,P,q){return q===e&&(q=P,P=e),q!==e&&(q=ns(q),q=q===q?q:0),P!==e&&(P=ns(P),P=P===P?P:0),Cs(ns(x),P,q)}function bg(x,P,q){return P=ca(P),q===e?(q=P,P=0):q=ca(q),x=ns(x),R(x,P,q)}function yg(x,P,q){if(q&&typeof q!="boolean"&&bn(x,P,q)&&(P=q=e),q===e&&(typeof P=="boolean"?(q=P,P=e):typeof x=="boolean"&&(q=x,x=e)),x===e&&P===e?(x=0,P=1):(x=ca(x),P===e?(P=x,x=0):P=ca(P)),x>P){var fe=x;x=P,P=fe}if(q||x%1||P%1){var Se=Ul();return Xi(x+Se*(P-x+je("1e-"+((Se+"").length-1))),P)}return Gt(x,P)}var wg=Oo(function(x,P,q){return P=P.toLowerCase(),x+(q?xu(P):P)});function xu(x){return jh(Jr(x).toLowerCase())}function Eu(x){return x=Jr(x),x&&x.replace(Ue,Ga).replace(_a,"")}function _g(x,P,q){x=Jr(x),P=ni(P);var fe=x.length;q=q===e?fe:Cs(Cr(q),0,fe);var Se=q;return q-=P.length,q>=0&&x.slice(q,Se)==P}function xg(x){return x=Jr(x),x&&Nt.test(x)?x.replace(jt,Xs):x}function Eg(x){return x=Jr(x),x&&Xt.test(x)?x.replace(mr,"\\$&"):x}var Tg=Oo(function(x,P,q){return x+(q?"-":"")+P.toLowerCase()}),Sg=Oo(function(x,P,q){return x+(q?" ":"")+P.toLowerCase()}),Ag=Af("toLowerCase");function kg(x,P,q){x=Jr(x),P=Cr(P);var fe=P?Ks(x):0;if(!P||fe>=P)return x;var Se=(P-fe)/2;return hc(Qs(Se),q)+x+hc(Za(Se),q)}function Cg(x,P,q){x=Jr(x),P=Cr(P);var fe=P?Ks(x):0;return P&&fe<P?x+hc(P-fe,q):x}function Rg(x,P,q){x=Jr(x),P=Cr(P);var fe=P?Ks(x):0;return P&&fe<P?hc(P-fe,q)+x:x}function Ig(x,P,q){return q||P==null?P=0:P&&(P=+P),rh(Jr(x).replace(hr,""),P||0)}function Mg(x,P,q){return(q?bn(x,P,q):P===e)?P=1:P=Cr(P),Kt(Jr(x),P)}function Pg(){var x=arguments,P=Jr(x[0]);return x.length<3?P:P.replace(x[1],x[2])}var Dg=Oo(function(x,P,q){return x+(q?"_":"")+P.toLowerCase()});function Lg(x,P,q){return q&&typeof q!="number"&&bn(x,P,q)&&(P=q=e),q=q===e?$:q>>>0,q?(x=Jr(x),x&&(typeof P=="string"||P!=null&&!Fh(P))&&(P=ni(P),!P&&Ji(x))?rs(Fn(x),0,q):x.split(P,q)):[]}var Og=Oo(function(x,P,q){return x+(q?" ":"")+jh(P)});function Ng(x,P,q){return x=Jr(x),q=q==null?0:Cs(Cr(q),0,x.length),P=ni(P),x.slice(q,q+P.length)==P}function Fg(x,P,q){var fe=Me.templateSettings;q&&bn(x,P,q)&&(P=e),x=Jr(x),P=xc({},P,fe,Df);var Se=xc({},P.imports,fe.imports,Df),Le=Gi(Se),Xe=Vs(Se,Le),Ye,nt,bt=0,yt=P.interpolate||it,Et="__p += '",Lt=Yo((P.escape||it).source+"|"+yt.source+"|"+(yt===Dt?rr:it).source+"|"+(P.evaluate||it).source+"|$","g"),Yt="//# sourceURL="+(Kr.call(P,"sourceURL")?(P.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yn+"]")+`
`;x.replace(Lt,function(cr,Br,Wr,Wn,yn,Vn){return Wr||(Wr=Wn),Et+=x.slice(bt,Vn).replace(ot,Go),Br&&(Ye=!0,Et+=`' +
__e(`+Br+`) +
'`),yn&&(nt=!0,Et+=`';
`+yn+`;
__p += '`),Wr&&(Et+=`' +
((__t = (`+Wr+`)) == null ? '' : __t) +
'`),bt=Vn+cr.length,cr}),Et+=`';
`;var lr=Kr.call(P,"variable")&&P.variable;if(!lr)Et=`with (obj) {
`+Et+`
}
`;else if(Pr.test(lr))throw new pr(h);Et=(nt?Et.replace(Qe,""):Et).replace(rt,"$1").replace(mt,"$1;"),Et="function("+(lr||"obj")+`) {
`+(lr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(nt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Et+`return __p
}`;var Ir=Su(function(){return Xr(Le,Yt+"return "+Et).apply(e,Xe)});if(Ir.source=Et,Nh(Ir))throw Ir;return Ir}function Bg(x){return Jr(x).toLowerCase()}function Ug(x){return Jr(x).toUpperCase()}function jg(x,P,q){if(x=Jr(x),x&&(q||P===e))return Ws(x);if(!x||!(P=ni(P)))return x;var fe=Fn(x),Se=Fn(P),Le=Xa(fe,Se),Xe=Ta(fe,Se)+1;return rs(fe,Le,Xe).join("")}function zg(x,P,q){if(x=Jr(x),x&&(q||P===e))return x.slice(0,Ol(x)+1);if(!x||!(P=ni(P)))return x;var fe=Fn(x),Se=Ta(fe,Fn(P))+1;return rs(fe,0,Se).join("")}function Hg(x,P,q){if(x=Jr(x),x&&(q||P===e))return x.replace(hr,"");if(!x||!(P=ni(P)))return x;var fe=Fn(x),Se=Xa(fe,Fn(P));return rs(fe,Se).join("")}function $g(x,P){var q=V,fe=ie;if(mi(P)){var Se="separator"in P?P.separator:Se;q="length"in P?Cr(P.length):q,fe="omission"in P?ni(P.omission):fe}x=Jr(x);var Le=x.length;if(Ji(x)){var Xe=Fn(x);Le=Xe.length}if(q>=Le)return x;var Ye=q-Ks(fe);if(Ye<1)return fe;var nt=Xe?rs(Xe,0,Ye).join(""):x.slice(0,Ye);if(Se===e)return nt+fe;if(Xe&&(Ye+=nt.length-Ye),Fh(Se)){if(x.slice(Ye).search(Se)){var bt,yt=nt;for(Se.global||(Se=Yo(Se.source,Jr(Ar.exec(Se))+"g")),Se.lastIndex=0;bt=Se.exec(yt);)var Et=bt.index;nt=nt.slice(0,Et===e?Ye:Et)}}else if(x.indexOf(ni(Se),Ye)!=Ye){var Lt=nt.lastIndexOf(Se);Lt>-1&&(nt=nt.slice(0,Lt))}return nt+fe}function Wg(x){return x=Jr(x),x&&kt.test(x)?x.replace(Ut,Yc):x}var Vg=Oo(function(x,P,q){return x+(q?" ":"")+P.toUpperCase()}),jh=Af("toUpperCase");function Tu(x,P,q){return x=Jr(x),P=q?e:P,P===e?Pl(x)?Qc(x):hi(x):x.match(P)||[]}var Su=Ct(function(x,P){try{return ri(x,e,P)}catch(q){return Nh(q)?q:new pr(q)}}),Xg=aa(function(x,P){return pi(P,function(q){q=Ps(q),os(x,q,Lh(x[q],x))}),x});function Gg(x){var P=x==null?0:x.length,q=ar();return x=P?st(x,function(fe){if(typeof fe[1]!="function")throw new ln(u);return[q(fe[0]),fe[1]]}):[],Ct(function(fe){for(var Se=-1;++Se<P;){var Le=x[Se];if(ri(Le[0],this,fe))return ri(Le[1],this,fe)}})}function Kg(x){return mh(oi(x,r))}function zh(x){return function(){return x}}function Yg(x,P){return x==null||x!==x?P:x}var Zg=Cf(),Qg=Cf(!0);function Rn(x){return x}function Hh(x){return Re(typeof x=="function"?x:oi(x,r))}function Jg(x){return Ze(oi(x,r))}function qg(x,P){return lt(x,oi(P,r))}var ev=Ct(function(x,P){return function(q){return b(q,x,P)}}),tv=Ct(function(x,P){return function(q){return b(x,q,P)}});function $h(x,P,q){var fe=Gi(P),Se=Po(P,fe);q==null&&!(mi(P)&&(Se.length||!fe.length))&&(q=P,P=x,x=this,Se=Po(P,Gi(P)));var Le=!(mi(q)&&"chain"in q)||!!q.chain,Xe=la(x);return pi(Se,function(Ye){var nt=P[Ye];x[Ye]=nt,Xe&&(x.prototype[Ye]=function(){var bt=this.__chain__;if(Le||bt){var yt=x(this.__wrapped__),Et=yt.__actions__=An(this.__actions__);return Et.push({func:nt,args:arguments,thisArg:x}),yt.__chain__=bt,yt}return nt.apply(x,xt([this.value()],arguments))})}),x}function rv(){return sr._===this&&(sr._=_o),this}function Wh(){}function iv(x){return x=Cr(x),Ct(function(P){return dt(P,x)})}var nv=_h(st),sv=_h(wn),av=_h(yr);function Au(x){return Ch(x)?mn(Ps(x)):Wt(x)}function ov(x){return function(P){return x==null?e:ra(x,P)}}var lv=If(),cv=If(!0);function Vh(){return[]}function Xh(){return!1}function hv(){return{}}function fv(){return""}function uv(){return!0}function dv(x,P){if(x=Cr(x),x<1||x>C)return[];var q=$,fe=Xi(x,$);P=ar(P),x-=$;for(var Se=xr(fe,P);++q<x;)P(q);return Se}function pv(x){return _r(x)?st(x,Ps):$n(x)?[x]:An(Xf(Jr(x)))}function mv(x){var P=++As;return Jr(x)+P}var gv=cc(function(x,P){return x+P},0),vv=xh("ceil"),bv=cc(function(x,P){return x/P},1),yv=xh("floor");function wv(x){return x&&x.length?Io(x,Rn,ul):e}function _v(x,P){return x&&x.length?Io(x,ar(P,2),ul):e}function xv(x){return On(x,Rn)}function Ev(x,P){return On(x,ar(P,2))}function Tv(x){return x&&x.length?Io(x,Rn,$e):e}function Sv(x,P){return x&&x.length?Io(x,ar(P,2),$e):e}var Av=cc(function(x,P){return x*P},1),kv=xh("round"),Cv=cc(function(x,P){return x-P},0);function Rv(x){return x&&x.length?Ti(x,Rn):0}function Iv(x,P){return x&&x.length?Ti(x,ar(P,2)):0}return Me.after=Jm,Me.ary=iu,Me.assign=U0,Me.assignIn=vu,Me.assignInWith=xc,Me.assignWith=j0,Me.at=z0,Me.before=nu,Me.bind=Lh,Me.bindAll=Xg,Me.bindKey=su,Me.castArray=h0,Me.chain=eu,Me.chunk=yp,Me.compact=wp,Me.concat=_p,Me.cond=Gg,Me.conforms=Kg,Me.constant=zh,Me.countBy=Rm,Me.create=H0,Me.curry=au,Me.curryRight=ou,Me.debounce=lu,Me.defaults=$0,Me.defaultsDeep=W0,Me.defer=qm,Me.delay=e0,Me.difference=xp,Me.differenceBy=Ep,Me.differenceWith=Tp,Me.drop=Sp,Me.dropRight=Ap,Me.dropRightWhile=kp,Me.dropWhile=Cp,Me.fill=Rp,Me.filter=Mm,Me.flatMap=Lm,Me.flatMapDeep=Om,Me.flatMapDepth=Nm,Me.flatten=Zf,Me.flattenDeep=Ip,Me.flattenDepth=Mp,Me.flip=t0,Me.flow=Zg,Me.flowRight=Qg,Me.fromPairs=Pp,Me.functions=Q0,Me.functionsIn=J0,Me.groupBy=Fm,Me.initial=Lp,Me.intersection=Op,Me.intersectionBy=Np,Me.intersectionWith=Fp,Me.invert=eg,Me.invertBy=tg,Me.invokeMap=Um,Me.iteratee=Hh,Me.keyBy=jm,Me.keys=Gi,Me.keysIn=Cn,Me.map=gc,Me.mapKeys=ig,Me.mapValues=ng,Me.matches=Jg,Me.matchesProperty=qg,Me.memoize=bc,Me.merge=sg,Me.mergeWith=bu,Me.method=ev,Me.methodOf=tv,Me.mixin=$h,Me.negate=yc,Me.nthArg=iv,Me.omit=ag,Me.omitBy=og,Me.once=r0,Me.orderBy=zm,Me.over=nv,Me.overArgs=i0,Me.overEvery=sv,Me.overSome=av,Me.partial=Oh,Me.partialRight=cu,Me.partition=Hm,Me.pick=lg,Me.pickBy=yu,Me.property=Au,Me.propertyOf=ov,Me.pull=zp,Me.pullAll=Jf,Me.pullAllBy=Hp,Me.pullAllWith=$p,Me.pullAt=Wp,Me.range=lv,Me.rangeRight=cv,Me.rearg=n0,Me.reject=Vm,Me.remove=Vp,Me.rest=s0,Me.reverse=Ph,Me.sampleSize=Gm,Me.set=hg,Me.setWith=fg,Me.shuffle=Km,Me.slice=Xp,Me.sortBy=Qm,Me.sortedUniq=qp,Me.sortedUniqBy=em,Me.split=Lg,Me.spread=a0,Me.tail=tm,Me.take=rm,Me.takeRight=im,Me.takeRightWhile=nm,Me.takeWhile=sm,Me.tap=wm,Me.throttle=o0,Me.thru=mc,Me.toArray=pu,Me.toPairs=wu,Me.toPairsIn=_u,Me.toPath=pv,Me.toPlainObject=gu,Me.transform=ug,Me.unary=l0,Me.union=am,Me.unionBy=om,Me.unionWith=lm,Me.uniq=cm,Me.uniqBy=hm,Me.uniqWith=fm,Me.unset=dg,Me.unzip=Dh,Me.unzipWith=qf,Me.update=pg,Me.updateWith=mg,Me.values=Bo,Me.valuesIn=gg,Me.without=um,Me.words=Tu,Me.wrap=c0,Me.xor=dm,Me.xorBy=pm,Me.xorWith=mm,Me.zip=gm,Me.zipObject=vm,Me.zipObjectDeep=bm,Me.zipWith=ym,Me.entries=wu,Me.entriesIn=_u,Me.extend=vu,Me.extendWith=xc,$h(Me,Me),Me.add=gv,Me.attempt=Su,Me.camelCase=wg,Me.capitalize=xu,Me.ceil=vv,Me.clamp=vg,Me.clone=f0,Me.cloneDeep=d0,Me.cloneDeepWith=p0,Me.cloneWith=u0,Me.conformsTo=m0,Me.deburr=Eu,Me.defaultTo=Yg,Me.divide=bv,Me.endsWith=_g,Me.eq=fs,Me.escape=xg,Me.escapeRegExp=Eg,Me.every=Im,Me.find=Pm,Me.findIndex=Kf,Me.findKey=V0,Me.findLast=Dm,Me.findLastIndex=Yf,Me.findLastKey=X0,Me.floor=yv,Me.forEach=tu,Me.forEachRight=ru,Me.forIn=G0,Me.forInRight=K0,Me.forOwn=Y0,Me.forOwnRight=Z0,Me.get=Bh,Me.gt=g0,Me.gte=v0,Me.has=q0,Me.hasIn=Uh,Me.head=Qf,Me.identity=Rn,Me.includes=Bm,Me.indexOf=Dp,Me.inRange=bg,Me.invoke=rg,Me.isArguments=co,Me.isArray=_r,Me.isArrayBuffer=b0,Me.isArrayLike=kn,Me.isArrayLikeObject=Ii,Me.isBoolean=y0,Me.isBuffer=Fa,Me.isDate=w0,Me.isElement=_0,Me.isEmpty=x0,Me.isEqual=E0,Me.isEqualWith=T0,Me.isError=Nh,Me.isFinite=S0,Me.isFunction=la,Me.isInteger=hu,Me.isLength=wc,Me.isMap=fu,Me.isMatch=A0,Me.isMatchWith=k0,Me.isNaN=C0,Me.isNative=R0,Me.isNil=M0,Me.isNull=I0,Me.isNumber=uu,Me.isObject=mi,Me.isObjectLike=wi,Me.isPlainObject=yl,Me.isRegExp=Fh,Me.isSafeInteger=P0,Me.isSet=du,Me.isString=_c,Me.isSymbol=$n,Me.isTypedArray=Fo,Me.isUndefined=D0,Me.isWeakMap=L0,Me.isWeakSet=O0,Me.join=Bp,Me.kebabCase=Tg,Me.last=is,Me.lastIndexOf=Up,Me.lowerCase=Sg,Me.lowerFirst=Ag,Me.lt=N0,Me.lte=F0,Me.max=wv,Me.maxBy=_v,Me.mean=xv,Me.meanBy=Ev,Me.min=Tv,Me.minBy=Sv,Me.stubArray=Vh,Me.stubFalse=Xh,Me.stubObject=hv,Me.stubString=fv,Me.stubTrue=uv,Me.multiply=Av,Me.nth=jp,Me.noConflict=rv,Me.noop=Wh,Me.now=vc,Me.pad=kg,Me.padEnd=Cg,Me.padStart=Rg,Me.parseInt=Ig,Me.random=yg,Me.reduce=$m,Me.reduceRight=Wm,Me.repeat=Mg,Me.replace=Pg,Me.result=cg,Me.round=kv,Me.runInContext=tt,Me.sample=Xm,Me.size=Ym,Me.snakeCase=Dg,Me.some=Zm,Me.sortedIndex=Gp,Me.sortedIndexBy=Kp,Me.sortedIndexOf=Yp,Me.sortedLastIndex=Zp,Me.sortedLastIndexBy=Qp,Me.sortedLastIndexOf=Jp,Me.startCase=Og,Me.startsWith=Ng,Me.subtract=Cv,Me.sum=Rv,Me.sumBy=Iv,Me.template=Fg,Me.times=dv,Me.toFinite=ca,Me.toInteger=Cr,Me.toLength=mu,Me.toLower=Bg,Me.toNumber=ns,Me.toSafeInteger=B0,Me.toString=Jr,Me.toUpper=Ug,Me.trim=jg,Me.trimEnd=zg,Me.trimStart=Hg,Me.truncate=$g,Me.unescape=Wg,Me.uniqueId=mv,Me.upperCase=Vg,Me.upperFirst=jh,Me.each=tu,Me.eachRight=ru,Me.first=Qf,$h(Me,function(){var x={};return jn(Me,function(P,q){Kr.call(Me.prototype,q)||(x[q]=P)}),x}(),{chain:!1}),Me.VERSION=m,pi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){Me[x].placeholder=Me}),pi(["drop","take"],function(x,P){Or.prototype[x]=function(q){q=q===e?1:ki(Cr(q),0);var fe=this.__filtered__&&!P?new Or(this):this.clone();return fe.__filtered__?fe.__takeCount__=Xi(q,fe.__takeCount__):fe.__views__.push({size:Xi(q,$),type:x+(fe.__dir__<0?"Right":"")}),fe},Or.prototype[x+"Right"]=function(q){return this.reverse()[x](q).reverse()}}),pi(["filter","map","takeWhile"],function(x,P){var q=P+1,fe=q==Z||q==j;Or.prototype[x]=function(Se){var Le=this.clone();return Le.__iteratees__.push({iteratee:ar(Se,3),type:q}),Le.__filtered__=Le.__filtered__||fe,Le}}),pi(["head","last"],function(x,P){var q="take"+(P?"Right":"");Or.prototype[x]=function(){return this[q](1).value()[0]}}),pi(["initial","tail"],function(x,P){var q="drop"+(P?"":"Right");Or.prototype[x]=function(){return this.__filtered__?new Or(this):this[q](1)}}),Or.prototype.compact=function(){return this.filter(Rn)},Or.prototype.find=function(x){return this.filter(x).head()},Or.prototype.findLast=function(x){return this.reverse().find(x)},Or.prototype.invokeMap=Ct(function(x,P){return typeof x=="function"?new Or(this):this.map(function(q){return b(q,x,P)})}),Or.prototype.reject=function(x){return this.filter(yc(ar(x)))},Or.prototype.slice=function(x,P){x=Cr(x);var q=this;return q.__filtered__&&(x>0||P<0)?new Or(q):(x<0?q=q.takeRight(-x):x&&(q=q.drop(x)),P!==e&&(P=Cr(P),q=P<0?q.dropRight(-P):q.take(P-x)),q)},Or.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},Or.prototype.toArray=function(){return this.take($)},jn(Or.prototype,function(x,P){var q=/^(?:filter|find|map|reject)|While$/.test(P),fe=/^(?:head|last)$/.test(P),Se=Me[fe?"take"+(P=="last"?"Right":""):P],Le=fe||/^find/.test(P);Se&&(Me.prototype[P]=function(){var Xe=this.__wrapped__,Ye=fe?[1]:arguments,nt=Xe instanceof Or,bt=Ye[0],yt=nt||_r(Xe),Et=function(Br){var Wr=Se.apply(Me,xt([Br],Ye));return fe&&Lt?Wr[0]:Wr};yt&&q&&typeof bt=="function"&&bt.length!=1&&(nt=yt=!1);var Lt=this.__chain__,Yt=!!this.__actions__.length,lr=Le&&!Lt,Ir=nt&&!Yt;if(!Le&&yt){Xe=Ir?Xe:new Or(this);var cr=x.apply(Xe,Ye);return cr.__actions__.push({func:mc,args:[Et],thisArg:e}),new xn(cr,Lt)}return lr&&Ir?x.apply(this,Ye):(cr=this.thru(Et),lr?fe?cr.value()[0]:cr.value():cr)})}),pi(["pop","push","shift","sort","splice","unshift"],function(x){var P=yo[x],q=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",fe=/^(?:pop|shift)$/.test(x);Me.prototype[x]=function(){var Se=arguments;if(fe&&!this.__chain__){var Le=this.value();return P.apply(_r(Le)?Le:[],Se)}return this[q](function(Xe){return P.apply(_r(Xe)?Xe:[],Se)})}}),jn(Or.prototype,function(x,P){var q=Me[P];if(q){var fe=q.name+"";Kr.call(ks,fe)||(ks[fe]=[]),ks[fe].push({name:P,func:q})}}),ks[lc(e,y).name]=[{name:"wrapper",func:e}],Or.prototype.clone=sh,Or.prototype.reverse=Js,Or.prototype.value=Wl,Me.prototype.at=_m,Me.prototype.chain=xm,Me.prototype.commit=Em,Me.prototype.next=Tm,Me.prototype.plant=Am,Me.prototype.reverse=km,Me.prototype.toJSON=Me.prototype.valueOf=Me.prototype.value=Cm,Me.prototype.first=Me.prototype.head,Ys&&(Me.prototype[Ys]=Sm),Me},Aa=Jc();Lr?((Lr.exports=Aa)._=Aa,Zt._=Aa):sr._=Aa}).call(br)})(Hc,Hc.exports);var z_=Hc.exports,$d={exports:{}};(function(K,_){(function(e){K.exports=e()})(function(){return function(){function e(m,g,f){function u(t,i){if(!g[t]){if(!m[t]){var r=typeof $a=="function"&&$a;if(!i&&r)return r(t,!0);if(h)return h(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var l=g[t]={exports:{}};m[t][0].call(l.exports,function(d){var a=m[t][1][d];return u(a||d)},l,l.exports,e,m,g,f)}return g[t].exports}for(var h=typeof $a=="function"&&$a,s=0;s<f.length;s++)u(f[s]);return u}return e}()({1:[function(e,m,g){const f=e("fs"),u=e("fast-csv"),h=e("dayjs/plugin/customParseFormat"),s=e("dayjs/plugin/utc"),t=e("dayjs").extend(h).extend(s),i=e("../utils/stream-buf"),{fs:{exists:r}}=e("../utils/utils"),n={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};class l{constructor(a){this.workbook=a,this.worksheet=null}async readFile(a,v){if(v=v||{},!await r(a))throw new Error(`File not found: ${a}`);const y=f.createReadStream(a),p=await this.read(y,v);return y.close(),p}read(a,v){return v=v||{},new Promise((y,p)=>{const E=this.workbook.addWorksheet(v.sheetName),T=v.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],S=v.map||function(w){if(w==="")return null;const I=Number(w);if(!Number.isNaN(I)&&I!==1/0)return I;const D=T.reduce((ie,te)=>{if(ie)return ie;const re=t(w,te,!0);return re.isValid()?re:null},null);if(D)return new Date(D.valueOf());const V=n[w];return V!==void 0?V:w},A=u.parse(v.parserOptions).on("data",w=>{E.addRow(w.map(S))}).on("end",()=>{A.emit("worksheet",E)});A.on("worksheet",y).on("error",p),a.pipe(A)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(a,v){return new Promise((y,p)=>{v=v||{};const E=this.workbook.getWorksheet(v.sheetName||v.sheetId),T=u.format(v.formatterOptions);a.on("finish",()=>{y()}),T.on("error",p),T.pipe(a);const{dateFormat:S,dateUTC:A}=v,w=v.map||(V=>{if(V){if(V.text||V.hyperlink)return V.hyperlink||V.text||"";if(V.formula||V.result)return V.result||"";if(V instanceof Date)return S?A?t.utc(V).format(S):t(V).format(S):A?t.utc(V).format():t(V).format();if(V.error)return V.error;if(typeof V=="object")return JSON.stringify(V)}return V}),I=v.includeEmptyRows===void 0||v.includeEmptyRows;let D=1;E&&E.eachRow((V,ie)=>{if(I)for(;D++<ie-1;)T.write([]);const{values:te}=V;te.shift(),T.write(te.map(w)),D=ie}),T.end()})}writeFile(a,v){v=v||{};const y={encoding:v.encoding||"utf8"},p=f.createWriteStream(a,y);return this.write(p,v)}async writeBuffer(a){const v=new i;return await this.write(v,a),v.read()}}m.exports=l},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,m,g){const f=e("../utils/col-cache");class u{constructor(s,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,!t)this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0;else if(typeof t=="string"){const r=f.decodeAddress(t);this.nativeCol=r.col+i,this.nativeColOff=0,this.nativeRow=r.row+i,this.nativeRowOff=0}else t.nativeCol!==void 0?(this.nativeCol=t.nativeCol||0,this.nativeColOff=t.nativeColOff||0,this.nativeRow=t.nativeRow||0,this.nativeRowOff=t.nativeRowOff||0):t.col!==void 0?(this.col=t.col+i,this.row=t.row+i):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0)}static asInstance(s){return s instanceof u||s==null?s:new u(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(this.worksheet.getColumn(this.nativeCol+1).width*1e4):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(this.worksheet.getRow(this.nativeRow+1).height*1e4):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}m.exports=u},{"../utils/col-cache":19}],3:[function(e,m,g){const f=e("../utils/col-cache"),u=e("../utils/under-dash"),h=e("./enums"),{slideFormula:s}=e("../utils/shared-formula"),t=e("./note");class i{constructor(D,V,ie){if(!D||!V)throw new Error("A Cell needs a Row");this._row=D,this._column=V,f.validateAddress(ie),this._address=ie,this._value=w.create(i.Types.Null,this),this.style=this._mergeStyle(D.style,V.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(D){this.style.numFmt=D}get font(){return this.style.font}set font(D){this.style.font=D}get alignment(){return this.style.alignment}set alignment(D){this.style.alignment=D}get border(){return this.style.border}set border(D){this.style.border=D}get fill(){return this.style.fill}set fill(D){this.style.fill=D}get protection(){return this.style.protection}set protection(D){this.style.protection=D}_mergeStyle(D,V,ie){const te=D&&D.numFmt||V&&V.numFmt;te&&(ie.numFmt=te);const re=D&&D.font||V&&V.font;re&&(ie.font=re);const Z=D&&D.alignment||V&&V.alignment;Z&&(ie.alignment=Z);const W=D&&D.border||V&&V.border;W&&(ie.border=W);const j=D&&D.fill||V&&V.fill;j&&(ie.fill=j);const O=D&&D.protection||V&&V.protection;return O&&(ie.protection=O),ie}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===i.Types.Merge}merge(D,V){this._value.release(),this._value=w.create(i.Types.Merge,this,D),V||(this.style=D.style)}unmerge(){this.type===i.Types.Merge&&(this._value.release(),this._value=w.create(i.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(D){return this._value.type!==i.Types.Merge?!1:this._value.isMergedTo(D)}get master(){return this.type===i.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===i.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(D){if(this.type===i.Types.Merge){this._value.master.value=D;return}this._value.release(),this._value=w.create(w.getType(D),this,D)}get note(){return this._comment&&this._comment.note}set note(D){this._comment=new t(D)}get text(){return this._value.toString()}get html(){return u.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(D){this.type===i.Types.String&&(this._value=w.create(i.Types.Hyperlink,this,{text:this._value.value,hyperlink:D}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:D}=this._row;return{sheetName:D.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(D){this.names=[D]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(D){const{definedNames:V}=this.workbook;V.removeAllNames(this.fullAddress),D.forEach(ie=>{V.addEx(this.fullAddress,ie)})}addName(D){this.workbook.definedNames.addEx(this.fullAddress,D)}removeName(D){this.workbook.definedNames.removeEx(this.fullAddress,D)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(D){this._dataValidations.add(this.address,D)}get model(){const{model:D}=this._value;return D.style=this.style,this._comment&&(D.comment=this._comment.model),D}set model(D){if(this._value.release(),this._value=w.create(D.type,this),this._value.model=D,D.comment)switch(D.comment.type){case"note":this._comment=t.fromModel(D.comment);break}D.style?this.style=D.style:this.style={}}}i.Types=h.ValueType;class r{constructor(D){this.model={address:D.address,type:i.Types.Null}}get value(){return null}set value(D){}get type(){return i.Types.Null}get effectiveType(){return i.Types.Null}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return""}release(){}toString(){return""}}class n{constructor(D,V){this.model={address:D.address,type:i.Types.Number,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Number}get effectiveType(){return i.Types.Number}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class l{constructor(D,V){this.model={address:D.address,type:i.Types.String,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.String}get effectiveType(){return i.Types.String}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}class d{constructor(D,V){this.model={address:D.address,type:i.Types.String,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}toString(){return this.model.value.richText.map(D=>D.text).join("")}get type(){return i.Types.RichText}get effectiveType(){return i.Types.RichText}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}class a{constructor(D,V){this.model={address:D.address,type:i.Types.Date,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Date}get effectiveType(){return i.Types.Date}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}class v{constructor(D,V){this.model={address:D.address,type:i.Types.Hyperlink,text:V?V.text:void 0,hyperlink:V?V.hyperlink:void 0},V&&V.tooltip&&(this.model.tooltip=V.tooltip)}get value(){const D={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(D.tooltip=this.model.tooltip),D}set value(D){this.model={text:D.text,hyperlink:D.hyperlink},D.tooltip&&(this.model.tooltip=D.tooltip)}get text(){return this.model.text}set text(D){this.model.text=D}get hyperlink(){return this.model.hyperlink}set hyperlink(D){this.model.hyperlink=D}get type(){return i.Types.Hyperlink}get effectiveType(){return i.Types.Hyperlink}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}class y{constructor(D,V){this.model={address:D.address,type:i.Types.Merge,master:V?V.address:void 0},this._master=V,V&&V.addMergeRef()}get value(){return this._master.value}set value(D){D instanceof i?(this._master&&this._master.releaseMergeRef(),D.addMergeRef(),this._master=D):this._master.value=D}isMergedTo(D){return D===this._master}get master(){return this._master}get type(){return i.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}class p{constructor(D,V){this.cell=D,this.model={address:D.address,type:i.Types.Formula,shareType:V?V.shareType:void 0,ref:V?V.ref:void 0,formula:V?V.formula:void 0,sharedFormula:V?V.sharedFormula:void 0,result:V?V.result:void 0}}_copyModel(D){const V={},ie=te=>{const re=D[te];re&&(V[te]=re)};return ie("formula"),ie("result"),ie("ref"),ie("shareType"),ie("sharedFormula"),V}get value(){return this._copyModel(this.model)}set value(D){this.model=this._copyModel(D)}validate(D){switch(w.getType(D)){case i.Types.Null:case i.Types.String:case i.Types.Number:case i.Types.Date:break;case i.Types.Hyperlink:case i.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){const D=this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),V=this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g);return{ranges:D,cells:V}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(D){this.model.formula=D}get formulaType(){return this.model.formula?h.FormulaType.Master:this.model.sharedFormula?h.FormulaType.Shared:h.FormulaType.None}get result(){return this.model.result}set result(D){this.model.result=D}get type(){return i.Types.Formula}get effectiveType(){const D=this.model.result;return D==null?h.ValueType.Null:D instanceof String||typeof D=="string"?h.ValueType.String:typeof D=="number"?h.ValueType.Number:D instanceof Date?h.ValueType.Date:D.text&&D.hyperlink?h.ValueType.Hyperlink:D.formula?h.ValueType.Formula:h.ValueType.Null}get address(){return this.model.address}set address(D){this.model.address=D}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:D}=this.cell,V=D.findCell(this.model.sharedFormula);this._translatedFormula=V&&s(V.formula,V.address,this.model.address)}return this._translatedFormula}toCsvString(){return`${this.model.result||""}`}release(){}toString(){return this.model.result?this.model.result.toString():""}}class E{constructor(D,V){this.model={address:D.address,type:i.Types.SharedString,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.SharedString}get effectiveType(){return i.Types.SharedString}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class T{constructor(D,V){this.model={address:D.address,type:i.Types.Boolean,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Boolean}get effectiveType(){return i.Types.Boolean}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}class S{constructor(D,V){this.model={address:D.address,type:i.Types.Error,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Error}get effectiveType(){return i.Types.Error}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}class A{constructor(D,V){this.model={address:D.address,type:i.Types.String,value:JSON.stringify(V),rawValue:V}}get value(){return this.model.rawValue}set value(D){this.model.rawValue=D,this.model.value=JSON.stringify(D)}get type(){return i.Types.String}get effectiveType(){return i.Types.String}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}const w={getType(I){return I==null?i.Types.Null:I instanceof String||typeof I=="string"?i.Types.String:typeof I=="number"?i.Types.Number:typeof I=="boolean"?i.Types.Boolean:I instanceof Date?i.Types.Date:I.text&&I.hyperlink?i.Types.Hyperlink:I.formula||I.sharedFormula?i.Types.Formula:I.richText?i.Types.RichText:I.sharedString?i.Types.SharedString:I.error?i.Types.Error:i.Types.JSON},types:[{t:i.Types.Null,f:r},{t:i.Types.Number,f:n},{t:i.Types.String,f:l},{t:i.Types.Date,f:a},{t:i.Types.Hyperlink,f:v},{t:i.Types.Formula,f:p},{t:i.Types.Merge,f:y},{t:i.Types.JSON,f:A},{t:i.Types.SharedString,f:E},{t:i.Types.RichText,f:d},{t:i.Types.Boolean,f:T},{t:i.Types.Error,f:S}].reduce((I,D)=>(I[D.t]=D.f,I),[]),create(I,D,V){const ie=this.types[I];if(!ie)throw new Error(`Could not create Value of type ${I}`);return new ie(D,V)}};m.exports=i},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,m,g){const f=e("../utils/under-dash"),u=e("./enums"),h=e("../utils/col-cache"),s=9;class t{constructor(r,n,l){this._worksheet=r,this._number=n,l!==!1&&(this.defn=l)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return h.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==s}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(r){r?(this.key=r.key,this.width=r.width!==void 0?r.width:s,this.outlineLevel=r.outlineLevel,r.style?this.style=r.style:this.style={},this.header=r.header,this._hidden=!!r.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(r){r!==void 0?(this._header=r,this.headers.forEach((n,l)=>{this._worksheet.getCell(l+1,this.number).value=n})):this._header=void 0}get key(){return this._key}set key(r){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=r,r&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(r){return this.width===r.width&&this.hidden===r.hidden&&this.outlineLevel===r.outlineLevel&&f.isEqual(this.style,r.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const r=this.style;return!(r&&(r.font||r.numFmt||r.alignment||r.border||r.fill||r.protection))}get headerCount(){return this.headers.length}eachCell(r,n){const l=this.number;n||(n=r,r=null),this._worksheet.eachRow(r,(d,a)=>{n(d.getCell(l),a)})}get values(){const r=[];return this.eachCell((n,l)=>{n&&n.type!==u.ValueType.Null&&(r[l]=n.value)}),r}set values(r){if(!r)return;const n=this.number;let l=0;r.hasOwnProperty("0")&&(l=1),r.forEach((d,a)=>{this._worksheet.getCell(a+l,n).value=d})}_applyStyle(r,n){return this.style[r]=n,this.eachCell(l=>{l[r]=n}),n}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}static toModel(r){const n=[];let l=null;return r&&r.forEach((d,a)=>{d.isDefault?l&&(l=null):!l||!d.equivalentTo(l)?(l={min:a+1,max:a+1,width:d.width!==void 0?d.width:s,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},n.push(l)):l.max=a+1}),n.length?n:void 0}static fromModel(r,n){n=n||[];const l=[];let d=1,a=0;for(n=n.sort(function(v,y){return v.min-y.min});a<n.length;){const v=n[a++];for(;d<v.min;)l.push(new t(r,d++));for(;d<=v.max;)l.push(new t(r,d++,v))}return l.length?l:null}}m.exports=t},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,m,g){class f{constructor(h){this.model=h||{}}add(h,s){return this.model[h]=s}find(h){return this.model[h]}remove(h){this.model[h]=void 0}}m.exports=f},{}],6:[function(e,m,g){const f=e("../utils/under-dash"),u=e("../utils/col-cache"),h=e("../utils/cell-matrix"),s=e("./range"),t=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;class i{constructor(){this.matrixMap={}}getMatrix(n){return this.matrixMap[n]||(this.matrixMap[n]=new h)}add(n,l){const d=u.decodeEx(n);this.addEx(d,l)}addEx(n,l){const d=this.getMatrix(l);if(n.top)for(let a=n.left;a<=n.right;a++)for(let v=n.top;v<=n.bottom;v++){const y={sheetName:n.sheetName,address:u.n2l(a)+v,row:v,col:a};d.addCellEx(y)}else d.addCellEx(n)}remove(n,l){const d=u.decodeEx(n);this.removeEx(d,l)}removeEx(n,l){this.getMatrix(l).removeCellEx(n)}removeAllNames(n){f.each(this.matrixMap,l=>{l.removeCellEx(n)})}forEach(n){f.each(this.matrixMap,(l,d)=>{l.forEach(a=>{n(d,a)})})}getNames(n){return this.getNamesEx(u.decodeEx(n))}getNamesEx(n){return f.map(this.matrixMap,(l,d)=>l.findCellEx(n)&&d).filter(Boolean)}_explore(n,l){l.mark=!1;const{sheetName:d}=l,a=new s(l.row,l.col,l.row,l.col,d);let v,y;function p(T,S){const A=n.findCellAt(d,T,l.col);return!A||!A.mark?!1:(a[S]=T,A.mark=!1,!0)}for(y=l.row-1;p(y,"top");y--);for(y=l.row+1;p(y,"bottom");y++);function E(T,S){const A=[];for(y=a.top;y<=a.bottom;y++){const w=n.findCellAt(d,y,T);if(w&&w.mark)A.push(w);else return!1}a[S]=T;for(let w=0;w<A.length;w++)A[w].mark=!1;return!0}for(v=l.col-1;E(v,"left");v--);for(v=l.col+1;E(v,"right");v++);return a}getRanges(n,l){if(l=l||this.matrixMap[n],!l)return{name:n,ranges:[]};l.forEach(a=>{a.mark=!0});const d=l.map(a=>a.mark&&this._explore(l,a)).filter(Boolean).map(a=>a.$shortRange);return{name:n,ranges:d}}normaliseMatrix(n,l){n.forEachInSheet(l,(d,a,v)=>{d&&(d.row!==a||d.col!==v)&&(d.row=a,d.col=v,d.address=u.n2l(v)+a)})}spliceRows(n,l,d,a){f.each(this.matrixMap,v=>{v.spliceRows(n,l,d,a),this.normaliseMatrix(v,n)})}spliceColumns(n,l,d,a){f.each(this.matrixMap,v=>{v.spliceColumns(n,l,d,a),this.normaliseMatrix(v,n)})}get model(){return f.map(this.matrixMap,(n,l)=>this.getRanges(l,n)).filter(n=>n.ranges.length)}set model(n){const l=this.matrixMap={};n.forEach(d=>{const a=l[d.name]=new h;d.ranges.forEach(v=>{t.test(v.split("!").pop()||"")&&a.addCell(v)})})}}m.exports=i},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,m,g){m.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,m,g){const f=e("../utils/col-cache"),u=e("./anchor");class h{constructor(t,i){this.worksheet=t,this.model=i}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(t){let{type:i,imageId:r,range:n,hyperlinks:l}=t;if(this.type=i,this.imageId=r,i==="image")if(typeof n=="string"){const d=f.decode(n);this.range={tl:new u(this.worksheet,{col:d.left,row:d.top},-1),br:new u(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new u(this.worksheet,n.tl,0),br:n.br&&new u(this.worksheet,n.br,0),ext:n.ext,editAs:n.editAs,hyperlinks:l||n.hyperlinks}}}m.exports=h},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,m,g){const f=e("../utils/under-dash");class u{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note};break}return f.deepMerge({},u.DEFAULT_CONFIGS,s)}set model(s){const{note:t}=s,{texts:i}=t;i.length===1&&Object.keys(i[0]).length===1?this.note=i[0].text:this.note=t}static fromModel(s){const t=new u;return t.model=s,t}}u.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},m.exports=u},{"../utils/under-dash":26}],10:[function(e,m,g){const f=e("../utils/col-cache");class u{constructor(){this.decode(arguments)}setTLBR(s,t,i,r,n){if(arguments.length<4){const l=f.decodeAddress(s),d=f.decodeAddress(t);this.model={top:Math.min(l.row,d.row),left:Math.min(l.col,d.col),bottom:Math.max(l.row,d.row),right:Math.max(l.col,d.col),sheetName:i},this.setTLBR(l.row,l.col,d.row,d.col,n)}else this.model={top:Math.min(s,i),left:Math.min(t,r),bottom:Math.max(s,i),right:Math.max(t,r),sheetName:n}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{const t=s[0];if(t instanceof u)this.model={top:t.model.top,left:t.model.left,bottom:t.model.bottom,right:t.model.right,sheetName:t.sheetName};else if(t instanceof Array)this.decode(t);else if(t.top&&t.left&&t.bottom&&t.right)this.model={top:t.top,left:t.left,bottom:t.bottom,right:t.right,sheetName:t.sheetName};else{const i=f.decodeEx(t);i.top?this.model={top:i.top,left:i.left,bottom:i.bottom,right:i.right,sheetName:i.sheetName}:this.model={top:i.row,left:i.col,bottom:i.row,right:i.col,sheetName:i.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error(`Invalid number of arguments to _getDimensions() - ${s.length}`)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){const{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?`${s}!`:`'${s}'!`:""}expand(s,t,i,r){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||t<this.left)&&(this.left=t),(!this.model.bottom||i>this.bottom)&&(this.bottom=i),(!this.model.right||r>this.right)&&(this.right=r)}expandRow(s){if(s){const{dimensions:t,number:i}=s;t&&this.expand(i,t.min,i,t.max)}}expandToAddress(s){const t=f.decodeEx(s);this.expand(t.row,t.col,t.row,t.col)}get tl(){return f.n2l(this.left)+this.top}get $t$l(){return`$${f.n2l(this.left)}$${this.top}`}get br(){return f.n2l(this.right)+this.bottom}get $b$r(){return`$${f.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return!(s.sheetName&&this.sheetName&&s.sheetName!==this.sheetName||s.bottom<this.top||s.top>this.bottom||s.right<this.left||s.left>this.right)}contains(s){const t=f.decodeEx(s);return this.containsEx(t)}containsEx(s){return s.sheetName&&this.sheetName&&s.sheetName!==this.sheetName?!1:s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let t=this.left;t<=this.right;t++)for(let i=this.top;i<=this.bottom;i++)s(f.encodeAddress(i,t),i,t)}}m.exports=u},{"../utils/col-cache":19}],11:[function(e,m,g){const f=e("../utils/under-dash"),u=e("./enums"),h=e("../utils/col-cache"),s=e("./cell");class t{constructor(r,n){this._worksheet=r,this._number=n,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(r){return this._cells[r-1]}getCellEx(r){let n=this._cells[r.col-1];if(!n){const l=this._worksheet.getColumn(r.col);n=new s(this,l,r.address),this._cells[r.col-1]=n}return n}getCell(r){if(typeof r=="string"){const n=this._worksheet.getColumnKey(r);n?r=n.number:r=h.l2n(r)}return this._cells[r-1]||this.getCellEx({address:h.encodeAddress(this._number,r),row:this._number,col:r})}splice(r,n){const l=r+n;for(var d=arguments.length,a=new Array(d>2?d-2:0),v=2;v<d;v++)a[v-2]=arguments[v];const y=a.length-n,p=this._cells.length;let E,T,S;if(y<0)for(E=r+a.length;E<=p;E++)S=this._cells[E-1],T=this._cells[E-y-1],T?(S=this.getCell(E),S.value=T.value,S.style=T.style,S._comment=T._comment):S&&(S.value=null,S.style={},S._comment=void 0);else if(y>0)for(E=p;E>=l;E--)T=this._cells[E-1],T?(S=this.getCell(E+y),S.value=T.value,S.style=T.style,S._comment=T._comment):this._cells[E+y-1]=void 0;for(E=0;E<a.length;E++)S=this.getCell(r+E),S.value=a[E],S.style={},S._comment=void 0}eachCell(r,n){if(n||(n=r,r=null),r&&r.includeEmpty){const l=this._cells.length;for(let d=1;d<=l;d++)n(this.getCell(d),d)}else this._cells.forEach((l,d)=>{l&&l.type!==u.ValueType.Null&&n(l,d+1)})}addPageBreak(r,n){const l=this._worksheet,d=Math.max(0,r-1)||0,a=Math.max(0,n-1)||16838,v={id:this._number,max:a,man:1};d&&(v.min=d),l.rowBreaks.push(v)}get values(){const r=[];return this._cells.forEach(n=>{n&&n.type!==u.ValueType.Null&&(r[n.col]=n.value)}),r}set values(r){if(this._cells=[],r)if(r instanceof Array){let n=0;r.hasOwnProperty("0")&&(n=1),r.forEach((l,d)=>{l!==void 0&&(this.getCellEx({address:h.encodeAddress(this._number,d+n),row:this._number,col:d+n}).value=l)})}else this._worksheet.eachColumnKey((n,l)=>{r[l]!==void 0&&(this.getCellEx({address:h.encodeAddress(this._number,n.number),row:this._number,col:n.number}).value=r[l])})}get hasValues(){return f.some(this._cells,r=>r&&r.type!==u.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let r=0;return this.eachCell(()=>{r++}),r}get dimensions(){let r=0,n=0;return this._cells.forEach(l=>{l&&l.type!==u.ValueType.Null&&((!r||r>l.col)&&(r=l.col),n<l.col&&(n=l.col))}),r>0?{min:r,max:n}:null}_applyStyle(r,n){return this.style[r]=n,this._cells.forEach(l=>{l&&(l[r]=n)}),n}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const r=[];let n=0,l=0;return this._cells.forEach(d=>{if(d){const a=d.model;a&&((!n||n>d.col)&&(n=d.col),l<d.col&&(l=d.col),r.push(a))}}),this.height||r.length?{cells:r,number:this.number,min:n,max:l,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(r){if(r.number!==this._number)throw new Error("Invalid row number in model");this._cells=[];let n;r.cells.forEach(l=>{switch(l.type){case s.Types.Merge:break;default:{let d;if(l.address)d=h.decodeAddress(l.address);else if(n){const{row:v}=n,y=n.col+1;d={row:v,col:y,address:h.encodeAddress(v,y),$col$row:`$${h.n2l(y)}$${v}`}}n=d;const a=this.getCellEx(d);a.model=l;break}}}),r.height?this.height=r.height:delete this.height,this.hidden=r.hidden,this.outlineLevel=r.outlineLevel||0,this.style=r.style&&JSON.parse(JSON.stringify(r.style))||{}}}m.exports=t},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,m,g){const f=e("../utils/col-cache");class u{constructor(t,i,r){this.table=t,this.column=i,this.index=r}_set(t,i){this.table.cacheState(),this.column[t]=i}get name(){return this.column.name}set name(t){this._set("name",t)}get filterButton(){return this.column.filterButton}set filterButton(t){this.column.filterButton=t}get style(){return this.column.style}set style(t){this.column.style=t}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(t){this._set("totalsRowLabel",t)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(t){this._set("totalsRowFunction",t)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(t){this._set("totalsRowResult",t)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(t){this._set("totalsRowFormula",t)}}class h{constructor(t,i){this.worksheet=t,i&&(this.table=i,this.validate(),this.store())}getFormula(t){switch(t.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${t.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${t.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${t.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${t.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${t.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${t.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${t.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${t.name}])`;case"custom":return t.totalsRowFormula;default:throw new Error(`Invalid Totals Row Function: ${t.totalsRowFunction}`)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:t}=this,i=(y,p,E)=>{y[p]===void 0&&(y[p]=E)};i(t,"headerRow",!0),i(t,"totalsRow",!1),i(t,"style",{}),i(t.style,"theme","TableStyleMedium2"),i(t.style,"showFirstColumn",!1),i(t.style,"showLastColumn",!1),i(t.style,"showRowStripes",!1),i(t.style,"showColumnStripes",!1);const r=(y,p)=>{if(!y)throw new Error(p)};r(t.ref,"Table must have ref"),r(t.columns,"Table must have column definitions"),r(t.rows,"Table must have row definitions"),t.tl=f.decodeAddress(t.ref);const{row:n,col:l}=t.tl;r(n>0,"Table must be on valid row"),r(l>0,"Table must be on valid col");const{width:d,filterHeight:a,tableHeight:v}=this;t.autoFilterRef=f.encode(n,l,n+a-1,l+d-1),t.tableRef=f.encode(n,l,n+v-1,l+d-1),t.columns.forEach((y,p)=>{r(y.name,`Column ${p} must have a name`),p===0?i(y,"totalsRowLabel","Total"):(i(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const t=(a,v)=>{v&&Object.keys(v).forEach(y=>{a[y]=v[y]})},{worksheet:i,table:r}=this,{row:n,col:l}=r.tl;let d=0;if(r.headerRow){const a=i.getRow(n+d++);r.columns.forEach((v,y)=>{const{style:p,name:E}=v,T=a.getCell(l+y);T.value=E,t(T,p)})}if(r.rows.forEach(a=>{const v=i.getRow(n+d++);a.forEach((y,p)=>{const E=v.getCell(l+p);E.value=y,t(E,r.columns[p].style)})}),r.totalsRow){const a=i.getRow(n+d++);r.columns.forEach((v,y)=>{const p=a.getCell(l+y);y===0?p.value=v.totalsRowLabel:this.getFormula(v)?p.value={formula:v.totalsRowFormula,result:v.totalsRowResult}:p.value=null,t(p,v.style)})}}load(t){const{table:i}=this,{row:r,col:n}=i.tl;let l=0;if(i.headerRow){const d=t.getRow(r+l++);i.columns.forEach((a,v)=>{const y=d.getCell(n+v);y.value=a.name})}if(i.rows.forEach(d=>{const a=t.getRow(r+l++);d.forEach((v,y)=>{const p=a.getCell(n+y);p.value=v})}),i.totalsRow){const d=t.getRow(r+l++);i.columns.forEach((a,v)=>{const y=d.getCell(n+v);v===0?y.value=a.totalsRowLabel:this.getFormula(a)&&(y.value={formula:a.totalsRowFormula,result:a.totalsRowResult})})}}get model(){return this.table}set model(t){this.table=t}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const t=f.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let i=0;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(t.row+i);for(let n=0;n<this._cache.width;n++){const l=r.getCell(t.col+n);l.value=null}}else{for(let i=this.tableHeight;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(t.row+i);for(let n=0;n<this._cache.width;n++){const l=r.getCell(t.col+n);l.value=null}}for(let i=0;i<this.tableHeight;i++){const r=this.worksheet.getRow(t.row+i);for(let n=this.width;n<this._cache.width;n++){const l=r.getCell(t.col+n);l.value=null}}}this.store()}addRow(t,i){this.cacheState(),i===void 0?this.table.rows.push(t):this.table.rows.splice(i,0,t)}removeRows(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(t,i)}getColumn(t){const i=this.table.columns[t];return new u(this,i,t)}addColumn(t,i,r){this.cacheState(),r===void 0?(this.table.columns.push(t),this.table.rows.forEach((n,l)=>{n.push(i[l])})):(this.table.columns.splice(r,0,t),this.table.rows.forEach((n,l)=>{n.splice(r,0,i[l])}))}removeColumns(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(t,i),this.table.rows.forEach(r=>{r.splice(t,i)})}_assign(t,i,r){this.cacheState(),t[i]=r}get ref(){return this.table.ref}set ref(t){this._assign(this.table,"ref",t)}get name(){return this.table.name}set name(t){this.table.name=t}get displayName(){return this.table.displyName||this.table.name}set displayNamename(t){this.table.displayName=t}get headerRow(){return this.table.headerRow}set headerRow(t){this._assign(this.table,"headerRow",t)}get totalsRow(){return this.table.totalsRow}set totalsRow(t){this._assign(this.table,"totalsRow",t)}get theme(){return this.table.style.name}set theme(t){this.table.style.name=t}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(t){this.table.style.showFirstColumn=t}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(t){this.table.style.showLastColumn=t}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(t){this.table.style.showRowStripes=t}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(t){this.table.style.showColumnStripes=t}}m.exports=h},{"../utils/col-cache":19}],13:[function(e,m,g){const f=e("./worksheet"),u=e("./defined-names"),h=e("../xlsx/xlsx"),s=e("../csv/csv");class t{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new u}get xlsx(){return this._xlsx||(this._xlsx=new h(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let r=1;r<this._worksheets.length;r++)if(!this._worksheets[r])return r;return this._worksheets.length||1}addWorksheet(r,n){const l=this.nextId;n&&(typeof n=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),n={properties:{tabColor:{argb:n}}}):(n.argb||n.theme||n.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),n={properties:{tabColor:n}}));const d=this._worksheets.reduce((y,p)=>(p&&p.orderNo)>y?p.orderNo:y,0),a=Object.assign({},n,{id:l,name:r,orderNo:d+1,workbook:this}),v=new f(a);return this._worksheets[l]=v,v}removeWorksheetEx(r){delete this._worksheets[r.id]}removeWorksheet(r){const n=this.getWorksheet(r);n&&n.destroy()}getWorksheet(r){if(r===void 0)return this._worksheets.find(Boolean);if(typeof r=="number")return this._worksheets[r];if(typeof r=="string")return this._worksheets.find(n=>n&&n.name===r)}get worksheets(){return this._worksheets.slice(1).sort((r,n)=>r.orderNo-n.orderNo).filter(Boolean)}eachSheet(r){this.worksheets.forEach(n=>{r(n,n.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(r){const n=this.media.length;return this.media.push(Object.assign({},r,{type:"image"})),n}getImage(r){return this.media[r]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(r=>r.model),sheets:this.worksheets.map(r=>r.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(r){this.creator=r.creator,this.lastModifiedBy=r.lastModifiedBy,this.lastPrinted=r.lastPrinted,this.created=r.created,this.modified=r.modified,this.company=r.company,this.manager=r.manager,this.title=r.title,this.subject=r.subject,this.keywords=r.keywords,this.category=r.category,this.description=r.description,this.language=r.language,this.revision=r.revision,this.contentStatus=r.contentStatus,this.properties=r.properties,this.calcProperties=r.calcProperties,this._worksheets=[],r.worksheets.forEach(n=>{const{id:l,name:d,state:a}=n,v=r.sheets&&r.sheets.findIndex(p=>p.id===l),y=this._worksheets[l]=new f({id:l,name:d,orderNo:v,state:a,workbook:this});y.model=n}),this._definedNames.model=r.definedNames,this.views=r.views,this._themes=r.themes,this.media=r.media||[]}}m.exports=t},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,m,g){const f=e("../utils/under-dash"),u=e("../utils/col-cache"),h=e("./range"),s=e("./row"),t=e("./column"),i=e("./enums"),r=e("./image"),n=e("./table"),l=e("./data-validations"),d=e("../utils/encryptor"),{copyStyle:a}=e("../utils/copy-style");class v{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!!(p.pageSetup&&(p.pageSetup.fitToWidth||p.pageSetup.fitToHeight)&&!p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new l,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p=`sheet${this.id}`),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error(`The first or last character of worksheet name cannot be a single quotation mark: ${p}`);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(E=>E&&E.name.toLowerCase()===p.toLowerCase()))throw new Error(`Worksheet name already exists: ${p}`);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new h;return this._rows.forEach(E=>{if(E){const T=E.dimensions;T&&p.expand(E.number,T.min,E.number,T.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((S,A)=>{const w=A.header&&1||A.headers&&A.headers.length||0;return Math.max(S,w)},0);let E=1;const T=this._columns=[];p.forEach(S=>{const A=new t(this,E++,!1);T.push(A),A.defn=S})}getColumnKey(p){return this._keys[p]}setColumnKey(p,E){this._keys[p]=E}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){f.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const E=this._keys[p];if(E)return E;p=u.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let E=this._columns.length+1;for(;E<=p;)this._columns.push(new t(this,E++))}return this._columns[p-1]}spliceColumns(p,E){const S=this._rows.length;for(var A=arguments.length,w=new Array(A>2?A-2:0),I=2;I<A;I++)w[I-2]=arguments[I];if(w.length>0)for(let te=0;te<S;te++){const re=[p,E];w.forEach(W=>{re.push(W[te]||null)});const Z=this.getRow(te+1);Z.splice.apply(Z,re)}else this._rows.forEach(te=>{te&&te.splice(p,E)});const D=w.length-E,V=p+E,ie=this._columns.length;if(D<0)for(let te=p+w.length;te<=ie;te++)this.getColumn(te).defn=this.getColumn(te-D).defn;else if(D>0)for(let te=ie;te>=V;te--)this.getColumn(te+D).defn=this.getColumn(te).defn;for(let te=p;te<p+w.length;te++)this.getColumn(te).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,E,w.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(E=>{p=Math.max(p,E.cellCount)}),p}get actualColumnCount(){const p=[];let E=0;return this.eachRow(T=>{T.eachCell(S=>{let{col:A}=S;p[A]||(p[A]=!0,E++)})}),E}_commitRow(){}get _lastRowNumber(){const p=this._rows;let E=p.length;for(;E>0&&p[E-1]===void 0;)E--;return E}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,E){return this._rows.slice(p-1,p-1+E)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let E=this._rows[p-1];return E||(E=this._rows[p-1]=new s(this,p)),E}getRows(p,E){if(E<1)return;const T=[];for(let S=p;S<p+E;S++)T.push(this.getRow(S));return T}addRow(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const T=this._nextRow,S=this.getRow(T);return S.values=p,this._setStyleOption(T,E[0]==="i"?E:"n"),S}addRows(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const T=[];return p.forEach(S=>{T.push(this.addRow(S,E))}),T}insertRow(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,E),this._setStyleOption(p,T),this.getRow(p)}insertRows(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...E),T!=="n")for(let S=0;S<E.length;S++)T[0]==="o"&&this.findRow(E.length+p+S)!==void 0?this._copyStyle(E.length+p+S,p+S,T[1]==="+"):T[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+S,T[1]==="+");return this.getRows(p,E.length)}_setStyleOption(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";E[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,E[1]==="+"):E[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,E[1]==="+")}_copyStyle(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const S=this.getRow(p),A=this.getRow(E);A.style=a(S.style),S.eachCell({includeEmpty:T},(w,I)=>{A.getCell(I).style=a(w.style)}),A.height=S.height}duplicateRow(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const S=this._rows[p-1],A=new Array(E).fill(S.values);this.spliceRows(p+1,T?0:E,...A);for(let w=0;w<E;w++){const I=this._rows[p+w];I.style=S.style,I.height=S.height,S.eachCell({includeEmpty:!0},(D,V)=>{I.getCell(V).style=D.style})}}spliceRows(p,E){const T=p+E;for(var S=arguments.length,A=new Array(S>2?S-2:0),w=2;w<S;w++)A[w-2]=arguments[w];const I=A.length,D=I-E,V=this._rows.length;let ie,te;if(D<0)for(p===V&&(this._rows[V-1]=void 0),ie=T;ie<=V;ie++)if(te=this._rows[ie-1],te){const re=this.getRow(ie+D);re.values=te.values,re.style=te.style,re.height=te.height,te.eachCell({includeEmpty:!0},(Z,W)=>{re.getCell(W).style=Z.style}),this._rows[ie-1]=void 0}else this._rows[ie+D-1]=void 0;else if(D>0)for(ie=V;ie>=T;ie--)if(te=this._rows[ie-1],te){const re=this.getRow(ie+D);re.values=te.values,re.style=te.style,re.height=te.height,te.eachCell({includeEmpty:!0},(Z,W)=>{if(re.getCell(W).style=Z.style,Z._value.constructor.name==="MergeValue"){const j=this.getRow(Z._row._number+I).getCell(W),O=Z._value._master,C=this.getRow(O._row._number+I).getCell(O._column._number);j.merge(C)}})}else this._rows[ie+D-1]=void 0;for(ie=0;ie<I;ie++){const re=this.getRow(p+ie);re.style={},re.values=A[ie]}this.workbook.definedNames.spliceRows(this.name,p,E,I)}eachRow(p,E){if(E||(E=p,p=void 0),p&&p.includeEmpty){const T=this._rows.length;for(let S=1;S<=T;S++)E(this.getRow(S),S)}else this._rows.forEach(T=>{T&&T.hasValues&&E(T,T.number)})}getSheetValues(){const p=[];return this._rows.forEach(E=>{E&&(p[E.number]=E.values)}),p}findCell(p,E){const T=u.getAddress(p,E),S=this._rows[T.row-1];return S?S.findCell(T.col):void 0}getCell(p,E){const T=u.getAddress(p,E);return this.getRow(T.row).getCellEx(T)}mergeCells(){for(var p=arguments.length,E=new Array(p),T=0;T<p;T++)E[T]=arguments[T];const S=new h(E);this._mergeCellsInternal(S)}mergeCellsWithoutStyle(){for(var p=arguments.length,E=new Array(p),T=0;T<p;T++)E[T]=arguments[T];const S=new h(E);this._mergeCellsInternal(S,!0)}_mergeCellsInternal(p,E){f.each(this._merges,S=>{if(S.intersects(p))throw new Error("Cannot merge already merged cells")});const T=this.getCell(p.top,p.left);for(let S=p.top;S<=p.bottom;S++)for(let A=p.left;A<=p.right;A++)(S>p.top||A>p.left)&&this.getCell(S,A).merge(T,E);this._merges[T.address]=p}_unMergeMaster(p){const E=this._merges[p.address];if(E){for(let T=E.top;T<=E.bottom;T++)for(let S=E.left;S<=E.right;S++)this.getCell(T,S).unmerge();delete this._merges[p.address]}}get hasMerges(){return f.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,E=new Array(p),T=0;T<p;T++)E[T]=arguments[T];const S=new h(E);for(let A=S.top;A<=S.bottom;A++)for(let w=S.left;w<=S.right;w++){const I=this.findCell(A,w);I&&(I.type===i.ValueType.Merge?this._unMergeMaster(I.master):this._merges[I.address]&&this._unMergeMaster(I))}}fillFormula(p,E,T){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const A=u.decode(p),{top:w,left:I,bottom:D,right:V}=A,ie=V-I+1,te=u.encodeAddress(w,I),re=S==="shared";let Z;typeof T=="function"?Z=T:Array.isArray(T)?Array.isArray(T[0])?Z=(j,O)=>T[j-w][O-I]:Z=(j,O)=>T[(j-w)*ie+(O-I)]:Z=()=>{};let W=!0;for(let j=w;j<=D;j++)for(let O=I;O<=V;O++)W?(this.getCell(j,O).value={shareType:S,formula:E,ref:p,result:Z(j,O)},W=!1):this.getCell(j,O).value=re?{sharedFormula:te,result:Z(j,O)}:Z(j,O)}addImage(p,E){const T={type:"image",imageId:p,range:E};this._media.push(new r(this,T))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const E={type:"background",imageId:p};this._media.push(new r(this,E))}getBackgroundImageId(){const p=this._media.find(E=>E.type==="background");return p&&p.imageId}protect(p,E){return new Promise(T=>{this.sheetProtection={sheet:!0},E&&"spinCount"in E&&(E.spinCount=Number.isFinite(E.spinCount)?Math.round(Math.max(0,E.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=d.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=E&&"spinCount"in E?E.spinCount:1e5,this.sheetProtection.hashValue=d.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),E&&(this.sheetProtection=Object.assign(this.sheetProtection,E),!p&&"spinCount"in E&&delete this.sheetProtection.spinCount),T()})}unprotect(){this.sheetProtection=null}addTable(p){const E=new n(this,p);return this.tables[p.name]=E,E}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):p instanceof Function?this.conditionalFormattings=this.conditionalFormattings.filter(p):this.conditionalFormattings=[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(S=>S.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(S=>S.model),conditionalFormattings:this.conditionalFormattings};p.cols=t.toModel(this.columns);const E=p.rows=[],T=p.dimensions=new h;return this._rows.forEach(S=>{const A=S&&S.model;A&&(T.expand(A.number,A.min,A.number,A.max),E.push(A))}),p.merges=[],f.each(this._merges,S=>{p.merges.push(S.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(E=>{const T=new s(this,E.number);this._rows[T.number-1]=T,T.model=E})}_parseMergeCells(p){f.each(p.mergeCells,E=>{this.mergeCellsWithoutStyle(E)})}set model(p){this.name=p.name,this._columns=t.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new l(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(E=>new r(this,E)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((E,T)=>{const S=new n;return S.model=T,E[T.name]=S,E},{}),this.conditionalFormattings=p.conditionalFormattings}}m.exports=v},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,m,g){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const f={Workbook:e("./doc/workbook")},u=e("./doc/enums");Object.keys(u).forEach(h=>{f[h]=u[h]}),m.exports=f},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,m,g){const f=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function u(h){return typeof h=="string"?h:f?f.decode(h):h.toString()}g.bufferToString=u},{}],17:[function(e,m,g){const f=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:u}=e("buffer");function h(s){return typeof s!="string"?s:f?u.from(f.encode(s).buffer):u.from(s)}g.stringToBuffer=h},{buffer:220}],18:[function(e,m,g){const f=e("./under-dash"),u=e("./col-cache");class h{constructor(t){this.template=t,this.sheets={}}addCell(t){this.addCellEx(u.decodeEx(t))}getCell(t){return this.findCellEx(u.decodeEx(t),!0)}findCell(t){return this.findCellEx(u.decodeEx(t),!1)}findCellAt(t,i,r){const n=this.sheets[t],l=n&&n[i];return l&&l[r]}addCellEx(t){if(t.top)for(let i=t.top;i<=t.bottom;i++)for(let r=t.left;r<=t.right;r++)this.getCellAt(t.sheetName,i,r);else this.findCellEx(t,!0)}getCellEx(t){return this.findCellEx(t,!0)}findCellEx(t,i){const r=this.findSheet(t,i),n=this.findSheetRow(r,t,i);return this.findRowCell(n,t,i)}getCellAt(t,i,r){const n=this.sheets[t]||(this.sheets[t]=[]),l=n[i]||(n[i]=[]);return l[r]||(l[r]={sheetName:t,address:u.n2l(r)+i,row:i,col:r})}removeCellEx(t){const i=this.findSheet(t);if(!i)return;const r=this.findSheetRow(i,t);r&&delete r[t.col]}forEachInSheet(t,i){const r=this.sheets[t];r&&r.forEach((n,l)=>{n&&n.forEach((d,a)=>{d&&i(d,l,a)})})}forEach(t){f.each(this.sheets,(i,r)=>{this.forEachInSheet(r,t)})}map(t){const i=[];return this.forEach(r=>{i.push(t(r))}),i}findSheet(t,i){const r=t.sheetName;if(this.sheets[r])return this.sheets[r];if(i)return this.sheets[r]=[]}findSheetRow(t,i,r){const{row:n}=i;if(t&&t[n])return t[n];if(r)return t[n]=[]}findRowCell(t,i,r){const{col:n}=i;if(t&&t[n])return t[n];if(r)return t[n]=this.template?Object.assign(i,JSON.parse(JSON.stringify(this.template))):i}spliceRows(t,i,r,n){const l=this.sheets[t];if(l){const d=[];for(let a=0;a<n;a++)d.push([]);l.splice(i,r,...d)}}spliceColumns(t,i,r,n){const l=this.sheets[t];if(l){const d=[];for(let a=0;a<n;a++)d.push(null);f.each(l,a=>{a.splice(i,r,...d)})}}}m.exports=h},{"./col-cache":19,"./under-dash":26}],19:[function(e,m,g){const f=/^[A-Z]+\d+$/,u={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level(h){return h<=26?1:h<=676?2:3},_fill(h){let s,t,i,r,n,l=1;if(h>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&h>=1){for(;l<=26;)s=this._dictionary[l-1],this._n2l[l]=s,this._l2n[s]=l,l++;this._l2nFill=1}if(this._l2nFill<2&&h>=2){for(l=27;l<=702;)t=l-27,i=t%26,r=Math.floor(t/26),s=this._dictionary[r]+this._dictionary[i],this._n2l[l]=s,this._l2n[s]=l,l++;this._l2nFill=2}if(this._l2nFill<3&&h>=3){for(l=703;l<=16384;)t=l-703,i=t%26,r=Math.floor(t/26)%26,n=Math.floor(t/676),s=this._dictionary[n]+this._dictionary[r]+this._dictionary[i],this._n2l[l]=s,this._l2n[s]=l,l++;this._l2nFill=3}},l2n(h){if(this._l2n[h]||this._fill(h.length),!this._l2n[h])throw new Error(`Out of bounds. Invalid column letter: ${h}`);return this._l2n[h]},n2l(h){if(h<1||h>16384)throw new Error(`${h} is out of bounds. Excel supports columns from 1 to 16384`);return this._n2l[h]||this._fill(this._level(h)),this._n2l[h]},_hash:{},validateAddress(h){if(!f.test(h))throw new Error(`Invalid Address: ${h}`);return!0},decodeAddress(h){const s=h.length<5&&this._hash[h];if(s)return s;let t=!1,i="",r=0,n=!1,l="",d=0;for(let v=0,y;v<h.length;v++)if(y=h.charCodeAt(v),!n&&y>=65&&y<=90)t=!0,i+=h[v],r=r*26+y-64;else if(y>=48&&y<=57)n=!0,l+=h[v],d=d*10+y-48;else if(n&&t&&y!==36)break;if(!t)r=void 0;else if(r>16384)throw new Error(`Out of bounds. Invalid column letter: ${i}`);n||(d=void 0),h=i+l;const a={address:h,col:r,row:d,$col$row:`$${i}$${l}`};return r<=100&&d<=100&&(this._hash[h]=a,this._hash[a.$col$row]=a),a},getAddress(h,s){if(s){const t=this.n2l(s)+h;return this.decodeAddress(t)}return this.decodeAddress(h)},decode(h){const s=h.split(":");if(s.length===2){const t=this.decodeAddress(s[0]),i=this.decodeAddress(s[1]),r={top:Math.min(t.row,i.row),left:Math.min(t.col,i.col),bottom:Math.max(t.row,i.row),right:Math.max(t.col,i.col)};return r.tl=this.n2l(r.left)+r.top,r.br=this.n2l(r.right)+r.bottom,r.dimensions=`${r.tl}:${r.br}`,r}return this.decodeAddress(h)},decodeEx(h){const s=h.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),t=s[1]||s[2],i=s[3],r=i.split(":");if(r.length>1){let l=this.decodeAddress(r[0]),d=this.decodeAddress(r[1]);const a=Math.min(l.row,d.row),v=Math.min(l.col,d.col),y=Math.max(l.row,d.row),p=Math.max(l.col,d.col);return l=this.n2l(v)+a,d=this.n2l(p)+y,{top:a,left:v,bottom:y,right:p,sheetName:t,tl:{address:l,col:v,row:a,$col$row:`$${this.n2l(v)}$${a}`,sheetName:t},br:{address:d,col:p,row:y,$col$row:`$${this.n2l(p)}$${y}`,sheetName:t},dimensions:`${l}:${d}`}}if(i.startsWith("#"))return t?{sheetName:t,error:i}:{error:i};const n=this.decodeAddress(i);return t?{sheetName:t,...n}:n},encodeAddress(h,s){return u.n2l(s)+h},encode(){switch(arguments.length){case 2:return u.encodeAddress(arguments[0],arguments[1]);case 4:return`${u.encodeAddress(arguments[0],arguments[1])}:${u.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(h,s){const[t,i,,r,n]=h,[l,d]=s;return l>=t&&l<=r&&d>=i&&d<=n}};m.exports=u},{}],20:[function(e,m,g){const f=(t,i)=>({...t,...i.reduce((r,n)=>(t[n]&&(r[n]={...t[n]}),r),{})}),u=function(t,i,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];t[r]&&(i[r]=f(t[r],n))},h=t=>Object.keys(t).length===0,s=t=>{if(!t)return t;if(h(t))return{};const i={...t};return u(t,i,"font",["color"]),u(t,i,"alignment"),u(t,i,"protection"),t.border&&(u(t,i,"border"),u(t.border,i.border,"top",["color"]),u(t.border,i.border,"left",["color"]),u(t.border,i.border,"bottom",["color"]),u(t.border,i.border,"right",["color"]),u(t.border,i.border,"diagonal",["color"])),t.fill&&(u(t,i,"fill",["fgColor","bgColor","center"]),t.fill.stops&&(i.fill.stops=t.fill.stops.map(r=>f(r,["color"])))),i};g.copyStyle=s},{}],21:[function(e,m,g){(function(f){(function(){const u=e("crypto"),h={hash(s){const t=u.createHash(s);for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return t.update(f.concat(r)),t.digest()},convertPasswordToHash(s,t,i,r){if(t=t.toLowerCase(),u.getHashes().indexOf(t)<0)throw new Error(`Hash algorithm '${t}' not supported!`);const l=f.from(s,"utf16le");let d=this.hash(t,f.from(i,"base64"),l);for(let a=0;a<r;a++){const v=f.alloc(4);v.writeUInt32LE(a,0),d=this.hash(t,d,v)}return d.toString("base64")},randomBytes(s){return u.randomBytes(s)}};m.exports=h}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,m,g){const{SaxesParser:f}=e("saxes"),{PassThrough:u}=e("readable-stream"),{bufferToString:h}=e("./browser-buffer-decode");m.exports=async function*(s){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new u));const t=new f;let i;t.on("error",n=>{i=n});let r=[];t.on("opentag",n=>r.push({eventType:"opentag",value:n})),t.on("text",n=>r.push({eventType:"text",value:n})),t.on("closetag",n=>r.push({eventType:"closetag",value:n}));for await(const n of s){if(t.write(h(n)),i)throw i;yield r,r=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,m,g){const f=e("./col-cache"),u=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,h=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;function s(t,i,r){const n=f.decode(i),l=f.decode(r);return t.replace(u,(d,a,v,y,p)=>{if(p)return d;const E=h.exec(y);if(E){const T=E[1],S=E[2].toUpperCase(),A=E[3],w=E[4];if(S.length>3||S.length===3&&S>"XFD")return d;let I=f.l2n(S),D=parseInt(w,10);return T||(I+=l.col-n.col),A||(D+=l.row-n.row),(a||"")+(T||"")+f.n2l(I)+(A||"")+D}return d})}m.exports={slideFormula:s}},{"./col-cache":19}],24:[function(e,m,g){(function(f,u){(function(){const h=e("readable-stream"),s=e("./utils"),t=e("./string-buf");class i{constructor(v,y){this._data=v,this._encoding=y}get length(){return this.toBuffer().length}copy(v,y,p,E){return this.toBuffer().copy(v,y,p,E)}toBuffer(){return this._buffer||(this._buffer=u.from(this._data,this._encoding)),this._buffer}}class r{constructor(v){this._data=v}get length(){return this._data.length}copy(v,y,p,E){return this._data._buf.copy(v,y,p,E)}toBuffer(){return this._data.toBuffer()}}class n{constructor(v){this._data=v}get length(){return this._data.length}copy(v,y,p,E){this._data.copy(v,y,p,E)}toBuffer(){return this._data}}class l{constructor(v){this.size=v,this.buffer=u.alloc(v),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const v=u.alloc(this.iWrite-this.iRead);return this.buffer.copy(v,0,this.iRead,this.iWrite),v}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(v){let y;return v===0?null:v===void 0||v>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=u.alloc(v),this.buffer.copy(y,0,this.iRead,v),this.iRead+=v,y)}write(v,y,p){const E=Math.min(p,this.size-this.iWrite);return v.copy(this.buffer,this.iWrite,y,y+E),this.iWrite+=E,E}}const d=function(a){a=a||{},this.bufSize=a.bufSize||1024*1024,this.buffers=[],this.batch=a.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(d,h.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return u.concat(this.buffers.map(a=>a.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const v=this.buffers[this.buffers.length-1];if(!v.full)return v}const a=new l(this.bufSize);return this.buffers.push(a),a},async _pipe(a){const v=function(y){return new Promise(p=>{y.write(a.toBuffer(),()=>{p()})})};await Promise.all(this.pipes.map(v))},_writeToBuffers(a){let v=0;const y=a.length;for(;v<y;){const p=this._getWritableBuffer();v+=p.write(a,v,y-v)}},async write(a,v,y){v instanceof Function&&(y=v,v="utf8"),y=y||s.nop;let p;if(a instanceof t)p=new r(a);else if(a instanceof u)p=new n(a);else if(typeof a=="string"||a instanceof String||a instanceof ArrayBuffer)p=new i(a,v);else throw new Error("Chunk must be one of type String, Buffer or StringBuf.");if(this.pipes.length)if(this.batch)for(this._writeToBuffers(p);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(p),f.nextTick(y)):(await this._pipe(p),y());else this.paused||this.emit("data",p.toBuffer()),this._writeToBuffers(p),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(a,v,y){const p=E=>{E?y(E):(this._flush(),this.pipes.forEach(T=>{T.end()}),this.emit("finish"))};a?this.write(a,v,p):p()},read(a){let v;if(a){for(v=[];a&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],p=y.read(a);a-=p.length,v.push(p),y.eod&&y.full&&this.buffers.shift()}return u.concat(v)}return v=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],u.concat(v)},setEncoding(a){this.encoding=a},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(a){this.pipes.push(a),!this.paused&&this.buffers.length&&this.end()},unpipe(a){this.pipes=this.pipes.filter(v=>v!==a)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),m.exports=d}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,m,g){(function(f){(function(){class u{constructor(s){this._buf=f.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=f.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let t=this._buf.length*2;for(;t<s;)t*=2;const i=f.alloc(t);this._buf.copy(i,0),this._buf=i}addText(s){this._buffer=void 0;let t=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;t>=this._buf.length-4;)this._grow(this._inPos+s.length),t=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=t}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}m.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,m,g){const{toString:f}=Object.prototype,u=/["&<>]/,h={each:function(t,i){t&&(Array.isArray(t)?t.forEach(i):Object.keys(t).forEach(r=>{i(t[r],r)}))},some:function(t,i){return t?Array.isArray(t)?t.some(i):Object.keys(t).some(r=>i(t[r],r)):!1},every:function(t,i){return t?Array.isArray(t)?t.every(i):Object.keys(t).every(r=>i(t[r],r)):!0},map:function(t,i){return t?Array.isArray(t)?t.map(i):Object.keys(t).map(r=>i(t[r],r)):[]},keyBy(s,t){return s.reduce((i,r)=>(i[r[t]]=r,i),{})},isEqual:function(t,i){const r=typeof t,n=typeof i,l=Array.isArray(t),d=Array.isArray(i);let a;if(r!==n)return!1;switch(typeof t){case"object":if(l||d)return l&&d?t.length===i.length&&t.every((v,y)=>{const p=i[y];return h.isEqual(v,p)}):!1;if(t===null||i===null)return t===i;if(a=Object.keys(t),Object.keys(i).length!==a.length)return!1;for(const v of a)if(!i.hasOwnProperty(v))return!1;return h.every(t,(v,y)=>{const p=i[y];return h.isEqual(v,p)});default:return t===i}},escapeHtml(s){const t=u.exec(s);if(!t)return s;let i="",r="",n=0,l=t.index;for(;l<s.length;l++){switch(s.charAt(l)){case'"':r="&quot;";break;case"&":r="&amp;";break;case"'":r="&apos;";break;case"<":r="&lt;";break;case">":r="&gt;";break;default:continue}n!==l&&(i+=s.substring(n,l)),n=l+1,i+=r}return n!==l?i+s.substring(n,l):i},strcmp(s,t){return s<t?-1:s>t?1:0},isUndefined(s){return f.call(s)==="[object Undefined]"},isObject(s){return f.call(s)==="[object Object]"},deepMerge(){const s=arguments[0]||{},{length:t}=arguments;let i,r,n;function l(d,a){i=s[a],n=Array.isArray(d),h.isObject(d)||n?(n?(n=!1,r=i&&Array.isArray(i)?i:[]):r=i&&h.isObject(i)?i:{},s[a]=h.deepMerge(r,d)):h.isUndefined(d)||(s[a]=d)}for(let d=0;d<t;d++)h.each(arguments[d],l);return s}};m.exports=h},{}],27:[function(e,m,g){(function(f,u){(function(){const h=e("fs"),s=function(r,n,l,d){r.super_=n,d||(d=l,l=null),l&&Object.keys(l).forEach(v=>{Object.defineProperty(r,v,Object.getOwnPropertyDescriptor(l,v))});const a={constructor:{value:r,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(v=>{a[v]=Object.getOwnPropertyDescriptor(d,v)}),r.prototype=Object.create(n.prototype,a)},t=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,i={nop(){},promiseImmediate(r){return new Promise(n=>{f.setImmediate?u(()=>{n(r)}):setTimeout(()=>{n(r)},1)})},inherits:s,dateToExcel(r,n){return 25569+r.getTime()/(24*3600*1e3)-(n?1462:0)},excelToDate(r,n){const l=Math.round((r-25569+(n?1462:0))*24*3600*1e3);return new Date(l)},parsePath(r){const n=r.lastIndexOf("/");return{path:r.substring(0,n),name:r.substring(n+1)}},getRelsPath(r){const n=i.parsePath(r);return`${n.path}/_rels/${n.name}.rels`},xmlEncode(r){const n=t.exec(r);if(!n)return r;let l="",d="",a=0,v=n.index;for(;v<r.length;v++){const y=r.charCodeAt(v);switch(y){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:{if(y<=31&&(y<=8||y>=11&&y!==13)){d="";break}continue}}a!==v&&(l+=r.substring(a,v)),a=v+1,d&&(l+=d)}return a!==v?l+r.substring(a,v):l},xmlDecode(r){return r.replace(/&([a-z]*);/g,n=>{switch(n){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return n}})},validInt(r){const n=parseInt(r,10);return Number.isNaN(n)?0:n},isDateFmt(r){return r?(r=r.replace(/\[[^\]]*]/g,""),r=r.replace(/"[^"]*"/g,""),r.match(/[ymdhMsb]+/)!==null):!1},fs:{exists(r){return new Promise(n=>{h.access(r,h.constants.F_OK,l=>{n(!l)})})}},toIsoDateString(r){return r.toIsoString().subsstr(0,10)},parseBoolean(r){return r===!0||r==="true"||r===1||r==="1"}};m.exports=i}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,m,g){const f=e("./under-dash"),u=e("./utils"),h="<",s=">",t="</",i="/>";function r(d,a,v){d.push(` ${a}="${u.xmlEncode(v.toString())}"`)}function n(d,a){if(a){const v=[];f.each(a,(y,p)=>{y!==void 0&&r(v,p,y)}),d.push(v.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(a){const v=this._xml;v.push("<?xml"),n(v,a),v.push(`?>
`)}openNode(a,v){const y=this.tos,p=this._xml;y&&this.open&&p.push(s),this._stack.push(a),p.push(h),p.push(a),n(p,v),this.leaf=!0,this.open=!0}addAttribute(a,v){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");v!==void 0&&r(this._xml,a,v)}addAttributes(a){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");n(this._xml,a)}writeText(a){const v=this._xml;this.open&&(v.push(s),this.open=!1),this.leaf=!1,v.push(u.xmlEncode(a.toString()))}writeXml(a){this.open&&(this._xml.push(s),this.open=!1),this.leaf=!1,this._xml.push(a)}closeNode(){const a=this._stack.pop(),v=this._xml;this.leaf?v.push(i):(v.push(t),v.push(a),v.push(s)),this.open=!1,this.leaf=!1}leafNode(a,v,y){this.openNode(a,v),y!==void 0&&this.writeText(y),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const a=this._rollbacks.pop();this._xml.length>a.xml&&this._xml.splice(a.xml,this._xml.length-a.xml),this._stack.length>a.stack&&this._stack.splice(a.stack,this._stack.length-a.stack),this.leaf=a.leaf,this.open=a.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},m.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,m,g){(function(f){(function(){const u=e("events"),h=e("jszip"),s=e("./stream-buf"),{stringToBuffer:t}=e("./browser-buffer-encode");class i extends u.EventEmitter{constructor(n){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},n),this.zip=new h,this.stream=new s}append(n,l){l.hasOwnProperty("base64")&&l.base64?this.zip.file(l.name,n,{base64:!0}):(f.browser&&typeof n=="string"&&(n=t(n)),this.zip.file(l.name,n))}async finalize(){const n=await this.zip.generateAsync(this.options);this.stream.end(n),this.emit("finish")}read(n){return this.stream.read(n)}setEncoding(n){return this.stream.setEncoding(n)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(n,l){return this.stream.pipe(n,l)}unpipe(n){return this.stream.unpipe(n)}unshift(n){return this.stream.unshift(n)}wrap(n){return this.stream.wrap(n)}}m.exports={ZipWriter:i}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,m,g){m.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,m,g){m.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,m,g){const f=e("../../utils/parse-sax"),u=e("../../utils/xml-stream");class h{prepare(){}render(){}parseOpen(t){}parseText(t){}parseClose(t){}reconcile(t,i){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(t=>{t instanceof h?t.reset():t.xform&&t.xform.reset()})}mergeModel(t){this.model=Object.assign(this.model||{},t)}async parse(t){for await(const i of t)for(const{eventType:r,value:n}of i)if(r==="opentag")this.parseOpen(n);else if(r==="text")this.parseText(n);else if(r==="closetag"&&!this.parseClose(n.name))return this.model;return this.model}async parseStream(t){return this.parse(f(t))}get xml(){return this.toXml(this.model)}toXml(t){const i=new u;return this.render(i,t),i.xml}static toAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===void 0){if(r)return i}else if(r||t!==i)return t.toString()}static toStringAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return h.toAttribute(t,i,r)}static toStringValue(t,i){return t===void 0?i:t}static toBoolAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===void 0){if(r)return i}else if(r||t!==i)return t?"1":"0"}static toBoolValue(t,i){return t===void 0?i:t==="1"}static toIntAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return h.toAttribute(t,i,r)}static toIntValue(t,i){return t===void 0?i:parseInt(t,10)}static toFloatAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return h.toAttribute(t,i,r)}static toFloatValue(t,i){return t===void 0?i:parseFloat(t)}}m.exports=h},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,m,g){const f=e("../base-xform"),u=e("../../../utils/col-cache");class h extends f{render(r,n){r.openNode("definedName",{name:n.name,localSheetId:n.localSheetId}),r.writeText(n.ranges.join(",")),r.closeNode()}parseOpen(r){switch(r.name){case"definedName":return this._parsedName=r.attributes.name,this._parsedLocalSheetId=r.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(r){this._parsedText.push(r)}parseClose(){return this.model={name:this._parsedName,ranges:t(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}function s(i){try{return u.decodeEx(i),!0}catch{return!1}}function t(i){const r=[];let n=!1,l="";return i.split(",").forEach(d=>{if(!d)return;const a=(d.match(/'/g)||[]).length;if(!a){n?l+=`${d},`:s(d)&&r.push(d);return}const v=a%2===0;!n&&v&&s(d)?r.push(d):n&&!v?(n=!1,s(l+d)&&r.push(l+d),l=""):(n=!0,l+=`${d},`)}),r}m.exports=h},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,m,g){const f=e("../../../utils/utils"),u=e("../base-xform");class h extends u{render(t,i){t.leafNode("sheet",{sheetId:i.id,name:i.name,state:i.state,"r:id":i.rId})}parseOpen(t){return t.name==="sheet"?(this.model={name:f.xmlDecode(t.attributes.name),id:parseInt(t.attributes.sheetId,10),state:t.attributes.state,rId:t.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}m.exports=h},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,m,g){const f=e("../base-xform");class u extends f{render(s,t){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:t.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"?(this.model={},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],36:[function(e,m,g){const f=e("../base-xform");class u extends f{render(s,t){s.leafNode("workbookPr",{date1904:t.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"?(this.model={date1904:s.attributes.date1904==="1"},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],37:[function(e,m,g){const f=e("../base-xform");class u extends f{render(s,t){const i={xWindow:t.x||0,yWindow:t.y||0,windowWidth:t.width||12e3,windowHeight:t.height||24e3,firstSheet:t.firstSheet,activeTab:t.activeTab};t.visibility&&t.visibility!=="visible"&&(i.visibility=t.visibility),s.leafNode("workbookView",i)}parseOpen(s){if(s.name==="workbookView"){const t=this.model={},i=function(n,l,d){const a=l!==void 0?t[n]=l:d;a!==void 0&&(t[n]=a)},r=function(n,l,d){const a=l!==void 0?t[n]=parseInt(l,10):d;a!==void 0&&(t[n]=a)};return r("x",s.attributes.xWindow,0),r("y",s.attributes.yWindow,0),r("width",s.attributes.windowWidth,25e3),r("height",s.attributes.windowHeight,1e4),i("visibility",s.attributes.visibility,"visible"),r("activeTab",s.attributes.activeTab,void 0),r("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],38:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../../../utils/col-cache"),h=e("../../../utils/xml-stream"),s=e("../base-xform"),t=e("../static-xform"),i=e("../list-xform"),r=e("./defined-name-xform"),n=e("./sheet-xform"),l=e("./workbook-view-xform"),d=e("./workbook-properties-xform"),a=e("./workbook-calc-properties-xform");class v extends s{constructor(){super(),this.map={fileVersion:v.STATIC_XFORMS.fileVersion,workbookPr:new d,bookViews:new i({tag:"bookViews",count:!1,childXform:new l}),sheets:new i({tag:"sheets",count:!1,childXform:new n}),definedNames:new i({tag:"definedNames",count:!1,childXform:new r}),calcPr:new a}}prepare(p){p.sheets=p.worksheets;const E=[];let T=0;p.sheets.forEach(S=>{if(S.pageSetup&&S.pageSetup.printArea&&S.pageSetup.printArea.split("&&").forEach(A=>{const w=A.split(":"),I={name:"_xlnm.Print_Area",ranges:[`'${S.name}'!$${w[0]}:$${w[1]}`],localSheetId:T};E.push(I)}),S.pageSetup&&(S.pageSetup.printTitlesRow||S.pageSetup.printTitlesColumn)){const A=[];if(S.pageSetup.printTitlesColumn){const I=S.pageSetup.printTitlesColumn.split(":");A.push(`'${S.name}'!$${I[0]}:$${I[1]}`)}if(S.pageSetup.printTitlesRow){const I=S.pageSetup.printTitlesRow.split(":");A.push(`'${S.name}'!$${I[0]}:$${I[1]}`)}const w={name:"_xlnm.Print_Titles",ranges:A,localSheetId:T};E.push(w)}T++}),E.length&&(p.definedNames=p.definedNames.concat(E)),(p.media||[]).forEach((S,A)=>{S.name=S.type+(A+1)})}render(p,E){p.openXml(h.StdDocAttributes),p.openNode("workbook",v.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(p),this.map.workbookPr.render(p,E.properties),this.map.bookViews.render(p,E.views),this.map.sheets.render(p,E.sheets),this.map.definedNames.render(p,E.definedNames),this.map.calcPr.render(p,E.calcProperties),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"workbook":return!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(p){const E=(p.workbookRels||[]).reduce((I,D)=>(I[D.Id]=D,I),{}),T=[];let S,A=0;(p.sheets||[]).forEach(I=>{const D=E[I.rId];D&&(S=p.worksheetHash[`xl/${D.Target.replace(/^(\s|\/xl\/)+/,"")}`],S&&(S.name=I.name,S.id=I.id,S.state=I.state,T[A++]=S))});const w=[];f.each(p.definedNames,I=>{if(I.name==="_xlnm.Print_Area"){if(S=T[I.localSheetId],S){S.pageSetup||(S.pageSetup={});const D=u.decodeEx(I.ranges[0]);S.pageSetup.printArea=S.pageSetup.printArea?`${S.pageSetup.printArea}&&${D.dimensions}`:D.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(S=T[I.localSheetId],S){S.pageSetup||(S.pageSetup={});const D=I.ranges.join(","),V=/\$/g,ie=/\$\d+:\$\d+/,te=D.match(ie);if(te&&te.length){const W=te[0];S.pageSetup.printTitlesRow=W.replace(V,"")}const re=/\$[A-Z]+:\$[A-Z]+/,Z=D.match(re);if(Z&&Z.length){const W=Z[0];S.pageSetup.printTitlesColumn=W.replace(V,"")}}}else w.push(I)}),p.definedNames=w,p.media.forEach((I,D)=>{I.index=D})}}v.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},v.STATIC_XFORMS={fileVersion:new t({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},m.exports=v},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,m,g){const f=e("../strings/rich-text-xform"),u=e("../../../utils/utils"),h=e("../base-xform"),s=m.exports=function(t){this.model=t};u.inherits(s,h,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new f),this._richTextXform},render(t,i){i=i||this.model,t.openNode("comment",{ref:i.ref,authorId:0}),t.openNode("text"),i&&i.note&&i.note.texts&&i.note.texts.forEach(r=>{this.richTextXform.render(t,r)}),t.closeNode(),t.closeNode()},parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"comment":return this.model={type:"note",note:{texts:[]},...t.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(t),!0;default:return!1}},parseText(t){this.parser&&this.parser.parseText(t)},parseClose(t){switch(t){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../../../utils/utils"),h=e("../base-xform"),s=e("./comment-xform"),t=m.exports=function(){this.map={comment:new s}};u.inherits(t,h,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(i,r){r=r||this.model,i.openXml(f.StdDocAttributes),i.openNode("comments",t.COMMENTS_ATTRIBUTES),i.openNode("authors"),i.leafNode("author",null,"Author"),i.closeNode(),i.openNode("commentList"),r.comments.forEach(n=>{this.map.comment.render(i,n)}),i.closeNode(),i.closeNode()},parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(i),!0;default:return!1}},parseText(i){this.parser&&this.parser.parseText(i)},parseClose(i){switch(i){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,m,g){const f=e("../../base-xform");class u extends f{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,t,i){t===i[2]?s.leafNode(this.tag):this.tag==="x:SizeWithCells"&&t===i[1]&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../../base-xform":32}],42:[function(e,m,g){const f=e("../../base-xform");class u extends f{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}m.exports=u},{"../../base-xform":32}],43:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"x:Anchor"}getAnchorRect(s){const t=Math.floor(s.left),i=Math.floor((s.left-t)*68),r=Math.floor(s.top),n=Math.floor((s.top-r)*18),l=Math.floor(s.right),d=Math.floor((s.right-l)*68),a=Math.floor(s.bottom),v=Math.floor((s.bottom-a)*18);return[t,i,r,n,l,d,a,v]}getDefaultRect(s){const t=s.col,i=6,r=Math.max(s.row-2,0),n=14,l=t+2,d=2,a=r+4;return[t,i,r,n,l,d,a,16]}render(s,t){const i=t.anchor?this.getAnchorRect(t.anchor):this.getDefaultRect(t.refAddress);s.leafNode("x:Anchor",null,i.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],44:[function(e,m,g){const f=e("../base-xform"),u=e("./vml-anchor-xform"),h=e("./style/vml-protection-xform"),s=e("./style/vml-position-xform"),t=["twoCells","oneCells","absolute"];class i extends f{constructor(){super(),this.map={"x:Anchor":new u,"x:Locked":new h({tag:"x:Locked"}),"x:LockText":new h({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(n,l){const{protection:d,editAs:a}=l.note;n.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(n,a,t),this.map["x:SizeWithCells"].render(n,a,t),this.map["x:Anchor"].render(n,l),this.map["x:Locked"].render(n,d.locked),n.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(n,d.lockText),n.leafNode("x:Row",null,l.refAddress.row-1),n.leafNode("x:Column",null,l.refAddress.col-1),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n);break}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const n=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),l=Object.keys(n).length;this.model.editAs=t[l],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}m.exports=i},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),h=e("./vml-shape-xform");class s extends u{constructor(){super(),this.map={"v:shape":new h}}get tag(){return"xml"}render(i,r){i.openXml(f.StdDocAttributes),i.openNode(this.tag,s.DRAWING_ATTRIBUTES),i.openNode("o:shapelayout",{"v:ext":"edit"}),i.leafNode("o:idmap",{"v:ext":"edit",data:1}),i.closeNode(),i.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),i.leafNode("v:stroke",{joinstyle:"miter"}),i.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),i.closeNode(),r.comments.forEach((n,l)=>{this.map["v:shape"].render(i,n,l)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(i){case this.tag:return!1;default:return!0}}reconcile(i,r){i.anchors.forEach(n=>{n.br?this.map["xdr:twoCellAnchor"].reconcile(n,r):this.map["xdr:oneCellAnchor"].reconcile(n,r)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},m.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,m,g){const f=e("../base-xform"),u=e("./vml-textbox-xform"),h=e("./vml-client-data-xform");class s extends f{constructor(){super(),this.map={"v:textbox":new u,"x:ClientData":new h}}get tag(){return"v:shape"}render(i,r,n){i.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(r,n)),i.leafNode("v:fill",{color2:"infoBackground [80]"}),i.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),i.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(i,r),this.map["x:ClientData"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={margins:{insetmode:i.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(t,i)=>({id:`_x0000_s${1025+i}`,type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":t.note.margins&&t.note.margins.insetmode}),m.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"v:textbox"}conversionUnit(s,t,i){return`${parseFloat(s)*t.toFixed(2)}${i}`}reverseConversionUnit(s){return(s||"").split(",").map(t=>Number(parseFloat(this.conversionUnit(parseFloat(t),.1,"")).toFixed(2)))}render(s,t){const i={style:"mso-direction-alt:auto"};if(t&&t.note){let{inset:r}=t.note&&t.note.margins;Array.isArray(r)&&(r=r.map(n=>this.conversionUnit(n,10,"mm")).join(",")),r&&(i.inset=r)}s.openNode("v:textbox",i),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],48:[function(e,m,g){const f=e("./base-xform");class u extends f{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag?(this.model=this.createNewModel(s),!0):!1}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,t){this.model[s]=t.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}m.exports=u},{"./base-xform":32}],49:[function(e,m,g){const f=e("../base-xform");class u extends f{render(s,t){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,t.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}m.exports=u},{"../base-xform":32}],50:[function(e,m,g){const f=e("../base-xform");class u extends f{render(s,t){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:t.length,baseType:"lpstr"}),t.forEach(i=>{s.leafNode("vt:lpstr",void 0,i.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}m.exports=u},{"../base-xform":32}],51:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),h=e("../simple/string-xform"),s=e("./app-heading-pairs-xform"),t=e("./app-titles-of-parts-xform");class i extends u{constructor(){super(),this.map={Company:new h({tag:"Company"}),Manager:new h({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new t}}render(n,l){n.openXml(f.StdDocAttributes),n.openNode("Properties",i.PROPERTY_ATTRIBUTES),n.leafNode("Application",void 0,"Microsoft Excel"),n.leafNode("DocSecurity",void 0,"0"),n.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(n,l.worksheets),this.map.TitleOfParts.render(n,l.worksheets),this.map.Company.render(n,l.company||""),this.map.Manager.render(n,l.manager),n.leafNode("LinksUpToDate",void 0,"false"),n.leafNode("SharedDoc",void 0,"false"),n.leafNode("HyperlinksChanged",void 0,"false"),n.leafNode("AppVersion",void 0,"16.0300"),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"Properties":return!0;default:return this.parser=this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}i.DateFormat=function(r){return r.toISOString().replace(/[.]\d{3,6}/,"")},i.DateAttrs={"xsi:type":"dcterms:W3CDTF"},i.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},m.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../base-xform");class h extends u{render(t,i){t.openXml(f.StdDocAttributes),t.openNode("Types",h.PROPERTY_ATTRIBUTES);const r={};(i.media||[]).forEach(l=>{if(l.type==="image"){const d=l.extension;r[d]||(r[d]=!0,t.leafNode("Default",{Extension:d,ContentType:`image/${d}`}))}}),t.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),t.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),t.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),i.worksheets.forEach(l=>{const d=`/xl/worksheets/sheet${l.id}.xml`;t.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),t.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),t.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),i.sharedStrings&&i.sharedStrings.count&&t.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),i.tables&&i.tables.forEach(l=>{t.leafNode("Override",{PartName:`/xl/tables/${l.target}`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),i.drawings&&i.drawings.forEach(l=>{t.leafNode("Override",{PartName:`/xl/drawings/${l.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),i.commentRefs&&(t.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),i.commentRefs.forEach(l=>{let{commentName:d}=l;t.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),t.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),t.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),t.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}h.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},m.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),h=e("../simple/date-xform"),s=e("../simple/string-xform"),t=e("../simple/integer-xform");class i extends u{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new h({tag:"cp:lastPrinted",format:i.DateFormat}),"cp:revision":new t({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new h({tag:"dcterms:created",attrs:i.DateAttrs,format:i.DateFormat}),"dcterms:modified":new h({tag:"dcterms:modified",attrs:i.DateAttrs,format:i.DateFormat})}}render(n,l){n.openXml(f.StdDocAttributes),n.openNode("cp:coreProperties",i.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(n,l.creator),this.map["dc:title"].render(n,l.title),this.map["dc:subject"].render(n,l.subject),this.map["dc:description"].render(n,l.description),this.map["dc:identifier"].render(n,l.identifier),this.map["dc:language"].render(n,l.language),this.map["cp:keywords"].render(n,l.keywords),this.map["cp:category"].render(n,l.category),this.map["cp:lastModifiedBy"].render(n,l.lastModifiedBy),this.map["cp:lastPrinted"].render(n,l.lastPrinted),this.map["cp:revision"].render(n,l.revision),this.map["cp:version"].render(n,l.version),this.map["cp:contentStatus"].render(n,l.contentStatus),this.map["cp:contentType"].render(n,l.contentType),this.map["dcterms:created"].render(n,l.created),this.map["dcterms:modified"].render(n,l.modified),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[n.name],this.parser)return this.parser.parseOpen(n),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(n)}`)}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error(`Unexpected xml node in parseClose: ${n}`)}}}i.DateFormat=function(r){return r.toISOString().replace(/[.]\d{3}/,"")},i.DateAttrs={"xsi:type":"dcterms:W3CDTF"},i.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},m.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,m,g){const f=e("../base-xform");class u extends f{render(s,t){s.leafNode("Relationship",t)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],55:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),h=e("./relationship-xform");class s extends u{constructor(){super(),this.map={Relationship:new h}}render(i,r){r=r||this._values,i.openXml(f.StdDocAttributes),i.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),r.forEach(n=>{this.map.Relationship.render(i,n)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[i.name],this.parser)return this.parser.parseOpen(i),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(i)}`)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(i){case"Relationships":return!1;default:throw new Error(`Unexpected xml node in parseClose: ${i}`)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},m.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,m,g){const f=e("../base-xform");class u extends f{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s);break}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,t){if(s&&s.rId){const r=t.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(r){const n=r[1],l=t.mediaIndex[n];return t.media[l]}}}}m.exports=u},{"../base-xform":32}],57:[function(e,m,g){const f=e("../base-xform"),u=e("./blip-xform");class h extends f{constructor(){super(),this.map={"a:blip":new u}}get tag(){return"xdr:blipFill"}render(t,i){t.openNode(this.tag),this.map["a:blip"].render(t,i),t.openNode("a:stretch"),t.leafNode("a:fillRect"),t.closeNode(),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:this.reset();break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t);break}return!0}parseText(){}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}m.exports=h},{"../base-xform":32,"./blip-xform":58}],58:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"a:blip"}render(s,t){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":t.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],59:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],60:[function(e,m,g){const f=e("../base-xform"),u=e("./hlink-click-xform"),h=e("./ext-lst-xform");class s extends f{constructor(){super(),this.map={"a:hlinkClick":new u,"a:extLst":new h}}get tag(){return"xdr:cNvPr"}render(i,r){i.openNode(this.tag,{id:r.index,name:`Picture ${r.index}`}),this.map["a:hlinkClick"].render(i,r),this.map["a:extLst"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}m.exports=s},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,m,g){const f=e("../base-xform"),u=e("../simple/integer-xform");class h extends f{constructor(t){super(),this.tag=t.tag,this.map={"xdr:col":new u({tag:"xdr:col",zero:!0}),"xdr:colOff":new u({tag:"xdr:colOff",zero:!0}),"xdr:row":new u({tag:"xdr:row",zero:!0}),"xdr:rowOff":new u({tag:"xdr:rowOff",zero:!0})}}render(t,i){t.openNode(this.tag),this.map["xdr:col"].render(t,i.nativeCol),this.map["xdr:colOff"].render(t,i.nativeColOff),this.map["xdr:row"].render(t,i.nativeRow),this.map["xdr:rowOff"].render(t,i.nativeRowOff),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:this.reset();break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t);break}return!0}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}m.exports=h},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,m,g){const f=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),h=e("../base-xform"),s=e("./two-cell-anchor-xform"),t=e("./one-cell-anchor-xform");function i(n){return(typeof n.range=="string"?f.decode(n.range):n.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}class r extends h{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new t}}prepare(l){l.anchors.forEach((d,a)=>{d.anchorType=i(d),this.map[d.anchorType].prepare(d,{index:a})})}get tag(){return"xdr:wsDr"}render(l,d){l.openXml(u.StdDocAttributes),l.openNode(this.tag,r.DRAWING_ATTRIBUTES),d.anchors.forEach(a=>{this.map[a.anchorType].render(l,a)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l);break}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,d){l.anchors.forEach(a=>{a.br?this.map["xdr:twoCellAnchor"].reconcile(a,d):this.map["xdr:oneCellAnchor"].reconcile(a,d)})}}r.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},m.exports=r},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],64:[function(e,m,g){const f=e("../base-xform"),u=9525;class h extends f{constructor(t){super(),this.tag=t.tag,this.map={}}render(t,i){t.openNode(this.tag);const r=Math.floor(i.width*u),n=Math.floor(i.height*u);t.addAttribute("cx",r),t.addAttribute("cy",n),t.closeNode()}parseOpen(t){return t.name===this.tag?(this.model={width:parseInt(t.attributes.cx||"0",10)/u,height:parseInt(t.attributes.cy||"0",10)/u},!0):!1}parseText(){}parseClose(){return!1}}m.exports=h},{"../base-xform":32}],65:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"a:hlinkClick"}render(s,t){t.hyperlinks&&t.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":t.hyperlinks.rId,tooltip:t.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],66:[function(e,m,g){const f=e("../base-xform"),u=e("./c-nv-pr-xform"),h=e("./c-nv-pic-pr-xform");class s extends f{constructor(){super(),this.map={"xdr:cNvPr":new u,"xdr:cNvPicPr":new h}}get tag(){return"xdr:nvPicPr"}render(i,r){i.openNode(this.tag),this.map["xdr:cNvPr"].render(i,r),this.map["xdr:cNvPicPr"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}m.exports=s},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,m,g){const f=e("./base-cell-anchor-xform"),u=e("../static-xform"),h=e("./cell-position-xform"),s=e("./ext-xform"),t=e("./pic-xform");class i extends f{constructor(){super(),this.map={"xdr:from":new h({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new t,"xdr:clientData":new u({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(n,l){this.map["xdr:pic"].prepare(n.picture,l)}render(n,l){n.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,l.range.tl),this.map["xdr:ext"].render(n,l.range.ext),this.map["xdr:pic"].render(n,l.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(n,l){n.medium=this.reconcilePicture(n.picture,l)}}m.exports=i},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,m,g){const f=e("../base-xform"),u=e("../static-xform"),h=e("./blip-fill-xform"),s=e("./nv-pic-pr-xform"),t=e("./sp-pr");class i extends f{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new h,"xdr:spPr":new u(t)}}get tag(){return"xdr:pic"}prepare(n,l){n.index=l.index+1}render(n,l){n.openNode(this.tag),this.map["xdr:nvPicPr"].render(n,l),this.map["xdr:blipFill"].render(n,l),this.map["xdr:spPr"].render(n,l),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n);break}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}}m.exports=i},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,m,g){m.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,m,g){const f=e("./base-cell-anchor-xform"),u=e("../static-xform"),h=e("./cell-position-xform"),s=e("./pic-xform");class t extends f{constructor(){super(),this.map={"xdr:from":new h({tag:"xdr:from"}),"xdr:to":new h({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new u({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(r,n){this.map["xdr:pic"].prepare(r.picture,n)}render(r,n){r.openNode(this.tag,{editAs:n.range.editAs||"oneCell"}),this.map["xdr:from"].render(r,n.range.tl),this.map["xdr:to"].render(r,n.range.br),this.map["xdr:pic"].render(r,n.picture),this.map["xdr:clientData"].render(r,{}),r.closeNode()}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(r,n){r.medium=this.reconcilePicture(r.picture,n)}}m.exports=t},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,m,g){const f=e("./base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,t){const{childXform:i}=this;s&&s.forEach((r,n)=>{t.index=n,i.prepare(r,t)})}render(s,t){if(this.always||t&&t.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,t&&t.length||0);const{childXform:i}=this;(t||[]).forEach((r,n)=>{i.render(s,r,n)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return this.childXform.parseOpen(s)?(this.parser=this.childXform,!0):!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,t){if(s){const{childXform:i}=this;s.forEach(r=>{i.reconcile(r,t)})}}}m.exports=u},{"./base-xform":32}],72:[function(e,m,g){const f=e("../../../utils/col-cache"),u=e("../base-xform");class h extends u{get tag(){return"autoFilter"}render(t,i){if(i)if(typeof i=="string")t.leafNode("autoFilter",{ref:i});else{const r=function(d){return typeof d=="string"?d:f.getAddress(d.row,d.column).address},n=r(i.from),l=r(i.to);n&&l&&t.leafNode("autoFilter",{ref:`${n}:${l}`})}}parseOpen(t){t.name==="autoFilter"&&(this.model=t.attributes.ref)}}m.exports=h},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,m,g){const f=e("../../../utils/utils"),u=e("../base-xform"),h=e("../../../doc/range"),s=e("../../../doc/enums"),t=e("../strings/rich-text-xform");function i(l){if(l==null)return s.ValueType.Null;if(l instanceof String||typeof l=="string")return s.ValueType.String;if(typeof l=="number")return s.ValueType.Number;if(typeof l=="boolean")return s.ValueType.Boolean;if(l instanceof Date)return s.ValueType.Date;if(l.text&&l.hyperlink)return s.ValueType.Hyperlink;if(l.formula)return s.ValueType.Formula;if(l.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}function r(l){switch(l.type){case s.ValueType.Formula:return i(l.result);default:return l.type}}class n extends u{constructor(){super(),this.richTextXForm=new t}get tag(){return"c"}prepare(d,a){const v=a.styles.addStyleModel(d.style||{},r(d));switch(v&&(d.styleId=v),d.comment&&a.comments.push({...d.comment,ref:d.address}),d.type){case s.ValueType.String:case s.ValueType.RichText:a.sharedStrings&&(d.ssId=a.sharedStrings.add(d.value));break;case s.ValueType.Date:a.date1904&&(d.date1904=!0);break;case s.ValueType.Hyperlink:a.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=a.sharedStrings.add(d.text)),a.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case s.ValueType.Merge:a.merges.add(d);break;case s.ValueType.Formula:if(a.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=a.siFormulae++),d.formula)a.formulae[d.address]=d;else if(d.sharedFormula){const y=a.formulae[d.sharedFormula];if(!y)throw new Error(`Shared Formula master must exist above and or left of clone for cell ${d.address}`);y.si===void 0?(y.shareType="shared",y.si=a.siFormulae++,y.range=new h(y.address,d.address)):y.range&&y.range.expandToAddress(d.address),d.si=y.si}break}}renderFormula(d,a){let v=null;switch(a.shareType){case"shared":v={t:"shared",ref:a.ref||a.range.range,si:a.si};break;case"array":v={t:"array",ref:a.ref};break;default:a.si!==void 0&&(v={t:"shared",si:a.si});break}switch(i(a.result)){case s.ValueType.Null:d.leafNode("f",v,a.formula);break;case s.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",v,a.formula),d.leafNode("v",null,a.result);break;case s.ValueType.Number:d.leafNode("f",v,a.formula),d.leafNode("v",null,a.result);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",v,a.formula),d.leafNode("v",null,a.result?1:0);break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",v,a.formula),d.leafNode("v",null,a.result.error);break;case s.ValueType.Date:d.leafNode("f",v,a.formula),d.leafNode("v",null,f.dateToExcel(a.result,a.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,a){if(!(a.type===s.ValueType.Null&&!a.styleId)){switch(d.openNode("c"),d.addAttribute("r",a.address),a.styleId&&d.addAttribute("s",a.styleId),a.type){case s.ValueType.Null:break;case s.ValueType.Number:d.leafNode("v",null,a.value);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,a.value?"1":"0");break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,a.value.error);break;case s.ValueType.String:case s.ValueType.RichText:a.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,a.ssId)):a.value&&a.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),a.value.richText.forEach(v=>{this.richTextXForm.render(d,v)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,a.value));break;case s.ValueType.Date:d.leafNode("v",null,f.dateToExcel(a.value,a.date1904));break;case s.ValueType.Hyperlink:a.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,a.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,a.text));break;case s.ValueType.Formula:this.renderFormula(d,a);break;case s.ValueType.Merge:break}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser){this.parser.parseText(d);return}switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d;break}}parseClose(d){switch(d){case"c":{const{model:a}=this;if(a.formula||a.shareType)a.type=s.ValueType.Formula,a.value&&(this.t==="str"?a.result=f.xmlDecode(a.value):this.t==="b"?a.result=parseInt(a.value,10)!==0:this.t==="e"?a.result={error:a.value}:a.result=parseFloat(a.value),a.value=void 0);else if(a.value!==void 0)switch(this.t){case"s":a.type=s.ValueType.String,a.value=parseInt(a.value,10);break;case"str":a.type=s.ValueType.String,a.value=f.xmlDecode(a.value);break;case"inlineStr":a.type=s.ValueType.String;break;case"b":a.type=s.ValueType.Boolean,a.value=parseInt(a.value,10)!==0;break;case"e":a.type=s.ValueType.Error,a.value={error:a.value};break;default:a.type=s.ValueType.Number,a.value=parseFloat(a.value);break}else a.styleId?a.type=s.ValueType.Null:a.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return this.parser?(this.parser.parseClose(d),!0):!1}}reconcile(d,a){const v=d.styleId&&a.styles&&a.styles.getStyleModel(d.styleId);switch(v&&(d.style=v),d.styleId!==void 0&&(d.styleId=void 0),d.type){case s.ValueType.String:typeof d.value=="number"&&a.sharedStrings&&(d.value=a.sharedStrings.getString(d.value)),d.value.richText&&(d.type=s.ValueType.RichText);break;case s.ValueType.Number:v&&f.isDateFmt(v.numFmt)&&(d.type=s.ValueType.Date,d.value=f.excelToDate(d.value,a.date1904));break;case s.ValueType.Formula:d.result!==void 0&&v&&f.isDateFmt(v.numFmt)&&(d.result=f.excelToDate(d.result,a.date1904)),d.shareType==="shared"&&(d.ref?a.formulae[d.si]=d.address:(d.sharedFormula=a.formulae[d.si],delete d.shareType),delete d.si);break}const y=a.hyperlinkMap[d.address];y&&(d.type===s.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=s.ValueType.Hyperlink,d.hyperlink=y);const p=a.commentsMap&&a.commentsMap[d.address];p&&(d.comment=p)}}m.exports=n},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,m,g){const f=e("../../base-xform");class u extends f{get tag(){return"x14:cfIcon"}render(s,t){s.leafNode(this.tag,{iconSet:t.iconSet,iconId:t.iconId})}parseOpen(s){let{attributes:t}=s;this.model={iconSet:t.iconSet,iconId:f.toIntValue(t.iconId)}}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],75:[function(e,m,g){const{v4:f}=e("uuid"),u=e("../../base-xform"),h=e("../../composite-xform"),s=e("./databar-ext-xform"),t=e("./icon-set-ext-xform"),i={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class r extends h{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new t}}get tag(){return"x14:cfRule"}static isExt(l){return l.type==="dataBar"?s.isExt(l):!!(l.type==="iconSet"&&(l.custom||i[l.iconSet]))}prepare(l){r.isExt(l)&&(l.x14Id=`{${f()}}`.toUpperCase())}render(l,d){if(r.isExt(d))switch(d.type){case"dataBar":this.renderDataBar(l,d);break;case"iconSet":this.renderIconSet(l,d);break}}renderDataBar(l,d){l.openNode(this.tag,{type:"dataBar",id:d.x14Id}),this.databarXform.render(l,d),l.closeNode()}renderIconSet(l,d){l.openNode(this.tag,{type:"iconSet",priority:d.priority,id:d.x14Id||`{${f()}}`}),this.iconSetXform.render(l,d),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{type:d.type,x14Id:d.id,priority:u.toIntValue(d.priority)}}onParserClose(l,d){Object.assign(this.model,d.model)}}m.exports=r},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,m,g){const f=e("../../composite-xform"),u=e("./f-ext-xform");class h extends f{constructor(){super(),this.map={"xm:f":this.fExtXform=new u}}get tag(){return"x14:cfvo"}render(t,i){t.openNode(this.tag,{type:i.type}),i.value!==void 0&&this.fExtXform.render(t,i.value),t.closeNode()}createNewModel(t){return{type:t.attributes.type}}onParserClose(t,i){switch(t){case"xm:f":this.model.value=i.model?parseFloat(i.model):0;break}}}m.exports=h},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,m,g){const f=e("../../composite-xform"),u=e("./sqref-ext-xform"),h=e("./cf-rule-ext-xform");class s extends f{constructor(){super(),this.map={"xm:sqref":this.sqRef=new u,"x14:cfRule":this.cfRule=new h}}get tag(){return"x14:conditionalFormatting"}prepare(i,r){i.rules.forEach(n=>{this.cfRule.prepare(n,r)})}render(i,r){r.rules.some(h.isExt)&&(i.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),r.rules.filter(h.isExt).forEach(n=>this.cfRule.render(i,n)),this.sqRef.render(i,r.ref),i.closeNode())}createNewModel(){return{rules:[]}}onParserClose(i,r){switch(i){case"xm:sqref":this.model.ref=r.model;break;case"x14:cfRule":this.model.rules.push(r.model);break}}}m.exports=s},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,m,g){const f=e("../../composite-xform"),u=e("./cf-rule-ext-xform"),h=e("./conditional-formatting-ext-xform");class s extends f{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new h}}get tag(){return"x14:conditionalFormattings"}hasContent(i){return i.hasExtContent===void 0&&(i.hasExtContent=i.some(r=>r.rules.some(u.isExt))),i.hasExtContent}prepare(i,r){i.forEach(n=>{this.cfXform.prepare(n,r)})}render(i,r){this.hasContent(r)&&(i.openNode(this.tag),r.forEach(n=>this.cfXform.render(i,n)),i.closeNode())}createNewModel(){return[]}onParserClose(i,r){this.model.push(r.model)}}m.exports=s},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,m,g){const f=e("../../base-xform"),u=e("../../composite-xform"),h=e("../../style/color-xform"),s=e("./cfvo-ext-xform");class t extends u{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new h("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new h("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new h("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new h("x14:axisColor")}}static isExt(r){return!r.gradient}get tag(){return"x14:dataBar"}render(r,n){r.openNode(this.tag,{minLength:f.toIntAttribute(n.minLength,0,!0),maxLength:f.toIntAttribute(n.maxLength,100,!0),border:f.toBoolAttribute(n.border,!1),gradient:f.toBoolAttribute(n.gradient,!0),negativeBarColorSameAsPositive:f.toBoolAttribute(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolAttribute(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toAttribute(n.axisPosition,"auto"),direction:f.toAttribute(n.direction,"leftToRight")}),n.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),this.borderColorXform.render(r,n.borderColor),this.negativeBorderColorXform.render(r,n.negativeBorderColor),this.negativeFillColorXform.render(r,n.negativeFillColor),this.axisColorXform.render(r,n.axisColor),r.closeNode()}createNewModel(r){let{attributes:n}=r;return{cfvo:[],minLength:f.toIntValue(n.minLength,0),maxLength:f.toIntValue(n.maxLength,100),border:f.toBoolValue(n.border,!1),gradient:f.toBoolValue(n.gradient,!0),negativeBarColorSameAsPositive:f.toBoolValue(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolValue(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toStringValue(n.axisPosition,"auto"),direction:f.toStringValue(n.direction,"leftToRight")}}onParserClose(r,n){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;default:this.model[l]=n.model;break}}}m.exports=t},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,m,g){const f=e("../../base-xform");class u extends f{get tag(){return"xm:f"}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],81:[function(e,m,g){const f=e("../../base-xform"),u=e("../../composite-xform"),h=e("./cfvo-ext-xform"),s=e("./cf-icon-ext-xform");class t extends u{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new h,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(r,n){r.openNode(this.tag,{iconSet:f.toStringAttribute(n.iconSet),reverse:f.toBoolAttribute(n.reverse,!1),showValue:f.toBoolAttribute(n.showValue,!0),custom:f.toBoolAttribute(n.icons,!1)}),n.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),n.icons&&n.icons.forEach((l,d)=>{l.iconId=d,this.cfIconXform.render(r,l)}),r.closeNode()}createNewModel(r){let{attributes:n}=r;return{cfvo:[],iconSet:f.toStringValue(n.iconSet,"3TrafficLights"),reverse:f.toBoolValue(n.reverse,!1),showValue:f.toBoolValue(n.showValue,!0)}}onParserClose(r,n){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(n.model);break;default:this.model[l]=n.model;break}}}m.exports=t},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,m,g){const f=e("../../base-xform");class u extends f{get tag(){return"xm:sqref"}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],83:[function(e,m,g){const f=e("../../base-xform"),u=e("../../composite-xform"),h=e("../../../../doc/range"),s=e("./databar-xform"),t=e("./ext-lst-ref-xform"),i=e("./formula-xform"),r=e("./color-scale-xform"),n=e("./icon-set-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},d=p=>{if(p.formulae&&p.formulae[0])return p.formulae[0];const E=new h(p.ref),{tl:T}=E;switch(p.operator){case"containsText":return`NOT(ISERROR(SEARCH("${p.text}",${T})))`;case"containsBlanks":return`LEN(TRIM(${T}))=0`;case"notContainsBlanks":return`LEN(TRIM(${T}))>0`;case"containsErrors":return`ISERROR(${T})`;case"notContainsErrors":return`NOT(ISERROR(${T}))`;default:return}},a=p=>{if(p.formulae&&p.formulae[0])return p.formulae[0];const E=new h(p.ref),{tl:T}=E;switch(p.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${T},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${T},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${T},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${T},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${T},1)=TODAY()-1`;case"today":return`FLOOR(${T},1)=TODAY()`;case"tomorrow":return`FLOOR(${T},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${T},1)<=6,FLOOR(${T},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0-1)),YEAR(${T})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${T})=MONTH(TODAY()),YEAR(${T})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0+1)),YEAR(${T})=YEAR(EDATE(TODAY(),0+1)))`;default:return}},v=p=>{const{type:E,operator:T}=p;switch(E){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:E};default:return{type:E,operator:T}}};class y extends u{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new t,formula:this.formulaXform=new i,colorScale:this.colorScaleXform=new r,iconSet:this.iconSetXform=new n}}get tag(){return"cfRule"}static isPrimitive(E){return!(E.type==="iconSet"&&(E.custom||l[E.iconSet]))}render(E,T){switch(T.type){case"expression":this.renderExpression(E,T);break;case"cellIs":this.renderCellIs(E,T);break;case"top10":this.renderTop10(E,T);break;case"aboveAverage":this.renderAboveAverage(E,T);break;case"dataBar":this.renderDataBar(E,T);break;case"colorScale":this.renderColorScale(E,T);break;case"iconSet":this.renderIconSet(E,T);break;case"containsText":this.renderText(E,T);break;case"timePeriod":this.renderTimePeriod(E,T);break}}renderExpression(E,T){E.openNode(this.tag,{type:"expression",dxfId:T.dxfId,priority:T.priority}),this.formulaXform.render(E,T.formulae[0]),E.closeNode()}renderCellIs(E,T){E.openNode(this.tag,{type:"cellIs",dxfId:T.dxfId,priority:T.priority,operator:T.operator}),T.formulae.forEach(S=>{this.formulaXform.render(E,S)}),E.closeNode()}renderTop10(E,T){E.leafNode(this.tag,{type:"top10",dxfId:T.dxfId,priority:T.priority,percent:f.toBoolAttribute(T.percent,!1),bottom:f.toBoolAttribute(T.bottom,!1),rank:f.toIntValue(T.rank,10,!0)})}renderAboveAverage(E,T){E.leafNode(this.tag,{type:"aboveAverage",dxfId:T.dxfId,priority:T.priority,aboveAverage:f.toBoolAttribute(T.aboveAverage,!0)})}renderDataBar(E,T){E.openNode(this.tag,{type:"dataBar",priority:T.priority}),this.databarXform.render(E,T),this.extLstRefXform.render(E,T),E.closeNode()}renderColorScale(E,T){E.openNode(this.tag,{type:"colorScale",priority:T.priority}),this.colorScaleXform.render(E,T),E.closeNode()}renderIconSet(E,T){y.isPrimitive(T)&&(E.openNode(this.tag,{type:"iconSet",priority:T.priority}),this.iconSetXform.render(E,T),E.closeNode())}renderText(E,T){E.openNode(this.tag,{type:T.operator,dxfId:T.dxfId,priority:T.priority,operator:f.toStringAttribute(T.operator,"containsText")});const S=d(T);S&&this.formulaXform.render(E,S),E.closeNode()}renderTimePeriod(E,T){E.openNode(this.tag,{type:"timePeriod",dxfId:T.dxfId,priority:T.priority,timePeriod:T.timePeriod});const S=a(T);S&&this.formulaXform.render(E,S),E.closeNode()}createNewModel(E){let{attributes:T}=E;return{...v(T),dxfId:f.toIntValue(T.dxfId),priority:f.toIntValue(T.priority),timePeriod:T.timePeriod,percent:f.toBoolValue(T.percent),bottom:f.toBoolValue(T.bottom),rank:f.toIntValue(T.rank),aboveAverage:f.toBoolValue(T.aboveAverage)}}onParserClose(E,T){switch(E){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,T.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(T.model);break}}}m.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,m,g){const f=e("../../base-xform");class u extends f{get tag(){return"cfvo"}render(s,t){s.leafNode(this.tag,{type:t.type,val:t.value})}parseOpen(s){this.model={type:s.attributes.type,value:f.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],85:[function(e,m,g){const f=e("../../composite-xform"),u=e("../../style/color-xform"),h=e("./cfvo-xform");class s extends f{constructor(){super(),this.map={cfvo:this.cfvoXform=new h,color:this.colorXform=new u}}get tag(){return"colorScale"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),r.color.forEach(n=>{this.colorXform.render(i,n)}),i.closeNode()}createNewModel(i){return{cfvo:[],color:[]}}onParserClose(i,r){this.model[i].push(r.model)}}m.exports=s},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,m,g){const f=e("../../composite-xform"),u=e("./cf-rule-xform");class h extends f{constructor(){super(),this.map={cfRule:new u}}get tag(){return"conditionalFormatting"}render(t,i){i.rules.some(u.isPrimitive)&&(t.openNode(this.tag,{sqref:i.ref}),i.rules.forEach(r=>{u.isPrimitive(r)&&(r.ref=i.ref,this.map.cfRule.render(t,r))}),t.closeNode())}createNewModel(t){let{attributes:i}=t;return{ref:i.sqref,rules:[]}}onParserClose(t,i){this.model.rules.push(i.model)}}m.exports=h},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,m,g){const f=e("../../base-xform"),u=e("./conditional-formatting-xform");class h extends f{constructor(){super(),this.cfXform=new u}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(t,i){let r=t.reduce((n,l)=>Math.max(n,...l.rules.map(d=>d.priority||0)),1);t.forEach(n=>{n.rules.forEach(l=>{l.priority||(l.priority=r++),l.style&&(l.dxfId=i.styles.addDxfStyle(l.style))})})}render(t,i){i.forEach(r=>{this.cfXform.render(t,r)})}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(t),!0;default:return!1}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){return this.parser?this.parser.parseClose(t)?!0:(this.model.push(this.parser.model),this.parser=void 0,!1):!1}reconcile(t,i){t.forEach(r=>{r.rules.forEach(n=>{n.dxfId!==void 0&&(n.style=i.styles.getDxfStyle(n.dxfId),delete n.dxfId)})})}}m.exports=h},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,m,g){const f=e("../../composite-xform"),u=e("../../style/color-xform"),h=e("./cfvo-xform");class s extends f{constructor(){super(),this.map={cfvo:this.cfvoXform=new h,color:this.colorXform=new u}}get tag(){return"dataBar"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),this.colorXform.render(i,r.color),i.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(i,r){switch(i){case"cfvo":this.model.cfvo.push(r.model);break;case"color":this.model.color=r.model;break}}}m.exports=s},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,m,g){const f=e("../../base-xform"),u=e("../../composite-xform");class h extends f{get tag(){return"x14:id"}render(r,n){r.leafNode(this.tag,null,n)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}class s extends u{constructor(){super(),this.map={"x14:id":this.idXform=new h}}get tag(){return"ext"}render(r,n){r.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(r,n.x14Id),r.closeNode()}createNewModel(){return{}}onParserClose(r,n){this.model.x14Id=n.model}}class t extends u{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(r,n){r.openNode(this.tag),this.map.ext.render(r,n),r.closeNode()}createNewModel(){return{}}onParserClose(r,n){Object.assign(this.model,n.model)}}m.exports=t},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,m,g){const f=e("../../base-xform");class u extends f{get tag(){return"formula"}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],91:[function(e,m,g){const f=e("../../base-xform"),u=e("../../composite-xform"),h=e("./cfvo-xform");class s extends u{constructor(){super(),this.map={cfvo:this.cfvoXform=new h}}get tag(){return"iconSet"}render(i,r){i.openNode(this.tag,{iconSet:f.toStringAttribute(r.iconSet,"3TrafficLights"),reverse:f.toBoolAttribute(r.reverse,!1),showValue:f.toBoolAttribute(r.showValue,!0)}),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),i.closeNode()}createNewModel(i){let{attributes:r}=i;return{iconSet:f.toStringValue(r.iconSet,"3TrafficLights"),reverse:f.toBoolValue(r.reverse),showValue:f.toBoolValue(r.showValue),cfvo:[]}}onParserClose(i,r){this.model[i].push(r.model)}}m.exports=s},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,m,g){const f=e("../../../utils/utils"),u=e("../base-xform");class h extends u{get tag(){return"col"}prepare(t,i){const r=i.styles.addStyleModel(t.style||{});r&&(t.styleId=r)}render(t,i){t.openNode("col"),t.addAttribute("min",i.min),t.addAttribute("max",i.max),i.width&&t.addAttribute("width",i.width),i.styleId&&t.addAttribute("style",i.styleId),i.hidden&&t.addAttribute("hidden","1"),i.bestFit&&t.addAttribute("bestFit","1"),i.outlineLevel&&t.addAttribute("outlineLevel",i.outlineLevel),i.collapsed&&t.addAttribute("collapsed","1"),t.addAttribute("customWidth","1"),t.closeNode()}parseOpen(t){if(t.name==="col"){const i=this.model={min:parseInt(t.attributes.min||"0",10),max:parseInt(t.attributes.max||"0",10),width:t.attributes.width===void 0?void 0:parseFloat(t.attributes.width||"0")};return t.attributes.style&&(i.styleId=parseInt(t.attributes.style,10)),f.parseBoolean(t.attributes.hidden)&&(i.hidden=!0),f.parseBoolean(t.attributes.bestFit)&&(i.bestFit=!0),t.attributes.outlineLevel&&(i.outlineLevel=parseInt(t.attributes.outlineLevel,10)),f.parseBoolean(t.attributes.collapsed)&&(i.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(t,i){t.styleId&&(t.style=i.styles.getStyleModel(t.styleId))}}m.exports=h},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../../../utils/utils"),h=e("../../../utils/col-cache"),s=e("../base-xform"),t=e("../../../doc/range");function i(d,a,v,y){const p=a[v];p!==void 0?d[v]=p:y!==void 0&&(d[v]=y)}function r(d,a,v,y){const p=a[v];p!==void 0?d[v]=u.parseBoolean(p):y!==void 0&&(d[v]=y)}function n(d){const a=f.map(d,(p,E)=>({address:E,dataValidation:p,marked:!1})).sort((p,E)=>f.strcmp(p.address,E.address)),v=f.keyBy(a,"address"),y=(p,E,T)=>{for(let S=0;S<E;S++){const A=h.encodeAddress(p.row+S,T);if(!d[A]||!f.isEqual(d[p.address],d[A]))return!1}return!0};return a.map(p=>{if(!p.marked){const E=h.decodeEx(p.address);if(E.dimensions)return v[E.dimensions].marked=!0,{...p.dataValidation,sqref:p.address};let T=1,S=h.encodeAddress(E.row+T,E.col);for(;d[S]&&f.isEqual(p.dataValidation,d[S]);)T++,S=h.encodeAddress(E.row+T,E.col);let A=1;for(;y(E,T,E.col+A);)A++;for(let w=0;w<T;w++)for(let I=0;I<A;I++)S=h.encodeAddress(E.row+w,E.col+I),v[S].marked=!0;if(T>1||A>1){const w=E.row+(T-1),I=E.col+(A-1);return{...p.dataValidation,sqref:`${p.address}:${h.encodeAddress(w,I)}`}}return{...p.dataValidation,sqref:p.address}}return null}).filter(Boolean)}class l extends s{get tag(){return"dataValidations"}render(a,v){const y=n(v);y.length&&(a.openNode("dataValidations",{count:y.length}),y.forEach(p=>{a.openNode("dataValidation"),p.type!=="any"&&(a.addAttribute("type",p.type),p.operator&&p.type!=="list"&&p.operator!=="between"&&a.addAttribute("operator",p.operator),p.allowBlank&&a.addAttribute("allowBlank","1")),p.showInputMessage&&a.addAttribute("showInputMessage","1"),p.promptTitle&&a.addAttribute("promptTitle",p.promptTitle),p.prompt&&a.addAttribute("prompt",p.prompt),p.showErrorMessage&&a.addAttribute("showErrorMessage","1"),p.errorStyle&&a.addAttribute("errorStyle",p.errorStyle),p.errorTitle&&a.addAttribute("errorTitle",p.errorTitle),p.error&&a.addAttribute("error",p.error),a.addAttribute("sqref",p.sqref),(p.formulae||[]).forEach((E,T)=>{a.openNode(`formula${T+1}`),p.type==="date"?a.writeText(u.dateToExcel(new Date(E))):a.writeText(E),a.closeNode()}),a.closeNode()}),a.closeNode())}parseOpen(a){switch(a.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=a.attributes.sqref;const v={type:a.attributes.type||"any",formulae:[]};switch(a.attributes.type&&r(v,a.attributes,"allowBlank"),r(v,a.attributes,"showInputMessage"),r(v,a.attributes,"showErrorMessage"),v.type){case"any":case"list":case"custom":break;default:i(v,a.attributes,"operator","between");break}return i(v,a.attributes,"promptTitle"),i(v,a.attributes,"prompt"),i(v,a.attributes,"errorStyle"),i(v,a.attributes,"errorTitle"),i(v,a.attributes,"error"),this._dataValidation=v,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(a){this._formula&&this._formula.push(a)}parseClose(a){switch(a){case"dataValidations":return!1;case"dataValidation":return(!this._dataValidation.formulae||!this._dataValidation.formulae.length)&&(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(y=>{y.includes(":")?new t(y).forEachAddress(E=>{this.model[E]=this._dataValidation}):this.model[y]=this._dataValidation}),!0;case"formula1":case"formula2":{let v=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":v=parseInt(v,10);break;case"decimal":v=parseFloat(v);break;case"date":v=u.excelToDate(parseFloat(v));break}return this._dataValidation.formulae.push(v),this._formula=void 0,!0}default:return!0}}}m.exports=l},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"dimension"}render(s,t){t&&s.leafNode("dimension",{ref:t})}parseOpen(s){return s.name==="dimension"?(this.model=s.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],95:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"drawing"}render(s,t){t&&s.leafNode(this.tag,{"r:id":t.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],96:[function(e,m,g){const f=e("../composite-xform"),u=e("./cf-ext/conditional-formattings-ext-xform");class h extends f{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new u}}get tag(){return"ext"}hasContent(i){return this.conditionalFormattings.hasContent(i.conditionalFormattings)}prepare(i,r){this.conditionalFormattings.prepare(i.conditionalFormattings,r)}render(i,r){i.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(i,r.conditionalFormattings),i.closeNode()}createNewModel(){return{}}onParserClose(i,r){this.model[i]=r.model}}class s extends f{constructor(){super(),this.map={ext:this.ext=new h}}get tag(){return"extLst"}prepare(i,r){this.ext.prepare(i,r)}hasContent(i){return this.ext.hasContent(i)}render(i,r){this.hasContent(r)&&(i.openNode("extLst"),this.ext.render(i,r),i.closeNode())}createNewModel(){return{}}onParserClose(i,r){Object.assign(this.model,r.model)}}m.exports=s},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"headerFooter"}render(s,t){if(t){s.addRollback();let i=!1;s.openNode("headerFooter"),t.differentFirst&&(s.addAttribute("differentFirst","1"),i=!0),t.differentOddEven&&(s.addAttribute("differentOddEven","1"),i=!0),t.oddHeader&&typeof t.oddHeader=="string"&&(s.leafNode("oddHeader",null,t.oddHeader),i=!0),t.oddFooter&&typeof t.oddFooter=="string"&&(s.leafNode("oddFooter",null,t.oddFooter),i=!0),t.evenHeader&&typeof t.evenHeader=="string"&&(s.leafNode("evenHeader",null,t.evenHeader),i=!0),t.evenFooter&&typeof t.evenFooter=="string"&&(s.leafNode("evenFooter",null,t.evenFooter),i=!0),t.firstHeader&&typeof t.firstHeader=="string"&&(s.leafNode("firstHeader",null,t.firstHeader),i=!0),t.firstFooter&&typeof t.firstFooter=="string"&&(s.leafNode("firstFooter",null,t.firstFooter),i=!0),i?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s;break}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}m.exports=u},{"../base-xform":32}],98:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"hyperlink"}render(s,t){this.isInternalLink(t)?s.leafNode("hyperlink",{ref:t.address,"r:id":t.rId,tooltip:t.tooltip,location:t.target}):s.leafNode("hyperlink",{ref:t.address,"r:id":t.rId,tooltip:t.tooltip})}parseOpen(s){return s.name==="hyperlink"?(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0):!1}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}m.exports=u},{"../base-xform":32}],99:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"mergeCell"}render(s,t){s.leafNode("mergeCell",{ref:t})}parseOpen(s){return s.name==="mergeCell"?(this.model=s.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],100:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../../../doc/range"),h=e("../../../utils/col-cache"),s=e("../../../doc/enums");class t{constructor(){this.merges={}}add(r){if(this.merges[r.master])this.merges[r.master].expandToAddress(r.address);else{const n=`${r.master}:${r.address}`;this.merges[r.master]=new u(n)}}get mergeCells(){return f.map(this.merges,r=>r.range)}reconcile(r,n){f.each(r,l=>{const d=h.decode(l);for(let a=d.top;a<=d.bottom;a++){const v=n[a-1];for(let y=d.left;y<=d.right;y++){const p=v.cells[y-1];p?p.type===s.ValueType.Merge&&(p.master=d.tl):v.cells[y]={type:s.ValueType.Null,address:h.encodeAddress(a,y)}}}})}getMasterAddress(r){const n=this.hash[r];return n&&n.tl}}m.exports=t},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,m,g){const f=e("../base-xform"),u=s=>typeof s<"u";class h extends f{get tag(){return"outlinePr"}render(t,i){return i&&(u(i.summaryBelow)||u(i.summaryRight))?(t.leafNode(this.tag,{summaryBelow:u(i.summaryBelow)?Number(i.summaryBelow):void 0,summaryRight:u(i.summaryRight)?Number(i.summaryRight):void 0}),!0):!1}parseOpen(t){return t.name===this.tag?(this.model={summaryBelow:u(t.attributes.summaryBelow)?!!Number(t.attributes.summaryBelow):void 0,summaryRight:u(t.attributes.summaryRight)?!!Number(t.attributes.summaryRight):void 0},!0):!1}parseText(){}parseClose(){return!1}}m.exports=h},{"../base-xform":32}],102:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"brk"}render(s,t){s.leafNode("brk",t)}parseOpen(s){return s.name==="brk"?(this.model=s.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],103:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../base-xform");class h extends u{get tag(){return"pageMargins"}render(t,i){if(i){const r={left:i.left,right:i.right,top:i.top,bottom:i.bottom,header:i.header,footer:i.footer};f.some(r,n=>n!==void 0)&&t.leafNode(this.tag,r)}}parseOpen(t){switch(t.name){case this.tag:return this.model={left:parseFloat(t.attributes.left||.7),right:parseFloat(t.attributes.right||.7),top:parseFloat(t.attributes.top||.75),bottom:parseFloat(t.attributes.bottom||.75),header:parseFloat(t.attributes.header||.3),footer:parseFloat(t.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=h},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"pageSetUpPr"}render(s,t){return t&&t.fitToPage?(s.leafNode(this.tag,{fitToPage:t.fitToPage?"1":void 0}),!0):!1}parseOpen(s){return s.name===this.tag?(this.model={fitToPage:s.attributes.fitToPage==="1"},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],105:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../base-xform");function h(l){return l?"1":void 0}function s(l){switch(l){case"overThenDown":return l;default:return}}function t(l){switch(l){case"atEnd":case"asDisplyed":return l;default:return}}function i(l){switch(l){case"dash":case"blank":case"NA":return l;default:return}}function r(l){return l!==void 0?parseInt(l,10):void 0}class n extends u{get tag(){return"pageSetup"}render(d,a){if(a){const v={paperSize:a.paperSize,orientation:a.orientation,horizontalDpi:a.horizontalDpi,verticalDpi:a.verticalDpi,pageOrder:s(a.pageOrder),blackAndWhite:h(a.blackAndWhite),draft:h(a.draft),cellComments:t(a.cellComments),errors:i(a.errors),scale:a.scale,fitToWidth:a.fitToWidth,fitToHeight:a.fitToHeight,firstPageNumber:a.firstPageNumber,useFirstPageNumber:h(a.firstPageNumber),usePrinterDefaults:h(a.usePrinterDefaults),copies:a.copies};f.some(v,y=>y!==void 0)&&d.leafNode(this.tag,v)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:r(d.attributes.paperSize),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=n},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"picture"}render(s,t){t&&s.leafNode(this.tag,{"r:id":t.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],107:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../base-xform");function h(t){return t?"1":void 0}class s extends u{get tag(){return"printOptions"}render(i,r){if(r){const n={headings:h(r.showRowColHeaders),gridLines:h(r.showGridLines),horizontalCentered:h(r.horizontalCentered),verticalCentered:h(r.verticalCentered)};f.some(n,l=>l!==void 0)&&i.leafNode(this.tag,n)}}parseOpen(i){switch(i.name){case this.tag:return this.model={showRowColHeaders:i.attributes.headings==="1",showGridLines:i.attributes.gridLines==="1",horizontalCentered:i.attributes.horizontalCentered==="1",verticalCentered:i.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=s},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,m,g){const f=e("./page-breaks-xform"),u=e("../list-xform");class h extends u{constructor(){const t={tag:"rowBreaks",count:!0,childXform:new f};super(t)}render(t,i){if(i&&i.length){t.openNode(this.tag,this.$),this.count&&(t.addAttribute(this.$count,i.length),t.addAttribute("manualBreakCount",i.length));const{childXform:r}=this;i.forEach(n=>{r.render(t,n)}),t.closeNode()}else this.empty&&t.leafNode(this.tag)}}m.exports=h},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,m,g){const f=e("../base-xform"),u=e("../../../utils/utils"),h=e("./cell-xform");class s extends f{constructor(i){super(),this.maxItems=i&&i.maxItems,this.map={c:new h}}get tag(){return"row"}prepare(i,r){const n=r.styles.addStyleModel(i.style);n&&(i.styleId=n);const l=this.map.c;i.cells.forEach(d=>{l.prepare(d,r)})}render(i,r,n){i.openNode("row"),i.addAttribute("r",r.number),r.height&&(i.addAttribute("ht",r.height),i.addAttribute("customHeight","1")),r.hidden&&i.addAttribute("hidden","1"),r.min>0&&r.max>0&&r.min<=r.max&&i.addAttribute("spans",`${r.min}:${r.max}`),r.styleId&&(i.addAttribute("s",r.styleId),i.addAttribute("customFormat","1")),i.addAttribute("x14ac:dyDescent","0.25"),r.outlineLevel&&i.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&i.addAttribute("collapsed","1");const l=this.map.c;r.cells.forEach(d=>{l.render(i,d,n)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;if(i.name==="row"){this.numRowsSeen+=1;const r=i.attributes.spans?i.attributes.spans.split(":").map(l=>parseInt(l,10)):[void 0,void 0],n=this.model={number:parseInt(i.attributes.r,10),min:r[0],max:r[1],cells:[]};return i.attributes.s&&(n.styleId=parseInt(i.attributes.s,10)),u.parseBoolean(i.attributes.hidden)&&(n.hidden=!0),u.parseBoolean(i.attributes.bestFit)&&(n.bestFit=!0),i.attributes.ht&&(n.height=parseFloat(i.attributes.ht)),i.attributes.outlineLevel&&(n.outlineLevel=parseInt(i.attributes.outlineLevel,10)),u.parseBoolean(i.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):!1}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(i,r){i.style=i.styleId?r.styles.getStyleModel(i.styleId):{},i.styleId!==void 0&&(i.styleId=void 0);const n=this.map.c;i.cells.forEach(l=>{n.reconcile(l,r)})}}m.exports=s},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../base-xform");class h extends u{get tag(){return"sheetFormatPr"}render(t,i){if(i){const r={defaultRowHeight:i.defaultRowHeight,outlineLevelRow:i.outlineLevelRow,outlineLevelCol:i.outlineLevelCol,"x14ac:dyDescent":i.dyDescent};i.defaultColWidth&&(r.defaultColWidth=i.defaultColWidth),(!i.defaultRowHeight||i.defaultRowHeight!==15)&&(r.customHeight="1"),f.some(r,n=>n!==void 0)&&t.leafNode("sheetFormatPr",r)}}parseOpen(t){return t.name==="sheetFormatPr"?(this.model={defaultRowHeight:parseFloat(t.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(t.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(t.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(t.attributes.outlineLevelCol||"0",10)},t.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(t.attributes.defaultColWidth)),!0):!1}parseText(){}parseClose(){return!1}}m.exports=h},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,m,g){const f=e("../base-xform"),u=e("../style/color-xform"),h=e("./page-setup-properties-xform"),s=e("./outline-properties-xform");class t extends f{constructor(){super(),this.map={tabColor:new u("tabColor"),pageSetUpPr:new h,outlinePr:new s}}get tag(){return"sheetPr"}render(r,n){if(n){r.addRollback(),r.openNode("sheetPr");let l=!1;l=this.map.tabColor.render(r,n.tabColor)||l,l=this.map.pageSetUpPr.render(r,n.pageSetup)||l,l=this.map.outlinePr.render(r,n.outlineProperties)||l,l?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){return this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag?(this.reset(),!0):this.map[r.name]?(this.parser=this.map[r.name],this.parser.parseOpen(r),!0):!1}parseText(r){return this.parser?(this.parser.parseText(r),!0):!1}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}m.exports=t},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../base-xform");function h(i,r){return i?r:void 0}function s(i,r){return i===r?!0:void 0}class t extends u{get tag(){return"sheetProtection"}render(r,n){if(n){const l={sheet:h(n.sheet,"1"),selectLockedCells:n.selectLockedCells===!1?"1":void 0,selectUnlockedCells:n.selectUnlockedCells===!1?"1":void 0,formatCells:h(n.formatCells,"0"),formatColumns:h(n.formatColumns,"0"),formatRows:h(n.formatRows,"0"),insertColumns:h(n.insertColumns,"0"),insertRows:h(n.insertRows,"0"),insertHyperlinks:h(n.insertHyperlinks,"0"),deleteColumns:h(n.deleteColumns,"0"),deleteRows:h(n.deleteRows,"0"),sort:h(n.sort,"0"),autoFilter:h(n.autoFilter,"0"),pivotTables:h(n.pivotTables,"0")};n.sheet&&(l.algorithmName=n.algorithmName,l.hashValue=n.hashValue,l.saltValue=n.saltValue,l.spinCount=n.spinCount,l.objects=h(n.objects===!1,"1"),l.scenarios=h(n.scenarios===!1,"1")),f.some(l,d=>d!==void 0)&&r.leafNode(this.tag,l)}}parseOpen(r){switch(r.name){case this.tag:return this.model={sheet:s(r.attributes.sheet,"1"),objects:r.attributes.objects==="1"?!1:void 0,scenarios:r.attributes.scenarios==="1"?!1:void 0,selectLockedCells:r.attributes.selectLockedCells==="1"?!1:void 0,selectUnlockedCells:r.attributes.selectUnlockedCells==="1"?!1:void 0,formatCells:s(r.attributes.formatCells,"0"),formatColumns:s(r.attributes.formatColumns,"0"),formatRows:s(r.attributes.formatRows,"0"),insertColumns:s(r.attributes.insertColumns,"0"),insertRows:s(r.attributes.insertRows,"0"),insertHyperlinks:s(r.attributes.insertHyperlinks,"0"),deleteColumns:s(r.attributes.deleteColumns,"0"),deleteRows:s(r.attributes.deleteRows,"0"),sort:s(r.attributes.sort,"0"),autoFilter:s(r.attributes.autoFilter,"0"),pivotTables:s(r.attributes.pivotTables,"0")},r.attributes.algorithmName&&(this.model.algorithmName=r.attributes.algorithmName,this.model.hashValue=r.attributes.hashValue,this.model.saltValue=r.attributes.saltValue,this.model.spinCount=parseInt(r.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=t},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,m,g){const f=e("../../../utils/col-cache"),u=e("../base-xform"),h={frozen:"frozen",frozenSplit:"frozen",split:"split"};class s extends u{get tag(){return"sheetView"}prepare(i){switch(i.state){case"frozen":case"split":break;default:i.state="normal";break}}render(i,r){i.openNode("sheetView",{workbookViewId:r.workbookViewId||0});const n=function(y,p,E){E&&i.addAttribute(y,p)};n("rightToLeft","1",r.rightToLeft===!0),n("tabSelected","1",r.tabSelected),n("showRuler","0",r.showRuler===!1),n("showRowColHeaders","0",r.showRowColHeaders===!1),n("showGridLines","0",r.showGridLines===!1),n("zoomScale",r.zoomScale,r.zoomScale),n("zoomScaleNormal",r.zoomScaleNormal,r.zoomScaleNormal),n("view",r.style,r.style);let l,d,a,v;switch(r.state){case"frozen":d=r.xSplit||0,a=r.ySplit||0,l=r.topLeftCell||f.getAddress(a+1,d+1).address,v=r.xSplit&&r.ySplit&&"bottomRight"||r.xSplit&&"topRight"||"bottomLeft",i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:l,activePane:v,state:"frozen"}),i.leafNode("selection",{pane:v,activeCell:r.activeCell,sqref:r.activeCell});break;case"split":r.activePane==="topLeft"&&(r.activePane=void 0),i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:r.topLeftCell,activePane:r.activePane}),i.leafNode("selection",{pane:r.activePane,activeCell:r.activeCell,sqref:r.activeCell});break;case"normal":r.activeCell&&i.leafNode("selection",{activeCell:r.activeCell,sqref:r.activeCell});break}i.closeNode()}parseOpen(i){switch(i.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(i.attributes.workbookViewId,10),rightToLeft:i.attributes.rightToLeft==="1",tabSelected:i.attributes.tabSelected==="1",showRuler:i.attributes.showRuler!=="0",showRowColHeaders:i.attributes.showRowColHeaders!=="0",showGridLines:i.attributes.showGridLines!=="0",zoomScale:parseInt(i.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(i.attributes.zoomScaleNormal||"100",10),style:i.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(i.attributes.xSplit||"0",10),ySplit:parseInt(i.attributes.ySplit||"0",10),topLeftCell:i.attributes.topLeftCell,activePane:i.attributes.activePane||"topLeft",state:i.attributes.state},!0;case"selection":{const r=i.attributes.pane||"topLeft";return this.selections[r]={pane:r,activeCell:i.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(i){let r,n;switch(i){case"sheetView":return this.sheetView&&this.pane?(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:h[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(r.activePane=this.pane.activePane),n=this.selections[this.pane.activePane],n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)):(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},n=this.selections.topLeft,n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}m.exports=s},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"tablePart"}render(s,t){t&&s.leafNode(this.tag,{"r:id":t.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],115:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../../../utils/col-cache"),h=e("../../../utils/xml-stream"),s=e("../../rel-type"),t=e("./merges"),i=e("../base-xform"),r=e("../list-xform"),n=e("./row-xform"),l=e("./col-xform"),d=e("./dimension-xform"),a=e("./hyperlink-xform"),v=e("./merge-cell-xform"),y=e("./data-validations-xform"),p=e("./sheet-properties-xform"),E=e("./sheet-format-properties-xform"),T=e("./sheet-view-xform"),S=e("./sheet-protection-xform"),A=e("./page-margins-xform"),w=e("./page-setup-xform"),I=e("./print-options-xform"),D=e("./auto-filter-xform"),V=e("./picture-xform"),ie=e("./drawing-xform"),te=e("./table-part-xform"),re=e("./row-breaks-xform"),Z=e("./header-footer-xform"),W=e("./cf/conditional-formattings-xform"),j=e("./ext-lst-xform"),O=(H,$)=>{Object.keys($).forEach(Y=>{const z=H[Y],B=$[Y];z===void 0&&B!==void 0&&(H[Y]=B)})},C=(H,$)=>{if(!$||!$.length)return H;if(!H||!H.length)return $;const Y={},z={};return H.forEach(B=>{Y[B.ref]=B,B.rules.forEach(L=>{const{x14Id:G}=L;G&&(z[G]=L)})}),$.forEach(B=>{B.rules.forEach(L=>{const G=z[L.x14Id];G?O(G,L):Y[B.ref]?Y[B.ref].rules.push(L):H.push({ref:B.ref,rules:[L]})})}),H};class F extends i{constructor($){super();const{maxRows:Y,maxCols:z,ignoreNodes:B}=$||{};this.ignoreNodes=B||[],this.map={sheetPr:new p,dimension:new d,sheetViews:new r({tag:"sheetViews",count:!1,childXform:new T}),sheetFormatPr:new E,cols:new r({tag:"cols",count:!1,childXform:new l}),sheetData:new r({tag:"sheetData",count:!1,empty:!0,childXform:new n({maxItems:z}),maxItems:Y}),autoFilter:new D,mergeCells:new r({tag:"mergeCells",count:!0,childXform:new v}),rowBreaks:new re,hyperlinks:new r({tag:"hyperlinks",count:!1,childXform:new a}),pageMargins:new A,dataValidations:new y,pageSetup:new w,headerFooter:new Z,printOptions:new I,picture:new V,drawing:new ie,sheetProtection:new S,tableParts:new r({tag:"tableParts",count:!0,childXform:new te}),conditionalFormatting:new W,extLst:new j}}prepare($,Y){Y.merges=new t,$.hyperlinks=Y.hyperlinks=[],$.comments=Y.comments=[],Y.formulae={},Y.siFormulae=0,this.map.cols.prepare($.cols,Y),this.map.sheetData.prepare($.rows,Y),this.map.conditionalFormatting.prepare($.conditionalFormattings,Y),$.mergeCells=Y.merges.mergeCells;const z=$.rels=[];function B(le){return`rId${le.length+1}`}if($.hyperlinks.forEach(le=>{const ge=B(z);le.rId=ge,z.push({Id:ge,Type:s.Hyperlink,Target:le.target,TargetMode:"External"})}),$.comments.length>0){const le={Id:B(z),Type:s.Comments,Target:`../comments${$.id}.xml`};z.push(le);const ge={Id:B(z),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${$.id}.vml`};z.push(ge),$.comments.forEach(Ie=>{Ie.refAddress=u.decodeAddress(Ie.ref)}),Y.commentRefs.push({commentName:`comments${$.id}`,vmlDrawing:`vmlDrawing${$.id}`})}const L=[];let G;$.media.forEach(le=>{if(le.type==="background"){const ge=B(z);G=Y.media[le.imageId],z.push({Id:ge,Type:s.Image,Target:`../media/${G.name}.${G.extension}`}),$.background={rId:ge},$.image=Y.media[le.imageId]}else if(le.type==="image"){let{drawing:ge}=$;G=Y.media[le.imageId],ge||(ge=$.drawing={rId:B(z),name:`drawing${++Y.drawingsCount}`,anchors:[],rels:[]},Y.drawings.push(ge),z.push({Id:ge.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ge.name}.xml`}));let Ie=this.preImageId===le.imageId?L[le.imageId]:L[ge.rels.length];Ie||(Ie=B(ge.rels),L[ge.rels.length]=Ie,ge.rels.push({Id:Ie,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${G.name}.${G.extension}`}));const Oe={picture:{rId:Ie},range:le.range};if(le.hyperlinks&&le.hyperlinks.hyperlink){const Ke=B(ge.rels);L[ge.rels.length]=Ke,Oe.picture.hyperlinks={tooltip:le.hyperlinks.tooltip,rId:Ke},ge.rels.push({Id:Ke,Type:s.Hyperlink,Target:le.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=le.imageId,ge.anchors.push(Oe)}}),$.tables.forEach(le=>{const ge=B(z);le.rId=ge,z.push({Id:ge,Type:s.Table,Target:`../tables/${le.target}`}),le.columns.forEach(Ie=>{const{style:Oe}=Ie;Oe&&(Ie.dxfId=Y.styles.addDxfStyle(Oe))})}),this.map.extLst.prepare($,Y)}render($,Y){$.openXml(h.StdDocAttributes),$.openNode("worksheet",F.WORKSHEET_ATTRIBUTES);const z=Y.properties?{defaultRowHeight:Y.properties.defaultRowHeight,dyDescent:Y.properties.dyDescent,outlineLevelCol:Y.properties.outlineLevelCol,outlineLevelRow:Y.properties.outlineLevelRow}:void 0;Y.properties&&Y.properties.defaultColWidth&&(z.defaultColWidth=Y.properties.defaultColWidth);const B={outlineProperties:Y.properties&&Y.properties.outlineProperties,tabColor:Y.properties&&Y.properties.tabColor,pageSetup:Y.pageSetup&&Y.pageSetup.fitToPage?{fitToPage:Y.pageSetup.fitToPage}:void 0},L=Y.pageSetup&&Y.pageSetup.margins,G={showRowColHeaders:Y.pageSetup&&Y.pageSetup.showRowColHeaders,showGridLines:Y.pageSetup&&Y.pageSetup.showGridLines,horizontalCentered:Y.pageSetup&&Y.pageSetup.horizontalCentered,verticalCentered:Y.pageSetup&&Y.pageSetup.verticalCentered},le=Y.sheetProtection;this.map.sheetPr.render($,B),this.map.dimension.render($,Y.dimensions),this.map.sheetViews.render($,Y.views),this.map.sheetFormatPr.render($,z),this.map.cols.render($,Y.cols),this.map.sheetData.render($,Y.rows),this.map.sheetProtection.render($,le),this.map.autoFilter.render($,Y.autoFilter),this.map.mergeCells.render($,Y.mergeCells),this.map.conditionalFormatting.render($,Y.conditionalFormattings),this.map.dataValidations.render($,Y.dataValidations),this.map.hyperlinks.render($,Y.hyperlinks),this.map.printOptions.render($,G),this.map.pageMargins.render($,L),this.map.pageSetup.render($,Y.pageSetup),this.map.headerFooter.render($,Y.headerFooter),this.map.rowBreaks.render($,Y.rowBreaks),this.map.drawing.render($,Y.drawing),this.map.picture.render($,Y.background),this.map.tableParts.render($,Y.tables),this.map.extLst.render($,Y),Y.rels&&Y.rels.forEach(ge=>{ge.Type===s.VmlDrawing&&$.leafNode("legacyDrawing",{"r:id":ge.Id})}),$.closeNode()}parseOpen($){return this.parser?(this.parser.parseOpen($),!0):$.name==="worksheet"?(f.each(this.map,Y=>{Y.reset()}),!0):(this.map[$.name]&&!this.ignoreNodes.includes($.name)&&(this.parser=this.map[$.name],this.parser.parseOpen($)),!0)}parseText($){this.parser&&this.parser.parseText($)}parseClose($){if(this.parser)return this.parser.parseClose($)||(this.parser=void 0),!0;switch($){case"worksheet":{const Y=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(Y.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(Y.outlineProperties=this.map.sheetPr.model.outlineProperties);const z={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},B=Object.assign(z,this.map.pageSetup.model,this.map.printOptions.model),L=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:Y,views:this.map.sheetViews.model,pageSetup:B,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:L},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile($,Y){const z=($.relationships||[]).reduce((L,G)=>{if(L[G.Id]=G,G.Type===s.Comments&&($.comments=Y.comments[G.Target].comments),G.Type===s.VmlDrawing&&$.comments&&$.comments.length){const le=Y.vmlDrawings[G.Target].comments;$.comments.forEach((ge,Ie)=>{ge.note=Object.assign({},ge.note,le[Ie])})}return L},{});if(Y.commentsMap=($.comments||[]).reduce((L,G)=>(G.ref&&(L[G.ref]=G),L),{}),Y.hyperlinkMap=($.hyperlinks||[]).reduce((L,G)=>(G.rId&&(L[G.address]=z[G.rId].Target),L),{}),Y.formulae={},$.rows=$.rows&&$.rows.filter(Boolean)||[],$.rows.forEach(L=>{L.cells=L.cells&&L.cells.filter(Boolean)||[]}),this.map.cols.reconcile($.cols,Y),this.map.sheetData.reconcile($.rows,Y),this.map.conditionalFormatting.reconcile($.conditionalFormattings,Y),$.media=[],$.drawing){const G=z[$.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(G){const le=G[1];Y.drawings[le].anchors.forEach(Ie=>{if(Ie.medium){const Oe={type:"image",imageId:Ie.medium.index,range:Ie.range,hyperlinks:Ie.picture.hyperlinks};$.media.push(Oe)}})}}const B=$.background&&z[$.background.rId];if(B){const L=B.Target.split("/media/")[1],G=Y.mediaIndex&&Y.mediaIndex[L];G!==void 0&&$.media.push({type:"background",imageId:G})}$.tables=($.tables||[]).map(L=>{const G=z[L.rId];return Y.tables[G.Target]}),delete $.relationships,delete $.hyperlinks,delete $.comments}}F.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},m.exports=F},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,m,g){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,t){t&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],117:[function(e,m,g){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(t){try{return Number.isNaN(t.getTime())?"":t.toISOString()}catch{return""}},this._parse=s.parse||function(t){return new Date(t)}}render(s,t){t&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(t)):s.writeText(this._format(t)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}m.exports=u},{"../base-xform":32}],118:[function(e,m,g){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,t){(t||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,t):s.writeText(t),s.closeNode())}parseOpen(s){return s.name===this.tag?(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0):!1}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}m.exports=u},{"../base-xform":32}],119:[function(e,m,g){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,t){t!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,t):s.writeText(t),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}m.exports=u},{"../base-xform":32}],120:[function(e,m,g){const f=e("./base-xform"),u=e("../../utils/xml-stream");function h(t,i){t.openNode(i.tag,i.$),i.c&&i.c.forEach(r=>{h(t,r)}),i.t&&t.writeText(i.t),t.closeNode()}class s extends f{constructor(i){super(),this._model=i}render(i){if(!this._xml){const r=new u;h(r,this._model),this._xml=r.xml}i.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(i){switch(i){case this._model.tag:return!1;default:return!0}}}m.exports=s},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,m,g){const f=e("./text-xform"),u=e("./rich-text-xform"),h=e("../base-xform");class s extends h{constructor(){super(),this.map={r:new u,t:new f}}get tag(){return"rPh"}render(i,r){if(i.openNode(this.tag,{sb:r.sb||0,eb:r.eb||0}),r&&r.hasOwnProperty("richText")&&r.richText){const{r:n}=this.map;r.richText.forEach(l=>{n.render(i,l)})}else r&&this.map.t.render(i,r.text);i.closeNode()}parseOpen(i){const{name:r}=i;return this.parser?(this.parser.parseOpen(i),!0):r===this.tag?(this.model={sb:parseInt(i.attributes.sb,10),eb:parseInt(i.attributes.eb,10)},!0):(this.parser=this.map[r],this.parser?(this.parser.parseOpen(i),!0):!1)}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){switch(i){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model.text=this.parser.model;break}this.parser=void 0}return!0}switch(i){case this.tag:return!1;default:return!0}}}m.exports=s},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,m,g){const f=e("./text-xform"),u=e("../style/font-xform"),h=e("../base-xform");class s extends h{constructor(i){super(),this.model=i}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new f)}get fontXform(){return this._fontXform||(this._fontXform=new u(s.FONT_OPTIONS))}render(i,r){r=r||this.model,i.openNode("r"),r.font&&this.fontXform.render(i,r.font),this.textXform.render(i,r.text),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(i),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){switch(i){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},m.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,m,g){const f=e("./text-xform"),u=e("./rich-text-xform"),h=e("./phonetic-text-xform"),s=e("../base-xform");class t extends s{constructor(r){super(),this.model=r,this.map={r:new u,t:new f,rPh:new h}}get tag(){return"si"}render(r,n){r.openNode(this.tag),n&&n.hasOwnProperty("richText")&&n.richText?n.richText.length?n.richText.forEach(l=>{this.map.r.render(r,l)}):this.map.t.render(r,""):n!=null&&this.map.t.render(r,n),r.closeNode()}parseOpen(r){const{name:n}=r;return this.parser?(this.parser.parseOpen(r),!0):n===this.tag?(this.model={},!0):(this.parser=this.map[n],this.parser?(this.parser.parseOpen(r),!0):!1)}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)){switch(r){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model=this.parser.model;break}this.parser=void 0}return!0}switch(r){case this.tag:return!1;default:return!0}}}m.exports=t},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),h=e("./shared-string-xform");class s extends u{constructor(i){super(),this.model=i||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new h)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(i){return this.model.values[i]}add(i){return i.richText?this.addRichText(i):this.addText(i)}addText(i){let r=this.hash[i];return r===void 0&&(r=this.hash[i]=this.model.values.length,this.model.values.push(i)),this.model.count++,r}addRichText(i){const r=this.sharedStringXform.toXml(i);let n=this.rich[r];return n===void 0&&(n=this.rich[r]=this.model.values.length,this.model.values.push(i)),this.model.count++,n}render(i,r){r=r||this._values,i.openXml(f.StdDocAttributes),i.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:r.count,uniqueCount:r.values.length});const n=this.sharedStringXform;r.values.forEach(l=>{n.render(i,l)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(i),!0;default:throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(i)}`)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(i){case"sst":return!1;default:throw new Error(`Unexpected xml node in parseClose: ${i}`)}}}m.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"t"}render(s,t){s.openNode("t"),/^\s|\n|\s$/.test(t)&&s.addAttribute("xml:space","preserve"),s.writeText(t),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,t)=>String.fromCharCode(parseInt(t,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],126:[function(e,m,g){const f=e("../../../doc/enums"),u=e("../../../utils/utils"),h=e("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((r,n)=>(r[n]=!0,r),{}),horizontal(r){return this.horizontalValues[r]?r:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((r,n)=>(r[n]=!0,r),{}),vertical(r){return r==="middle"?"center":this.verticalValues[r]?r:void 0},wrapText(r){return r?!0:void 0},shrinkToFit(r){return r?!0:void 0},textRotation(r){switch(r){case"vertical":return r;default:return r=u.validInt(r),r>=-90&&r<=90?r:void 0}},indent(r){return r=u.validInt(r),Math.max(0,r)},readingOrder(r){switch(r){case"ltr":return f.ReadingOrder.LeftToRight;case"rtl":return f.ReadingOrder.RightToLeft;default:return}}},t={toXml(r){if(r=s.textRotation(r),r){if(r==="vertical")return 255;const n=Math.round(r);if(n>=0&&n<=90)return n;if(n<0&&n>=-90)return 90-n}},toModel(r){const n=u.validInt(r);if(n!==void 0){if(n===255)return"vertical";if(n>=0&&n<=90)return n;if(n>90&&n<=180)return 90-n}}};class i extends h{get tag(){return"alignment"}render(n,l){n.addRollback(),n.openNode("alignment");let d=!1;function a(v,y){y&&(n.addAttribute(v,y),d=!0)}a("horizontal",s.horizontal(l.horizontal)),a("vertical",s.vertical(l.vertical)),a("wrapText",s.wrapText(l.wrapText)?"1":!1),a("shrinkToFit",s.shrinkToFit(l.shrinkToFit)?"1":!1),a("indent",s.indent(l.indent)),a("textRotation",t.toXml(l.textRotation)),a("readingOrder",s.readingOrder(l.readingOrder)),n.closeNode(),d?n.commit():n.rollback()}parseOpen(n){const l={};let d=!1;function a(v,y,p){v&&(l[y]=p,d=!0)}a(n.attributes.horizontal,"horizontal",n.attributes.horizontal),a(n.attributes.vertical,"vertical",n.attributes.vertical==="center"?"middle":n.attributes.vertical),a(n.attributes.wrapText,"wrapText",u.parseBoolean(n.attributes.wrapText)),a(n.attributes.shrinkToFit,"shrinkToFit",u.parseBoolean(n.attributes.shrinkToFit)),a(n.attributes.indent,"indent",parseInt(n.attributes.indent,10)),a(n.attributes.textRotation,"textRotation",t.toModel(n.attributes.textRotation)),a(n.attributes.readingOrder,"readingOrder",n.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?l:null}parseText(){}parseClose(){return!1}}m.exports=i},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,m,g){const f=e("../base-xform"),u=e("../../../utils/utils"),h=e("./color-xform");class s extends f{constructor(r){super(),this.name=r,this.map={color:new h}}get tag(){return this.name}render(r,n,l){const d=n&&n.color||l||this.defaultColor;r.openNode(this.name),n&&n.style&&(r.addAttribute("style",n.style),d&&this.map.color.render(r,d)),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.name:{const{style:n}=r.attributes;return n?this.model={style:n}:this.model=void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(r),!0;default:return!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(r===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(r){return s.validStyleValues[r]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((i,r)=>(i[r]=!0,i),{});class t extends f{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(r,n){const{color:l}=n;r.openNode("border"),n.diagonal&&n.diagonal.style&&(n.diagonal.up&&r.addAttribute("diagonalUp","1"),n.diagonal.down&&r.addAttribute("diagonalDown","1"));function d(a,v){a&&!a.color&&n.color&&(a={...a,color:n.color}),v.render(r,a,l)}d(n.left,this.map.left),d(n.right,this.map.right),d(n.top,this.map.top),d(n.bottom,this.map.bottom),d(n.diagonal,this.map.diagonal),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"border":return this.reset(),this.diagonalUp=u.parseBoolean(r.attributes.diagonalUp),this.diagonalDown=u.parseBoolean(r.attributes.diagonalDown),!0;default:return this.parser=this.map[r.name],this.parser?(this.parser.parseOpen(r),!0):!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;if(r==="border"){const n=this.model={},l=function(d,a,v){a&&(v&&Object.assign(a,v),n[d]=a)};l("left",this.map.left.model),l("right",this.map.right.model),l("top",this.map.top.model),l("bottom",this.map.bottom.model),l("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}m.exports=t},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,m,g){const f=e("../base-xform");class u extends f{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,t){return t?(s.openNode(this.name),t.argb?s.addAttribute("rgb",t.argb):t.theme!==void 0?(s.addAttribute("theme",t.theme),t.tint!==void 0&&s.addAttribute("tint",t.tint)):t.indexed!==void 0?s.addAttribute("indexed",t.indexed):s.addAttribute("auto","1"),s.closeNode(),!0):!1}parseOpen(s){return s.name===this.name?(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],129:[function(e,m,g){const f=e("../base-xform"),u=e("./alignment-xform"),h=e("./border-xform"),s=e("./fill-xform"),t=e("./font-xform"),i=e("./numfmt-xform"),r=e("./protection-xform");class n extends f{constructor(){super(),this.map={alignment:new u,border:new h,fill:new s,font:new t,numFmt:new i,protection:new r}}get tag(){return"dxf"}render(d,a){if(d.openNode(this.tag),a.font&&this.map.font.render(d,a.font),a.numFmt&&a.numFmtId){const v={id:a.numFmtId,formatCode:a.numFmt};this.map.numFmt.render(d,v)}a.fill&&this.map.fill.render(d,a.fill),a.alignment&&this.map.alignment.render(d,a.alignment),a.border&&this.map.border.render(d,a.border),a.protection&&this.map.protection.render(d,a.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d===this.tag?(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1):!0}}m.exports=n},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,m,g){const f=e("../base-xform"),u=e("./color-xform");class h extends f{constructor(){super(),this.map={color:new u}}get tag(){return"stop"}render(n,l){n.openNode("stop"),n.addAttribute("position",l.position),this.map.color.render(n,l.color),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"stop":return this.model={position:parseFloat(n.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(n),!0;default:return!1}}parseText(){}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.model.color=this.parser.model,this.parser=void 0),!0):!1}}class s extends f{constructor(){super(),this.map={fgColor:new u("fgColor"),bgColor:new u("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(n,l){n.openNode("patternFill"),n.addAttribute("patternType",l.pattern),l.fgColor&&this.map.fgColor.render(n,l.fgColor),l.bgColor&&this.map.bgColor.render(n,l.bgColor),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"patternFill":return this.model={type:"pattern",pattern:n.attributes.patternType},!0;default:return this.parser=this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser.model&&(this.model[n]=this.parser.model),this.parser=void 0),!0):!1}}class t extends f{constructor(){super(),this.map={stop:new h}}get name(){return"gradient"}get tag(){return"gradientFill"}render(n,l){switch(n.openNode("gradientFill"),l.gradient){case"angle":n.addAttribute("degree",l.degree);break;case"path":n.addAttribute("type","path"),l.center.left&&(n.addAttribute("left",l.center.left),l.center.right===void 0&&n.addAttribute("right",l.center.left)),l.center.right&&n.addAttribute("right",l.center.right),l.center.top&&(n.addAttribute("top",l.center.top),l.center.bottom===void 0&&n.addAttribute("bottom",l.center.top)),l.center.bottom&&n.addAttribute("bottom",l.center.bottom);break}const d=this.map.stop;l.stops.forEach(a=>{d.render(n,a)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"gradientFill":{const l=this.model={stops:[]};return n.attributes.degree?(l.gradient="angle",l.degree=parseInt(n.attributes.degree,10)):n.attributes.type==="path"&&(l.gradient="path",l.center={left:n.attributes.left?parseFloat(n.attributes.left):0,top:n.attributes.top?parseFloat(n.attributes.top):0},n.attributes.right!==n.attributes.left&&(l.center.right=n.attributes.right?parseFloat(n.attributes.right):0),n.attributes.bottom!==n.attributes.top&&(l.center.bottom=n.attributes.bottom?parseFloat(n.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0):!1}}class i extends f{constructor(){super(),this.map={patternFill:new s,gradientFill:new t}}get tag(){return"fill"}render(n,l){switch(n.addRollback(),n.openNode("fill"),l.type){case"pattern":this.map.patternFill.render(n,l);break;case"gradient":this.map.gradientFill.render(n,l);break;default:n.rollback();return}n.closeNode(),n.commit()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"fill":return this.model={},!0;default:return this.parser=this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0):!1}validStyle(n){return i.validPatternValues[n]}}i.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((r,n)=>(r[n]=!0,r),{}),i.StopXform=h,i.PatternFillXform=s,i.GradientFillXform=t,m.exports=i},{"../base-xform":32,"./color-xform":128}],131:[function(e,m,g){const f=e("./color-xform"),u=e("../simple/boolean-xform"),h=e("../simple/integer-xform"),s=e("../simple/string-xform"),t=e("./underline-xform"),i=e("../../../utils/under-dash"),r=e("../base-xform");class n extends r{constructor(d){super(),this.options=d||n.OPTIONS,this.map={b:{prop:"bold",xform:new u({tag:"b",attr:"val"})},i:{prop:"italic",xform:new u({tag:"i",attr:"val"})},u:{prop:"underline",xform:new t},charset:{prop:"charset",xform:new h({tag:"charset",attr:"val"})},color:{prop:"color",xform:new f},condense:{prop:"condense",xform:new u({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new u({tag:"extend",attr:"val"})},family:{prop:"family",xform:new h({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new u({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new u({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new u({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new h({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(d,a){const{map:v}=this;d.openNode(this.options.tagName),i.each(this.map,(y,p)=>{v[p].xform.render(d,a[y.prop])}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;if(this.map[d.name])return this.parser=this.map[d.name].xform,this.parser.parseOpen(d);switch(d.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser&&!this.parser.parseClose(d)){const a=this.map[d];return this.parser.model&&(this.model[a.prop]=this.parser.model),this.parser=void 0,!0}switch(d){case this.options.tagName:return!1;default:return!0}}}n.OPTIONS={tagName:"font",fontNameTag:"name"},m.exports=n},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,m,g){const f=e("../../../utils/under-dash"),u=e("../../defaultnumformats"),h=e("../base-xform");function s(){const r={};return f.each(u,(n,l)=>{n.f&&(r[n.f]=parseInt(l,10))}),r}const t=s();class i extends h{constructor(n,l){super(),this.id=n,this.formatCode=l}get tag(){return"numFmt"}render(n,l){n.leafNode("numFmt",{numFmtId:l.id,formatCode:l.formatCode})}parseOpen(n){switch(n.name){case"numFmt":return this.model={id:parseInt(n.attributes.numFmtId,10),formatCode:n.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}i.getDefaultFmtId=function(n){return t[n]},i.getDefaultFmtCode=function(n){return u[n]&&u[n].f},m.exports=i},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,m,g){const f=e("../base-xform"),u={boolean(s,t){return s===void 0?t:s}};class h extends f{get tag(){return"protection"}render(t,i){t.addRollback(),t.openNode("protection");let r=!1;function n(l,d){d!==void 0&&(t.addAttribute(l,d),r=!0)}n("locked",u.boolean(i.locked,!0)?void 0:"0"),n("hidden",u.boolean(i.hidden,!1)?"1":void 0),t.closeNode(),r?t.commit():t.rollback()}parseOpen(t){const i={locked:t.attributes.locked!=="0",hidden:t.attributes.hidden==="1"},r=!i.locked||i.hidden;this.model=r?i:null}parseText(){}parseClose(){return!1}}m.exports=h},{"../base-xform":32}],134:[function(e,m,g){const f=e("../base-xform"),u=e("./alignment-xform"),h=e("./protection-xform");class s extends f{constructor(i){super(),this.xfId=!!(i&&i.xfId),this.map={alignment:new u,protection:new h}}get tag(){return"xf"}render(i,r){i.openNode("xf",{numFmtId:r.numFmtId||0,fontId:r.fontId||0,fillId:r.fillId||0,borderId:r.borderId||0}),this.xfId&&i.addAttribute("xfId",r.xfId||0),r.numFmtId&&i.addAttribute("applyNumberFormat","1"),r.fontId&&i.addAttribute("applyFont","1"),r.fillId&&i.addAttribute("applyFill","1"),r.borderId&&i.addAttribute("applyBorder","1"),r.alignment&&i.addAttribute("applyAlignment","1"),r.protection&&i.addAttribute("applyProtection","1"),r.alignment&&this.map.alignment.render(i,r.alignment),r.protection&&this.map.protection.render(i,r.protection),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"xf":return this.model={numFmtId:parseInt(i.attributes.numFmtId,10),fontId:parseInt(i.attributes.fontId,10),fillId:parseInt(i.attributes.fillId,10),borderId:parseInt(i.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(i.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(i),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):i!=="xf"}}m.exports=s},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,m,g){const f=e("../../../doc/enums"),u=e("../../../utils/xml-stream"),h=e("../base-xform"),s=e("../static-xform"),t=e("../list-xform"),i=e("./font-xform"),r=e("./fill-xform"),n=e("./border-xform"),l=e("./numfmt-xform"),d=e("./style-xform"),a=e("./dxf-xform"),v=164;class y extends h{constructor(T){super(),this.map={numFmts:new t({tag:"numFmts",count:!0,childXform:new l}),fonts:new t({tag:"fonts",count:!0,childXform:new i,$:{"x14ac:knownFonts":1}}),fills:new t({tag:"fills",count:!0,childXform:new r}),borders:new t({tag:"borders",count:!0,childXform:new n}),cellStyleXfs:new t({tag:"cellStyleXfs",count:!0,childXform:new d}),cellXfs:new t({tag:"cellXfs",count:!0,childXform:new d({xfId:!0})}),dxfs:new t({tag:"dxfs",always:!0,count:!0,childXform:new a}),numFmt:new l,font:new i,fill:new r,border:new n,style:new d({xfId:!0}),cellStyles:y.STATIC_XFORMS.cellStyles,tableStyles:y.STATIC_XFORMS.tableStyles,extLst:y.STATIC_XFORMS.extLst},T&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(T,S){S=S||this.model,T.openXml(u.StdDocAttributes),T.openNode("styleSheet",y.STYLESHEET_ATTRIBUTES),this.index?(S.numFmts&&S.numFmts.length&&(T.openNode("numFmts",{count:S.numFmts.length}),S.numFmts.forEach(A=>{T.writeXml(A)}),T.closeNode()),S.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),T.openNode("fonts",{count:S.fonts.length,"x14ac:knownFonts":1}),S.fonts.forEach(A=>{T.writeXml(A)}),T.closeNode(),T.openNode("fills",{count:S.fills.length}),S.fills.forEach(A=>{T.writeXml(A)}),T.closeNode(),T.openNode("borders",{count:S.borders.length}),S.borders.forEach(A=>{T.writeXml(A)}),T.closeNode(),this.map.cellStyleXfs.render(T,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),T.openNode("cellXfs",{count:S.styles.length}),S.styles.forEach(A=>{T.writeXml(A)}),T.closeNode()):(this.map.numFmts.render(T,S.numFmts),this.map.fonts.render(T,S.fonts),this.map.fills.render(T,S.fills),this.map.borders.render(T,S.borders),this.map.cellStyleXfs.render(T,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(T,S.styles)),y.STATIC_XFORMS.cellStyles.render(T),this.map.dxfs.render(T,S.dxfs),y.STATIC_XFORMS.tableStyles.render(T),y.STATIC_XFORMS.extLst.render(T),T.closeNode()}parseOpen(T){if(this.parser)return this.parser.parseOpen(T),!0;switch(T.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[T.name],this.parser&&this.parser.parseOpen(T),!0}}parseText(T){this.parser&&this.parser.parseText(T)}parseClose(T){if(this.parser)return this.parser.parseClose(T)||(this.parser=void 0),!0;switch(T){case"styleSheet":{this.model={};const S=(A,w)=>{w.model&&w.model.length&&(this.model[A]=w.model)};if(S("numFmts",this.map.numFmts),S("fonts",this.map.fonts),S("fills",this.map.fills),S("borders",this.map.borders),S("styles",this.map.cellXfs),S("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const A=this.index.numFmt;this.model.numFmts.forEach(w=>{A[w.id]=w.formatCode})}return!1}default:return!0}}addStyleModel(T,S){if(!T)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(T))return this.weakMap.get(T);const A={};if(S=S||f.ValueType.Number,T.numFmt)A.numFmtId=this._addNumFmtStr(T.numFmt);else switch(S){case f.ValueType.Number:A.numFmtId=this._addNumFmtStr("General");break;case f.ValueType.Date:A.numFmtId=this._addNumFmtStr("mm-dd-yy");break}T.font&&(A.fontId=this._addFont(T.font)),T.border&&(A.borderId=this._addBorder(T.border)),T.fill&&(A.fillId=this._addFill(T.fill)),T.alignment&&(A.alignment=T.alignment),T.protection&&(A.protection=T.protection);const w=this._addStyle(A);return this.weakMap&&this.weakMap.set(T,w),w}getStyleModel(T){const S=this.model.styles[T];if(!S)return null;let A=this.index.model[T];if(A)return A;if(A=this.index.model[T]={},S.numFmtId){const I=this.index.numFmt[S.numFmtId]||l.getDefaultFmtCode(S.numFmtId);I&&(A.numFmt=I)}function w(I,D,V){if(V||V===0){const ie=D[V];ie&&(A[I]=ie)}}return w("font",this.model.fonts,S.fontId),w("border",this.model.borders,S.borderId),w("fill",this.model.fills,S.fillId),S.alignment&&(A.alignment=S.alignment),S.protection&&(A.protection=S.protection),A}addDxfStyle(T){return T.numFmt&&(T.numFmtId=this._addNumFmtStr(T.numFmt)),this.model.dxfs.push(T),this.model.dxfs.length-1}getDxfStyle(T){return this.model.dxfs[T]}_addStyle(T){const S=this.map.style.toXml(T);let A=this.index.style[S];return A===void 0&&(A=this.index.style[S]=this.model.styles.length,this.model.styles.push(S)),A}_addNumFmtStr(T){let S=l.getDefaultFmtId(T);if(S!==void 0||(S=this.index.numFmt[T],S!==void 0))return S;S=this.index.numFmt[T]=v+this.model.numFmts.length;const A=this.map.numFmt.toXml({id:S,formatCode:T});return this.model.numFmts.push(A),S}_addFont(T){const S=this.map.font.toXml(T);let A=this.index.font[S];return A===void 0&&(A=this.index.font[S]=this.model.fonts.length,this.model.fonts.push(S)),A}_addBorder(T){const S=this.map.border.toXml(T);let A=this.index.border[S];return A===void 0&&(A=this.index.border[S]=this.model.borders.length,this.model.borders.push(S)),A}_addFill(T){const S=this.map.fill.toXml(T);let A=this.index.fill[S];return A===void 0&&(A=this.index.fill[S]=this.model.fills.length,this.model.fills.push(S)),A}}y.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},y.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})};class p extends y{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(T){return T.autodrain(),Promise.resolve()}addStyleModel(T,S){switch(S){case f.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const T={numFmtId:l.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(T)}return this._dateStyleId}getStyleModel(){return{}}}y.Mock=p,m.exports=y},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,m,g){const f=e("../base-xform");class u extends f{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,t){if(t=t||this.model,t===!0)s.leafNode("u");else{const i=u.Attributes[t];i&&s.leafNode("u",i)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}u.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},m.exports=u},{"../base-xform":32}],137:[function(e,m,g){const f=e("../base-xform"),u=e("./filter-column-xform");class h extends f{constructor(){super(),this.map={filterColumn:new u}}get tag(){return"autoFilter"}prepare(t){t.columns.forEach((i,r)=>{this.map.filterColumn.prepare(i,{index:r})})}render(t,i){return t.openNode(this.tag,{ref:i.autoFilterRef}),i.columns.forEach(r=>{this.map.filterColumn.render(t,r)}),t.closeNode(),!0}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:return this.model={autoFilterRef:t.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[t.name],this.parser)return this.parseOpen(t),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(t)}`)}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(t){case this.tag:return!1;default:throw new Error(`Unexpected xml node in parseClose: ${t}`)}}}m.exports=h},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"customFilter"}render(s,t){s.leafNode(this.tag,{val:t.val,operator:t.operator})}parseOpen(s){return s.name===this.tag?(this.model={val:s.attributes.val,operator:s.attributes.operator},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],139:[function(e,m,g){const f=e("../base-xform"),u=e("../list-xform"),h=e("./custom-filter-xform"),s=e("./filter-xform");class t extends f{constructor(){super(),this.map={customFilters:new u({tag:"customFilters",count:!1,empty:!0,childXform:new h}),filters:new u({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(r,n){r.colId=n.index.toString()}render(r,n){return n.customFilters?(r.openNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),this.map.customFilters.render(r,n.customFilters),r.closeNode(),!0):(r.leafNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),!0)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;const{attributes:n}=r;switch(r.name){case this.tag:return this.model={filterButton:n.hiddenButton==="0"},!0;default:if(this.parser=this.map[r.name],this.parser)return this.parseOpen(r),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(r)}`)}}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}m.exports=t},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"filter"}render(s,t){s.leafNode(this.tag,{val:t.val})}parseOpen(s){return s.name===this.tag?(this.model={val:s.attributes.val},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],141:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"tableColumn"}prepare(s,t){s.id=t.index+1}render(s,t){return s.leafNode(this.tag,{id:t.id.toString(),name:t.name,totalsRowLabel:t.totalsRowLabel,totalsRowFunction:t.totalsRowFunction,dxfId:t.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:t}=s;return this.model={name:t.name,totalsRowLabel:t.totalsRowLabel,totalsRowFunction:t.totalsRowFunction,dxfId:t.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],142:[function(e,m,g){const f=e("../base-xform");class u extends f{get tag(){return"tableStyleInfo"}render(s,t){return s.leafNode(this.tag,{name:t.theme?t.theme:void 0,showFirstColumn:t.showFirstColumn?"1":"0",showLastColumn:t.showLastColumn?"1":"0",showRowStripes:t.showRowStripes?"1":"0",showColumnStripes:t.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:t}=s;return this.model={theme:t.name?t.name:null,showFirstColumn:t.showFirstColumn==="1",showLastColumn:t.showLastColumn==="1",showRowStripes:t.showRowStripes==="1",showColumnStripes:t.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],143:[function(e,m,g){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),h=e("../list-xform"),s=e("./auto-filter-xform"),t=e("./table-column-xform"),i=e("./table-style-info-xform");class r extends u{constructor(){super(),this.map={autoFilter:new s,tableColumns:new h({tag:"tableColumns",count:!0,empty:!0,childXform:new t}),tableStyleInfo:new i}}prepare(l,d){this.map.autoFilter.prepare(l),this.map.tableColumns.prepare(l.columns,d)}get tag(){return"table"}render(l,d){l.openXml(f.StdDocAttributes),l.openNode(this.tag,{...r.TABLE_ATTRIBUTES,id:d.id,name:d.name,displayName:d.displayName||d.name,ref:d.tableRef,totalsRowCount:d.totalsRow?"1":void 0,totalsRowShown:d.totalsRow?void 0:"1",headerRowCount:d.headerRow?"1":"0"}),this.map.autoFilter.render(l,d),this.map.tableColumns.render(l,d.columns),this.map.tableStyleInfo.render(l,d.style),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{name:d,attributes:a}=l;switch(d){case this.tag:this.reset(),this.model={name:a.name,displayName:a.displayName||a.name,tableRef:a.ref,totalsRow:a.totalsRowCount==="1",headerRow:a.headerRowCount==="1"};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l);break}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((d,a)=>{this.model.columns[a].filterButton=d.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(l,d){l.columns.forEach(a=>{a.dxfId!==void 0&&(a.style=d.styles.getDxfStyle(a.dxfId))})}}r.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},m.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,m,g){(function(f,u){(function(){const h=e("fs"),s=e("jszip"),{PassThrough:t}=e("readable-stream"),i=e("../utils/zip-stream"),r=e("../utils/stream-buf"),n=e("../utils/utils"),l=e("../utils/xml-stream"),{bufferToString:d}=e("../utils/browser-buffer-decode"),a=e("./xform/style/styles-xform"),v=e("./xform/core/core-xform"),y=e("./xform/strings/shared-strings-xform"),p=e("./xform/core/relationships-xform"),E=e("./xform/core/content-types-xform"),T=e("./xform/core/app-xform"),S=e("./xform/book/workbook-xform"),A=e("./xform/sheet/worksheet-xform"),w=e("./xform/drawing/drawing-xform"),I=e("./xform/table/table-xform"),D=e("./xform/comment/comments-xform"),V=e("./xform/comment/vml-notes-xform"),ie=e("./xml/theme1");function te(Z,W){return new Promise((j,O)=>{h.readFile(Z,W,(C,F)=>{C?O(C):j(F)})})}class re{constructor(W){this.workbook=W}async readFile(W,j){if(!await n.fs.exists(W))throw new Error(`File not found: ${W}`);const O=h.createReadStream(W);try{const C=await this.read(O,j);return O.close(),C}catch(C){throw O.close(),C}}parseRels(W){return new p().parseStream(W)}parseWorkbook(W){return new S().parseStream(W)}parseSharedStrings(W){return new y().parseStream(W)}reconcile(W,j){const O=new S,C=new A(j),F=new w,H=new I;O.reconcile(W);const $={media:W.media,mediaIndex:W.mediaIndex};Object.keys(W.drawings).forEach(B=>{const L=W.drawings[B],G=W.drawingRels[B];G&&($.rels=G.reduce((le,ge)=>(le[ge.Id]=ge,le),{}),(L.anchors||[]).forEach(le=>{const ge=le.picture&&le.picture.hyperlinks;ge&&$.rels[ge.rId]&&(ge.hyperlink=$.rels[ge.rId].Target,delete ge.rId)}),F.reconcile(L,$))});const Y={styles:W.styles};Object.values(W.tables).forEach(B=>{H.reconcile(B,Y)});const z={styles:W.styles,sharedStrings:W.sharedStrings,media:W.media,mediaIndex:W.mediaIndex,date1904:W.properties&&W.properties.date1904,drawings:W.drawings,comments:W.comments,tables:W.tables,vmlDrawings:W.vmlDrawings};W.worksheets.forEach(B=>{B.relationships=W.worksheetRels[B.sheetNo],C.reconcile(B,z)}),delete W.worksheetHash,delete W.worksheetRels,delete W.globalRels,delete W.sharedStrings,delete W.workbookRels,delete W.sheetDefs,delete W.styles,delete W.mediaIndex,delete W.drawings,delete W.drawingRels,delete W.vmlDrawings}async _processWorksheetEntry(W,j,O,C,F){const $=await new A(C).parseStream(W);$.sheetNo=O,j.worksheetHash[F]=$,j.worksheets.push($)}async _processCommentEntry(W,j,O){const F=await new D().parseStream(W);j.comments[`../${O}.xml`]=F}async _processTableEntry(W,j,O){const F=await new I().parseStream(W);j.tables[`../tables/${O}.xml`]=F}async _processWorksheetRelsEntry(W,j,O){const F=await new p().parseStream(W);j.worksheetRels[O]=F}async _processMediaEntry(W,j,O){const C=O.lastIndexOf(".");if(C>=1){const F=O.substr(C+1),H=O.substr(0,C);await new Promise(($,Y)=>{const z=new r;z.on("finish",()=>{j.mediaIndex[O]=j.media.length,j.mediaIndex[H]=j.media.length;const B={type:"image",name:H,extension:F,buffer:z.toBuffer()};j.media.push(B),$()}),W.on("error",B=>{Y(B)}),W.pipe(z)})}}async _processDrawingEntry(W,j,O){const F=await new w().parseStream(W);j.drawings[O]=F}async _processDrawingRelsEntry(W,j,O){const F=await new p().parseStream(W);j.drawingRels[O]=F}async _processVmlDrawingEntry(W,j,O){const F=await new V().parseStream(W);j.vmlDrawings[`../drawings/${O}.vml`]=F}async _processThemeEntry(W,j,O){await new Promise((C,F)=>{const H=new r;W.on("error",F),H.on("error",F),H.on("finish",()=>{j.themes[O]=H.read().toString(),C()}),W.pipe(H)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(W,j){!W[Symbol.asyncIterator]&&W.pipe&&(W=W.pipe(new t));const O=[];for await(const C of W)O.push(C);return this.load(u.concat(O),j)}async load(W,j){let O;j&&j.base64?O=u.from(W.toString(),"base64"):O=W;const C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},F=await s.loadAsync(O);for(const H of Object.values(F.files))if(!H.dir){let $=H.name;$[0]==="/"&&($=$.substr(1));let Y;if($.match(/xl\/media\//)||$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))Y=new t,Y.write(await H.async("nodebuffer"));else{Y=new t({writableObjectMode:!0,readableObjectMode:!0});let z;f.browser?z=d(await H.async("nodebuffer")):z=await H.async("string");const B=16*1024;for(let L=0;L<z.length;L+=B)Y.write(z.substring(L,L+B))}switch(Y.end(),$){case"_rels/.rels":C.globalRels=await this.parseRels(Y);break;case"xl/workbook.xml":{const z=await this.parseWorkbook(Y);C.sheets=z.sheets,C.definedNames=z.definedNames,C.views=z.views,C.properties=z.properties,C.calcProperties=z.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=await this.parseRels(Y);break;case"xl/sharedStrings.xml":C.sharedStrings=new y,await C.sharedStrings.parseStream(Y);break;case"xl/styles.xml":C.styles=new a,await C.styles.parseStream(Y);break;case"docProps/app.xml":{const B=await new T().parseStream(Y);C.company=B.company,C.manager=B.manager;break}case"docProps/core.xml":{const B=await new v().parseStream(Y);Object.assign(C,B);break}default:{let z=$.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(z){await this._processWorksheetEntry(Y,C,z[1],j,$);break}if(z=$.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),z){await this._processWorksheetRelsEntry(Y,C,z[1]);break}if(z=$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),z){await this._processThemeEntry(Y,C,z[1]);break}if(z=$.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),z){await this._processMediaEntry(Y,C,z[1]);break}if(z=$.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),z){await this._processDrawingEntry(Y,C,z[1]);break}if(z=$.match(/xl\/(comments\d+)[.]xml/),z){await this._processCommentEntry(Y,C,z[1]);break}if(z=$.match(/xl\/tables\/(table\d+)[.]xml/),z){await this._processTableEntry(Y,C,z[1]);break}if(z=$.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),z){await this._processDrawingRelsEntry(Y,C,z[1]);break}if(z=$.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),z){await this._processVmlDrawingEntry(Y,C,z[1]);break}}}}return this.reconcile(C,j),this.workbook.model=C,this.workbook}async addMedia(W,j){await Promise.all(j.media.map(async O=>{if(O.type==="image"){const C=`xl/media/${O.name}.${O.extension}`;if(O.filename){const F=await te(O.filename);return W.append(F,{name:C})}if(O.buffer)return W.append(O.buffer,{name:C});if(O.base64){const F=O.base64,H=F.substring(F.indexOf(",")+1);return W.append(H,{name:C,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(W,j){const O=new w,C=new p;j.worksheets.forEach(F=>{const{drawing:H}=F;if(H){O.prepare(H,{});let $=O.toXml(H);W.append($,{name:`xl/drawings/${H.name}.xml`}),$=C.toXml(H.rels),W.append($,{name:`xl/drawings/_rels/${H.name}.xml.rels`})}})}addTables(W,j){const O=new I;j.worksheets.forEach(C=>{const{tables:F}=C;F.forEach(H=>{O.prepare(H,{});const $=O.toXml(H);W.append($,{name:`xl/tables/${H.target}`})})})}async addContentTypes(W,j){const C=new E().toXml(j);W.append(C,{name:"[Content_Types].xml"})}async addApp(W,j){const C=new T().toXml(j);W.append(C,{name:"docProps/app.xml"})}async addCore(W,j){const O=new v;W.append(O.toXml(j),{name:"docProps/core.xml"})}async addThemes(W,j){const O=j.themes||{theme1:ie};Object.keys(O).forEach(C=>{const F=O[C],H=`xl/theme/${C}.xml`;W.append(F,{name:H})})}async addOfficeRels(W){const O=new p().toXml([{Id:"rId1",Type:re.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:re.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:re.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);W.append(O,{name:"_rels/.rels"})}async addWorkbookRels(W,j){let O=1;const C=[{Id:`rId${O++}`,Type:re.RelType.Styles,Target:"styles.xml"},{Id:`rId${O++}`,Type:re.RelType.Theme,Target:"theme/theme1.xml"}];j.sharedStrings.count&&C.push({Id:`rId${O++}`,Type:re.RelType.SharedStrings,Target:"sharedStrings.xml"}),j.worksheets.forEach($=>{$.rId=`rId${O++}`,C.push({Id:$.rId,Type:re.RelType.Worksheet,Target:`worksheets/sheet${$.id}.xml`})});const H=new p().toXml(C);W.append(H,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(W,j){j.sharedStrings&&j.sharedStrings.count&&W.append(j.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(W,j){const{xml:O}=j.styles;O&&W.append(O,{name:"xl/styles.xml"})}async addWorkbook(W,j){const O=new S;W.append(O.toXml(j),{name:"xl/workbook.xml"})}async addWorksheets(W,j){const O=new A,C=new p,F=new D,H=new V;j.worksheets.forEach($=>{let Y=new l;O.render(Y,$),W.append(Y.xml,{name:`xl/worksheets/sheet${$.id}.xml`}),$.rels&&$.rels.length&&(Y=new l,C.render(Y,$.rels),W.append(Y.xml,{name:`xl/worksheets/_rels/sheet${$.id}.xml.rels`})),$.comments.length>0&&(Y=new l,F.render(Y,$),W.append(Y.xml,{name:`xl/comments${$.id}.xml`}),Y=new l,H.render(Y,$),W.append(Y.xml,{name:`xl/drawings/vmlDrawing${$.id}.vml`}))})}_finalize(W){return new Promise((j,O)=>{W.on("finish",()=>{j(this)}),W.on("error",O),W.finalize()})}prepareModel(W,j){W.creator=W.creator||"ExcelJS",W.lastModifiedBy=W.lastModifiedBy||"ExcelJS",W.created=W.created||new Date,W.modified=W.modified||new Date,W.useSharedStrings=j.useSharedStrings!==void 0?j.useSharedStrings:!0,W.useStyles=j.useStyles!==void 0?j.useStyles:!0,W.sharedStrings=new y,W.styles=W.useStyles?new a(!0):new a.Mock;const O=new S,C=new A;O.prepare(W);const F={sharedStrings:W.sharedStrings,styles:W.styles,date1904:W.properties.date1904,drawingsCount:0,media:W.media};F.drawings=W.drawings=[],F.commentRefs=W.commentRefs=[];let H=0;W.tables=[],W.worksheets.forEach($=>{$.tables.forEach(Y=>{H++,Y.target=`table${H}.xml`,Y.id=H,W.tables.push(Y)}),C.prepare($,F)})}async write(W,j){j=j||{};const{model:O}=this.workbook,C=new i.ZipWriter(j.zip);return C.pipe(W),this.prepareModel(O,j),await this.addContentTypes(C,O),await this.addOfficeRels(C,O),await this.addWorkbookRels(C,O),await this.addWorksheets(C,O),await this.addSharedStrings(C,O),await this.addDrawings(C,O),await this.addTables(C,O),await Promise.all([this.addThemes(C,O),this.addStyles(C,O)]),await this.addMedia(C,O),await Promise.all([this.addApp(C,O),this.addCore(C,O)]),await this.addWorkbook(C,O),this._finalize(C)}writeFile(W,j){const O=h.createWriteStream(W);return new Promise((C,F)=>{O.on("finish",()=>{C()}),O.on("error",H=>{F(H)}),this.write(O,j).then(()=>{O.end()}).catch(H=>{F(H)})})}async writeBuffer(W){const j=new r;return await this.write(j,W),j.read()}}re.RelType=e("./rel-type"),m.exports=re}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,m,g){m.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,m,g){(function(f){(function(){Object.defineProperty(g,"__esModule",{value:!0}),g.CsvFormatterStream=void 0;const u=e("stream"),h=e("./formatter");class s extends u.Transform{constructor(i){super({writableObjectMode:i.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=i,this.rowFormatter=new h.RowFormatter(i),this.hasWrittenBOM=!i.writeBOM}transform(i){return this.rowFormatter.rowTransform=i,this}_transform(i,r,n){let l=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(i,(d,a)=>d?(l=!0,n(d)):(a&&a.forEach(v=>{this.push(f.from(v,"utf8"))}),l=!0,n()))}catch(d){if(l)throw d;n(d)}}_flush(i){this.rowFormatter.finish((r,n)=>r?i(r):(n&&n.forEach(l=>{this.push(f.from(l,"utf8"))}),i()))}}g.CsvFormatterStream=s}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.FormatterOptions=void 0;class f{constructor(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,h||{}),typeof(h==null?void 0:h.quoteHeaders)>"u"&&(this.quoteHeaders=this.quoteColumns),(h==null?void 0:h.quote)===!0?this.quote='"':(h==null?void 0:h.quote)===!1&&(this.quote=""),typeof(h==null?void 0:h.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=h.writeHeaders)!==null&&s!==void 0?s:!0),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}g.FormatterOptions=f},{}],148:[function(e,m,g){var f=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(g,"__esModule",{value:!0}),g.FieldFormatter=void 0;const u=f(e("lodash.isboolean")),h=f(e("lodash.isnil")),s=f(e("lodash.escaperegexp"));class t{constructor(r){this._headers=null,this.formatterOptions=r,r.headers!==null&&(this.headers=r.headers),this.REPLACE_REGEXP=new RegExp(r.quote,"g");const n=`[${r.delimiter}${s.default(r.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(n)}set headers(r){this._headers=r}shouldQuote(r,n){const l=n?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return u.default(l)?l:Array.isArray(l)?l[r]:this._headers!==null?l[this._headers[r]]:!1}format(r,n,l){const d=`${h.default(r)?"":r}`.replace(/\0/g,""),{formatterOptions:a}=this;return a.quote!==""&&d.indexOf(a.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,a.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(n,l)?this.quoteField(d):d}quoteField(r){const{quote:n}=this.formatterOptions;return`${n}${r}${n}`}}g.FieldFormatter=t},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,m,g){var f=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(g,"__esModule",{value:!0}),g.RowFormatter=void 0;const u=f(e("lodash.isfunction")),h=f(e("lodash.isequal")),s=e("./FieldFormatter"),t=e("../types");class i{constructor(n){this.rowCount=0,this.formatterOptions=n,this.fieldFormatter=new s.FieldFormatter(n),this.headers=n.headers,this.shouldWriteHeaders=n.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),n.transform&&(this.rowTransform=n.transform)}static isRowHashArray(n){return Array.isArray(n)?Array.isArray(n[0])&&n[0].length===2:!1}static isRowArray(n){return Array.isArray(n)&&!this.isRowHashArray(n)}static gatherHeaders(n){return i.isRowHashArray(n)?n.map(l=>l[0]):Array.isArray(n)?n:Object.keys(n)}static createTransform(n){return t.isSyncTransform(n)?(l,d)=>{let a=null;try{a=n(l)}catch(v){return d(v)}return d(null,a)}:(l,d)=>{n(l,d)}}set rowTransform(n){if(!u.default(n))throw new TypeError("The transform should be a function");this._rowTransform=i.createTransform(n)}format(n,l){this.callTransformer(n,(d,a)=>{if(d)return l(d);if(!n)return l(null);const v=[];if(a){const{shouldFormatColumns:y,headers:p}=this.checkHeaders(a);if(this.shouldWriteHeaders&&p&&!this.hasWrittenHeaders&&(v.push(this.formatColumns(p,!0)),this.hasWrittenHeaders=!0),y){const E=this.gatherColumns(a);v.push(this.formatColumns(E,!1))}}return l(null,v)})}finish(n){const l=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return n(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));l.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&l.push(this.formatterOptions.rowDelimiter),n(null,l)}checkHeaders(n){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const l=i.gatherHeaders(n);return this.headers=l,this.fieldFormatter.headers=l,this.shouldWriteHeaders?{shouldFormatColumns:!h.default(l,n),headers:l}:{shouldFormatColumns:!0,headers:null}}gatherColumns(n){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(n)?i.isRowHashArray(n)?this.headers.map((l,d)=>{const a=n[d];return a?a[1]:""}):i.isRowArray(n)&&!this.shouldWriteHeaders?n:this.headers.map((l,d)=>n[d]):this.headers.map(l=>n[l])}callTransformer(n,l){return this._rowTransform?this._rowTransform(n,l):l(null,n)}formatColumns(n,l){const d=n.map((v,y)=>this.fieldFormatter.format(v,y,l)).join(this.formatterOptions.delimiter),{rowCount:a}=this;return this.rowCount+=1,a?[this.formatterOptions.rowDelimiter,d].join(""):d}}g.RowFormatter=i},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.FieldFormatter=g.RowFormatter=void 0;var f=e("./RowFormatter");Object.defineProperty(g,"RowFormatter",{enumerable:!0,get:function(){return f.RowFormatter}});var u=e("./FieldFormatter");Object.defineProperty(g,"FieldFormatter",{enumerable:!0,get:function(){return u.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,m,g){(function(f){(function(){var u=Object.create?function(y,p,E,T){T===void 0&&(T=E),Object.defineProperty(y,T,{enumerable:!0,get:function(){return p[E]}})}:function(y,p,E,T){T===void 0&&(T=E),y[T]=p[E]},h=Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p},s=function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var E in y)E!=="default"&&Object.prototype.hasOwnProperty.call(y,E)&&u(p,y,E);return h(p,y),p},t=function(y,p){for(var E in y)E!=="default"&&!Object.prototype.hasOwnProperty.call(p,E)&&u(p,y,E)};Object.defineProperty(g,"__esModule",{value:!0}),g.writeToPath=g.writeToString=g.writeToBuffer=g.writeToStream=g.write=g.format=g.FormatterOptions=g.CsvFormatterStream=void 0;const i=e("util"),r=e("stream"),n=s(e("fs")),l=e("./FormatterOptions"),d=e("./CsvFormatterStream");t(e("./types"),g);var a=e("./CsvFormatterStream");Object.defineProperty(g,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}});var v=e("./FormatterOptions");Object.defineProperty(g,"FormatterOptions",{enumerable:!0,get:function(){return v.FormatterOptions}}),g.format=y=>new d.CsvFormatterStream(new l.FormatterOptions(y)),g.write=(y,p)=>{const E=g.format(p),T=i.promisify((S,A)=>{E.write(S,void 0,A)});return y.reduce((S,A)=>S.then(()=>T(A)),Promise.resolve()).then(()=>E.end()).catch(S=>{E.emit("error",S)}),E},g.writeToStream=(y,p,E)=>g.write(p,E).pipe(y),g.writeToBuffer=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=[],T=new r.Writable({write(S,A,w){E.push(S),w()}});return new Promise((S,A)=>{T.on("error",A).on("finish",()=>S(f.concat(E))),g.write(y,p).pipe(T)})},g.writeToString=(y,p)=>g.writeToBuffer(y,p).then(E=>E.toString()),g.writeToPath=(y,p,E)=>{const T=n.createWriteStream(y,{encoding:"utf8"});return g.write(p,E).pipe(T)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.isSyncTransform=void 0,g.isSyncTransform=f=>f.length===1},{}],153:[function(e,m,g){(function(f){(function(){Object.defineProperty(g,"__esModule",{value:!0}),g.CsvParserStream=void 0;const u=e("string_decoder"),h=e("stream"),s=e("./transforms"),t=e("./parser");class i extends h.Transform{constructor(n){super({objectMode:n.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=n,this.parser=new t.Parser(n),this.headerTransformer=new s.HeaderTransformer(n),this.decoder=new u.StringDecoder(n.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(n){return this.rowTransformerValidator.rowTransform=n,this}validate(n){return this.rowTransformerValidator.rowValidator=n,this}emit(n){if(n==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var l=arguments.length,d=new Array(l>1?l-1:0),a=1;a<l;a++)d[a-1]=arguments[a];return super.emit(n,...d)}_transform(n,l,d){if(this.hasHitRowLimit)return d();const a=i.wrapDoneCallback(d);try{const{lines:v}=this,y=v+this.decoder.write(n),p=this.parse(y,!0);return this.processRows(p,a)}catch(v){return a(v)}}_flush(n){const l=i.wrapDoneCallback(n);if(this.hasHitRowLimit)return l();try{const d=this.lines+this.decoder.end(),a=this.parse(d,!1);return this.processRows(a,l)}catch(d){return l(d)}}parse(n,l){if(!n)return[];const{line:d,rows:a}=this.parser.parse(n,l);return this.lines=d,a}processRows(n,l){const d=n.length,a=v=>{const y=T=>{if(T)return l(T);if(v%100===0){f(()=>a(v+1));return}return a(v+1)};if(this.checkAndEmitHeaders(),v>=d||this.hasHitRowLimit)return l();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const p=n[v];this.rowCount+=1,this.parsedRowCount+=1;const E=this.rowCount;return this.transformRow(p,(T,S)=>{if(T)return this.rowCount-=1,y(T);if(!S)return y(new Error("expected transform result"));if(!S.isValid)this.emit("data-invalid",S.row,E,S.reason);else if(S.row)return this.pushRow(S.row,y);return y()})};a(0)}transformRow(n,l){try{this.headerTransformer.transform(n,(d,a)=>d?l(d):a?a.isValid?a.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(a.row,l):this.skipRow(l):(this.rowCount-=1,this.parsedRowCount-=1,l(null,{row:null,isValid:!0})):this.shouldEmitRows?l(null,{isValid:!1,row:n}):this.skipRow(l):l(new Error("Expected result from header transform")))}catch(d){l(d)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(n){return this.rowCount-=1,n(null,{row:null,isValid:!0})}pushRow(n,l){try{this.parserOptions.objectMode?this.push(n):this.push(JSON.stringify(n)),l()}catch(d){l(d)}}static wrapDoneCallback(n){let l=!1;return function(d){if(d){if(l)throw d;l=!0,n(d);return}for(var a=arguments.length,v=new Array(a>1?a-1:0),y=1;y<a;y++)v[y-1]=arguments[y];n(...v)}}}g.CsvParserStream=i}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,m,g){var f=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(g,"__esModule",{value:!0}),g.ParserOptions=void 0;const u=f(e("lodash.escaperegexp")),h=f(e("lodash.isnil"));class s{constructor(i){var r;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,i||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=u.default(this.delimiter),this.escapeChar=(r=this.escape)!==null&&r!==void 0?r:this.quote,this.supportsComments=!h.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}g.ParserOptions=s},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,m,g){var f=Object.create?function(a,v,y,p){p===void 0&&(p=y),Object.defineProperty(a,p,{enumerable:!0,get:function(){return v[y]}})}:function(a,v,y,p){p===void 0&&(p=y),a[p]=v[y]},u=Object.create?function(a,v){Object.defineProperty(a,"default",{enumerable:!0,value:v})}:function(a,v){a.default=v},h=function(a){if(a&&a.__esModule)return a;var v={};if(a!=null)for(var y in a)y!=="default"&&Object.prototype.hasOwnProperty.call(a,y)&&f(v,a,y);return u(v,a),v},s=function(a,v){for(var y in a)y!=="default"&&!Object.prototype.hasOwnProperty.call(v,y)&&f(v,a,y)};Object.defineProperty(g,"__esModule",{value:!0}),g.parseString=g.parseFile=g.parseStream=g.parse=g.ParserOptions=g.CsvParserStream=void 0;const t=h(e("fs")),i=e("stream"),r=e("./ParserOptions"),n=e("./CsvParserStream");s(e("./types"),g);var l=e("./CsvParserStream");Object.defineProperty(g,"CsvParserStream",{enumerable:!0,get:function(){return l.CsvParserStream}});var d=e("./ParserOptions");Object.defineProperty(g,"ParserOptions",{enumerable:!0,get:function(){return d.ParserOptions}}),g.parse=a=>new n.CsvParserStream(new r.ParserOptions(a)),g.parseStream=(a,v)=>a.pipe(new n.CsvParserStream(new r.ParserOptions(v))),g.parseFile=function(a){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.createReadStream(a).pipe(new n.CsvParserStream(new r.ParserOptions(v)))},g.parseString=(a,v)=>{const y=new i.Readable;return y.push(a),y.push(null),y.pipe(new n.CsvParserStream(new r.ParserOptions(v)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.Parser=void 0;const f=e("./Scanner"),u=e("./RowParser"),h=e("./Token");class s{constructor(i){this.parserOptions=i,this.rowParser=new u.RowParser(this.parserOptions)}static removeBOM(i){return i&&i.charCodeAt(0)===65279?i.slice(1):i}parse(i,r){const n=new f.Scanner({line:s.removeBOM(i),parserOptions:this.parserOptions,hasMoreData:r});return this.parserOptions.supportsComments?this.parseWithComments(n):this.parseWithoutComments(n)}parseWithoutComments(i){const r=[];let n=!0;for(;n;)n=this.parseRow(i,r);return{line:i.line,rows:r}}parseWithComments(i){const{parserOptions:r}=this,n=[];for(let l=i.nextCharacterToken;l!==null;l=i.nextCharacterToken)if(h.Token.isTokenComment(l,r)){if(i.advancePastLine()===null)return{line:i.lineFromCursor,rows:n};if(!i.hasMoreCharacters)return{line:i.lineFromCursor,rows:n};i.truncateToCursor()}else if(!this.parseRow(i,n))break;return{line:i.line,rows:n}}parseRow(i,r){if(!i.nextNonSpaceToken)return!1;const l=this.rowParser.parse(i);return l===null?!1:(this.parserOptions.ignoreEmpty&&u.RowParser.isEmptyRow(l)||r.push(l),!0)}}g.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.RowParser=void 0;const f=e("./column"),u=e("./Token"),h="";class s{constructor(i){this.parserOptions=i,this.columnParser=new f.ColumnParser(i)}static isEmptyRow(i){return i.join(h).replace(/\s+/g,h)===h}parse(i){const{parserOptions:r}=this,{hasMoreData:n}=i,l=i,d=[];let a=this.getStartToken(l,d);for(;a;){if(u.Token.isTokenRowDelimiter(a))return l.advancePastToken(a),!l.hasMoreCharacters&&u.Token.isTokenCarriageReturn(a,r)&&n?null:(l.truncateToCursor(),d);if(!this.shouldSkipColumnParse(l,a,d)){const v=this.columnParser.parse(l);if(v===null)return null;d.push(v)}a=l.nextNonSpaceToken}return n?null:(l.truncateToCursor(),d)}getStartToken(i,r){const n=i.nextNonSpaceToken;return n!==null&&u.Token.isTokenDelimiter(n,this.parserOptions)?(r.push(""),i.nextNonSpaceToken):n}shouldSkipColumnParse(i,r,n){const{parserOptions:l}=this;if(u.Token.isTokenDelimiter(r,l)){i.advancePastToken(r);const d=i.nextCharacterToken;if(!i.hasMoreCharacters||d!==null&&u.Token.isTokenRowDelimiter(d)||d!==null&&u.Token.isTokenDelimiter(d,l))return n.push(""),!0}return!1}}g.RowParser=s},{"./Token":159,"./column":164}],158:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.Scanner=void 0;const f=e("./Token"),u=/((?:\r\n)|\n|\r)/;class h{constructor(t){this.cursor=0,this.line=t.line,this.lineLength=this.line.length,this.parserOptions=t.parserOptions,this.hasMoreData=t.hasMoreData,this.cursor=t.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:t}=this,i=this.parserOptions.NEXT_TOKEN_REGEXP;if(t.search(i)===-1)return null;const r=i.exec(t);if(r==null)return null;const n=r[1],l=this.cursor+(r.index||0);return new f.Token({token:n,startCursor:l,endCursor:l+n.length-1})}get nextCharacterToken(){const{cursor:t,lineLength:i}=this;return i<=t?null:new f.Token({token:this.line[t],startCursor:t,endCursor:t})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const t=u.exec(this.lineFromCursor);return t?(this.cursor+=(t.index||0)+t[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(t){return this.cursor=t,this}advanceToToken(t){return this.cursor=t.startCursor,this}advancePastToken(t){return this.cursor=t.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}g.Scanner=h},{"./Token":159}],159:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.Token=void 0;class f{constructor(h){this.token=h.token,this.startCursor=h.startCursor,this.endCursor=h.endCursor}static isTokenRowDelimiter(h){const s=h.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(h,s){return h.token===s.carriageReturn}static isTokenComment(h,s){return s.supportsComments&&!!h&&h.token===s.comment}static isTokenEscapeCharacter(h,s){return h.token===s.escapeChar}static isTokenQuote(h,s){return h.token===s.quote}static isTokenDelimiter(h,s){return h.token===s.delimiter}}g.Token=f},{}],160:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.ColumnFormatter=void 0;class f{constructor(h){h.trim?this.format=s=>s.trim():h.ltrim?this.format=s=>s.trimLeft():h.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}g.ColumnFormatter=f},{}],161:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.ColumnParser=void 0;const f=e("./NonQuotedColumnParser"),u=e("./QuotedColumnParser"),h=e("../Token");class s{constructor(i){this.parserOptions=i,this.quotedColumnParser=new u.QuotedColumnParser(i),this.nonQuotedColumnParser=new f.NonQuotedColumnParser(i)}parse(i){const{nextNonSpaceToken:r}=i;return r!==null&&h.Token.isTokenQuote(r,this.parserOptions)?(i.advanceToToken(r),this.quotedColumnParser.parse(i)):this.nonQuotedColumnParser.parse(i)}}g.ColumnParser=s},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.NonQuotedColumnParser=void 0;const f=e("./ColumnFormatter"),u=e("../Token");class h{constructor(t){this.parserOptions=t,this.columnFormatter=new f.ColumnFormatter(t)}parse(t){if(!t.hasMoreCharacters)return null;const{parserOptions:i}=this,r=[];let n=t.nextCharacterToken;for(;n&&!(u.Token.isTokenDelimiter(n,i)||u.Token.isTokenRowDelimiter(n));n=t.nextCharacterToken)r.push(n.token),t.advancePastToken(n);return this.columnFormatter.format(r.join(""))}}g.NonQuotedColumnParser=h},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.QuotedColumnParser=void 0;const f=e("./ColumnFormatter"),u=e("../Token");class h{constructor(t){this.parserOptions=t,this.columnFormatter=new f.ColumnFormatter(t)}parse(t){if(!t.hasMoreCharacters)return null;const i=t.cursor,{foundClosingQuote:r,col:n}=this.gatherDataBetweenQuotes(t);if(!r){if(t.advanceTo(i),!t.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${t.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(t),n}gatherDataBetweenQuotes(t){const{parserOptions:i}=this;let r=!1,n=!1;const l=[];let d=t.nextCharacterToken;for(;!n&&d!==null;d=t.nextCharacterToken){const a=u.Token.isTokenQuote(d,i);if(!r&&a)r=!0;else if(r)if(u.Token.isTokenEscapeCharacter(d,i)){t.advancePastToken(d);const v=t.nextCharacterToken;v!==null&&(u.Token.isTokenQuote(v,i)||u.Token.isTokenEscapeCharacter(v,i))?(l.push(v.token),d=v):a?n=!0:l.push(d.token)}else a?n=!0:l.push(d.token);t.advancePastToken(d)}return{col:this.columnFormatter.format(l.join("")),foundClosingQuote:n}}checkForMalformedColumn(t){const{parserOptions:i}=this,{nextNonSpaceToken:r}=t;if(r){const n=u.Token.isTokenDelimiter(r,i),l=u.Token.isTokenRowDelimiter(r);if(!(n||l)){const d=t.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${i.escapedDelimiter}' OR new line got: '${r.token}'. at '${d}`)}t.advanceToToken(r)}else t.hasMoreData||t.advancePastLine()}}g.QuotedColumnParser=h},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.ColumnFormatter=g.QuotedColumnParser=g.NonQuotedColumnParser=g.ColumnParser=void 0;var f=e("./ColumnParser");Object.defineProperty(g,"ColumnParser",{enumerable:!0,get:function(){return f.ColumnParser}});var u=e("./NonQuotedColumnParser");Object.defineProperty(g,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}});var h=e("./QuotedColumnParser");Object.defineProperty(g,"QuotedColumnParser",{enumerable:!0,get:function(){return h.QuotedColumnParser}});var s=e("./ColumnFormatter");Object.defineProperty(g,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.QuotedColumnParser=g.NonQuotedColumnParser=g.ColumnParser=g.Token=g.Scanner=g.RowParser=g.Parser=void 0;var f=e("./Parser");Object.defineProperty(g,"Parser",{enumerable:!0,get:function(){return f.Parser}});var u=e("./RowParser");Object.defineProperty(g,"RowParser",{enumerable:!0,get:function(){return u.RowParser}});var h=e("./Scanner");Object.defineProperty(g,"Scanner",{enumerable:!0,get:function(){return h.Scanner}});var s=e("./Token");Object.defineProperty(g,"Token",{enumerable:!0,get:function(){return s.Token}});var t=e("./column");Object.defineProperty(g,"ColumnParser",{enumerable:!0,get:function(){return t.ColumnParser}}),Object.defineProperty(g,"NonQuotedColumnParser",{enumerable:!0,get:function(){return t.NonQuotedColumnParser}}),Object.defineProperty(g,"QuotedColumnParser",{enumerable:!0,get:function(){return t.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,m,g){var f=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(g,"__esModule",{value:!0}),g.HeaderTransformer=void 0;const u=f(e("lodash.isundefined")),h=f(e("lodash.isfunction")),s=f(e("lodash.uniq")),t=f(e("lodash.groupby"));class i{constructor(n){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=n,n.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(n.headers)?this.setHeaders(n.headers):h.default(n.headers)&&(this.headersTransform=n.headers)}transform(n,l){return this.shouldMapRow(n)?l(null,this.processRow(n)):l(null,{row:null,isValid:!0})}shouldMapRow(n){const{parserOptions:l}=this;if(!this.headersTransform&&l.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(n)){if(this.headersTransform)this.setHeaders(this.headersTransform(n));else if(this.shouldUseFirstRow)this.setHeaders(n);else return!0;return!1}return!0}processRow(n){if(!this.headers)return{row:n,isValid:!0};const{parserOptions:l}=this;if(!l.discardUnmappedColumns&&n.length>this.headersLength){if(!l.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${n.length}`);return{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}}return l.strictColumnHandling&&n.length<this.headersLength?{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}:{row:this.mapHeaders(n),isValid:!0}}mapHeaders(n){const l={},{headers:d,headersLength:a}=this;for(let v=0;v<a;v+=1){const y=d[v];if(!u.default(y)){const p=n[v];u.default(p)?l[y]="":l[y]=p}}return l}setHeaders(n){var l;const d=n.filter(a=>!!a);if(s.default(d).length!==d.length){const a=t.default(d),v=Object.keys(a).filter(y=>a[y].length>1);throw new Error(`Duplicate headers found ${JSON.stringify(v)}`)}this.headers=n,this.receivedHeaders=!0,this.headersLength=((l=this.headers)===null||l===void 0?void 0:l.length)||0}}g.HeaderTransformer=i},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,m,g){var f=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(g,"__esModule",{value:!0}),g.RowTransformerValidator=void 0;const u=f(e("lodash.isfunction")),h=e("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(i){return h.isSyncTransform(i)?(r,n)=>{let l=null;try{l=i(r)}catch(d){return n(d)}return n(null,l)}:i}static createValidator(i){return h.isSyncValidate(i)?(r,n)=>{n(null,{row:r,isValid:i(r)})}:(r,n)=>{i(r,(l,d,a)=>l?n(l):d?n(null,{row:r,isValid:d,reason:a}):n(null,{row:r,isValid:!1,reason:a}))}}set rowTransform(i){if(!u.default(i))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(i)}set rowValidator(i){if(!u.default(i))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(i)}transformAndValidate(i,r){return this.callTransformer(i,(n,l)=>n?r(n):l?this.callValidator(l,(d,a)=>d?r(d):a&&!a.isValid?r(null,{row:l,isValid:!1,reason:a.reason}):r(null,{row:l,isValid:!0})):r(null,{row:null,isValid:!0}))}callTransformer(i,r){return this._rowTransform?this._rowTransform(i,r):r(null,i)}callValidator(i,r){return this._rowValidator?this._rowValidator(i,r):r(null,{row:i,isValid:!0})}}g.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.HeaderTransformer=g.RowTransformerValidator=void 0;var f=e("./RowTransformerValidator");Object.defineProperty(g,"RowTransformerValidator",{enumerable:!0,get:function(){return f.RowTransformerValidator}});var u=e("./HeaderTransformer");Object.defineProperty(g,"HeaderTransformer",{enumerable:!0,get:function(){return u.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.isSyncValidate=g.isSyncTransform=void 0,g.isSyncTransform=f=>f.length===1,g.isSyncValidate=f=>f.length===1},{}],170:[function(e,m,g){const f=g;f.bignum=e("bn.js"),f.define=e("./asn1/api").define,f.base=e("./asn1/base"),f.constants=e("./asn1/constants"),f.decoders=e("./asn1/decoders"),f.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,m,g){const f=e("./encoders"),u=e("./decoders"),h=e("inherits"),s=g;s.define=function(r,n){return new t(r,n)};function t(i,r){this.name=i,this.body=r,this.decoders={},this.encoders={}}t.prototype._createNamed=function(r){const n=this.name;function l(d){this._initNamed(d,n)}return h(l,r),l.prototype._initNamed=function(a,v){r.call(this,a,v)},new l(this)},t.prototype._getDecoder=function(r){return r=r||"der",this.decoders.hasOwnProperty(r)||(this.decoders[r]=this._createNamed(u[r])),this.decoders[r]},t.prototype.decode=function(r,n,l){return this._getDecoder(n).decode(r,l)},t.prototype._getEncoder=function(r){return r=r||"der",this.encoders.hasOwnProperty(r)||(this.encoders[r]=this._createNamed(f[r])),this.encoders[r]},t.prototype.encode=function(r,n,l){return this._getEncoder(n).encode(r,l)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,m,g){const f=e("inherits"),u=e("../base/reporter").Reporter,h=e("safer-buffer").Buffer;function s(i,r){if(u.call(this,r),!h.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}f(s,u),g.DecoderBuffer=s,s.isDecoderBuffer=function(r){return r instanceof s?!0:typeof r=="object"&&h.isBuffer(r.base)&&r.constructor.name==="DecoderBuffer"&&typeof r.offset=="number"&&typeof r.length=="number"&&typeof r.save=="function"&&typeof r.restore=="function"&&typeof r.isEmpty=="function"&&typeof r.readUInt8=="function"&&typeof r.skip=="function"&&typeof r.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:u.prototype.save.call(this)}},s.prototype.restore=function(r){const n=new s(this.base);return n.offset=r.offset,n.length=this.offset,this.offset=r.offset,u.prototype.restore.call(this,r.reporter),n},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(r){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(r||"DecoderBuffer overrun")},s.prototype.skip=function(r,n){if(!(this.offset+r<=this.length))return this.error(n||"DecoderBuffer overrun");const l=new s(this.base);return l._reporterState=this._reporterState,l.offset=this.offset,l.length=this.offset+r,this.offset+=r,l},s.prototype.raw=function(r){return this.base.slice(r?r.offset:this.offset,this.length)};function t(i,r){if(Array.isArray(i))this.length=0,this.value=i.map(function(n){return t.isEncoderBuffer(n)||(n=new t(n,r)),this.length+=n.length,n},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return r.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=h.byteLength(i);else if(h.isBuffer(i))this.value=i,this.length=i.length;else return r.error("Unsupported type: "+typeof i)}g.EncoderBuffer=t,t.isEncoderBuffer=function(r){return r instanceof t?!0:typeof r=="object"&&r.constructor.name==="EncoderBuffer"&&typeof r.length=="number"&&typeof r.join=="function"},t.prototype.join=function(r,n){return r||(r=h.alloc(this.length)),n||(n=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(l){l.join(r,n),n+=l.length}):(typeof this.value=="number"?r[n]=this.value:typeof this.value=="string"?r.write(this.value,n):h.isBuffer(this.value)&&this.value.copy(r,n),n+=this.length)),r}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,m,g){const f=g;f.Reporter=e("./reporter").Reporter,f.DecoderBuffer=e("./buffer").DecoderBuffer,f.EncoderBuffer=e("./buffer").EncoderBuffer,f.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,m,g){const f=e("../base/reporter").Reporter,u=e("../base/buffer").EncoderBuffer,h=e("../base/buffer").DecoderBuffer,s=e("minimalistic-assert"),t=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(t),r=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function n(d,a,v){const y={};this._baseState=y,y.name=v,y.enc=d,y.parent=a||null,y.children=null,y.tag=null,y.args=null,y.reverseArgs=null,y.choice=null,y.optional=!1,y.any=!1,y.obj=!1,y.use=null,y.useDecoder=null,y.key=null,y.default=null,y.explicit=null,y.implicit=null,y.contains=null,y.parent||(y.children=[],this._wrap())}m.exports=n;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];n.prototype.clone=function(){const a=this._baseState,v={};l.forEach(function(p){v[p]=a[p]});const y=new this.constructor(v.parent);return y._baseState=v,y},n.prototype._wrap=function(){const a=this._baseState;i.forEach(function(v){this[v]=function(){const p=new this.constructor(this);return a.children.push(p),p[v].apply(p,arguments)}},this)},n.prototype._init=function(a){const v=this._baseState;s(v.parent===null),a.call(this),v.children=v.children.filter(function(y){return y._baseState.parent===this},this),s.equal(v.children.length,1,"Root node can have only one child")},n.prototype._useArgs=function(a){const v=this._baseState,y=a.filter(function(p){return p instanceof this.constructor},this);a=a.filter(function(p){return!(p instanceof this.constructor)},this),y.length!==0&&(s(v.children===null),v.children=y,y.forEach(function(p){p._baseState.parent=this},this)),a.length!==0&&(s(v.args===null),v.args=a,v.reverseArgs=a.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const E={};return Object.keys(p).forEach(function(T){T==(T|0)&&(T|=0);const S=p[T];E[S]=T}),E}))},r.forEach(function(d){n.prototype[d]=function(){const v=this._baseState;throw new Error(d+" not implemented for encoding: "+v.enc)}}),t.forEach(function(d){n.prototype[d]=function(){const v=this._baseState,y=Array.prototype.slice.call(arguments);return s(v.tag===null),v.tag=d,this._useArgs(y),this}}),n.prototype.use=function(a){s(a);const v=this._baseState;return s(v.use===null),v.use=a,this},n.prototype.optional=function(){const a=this._baseState;return a.optional=!0,this},n.prototype.def=function(a){const v=this._baseState;return s(v.default===null),v.default=a,v.optional=!0,this},n.prototype.explicit=function(a){const v=this._baseState;return s(v.explicit===null&&v.implicit===null),v.explicit=a,this},n.prototype.implicit=function(a){const v=this._baseState;return s(v.explicit===null&&v.implicit===null),v.implicit=a,this},n.prototype.obj=function(){const a=this._baseState,v=Array.prototype.slice.call(arguments);return a.obj=!0,v.length!==0&&this._useArgs(v),this},n.prototype.key=function(a){const v=this._baseState;return s(v.key===null),v.key=a,this},n.prototype.any=function(){const a=this._baseState;return a.any=!0,this},n.prototype.choice=function(a){const v=this._baseState;return s(v.choice===null),v.choice=a,this._useArgs(Object.keys(a).map(function(y){return a[y]})),this},n.prototype.contains=function(a){const v=this._baseState;return s(v.use===null),v.contains=a,this},n.prototype._decode=function(a,v){const y=this._baseState;if(y.parent===null)return a.wrapResult(y.children[0]._decode(a,v));let p=y.default,E=!0,T=null;if(y.key!==null&&(T=a.enterKey(y.key)),y.optional){let A=null;if(y.explicit!==null?A=y.explicit:y.implicit!==null?A=y.implicit:y.tag!==null&&(A=y.tag),A===null&&!y.any){const w=a.save();try{y.choice===null?this._decodeGeneric(y.tag,a,v):this._decodeChoice(a,v),E=!0}catch{E=!1}a.restore(w)}else if(E=this._peekTag(a,A,y.any),a.isError(E))return E}let S;if(y.obj&&E&&(S=a.enterObject()),E){if(y.explicit!==null){const w=this._decodeTag(a,y.explicit);if(a.isError(w))return w;a=w}const A=a.offset;if(y.use===null&&y.choice===null){let w;y.any&&(w=a.save());const I=this._decodeTag(a,y.implicit!==null?y.implicit:y.tag,y.any);if(a.isError(I))return I;y.any?p=a.raw(w):a=I}if(v&&v.track&&y.tag!==null&&v.track(a.path(),A,a.length,"tagged"),v&&v.track&&y.tag!==null&&v.track(a.path(),a.offset,a.length,"content"),y.any||(y.choice===null?p=this._decodeGeneric(y.tag,a,v):p=this._decodeChoice(a,v)),a.isError(p))return p;if(!y.any&&y.choice===null&&y.children!==null&&y.children.forEach(function(I){I._decode(a,v)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const w=new h(p);p=this._getUse(y.contains,a._reporterState.obj)._decode(w,v)}}return y.obj&&E&&(p=a.leaveObject(S)),y.key!==null&&(p!==null||E===!0)?a.leaveKey(T,y.key,p):T!==null&&a.exitKey(T),p},n.prototype._decodeGeneric=function(a,v,y){const p=this._baseState;return a==="seq"||a==="set"?null:a==="seqof"||a==="setof"?this._decodeList(v,a,p.args[0],y):/str$/.test(a)?this._decodeStr(v,a,y):a==="objid"&&p.args?this._decodeObjid(v,p.args[0],p.args[1],y):a==="objid"?this._decodeObjid(v,null,null,y):a==="gentime"||a==="utctime"?this._decodeTime(v,a,y):a==="null_"?this._decodeNull(v,y):a==="bool"?this._decodeBool(v,y):a==="objDesc"?this._decodeStr(v,a,y):a==="int"||a==="enum"?this._decodeInt(v,p.args&&p.args[0],y):p.use!==null?this._getUse(p.use,v._reporterState.obj)._decode(v,y):v.error("unknown tag: "+a)},n.prototype._getUse=function(a,v){const y=this._baseState;return y.useDecoder=this._use(a,v),s(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},n.prototype._decodeChoice=function(a,v){const y=this._baseState;let p=null,E=!1;return Object.keys(y.choice).some(function(T){const S=a.save(),A=y.choice[T];try{const w=A._decode(a,v);if(a.isError(w))return!1;p={type:T,value:w},E=!0}catch{return a.restore(S),!1}return!0},this),E?p:a.error("Choice not matched")},n.prototype._createEncoderBuffer=function(a){return new u(a,this.reporter)},n.prototype._encode=function(a,v,y){const p=this._baseState;if(p.default!==null&&p.default===a)return;const E=this._encodeValue(a,v,y);if(E!==void 0&&!this._skipDefault(E,v,y))return E},n.prototype._encodeValue=function(a,v,y){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(a,v||new f);let E=null;if(this.reporter=v,p.optional&&a===void 0)if(p.default!==null)a=p.default;else return;let T=null,S=!1;if(p.any)E=this._createEncoderBuffer(a);else if(p.choice)E=this._encodeChoice(a,v);else if(p.contains)T=this._getUse(p.contains,y)._encode(a,v),S=!0;else if(p.children)T=p.children.map(function(A){if(A._baseState.tag==="null_")return A._encode(null,v,a);if(A._baseState.key===null)return v.error("Child should have a key");const w=v.enterKey(A._baseState.key);if(typeof a!="object")return v.error("Child expected, but input is not object");const I=A._encode(a[A._baseState.key],v,a);return v.leaveKey(w),I},this).filter(function(A){return A}),T=this._createEncoderBuffer(T);else if(p.tag==="seqof"||p.tag==="setof"){if(!(p.args&&p.args.length===1))return v.error("Too many args for : "+p.tag);if(!Array.isArray(a))return v.error("seqof/setof, but data is not Array");const A=this.clone();A._baseState.implicit=null,T=this._createEncoderBuffer(a.map(function(w){const I=this._baseState;return this._getUse(I.args[0],a)._encode(w,v)},A))}else p.use!==null?E=this._getUse(p.use,y)._encode(a,v):(T=this._encodePrimitive(p.tag,a),S=!0);if(!p.any&&p.choice===null){const A=p.implicit!==null?p.implicit:p.tag,w=p.implicit===null?"universal":"context";A===null?p.use===null&&v.error("Tag could be omitted only for .use()"):p.use===null&&(E=this._encodeComposite(A,S,w,T))}return p.explicit!==null&&(E=this._encodeComposite(p.explicit,!1,"context",E)),E},n.prototype._encodeChoice=function(a,v){const y=this._baseState,p=y.choice[a.type];return p||s(!1,a.type+" not found in "+JSON.stringify(Object.keys(y.choice))),p._encode(a.value,v)},n.prototype._encodePrimitive=function(a,v){const y=this._baseState;if(/str$/.test(a))return this._encodeStr(v,a);if(a==="objid"&&y.args)return this._encodeObjid(v,y.reverseArgs[0],y.args[1]);if(a==="objid")return this._encodeObjid(v,null,null);if(a==="gentime"||a==="utctime")return this._encodeTime(v,a);if(a==="null_")return this._encodeNull();if(a==="int"||a==="enum")return this._encodeInt(v,y.args&&y.reverseArgs[0]);if(a==="bool")return this._encodeBool(v);if(a==="objDesc")return this._encodeStr(v,a);throw new Error("Unsupported tag: "+a)},n.prototype._isNumstr=function(a){return/^[0-9 ]*$/.test(a)},n.prototype._isPrintstr=function(a){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(a)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,m,g){const f=e("inherits");function u(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}g.Reporter=u,u.prototype.isError=function(t){return t instanceof h},u.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},u.prototype.restore=function(t){const i=this._reporterState;i.obj=t.obj,i.path=i.path.slice(0,t.pathLen)},u.prototype.enterKey=function(t){return this._reporterState.path.push(t)},u.prototype.exitKey=function(t){const i=this._reporterState;i.path=i.path.slice(0,t-1)},u.prototype.leaveKey=function(t,i,r){const n=this._reporterState;this.exitKey(t),n.obj!==null&&(n.obj[i]=r)},u.prototype.path=function(){return this._reporterState.path.join("/")},u.prototype.enterObject=function(){const t=this._reporterState,i=t.obj;return t.obj={},i},u.prototype.leaveObject=function(t){const i=this._reporterState,r=i.obj;return i.obj=t,r},u.prototype.error=function(t){let i;const r=this._reporterState,n=t instanceof h;if(n?i=t:i=new h(r.path.map(function(l){return"["+JSON.stringify(l)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw i;return n||r.errors.push(i),i},u.prototype.wrapResult=function(t){const i=this._reporterState;return i.options.partial?{result:this.isError(t)?null:t,errors:i.errors}:t};function h(s,t){this.path=s,this.rethrow(t)}f(h,Error),h.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,h),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this}},{inherits:440}],176:[function(e,m,g){function f(u){const h={};return Object.keys(u).forEach(function(s){(s|0)==s&&(s=s|0);const t=u[s];h[t]=s}),h}g.tagClass={0:"universal",1:"application",2:"context",3:"private"},g.tagClassByName=f(g.tagClass),g.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},g.tagByName=f(g.tag)},{}],177:[function(e,m,g){const f=g;f._reverse=function(h){const s={};return Object.keys(h).forEach(function(t){(t|0)==t&&(t=t|0);const i=h[t];s[i]=t}),s},f.der=e("./der")},{"./der":176}],178:[function(e,m,g){const f=e("inherits"),u=e("bn.js"),h=e("../base/buffer").DecoderBuffer,s=e("../base/node"),t=e("../constants/der");function i(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new r,this.tree._init(d.body)}m.exports=i,i.prototype.decode=function(a,v){return h.isDecoderBuffer(a)||(a=new h(a,v)),this.tree._decode(a,v)};function r(d){s.call(this,"der",d)}f(r,s),r.prototype._peekTag=function(a,v,y){if(a.isEmpty())return!1;const p=a.save(),E=n(a,'Failed to peek tag: "'+v+'"');return a.isError(E)?E:(a.restore(p),E.tag===v||E.tagStr===v||E.tagStr+"of"===v||y)},r.prototype._decodeTag=function(a,v,y){const p=n(a,'Failed to decode tag of "'+v+'"');if(a.isError(p))return p;let E=l(a,p.primitive,'Failed to get length of "'+v+'"');if(a.isError(E))return E;if(!y&&p.tag!==v&&p.tagStr!==v&&p.tagStr+"of"!==v)return a.error('Failed to match tag: "'+v+'"');if(p.primitive||E!==null)return a.skip(E,'Failed to match body of: "'+v+'"');const T=a.save(),S=this._skipUntilEnd(a,'Failed to skip indefinite length body: "'+this.tag+'"');return a.isError(S)?S:(E=a.offset-T.offset,a.restore(T),a.skip(E,'Failed to match body of: "'+v+'"'))},r.prototype._skipUntilEnd=function(a,v){for(;;){const y=n(a,v);if(a.isError(y))return y;const p=l(a,y.primitive,v);if(a.isError(p))return p;let E;if(y.primitive||p!==null?E=a.skip(p):E=this._skipUntilEnd(a,v),a.isError(E))return E;if(y.tagStr==="end")break}},r.prototype._decodeList=function(a,v,y,p){const E=[];for(;!a.isEmpty();){const T=this._peekTag(a,"end");if(a.isError(T))return T;const S=y.decode(a,"der",p);if(a.isError(S)&&T)break;E.push(S)}return E},r.prototype._decodeStr=function(a,v){if(v==="bitstr"){const y=a.readUInt8();return a.isError(y)?y:{unused:y,data:a.raw()}}else if(v==="bmpstr"){const y=a.raw();if(y.length%2===1)return a.error("Decoding of string type: bmpstr length mismatch");let p="";for(let E=0;E<y.length/2;E++)p+=String.fromCharCode(y.readUInt16BE(E*2));return p}else if(v==="numstr"){const y=a.raw().toString("ascii");return this._isNumstr(y)?y:a.error("Decoding of string type: numstr unsupported characters")}else{if(v==="octstr")return a.raw();if(v==="objDesc")return a.raw();if(v==="printstr"){const y=a.raw().toString("ascii");return this._isPrintstr(y)?y:a.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(v)?a.raw().toString():a.error("Decoding of string type: "+v+" unsupported")}},r.prototype._decodeObjid=function(a,v,y){let p;const E=[];let T=0,S=0;for(;!a.isEmpty();)S=a.readUInt8(),T<<=7,T|=S&127,S&128||(E.push(T),T=0);S&128&&E.push(T);const A=E[0]/40|0,w=E[0]%40;if(y?p=E:p=[A,w].concat(E.slice(1)),v){let I=v[p.join(" ")];I===void 0&&(I=v[p.join(".")]),I!==void 0&&(p=I)}return p},r.prototype._decodeTime=function(a,v){const y=a.raw().toString();let p,E,T,S,A,w;if(v==="gentime")p=y.slice(0,4)|0,E=y.slice(4,6)|0,T=y.slice(6,8)|0,S=y.slice(8,10)|0,A=y.slice(10,12)|0,w=y.slice(12,14)|0;else if(v==="utctime")p=y.slice(0,2)|0,E=y.slice(2,4)|0,T=y.slice(4,6)|0,S=y.slice(6,8)|0,A=y.slice(8,10)|0,w=y.slice(10,12)|0,p<70?p=2e3+p:p=1900+p;else return a.error("Decoding "+v+" time is not supported yet");return Date.UTC(p,E-1,T,S,A,w,0)},r.prototype._decodeNull=function(){return null},r.prototype._decodeBool=function(a){const v=a.readUInt8();return a.isError(v)?v:v!==0},r.prototype._decodeInt=function(a,v){const y=a.raw();let p=new u(y);return v&&(p=v[p.toString(10)]||p),p},r.prototype._use=function(a,v){return typeof a=="function"&&(a=a(v)),a._getDecoder("der").tree};function n(d,a){let v=d.readUInt8(a);if(d.isError(v))return v;const y=t.tagClass[v>>6],p=(v&32)===0;if((v&31)===31){let T=v;for(v=0;(T&128)===128;){if(T=d.readUInt8(a),d.isError(T))return T;v<<=7,v|=T&127}}else v&=31;const E=t.tag[v];return{cls:y,primitive:p,tag:v,tagStr:E}}function l(d,a,v){let y=d.readUInt8(v);if(d.isError(y))return y;if(!a&&y===128)return null;if(!(y&128))return y;const p=y&127;if(p>4)return d.error("length octect is too long");y=0;for(let E=0;E<p;E++){y<<=8;const T=d.readUInt8(v);if(d.isError(T))return T;y|=T}return y}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,m,g){const f=g;f.der=e("./der"),f.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,m,g){const f=e("inherits"),u=e("safer-buffer").Buffer,h=e("./der");function s(t){h.call(this,t),this.enc="pem"}f(s,h),m.exports=s,s.prototype.decode=function(i,r){const n=i.toString().split(/[\r\n]+/g),l=r.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,v=-1;for(let E=0;E<n.length;E++){const T=n[E].match(d);if(T!==null&&T[2]===l)if(a===-1){if(T[1]!=="BEGIN")break;a=E}else{if(T[1]!=="END")break;v=E;break}}if(a===-1||v===-1)throw new Error("PEM section not found for: "+l);const y=n.slice(a+1,v).join("");y.replace(/[^a-z0-9+/=]+/gi,"");const p=u.from(y,"base64");return h.prototype.decode.call(this,p,r)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,m,g){const f=e("inherits"),u=e("safer-buffer").Buffer,h=e("../base/node"),s=e("../constants/der");function t(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new i,this.tree._init(l.body)}m.exports=t,t.prototype.encode=function(d,a){return this.tree._encode(d,a).join()};function i(l){h.call(this,"der",l)}f(i,h),i.prototype._encodeComposite=function(d,a,v,y){const p=n(d,a,v,this.reporter);if(y.length<128){const S=u.alloc(2);return S[0]=p,S[1]=y.length,this._createEncoderBuffer([S,y])}let E=1;for(let S=y.length;S>=256;S>>=8)E++;const T=u.alloc(2+E);T[0]=p,T[1]=128|E;for(let S=1+E,A=y.length;A>0;S--,A>>=8)T[S]=A&255;return this._createEncoderBuffer([T,y])},i.prototype._encodeStr=function(d,a){if(a==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(a==="bmpstr"){const v=u.alloc(d.length*2);for(let y=0;y<d.length;y++)v.writeUInt16BE(d.charCodeAt(y),y*2);return this._createEncoderBuffer(v)}else return a==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):a==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(a)?this._createEncoderBuffer(d):a==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+a+" unsupported")},i.prototype._encodeObjid=function(d,a,v){if(typeof d=="string"){if(!a)return this.reporter.error("string objid given, but no values map found");if(!a.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=a[d].split(/[\s.]+/g);for(let T=0;T<d.length;T++)d[T]|=0}else if(Array.isArray(d)){d=d.slice();for(let T=0;T<d.length;T++)d[T]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!v){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}let y=0;for(let T=0;T<d.length;T++){let S=d[T];for(y++;S>=128;S>>=7)y++}const p=u.alloc(y);let E=p.length-1;for(let T=d.length-1;T>=0;T--){let S=d[T];for(p[E--]=S&127;(S>>=7)>0;)p[E--]=128|S&127}return this._createEncoderBuffer(p)};function r(l){return l<10?"0"+l:l}i.prototype._encodeTime=function(d,a){let v;const y=new Date(d);return a==="gentime"?v=[r(y.getUTCFullYear()),r(y.getUTCMonth()+1),r(y.getUTCDate()),r(y.getUTCHours()),r(y.getUTCMinutes()),r(y.getUTCSeconds()),"Z"].join(""):a==="utctime"?v=[r(y.getUTCFullYear()%100),r(y.getUTCMonth()+1),r(y.getUTCDate()),r(y.getUTCHours()),r(y.getUTCMinutes()),r(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+a+" time is not supported yet"),this._encodeStr(v,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(d,a){if(typeof d=="string"){if(!a)return this.reporter.error("String int or enum given, but no values map");if(!a.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=a[d]}if(typeof d!="number"&&!u.isBuffer(d)){const p=d.toArray();!d.sign&&p[0]&128&&p.unshift(0),d=u.from(p)}if(u.isBuffer(d)){let p=d.length;d.length===0&&p++;const E=u.alloc(p);return d.copy(E),d.length===0&&(E[0]=0),this._createEncoderBuffer(E)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let v=1;for(let p=d;p>=256;p>>=8)v++;const y=new Array(v);for(let p=y.length-1;p>=0;p--)y[p]=d&255,d>>=8;return y[0]&128&&y.unshift(0),this._createEncoderBuffer(u.from(y))},i.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},i.prototype._use=function(d,a){return typeof d=="function"&&(d=d(a)),d._getEncoder("der").tree},i.prototype._skipDefault=function(d,a,v){const y=this._baseState;let p;if(y.default===null)return!1;const E=d.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,a,v).join()),E.length!==y.defaultBuffer.length)return!1;for(p=0;p<E.length;p++)if(E[p]!==y.defaultBuffer[p])return!1;return!0};function n(l,d,a,v){let y;if(l==="seqof"?l="seq":l==="setof"&&(l="set"),s.tagByName.hasOwnProperty(l))y=s.tagByName[l];else if(typeof l=="number"&&(l|0)===l)y=l;else return v.error("Unknown tag: "+l);return y>=31?v.error("Multi-octet tag encoding unsupported"):(d||(y|=32),y|=s.tagClassByName[a||"universal"]<<6,y)}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,m,g){const f=g;f.der=e("./der"),f.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,m,g){const f=e("inherits"),u=e("./der");function h(s){u.call(this,s),this.enc="pem"}f(h,u),m.exports=h,h.prototype.encode=function(t,i){const n=u.prototype.encode.call(this,t).toString("base64"),l=["-----BEGIN "+i.label+"-----"];for(let d=0;d<n.length;d+=64)l.push(n.slice(d,d+64));return l.push("-----END "+i.label+"-----"),l.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,m,g){(function(f,u){function h(W,j){if(!W)throw new Error(j||"Assertion failed")}function s(W,j){W.super_=j;var O=function(){};O.prototype=j.prototype,W.prototype=new O,W.prototype.constructor=W}function t(W,j,O){if(t.isBN(W))return W;this.negative=0,this.words=null,this.length=0,this.red=null,W!==null&&((j==="le"||j==="be")&&(O=j,j=10),this._init(W||0,j||10,O||"be"))}typeof f=="object"?f.exports=t:u.BN=t,t.BN=t,t.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=e("buffer").Buffer}catch{}t.isBN=function(j){return j instanceof t?!0:j!==null&&typeof j=="object"&&j.constructor.wordSize===t.wordSize&&Array.isArray(j.words)},t.max=function(j,O){return j.cmp(O)>0?j:O},t.min=function(j,O){return j.cmp(O)<0?j:O},t.prototype._init=function(j,O,C){if(typeof j=="number")return this._initNumber(j,O,C);if(typeof j=="object")return this._initArray(j,O,C);O==="hex"&&(O=16),h(O===(O|0)&&O>=2&&O<=36),j=j.toString().replace(/\s+/g,"");var F=0;j[0]==="-"&&(F++,this.negative=1),F<j.length&&(O===16?this._parseHex(j,F,C):(this._parseBase(j,O,F),C==="le"&&this._initArray(this.toArray(),O,C)))},t.prototype._initNumber=function(j,O,C){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[j&67108863],this.length=1):j<4503599627370496?(this.words=[j&67108863,j/67108864&67108863],this.length=2):(h(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),O,C)},t.prototype._initArray=function(j,O,C){if(h(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var H,$,Y=0;if(C==="be")for(F=j.length-1,H=0;F>=0;F-=3)$=j[F]|j[F-1]<<8|j[F-2]<<16,this.words[H]|=$<<Y&67108863,this.words[H+1]=$>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,H++);else if(C==="le")for(F=0,H=0;F<j.length;F+=3)$=j[F]|j[F+1]<<8|j[F+2]<<16,this.words[H]|=$<<Y&67108863,this.words[H+1]=$>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,H++);return this.strip()};function r(W,j){var O=W.charCodeAt(j);return O>=65&&O<=70?O-55:O>=97&&O<=102?O-87:O-48&15}function n(W,j,O){var C=r(W,O);return O-1>=j&&(C|=r(W,O-1)<<4),C}t.prototype._parseHex=function(j,O,C){this.length=Math.ceil((j.length-O)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var H=0,$=0,Y;if(C==="be")for(F=j.length-1;F>=O;F-=2)Y=n(j,O,F)<<H,this.words[$]|=Y&67108863,H>=18?(H-=18,$+=1,this.words[$]|=Y>>>26):H+=8;else{var z=j.length-O;for(F=z%2===0?O+1:O;F<j.length;F+=2)Y=n(j,O,F)<<H,this.words[$]|=Y&67108863,H>=18?(H-=18,$+=1,this.words[$]|=Y>>>26):H+=8}this.strip()};function l(W,j,O,C){for(var F=0,H=Math.min(W.length,O),$=j;$<H;$++){var Y=W.charCodeAt($)-48;F*=C,Y>=49?F+=Y-49+10:Y>=17?F+=Y-17+10:F+=Y}return F}t.prototype._parseBase=function(j,O,C){this.words=[0],this.length=1;for(var F=0,H=1;H<=67108863;H*=O)F++;F--,H=H/O|0;for(var $=j.length-C,Y=$%F,z=Math.min($,$-Y)+C,B=0,L=C;L<z;L+=F)B=l(j,L,L+F,O),this.imuln(H),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(Y!==0){var G=1;for(B=l(j,L,j.length,O),L=0;L<Y;L++)G*=O;this.imuln(G),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},t.prototype.copy=function(j){j.words=new Array(this.length);for(var O=0;O<this.length;O++)j.words[O]=this.words[O];j.length=this.length,j.negative=this.negative,j.red=this.red},t.prototype.clone=function(){var j=new t(null);return this.copy(j),j},t.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];t.prototype.toString=function(j,O){j=j||10,O=O|0||1;var C;if(j===16||j==="hex"){C="";for(var F=0,H=0,$=0;$<this.length;$++){var Y=this.words[$],z=((Y<<F|H)&16777215).toString(16);H=Y>>>24-F&16777215,H!==0||$!==this.length-1?C=d[6-z.length]+z+C:C=z+C,F+=2,F>=26&&(F-=26,$--)}for(H!==0&&(C=H.toString(16)+C);C.length%O!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(j===(j|0)&&j>=2&&j<=36){var B=a[j],L=v[j];C="";var G=this.clone();for(G.negative=0;!G.isZero();){var le=G.modn(L).toString(j);G=G.idivn(L),G.isZero()?C=le+C:C=d[B-le.length]+le+C}for(this.isZero()&&(C="0"+C);C.length%O!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}h(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=this.words[1]*67108864:this.length===3&&this.words[2]===1?j+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(j,O){return h(typeof i<"u"),this.toArrayLike(i,j,O)},t.prototype.toArray=function(j,O){return this.toArrayLike(Array,j,O)},t.prototype.toArrayLike=function(j,O,C){var F=this.byteLength(),H=C||Math.max(1,F);h(F<=H,"byte array longer than desired length"),h(H>0,"Requested array length <= 0"),this.strip();var $=O==="le",Y=new j(H),z,B,L=this.clone();if($){for(B=0;!L.isZero();B++)z=L.andln(255),L.iushrn(8),Y[B]=z;for(;B<H;B++)Y[B]=0}else{for(B=0;B<H-F;B++)Y[B]=0;for(B=0;!L.isZero();B++)z=L.andln(255),L.iushrn(8),Y[H-B-1]=z}return Y},Math.clz32?t.prototype._countBits=function(j){return 32-Math.clz32(j)}:t.prototype._countBits=function(j){var O=j,C=0;return O>=4096&&(C+=13,O>>>=13),O>=64&&(C+=7,O>>>=7),O>=8&&(C+=4,O>>>=4),O>=2&&(C+=2,O>>>=2),C+O},t.prototype._zeroBits=function(j){if(j===0)return 26;var O=j,C=0;return O&8191||(C+=13,O>>>=13),O&127||(C+=7,O>>>=7),O&15||(C+=4,O>>>=4),O&3||(C+=2,O>>>=2),O&1||C++,C},t.prototype.bitLength=function(){var j=this.words[this.length-1],O=this._countBits(j);return(this.length-1)*26+O};function y(W){for(var j=new Array(W.bitLength()),O=0;O<j.length;O++){var C=O/26|0,F=O%26;j[O]=(W.words[C]&1<<F)>>>F}return j}t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,O=0;O<this.length;O++){var C=this._zeroBits(this.words[O]);if(j+=C,C!==26)break}return j},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},t.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var O=0;O<j.length;O++)this.words[O]=this.words[O]|j.words[O];return this.strip()},t.prototype.ior=function(j){return h((this.negative|j.negative)===0),this.iuor(j)},t.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},t.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},t.prototype.iuand=function(j){var O;this.length>j.length?O=j:O=this;for(var C=0;C<O.length;C++)this.words[C]=this.words[C]&j.words[C];return this.length=O.length,this.strip()},t.prototype.iand=function(j){return h((this.negative|j.negative)===0),this.iuand(j)},t.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},t.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},t.prototype.iuxor=function(j){var O,C;this.length>j.length?(O=this,C=j):(O=j,C=this);for(var F=0;F<C.length;F++)this.words[F]=O.words[F]^C.words[F];if(this!==O)for(;F<O.length;F++)this.words[F]=O.words[F];return this.length=O.length,this.strip()},t.prototype.ixor=function(j){return h((this.negative|j.negative)===0),this.iuxor(j)},t.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},t.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},t.prototype.inotn=function(j){h(typeof j=="number"&&j>=0);var O=Math.ceil(j/26)|0,C=j%26;this._expand(O),C>0&&O--;for(var F=0;F<O;F++)this.words[F]=~this.words[F]&67108863;return C>0&&(this.words[F]=~this.words[F]&67108863>>26-C),this.strip()},t.prototype.notn=function(j){return this.clone().inotn(j)},t.prototype.setn=function(j,O){h(typeof j=="number"&&j>=0);var C=j/26|0,F=j%26;return this._expand(C+1),O?this.words[C]=this.words[C]|1<<F:this.words[C]=this.words[C]&~(1<<F),this.strip()},t.prototype.iadd=function(j){var O;if(this.negative!==0&&j.negative===0)return this.negative=0,O=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,O=this.isub(j),j.negative=1,O._normSign();var C,F;this.length>j.length?(C=this,F=j):(C=j,F=this);for(var H=0,$=0;$<F.length;$++)O=(C.words[$]|0)+(F.words[$]|0)+H,this.words[$]=O&67108863,H=O>>>26;for(;H!==0&&$<C.length;$++)O=(C.words[$]|0)+H,this.words[$]=O&67108863,H=O>>>26;if(this.length=C.length,H!==0)this.words[this.length]=H,this.length++;else if(C!==this)for(;$<C.length;$++)this.words[$]=C.words[$];return this},t.prototype.add=function(j){var O;return j.negative!==0&&this.negative===0?(j.negative=0,O=this.sub(j),j.negative^=1,O):j.negative===0&&this.negative!==0?(this.negative=0,O=j.sub(this),this.negative=1,O):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},t.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var O=this.iadd(j);return j.negative=1,O._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var C=this.cmp(j);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var F,H;C>0?(F=this,H=j):(F=j,H=this);for(var $=0,Y=0;Y<H.length;Y++)O=(F.words[Y]|0)-(H.words[Y]|0)+$,$=O>>26,this.words[Y]=O&67108863;for(;$!==0&&Y<F.length;Y++)O=(F.words[Y]|0)+$,$=O>>26,this.words[Y]=O&67108863;if($===0&&Y<F.length&&F!==this)for(;Y<F.length;Y++)this.words[Y]=F.words[Y];return this.length=Math.max(this.length,Y),F!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(j){return this.clone().isub(j)};function p(W,j,O){O.negative=j.negative^W.negative;var C=W.length+j.length|0;O.length=C,C=C-1|0;var F=W.words[0]|0,H=j.words[0]|0,$=F*H,Y=$&67108863,z=$/67108864|0;O.words[0]=Y;for(var B=1;B<C;B++){for(var L=z>>>26,G=z&67108863,le=Math.min(B,j.length-1),ge=Math.max(0,B-W.length+1);ge<=le;ge++){var Ie=B-ge|0;F=W.words[Ie]|0,H=j.words[ge]|0,$=F*H+G,L+=$/67108864|0,G=$&67108863}O.words[B]=G|0,z=L|0}return z!==0?O.words[B]=z|0:O.length--,O.strip()}var E=function(j,O,C){var F=j.words,H=O.words,$=C.words,Y=0,z,B,L,G=F[0]|0,le=G&8191,ge=G>>>13,Ie=F[1]|0,Oe=Ie&8191,Ke=Ie>>>13,De=F[2]|0,Ee=De&8191,Q=De>>>13,ue=F[3]|0,xe=ue&8191,_e=ue>>>13,ce=F[4]|0,de=ce&8191,he=ce>>>13,se=F[5]|0,ne=se&8191,we=se>>>13,Ne=F[6]|0,ae=Ne&8191,Pe=Ne>>>13,ze=F[7]|0,ve=ze&8191,Ae=ze>>>13,Be=F[8]|0,We=Be&8191,Je=Be>>>13,Ge=F[9]|0,et=Ge&8191,ut=Ge>>>13,at=H[0]|0,Fe=at&8191,Qe=at>>>13,rt=H[1]|0,mt=rt&8191,Ut=rt>>>13,jt=H[2]|0,kt=jt&8191,Nt=jt>>>13,Tt=H[3]|0,Mt=Tt&8191,Dt=Tt>>>13,It=H[4]|0,$t=It&8191,Sr=It>>>13,mr=H[5]|0,Xt=mr&8191,hr=mr>>>13,Mr=H[6]|0,ir=Mr&8191,Vr=Mr>>>13,Nr=H[7]|0,qt=Nr&8191,Pr=Nr>>>13,ur=H[8]|0,rr=ur&8191,Ar=ur>>>13,dr=H[9]|0,tr=dr&8191,Hr=dr>>>13;C.negative=j.negative^O.negative,C.length=19,z=Math.imul(le,Fe),B=Math.imul(le,Qe),B=B+Math.imul(ge,Fe)|0,L=Math.imul(ge,Qe);var or=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(or>>>26)|0,or&=67108863,z=Math.imul(Oe,Fe),B=Math.imul(Oe,Qe),B=B+Math.imul(Ke,Fe)|0,L=Math.imul(Ke,Qe),z=z+Math.imul(le,mt)|0,B=B+Math.imul(le,Ut)|0,B=B+Math.imul(ge,mt)|0,L=L+Math.imul(ge,Ut)|0;var nr=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(nr>>>26)|0,nr&=67108863,z=Math.imul(Ee,Fe),B=Math.imul(Ee,Qe),B=B+Math.imul(Q,Fe)|0,L=Math.imul(Q,Qe),z=z+Math.imul(Oe,mt)|0,B=B+Math.imul(Oe,Ut)|0,B=B+Math.imul(Ke,mt)|0,L=L+Math.imul(Ke,Ut)|0,z=z+Math.imul(le,kt)|0,B=B+Math.imul(le,Nt)|0,B=B+Math.imul(ge,kt)|0,L=L+Math.imul(ge,Nt)|0;var Ue=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,z=Math.imul(xe,Fe),B=Math.imul(xe,Qe),B=B+Math.imul(_e,Fe)|0,L=Math.imul(_e,Qe),z=z+Math.imul(Ee,mt)|0,B=B+Math.imul(Ee,Ut)|0,B=B+Math.imul(Q,mt)|0,L=L+Math.imul(Q,Ut)|0,z=z+Math.imul(Oe,kt)|0,B=B+Math.imul(Oe,Nt)|0,B=B+Math.imul(Ke,kt)|0,L=L+Math.imul(Ke,Nt)|0,z=z+Math.imul(le,Mt)|0,B=B+Math.imul(le,Dt)|0,B=B+Math.imul(ge,Mt)|0,L=L+Math.imul(ge,Dt)|0;var it=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(it>>>26)|0,it&=67108863,z=Math.imul(de,Fe),B=Math.imul(de,Qe),B=B+Math.imul(he,Fe)|0,L=Math.imul(he,Qe),z=z+Math.imul(xe,mt)|0,B=B+Math.imul(xe,Ut)|0,B=B+Math.imul(_e,mt)|0,L=L+Math.imul(_e,Ut)|0,z=z+Math.imul(Ee,kt)|0,B=B+Math.imul(Ee,Nt)|0,B=B+Math.imul(Q,kt)|0,L=L+Math.imul(Q,Nt)|0,z=z+Math.imul(Oe,Mt)|0,B=B+Math.imul(Oe,Dt)|0,B=B+Math.imul(Ke,Mt)|0,L=L+Math.imul(Ke,Dt)|0,z=z+Math.imul(le,$t)|0,B=B+Math.imul(le,Sr)|0,B=B+Math.imul(ge,$t)|0,L=L+Math.imul(ge,Sr)|0;var ot=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(ot>>>26)|0,ot&=67108863,z=Math.imul(ne,Fe),B=Math.imul(ne,Qe),B=B+Math.imul(we,Fe)|0,L=Math.imul(we,Qe),z=z+Math.imul(de,mt)|0,B=B+Math.imul(de,Ut)|0,B=B+Math.imul(he,mt)|0,L=L+Math.imul(he,Ut)|0,z=z+Math.imul(xe,kt)|0,B=B+Math.imul(xe,Nt)|0,B=B+Math.imul(_e,kt)|0,L=L+Math.imul(_e,Nt)|0,z=z+Math.imul(Ee,Mt)|0,B=B+Math.imul(Ee,Dt)|0,B=B+Math.imul(Q,Mt)|0,L=L+Math.imul(Q,Dt)|0,z=z+Math.imul(Oe,$t)|0,B=B+Math.imul(Oe,Sr)|0,B=B+Math.imul(Ke,$t)|0,L=L+Math.imul(Ke,Sr)|0,z=z+Math.imul(le,Xt)|0,B=B+Math.imul(le,hr)|0,B=B+Math.imul(ge,Xt)|0,L=L+Math.imul(ge,hr)|0;var Rt=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,z=Math.imul(ae,Fe),B=Math.imul(ae,Qe),B=B+Math.imul(Pe,Fe)|0,L=Math.imul(Pe,Qe),z=z+Math.imul(ne,mt)|0,B=B+Math.imul(ne,Ut)|0,B=B+Math.imul(we,mt)|0,L=L+Math.imul(we,Ut)|0,z=z+Math.imul(de,kt)|0,B=B+Math.imul(de,Nt)|0,B=B+Math.imul(he,kt)|0,L=L+Math.imul(he,Nt)|0,z=z+Math.imul(xe,Mt)|0,B=B+Math.imul(xe,Dt)|0,B=B+Math.imul(_e,Mt)|0,L=L+Math.imul(_e,Dt)|0,z=z+Math.imul(Ee,$t)|0,B=B+Math.imul(Ee,Sr)|0,B=B+Math.imul(Q,$t)|0,L=L+Math.imul(Q,Sr)|0,z=z+Math.imul(Oe,Xt)|0,B=B+Math.imul(Oe,hr)|0,B=B+Math.imul(Ke,Xt)|0,L=L+Math.imul(Ke,hr)|0,z=z+Math.imul(le,ir)|0,B=B+Math.imul(le,Vr)|0,B=B+Math.imul(ge,ir)|0,L=L+Math.imul(ge,Vr)|0;var zt=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(zt>>>26)|0,zt&=67108863,z=Math.imul(ve,Fe),B=Math.imul(ve,Qe),B=B+Math.imul(Ae,Fe)|0,L=Math.imul(Ae,Qe),z=z+Math.imul(ae,mt)|0,B=B+Math.imul(ae,Ut)|0,B=B+Math.imul(Pe,mt)|0,L=L+Math.imul(Pe,Ut)|0,z=z+Math.imul(ne,kt)|0,B=B+Math.imul(ne,Nt)|0,B=B+Math.imul(we,kt)|0,L=L+Math.imul(we,Nt)|0,z=z+Math.imul(de,Mt)|0,B=B+Math.imul(de,Dt)|0,B=B+Math.imul(he,Mt)|0,L=L+Math.imul(he,Dt)|0,z=z+Math.imul(xe,$t)|0,B=B+Math.imul(xe,Sr)|0,B=B+Math.imul(_e,$t)|0,L=L+Math.imul(_e,Sr)|0,z=z+Math.imul(Ee,Xt)|0,B=B+Math.imul(Ee,hr)|0,B=B+Math.imul(Q,Xt)|0,L=L+Math.imul(Q,hr)|0,z=z+Math.imul(Oe,ir)|0,B=B+Math.imul(Oe,Vr)|0,B=B+Math.imul(Ke,ir)|0,L=L+Math.imul(Ke,Vr)|0,z=z+Math.imul(le,qt)|0,B=B+Math.imul(le,Pr)|0,B=B+Math.imul(ge,qt)|0,L=L+Math.imul(ge,Pr)|0;var gr=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(gr>>>26)|0,gr&=67108863,z=Math.imul(We,Fe),B=Math.imul(We,Qe),B=B+Math.imul(Je,Fe)|0,L=Math.imul(Je,Qe),z=z+Math.imul(ve,mt)|0,B=B+Math.imul(ve,Ut)|0,B=B+Math.imul(Ae,mt)|0,L=L+Math.imul(Ae,Ut)|0,z=z+Math.imul(ae,kt)|0,B=B+Math.imul(ae,Nt)|0,B=B+Math.imul(Pe,kt)|0,L=L+Math.imul(Pe,Nt)|0,z=z+Math.imul(ne,Mt)|0,B=B+Math.imul(ne,Dt)|0,B=B+Math.imul(we,Mt)|0,L=L+Math.imul(we,Dt)|0,z=z+Math.imul(de,$t)|0,B=B+Math.imul(de,Sr)|0,B=B+Math.imul(he,$t)|0,L=L+Math.imul(he,Sr)|0,z=z+Math.imul(xe,Xt)|0,B=B+Math.imul(xe,hr)|0,B=B+Math.imul(_e,Xt)|0,L=L+Math.imul(_e,hr)|0,z=z+Math.imul(Ee,ir)|0,B=B+Math.imul(Ee,Vr)|0,B=B+Math.imul(Q,ir)|0,L=L+Math.imul(Q,Vr)|0,z=z+Math.imul(Oe,qt)|0,B=B+Math.imul(Oe,Pr)|0,B=B+Math.imul(Ke,qt)|0,L=L+Math.imul(Ke,Pr)|0,z=z+Math.imul(le,rr)|0,B=B+Math.imul(le,Ar)|0,B=B+Math.imul(ge,rr)|0,L=L+Math.imul(ge,Ar)|0;var Gr=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,z=Math.imul(et,Fe),B=Math.imul(et,Qe),B=B+Math.imul(ut,Fe)|0,L=Math.imul(ut,Qe),z=z+Math.imul(We,mt)|0,B=B+Math.imul(We,Ut)|0,B=B+Math.imul(Je,mt)|0,L=L+Math.imul(Je,Ut)|0,z=z+Math.imul(ve,kt)|0,B=B+Math.imul(ve,Nt)|0,B=B+Math.imul(Ae,kt)|0,L=L+Math.imul(Ae,Nt)|0,z=z+Math.imul(ae,Mt)|0,B=B+Math.imul(ae,Dt)|0,B=B+Math.imul(Pe,Mt)|0,L=L+Math.imul(Pe,Dt)|0,z=z+Math.imul(ne,$t)|0,B=B+Math.imul(ne,Sr)|0,B=B+Math.imul(we,$t)|0,L=L+Math.imul(we,Sr)|0,z=z+Math.imul(de,Xt)|0,B=B+Math.imul(de,hr)|0,B=B+Math.imul(he,Xt)|0,L=L+Math.imul(he,hr)|0,z=z+Math.imul(xe,ir)|0,B=B+Math.imul(xe,Vr)|0,B=B+Math.imul(_e,ir)|0,L=L+Math.imul(_e,Vr)|0,z=z+Math.imul(Ee,qt)|0,B=B+Math.imul(Ee,Pr)|0,B=B+Math.imul(Q,qt)|0,L=L+Math.imul(Q,Pr)|0,z=z+Math.imul(Oe,rr)|0,B=B+Math.imul(Oe,Ar)|0,B=B+Math.imul(Ke,rr)|0,L=L+Math.imul(Ke,Ar)|0,z=z+Math.imul(le,tr)|0,B=B+Math.imul(le,Hr)|0,B=B+Math.imul(ge,tr)|0,L=L+Math.imul(ge,Hr)|0;var di=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(di>>>26)|0,di&=67108863,z=Math.imul(et,mt),B=Math.imul(et,Ut),B=B+Math.imul(ut,mt)|0,L=Math.imul(ut,Ut),z=z+Math.imul(We,kt)|0,B=B+Math.imul(We,Nt)|0,B=B+Math.imul(Je,kt)|0,L=L+Math.imul(Je,Nt)|0,z=z+Math.imul(ve,Mt)|0,B=B+Math.imul(ve,Dt)|0,B=B+Math.imul(Ae,Mt)|0,L=L+Math.imul(Ae,Dt)|0,z=z+Math.imul(ae,$t)|0,B=B+Math.imul(ae,Sr)|0,B=B+Math.imul(Pe,$t)|0,L=L+Math.imul(Pe,Sr)|0,z=z+Math.imul(ne,Xt)|0,B=B+Math.imul(ne,hr)|0,B=B+Math.imul(we,Xt)|0,L=L+Math.imul(we,hr)|0,z=z+Math.imul(de,ir)|0,B=B+Math.imul(de,Vr)|0,B=B+Math.imul(he,ir)|0,L=L+Math.imul(he,Vr)|0,z=z+Math.imul(xe,qt)|0,B=B+Math.imul(xe,Pr)|0,B=B+Math.imul(_e,qt)|0,L=L+Math.imul(_e,Pr)|0,z=z+Math.imul(Ee,rr)|0,B=B+Math.imul(Ee,Ar)|0,B=B+Math.imul(Q,rr)|0,L=L+Math.imul(Q,Ar)|0,z=z+Math.imul(Oe,tr)|0,B=B+Math.imul(Oe,Hr)|0,B=B+Math.imul(Ke,tr)|0,L=L+Math.imul(Ke,Hr)|0;var gi=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(gi>>>26)|0,gi&=67108863,z=Math.imul(et,kt),B=Math.imul(et,Nt),B=B+Math.imul(ut,kt)|0,L=Math.imul(ut,Nt),z=z+Math.imul(We,Mt)|0,B=B+Math.imul(We,Dt)|0,B=B+Math.imul(Je,Mt)|0,L=L+Math.imul(Je,Dt)|0,z=z+Math.imul(ve,$t)|0,B=B+Math.imul(ve,Sr)|0,B=B+Math.imul(Ae,$t)|0,L=L+Math.imul(Ae,Sr)|0,z=z+Math.imul(ae,Xt)|0,B=B+Math.imul(ae,hr)|0,B=B+Math.imul(Pe,Xt)|0,L=L+Math.imul(Pe,hr)|0,z=z+Math.imul(ne,ir)|0,B=B+Math.imul(ne,Vr)|0,B=B+Math.imul(we,ir)|0,L=L+Math.imul(we,Vr)|0,z=z+Math.imul(de,qt)|0,B=B+Math.imul(de,Pr)|0,B=B+Math.imul(he,qt)|0,L=L+Math.imul(he,Pr)|0,z=z+Math.imul(xe,rr)|0,B=B+Math.imul(xe,Ar)|0,B=B+Math.imul(_e,rr)|0,L=L+Math.imul(_e,Ar)|0,z=z+Math.imul(Ee,tr)|0,B=B+Math.imul(Ee,Hr)|0,B=B+Math.imul(Q,tr)|0,L=L+Math.imul(Q,Hr)|0;var ci=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(ci>>>26)|0,ci&=67108863,z=Math.imul(et,Mt),B=Math.imul(et,Dt),B=B+Math.imul(ut,Mt)|0,L=Math.imul(ut,Dt),z=z+Math.imul(We,$t)|0,B=B+Math.imul(We,Sr)|0,B=B+Math.imul(Je,$t)|0,L=L+Math.imul(Je,Sr)|0,z=z+Math.imul(ve,Xt)|0,B=B+Math.imul(ve,hr)|0,B=B+Math.imul(Ae,Xt)|0,L=L+Math.imul(Ae,hr)|0,z=z+Math.imul(ae,ir)|0,B=B+Math.imul(ae,Vr)|0,B=B+Math.imul(Pe,ir)|0,L=L+Math.imul(Pe,Vr)|0,z=z+Math.imul(ne,qt)|0,B=B+Math.imul(ne,Pr)|0,B=B+Math.imul(we,qt)|0,L=L+Math.imul(we,Pr)|0,z=z+Math.imul(de,rr)|0,B=B+Math.imul(de,Ar)|0,B=B+Math.imul(he,rr)|0,L=L+Math.imul(he,Ar)|0,z=z+Math.imul(xe,tr)|0,B=B+Math.imul(xe,Hr)|0,B=B+Math.imul(_e,tr)|0,L=L+Math.imul(_e,Hr)|0;var ti=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(ti>>>26)|0,ti&=67108863,z=Math.imul(et,$t),B=Math.imul(et,Sr),B=B+Math.imul(ut,$t)|0,L=Math.imul(ut,Sr),z=z+Math.imul(We,Xt)|0,B=B+Math.imul(We,hr)|0,B=B+Math.imul(Je,Xt)|0,L=L+Math.imul(Je,hr)|0,z=z+Math.imul(ve,ir)|0,B=B+Math.imul(ve,Vr)|0,B=B+Math.imul(Ae,ir)|0,L=L+Math.imul(Ae,Vr)|0,z=z+Math.imul(ae,qt)|0,B=B+Math.imul(ae,Pr)|0,B=B+Math.imul(Pe,qt)|0,L=L+Math.imul(Pe,Pr)|0,z=z+Math.imul(ne,rr)|0,B=B+Math.imul(ne,Ar)|0,B=B+Math.imul(we,rr)|0,L=L+Math.imul(we,Ar)|0,z=z+Math.imul(de,tr)|0,B=B+Math.imul(de,Hr)|0,B=B+Math.imul(he,tr)|0,L=L+Math.imul(he,Hr)|0;var fn=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(fn>>>26)|0,fn&=67108863,z=Math.imul(et,Xt),B=Math.imul(et,hr),B=B+Math.imul(ut,Xt)|0,L=Math.imul(ut,hr),z=z+Math.imul(We,ir)|0,B=B+Math.imul(We,Vr)|0,B=B+Math.imul(Je,ir)|0,L=L+Math.imul(Je,Vr)|0,z=z+Math.imul(ve,qt)|0,B=B+Math.imul(ve,Pr)|0,B=B+Math.imul(Ae,qt)|0,L=L+Math.imul(Ae,Pr)|0,z=z+Math.imul(ae,rr)|0,B=B+Math.imul(ae,Ar)|0,B=B+Math.imul(Pe,rr)|0,L=L+Math.imul(Pe,Ar)|0,z=z+Math.imul(ne,tr)|0,B=B+Math.imul(ne,Hr)|0,B=B+Math.imul(we,tr)|0,L=L+Math.imul(we,Hr)|0;var en=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(en>>>26)|0,en&=67108863,z=Math.imul(et,ir),B=Math.imul(et,Vr),B=B+Math.imul(ut,ir)|0,L=Math.imul(ut,Vr),z=z+Math.imul(We,qt)|0,B=B+Math.imul(We,Pr)|0,B=B+Math.imul(Je,qt)|0,L=L+Math.imul(Je,Pr)|0,z=z+Math.imul(ve,rr)|0,B=B+Math.imul(ve,Ar)|0,B=B+Math.imul(Ae,rr)|0,L=L+Math.imul(Ae,Ar)|0,z=z+Math.imul(ae,tr)|0,B=B+Math.imul(ae,Hr)|0,B=B+Math.imul(Pe,tr)|0,L=L+Math.imul(Pe,Hr)|0;var Yr=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,z=Math.imul(et,qt),B=Math.imul(et,Pr),B=B+Math.imul(ut,qt)|0,L=Math.imul(ut,Pr),z=z+Math.imul(We,rr)|0,B=B+Math.imul(We,Ar)|0,B=B+Math.imul(Je,rr)|0,L=L+Math.imul(Je,Ar)|0,z=z+Math.imul(ve,tr)|0,B=B+Math.imul(ve,Hr)|0,B=B+Math.imul(Ae,tr)|0,L=L+Math.imul(Ae,Hr)|0;var Ki=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,z=Math.imul(et,rr),B=Math.imul(et,Ar),B=B+Math.imul(ut,rr)|0,L=Math.imul(ut,Ar),z=z+Math.imul(We,tr)|0,B=B+Math.imul(We,Hr)|0,B=B+Math.imul(Je,tr)|0,L=L+Math.imul(Je,Hr)|0;var Yi=(Y+z|0)+((B&8191)<<13)|0;Y=(L+(B>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,z=Math.imul(et,tr),B=Math.imul(et,Hr),B=B+Math.imul(ut,tr)|0,L=Math.imul(ut,Hr);var _i=(Y+z|0)+((B&8191)<<13)|0;return Y=(L+(B>>>13)|0)+(_i>>>26)|0,_i&=67108863,$[0]=or,$[1]=nr,$[2]=Ue,$[3]=it,$[4]=ot,$[5]=Rt,$[6]=zt,$[7]=gr,$[8]=Gr,$[9]=di,$[10]=gi,$[11]=ci,$[12]=ti,$[13]=fn,$[14]=en,$[15]=Yr,$[16]=Ki,$[17]=Yi,$[18]=_i,Y!==0&&($[19]=Y,C.length++),C};Math.imul||(E=p);function T(W,j,O){O.negative=j.negative^W.negative,O.length=W.length+j.length;for(var C=0,F=0,H=0;H<O.length-1;H++){var $=F;F=0;for(var Y=C&67108863,z=Math.min(H,j.length-1),B=Math.max(0,H-W.length+1);B<=z;B++){var L=H-B,G=W.words[L]|0,le=j.words[B]|0,ge=G*le,Ie=ge&67108863;$=$+(ge/67108864|0)|0,Ie=Ie+Y|0,Y=Ie&67108863,$=$+(Ie>>>26)|0,F+=$>>>26,$&=67108863}O.words[H]=Y,C=$,$=F}return C!==0?O.words[H]=C:O.length--,O.strip()}function S(W,j,O){var C=new A;return C.mulp(W,j,O)}t.prototype.mulTo=function(j,O){var C,F=this.length+j.length;return this.length===10&&j.length===10?C=E(this,j,O):F<63?C=p(this,j,O):F<1024?C=T(this,j,O):C=S(this,j,O),C};function A(W,j){this.x=W,this.y=j}A.prototype.makeRBT=function(j){for(var O=new Array(j),C=t.prototype._countBits(j)-1,F=0;F<j;F++)O[F]=this.revBin(F,C,j);return O},A.prototype.revBin=function(j,O,C){if(j===0||j===C-1)return j;for(var F=0,H=0;H<O;H++)F|=(j&1)<<O-H-1,j>>=1;return F},A.prototype.permute=function(j,O,C,F,H,$){for(var Y=0;Y<$;Y++)F[Y]=O[j[Y]],H[Y]=C[j[Y]]},A.prototype.transform=function(j,O,C,F,H,$){this.permute($,j,O,C,F,H);for(var Y=1;Y<H;Y<<=1)for(var z=Y<<1,B=Math.cos(2*Math.PI/z),L=Math.sin(2*Math.PI/z),G=0;G<H;G+=z)for(var le=B,ge=L,Ie=0;Ie<Y;Ie++){var Oe=C[G+Ie],Ke=F[G+Ie],De=C[G+Ie+Y],Ee=F[G+Ie+Y],Q=le*De-ge*Ee;Ee=le*Ee+ge*De,De=Q,C[G+Ie]=Oe+De,F[G+Ie]=Ke+Ee,C[G+Ie+Y]=Oe-De,F[G+Ie+Y]=Ke-Ee,Ie!==z&&(Q=B*le-L*ge,ge=B*ge+L*le,le=Q)}},A.prototype.guessLen13b=function(j,O){var C=Math.max(O,j)|1,F=C&1,H=0;for(C=C/2|0;C;C=C>>>1)H++;return 1<<H+1+F},A.prototype.conjugate=function(j,O,C){if(!(C<=1))for(var F=0;F<C/2;F++){var H=j[F];j[F]=j[C-F-1],j[C-F-1]=H,H=O[F],O[F]=-O[C-F-1],O[C-F-1]=-H}},A.prototype.normalize13b=function(j,O){for(var C=0,F=0;F<O/2;F++){var H=Math.round(j[2*F+1]/O)*8192+Math.round(j[2*F]/O)+C;j[F]=H&67108863,H<67108864?C=0:C=H/67108864|0}return j},A.prototype.convert13b=function(j,O,C,F){for(var H=0,$=0;$<O;$++)H=H+(j[$]|0),C[2*$]=H&8191,H=H>>>13,C[2*$+1]=H&8191,H=H>>>13;for($=2*O;$<F;++$)C[$]=0;h(H===0),h((H&-8192)===0)},A.prototype.stub=function(j){for(var O=new Array(j),C=0;C<j;C++)O[C]=0;return O},A.prototype.mulp=function(j,O,C){var F=2*this.guessLen13b(j.length,O.length),H=this.makeRBT(F),$=this.stub(F),Y=new Array(F),z=new Array(F),B=new Array(F),L=new Array(F),G=new Array(F),le=new Array(F),ge=C.words;ge.length=F,this.convert13b(j.words,j.length,Y,F),this.convert13b(O.words,O.length,L,F),this.transform(Y,$,z,B,F,H),this.transform(L,$,G,le,F,H);for(var Ie=0;Ie<F;Ie++){var Oe=z[Ie]*G[Ie]-B[Ie]*le[Ie];B[Ie]=z[Ie]*le[Ie]+B[Ie]*G[Ie],z[Ie]=Oe}return this.conjugate(z,B,F),this.transform(z,B,ge,$,F,H),this.conjugate(ge,$,F),this.normalize13b(ge,F),C.negative=j.negative^O.negative,C.length=j.length+O.length,C.strip()},t.prototype.mul=function(j){var O=new t(null);return O.words=new Array(this.length+j.length),this.mulTo(j,O)},t.prototype.mulf=function(j){var O=new t(null);return O.words=new Array(this.length+j.length),S(this,j,O)},t.prototype.imul=function(j){return this.clone().mulTo(j,this)},t.prototype.imuln=function(j){h(typeof j=="number"),h(j<67108864);for(var O=0,C=0;C<this.length;C++){var F=(this.words[C]|0)*j,H=(F&67108863)+(O&67108863);O>>=26,O+=F/67108864|0,O+=H>>>26,this.words[C]=H&67108863}return O!==0&&(this.words[C]=O,this.length++),this},t.prototype.muln=function(j){return this.clone().imuln(j)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(j){var O=y(j);if(O.length===0)return new t(1);for(var C=this,F=0;F<O.length&&O[F]===0;F++,C=C.sqr());if(++F<O.length)for(var H=C.sqr();F<O.length;F++,H=H.sqr())O[F]!==0&&(C=C.mul(H));return C},t.prototype.iushln=function(j){h(typeof j=="number"&&j>=0);var O=j%26,C=(j-O)/26,F=67108863>>>26-O<<26-O,H;if(O!==0){var $=0;for(H=0;H<this.length;H++){var Y=this.words[H]&F,z=(this.words[H]|0)-Y<<O;this.words[H]=z|$,$=Y>>>26-O}$&&(this.words[H]=$,this.length++)}if(C!==0){for(H=this.length-1;H>=0;H--)this.words[H+C]=this.words[H];for(H=0;H<C;H++)this.words[H]=0;this.length+=C}return this.strip()},t.prototype.ishln=function(j){return h(this.negative===0),this.iushln(j)},t.prototype.iushrn=function(j,O,C){h(typeof j=="number"&&j>=0);var F;O?F=(O-O%26)/26:F=0;var H=j%26,$=Math.min((j-H)/26,this.length),Y=67108863^67108863>>>H<<H,z=C;if(F-=$,F=Math.max(0,F),z){for(var B=0;B<$;B++)z.words[B]=this.words[B];z.length=$}if($!==0)if(this.length>$)for(this.length-=$,B=0;B<this.length;B++)this.words[B]=this.words[B+$];else this.words[0]=0,this.length=1;var L=0;for(B=this.length-1;B>=0&&(L!==0||B>=F);B--){var G=this.words[B]|0;this.words[B]=L<<26-H|G>>>H,L=G&Y}return z&&L!==0&&(z.words[z.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(j,O,C){return h(this.negative===0),this.iushrn(j,O,C)},t.prototype.shln=function(j){return this.clone().ishln(j)},t.prototype.ushln=function(j){return this.clone().iushln(j)},t.prototype.shrn=function(j){return this.clone().ishrn(j)},t.prototype.ushrn=function(j){return this.clone().iushrn(j)},t.prototype.testn=function(j){h(typeof j=="number"&&j>=0);var O=j%26,C=(j-O)/26,F=1<<O;if(this.length<=C)return!1;var H=this.words[C];return!!(H&F)},t.prototype.imaskn=function(j){h(typeof j=="number"&&j>=0);var O=j%26,C=(j-O)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(O!==0&&C++,this.length=Math.min(C,this.length),O!==0){var F=67108863^67108863>>>O<<O;this.words[this.length-1]&=F}return this.strip()},t.prototype.maskn=function(j){return this.clone().imaskn(j)},t.prototype.iaddn=function(j){return h(typeof j=="number"),h(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(this.words[0]|0)<j?(this.words[0]=j-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},t.prototype._iaddn=function(j){this.words[0]+=j;for(var O=0;O<this.length&&this.words[O]>=67108864;O++)this.words[O]-=67108864,O===this.length-1?this.words[O+1]=1:this.words[O+1]++;return this.length=Math.max(this.length,O+1),this},t.prototype.isubn=function(j){if(h(typeof j=="number"),h(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var O=0;O<this.length&&this.words[O]<0;O++)this.words[O]+=67108864,this.words[O+1]-=1;return this.strip()},t.prototype.addn=function(j){return this.clone().iaddn(j)},t.prototype.subn=function(j){return this.clone().isubn(j)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(j,O,C){var F=j.length+C,H;this._expand(F);var $,Y=0;for(H=0;H<j.length;H++){$=(this.words[H+C]|0)+Y;var z=(j.words[H]|0)*O;$-=z&67108863,Y=($>>26)-(z/67108864|0),this.words[H+C]=$&67108863}for(;H<this.length-C;H++)$=(this.words[H+C]|0)+Y,Y=$>>26,this.words[H+C]=$&67108863;if(Y===0)return this.strip();for(h(Y===-1),Y=0,H=0;H<this.length;H++)$=-(this.words[H]|0)+Y,Y=$>>26,this.words[H]=$&67108863;return this.negative=1,this.strip()},t.prototype._wordDiv=function(j,O){var C=this.length-j.length,F=this.clone(),H=j,$=H.words[H.length-1]|0,Y=this._countBits($);C=26-Y,C!==0&&(H=H.ushln(C),F.iushln(C),$=H.words[H.length-1]|0);var z=F.length-H.length,B;if(O!=="mod"){B=new t(null),B.length=z+1,B.words=new Array(B.length);for(var L=0;L<B.length;L++)B.words[L]=0}var G=F.clone()._ishlnsubmul(H,1,z);G.negative===0&&(F=G,B&&(B.words[z]=1));for(var le=z-1;le>=0;le--){var ge=(F.words[H.length+le]|0)*67108864+(F.words[H.length+le-1]|0);for(ge=Math.min(ge/$|0,67108863),F._ishlnsubmul(H,ge,le);F.negative!==0;)ge--,F.negative=0,F._ishlnsubmul(H,1,le),F.isZero()||(F.negative^=1);B&&(B.words[le]=ge)}return B&&B.strip(),F.strip(),O!=="div"&&C!==0&&F.iushrn(C),{div:B||null,mod:F}},t.prototype.divmod=function(j,O,C){if(h(!j.isZero()),this.isZero())return{div:new t(0),mod:new t(0)};var F,H,$;return this.negative!==0&&j.negative===0?($=this.neg().divmod(j,O),O!=="mod"&&(F=$.div.neg()),O!=="div"&&(H=$.mod.neg(),C&&H.negative!==0&&H.iadd(j)),{div:F,mod:H}):this.negative===0&&j.negative!==0?($=this.divmod(j.neg(),O),O!=="mod"&&(F=$.div.neg()),{div:F,mod:$.mod}):this.negative&j.negative?($=this.neg().divmod(j.neg(),O),O!=="div"&&(H=$.mod.neg(),C&&H.negative!==0&&H.isub(j)),{div:$.div,mod:H}):j.length>this.length||this.cmp(j)<0?{div:new t(0),mod:this}:j.length===1?O==="div"?{div:this.divn(j.words[0]),mod:null}:O==="mod"?{div:null,mod:new t(this.modn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new t(this.modn(j.words[0]))}:this._wordDiv(j,O)},t.prototype.div=function(j){return this.divmod(j,"div",!1).div},t.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},t.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},t.prototype.divRound=function(j){var O=this.divmod(j);if(O.mod.isZero())return O.div;var C=O.div.negative!==0?O.mod.isub(j):O.mod,F=j.ushrn(1),H=j.andln(1),$=C.cmp(F);return $<0||H===1&&$===0?O.div:O.div.negative!==0?O.div.isubn(1):O.div.iaddn(1)},t.prototype.modn=function(j){h(j<=67108863);for(var O=(1<<26)%j,C=0,F=this.length-1;F>=0;F--)C=(O*C+(this.words[F]|0))%j;return C},t.prototype.idivn=function(j){h(j<=67108863);for(var O=0,C=this.length-1;C>=0;C--){var F=(this.words[C]|0)+O*67108864;this.words[C]=F/j|0,O=F%j}return this.strip()},t.prototype.divn=function(j){return this.clone().idivn(j)},t.prototype.egcd=function(j){h(j.negative===0),h(!j.isZero());var O=this,C=j.clone();O.negative!==0?O=O.umod(j):O=O.clone();for(var F=new t(1),H=new t(0),$=new t(0),Y=new t(1),z=0;O.isEven()&&C.isEven();)O.iushrn(1),C.iushrn(1),++z;for(var B=C.clone(),L=O.clone();!O.isZero();){for(var G=0,le=1;!(O.words[0]&le)&&G<26;++G,le<<=1);if(G>0)for(O.iushrn(G);G-- >0;)(F.isOdd()||H.isOdd())&&(F.iadd(B),H.isub(L)),F.iushrn(1),H.iushrn(1);for(var ge=0,Ie=1;!(C.words[0]&Ie)&&ge<26;++ge,Ie<<=1);if(ge>0)for(C.iushrn(ge);ge-- >0;)($.isOdd()||Y.isOdd())&&($.iadd(B),Y.isub(L)),$.iushrn(1),Y.iushrn(1);O.cmp(C)>=0?(O.isub(C),F.isub($),H.isub(Y)):(C.isub(O),$.isub(F),Y.isub(H))}return{a:$,b:Y,gcd:C.iushln(z)}},t.prototype._invmp=function(j){h(j.negative===0),h(!j.isZero());var O=this,C=j.clone();O.negative!==0?O=O.umod(j):O=O.clone();for(var F=new t(1),H=new t(0),$=C.clone();O.cmpn(1)>0&&C.cmpn(1)>0;){for(var Y=0,z=1;!(O.words[0]&z)&&Y<26;++Y,z<<=1);if(Y>0)for(O.iushrn(Y);Y-- >0;)F.isOdd()&&F.iadd($),F.iushrn(1);for(var B=0,L=1;!(C.words[0]&L)&&B<26;++B,L<<=1);if(B>0)for(C.iushrn(B);B-- >0;)H.isOdd()&&H.iadd($),H.iushrn(1);O.cmp(C)>=0?(O.isub(C),F.isub(H)):(C.isub(O),H.isub(F))}var G;return O.cmpn(1)===0?G=F:G=H,G.cmpn(0)<0&&G.iadd(j),G},t.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var O=this.clone(),C=j.clone();O.negative=0,C.negative=0;for(var F=0;O.isEven()&&C.isEven();F++)O.iushrn(1),C.iushrn(1);do{for(;O.isEven();)O.iushrn(1);for(;C.isEven();)C.iushrn(1);var H=O.cmp(C);if(H<0){var $=O;O=C,C=$}else if(H===0||C.cmpn(1)===0)break;O.isub(C)}while(!0);return C.iushln(F)},t.prototype.invm=function(j){return this.egcd(j).a.umod(j)},t.prototype.isEven=function(){return(this.words[0]&1)===0},t.prototype.isOdd=function(){return(this.words[0]&1)===1},t.prototype.andln=function(j){return this.words[0]&j},t.prototype.bincn=function(j){h(typeof j=="number");var O=j%26,C=(j-O)/26,F=1<<O;if(this.length<=C)return this._expand(C+1),this.words[C]|=F,this;for(var H=F,$=C;H!==0&&$<this.length;$++){var Y=this.words[$]|0;Y+=H,H=Y>>>26,Y&=67108863,this.words[$]=Y}return H!==0&&(this.words[$]=H,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(j){var O=j<0;if(this.negative!==0&&!O)return-1;if(this.negative===0&&O)return 1;this.strip();var C;if(this.length>1)C=1;else{O&&(j=-j),h(j<=67108863,"Number is too big");var F=this.words[0]|0;C=F===j?0:F<j?-1:1}return this.negative!==0?-C|0:C},t.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var O=this.ucmp(j);return this.negative!==0?-O|0:O},t.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var O=0,C=this.length-1;C>=0;C--){var F=this.words[C]|0,H=j.words[C]|0;if(F!==H){F<H?O=-1:F>H&&(O=1);break}}return O},t.prototype.gtn=function(j){return this.cmpn(j)===1},t.prototype.gt=function(j){return this.cmp(j)===1},t.prototype.gten=function(j){return this.cmpn(j)>=0},t.prototype.gte=function(j){return this.cmp(j)>=0},t.prototype.ltn=function(j){return this.cmpn(j)===-1},t.prototype.lt=function(j){return this.cmp(j)===-1},t.prototype.lten=function(j){return this.cmpn(j)<=0},t.prototype.lte=function(j){return this.cmp(j)<=0},t.prototype.eqn=function(j){return this.cmpn(j)===0},t.prototype.eq=function(j){return this.cmp(j)===0},t.red=function(j){return new re(j)},t.prototype.toRed=function(j){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},t.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(j){return this.red=j,this},t.prototype.forceRed=function(j){return h(!this.red,"Already a number in reduction context"),this._forceRed(j)},t.prototype.redAdd=function(j){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},t.prototype.redIAdd=function(j){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},t.prototype.redSub=function(j){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},t.prototype.redISub=function(j){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},t.prototype.redShl=function(j){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},t.prototype.redMul=function(j){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},t.prototype.redIMul=function(j){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},t.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(j){return h(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var w={k256:null,p224:null,p192:null,p25519:null};function I(W,j){this.name=W,this.p=new t(j,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var j=new t(null);return j.words=new Array(Math.ceil(this.n/13)),j},I.prototype.ireduce=function(j){var O=j,C;do this.split(O,this.tmp),O=this.imulK(O),O=O.iadd(this.tmp),C=O.bitLength();while(C>this.n);var F=C<this.n?-1:O.ucmp(this.p);return F===0?(O.words[0]=0,O.length=1):F>0?O.isub(this.p):O.strip!==void 0?O.strip():O._strip(),O},I.prototype.split=function(j,O){j.iushrn(this.n,0,O)},I.prototype.imulK=function(j){return j.imul(this.k)};function D(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,I),D.prototype.split=function(j,O){for(var C=4194303,F=Math.min(j.length,9),H=0;H<F;H++)O.words[H]=j.words[H];if(O.length=F,j.length<=9){j.words[0]=0,j.length=1;return}var $=j.words[9];for(O.words[O.length++]=$&C,H=10;H<j.length;H++){var Y=j.words[H]|0;j.words[H-10]=(Y&C)<<4|$>>>22,$=Y}$>>>=22,j.words[H-10]=$,$===0&&j.length>10?j.length-=10:j.length-=9},D.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var O=0,C=0;C<j.length;C++){var F=j.words[C]|0;O+=F*977,j.words[C]=O&67108863,O=F*64+(O/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j};function V(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(V,I);function ie(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(ie,I);function te(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(te,I),te.prototype.imulK=function(j){for(var O=0,C=0;C<j.length;C++){var F=(j.words[C]|0)*19+O,H=F&67108863;F>>>=26,j.words[C]=H,O=F}return O!==0&&(j.words[j.length++]=O),j},t._prime=function(j){if(w[j])return w[j];var O;if(j==="k256")O=new D;else if(j==="p224")O=new V;else if(j==="p192")O=new ie;else if(j==="p25519")O=new te;else throw new Error("Unknown prime "+j);return w[j]=O,O};function re(W){if(typeof W=="string"){var j=t._prime(W);this.m=j.p,this.prime=j}else h(W.gtn(1),"modulus must be greater than 1"),this.m=W,this.prime=null}re.prototype._verify1=function(j){h(j.negative===0,"red works only with positives"),h(j.red,"red works only with red numbers")},re.prototype._verify2=function(j,O){h((j.negative|O.negative)===0,"red works only with positives"),h(j.red&&j.red===O.red,"red works only with red numbers")},re.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):j.umod(this.m)._forceRed(this)},re.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},re.prototype.add=function(j,O){this._verify2(j,O);var C=j.add(O);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},re.prototype.iadd=function(j,O){this._verify2(j,O);var C=j.iadd(O);return C.cmp(this.m)>=0&&C.isub(this.m),C},re.prototype.sub=function(j,O){this._verify2(j,O);var C=j.sub(O);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},re.prototype.isub=function(j,O){this._verify2(j,O);var C=j.isub(O);return C.cmpn(0)<0&&C.iadd(this.m),C},re.prototype.shl=function(j,O){return this._verify1(j),this.imod(j.ushln(O))},re.prototype.imul=function(j,O){return this._verify2(j,O),this.imod(j.imul(O))},re.prototype.mul=function(j,O){return this._verify2(j,O),this.imod(j.mul(O))},re.prototype.isqr=function(j){return this.imul(j,j.clone())},re.prototype.sqr=function(j){return this.mul(j,j)},re.prototype.sqrt=function(j){if(j.isZero())return j.clone();var O=this.m.andln(3);if(h(O%2===1),O===3){var C=this.m.add(new t(1)).iushrn(2);return this.pow(j,C)}for(var F=this.m.subn(1),H=0;!F.isZero()&&F.andln(1)===0;)H++,F.iushrn(1);h(!F.isZero());var $=new t(1).toRed(this),Y=$.redNeg(),z=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new t(2*B*B).toRed(this);this.pow(B,z).cmp(Y)!==0;)B.redIAdd(Y);for(var L=this.pow(B,F),G=this.pow(j,F.addn(1).iushrn(1)),le=this.pow(j,F),ge=H;le.cmp($)!==0;){for(var Ie=le,Oe=0;Ie.cmp($)!==0;Oe++)Ie=Ie.redSqr();h(Oe<ge);var Ke=this.pow(L,new t(1).iushln(ge-Oe-1));G=G.redMul(Ke),L=Ke.redSqr(),le=le.redMul(L),ge=Oe}return G},re.prototype.invm=function(j){var O=j._invmp(this.m);return O.negative!==0?(O.negative=0,this.imod(O).redNeg()):this.imod(O)},re.prototype.pow=function(j,O){if(O.isZero())return new t(1).toRed(this);if(O.cmpn(1)===0)return j.clone();var C=4,F=new Array(1<<C);F[0]=new t(1).toRed(this),F[1]=j;for(var H=2;H<F.length;H++)F[H]=this.mul(F[H-1],j);var $=F[0],Y=0,z=0,B=O.bitLength()%26;for(B===0&&(B=26),H=O.length-1;H>=0;H--){for(var L=O.words[H],G=B-1;G>=0;G--){var le=L>>G&1;if($!==F[0]&&($=this.sqr($)),le===0&&Y===0){z=0;continue}Y<<=1,Y|=le,z++,!(z!==C&&(H!==0||G!==0))&&($=this.mul($,F[Y]),z=0,Y=0)}B=26}return $},re.prototype.convertTo=function(j){var O=j.umod(this.m);return O===j?O.clone():O},re.prototype.convertFrom=function(j){var O=j.clone();return O.red=null,O},t.mont=function(j){return new Z(j)};function Z(W){re.call(this,W),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Z,re),Z.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},Z.prototype.convertFrom=function(j){var O=this.imod(j.mul(this.rinv));return O.red=null,O},Z.prototype.imul=function(j,O){if(j.isZero()||O.isZero())return j.words[0]=0,j.length=1,j;var C=j.imul(O),F=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=C.isub(F).iushrn(this.shift),$=H;return H.cmp(this.m)>=0?$=H.isub(this.m):H.cmpn(0)<0&&($=H.iadd(this.m)),$._forceRed(this)},Z.prototype.mul=function(j,O){if(j.isZero()||O.isZero())return new t(0)._forceRed(this);var C=j.mul(O),F=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=C.isub(F).iushrn(this.shift),$=H;return H.cmp(this.m)>=0?$=H.isub(this.m):H.cmpn(0)<0&&($=H.iadd(this.m)),$._forceRed(this)},Z.prototype.invm=function(j){var O=this.imod(j._invmp(this.m).mul(this.r2));return O._forceRed(this)}})(typeof m>"u"||m,void 0)},{buffer:188}],185:[function(e,m,g){g.byteLength=n,g.toByteArray=d,g.fromByteArray=y;for(var f=[],u=[],h=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,i=s.length;t<i;++t)f[t]=s[t],u[s.charCodeAt(t)]=t;u[45]=62,u[95]=63;function r(p){var E=p.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=p.indexOf("=");T===-1&&(T=E);var S=T===E?0:4-T%4;return[T,S]}function n(p){var E=r(p),T=E[0],S=E[1];return(T+S)*3/4-S}function l(p,E,T){return(E+T)*3/4-T}function d(p){var E,T=r(p),S=T[0],A=T[1],w=new h(l(p,S,A)),I=0,D=A>0?S-4:S,V;for(V=0;V<D;V+=4)E=u[p.charCodeAt(V)]<<18|u[p.charCodeAt(V+1)]<<12|u[p.charCodeAt(V+2)]<<6|u[p.charCodeAt(V+3)],w[I++]=E>>16&255,w[I++]=E>>8&255,w[I++]=E&255;return A===2&&(E=u[p.charCodeAt(V)]<<2|u[p.charCodeAt(V+1)]>>4,w[I++]=E&255),A===1&&(E=u[p.charCodeAt(V)]<<10|u[p.charCodeAt(V+1)]<<4|u[p.charCodeAt(V+2)]>>2,w[I++]=E>>8&255,w[I++]=E&255),w}function a(p){return f[p>>18&63]+f[p>>12&63]+f[p>>6&63]+f[p&63]}function v(p,E,T){for(var S,A=[],w=E;w<T;w+=3)S=(p[w]<<16&16711680)+(p[w+1]<<8&65280)+(p[w+2]&255),A.push(a(S));return A.join("")}function y(p){for(var E,T=p.length,S=T%3,A=[],w=16383,I=0,D=T-S;I<D;I+=w)A.push(v(p,I,I+w>D?D:I+w));return S===1?(E=p[T-1],A.push(f[E>>2]+f[E<<4&63]+"==")):S===2&&(E=(p[T-2]<<8)+p[T-1],A.push(f[E>>10]+f[E>>4&63]+f[E<<2&63]+"=")),A.join("")}},{}],186:[function(e,m,g){(function(f,u){function h(O,C){if(!O)throw new Error(C||"Assertion failed")}function s(O,C){O.super_=C;var F=function(){};F.prototype=C.prototype,O.prototype=new F,O.prototype.constructor=O}function t(O,C,F){if(t.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((C==="le"||C==="be")&&(F=C,C=10),this._init(O||0,C||10,F||"be"))}typeof f=="object"?f.exports=t:u.BN=t,t.BN=t,t.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=e("buffer").Buffer}catch{}t.isBN=function(C){return C instanceof t?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===t.wordSize&&Array.isArray(C.words)},t.max=function(C,F){return C.cmp(F)>0?C:F},t.min=function(C,F){return C.cmp(F)<0?C:F},t.prototype._init=function(C,F,H){if(typeof C=="number")return this._initNumber(C,F,H);if(typeof C=="object")return this._initArray(C,F,H);F==="hex"&&(F=16),h(F===(F|0)&&F>=2&&F<=36),C=C.toString().replace(/\s+/g,"");var $=0;C[0]==="-"&&($++,this.negative=1),$<C.length&&(F===16?this._parseHex(C,$,H):(this._parseBase(C,F,$),H==="le"&&this._initArray(this.toArray(),F,H)))},t.prototype._initNumber=function(C,F,H){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(h(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),F,H)},t.prototype._initArray=function(C,F,H){if(h(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var Y,z,B=0;if(H==="be")for($=C.length-1,Y=0;$>=0;$-=3)z=C[$]|C[$-1]<<8|C[$-2]<<16,this.words[Y]|=z<<B&67108863,this.words[Y+1]=z>>>26-B&67108863,B+=24,B>=26&&(B-=26,Y++);else if(H==="le")for($=0,Y=0;$<C.length;$+=3)z=C[$]|C[$+1]<<8|C[$+2]<<16,this.words[Y]|=z<<B&67108863,this.words[Y+1]=z>>>26-B&67108863,B+=24,B>=26&&(B-=26,Y++);return this._strip()};function r(O,C){var F=O.charCodeAt(C);if(F>=48&&F<=57)return F-48;if(F>=65&&F<=70)return F-55;if(F>=97&&F<=102)return F-87;h(!1,"Invalid character in "+O)}function n(O,C,F){var H=r(O,F);return F-1>=C&&(H|=r(O,F-1)<<4),H}t.prototype._parseHex=function(C,F,H){this.length=Math.ceil((C.length-F)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var Y=0,z=0,B;if(H==="be")for($=C.length-1;$>=F;$-=2)B=n(C,F,$)<<Y,this.words[z]|=B&67108863,Y>=18?(Y-=18,z+=1,this.words[z]|=B>>>26):Y+=8;else{var L=C.length-F;for($=L%2===0?F+1:F;$<C.length;$+=2)B=n(C,F,$)<<Y,this.words[z]|=B&67108863,Y>=18?(Y-=18,z+=1,this.words[z]|=B>>>26):Y+=8}this._strip()};function l(O,C,F,H){for(var $=0,Y=0,z=Math.min(O.length,F),B=C;B<z;B++){var L=O.charCodeAt(B)-48;$*=H,L>=49?Y=L-49+10:L>=17?Y=L-17+10:Y=L,h(L>=0&&Y<H,"Invalid character"),$+=Y}return $}t.prototype._parseBase=function(C,F,H){this.words=[0],this.length=1;for(var $=0,Y=1;Y<=67108863;Y*=F)$++;$--,Y=Y/F|0;for(var z=C.length-H,B=z%$,L=Math.min(z,z-B)+H,G=0,le=H;le<L;le+=$)G=l(C,le,le+$,F),this.imuln(Y),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(B!==0){var ge=1;for(G=l(C,le,C.length,F),le=0;le<B;le++)ge*=F;this.imuln(ge),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},t.prototype.copy=function(C){C.words=new Array(this.length);for(var F=0;F<this.length;F++)C.words[F]=this.words[F];C.length=this.length,C.negative=this.negative,C.red=this.red};function d(O,C){O.words=C.words,O.length=C.length,O.negative=C.negative,O.red=C.red}if(t.prototype._move=function(C){d(C,this)},t.prototype.clone=function(){var C=new t(null);return this.copy(C),C},t.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},t.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{t.prototype[Symbol.for("nodejs.util.inspect.custom")]=a}catch{t.prototype.inspect=a}else t.prototype.inspect=a;function a(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];t.prototype.toString=function(C,F){C=C||10,F=F|0||1;var H;if(C===16||C==="hex"){H="";for(var $=0,Y=0,z=0;z<this.length;z++){var B=this.words[z],L=((B<<$|Y)&16777215).toString(16);Y=B>>>24-$&16777215,$+=2,$>=26&&($-=26,z--),Y!==0||z!==this.length-1?H=v[6-L.length]+L+H:H=L+H}for(Y!==0&&(H=Y.toString(16)+H);H.length%F!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(C===(C|0)&&C>=2&&C<=36){var G=y[C],le=p[C];H="";var ge=this.clone();for(ge.negative=0;!ge.isZero();){var Ie=ge.modrn(le).toString(C);ge=ge.idivn(le),ge.isZero()?H=Ie+H:H=v[G-Ie.length]+Ie+H}for(this.isZero()&&(H="0"+H);H.length%F!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}h(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},t.prototype.toJSON=function(){return this.toString(16,2)},i&&(t.prototype.toBuffer=function(C,F){return this.toArrayLike(i,C,F)}),t.prototype.toArray=function(C,F){return this.toArrayLike(Array,C,F)};var E=function(C,F){return C.allocUnsafe?C.allocUnsafe(F):new C(F)};t.prototype.toArrayLike=function(C,F,H){this._strip();var $=this.byteLength(),Y=H||Math.max(1,$);h($<=Y,"byte array longer than desired length"),h(Y>0,"Requested array length <= 0");var z=E(C,Y),B=F==="le"?"LE":"BE";return this["_toArrayLike"+B](z,$),z},t.prototype._toArrayLikeLE=function(C,F){for(var H=0,$=0,Y=0,z=0;Y<this.length;Y++){var B=this.words[Y]<<z|$;C[H++]=B&255,H<C.length&&(C[H++]=B>>8&255),H<C.length&&(C[H++]=B>>16&255),z===6?(H<C.length&&(C[H++]=B>>24&255),$=0,z=0):($=B>>>24,z+=2)}if(H<C.length)for(C[H++]=$;H<C.length;)C[H++]=0},t.prototype._toArrayLikeBE=function(C,F){for(var H=C.length-1,$=0,Y=0,z=0;Y<this.length;Y++){var B=this.words[Y]<<z|$;C[H--]=B&255,H>=0&&(C[H--]=B>>8&255),H>=0&&(C[H--]=B>>16&255),z===6?(H>=0&&(C[H--]=B>>24&255),$=0,z=0):($=B>>>24,z+=2)}if(H>=0)for(C[H--]=$;H>=0;)C[H--]=0},Math.clz32?t.prototype._countBits=function(C){return 32-Math.clz32(C)}:t.prototype._countBits=function(C){var F=C,H=0;return F>=4096&&(H+=13,F>>>=13),F>=64&&(H+=7,F>>>=7),F>=8&&(H+=4,F>>>=4),F>=2&&(H+=2,F>>>=2),H+F},t.prototype._zeroBits=function(C){if(C===0)return 26;var F=C,H=0;return F&8191||(H+=13,F>>>=13),F&127||(H+=7,F>>>=7),F&15||(H+=4,F>>>=4),F&3||(H+=2,F>>>=2),F&1||H++,H},t.prototype.bitLength=function(){var C=this.words[this.length-1],F=this._countBits(C);return(this.length-1)*26+F};function T(O){for(var C=new Array(O.bitLength()),F=0;F<C.length;F++){var H=F/26|0,$=F%26;C[F]=O.words[H]>>>$&1}return C}t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,F=0;F<this.length;F++){var H=this._zeroBits(this.words[F]);if(C+=H,H!==26)break}return C},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},t.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var F=0;F<C.length;F++)this.words[F]=this.words[F]|C.words[F];return this._strip()},t.prototype.ior=function(C){return h((this.negative|C.negative)===0),this.iuor(C)},t.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},t.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},t.prototype.iuand=function(C){var F;this.length>C.length?F=C:F=this;for(var H=0;H<F.length;H++)this.words[H]=this.words[H]&C.words[H];return this.length=F.length,this._strip()},t.prototype.iand=function(C){return h((this.negative|C.negative)===0),this.iuand(C)},t.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},t.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},t.prototype.iuxor=function(C){var F,H;this.length>C.length?(F=this,H=C):(F=C,H=this);for(var $=0;$<H.length;$++)this.words[$]=F.words[$]^H.words[$];if(this!==F)for(;$<F.length;$++)this.words[$]=F.words[$];return this.length=F.length,this._strip()},t.prototype.ixor=function(C){return h((this.negative|C.negative)===0),this.iuxor(C)},t.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},t.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},t.prototype.inotn=function(C){h(typeof C=="number"&&C>=0);var F=Math.ceil(C/26)|0,H=C%26;this._expand(F),H>0&&F--;for(var $=0;$<F;$++)this.words[$]=~this.words[$]&67108863;return H>0&&(this.words[$]=~this.words[$]&67108863>>26-H),this._strip()},t.prototype.notn=function(C){return this.clone().inotn(C)},t.prototype.setn=function(C,F){h(typeof C=="number"&&C>=0);var H=C/26|0,$=C%26;return this._expand(H+1),F?this.words[H]=this.words[H]|1<<$:this.words[H]=this.words[H]&~(1<<$),this._strip()},t.prototype.iadd=function(C){var F;if(this.negative!==0&&C.negative===0)return this.negative=0,F=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,F=this.isub(C),C.negative=1,F._normSign();var H,$;this.length>C.length?(H=this,$=C):(H=C,$=this);for(var Y=0,z=0;z<$.length;z++)F=(H.words[z]|0)+($.words[z]|0)+Y,this.words[z]=F&67108863,Y=F>>>26;for(;Y!==0&&z<H.length;z++)F=(H.words[z]|0)+Y,this.words[z]=F&67108863,Y=F>>>26;if(this.length=H.length,Y!==0)this.words[this.length]=Y,this.length++;else if(H!==this)for(;z<H.length;z++)this.words[z]=H.words[z];return this},t.prototype.add=function(C){var F;return C.negative!==0&&this.negative===0?(C.negative=0,F=this.sub(C),C.negative^=1,F):C.negative===0&&this.negative!==0?(this.negative=0,F=C.sub(this),this.negative=1,F):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},t.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var F=this.iadd(C);return C.negative=1,F._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var H=this.cmp(C);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,Y;H>0?($=this,Y=C):($=C,Y=this);for(var z=0,B=0;B<Y.length;B++)F=($.words[B]|0)-(Y.words[B]|0)+z,z=F>>26,this.words[B]=F&67108863;for(;z!==0&&B<$.length;B++)F=($.words[B]|0)+z,z=F>>26,this.words[B]=F&67108863;if(z===0&&B<$.length&&$!==this)for(;B<$.length;B++)this.words[B]=$.words[B];return this.length=Math.max(this.length,B),$!==this&&(this.negative=1),this._strip()},t.prototype.sub=function(C){return this.clone().isub(C)};function S(O,C,F){F.negative=C.negative^O.negative;var H=O.length+C.length|0;F.length=H,H=H-1|0;var $=O.words[0]|0,Y=C.words[0]|0,z=$*Y,B=z&67108863,L=z/67108864|0;F.words[0]=B;for(var G=1;G<H;G++){for(var le=L>>>26,ge=L&67108863,Ie=Math.min(G,C.length-1),Oe=Math.max(0,G-O.length+1);Oe<=Ie;Oe++){var Ke=G-Oe|0;$=O.words[Ke]|0,Y=C.words[Oe]|0,z=$*Y+ge,le+=z/67108864|0,ge=z&67108863}F.words[G]=ge|0,L=le|0}return L!==0?F.words[G]=L|0:F.length--,F._strip()}var A=function(C,F,H){var $=C.words,Y=F.words,z=H.words,B=0,L,G,le,ge=$[0]|0,Ie=ge&8191,Oe=ge>>>13,Ke=$[1]|0,De=Ke&8191,Ee=Ke>>>13,Q=$[2]|0,ue=Q&8191,xe=Q>>>13,_e=$[3]|0,ce=_e&8191,de=_e>>>13,he=$[4]|0,se=he&8191,ne=he>>>13,we=$[5]|0,Ne=we&8191,ae=we>>>13,Pe=$[6]|0,ze=Pe&8191,ve=Pe>>>13,Ae=$[7]|0,Be=Ae&8191,We=Ae>>>13,Je=$[8]|0,Ge=Je&8191,et=Je>>>13,ut=$[9]|0,at=ut&8191,Fe=ut>>>13,Qe=Y[0]|0,rt=Qe&8191,mt=Qe>>>13,Ut=Y[1]|0,jt=Ut&8191,kt=Ut>>>13,Nt=Y[2]|0,Tt=Nt&8191,Mt=Nt>>>13,Dt=Y[3]|0,It=Dt&8191,$t=Dt>>>13,Sr=Y[4]|0,mr=Sr&8191,Xt=Sr>>>13,hr=Y[5]|0,Mr=hr&8191,ir=hr>>>13,Vr=Y[6]|0,Nr=Vr&8191,qt=Vr>>>13,Pr=Y[7]|0,ur=Pr&8191,rr=Pr>>>13,Ar=Y[8]|0,dr=Ar&8191,tr=Ar>>>13,Hr=Y[9]|0,or=Hr&8191,nr=Hr>>>13;H.negative=C.negative^F.negative,H.length=19,L=Math.imul(Ie,rt),G=Math.imul(Ie,mt),G=G+Math.imul(Oe,rt)|0,le=Math.imul(Oe,mt);var Ue=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,L=Math.imul(De,rt),G=Math.imul(De,mt),G=G+Math.imul(Ee,rt)|0,le=Math.imul(Ee,mt),L=L+Math.imul(Ie,jt)|0,G=G+Math.imul(Ie,kt)|0,G=G+Math.imul(Oe,jt)|0,le=le+Math.imul(Oe,kt)|0;var it=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(it>>>26)|0,it&=67108863,L=Math.imul(ue,rt),G=Math.imul(ue,mt),G=G+Math.imul(xe,rt)|0,le=Math.imul(xe,mt),L=L+Math.imul(De,jt)|0,G=G+Math.imul(De,kt)|0,G=G+Math.imul(Ee,jt)|0,le=le+Math.imul(Ee,kt)|0,L=L+Math.imul(Ie,Tt)|0,G=G+Math.imul(Ie,Mt)|0,G=G+Math.imul(Oe,Tt)|0,le=le+Math.imul(Oe,Mt)|0;var ot=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(ot>>>26)|0,ot&=67108863,L=Math.imul(ce,rt),G=Math.imul(ce,mt),G=G+Math.imul(de,rt)|0,le=Math.imul(de,mt),L=L+Math.imul(ue,jt)|0,G=G+Math.imul(ue,kt)|0,G=G+Math.imul(xe,jt)|0,le=le+Math.imul(xe,kt)|0,L=L+Math.imul(De,Tt)|0,G=G+Math.imul(De,Mt)|0,G=G+Math.imul(Ee,Tt)|0,le=le+Math.imul(Ee,Mt)|0,L=L+Math.imul(Ie,It)|0,G=G+Math.imul(Ie,$t)|0,G=G+Math.imul(Oe,It)|0,le=le+Math.imul(Oe,$t)|0;var Rt=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,L=Math.imul(se,rt),G=Math.imul(se,mt),G=G+Math.imul(ne,rt)|0,le=Math.imul(ne,mt),L=L+Math.imul(ce,jt)|0,G=G+Math.imul(ce,kt)|0,G=G+Math.imul(de,jt)|0,le=le+Math.imul(de,kt)|0,L=L+Math.imul(ue,Tt)|0,G=G+Math.imul(ue,Mt)|0,G=G+Math.imul(xe,Tt)|0,le=le+Math.imul(xe,Mt)|0,L=L+Math.imul(De,It)|0,G=G+Math.imul(De,$t)|0,G=G+Math.imul(Ee,It)|0,le=le+Math.imul(Ee,$t)|0,L=L+Math.imul(Ie,mr)|0,G=G+Math.imul(Ie,Xt)|0,G=G+Math.imul(Oe,mr)|0,le=le+Math.imul(Oe,Xt)|0;var zt=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(zt>>>26)|0,zt&=67108863,L=Math.imul(Ne,rt),G=Math.imul(Ne,mt),G=G+Math.imul(ae,rt)|0,le=Math.imul(ae,mt),L=L+Math.imul(se,jt)|0,G=G+Math.imul(se,kt)|0,G=G+Math.imul(ne,jt)|0,le=le+Math.imul(ne,kt)|0,L=L+Math.imul(ce,Tt)|0,G=G+Math.imul(ce,Mt)|0,G=G+Math.imul(de,Tt)|0,le=le+Math.imul(de,Mt)|0,L=L+Math.imul(ue,It)|0,G=G+Math.imul(ue,$t)|0,G=G+Math.imul(xe,It)|0,le=le+Math.imul(xe,$t)|0,L=L+Math.imul(De,mr)|0,G=G+Math.imul(De,Xt)|0,G=G+Math.imul(Ee,mr)|0,le=le+Math.imul(Ee,Xt)|0,L=L+Math.imul(Ie,Mr)|0,G=G+Math.imul(Ie,ir)|0,G=G+Math.imul(Oe,Mr)|0,le=le+Math.imul(Oe,ir)|0;var gr=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(gr>>>26)|0,gr&=67108863,L=Math.imul(ze,rt),G=Math.imul(ze,mt),G=G+Math.imul(ve,rt)|0,le=Math.imul(ve,mt),L=L+Math.imul(Ne,jt)|0,G=G+Math.imul(Ne,kt)|0,G=G+Math.imul(ae,jt)|0,le=le+Math.imul(ae,kt)|0,L=L+Math.imul(se,Tt)|0,G=G+Math.imul(se,Mt)|0,G=G+Math.imul(ne,Tt)|0,le=le+Math.imul(ne,Mt)|0,L=L+Math.imul(ce,It)|0,G=G+Math.imul(ce,$t)|0,G=G+Math.imul(de,It)|0,le=le+Math.imul(de,$t)|0,L=L+Math.imul(ue,mr)|0,G=G+Math.imul(ue,Xt)|0,G=G+Math.imul(xe,mr)|0,le=le+Math.imul(xe,Xt)|0,L=L+Math.imul(De,Mr)|0,G=G+Math.imul(De,ir)|0,G=G+Math.imul(Ee,Mr)|0,le=le+Math.imul(Ee,ir)|0,L=L+Math.imul(Ie,Nr)|0,G=G+Math.imul(Ie,qt)|0,G=G+Math.imul(Oe,Nr)|0,le=le+Math.imul(Oe,qt)|0;var Gr=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,L=Math.imul(Be,rt),G=Math.imul(Be,mt),G=G+Math.imul(We,rt)|0,le=Math.imul(We,mt),L=L+Math.imul(ze,jt)|0,G=G+Math.imul(ze,kt)|0,G=G+Math.imul(ve,jt)|0,le=le+Math.imul(ve,kt)|0,L=L+Math.imul(Ne,Tt)|0,G=G+Math.imul(Ne,Mt)|0,G=G+Math.imul(ae,Tt)|0,le=le+Math.imul(ae,Mt)|0,L=L+Math.imul(se,It)|0,G=G+Math.imul(se,$t)|0,G=G+Math.imul(ne,It)|0,le=le+Math.imul(ne,$t)|0,L=L+Math.imul(ce,mr)|0,G=G+Math.imul(ce,Xt)|0,G=G+Math.imul(de,mr)|0,le=le+Math.imul(de,Xt)|0,L=L+Math.imul(ue,Mr)|0,G=G+Math.imul(ue,ir)|0,G=G+Math.imul(xe,Mr)|0,le=le+Math.imul(xe,ir)|0,L=L+Math.imul(De,Nr)|0,G=G+Math.imul(De,qt)|0,G=G+Math.imul(Ee,Nr)|0,le=le+Math.imul(Ee,qt)|0,L=L+Math.imul(Ie,ur)|0,G=G+Math.imul(Ie,rr)|0,G=G+Math.imul(Oe,ur)|0,le=le+Math.imul(Oe,rr)|0;var di=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(di>>>26)|0,di&=67108863,L=Math.imul(Ge,rt),G=Math.imul(Ge,mt),G=G+Math.imul(et,rt)|0,le=Math.imul(et,mt),L=L+Math.imul(Be,jt)|0,G=G+Math.imul(Be,kt)|0,G=G+Math.imul(We,jt)|0,le=le+Math.imul(We,kt)|0,L=L+Math.imul(ze,Tt)|0,G=G+Math.imul(ze,Mt)|0,G=G+Math.imul(ve,Tt)|0,le=le+Math.imul(ve,Mt)|0,L=L+Math.imul(Ne,It)|0,G=G+Math.imul(Ne,$t)|0,G=G+Math.imul(ae,It)|0,le=le+Math.imul(ae,$t)|0,L=L+Math.imul(se,mr)|0,G=G+Math.imul(se,Xt)|0,G=G+Math.imul(ne,mr)|0,le=le+Math.imul(ne,Xt)|0,L=L+Math.imul(ce,Mr)|0,G=G+Math.imul(ce,ir)|0,G=G+Math.imul(de,Mr)|0,le=le+Math.imul(de,ir)|0,L=L+Math.imul(ue,Nr)|0,G=G+Math.imul(ue,qt)|0,G=G+Math.imul(xe,Nr)|0,le=le+Math.imul(xe,qt)|0,L=L+Math.imul(De,ur)|0,G=G+Math.imul(De,rr)|0,G=G+Math.imul(Ee,ur)|0,le=le+Math.imul(Ee,rr)|0,L=L+Math.imul(Ie,dr)|0,G=G+Math.imul(Ie,tr)|0,G=G+Math.imul(Oe,dr)|0,le=le+Math.imul(Oe,tr)|0;var gi=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(gi>>>26)|0,gi&=67108863,L=Math.imul(at,rt),G=Math.imul(at,mt),G=G+Math.imul(Fe,rt)|0,le=Math.imul(Fe,mt),L=L+Math.imul(Ge,jt)|0,G=G+Math.imul(Ge,kt)|0,G=G+Math.imul(et,jt)|0,le=le+Math.imul(et,kt)|0,L=L+Math.imul(Be,Tt)|0,G=G+Math.imul(Be,Mt)|0,G=G+Math.imul(We,Tt)|0,le=le+Math.imul(We,Mt)|0,L=L+Math.imul(ze,It)|0,G=G+Math.imul(ze,$t)|0,G=G+Math.imul(ve,It)|0,le=le+Math.imul(ve,$t)|0,L=L+Math.imul(Ne,mr)|0,G=G+Math.imul(Ne,Xt)|0,G=G+Math.imul(ae,mr)|0,le=le+Math.imul(ae,Xt)|0,L=L+Math.imul(se,Mr)|0,G=G+Math.imul(se,ir)|0,G=G+Math.imul(ne,Mr)|0,le=le+Math.imul(ne,ir)|0,L=L+Math.imul(ce,Nr)|0,G=G+Math.imul(ce,qt)|0,G=G+Math.imul(de,Nr)|0,le=le+Math.imul(de,qt)|0,L=L+Math.imul(ue,ur)|0,G=G+Math.imul(ue,rr)|0,G=G+Math.imul(xe,ur)|0,le=le+Math.imul(xe,rr)|0,L=L+Math.imul(De,dr)|0,G=G+Math.imul(De,tr)|0,G=G+Math.imul(Ee,dr)|0,le=le+Math.imul(Ee,tr)|0,L=L+Math.imul(Ie,or)|0,G=G+Math.imul(Ie,nr)|0,G=G+Math.imul(Oe,or)|0,le=le+Math.imul(Oe,nr)|0;var ci=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(ci>>>26)|0,ci&=67108863,L=Math.imul(at,jt),G=Math.imul(at,kt),G=G+Math.imul(Fe,jt)|0,le=Math.imul(Fe,kt),L=L+Math.imul(Ge,Tt)|0,G=G+Math.imul(Ge,Mt)|0,G=G+Math.imul(et,Tt)|0,le=le+Math.imul(et,Mt)|0,L=L+Math.imul(Be,It)|0,G=G+Math.imul(Be,$t)|0,G=G+Math.imul(We,It)|0,le=le+Math.imul(We,$t)|0,L=L+Math.imul(ze,mr)|0,G=G+Math.imul(ze,Xt)|0,G=G+Math.imul(ve,mr)|0,le=le+Math.imul(ve,Xt)|0,L=L+Math.imul(Ne,Mr)|0,G=G+Math.imul(Ne,ir)|0,G=G+Math.imul(ae,Mr)|0,le=le+Math.imul(ae,ir)|0,L=L+Math.imul(se,Nr)|0,G=G+Math.imul(se,qt)|0,G=G+Math.imul(ne,Nr)|0,le=le+Math.imul(ne,qt)|0,L=L+Math.imul(ce,ur)|0,G=G+Math.imul(ce,rr)|0,G=G+Math.imul(de,ur)|0,le=le+Math.imul(de,rr)|0,L=L+Math.imul(ue,dr)|0,G=G+Math.imul(ue,tr)|0,G=G+Math.imul(xe,dr)|0,le=le+Math.imul(xe,tr)|0,L=L+Math.imul(De,or)|0,G=G+Math.imul(De,nr)|0,G=G+Math.imul(Ee,or)|0,le=le+Math.imul(Ee,nr)|0;var ti=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(ti>>>26)|0,ti&=67108863,L=Math.imul(at,Tt),G=Math.imul(at,Mt),G=G+Math.imul(Fe,Tt)|0,le=Math.imul(Fe,Mt),L=L+Math.imul(Ge,It)|0,G=G+Math.imul(Ge,$t)|0,G=G+Math.imul(et,It)|0,le=le+Math.imul(et,$t)|0,L=L+Math.imul(Be,mr)|0,G=G+Math.imul(Be,Xt)|0,G=G+Math.imul(We,mr)|0,le=le+Math.imul(We,Xt)|0,L=L+Math.imul(ze,Mr)|0,G=G+Math.imul(ze,ir)|0,G=G+Math.imul(ve,Mr)|0,le=le+Math.imul(ve,ir)|0,L=L+Math.imul(Ne,Nr)|0,G=G+Math.imul(Ne,qt)|0,G=G+Math.imul(ae,Nr)|0,le=le+Math.imul(ae,qt)|0,L=L+Math.imul(se,ur)|0,G=G+Math.imul(se,rr)|0,G=G+Math.imul(ne,ur)|0,le=le+Math.imul(ne,rr)|0,L=L+Math.imul(ce,dr)|0,G=G+Math.imul(ce,tr)|0,G=G+Math.imul(de,dr)|0,le=le+Math.imul(de,tr)|0,L=L+Math.imul(ue,or)|0,G=G+Math.imul(ue,nr)|0,G=G+Math.imul(xe,or)|0,le=le+Math.imul(xe,nr)|0;var fn=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(fn>>>26)|0,fn&=67108863,L=Math.imul(at,It),G=Math.imul(at,$t),G=G+Math.imul(Fe,It)|0,le=Math.imul(Fe,$t),L=L+Math.imul(Ge,mr)|0,G=G+Math.imul(Ge,Xt)|0,G=G+Math.imul(et,mr)|0,le=le+Math.imul(et,Xt)|0,L=L+Math.imul(Be,Mr)|0,G=G+Math.imul(Be,ir)|0,G=G+Math.imul(We,Mr)|0,le=le+Math.imul(We,ir)|0,L=L+Math.imul(ze,Nr)|0,G=G+Math.imul(ze,qt)|0,G=G+Math.imul(ve,Nr)|0,le=le+Math.imul(ve,qt)|0,L=L+Math.imul(Ne,ur)|0,G=G+Math.imul(Ne,rr)|0,G=G+Math.imul(ae,ur)|0,le=le+Math.imul(ae,rr)|0,L=L+Math.imul(se,dr)|0,G=G+Math.imul(se,tr)|0,G=G+Math.imul(ne,dr)|0,le=le+Math.imul(ne,tr)|0,L=L+Math.imul(ce,or)|0,G=G+Math.imul(ce,nr)|0,G=G+Math.imul(de,or)|0,le=le+Math.imul(de,nr)|0;var en=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(en>>>26)|0,en&=67108863,L=Math.imul(at,mr),G=Math.imul(at,Xt),G=G+Math.imul(Fe,mr)|0,le=Math.imul(Fe,Xt),L=L+Math.imul(Ge,Mr)|0,G=G+Math.imul(Ge,ir)|0,G=G+Math.imul(et,Mr)|0,le=le+Math.imul(et,ir)|0,L=L+Math.imul(Be,Nr)|0,G=G+Math.imul(Be,qt)|0,G=G+Math.imul(We,Nr)|0,le=le+Math.imul(We,qt)|0,L=L+Math.imul(ze,ur)|0,G=G+Math.imul(ze,rr)|0,G=G+Math.imul(ve,ur)|0,le=le+Math.imul(ve,rr)|0,L=L+Math.imul(Ne,dr)|0,G=G+Math.imul(Ne,tr)|0,G=G+Math.imul(ae,dr)|0,le=le+Math.imul(ae,tr)|0,L=L+Math.imul(se,or)|0,G=G+Math.imul(se,nr)|0,G=G+Math.imul(ne,or)|0,le=le+Math.imul(ne,nr)|0;var Yr=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,L=Math.imul(at,Mr),G=Math.imul(at,ir),G=G+Math.imul(Fe,Mr)|0,le=Math.imul(Fe,ir),L=L+Math.imul(Ge,Nr)|0,G=G+Math.imul(Ge,qt)|0,G=G+Math.imul(et,Nr)|0,le=le+Math.imul(et,qt)|0,L=L+Math.imul(Be,ur)|0,G=G+Math.imul(Be,rr)|0,G=G+Math.imul(We,ur)|0,le=le+Math.imul(We,rr)|0,L=L+Math.imul(ze,dr)|0,G=G+Math.imul(ze,tr)|0,G=G+Math.imul(ve,dr)|0,le=le+Math.imul(ve,tr)|0,L=L+Math.imul(Ne,or)|0,G=G+Math.imul(Ne,nr)|0,G=G+Math.imul(ae,or)|0,le=le+Math.imul(ae,nr)|0;var Ki=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,L=Math.imul(at,Nr),G=Math.imul(at,qt),G=G+Math.imul(Fe,Nr)|0,le=Math.imul(Fe,qt),L=L+Math.imul(Ge,ur)|0,G=G+Math.imul(Ge,rr)|0,G=G+Math.imul(et,ur)|0,le=le+Math.imul(et,rr)|0,L=L+Math.imul(Be,dr)|0,G=G+Math.imul(Be,tr)|0,G=G+Math.imul(We,dr)|0,le=le+Math.imul(We,tr)|0,L=L+Math.imul(ze,or)|0,G=G+Math.imul(ze,nr)|0,G=G+Math.imul(ve,or)|0,le=le+Math.imul(ve,nr)|0;var Yi=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,L=Math.imul(at,ur),G=Math.imul(at,rr),G=G+Math.imul(Fe,ur)|0,le=Math.imul(Fe,rr),L=L+Math.imul(Ge,dr)|0,G=G+Math.imul(Ge,tr)|0,G=G+Math.imul(et,dr)|0,le=le+Math.imul(et,tr)|0,L=L+Math.imul(Be,or)|0,G=G+Math.imul(Be,nr)|0,G=G+Math.imul(We,or)|0,le=le+Math.imul(We,nr)|0;var _i=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(_i>>>26)|0,_i&=67108863,L=Math.imul(at,dr),G=Math.imul(at,tr),G=G+Math.imul(Fe,dr)|0,le=Math.imul(Fe,tr),L=L+Math.imul(Ge,or)|0,G=G+Math.imul(Ge,nr)|0,G=G+Math.imul(et,or)|0,le=le+Math.imul(et,nr)|0;var Fi=(B+L|0)+((G&8191)<<13)|0;B=(le+(G>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,L=Math.imul(at,or),G=Math.imul(at,nr),G=G+Math.imul(Fe,or)|0,le=Math.imul(Fe,nr);var Di=(B+L|0)+((G&8191)<<13)|0;return B=(le+(G>>>13)|0)+(Di>>>26)|0,Di&=67108863,z[0]=Ue,z[1]=it,z[2]=ot,z[3]=Rt,z[4]=zt,z[5]=gr,z[6]=Gr,z[7]=di,z[8]=gi,z[9]=ci,z[10]=ti,z[11]=fn,z[12]=en,z[13]=Yr,z[14]=Ki,z[15]=Yi,z[16]=_i,z[17]=Fi,z[18]=Di,B!==0&&(z[19]=B,H.length++),H};Math.imul||(A=S);function w(O,C,F){F.negative=C.negative^O.negative,F.length=O.length+C.length;for(var H=0,$=0,Y=0;Y<F.length-1;Y++){var z=$;$=0;for(var B=H&67108863,L=Math.min(Y,C.length-1),G=Math.max(0,Y-O.length+1);G<=L;G++){var le=Y-G,ge=O.words[le]|0,Ie=C.words[G]|0,Oe=ge*Ie,Ke=Oe&67108863;z=z+(Oe/67108864|0)|0,Ke=Ke+B|0,B=Ke&67108863,z=z+(Ke>>>26)|0,$+=z>>>26,z&=67108863}F.words[Y]=B,H=z,z=$}return H!==0?F.words[Y]=H:F.length--,F._strip()}function I(O,C,F){return w(O,C,F)}t.prototype.mulTo=function(C,F){var H,$=this.length+C.length;return this.length===10&&C.length===10?H=A(this,C,F):$<63?H=S(this,C,F):$<1024?H=w(this,C,F):H=I(this,C,F),H},t.prototype.mul=function(C){var F=new t(null);return F.words=new Array(this.length+C.length),this.mulTo(C,F)},t.prototype.mulf=function(C){var F=new t(null);return F.words=new Array(this.length+C.length),I(this,C,F)},t.prototype.imul=function(C){return this.clone().mulTo(C,this)},t.prototype.imuln=function(C){var F=C<0;F&&(C=-C),h(typeof C=="number"),h(C<67108864);for(var H=0,$=0;$<this.length;$++){var Y=(this.words[$]|0)*C,z=(Y&67108863)+(H&67108863);H>>=26,H+=Y/67108864|0,H+=z>>>26,this.words[$]=z&67108863}return H!==0&&(this.words[$]=H,this.length++),F?this.ineg():this},t.prototype.muln=function(C){return this.clone().imuln(C)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(C){var F=T(C);if(F.length===0)return new t(1);for(var H=this,$=0;$<F.length&&F[$]===0;$++,H=H.sqr());if(++$<F.length)for(var Y=H.sqr();$<F.length;$++,Y=Y.sqr())F[$]!==0&&(H=H.mul(Y));return H},t.prototype.iushln=function(C){h(typeof C=="number"&&C>=0);var F=C%26,H=(C-F)/26,$=67108863>>>26-F<<26-F,Y;if(F!==0){var z=0;for(Y=0;Y<this.length;Y++){var B=this.words[Y]&$,L=(this.words[Y]|0)-B<<F;this.words[Y]=L|z,z=B>>>26-F}z&&(this.words[Y]=z,this.length++)}if(H!==0){for(Y=this.length-1;Y>=0;Y--)this.words[Y+H]=this.words[Y];for(Y=0;Y<H;Y++)this.words[Y]=0;this.length+=H}return this._strip()},t.prototype.ishln=function(C){return h(this.negative===0),this.iushln(C)},t.prototype.iushrn=function(C,F,H){h(typeof C=="number"&&C>=0);var $;F?$=(F-F%26)/26:$=0;var Y=C%26,z=Math.min((C-Y)/26,this.length),B=67108863^67108863>>>Y<<Y,L=H;if($-=z,$=Math.max(0,$),L){for(var G=0;G<z;G++)L.words[G]=this.words[G];L.length=z}if(z!==0)if(this.length>z)for(this.length-=z,G=0;G<this.length;G++)this.words[G]=this.words[G+z];else this.words[0]=0,this.length=1;var le=0;for(G=this.length-1;G>=0&&(le!==0||G>=$);G--){var ge=this.words[G]|0;this.words[G]=le<<26-Y|ge>>>Y,le=ge&B}return L&&le!==0&&(L.words[L.length++]=le),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},t.prototype.ishrn=function(C,F,H){return h(this.negative===0),this.iushrn(C,F,H)},t.prototype.shln=function(C){return this.clone().ishln(C)},t.prototype.ushln=function(C){return this.clone().iushln(C)},t.prototype.shrn=function(C){return this.clone().ishrn(C)},t.prototype.ushrn=function(C){return this.clone().iushrn(C)},t.prototype.testn=function(C){h(typeof C=="number"&&C>=0);var F=C%26,H=(C-F)/26,$=1<<F;if(this.length<=H)return!1;var Y=this.words[H];return!!(Y&$)},t.prototype.imaskn=function(C){h(typeof C=="number"&&C>=0);var F=C%26,H=(C-F)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(F!==0&&H++,this.length=Math.min(H,this.length),F!==0){var $=67108863^67108863>>>F<<F;this.words[this.length-1]&=$}return this._strip()},t.prototype.maskn=function(C){return this.clone().imaskn(C)},t.prototype.iaddn=function(C){return h(typeof C=="number"),h(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<=C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},t.prototype._iaddn=function(C){this.words[0]+=C;for(var F=0;F<this.length&&this.words[F]>=67108864;F++)this.words[F]-=67108864,F===this.length-1?this.words[F+1]=1:this.words[F+1]++;return this.length=Math.max(this.length,F+1),this},t.prototype.isubn=function(C){if(h(typeof C=="number"),h(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var F=0;F<this.length&&this.words[F]<0;F++)this.words[F]+=67108864,this.words[F+1]-=1;return this._strip()},t.prototype.addn=function(C){return this.clone().iaddn(C)},t.prototype.subn=function(C){return this.clone().isubn(C)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(C,F,H){var $=C.length+H,Y;this._expand($);var z,B=0;for(Y=0;Y<C.length;Y++){z=(this.words[Y+H]|0)+B;var L=(C.words[Y]|0)*F;z-=L&67108863,B=(z>>26)-(L/67108864|0),this.words[Y+H]=z&67108863}for(;Y<this.length-H;Y++)z=(this.words[Y+H]|0)+B,B=z>>26,this.words[Y+H]=z&67108863;if(B===0)return this._strip();for(h(B===-1),B=0,Y=0;Y<this.length;Y++)z=-(this.words[Y]|0)+B,B=z>>26,this.words[Y]=z&67108863;return this.negative=1,this._strip()},t.prototype._wordDiv=function(C,F){var H=this.length-C.length,$=this.clone(),Y=C,z=Y.words[Y.length-1]|0,B=this._countBits(z);H=26-B,H!==0&&(Y=Y.ushln(H),$.iushln(H),z=Y.words[Y.length-1]|0);var L=$.length-Y.length,G;if(F!=="mod"){G=new t(null),G.length=L+1,G.words=new Array(G.length);for(var le=0;le<G.length;le++)G.words[le]=0}var ge=$.clone()._ishlnsubmul(Y,1,L);ge.negative===0&&($=ge,G&&(G.words[L]=1));for(var Ie=L-1;Ie>=0;Ie--){var Oe=($.words[Y.length+Ie]|0)*67108864+($.words[Y.length+Ie-1]|0);for(Oe=Math.min(Oe/z|0,67108863),$._ishlnsubmul(Y,Oe,Ie);$.negative!==0;)Oe--,$.negative=0,$._ishlnsubmul(Y,1,Ie),$.isZero()||($.negative^=1);G&&(G.words[Ie]=Oe)}return G&&G._strip(),$._strip(),F!=="div"&&H!==0&&$.iushrn(H),{div:G||null,mod:$}},t.prototype.divmod=function(C,F,H){if(h(!C.isZero()),this.isZero())return{div:new t(0),mod:new t(0)};var $,Y,z;return this.negative!==0&&C.negative===0?(z=this.neg().divmod(C,F),F!=="mod"&&($=z.div.neg()),F!=="div"&&(Y=z.mod.neg(),H&&Y.negative!==0&&Y.iadd(C)),{div:$,mod:Y}):this.negative===0&&C.negative!==0?(z=this.divmod(C.neg(),F),F!=="mod"&&($=z.div.neg()),{div:$,mod:z.mod}):this.negative&C.negative?(z=this.neg().divmod(C.neg(),F),F!=="div"&&(Y=z.mod.neg(),H&&Y.negative!==0&&Y.isub(C)),{div:z.div,mod:Y}):C.length>this.length||this.cmp(C)<0?{div:new t(0),mod:this}:C.length===1?F==="div"?{div:this.divn(C.words[0]),mod:null}:F==="mod"?{div:null,mod:new t(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new t(this.modrn(C.words[0]))}:this._wordDiv(C,F)},t.prototype.div=function(C){return this.divmod(C,"div",!1).div},t.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},t.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},t.prototype.divRound=function(C){var F=this.divmod(C);if(F.mod.isZero())return F.div;var H=F.div.negative!==0?F.mod.isub(C):F.mod,$=C.ushrn(1),Y=C.andln(1),z=H.cmp($);return z<0||Y===1&&z===0?F.div:F.div.negative!==0?F.div.isubn(1):F.div.iaddn(1)},t.prototype.modrn=function(C){var F=C<0;F&&(C=-C),h(C<=67108863);for(var H=(1<<26)%C,$=0,Y=this.length-1;Y>=0;Y--)$=(H*$+(this.words[Y]|0))%C;return F?-$:$},t.prototype.modn=function(C){return this.modrn(C)},t.prototype.idivn=function(C){var F=C<0;F&&(C=-C),h(C<=67108863);for(var H=0,$=this.length-1;$>=0;$--){var Y=(this.words[$]|0)+H*67108864;this.words[$]=Y/C|0,H=Y%C}return this._strip(),F?this.ineg():this},t.prototype.divn=function(C){return this.clone().idivn(C)},t.prototype.egcd=function(C){h(C.negative===0),h(!C.isZero());var F=this,H=C.clone();F.negative!==0?F=F.umod(C):F=F.clone();for(var $=new t(1),Y=new t(0),z=new t(0),B=new t(1),L=0;F.isEven()&&H.isEven();)F.iushrn(1),H.iushrn(1),++L;for(var G=H.clone(),le=F.clone();!F.isZero();){for(var ge=0,Ie=1;!(F.words[0]&Ie)&&ge<26;++ge,Ie<<=1);if(ge>0)for(F.iushrn(ge);ge-- >0;)($.isOdd()||Y.isOdd())&&($.iadd(G),Y.isub(le)),$.iushrn(1),Y.iushrn(1);for(var Oe=0,Ke=1;!(H.words[0]&Ke)&&Oe<26;++Oe,Ke<<=1);if(Oe>0)for(H.iushrn(Oe);Oe-- >0;)(z.isOdd()||B.isOdd())&&(z.iadd(G),B.isub(le)),z.iushrn(1),B.iushrn(1);F.cmp(H)>=0?(F.isub(H),$.isub(z),Y.isub(B)):(H.isub(F),z.isub($),B.isub(Y))}return{a:z,b:B,gcd:H.iushln(L)}},t.prototype._invmp=function(C){h(C.negative===0),h(!C.isZero());var F=this,H=C.clone();F.negative!==0?F=F.umod(C):F=F.clone();for(var $=new t(1),Y=new t(0),z=H.clone();F.cmpn(1)>0&&H.cmpn(1)>0;){for(var B=0,L=1;!(F.words[0]&L)&&B<26;++B,L<<=1);if(B>0)for(F.iushrn(B);B-- >0;)$.isOdd()&&$.iadd(z),$.iushrn(1);for(var G=0,le=1;!(H.words[0]&le)&&G<26;++G,le<<=1);if(G>0)for(H.iushrn(G);G-- >0;)Y.isOdd()&&Y.iadd(z),Y.iushrn(1);F.cmp(H)>=0?(F.isub(H),$.isub(Y)):(H.isub(F),Y.isub($))}var ge;return F.cmpn(1)===0?ge=$:ge=Y,ge.cmpn(0)<0&&ge.iadd(C),ge},t.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var F=this.clone(),H=C.clone();F.negative=0,H.negative=0;for(var $=0;F.isEven()&&H.isEven();$++)F.iushrn(1),H.iushrn(1);do{for(;F.isEven();)F.iushrn(1);for(;H.isEven();)H.iushrn(1);var Y=F.cmp(H);if(Y<0){var z=F;F=H,H=z}else if(Y===0||H.cmpn(1)===0)break;F.isub(H)}while(!0);return H.iushln($)},t.prototype.invm=function(C){return this.egcd(C).a.umod(C)},t.prototype.isEven=function(){return(this.words[0]&1)===0},t.prototype.isOdd=function(){return(this.words[0]&1)===1},t.prototype.andln=function(C){return this.words[0]&C},t.prototype.bincn=function(C){h(typeof C=="number");var F=C%26,H=(C-F)/26,$=1<<F;if(this.length<=H)return this._expand(H+1),this.words[H]|=$,this;for(var Y=$,z=H;Y!==0&&z<this.length;z++){var B=this.words[z]|0;B+=Y,Y=B>>>26,B&=67108863,this.words[z]=B}return Y!==0&&(this.words[z]=Y,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(C){var F=C<0;if(this.negative!==0&&!F)return-1;if(this.negative===0&&F)return 1;this._strip();var H;if(this.length>1)H=1;else{F&&(C=-C),h(C<=67108863,"Number is too big");var $=this.words[0]|0;H=$===C?0:$<C?-1:1}return this.negative!==0?-H|0:H},t.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var F=this.ucmp(C);return this.negative!==0?-F|0:F},t.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var F=0,H=this.length-1;H>=0;H--){var $=this.words[H]|0,Y=C.words[H]|0;if($!==Y){$<Y?F=-1:$>Y&&(F=1);break}}return F},t.prototype.gtn=function(C){return this.cmpn(C)===1},t.prototype.gt=function(C){return this.cmp(C)===1},t.prototype.gten=function(C){return this.cmpn(C)>=0},t.prototype.gte=function(C){return this.cmp(C)>=0},t.prototype.ltn=function(C){return this.cmpn(C)===-1},t.prototype.lt=function(C){return this.cmp(C)===-1},t.prototype.lten=function(C){return this.cmpn(C)<=0},t.prototype.lte=function(C){return this.cmp(C)<=0},t.prototype.eqn=function(C){return this.cmpn(C)===0},t.prototype.eq=function(C){return this.cmp(C)===0},t.red=function(C){return new W(C)},t.prototype.toRed=function(C){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},t.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(C){return this.red=C,this},t.prototype.forceRed=function(C){return h(!this.red,"Already a number in reduction context"),this._forceRed(C)},t.prototype.redAdd=function(C){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},t.prototype.redIAdd=function(C){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},t.prototype.redSub=function(C){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},t.prototype.redISub=function(C){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},t.prototype.redShl=function(C){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},t.prototype.redMul=function(C){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},t.prototype.redIMul=function(C){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},t.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(C){return h(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var D={k256:null,p224:null,p192:null,p25519:null};function V(O,C){this.name=O,this.p=new t(C,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var C=new t(null);return C.words=new Array(Math.ceil(this.n/13)),C},V.prototype.ireduce=function(C){var F=C,H;do this.split(F,this.tmp),F=this.imulK(F),F=F.iadd(this.tmp),H=F.bitLength();while(H>this.n);var $=H<this.n?-1:F.ucmp(this.p);return $===0?(F.words[0]=0,F.length=1):$>0?F.isub(this.p):F.strip!==void 0?F.strip():F._strip(),F},V.prototype.split=function(C,F){C.iushrn(this.n,0,F)},V.prototype.imulK=function(C){return C.imul(this.k)};function ie(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ie,V),ie.prototype.split=function(C,F){for(var H=4194303,$=Math.min(C.length,9),Y=0;Y<$;Y++)F.words[Y]=C.words[Y];if(F.length=$,C.length<=9){C.words[0]=0,C.length=1;return}var z=C.words[9];for(F.words[F.length++]=z&H,Y=10;Y<C.length;Y++){var B=C.words[Y]|0;C.words[Y-10]=(B&H)<<4|z>>>22,z=B}z>>>=22,C.words[Y-10]=z,z===0&&C.length>10?C.length-=10:C.length-=9},ie.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var F=0,H=0;H<C.length;H++){var $=C.words[H]|0;F+=$*977,C.words[H]=F&67108863,F=$*64+(F/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function te(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(te,V);function re(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(re,V);function Z(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Z,V),Z.prototype.imulK=function(C){for(var F=0,H=0;H<C.length;H++){var $=(C.words[H]|0)*19+F,Y=$&67108863;$>>>=26,C.words[H]=Y,F=$}return F!==0&&(C.words[C.length++]=F),C},t._prime=function(C){if(D[C])return D[C];var F;if(C==="k256")F=new ie;else if(C==="p224")F=new te;else if(C==="p192")F=new re;else if(C==="p25519")F=new Z;else throw new Error("Unknown prime "+C);return D[C]=F,F};function W(O){if(typeof O=="string"){var C=t._prime(O);this.m=C.p,this.prime=C}else h(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}W.prototype._verify1=function(C){h(C.negative===0,"red works only with positives"),h(C.red,"red works only with red numbers")},W.prototype._verify2=function(C,F){h((C.negative|F.negative)===0,"red works only with positives"),h(C.red&&C.red===F.red,"red works only with red numbers")},W.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(d(C,C.umod(this.m)._forceRed(this)),C)},W.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},W.prototype.add=function(C,F){this._verify2(C,F);var H=C.add(F);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},W.prototype.iadd=function(C,F){this._verify2(C,F);var H=C.iadd(F);return H.cmp(this.m)>=0&&H.isub(this.m),H},W.prototype.sub=function(C,F){this._verify2(C,F);var H=C.sub(F);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},W.prototype.isub=function(C,F){this._verify2(C,F);var H=C.isub(F);return H.cmpn(0)<0&&H.iadd(this.m),H},W.prototype.shl=function(C,F){return this._verify1(C),this.imod(C.ushln(F))},W.prototype.imul=function(C,F){return this._verify2(C,F),this.imod(C.imul(F))},W.prototype.mul=function(C,F){return this._verify2(C,F),this.imod(C.mul(F))},W.prototype.isqr=function(C){return this.imul(C,C.clone())},W.prototype.sqr=function(C){return this.mul(C,C)},W.prototype.sqrt=function(C){if(C.isZero())return C.clone();var F=this.m.andln(3);if(h(F%2===1),F===3){var H=this.m.add(new t(1)).iushrn(2);return this.pow(C,H)}for(var $=this.m.subn(1),Y=0;!$.isZero()&&$.andln(1)===0;)Y++,$.iushrn(1);h(!$.isZero());var z=new t(1).toRed(this),B=z.redNeg(),L=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new t(2*G*G).toRed(this);this.pow(G,L).cmp(B)!==0;)G.redIAdd(B);for(var le=this.pow(G,$),ge=this.pow(C,$.addn(1).iushrn(1)),Ie=this.pow(C,$),Oe=Y;Ie.cmp(z)!==0;){for(var Ke=Ie,De=0;Ke.cmp(z)!==0;De++)Ke=Ke.redSqr();h(De<Oe);var Ee=this.pow(le,new t(1).iushln(Oe-De-1));ge=ge.redMul(Ee),le=Ee.redSqr(),Ie=Ie.redMul(le),Oe=De}return ge},W.prototype.invm=function(C){var F=C._invmp(this.m);return F.negative!==0?(F.negative=0,this.imod(F).redNeg()):this.imod(F)},W.prototype.pow=function(C,F){if(F.isZero())return new t(1).toRed(this);if(F.cmpn(1)===0)return C.clone();var H=4,$=new Array(1<<H);$[0]=new t(1).toRed(this),$[1]=C;for(var Y=2;Y<$.length;Y++)$[Y]=this.mul($[Y-1],C);var z=$[0],B=0,L=0,G=F.bitLength()%26;for(G===0&&(G=26),Y=F.length-1;Y>=0;Y--){for(var le=F.words[Y],ge=G-1;ge>=0;ge--){var Ie=le>>ge&1;if(z!==$[0]&&(z=this.sqr(z)),Ie===0&&B===0){L=0;continue}B<<=1,B|=Ie,L++,!(L!==H&&(Y!==0||ge!==0))&&(z=this.mul(z,$[B]),L=0,B=0)}G=26}return z},W.prototype.convertTo=function(C){var F=C.umod(this.m);return F===C?F.clone():F},W.prototype.convertFrom=function(C){var F=C.clone();return F.red=null,F},t.mont=function(C){return new j(C)};function j(O){W.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(j,W),j.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},j.prototype.convertFrom=function(C){var F=this.imod(C.mul(this.rinv));return F.red=null,F},j.prototype.imul=function(C,F){if(C.isZero()||F.isZero())return C.words[0]=0,C.length=1,C;var H=C.imul(F),$=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Y=H.isub($).iushrn(this.shift),z=Y;return Y.cmp(this.m)>=0?z=Y.isub(this.m):Y.cmpn(0)<0&&(z=Y.iadd(this.m)),z._forceRed(this)},j.prototype.mul=function(C,F){if(C.isZero()||F.isZero())return new t(0)._forceRed(this);var H=C.mul(F),$=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Y=H.isub($).iushrn(this.shift),z=Y;return Y.cmp(this.m)>=0?z=Y.isub(this.m):Y.cmpn(0)<0&&(z=Y.iadd(this.m)),z._forceRed(this)},j.prototype.invm=function(C){var F=this.imod(C._invmp(this.m).mul(this.r2));return F._forceRed(this)}})(typeof m>"u"||m,void 0)},{buffer:188}],187:[function(e,m,g){var f;m.exports=function(t){return f||(f=new u(null)),f.generate(t)};function u(s){this.rand=s}if(m.exports.Rand=u,u.prototype.generate=function(t){return this._rand(t)},u.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var i=new Uint8Array(t),r=0;r<i.length;r++)i[r]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?u.prototype._rand=function(t){var i=new Uint8Array(t);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?u.prototype._rand=function(t){var i=new Uint8Array(t);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(u.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var h=e("crypto");if(typeof h.randomBytes!="function")throw new Error("Not supported");u.prototype._rand=function(t){return h.randomBytes(t)}}catch{}},{crypto:188}],188:[function(e,m,g){},{}],189:[function(e,m,g){var f=e("safe-buffer").Buffer;function u(n){f.isBuffer(n)||(n=f.from(n));for(var l=n.length/4|0,d=new Array(l),a=0;a<l;a++)d[a]=n.readUInt32BE(a*4);return d}function h(n){for(var l=0;l<n.length;n++)n[l]=0}function s(n,l,d,a,v){for(var y=d[0],p=d[1],E=d[2],T=d[3],S=n[0]^l[0],A=n[1]^l[1],w=n[2]^l[2],I=n[3]^l[3],D,V,ie,te,re=4,Z=1;Z<v;Z++)D=y[S>>>24]^p[A>>>16&255]^E[w>>>8&255]^T[I&255]^l[re++],V=y[A>>>24]^p[w>>>16&255]^E[I>>>8&255]^T[S&255]^l[re++],ie=y[w>>>24]^p[I>>>16&255]^E[S>>>8&255]^T[A&255]^l[re++],te=y[I>>>24]^p[S>>>16&255]^E[A>>>8&255]^T[w&255]^l[re++],S=D,A=V,w=ie,I=te;return D=(a[S>>>24]<<24|a[A>>>16&255]<<16|a[w>>>8&255]<<8|a[I&255])^l[re++],V=(a[A>>>24]<<24|a[w>>>16&255]<<16|a[I>>>8&255]<<8|a[S&255])^l[re++],ie=(a[w>>>24]<<24|a[I>>>16&255]<<16|a[S>>>8&255]<<8|a[A&255])^l[re++],te=(a[I>>>24]<<24|a[S>>>16&255]<<16|a[A>>>8&255]<<8|a[w&255])^l[re++],D=D>>>0,V=V>>>0,ie=ie>>>0,te=te>>>0,[D,V,ie,te]}var t=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var n=new Array(256),l=0;l<256;l++)l<128?n[l]=l<<1:n[l]=l<<1^283;for(var d=[],a=[],v=[[],[],[],[]],y=[[],[],[],[]],p=0,E=0,T=0;T<256;++T){var S=E^E<<1^E<<2^E<<3^E<<4;S=S>>>8^S&255^99,d[p]=S,a[S]=p;var A=n[p],w=n[A],I=n[w],D=n[S]*257^S*16843008;v[0][p]=D<<24|D>>>8,v[1][p]=D<<16|D>>>16,v[2][p]=D<<8|D>>>24,v[3][p]=D,D=I*16843009^w*65537^A*257^p*16843008,y[0][S]=D<<24|D>>>8,y[1][S]=D<<16|D>>>16,y[2][S]=D<<8|D>>>24,y[3][S]=D,p===0?p=E=1:(p=A^n[n[n[I^A]]],E^=n[n[E]])}return{SBOX:d,INV_SBOX:a,SUB_MIX:v,INV_SUB_MIX:y}}();function r(n){this._key=u(n),this._reset()}r.blockSize=4*4,r.keySize=256/8,r.prototype.blockSize=r.blockSize,r.prototype.keySize=r.keySize,r.prototype._reset=function(){for(var n=this._key,l=n.length,d=l+6,a=(d+1)*4,v=[],y=0;y<l;y++)v[y]=n[y];for(y=l;y<a;y++){var p=v[y-1];y%l===0?(p=p<<8|p>>>24,p=i.SBOX[p>>>24]<<24|i.SBOX[p>>>16&255]<<16|i.SBOX[p>>>8&255]<<8|i.SBOX[p&255],p^=t[y/l|0]<<24):l>6&&y%l===4&&(p=i.SBOX[p>>>24]<<24|i.SBOX[p>>>16&255]<<16|i.SBOX[p>>>8&255]<<8|i.SBOX[p&255]),v[y]=v[y-l]^p}for(var E=[],T=0;T<a;T++){var S=a-T,A=v[S-(T%4?0:4)];T<4||S<=4?E[T]=A:E[T]=i.INV_SUB_MIX[0][i.SBOX[A>>>24]]^i.INV_SUB_MIX[1][i.SBOX[A>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[A>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[A&255]]}this._nRounds=d,this._keySchedule=v,this._invKeySchedule=E},r.prototype.encryptBlockRaw=function(n){return n=u(n),s(n,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},r.prototype.encryptBlock=function(n){var l=this.encryptBlockRaw(n),d=f.allocUnsafe(16);return d.writeUInt32BE(l[0],0),d.writeUInt32BE(l[1],4),d.writeUInt32BE(l[2],8),d.writeUInt32BE(l[3],12),d},r.prototype.decryptBlock=function(n){n=u(n);var l=n[1];n[1]=n[3],n[3]=l;var d=s(n,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),a=f.allocUnsafe(16);return a.writeUInt32BE(d[0],0),a.writeUInt32BE(d[3],4),a.writeUInt32BE(d[2],8),a.writeUInt32BE(d[1],12),a},r.prototype.scrub=function(){h(this._keySchedule),h(this._invKeySchedule),h(this._key)},m.exports.AES=r},{"safe-buffer":494}],190:[function(e,m,g){var f=e("./aes"),u=e("safe-buffer").Buffer,h=e("cipher-base"),s=e("inherits"),t=e("./ghash"),i=e("buffer-xor"),r=e("./incr32");function n(a,v){var y=0;a.length!==v.length&&y++;for(var p=Math.min(a.length,v.length),E=0;E<p;++E)y+=a[E]^v[E];return y}function l(a,v,y){if(v.length===12)return a._finID=u.concat([v,u.from([0,0,0,1])]),u.concat([v,u.from([0,0,0,2])]);var p=new t(y),E=v.length,T=E%16;p.update(v),T&&(T=16-T,p.update(u.alloc(T,0))),p.update(u.alloc(8,0));var S=E*8,A=u.alloc(8);A.writeUIntBE(S,0,8),p.update(A),a._finID=p.state;var w=u.from(a._finID);return r(w),w}function d(a,v,y,p){h.call(this);var E=u.alloc(4,0);this._cipher=new f.AES(v);var T=this._cipher.encryptBlock(E);this._ghash=new t(T),y=l(this,y,T),this._prev=u.from(y),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=a,this._authTag=null,this._called=!1}s(d,h),d.prototype._update=function(a){if(!this._called&&this._alen){var v=16-this._alen%16;v<16&&(v=u.alloc(v,0),this._ghash.update(v))}this._called=!0;var y=this._mode.encrypt(this,a);return this._decrypt?this._ghash.update(a):this._ghash.update(y),this._len+=a.length,y},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var a=i(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&n(a,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=a,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(v){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=v},d.prototype.setAAD=function(v){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(v),this._alen+=v.length},m.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,m,g){var f=e("./encrypter"),u=e("./decrypter"),h=e("./modes/list.json");function s(){return Object.keys(h)}g.createCipher=g.Cipher=f.createCipher,g.createCipheriv=g.Cipheriv=f.createCipheriv,g.createDecipher=g.Decipher=u.createDecipher,g.createDecipheriv=g.Decipheriv=u.createDecipheriv,g.listCiphers=g.getCiphers=s},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,m,g){var f=e("./authCipher"),u=e("safe-buffer").Buffer,h=e("./modes"),s=e("./streamCipher"),t=e("cipher-base"),i=e("./aes"),r=e("evp_bytestokey"),n=e("inherits");function l(p,E,T){t.call(this),this._cache=new d,this._last=void 0,this._cipher=new i.AES(E),this._prev=u.from(T),this._mode=p,this._autopadding=!0}n(l,t),l.prototype._update=function(p){this._cache.add(p);for(var E,T,S=[];E=this._cache.get(this._autopadding);)T=this._mode.decrypt(this,E),S.push(T);return u.concat(S)},l.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return a(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this};function d(){this.cache=u.allocUnsafe(0)}d.prototype.add=function(p){this.cache=u.concat([this.cache,p])},d.prototype.get=function(p){var E;if(p){if(this.cache.length>16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E}else if(this.cache.length>=16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache};function a(p){var E=p[15];if(E<1||E>16)throw new Error("unable to decrypt data");for(var T=-1;++T<E;)if(p[T+(16-E)]!==E)throw new Error("unable to decrypt data");if(E!==16)return p.slice(0,16-E)}function v(p,E,T){var S=h[p.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof T=="string"&&(T=u.from(T)),S.mode!=="GCM"&&T.length!==S.iv)throw new TypeError("invalid iv length "+T.length);if(typeof E=="string"&&(E=u.from(E)),E.length!==S.key/8)throw new TypeError("invalid key length "+E.length);return S.type==="stream"?new s(S.module,E,T,!0):S.type==="auth"?new f(S.module,E,T,!0):new l(S.module,E,T)}function y(p,E){var T=h[p.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var S=r(E,!1,T.key,T.iv);return v(p,S.key,S.iv)}g.createDecipher=y,g.createDecipheriv=v},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,m,g){var f=e("./modes"),u=e("./authCipher"),h=e("safe-buffer").Buffer,s=e("./streamCipher"),t=e("cipher-base"),i=e("./aes"),r=e("evp_bytestokey"),n=e("inherits");function l(p,E,T){t.call(this),this._cache=new a,this._cipher=new i.AES(E),this._prev=h.from(T),this._mode=p,this._autopadding=!0}n(l,t),l.prototype._update=function(p){this._cache.add(p);for(var E,T,S=[];E=this._cache.get();)T=this._mode.encrypt(this,E),S.push(T);return h.concat(S)};var d=h.alloc(16,16);l.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this};function a(){this.cache=h.allocUnsafe(0)}a.prototype.add=function(p){this.cache=h.concat([this.cache,p])},a.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},a.prototype.flush=function(){for(var p=16-this.cache.length,E=h.allocUnsafe(p),T=-1;++T<p;)E.writeUInt8(p,T);return h.concat([this.cache,E])};function v(p,E,T){var S=f[p.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof E=="string"&&(E=h.from(E)),E.length!==S.key/8)throw new TypeError("invalid key length "+E.length);if(typeof T=="string"&&(T=h.from(T)),S.mode!=="GCM"&&T.length!==S.iv)throw new TypeError("invalid iv length "+T.length);return S.type==="stream"?new s(S.module,E,T):S.type==="auth"?new u(S.module,E,T):new l(S.module,E,T)}function y(p,E){var T=f[p.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var S=r(E,!1,T.key,T.iv);return v(p,S.key,S.iv)}g.createCipheriv=v,g.createCipher=y},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,m,g){var f=e("safe-buffer").Buffer,u=f.alloc(16,0);function h(i){return[i.readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)]}function s(i){var r=f.allocUnsafe(16);return r.writeUInt32BE(i[0]>>>0,0),r.writeUInt32BE(i[1]>>>0,4),r.writeUInt32BE(i[2]>>>0,8),r.writeUInt32BE(i[3]>>>0,12),r}function t(i){this.h=i,this.state=f.alloc(16,0),this.cache=f.allocUnsafe(0)}t.prototype.ghash=function(i){for(var r=-1;++r<i.length;)this.state[r]^=i[r];this._multiply()},t.prototype._multiply=function(){for(var i=h(this.h),r=[0,0,0,0],n,l,d,a=-1;++a<128;){for(l=(this.state[~~(a/8)]&1<<7-a%8)!==0,l&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),d=(i[3]&1)!==0,n=3;n>0;n--)i[n]=i[n]>>>1|(i[n-1]&1)<<31;i[0]=i[0]>>>1,d&&(i[0]=i[0]^225<<24)}this.state=s(r)},t.prototype.update=function(i){this.cache=f.concat([this.cache,i]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},t.prototype.final=function(i,r){return this.cache.length&&this.ghash(f.concat([this.cache,u],16)),this.ghash(s([0,i,0,r])),this.state},m.exports=t},{"safe-buffer":494}],195:[function(e,m,g){function f(u){for(var h=u.length,s;h--;)if(s=u.readUInt8(h),s===255)u.writeUInt8(0,h);else{s++,u.writeUInt8(s,h);break}}m.exports=f},{}],196:[function(e,m,g){var f=e("buffer-xor");g.encrypt=function(u,h){var s=f(h,u._prev);return u._prev=u._cipher.encryptBlock(s),u._prev},g.decrypt=function(u,h){var s=u._prev;u._prev=h;var t=u._cipher.decryptBlock(h);return f(t,s)}},{"buffer-xor":219}],197:[function(e,m,g){var f=e("safe-buffer").Buffer,u=e("buffer-xor");function h(s,t,i){var r=t.length,n=u(t,s._cache);return s._cache=s._cache.slice(r),s._prev=f.concat([s._prev,i?t:n]),n}g.encrypt=function(s,t,i){for(var r=f.allocUnsafe(0),n;t.length;)if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=f.allocUnsafe(0)),s._cache.length<=t.length)n=s._cache.length,r=f.concat([r,h(s,t.slice(0,n),i)]),t=t.slice(n);else{r=f.concat([r,h(s,t,i)]);break}return r}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,m,g){var f=e("safe-buffer").Buffer;function u(s,t,i){for(var r,n=-1,l=8,d=0,a,v;++n<l;)r=s._cipher.encryptBlock(s._prev),a=t&1<<7-n?128:0,v=r[0]^a,d+=(v&128)>>n%8,s._prev=h(s._prev,i?a:v);return d}function h(s,t){var i=s.length,r=-1,n=f.allocUnsafe(s.length);for(s=f.concat([s,f.from([t])]);++r<i;)n[r]=s[r]<<1|s[r+1]>>7;return n}g.encrypt=function(s,t,i){for(var r=t.length,n=f.allocUnsafe(r),l=-1;++l<r;)n[l]=u(s,t[l],i);return n}},{"safe-buffer":494}],199:[function(e,m,g){var f=e("safe-buffer").Buffer;function u(h,s,t){var i=h._cipher.encryptBlock(h._prev),r=i[0]^s;return h._prev=f.concat([h._prev.slice(1),f.from([t?s:r])]),r}g.encrypt=function(h,s,t){for(var i=s.length,r=f.allocUnsafe(i),n=-1;++n<i;)r[n]=u(h,s[n],t);return r}},{"safe-buffer":494}],200:[function(e,m,g){var f=e("buffer-xor"),u=e("safe-buffer").Buffer,h=e("../incr32");function s(i){var r=i._cipher.encryptBlockRaw(i._prev);return h(i._prev),r}var t=16;g.encrypt=function(i,r){var n=Math.ceil(r.length/t),l=i._cache.length;i._cache=u.concat([i._cache,u.allocUnsafe(n*t)]);for(var d=0;d<n;d++){var a=s(i),v=l+d*t;i._cache.writeUInt32BE(a[0],v+0),i._cache.writeUInt32BE(a[1],v+4),i._cache.writeUInt32BE(a[2],v+8),i._cache.writeUInt32BE(a[3],v+12)}var y=i._cache.slice(0,r.length);return i._cache=i._cache.slice(r.length),f(r,y)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,m,g){g.encrypt=function(f,u){return f._cipher.encryptBlock(u)},g.decrypt=function(f,u){return f._cipher.decryptBlock(u)}},{}],202:[function(e,m,g){var f={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},u=e("./list.json");for(var h in u)u[h].module=f[u[h].mode];m.exports=u},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,m,g){m.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,m,g){(function(f){(function(){var u=e("buffer-xor");function h(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}g.encrypt=function(s,t){for(;s._cache.length<t.length;)s._cache=f.concat([s._cache,h(s)]);var i=s._cache.slice(0,t.length);return s._cache=s._cache.slice(t.length),u(t,i)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,m,g){var f=e("./aes"),u=e("safe-buffer").Buffer,h=e("cipher-base"),s=e("inherits");function t(i,r,n,l){h.call(this),this._cipher=new f.AES(r),this._prev=u.from(n),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=l,this._mode=i}s(t,h),t.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},t.prototype._final=function(){this._cipher.scrub()},m.exports=t},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,m,g){var f=e("browserify-des"),u=e("browserify-aes/browser"),h=e("browserify-aes/modes"),s=e("browserify-des/modes"),t=e("evp_bytestokey");function i(a,v){a=a.toLowerCase();var y,p;if(h[a])y=h[a].key,p=h[a].iv;else if(s[a])y=s[a].key*8,p=s[a].iv;else throw new TypeError("invalid suite type");var E=t(v,!1,y,p);return n(a,E.key,E.iv)}function r(a,v){a=a.toLowerCase();var y,p;if(h[a])y=h[a].key,p=h[a].iv;else if(s[a])y=s[a].key*8,p=s[a].iv;else throw new TypeError("invalid suite type");var E=t(v,!1,y,p);return l(a,E.key,E.iv)}function n(a,v,y){if(a=a.toLowerCase(),h[a])return u.createCipheriv(a,v,y);if(s[a])return new f({key:v,iv:y,mode:a});throw new TypeError("invalid suite type")}function l(a,v,y){if(a=a.toLowerCase(),h[a])return u.createDecipheriv(a,v,y);if(s[a])return new f({key:v,iv:y,mode:a,decrypt:!0});throw new TypeError("invalid suite type")}function d(){return Object.keys(s).concat(u.getCiphers())}g.createCipher=g.Cipher=i,g.createCipheriv=g.Cipheriv=n,g.createDecipher=g.Decipher=r,g.createDecipheriv=g.Decipheriv=l,g.listCiphers=g.getCiphers=d},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,m,g){var f=e("cipher-base"),u=e("des.js"),h=e("inherits"),s=e("safe-buffer").Buffer,t={"des-ede3-cbc":u.CBC.instantiate(u.EDE),"des-ede3":u.EDE,"des-ede-cbc":u.CBC.instantiate(u.EDE),"des-ede":u.EDE,"des-cbc":u.CBC.instantiate(u.DES),"des-ecb":u.DES};t.des=t["des-cbc"],t.des3=t["des-ede3-cbc"],m.exports=i,h(i,f);function i(r){f.call(this);var n=r.mode.toLowerCase(),l=t[n],d;r.decrypt?d="decrypt":d="encrypt";var a=r.key;s.isBuffer(a)||(a=s.from(a)),(n==="des-ede"||n==="des-ede-cbc")&&(a=s.concat([a,a.slice(0,8)]));var v=r.iv;s.isBuffer(v)||(v=s.from(v)),this._des=l.create({key:a,iv:v,type:d})}i.prototype._update=function(r){return s.from(this._des.update(r))},i.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,m,g){g["des-ecb"]={key:8,iv:0},g["des-cbc"]=g.des={key:8,iv:8},g["des-ede3-cbc"]=g.des3={key:24,iv:8},g["des-ede3"]={key:24,iv:0},g["des-ede-cbc"]={key:16,iv:8},g["des-ede"]={key:16,iv:0}},{}],209:[function(e,m,g){(function(f){(function(){var u=e("bn.js"),h=e("randombytes");function s(r){var n=t(r),l=n.toRed(u.mont(r.modulus)).redPow(new u(r.publicExponent)).fromRed();return{blinder:l,unblinder:n.invm(r.modulus)}}function t(r){var n=r.modulus.byteLength(),l;do l=new u(h(n));while(l.cmp(r.modulus)>=0||!l.umod(r.prime1)||!l.umod(r.prime2));return l}function i(r,n){var l=s(n),d=n.modulus.byteLength(),a=new u(r).mul(l.blinder).umod(n.modulus),v=a.toRed(u.mont(n.prime1)),y=a.toRed(u.mont(n.prime2)),p=n.coefficient,E=n.prime1,T=n.prime2,S=v.redPow(n.exponent1).fromRed(),A=y.redPow(n.exponent2).fromRed(),w=S.isub(A).imul(p).umod(E).imul(T);return A.iadd(w).imul(l.unblinder).umod(n.modulus).toArrayLike(f,"be",d)}i.getr=t,m.exports=i}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,m,g){m.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,m,g){m.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,m,g){m.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,m,g){var f=e("safe-buffer").Buffer,u=e("create-hash"),h=e("readable-stream"),s=e("inherits"),t=e("./sign"),i=e("./verify"),r=e("./algorithms.json");Object.keys(r).forEach(function(v){r[v].id=f.from(r[v].id,"hex"),r[v.toLowerCase()]=r[v]});function n(v){h.Writable.call(this);var y=r[v];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=u(y.hash),this._tag=y.id,this._signType=y.sign}s(n,h.Writable),n.prototype._write=function(y,p,E){this._hash.update(y),E()},n.prototype.update=function(y,p){return typeof y=="string"&&(y=f.from(y,p)),this._hash.update(y),this},n.prototype.sign=function(y,p){this.end();var E=this._hash.digest(),T=t(E,y,this._hashType,this._signType,this._tag);return p?T.toString(p):T};function l(v){h.Writable.call(this);var y=r[v];if(!y)throw new Error("Unknown message digest");this._hash=u(y.hash),this._tag=y.id,this._signType=y.sign}s(l,h.Writable),l.prototype._write=function(y,p,E){this._hash.update(y),E()},l.prototype.update=function(y,p){return typeof y=="string"&&(y=f.from(y,p)),this._hash.update(y),this},l.prototype.verify=function(y,p,E){typeof p=="string"&&(p=f.from(p,E)),this.end();var T=this._hash.digest();return i(p,T,y,this._signType,this._tag)};function d(v){return new n(v)}function a(v){return new l(v)}m.exports={Sign:d,Verify:a,createSign:d,createVerify:a}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,m,g){var f=e("safe-buffer").Buffer,u=e("create-hmac"),h=e("browserify-rsa"),s=e("elliptic").ec,t=e("bn.js"),i=e("parse-asn1"),r=e("./curves.json");function n(S,A,w,I,D){var V=i(A);if(V.curve){if(I!=="ecdsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");return l(S,V)}else if(V.type==="dsa"){if(I!=="dsa")throw new Error("wrong private key type");return d(S,V,w)}else if(I!=="rsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");S=f.concat([D,S]);for(var ie=V.modulus.byteLength(),te=[0,1];S.length+te.length+1<ie;)te.push(255);te.push(0);for(var re=-1;++re<S.length;)te.push(S[re]);var Z=h(te,V);return Z}function l(S,A){var w=r[A.curve.join(".")];if(!w)throw new Error("unknown curve "+A.curve.join("."));var I=new s(w),D=I.keyFromPrivate(A.privateKey),V=D.sign(S);return f.from(V.toDER())}function d(S,A,w){for(var I=A.params.priv_key,D=A.params.p,V=A.params.q,ie=A.params.g,te=new t(0),re,Z=y(S,V).mod(V),W=!1,j=v(I,V,S,w);W===!1;)re=E(V,j,w),te=T(ie,re,D,V),W=re.invm(V).imul(Z.add(I.mul(te))).mod(V),W.cmpn(0)===0&&(W=!1,te=new t(0));return a(te,W)}function a(S,A){S=S.toArray(),A=A.toArray(),S[0]&128&&(S=[0].concat(S)),A[0]&128&&(A=[0].concat(A));var w=S.length+A.length+4,I=[48,w,2,S.length];return I=I.concat(S,[2,A.length],A),f.from(I)}function v(S,A,w,I){if(S=f.from(S.toArray()),S.length<A.byteLength()){var D=f.alloc(A.byteLength()-S.length);S=f.concat([D,S])}var V=w.length,ie=p(w,A),te=f.alloc(V);te.fill(1);var re=f.alloc(V);return re=u(I,re).update(te).update(f.from([0])).update(S).update(ie).digest(),te=u(I,re).update(te).digest(),re=u(I,re).update(te).update(f.from([1])).update(S).update(ie).digest(),te=u(I,re).update(te).digest(),{k:re,v:te}}function y(S,A){var w=new t(S),I=(S.length<<3)-A.bitLength();return I>0&&w.ishrn(I),w}function p(S,A){S=y(S,A),S=S.mod(A);var w=f.from(S.toArray());if(w.length<A.byteLength()){var I=f.alloc(A.byteLength()-w.length);w=f.concat([I,w])}return w}function E(S,A,w){var I,D;do{for(I=f.alloc(0);I.length*8<S.bitLength();)A.v=u(w,A.k).update(A.v).digest(),I=f.concat([I,A.v]);D=y(I,S),A.k=u(w,A.k).update(A.v).update(f.from([0])).digest(),A.v=u(w,A.k).update(A.v).digest()}while(D.cmp(S)!==-1);return D}function T(S,A,w,I){return S.toRed(t.mont(w)).redPow(A).fromRed().mod(I)}m.exports=n,m.exports.getKey=v,m.exports.makeKey=E},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,m,g){var f=e("safe-buffer").Buffer,u=e("bn.js"),h=e("elliptic").ec,s=e("parse-asn1"),t=e("./curves.json");function i(d,a,v,y,p){var E=s(v);if(E.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return r(d,a,E)}else if(E.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return n(d,a,E)}else if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");a=f.concat([p,a]);for(var T=E.modulus.byteLength(),S=[1],A=0;a.length+S.length+2<T;)S.push(255),A++;S.push(0);for(var w=-1;++w<a.length;)S.push(a[w]);S=f.from(S);var I=u.mont(E.modulus);d=new u(d).toRed(I),d=d.redPow(new u(E.publicExponent)),d=f.from(d.fromRed().toArray());var D=A<8?1:0;for(T=Math.min(d.length,S.length),d.length!==S.length&&(D=1),w=-1;++w<T;)D|=d[w]^S[w];return D===0}function r(d,a,v){var y=t[v.data.algorithm.curve.join(".")];if(!y)throw new Error("unknown curve "+v.data.algorithm.curve.join("."));var p=new h(y),E=v.data.subjectPrivateKey.data;return p.verify(a,d,E)}function n(d,a,v){var y=v.data.p,p=v.data.q,E=v.data.g,T=v.data.pub_key,S=s.signature.decode(d,"der"),A=S.s,w=S.r;l(A,p),l(w,p);var I=u.mont(y),D=A.invm(p),V=E.toRed(I).redPow(new u(a).mul(D).mod(p)).fromRed().mul(T.toRed(I).redPow(w.mul(D).mod(p)).fromRed()).mod(y).mod(p);return V.cmp(w)===0}function l(d,a){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(a)>=a)throw new Error("invalid sig")}m.exports=i},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,m,g){},{}],217:[function(e,m,g){var f=e("buffer"),u=f.Buffer;function h(t,i){for(var r in t)i[r]=t[r]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?m.exports=f:(h(f,g),g.Buffer=s);function s(t,i,r){return u(t,i,r)}h(u,s),s.from=function(t,i,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return u(t,i,r)},s.alloc=function(t,i,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=u(t);return i!==void 0?typeof r=="string"?n.fill(i,r):n.fill(i):n.fill(0),n},s.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u(t)},s.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(t)}},{buffer:220}],218:[function(e,m,g){var f=e("safe-buffer").Buffer,u=f.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(A){if(!A)return"utf8";for(var w;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(w)return;A=(""+A).toLowerCase(),w=!0}}function s(A){var w=h(A);if(typeof w!="string"&&(f.isEncoding===u||!u(A)))throw new Error("Unknown encoding: "+A);return w||A}g.StringDecoder=t;function t(A){this.encoding=s(A);var w;switch(this.encoding){case"utf16le":this.text=v,this.end=y,w=4;break;case"utf8":this.fillLast=l,w=4;break;case"base64":this.text=p,this.end=E,w=3;break;default:this.write=T,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(w)}t.prototype.write=function(A){if(A.length===0)return"";var w,I;if(this.lastNeed){if(w=this.fillLast(A),w===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<A.length?w?w+this.text(A,I):this.text(A,I):w||""},t.prototype.end=a,t.prototype.text=d,t.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length};function i(A){return A<=127?0:A>>5===6?2:A>>4===14?3:A>>3===30?4:A>>6===2?-1:-2}function r(A,w,I){var D=w.length-1;if(D<I)return 0;var V=i(w[D]);return V>=0?(V>0&&(A.lastNeed=V-1),V):--D<I||V===-2?0:(V=i(w[D]),V>=0?(V>0&&(A.lastNeed=V-2),V):--D<I||V===-2?0:(V=i(w[D]),V>=0?(V>0&&(V===2?V=0:A.lastNeed=V-3),V):0))}function n(A,w,I){if((w[0]&192)!==128)return A.lastNeed=0,"";if(A.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return A.lastNeed=1,"";if(A.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return A.lastNeed=2,""}}function l(A){var w=this.lastTotal-this.lastNeed,I=n(this,A);if(I!==void 0)return I;if(this.lastNeed<=A.length)return A.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,w,0,A.length),this.lastNeed-=A.length}function d(A,w){var I=r(this,A,w);if(!this.lastNeed)return A.toString("utf8",w);this.lastTotal=I;var D=A.length-(I-this.lastNeed);return A.copy(this.lastChar,0,D),A.toString("utf8",w,D)}function a(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+"":w}function v(A,w){if((A.length-w)%2===0){var I=A.toString("utf16le",w);if(I){var D=I.charCodeAt(I.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",w,A.length-1)}function y(A){var w=A&&A.length?this.write(A):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,I)}return w}function p(A,w){var I=(A.length-w)%3;return I===0?A.toString("base64",w):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",w,A.length-I))}function E(A){var w=A&&A.length?this.write(A):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function T(A){return A.toString(this.encoding)}function S(A){return A&&A.length?this.write(A):""}},{"safe-buffer":217}],219:[function(e,m,g){(function(f){(function(){m.exports=function(h,s){for(var t=Math.min(h.length,s.length),i=new f(t),r=0;r<t;++r)i[r]=h[r]^s[r];return i}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,m,g){(function(f){(function(){var u=e("base64-js"),h=e("ieee754");g.Buffer=r,g.SlowBuffer=S,g.INSPECT_MAX_BYTES=50;var s=2147483647;g.kMaxLength=s,r.TYPED_ARRAY_SUPPORT=t(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function t(){try{var he=new Uint8Array(1);return he.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},he.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function i(he){if(he>s)throw new RangeError('The value "'+he+'" is invalid for option "size"');var se=new Uint8Array(he);return se.__proto__=r.prototype,se}function r(he,se,ne){if(typeof he=="number"){if(typeof se=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(he)}return n(he,se,ne)}typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192;function n(he,se,ne){if(typeof he=="string")return v(he,se);if(ArrayBuffer.isView(he))return y(he);if(he==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof he);if(ce(he,ArrayBuffer)||he&&ce(he.buffer,ArrayBuffer))return p(he,se,ne);if(typeof he=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var we=he.valueOf&&he.valueOf();if(we!=null&&we!==he)return r.from(we,se,ne);var Ne=E(he);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof he[Symbol.toPrimitive]=="function")return r.from(he[Symbol.toPrimitive]("string"),se,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof he)}r.from=function(he,se,ne){return n(he,se,ne)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array;function l(he){if(typeof he!="number")throw new TypeError('"size" argument must be of type number');if(he<0)throw new RangeError('The value "'+he+'" is invalid for option "size"')}function d(he,se,ne){return l(he),he<=0?i(he):se!==void 0?typeof ne=="string"?i(he).fill(se,ne):i(he).fill(se):i(he)}r.alloc=function(he,se,ne){return d(he,se,ne)};function a(he){return l(he),i(he<0?0:T(he)|0)}r.allocUnsafe=function(he){return a(he)},r.allocUnsafeSlow=function(he){return a(he)};function v(he,se){if((typeof se!="string"||se==="")&&(se="utf8"),!r.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var ne=A(he,se)|0,we=i(ne),Ne=we.write(he,se);return Ne!==ne&&(we=we.slice(0,Ne)),we}function y(he){for(var se=he.length<0?0:T(he.length)|0,ne=i(se),we=0;we<se;we+=1)ne[we]=he[we]&255;return ne}function p(he,se,ne){if(se<0||he.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(he.byteLength<se+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var we;return se===void 0&&ne===void 0?we=new Uint8Array(he):ne===void 0?we=new Uint8Array(he,se):we=new Uint8Array(he,se,ne),we.__proto__=r.prototype,we}function E(he){if(r.isBuffer(he)){var se=T(he.length)|0,ne=i(se);return ne.length===0||he.copy(ne,0,0,se),ne}if(he.length!==void 0)return typeof he.length!="number"||de(he.length)?i(0):y(he);if(he.type==="Buffer"&&Array.isArray(he.data))return y(he.data)}function T(he){if(he>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return he|0}function S(he){return+he!=he&&(he=0),r.alloc(+he)}r.isBuffer=function(se){return se!=null&&se._isBuffer===!0&&se!==r.prototype},r.compare=function(se,ne){if(ce(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),ce(ne,Uint8Array)&&(ne=r.from(ne,ne.offset,ne.byteLength)),!r.isBuffer(se)||!r.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(se===ne)return 0;for(var we=se.length,Ne=ne.length,ae=0,Pe=Math.min(we,Ne);ae<Pe;++ae)if(se[ae]!==ne[ae]){we=se[ae],Ne=ne[ae];break}return we<Ne?-1:Ne<we?1:0},r.isEncoding=function(se){switch(String(se).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(se,ne){if(!Array.isArray(se))throw new TypeError('"list" argument must be an Array of Buffers');if(se.length===0)return r.alloc(0);var we;if(ne===void 0)for(ne=0,we=0;we<se.length;++we)ne+=se[we].length;var Ne=r.allocUnsafe(ne),ae=0;for(we=0;we<se.length;++we){var Pe=se[we];if(ce(Pe,Uint8Array)&&(Pe=r.from(Pe)),!r.isBuffer(Pe))throw new TypeError('"list" argument must be an Array of Buffers');Pe.copy(Ne,ae),ae+=Pe.length}return Ne};function A(he,se){if(r.isBuffer(he))return he.length;if(ArrayBuffer.isView(he)||ce(he,ArrayBuffer))return he.byteLength;if(typeof he!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof he);var ne=he.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&ne===0)return 0;for(var Ne=!1;;)switch(se){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return Ee(he).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne*2;case"hex":return ne>>>1;case"base64":return xe(he).length;default:if(Ne)return we?-1:Ee(he).length;se=(""+se).toLowerCase(),Ne=!0}}r.byteLength=A;function w(he,se,ne){var we=!1;if((se===void 0||se<0)&&(se=0),se>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0,se>>>=0,ne<=se))return"";for(he||(he="utf8");;)switch(he){case"hex":return z(this,se,ne);case"utf8":case"utf-8":return C(this,se,ne);case"ascii":return $(this,se,ne);case"latin1":case"binary":return Y(this,se,ne);case"base64":return O(this,se,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,se,ne);default:if(we)throw new TypeError("Unknown encoding: "+he);he=(he+"").toLowerCase(),we=!0}}r.prototype._isBuffer=!0;function I(he,se,ne){var we=he[se];he[se]=he[ne],he[ne]=we}r.prototype.swap16=function(){var se=this.length;if(se%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ne=0;ne<se;ne+=2)I(this,ne,ne+1);return this},r.prototype.swap32=function(){var se=this.length;if(se%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ne=0;ne<se;ne+=4)I(this,ne,ne+3),I(this,ne+1,ne+2);return this},r.prototype.swap64=function(){var se=this.length;if(se%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ne=0;ne<se;ne+=8)I(this,ne,ne+7),I(this,ne+1,ne+6),I(this,ne+2,ne+5),I(this,ne+3,ne+4);return this},r.prototype.toString=function(){var se=this.length;return se===0?"":arguments.length===0?C(this,0,se):w.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(se){if(!r.isBuffer(se))throw new TypeError("Argument must be a Buffer");return this===se?!0:r.compare(this,se)===0},r.prototype.inspect=function(){var se="",ne=g.INSPECT_MAX_BYTES;return se=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(se+=" ... "),"<Buffer "+se+">"},r.prototype.compare=function(se,ne,we,Ne,ae){if(ce(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),!r.isBuffer(se))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof se);if(ne===void 0&&(ne=0),we===void 0&&(we=se?se.length:0),Ne===void 0&&(Ne=0),ae===void 0&&(ae=this.length),ne<0||we>se.length||Ne<0||ae>this.length)throw new RangeError("out of range index");if(Ne>=ae&&ne>=we)return 0;if(Ne>=ae)return-1;if(ne>=we)return 1;if(ne>>>=0,we>>>=0,Ne>>>=0,ae>>>=0,this===se)return 0;for(var Pe=ae-Ne,ze=we-ne,ve=Math.min(Pe,ze),Ae=this.slice(Ne,ae),Be=se.slice(ne,we),We=0;We<ve;++We)if(Ae[We]!==Be[We]){Pe=Ae[We],ze=Be[We];break}return Pe<ze?-1:ze<Pe?1:0};function D(he,se,ne,we,Ne){if(he.length===0)return-1;if(typeof ne=="string"?(we=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,de(ne)&&(ne=Ne?0:he.length-1),ne<0&&(ne=he.length+ne),ne>=he.length){if(Ne)return-1;ne=he.length-1}else if(ne<0)if(Ne)ne=0;else return-1;if(typeof se=="string"&&(se=r.from(se,we)),r.isBuffer(se))return se.length===0?-1:V(he,se,ne,we,Ne);if(typeof se=="number")return se=se&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(he,se,ne):Uint8Array.prototype.lastIndexOf.call(he,se,ne):V(he,[se],ne,we,Ne);throw new TypeError("val must be string, number or Buffer")}function V(he,se,ne,we,Ne){var ae=1,Pe=he.length,ze=se.length;if(we!==void 0&&(we=String(we).toLowerCase(),we==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(he.length<2||se.length<2)return-1;ae=2,Pe/=2,ze/=2,ne/=2}function ve(Ge,et){return ae===1?Ge[et]:Ge.readUInt16BE(et*ae)}var Ae;if(Ne){var Be=-1;for(Ae=ne;Ae<Pe;Ae++)if(ve(he,Ae)===ve(se,Be===-1?0:Ae-Be)){if(Be===-1&&(Be=Ae),Ae-Be+1===ze)return Be*ae}else Be!==-1&&(Ae-=Ae-Be),Be=-1}else for(ne+ze>Pe&&(ne=Pe-ze),Ae=ne;Ae>=0;Ae--){for(var We=!0,Je=0;Je<ze;Je++)if(ve(he,Ae+Je)!==ve(se,Je)){We=!1;break}if(We)return Ae}return-1}r.prototype.includes=function(se,ne,we){return this.indexOf(se,ne,we)!==-1},r.prototype.indexOf=function(se,ne,we){return D(this,se,ne,we,!0)},r.prototype.lastIndexOf=function(se,ne,we){return D(this,se,ne,we,!1)};function ie(he,se,ne,we){ne=Number(ne)||0;var Ne=he.length-ne;we?(we=Number(we),we>Ne&&(we=Ne)):we=Ne;var ae=se.length;we>ae/2&&(we=ae/2);for(var Pe=0;Pe<we;++Pe){var ze=parseInt(se.substr(Pe*2,2),16);if(de(ze))return Pe;he[ne+Pe]=ze}return Pe}function te(he,se,ne,we){return _e(Ee(se,he.length-ne),he,ne,we)}function re(he,se,ne,we){return _e(Q(se),he,ne,we)}function Z(he,se,ne,we){return re(he,se,ne,we)}function W(he,se,ne,we){return _e(xe(se),he,ne,we)}function j(he,se,ne,we){return _e(ue(se,he.length-ne),he,ne,we)}r.prototype.write=function(se,ne,we,Ne){if(ne===void 0)Ne="utf8",we=this.length,ne=0;else if(we===void 0&&typeof ne=="string")Ne=ne,we=this.length,ne=0;else if(isFinite(ne))ne=ne>>>0,isFinite(we)?(we=we>>>0,Ne===void 0&&(Ne="utf8")):(Ne=we,we=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ae=this.length-ne;if((we===void 0||we>ae)&&(we=ae),se.length>0&&(we<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var Pe=!1;;)switch(Ne){case"hex":return ie(this,se,ne,we);case"utf8":case"utf-8":return te(this,se,ne,we);case"ascii":return re(this,se,ne,we);case"latin1":case"binary":return Z(this,se,ne,we);case"base64":return W(this,se,ne,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,se,ne,we);default:if(Pe)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),Pe=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(he,se,ne){return se===0&&ne===he.length?u.fromByteArray(he):u.fromByteArray(he.slice(se,ne))}function C(he,se,ne){ne=Math.min(he.length,ne);for(var we=[],Ne=se;Ne<ne;){var ae=he[Ne],Pe=null,ze=ae>239?4:ae>223?3:ae>191?2:1;if(Ne+ze<=ne){var ve,Ae,Be,We;switch(ze){case 1:ae<128&&(Pe=ae);break;case 2:ve=he[Ne+1],(ve&192)===128&&(We=(ae&31)<<6|ve&63,We>127&&(Pe=We));break;case 3:ve=he[Ne+1],Ae=he[Ne+2],(ve&192)===128&&(Ae&192)===128&&(We=(ae&15)<<12|(ve&63)<<6|Ae&63,We>2047&&(We<55296||We>57343)&&(Pe=We));break;case 4:ve=he[Ne+1],Ae=he[Ne+2],Be=he[Ne+3],(ve&192)===128&&(Ae&192)===128&&(Be&192)===128&&(We=(ae&15)<<18|(ve&63)<<12|(Ae&63)<<6|Be&63,We>65535&&We<1114112&&(Pe=We))}}Pe===null?(Pe=65533,ze=1):Pe>65535&&(Pe-=65536,we.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),we.push(Pe),Ne+=ze}return H(we)}var F=4096;function H(he){var se=he.length;if(se<=F)return String.fromCharCode.apply(String,he);for(var ne="",we=0;we<se;)ne+=String.fromCharCode.apply(String,he.slice(we,we+=F));return ne}function $(he,se,ne){var we="";ne=Math.min(he.length,ne);for(var Ne=se;Ne<ne;++Ne)we+=String.fromCharCode(he[Ne]&127);return we}function Y(he,se,ne){var we="";ne=Math.min(he.length,ne);for(var Ne=se;Ne<ne;++Ne)we+=String.fromCharCode(he[Ne]);return we}function z(he,se,ne){var we=he.length;(!se||se<0)&&(se=0),(!ne||ne<0||ne>we)&&(ne=we);for(var Ne="",ae=se;ae<ne;++ae)Ne+=De(he[ae]);return Ne}function B(he,se,ne){for(var we=he.slice(se,ne),Ne="",ae=0;ae<we.length;ae+=2)Ne+=String.fromCharCode(we[ae]+we[ae+1]*256);return Ne}r.prototype.slice=function(se,ne){var we=this.length;se=~~se,ne=ne===void 0?we:~~ne,se<0?(se+=we,se<0&&(se=0)):se>we&&(se=we),ne<0?(ne+=we,ne<0&&(ne=0)):ne>we&&(ne=we),ne<se&&(ne=se);var Ne=this.subarray(se,ne);return Ne.__proto__=r.prototype,Ne};function L(he,se,ne){if(he%1!==0||he<0)throw new RangeError("offset is not uint");if(he+se>ne)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUIntLE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=this[se],ae=1,Pe=0;++Pe<ne&&(ae*=256);)Ne+=this[se+Pe]*ae;return Ne},r.prototype.readUIntBE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=this[se+--ne],ae=1;ne>0&&(ae*=256);)Ne+=this[se+--ne]*ae;return Ne},r.prototype.readUInt8=function(se,ne){return se=se>>>0,ne||L(se,1,this.length),this[se]},r.prototype.readUInt16LE=function(se,ne){return se=se>>>0,ne||L(se,2,this.length),this[se]|this[se+1]<<8},r.prototype.readUInt16BE=function(se,ne){return se=se>>>0,ne||L(se,2,this.length),this[se]<<8|this[se+1]},r.prototype.readUInt32LE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),(this[se]|this[se+1]<<8|this[se+2]<<16)+this[se+3]*16777216},r.prototype.readUInt32BE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),this[se]*16777216+(this[se+1]<<16|this[se+2]<<8|this[se+3])},r.prototype.readIntLE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=this[se],ae=1,Pe=0;++Pe<ne&&(ae*=256);)Ne+=this[se+Pe]*ae;return ae*=128,Ne>=ae&&(Ne-=Math.pow(2,8*ne)),Ne},r.prototype.readIntBE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=ne,ae=1,Pe=this[se+--Ne];Ne>0&&(ae*=256);)Pe+=this[se+--Ne]*ae;return ae*=128,Pe>=ae&&(Pe-=Math.pow(2,8*ne)),Pe},r.prototype.readInt8=function(se,ne){return se=se>>>0,ne||L(se,1,this.length),this[se]&128?(255-this[se]+1)*-1:this[se]},r.prototype.readInt16LE=function(se,ne){se=se>>>0,ne||L(se,2,this.length);var we=this[se]|this[se+1]<<8;return we&32768?we|4294901760:we},r.prototype.readInt16BE=function(se,ne){se=se>>>0,ne||L(se,2,this.length);var we=this[se+1]|this[se]<<8;return we&32768?we|4294901760:we},r.prototype.readInt32LE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),this[se]|this[se+1]<<8|this[se+2]<<16|this[se+3]<<24},r.prototype.readInt32BE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),this[se]<<24|this[se+1]<<16|this[se+2]<<8|this[se+3]},r.prototype.readFloatLE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),h.read(this,se,!0,23,4)},r.prototype.readFloatBE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),h.read(this,se,!1,23,4)},r.prototype.readDoubleLE=function(se,ne){return se=se>>>0,ne||L(se,8,this.length),h.read(this,se,!0,52,8)},r.prototype.readDoubleBE=function(se,ne){return se=se>>>0,ne||L(se,8,this.length),h.read(this,se,!1,52,8)};function G(he,se,ne,we,Ne,ae){if(!r.isBuffer(he))throw new TypeError('"buffer" argument must be a Buffer instance');if(se>Ne||se<ae)throw new RangeError('"value" argument is out of bounds');if(ne+we>he.length)throw new RangeError("Index out of range")}r.prototype.writeUIntLE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,we=we>>>0,!Ne){var ae=Math.pow(2,8*we)-1;G(this,se,ne,we,ae,0)}var Pe=1,ze=0;for(this[ne]=se&255;++ze<we&&(Pe*=256);)this[ne+ze]=se/Pe&255;return ne+we},r.prototype.writeUIntBE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,we=we>>>0,!Ne){var ae=Math.pow(2,8*we)-1;G(this,se,ne,we,ae,0)}var Pe=we-1,ze=1;for(this[ne+Pe]=se&255;--Pe>=0&&(ze*=256);)this[ne+Pe]=se/ze&255;return ne+we},r.prototype.writeUInt8=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,1,255,0),this[ne]=se&255,ne+1},r.prototype.writeUInt16LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,65535,0),this[ne]=se&255,this[ne+1]=se>>>8,ne+2},r.prototype.writeUInt16BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,65535,0),this[ne]=se>>>8,this[ne+1]=se&255,ne+2},r.prototype.writeUInt32LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,4294967295,0),this[ne+3]=se>>>24,this[ne+2]=se>>>16,this[ne+1]=se>>>8,this[ne]=se&255,ne+4},r.prototype.writeUInt32BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,4294967295,0),this[ne]=se>>>24,this[ne+1]=se>>>16,this[ne+2]=se>>>8,this[ne+3]=se&255,ne+4},r.prototype.writeIntLE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,!Ne){var ae=Math.pow(2,8*we-1);G(this,se,ne,we,ae-1,-ae)}var Pe=0,ze=1,ve=0;for(this[ne]=se&255;++Pe<we&&(ze*=256);)se<0&&ve===0&&this[ne+Pe-1]!==0&&(ve=1),this[ne+Pe]=(se/ze>>0)-ve&255;return ne+we},r.prototype.writeIntBE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,!Ne){var ae=Math.pow(2,8*we-1);G(this,se,ne,we,ae-1,-ae)}var Pe=we-1,ze=1,ve=0;for(this[ne+Pe]=se&255;--Pe>=0&&(ze*=256);)se<0&&ve===0&&this[ne+Pe+1]!==0&&(ve=1),this[ne+Pe]=(se/ze>>0)-ve&255;return ne+we},r.prototype.writeInt8=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,1,127,-128),se<0&&(se=255+se+1),this[ne]=se&255,ne+1},r.prototype.writeInt16LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,32767,-32768),this[ne]=se&255,this[ne+1]=se>>>8,ne+2},r.prototype.writeInt16BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,32767,-32768),this[ne]=se>>>8,this[ne+1]=se&255,ne+2},r.prototype.writeInt32LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,2147483647,-2147483648),this[ne]=se&255,this[ne+1]=se>>>8,this[ne+2]=se>>>16,this[ne+3]=se>>>24,ne+4},r.prototype.writeInt32BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,2147483647,-2147483648),se<0&&(se=4294967295+se+1),this[ne]=se>>>24,this[ne+1]=se>>>16,this[ne+2]=se>>>8,this[ne+3]=se&255,ne+4};function le(he,se,ne,we,Ne,ae){if(ne+we>he.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function ge(he,se,ne,we,Ne){return se=+se,ne=ne>>>0,Ne||le(he,se,ne,4),h.write(he,se,ne,we,23,4),ne+4}r.prototype.writeFloatLE=function(se,ne,we){return ge(this,se,ne,!0,we)},r.prototype.writeFloatBE=function(se,ne,we){return ge(this,se,ne,!1,we)};function Ie(he,se,ne,we,Ne){return se=+se,ne=ne>>>0,Ne||le(he,se,ne,8),h.write(he,se,ne,we,52,8),ne+8}r.prototype.writeDoubleLE=function(se,ne,we){return Ie(this,se,ne,!0,we)},r.prototype.writeDoubleBE=function(se,ne,we){return Ie(this,se,ne,!1,we)},r.prototype.copy=function(se,ne,we,Ne){if(!r.isBuffer(se))throw new TypeError("argument should be a Buffer");if(we||(we=0),!Ne&&Ne!==0&&(Ne=this.length),ne>=se.length&&(ne=se.length),ne||(ne=0),Ne>0&&Ne<we&&(Ne=we),Ne===we||se.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(we<0||we>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),se.length-ne<Ne-we&&(Ne=se.length-ne+we);var ae=Ne-we;if(this===se&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(ne,we,Ne);else if(this===se&&we<ne&&ne<Ne)for(var Pe=ae-1;Pe>=0;--Pe)se[Pe+ne]=this[Pe+we];else Uint8Array.prototype.set.call(se,this.subarray(we,Ne),ne);return ae},r.prototype.fill=function(se,ne,we,Ne){if(typeof se=="string"){if(typeof ne=="string"?(Ne=ne,ne=0,we=this.length):typeof we=="string"&&(Ne=we,we=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!r.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(se.length===1){var ae=se.charCodeAt(0);(Ne==="utf8"&&ae<128||Ne==="latin1")&&(se=ae)}}else typeof se=="number"&&(se=se&255);if(ne<0||this.length<ne||this.length<we)throw new RangeError("Out of range index");if(we<=ne)return this;ne=ne>>>0,we=we===void 0?this.length:we>>>0,se||(se=0);var Pe;if(typeof se=="number")for(Pe=ne;Pe<we;++Pe)this[Pe]=se;else{var ze=r.isBuffer(se)?se:r.from(se,Ne),ve=ze.length;if(ve===0)throw new TypeError('The value "'+se+'" is invalid for argument "value"');for(Pe=0;Pe<we-ne;++Pe)this[Pe+ne]=ze[Pe%ve]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function Ke(he){if(he=he.split("=")[0],he=he.trim().replace(Oe,""),he.length<2)return"";for(;he.length%4!==0;)he=he+"=";return he}function De(he){return he<16?"0"+he.toString(16):he.toString(16)}function Ee(he,se){se=se||1/0;for(var ne,we=he.length,Ne=null,ae=[],Pe=0;Pe<we;++Pe){if(ne=he.charCodeAt(Pe),ne>55295&&ne<57344){if(!Ne){if(ne>56319){(se-=3)>-1&&ae.push(239,191,189);continue}else if(Pe+1===we){(se-=3)>-1&&ae.push(239,191,189);continue}Ne=ne;continue}if(ne<56320){(se-=3)>-1&&ae.push(239,191,189),Ne=ne;continue}ne=(Ne-55296<<10|ne-56320)+65536}else Ne&&(se-=3)>-1&&ae.push(239,191,189);if(Ne=null,ne<128){if((se-=1)<0)break;ae.push(ne)}else if(ne<2048){if((se-=2)<0)break;ae.push(ne>>6|192,ne&63|128)}else if(ne<65536){if((se-=3)<0)break;ae.push(ne>>12|224,ne>>6&63|128,ne&63|128)}else if(ne<1114112){if((se-=4)<0)break;ae.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,ne&63|128)}else throw new Error("Invalid code point")}return ae}function Q(he){for(var se=[],ne=0;ne<he.length;++ne)se.push(he.charCodeAt(ne)&255);return se}function ue(he,se){for(var ne,we,Ne,ae=[],Pe=0;Pe<he.length&&!((se-=2)<0);++Pe)ne=he.charCodeAt(Pe),we=ne>>8,Ne=ne%256,ae.push(Ne),ae.push(we);return ae}function xe(he){return u.toByteArray(Ke(he))}function _e(he,se,ne,we){for(var Ne=0;Ne<we&&!(Ne+ne>=se.length||Ne>=he.length);++Ne)se[Ne+ne]=he[Ne];return Ne}function ce(he,se){return he instanceof se||he!=null&&he.constructor!=null&&he.constructor.name!=null&&he.constructor.name===se.name}function de(he){return he!==he}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,m,g){var f=e("safe-buffer").Buffer,u=e("stream").Transform,h=e("string_decoder").StringDecoder,s=e("inherits");function t(i){u.call(this),this.hashMode=typeof i=="string",this.hashMode?this[i]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}s(t,u),t.prototype.update=function(i,r,n){typeof i=="string"&&(i=f.from(i,r));var l=this._update(i);return this.hashMode?this:(n&&(l=this._toString(l,n)),l)},t.prototype.setAutoPadding=function(){},t.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},t.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},t.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},t.prototype._transform=function(i,r,n){var l;try{this.hashMode?this._update(i):this.push(this._update(i))}catch(d){l=d}finally{n(l)}},t.prototype._flush=function(i){var r;try{this.push(this.__final())}catch(n){r=n}i(r)},t.prototype._finalOrDigest=function(i){var r=this.__final()||f.alloc(0);return i&&(r=this._toString(r,i,!0)),r},t.prototype._toString=function(i,r,n){if(this._decoder||(this._decoder=new h(r),this._encoding=r),this._encoding!==r)throw new Error("can't switch encodings");var l=this._decoder.write(i);return n&&(l+=this._decoder.end()),l},m.exports=t},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,m,g){var f=e("../internals/is-callable"),u=e("../internals/try-to-string"),h=TypeError;m.exports=function(s){if(f(s))return s;throw new h(u(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,m,g){var f=e("../internals/is-constructor"),u=e("../internals/try-to-string"),h=TypeError;m.exports=function(s){if(f(s))return s;throw new h(u(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,m,g){var f=e("../internals/is-callable"),u=String,h=TypeError;m.exports=function(s){if(typeof s=="object"||f(s))return s;throw new h("Can't set "+u(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,m,g){var f=e("../internals/well-known-symbol"),u=e("../internals/object-create"),h=e("../internals/object-define-property").f,s=f("unscopables"),t=Array.prototype;t[s]===void 0&&h(t,s,{configurable:!0,value:u(null)}),m.exports=function(i){t[s][i]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,m,g){var f=e("../internals/object-is-prototype-of"),u=TypeError;m.exports=function(h,s){if(f(s,h))return h;throw new u("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,m,g){var f=e("../internals/is-object"),u=String,h=TypeError;m.exports=function(s){if(f(s))return s;throw new h(u(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,m,g){var f=e("../internals/to-indexed-object"),u=e("../internals/to-absolute-index"),h=e("../internals/length-of-array-like"),s=function(t){return function(i,r,n){var l=f(i),d=h(l),a=u(n,d),v;if(t&&r!==r){for(;d>a;)if(v=l[a++],v!==v)return!0}else for(;d>a;a++)if((t||a in l)&&l[a]===r)return t||a||0;return!t&&-1}};m.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,m,g){var f=e("../internals/function-bind-context"),u=e("../internals/function-uncurry-this"),h=e("../internals/indexed-object"),s=e("../internals/to-object"),t=e("../internals/length-of-array-like"),i=e("../internals/array-species-create"),r=u([].push),n=function(l){var d=l===1,a=l===2,v=l===3,y=l===4,p=l===6,E=l===7,T=l===5||p;return function(S,A,w,I){for(var D=s(S),V=h(D),ie=f(A,w),te=t(V),re=0,Z=I||i,W=d?Z(S,te):a||E?Z(S,0):void 0,j,O;te>re;re++)if((T||re in V)&&(j=V[re],O=ie(j,re,D),l))if(d)W[re]=O;else if(O)switch(l){case 3:return!0;case 5:return j;case 6:return re;case 2:r(W,j)}else switch(l){case 4:return!1;case 7:r(W,j)}return p?-1:v||y?y:W}};m.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,m,g){var f=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),h=e("../internals/create-property"),s=Array,t=Math.max;m.exports=function(i,r,n){for(var l=u(i),d=f(r,l),a=f(n===void 0?l:n,l),v=s(t(a-d,0)),y=0;d<a;d++,y++)h(v,y,i[d]);return v.length=y,v}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,m,g){var f=e("../internals/function-uncurry-this");m.exports=f([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,m,g){var f=e("../internals/is-array"),u=e("../internals/is-constructor"),h=e("../internals/is-object"),s=e("../internals/well-known-symbol"),t=s("species"),i=Array;m.exports=function(r){var n;return f(r)&&(n=r.constructor,u(n)&&(n===i||f(n.prototype))?n=void 0:h(n)&&(n=n[t],n===null&&(n=void 0))),n===void 0?i:n}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,m,g){var f=e("../internals/array-species-constructor");m.exports=function(u,h){return new(f(u))(h===0?0:h)}},{"../internals/array-species-constructor":232}],234:[function(e,m,g){var f=e("../internals/well-known-symbol"),u=f("iterator"),h=!1;try{var s=0,t={next:function(){return{done:!!s++}},return:function(){h=!0}};t[u]=function(){return this},Array.from(t,function(){throw 2})}catch{}m.exports=function(i,r){try{if(!r&&!h)return!1}catch{return!1}var n=!1;try{var l={};l[u]=function(){return{next:function(){return{done:n=!0}}}},i(l)}catch{}return n}},{"../internals/well-known-symbol":357}],235:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=f({}.toString),h=f("".slice);m.exports=function(s){return h(u(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,m,g){var f=e("../internals/to-string-tag-support"),u=e("../internals/is-callable"),h=e("../internals/classof-raw"),s=e("../internals/well-known-symbol"),t=s("toStringTag"),i=Object,r=h(function(){return arguments}())==="Arguments",n=function(l,d){try{return l[d]}catch{}};m.exports=f?h:function(l){var d,a,v;return l===void 0?"Undefined":l===null?"Null":typeof(a=n(d=i(l),t))=="string"?a:r?h(d):(v=h(d))==="Object"&&u(d.callee)?"Arguments":v}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,m,g){var f=e("../internals/has-own-property"),u=e("../internals/own-keys"),h=e("../internals/object-get-own-property-descriptor"),s=e("../internals/object-define-property");m.exports=function(t,i,r){for(var n=u(i),l=s.f,d=h.f,a=0;a<n.length;a++){var v=n[a];!f(t,v)&&!(r&&f(r,v))&&l(t,v,d(i,v))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,m,g){var f=e("../internals/well-known-symbol"),u=f("match");m.exports=function(h){var s=/./;try{"/./"[h](s)}catch{try{return s[u]=!1,"/./"[h](s)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,m,g){var f=e("../internals/fails");m.exports=!f(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},{"../internals/fails":260}],240:[function(e,m,g){m.exports=function(f,u){return{value:f,done:u}}},{}],241:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/object-define-property"),h=e("../internals/create-property-descriptor");m.exports=f?function(s,t,i){return u.f(s,t,h(1,i))}:function(s,t,i){return s[t]=i,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,m,g){m.exports=function(f,u){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:u}}},{}],243:[function(e,m,g){var f=e("../internals/to-property-key"),u=e("../internals/object-define-property"),h=e("../internals/create-property-descriptor");m.exports=function(s,t,i){var r=f(t);r in s?u.f(s,r,h(0,i)):s[r]=i}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,m,g){var f=e("../internals/make-built-in"),u=e("../internals/object-define-property");m.exports=function(h,s,t){return t.get&&f(t.get,s,{getter:!0}),t.set&&f(t.set,s,{setter:!0}),u.f(h,s,t)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,m,g){var f=e("../internals/is-callable"),u=e("../internals/object-define-property"),h=e("../internals/make-built-in"),s=e("../internals/define-global-property");m.exports=function(t,i,r,n){n||(n={});var l=n.enumerable,d=n.name!==void 0?n.name:i;if(f(r)&&h(r,d,n),n.global)l?t[i]=r:s(i,r);else{try{n.unsafe?t[i]&&(l=!0):delete t[i]}catch{}l?t[i]=r:u.f(t,i,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,m,g){var f=e("../internals/global"),u=Object.defineProperty;m.exports=function(h,s){try{u(f,h,{value:s,configurable:!0,writable:!0})}catch{f[h]=s}return s}},{"../internals/global":274}],247:[function(e,m,g){var f=e("../internals/fails");m.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,m,g){var f=typeof document=="object"&&document.all,u=typeof f>"u"&&f!==void 0;m.exports={all:f,IS_HTMLDDA:u}},{}],249:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/is-object"),h=f.document,s=u(h)&&u(h.createElement);m.exports=function(t){return s?h.createElement(t):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,m,g){var f=e("../internals/engine-is-deno"),u=e("../internals/engine-is-node");m.exports=!f&&!u&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,m,g){m.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,m,g){var f=e("../internals/engine-user-agent");m.exports=/ipad|iphone|ipod/i.test(f)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,m,g){var f=e("../internals/engine-user-agent");m.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},{"../internals/engine-user-agent":256}],254:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/classof-raw");m.exports=u(f.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,m,g){var f=e("../internals/engine-user-agent");m.exports=/web0s(?!.*chrome)/i.test(f)},{"../internals/engine-user-agent":256}],256:[function(e,m,g){m.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/engine-user-agent"),h=f.process,s=f.Deno,t=h&&h.versions||s&&s.version,i=t&&t.v8,r,n;i&&(r=i.split("."),n=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&u&&(r=u.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/),r&&(n=+r[1]))),m.exports=n},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,m,g){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/create-non-enumerable-property"),s=e("../internals/define-built-in"),t=e("../internals/define-global-property"),i=e("../internals/copy-constructor-properties"),r=e("../internals/is-forced");m.exports=function(n,l){var d=n.target,a=n.global,v=n.stat,y,p,E,T,S,A;if(a?p=f:v?p=f[d]||t(d,{}):p=(f[d]||{}).prototype,p)for(E in l){if(S=l[E],n.dontCallGetSet?(A=u(p,E),T=A&&A.value):T=p[E],y=r(a?E:d+(v?".":"#")+E,n.forced),!y&&T!==void 0){if(typeof S==typeof T)continue;i(S,T)}(n.sham||T&&T.sham)&&h(S,"sham",!0),s(p,E,S,n)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,m,g){m.exports=function(f){try{return!!f()}catch{return!0}}},{}],261:[function(e,m,g){var f=e("../internals/function-bind-native"),u=Function.prototype,h=u.apply,s=u.call;m.exports=typeof Reflect=="object"&&Reflect.apply||(f?s.bind(h):function(){return s.apply(h,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,m,g){var f=e("../internals/function-uncurry-this-clause"),u=e("../internals/a-callable"),h=e("../internals/function-bind-native"),s=f(f.bind);m.exports=function(t,i){return u(t),i===void 0?t:h?s(t,i):function(){return t.apply(i,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,m,g){var f=e("../internals/fails");m.exports=!f(function(){var u=(function(){}).bind();return typeof u!="function"||u.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,m,g){var f=e("../internals/function-bind-native"),u=Function.prototype.call;m.exports=f?u.bind(u):function(){return u.apply(u,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/has-own-property"),h=Function.prototype,s=f&&Object.getOwnPropertyDescriptor,t=u(h,"name"),i=t&&(function(){}).name==="something",r=t&&(!f||f&&s(h,"name").configurable);m.exports={EXISTS:t,PROPER:i,CONFIGURABLE:r}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/a-callable");m.exports=function(h,s,t){try{return f(u(Object.getOwnPropertyDescriptor(h,s)[t]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,m,g){var f=e("../internals/classof-raw"),u=e("../internals/function-uncurry-this");m.exports=function(h){if(f(h)==="Function")return u(h)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,m,g){var f=e("../internals/function-bind-native"),u=Function.prototype,h=u.call,s=f&&u.bind.bind(h,h);m.exports=f?s:function(t){return function(){return h.apply(t,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/is-callable"),h=function(s){return u(s)?s:void 0};m.exports=function(s,t){return arguments.length<2?h(f[s]):f[s]&&f[s][t]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,m,g){var f=e("../internals/classof"),u=e("../internals/get-method"),h=e("../internals/is-null-or-undefined"),s=e("../internals/iterators"),t=e("../internals/well-known-symbol"),i=t("iterator");m.exports=function(r){if(!h(r))return u(r,i)||u(r,"@@iterator")||s[f(r)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,m,g){var f=e("../internals/function-call"),u=e("../internals/a-callable"),h=e("../internals/an-object"),s=e("../internals/try-to-string"),t=e("../internals/get-iterator-method"),i=TypeError;m.exports=function(r,n){var l=arguments.length<2?t(r):n;if(u(l))return h(f(l,r));throw new i(s(r)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/is-array"),h=e("../internals/is-callable"),s=e("../internals/classof-raw"),t=e("../internals/to-string"),i=f([].push);m.exports=function(r){if(h(r))return r;if(u(r)){for(var n=r.length,l=[],d=0;d<n;d++){var a=r[d];typeof a=="string"?i(l,a):(typeof a=="number"||s(a)==="Number"||s(a)==="String")&&i(l,t(a))}var v=l.length,y=!0;return function(p,E){if(y)return y=!1,E;if(u(this))return E;for(var T=0;T<v;T++)if(l[T]===p)return E}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,m,g){var f=e("../internals/a-callable"),u=e("../internals/is-null-or-undefined");m.exports=function(h,s){var t=h[s];return u(t)?void 0:f(t)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,m,g){(function(f){(function(){var u=function(h){return h&&h.Math===Math&&h};m.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof f=="object"&&f)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/to-object"),h=f({}.hasOwnProperty);m.exports=Object.hasOwn||function(t,i){return h(u(t),i)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,m,g){m.exports={}},{}],277:[function(e,m,g){m.exports=function(f,u){try{arguments.length===1?console.error(f):console.error(f,u)}catch{}}},{}],278:[function(e,m,g){var f=e("../internals/get-built-in");m.exports=f("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/fails"),h=e("../internals/document-create-element");m.exports=!f&&!u(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/fails"),h=e("../internals/classof-raw"),s=Object,t=f("".split);m.exports=u(function(){return!s("z").propertyIsEnumerable(0)})?function(i){return h(i)==="String"?t(i,""):s(i)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/is-callable"),h=e("../internals/shared-store"),s=f(Function.toString);u(h.inspectSource)||(h.inspectSource=function(t){return s(t)}),m.exports=h.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,m,g){var f=e("../internals/weak-map-basic-detection"),u=e("../internals/global"),h=e("../internals/is-object"),s=e("../internals/create-non-enumerable-property"),t=e("../internals/has-own-property"),i=e("../internals/shared-store"),r=e("../internals/shared-key"),n=e("../internals/hidden-keys"),l="Object already initialized",d=u.TypeError,a=u.WeakMap,v,y,p,E=function(w){return p(w)?y(w):v(w,{})},T=function(w){return function(I){var D;if(!h(I)||(D=y(I)).type!==w)throw new d("Incompatible receiver, "+w+" required");return D}};if(f||i.state){var S=i.state||(i.state=new a);S.get=S.get,S.has=S.has,S.set=S.set,v=function(w,I){if(S.has(w))throw new d(l);return I.facade=w,S.set(w,I),I},y=function(w){return S.get(w)||{}},p=function(w){return S.has(w)}}else{var A=r("state");n[A]=!0,v=function(w,I){if(t(w,A))throw new d(l);return I.facade=w,s(w,A,I),I},y=function(w){return t(w,A)?w[A]:{}},p=function(w){return t(w,A)}}m.exports={set:v,get:y,has:p,enforce:E,getterFor:T}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,m,g){var f=e("../internals/well-known-symbol"),u=e("../internals/iterators"),h=f("iterator"),s=Array.prototype;m.exports=function(t){return t!==void 0&&(u.Array===t||s[h]===t)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,m,g){var f=e("../internals/classof-raw");m.exports=Array.isArray||function(h){return f(h)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,m,g){var f=e("../internals/document-all"),u=f.all;m.exports=f.IS_HTMLDDA?function(h){return typeof h=="function"||h===u}:function(h){return typeof h=="function"}},{"../internals/document-all":248}],286:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/fails"),h=e("../internals/is-callable"),s=e("../internals/classof"),t=e("../internals/get-built-in"),i=e("../internals/inspect-source"),r=function(){},n=[],l=t("Reflect","construct"),d=/^\s*(?:class|function)\b/,a=f(d.exec),v=!d.test(r),y=function(T){if(!h(T))return!1;try{return l(r,n,T),!0}catch{return!1}},p=function(T){if(!h(T))return!1;switch(s(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!a(d,i(T))}catch{return!0}};p.sham=!0,m.exports=!l||u(function(){var E;return y(y.call)||!y(Object)||!y(function(){E=!0})||E})?p:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,m,g){var f=e("../internals/fails"),u=e("../internals/is-callable"),h=/#|\.prototype\./,s=function(l,d){var a=i[t(l)];return a===n?!0:a===r?!1:u(d)?f(d):!!d},t=s.normalize=function(l){return String(l).replace(h,".").toLowerCase()},i=s.data={},r=s.NATIVE="N",n=s.POLYFILL="P";m.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,m,g){m.exports=function(f){return f==null}},{}],289:[function(e,m,g){var f=e("../internals/is-callable"),u=e("../internals/document-all"),h=u.all;m.exports=u.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:f(s)||s===h}:function(s){return typeof s=="object"?s!==null:f(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,m,g){m.exports=!1},{}],291:[function(e,m,g){var f=e("../internals/is-object"),u=e("../internals/classof-raw"),h=e("../internals/well-known-symbol"),s=h("match");m.exports=function(t){var i;return f(t)&&((i=t[s])!==void 0?!!i:u(t)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,m,g){var f=e("../internals/get-built-in"),u=e("../internals/is-callable"),h=e("../internals/object-is-prototype-of"),s=e("../internals/use-symbol-as-uid"),t=Object;m.exports=s?function(i){return typeof i=="symbol"}:function(i){var r=f("Symbol");return u(r)&&h(r.prototype,t(i))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,m,g){var f=e("../internals/function-bind-context"),u=e("../internals/function-call"),h=e("../internals/an-object"),s=e("../internals/try-to-string"),t=e("../internals/is-array-iterator-method"),i=e("../internals/length-of-array-like"),r=e("../internals/object-is-prototype-of"),n=e("../internals/get-iterator"),l=e("../internals/get-iterator-method"),d=e("../internals/iterator-close"),a=TypeError,v=function(p,E){this.stopped=p,this.result=E},y=v.prototype;m.exports=function(p,E,T){var S=T&&T.that,A=!!(T&&T.AS_ENTRIES),w=!!(T&&T.IS_RECORD),I=!!(T&&T.IS_ITERATOR),D=!!(T&&T.INTERRUPTED),V=f(E,S),ie,te,re,Z,W,j,O,C=function(H){return ie&&d(ie,"normal",H),new v(!0,H)},F=function(H){return A?(h(H),D?V(H[0],H[1],C):V(H[0],H[1])):D?V(H,C):V(H)};if(w)ie=p.iterator;else if(I)ie=p;else{if(te=l(p),!te)throw new a(s(p)+" is not iterable");if(t(te)){for(re=0,Z=i(p);Z>re;re++)if(W=F(p[re]),W&&r(y,W))return W;return new v(!1)}ie=n(p,te)}for(j=w?p.next:ie.next;!(O=u(j,ie)).done;){try{W=F(O.value)}catch(H){d(ie,"throw",H)}if(typeof W=="object"&&W&&r(y,W))return W}return new v(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,m,g){var f=e("../internals/function-call"),u=e("../internals/an-object"),h=e("../internals/get-method");m.exports=function(s,t,i){var r,n;u(s);try{if(r=h(s,"return"),!r){if(t==="throw")throw i;return i}r=f(r,s)}catch(l){n=!0,r=l}if(t==="throw")throw i;if(n)throw r;return u(r),i}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,m,g){var f=e("../internals/iterators-core").IteratorPrototype,u=e("../internals/object-create"),h=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),t=e("../internals/iterators"),i=function(){return this};m.exports=function(r,n,l,d){var a=n+" Iterator";return r.prototype=u(f,{next:h(+!d,l)}),s(r,a,!1,!0),t[a]=i,r}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/function-call"),h=e("../internals/is-pure"),s=e("../internals/function-name"),t=e("../internals/is-callable"),i=e("../internals/iterator-create-constructor"),r=e("../internals/object-get-prototype-of"),n=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),d=e("../internals/create-non-enumerable-property"),a=e("../internals/define-built-in"),v=e("../internals/well-known-symbol"),y=e("../internals/iterators"),p=e("../internals/iterators-core"),E=s.PROPER,T=s.CONFIGURABLE,S=p.IteratorPrototype,A=p.BUGGY_SAFARI_ITERATORS,w=v("iterator"),I="keys",D="values",V="entries",ie=function(){return this};m.exports=function(te,re,Z,W,j,O,C){i(Z,re,W);var F=function(Ie){if(Ie===j&&B)return B;if(!A&&Ie&&Ie in Y)return Y[Ie];switch(Ie){case I:return function(){return new Z(this,Ie)};case D:return function(){return new Z(this,Ie)};case V:return function(){return new Z(this,Ie)}}return function(){return new Z(this)}},H=re+" Iterator",$=!1,Y=te.prototype,z=Y[w]||Y["@@iterator"]||j&&Y[j],B=!A&&z||F(j),L=re==="Array"&&Y.entries||z,G,le,ge;if(L&&(G=r(L.call(new te)),G!==Object.prototype&&G.next&&(!h&&r(G)!==S&&(n?n(G,S):t(G[w])||a(G,w,ie)),l(G,H,!0,!0),h&&(y[H]=ie))),E&&j===D&&z&&z.name!==D&&(!h&&T?d(Y,"name",D):($=!0,B=function(){return u(z,this)})),j)if(le={values:F(D),keys:O?B:F(I),entries:F(V)},C)for(ge in le)(A||$||!(ge in Y))&&a(Y,ge,le[ge]);else f({target:re,proto:!0,forced:A||$},le);return(!h||C)&&Y[w]!==B&&a(Y,w,B,{name:j}),y[re]=B,le}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,m,g){var f=e("../internals/fails"),u=e("../internals/is-callable"),h=e("../internals/is-object"),s=e("../internals/object-create"),t=e("../internals/object-get-prototype-of"),i=e("../internals/define-built-in"),r=e("../internals/well-known-symbol"),n=e("../internals/is-pure"),l=r("iterator"),d=!1,a,v,y;[].keys&&(y=[].keys(),"next"in y?(v=t(t(y)),v!==Object.prototype&&(a=v)):d=!0);var p=!h(a)||f(function(){var E={};return a[l].call(E)!==E});p?a={}:n&&(a=s(a)),u(a[l])||i(a,l,function(){return this}),m.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:d}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,m,g){arguments[4][276][0].apply(g,arguments)},{dup:276}],299:[function(e,m,g){var f=e("../internals/to-length");m.exports=function(u){return f(u.length)}},{"../internals/to-length":343}],300:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/fails"),h=e("../internals/is-callable"),s=e("../internals/has-own-property"),t=e("../internals/descriptors"),i=e("../internals/function-name").CONFIGURABLE,r=e("../internals/inspect-source"),n=e("../internals/internal-state"),l=n.enforce,d=n.get,a=String,v=Object.defineProperty,y=f("".slice),p=f("".replace),E=f([].join),T=t&&!u(function(){return v(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),A=m.exports=function(w,I,D){y(a(I),0,7)==="Symbol("&&(I="["+p(a(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),D&&D.getter&&(I="get "+I),D&&D.setter&&(I="set "+I),(!s(w,"name")||i&&w.name!==I)&&(t?v(w,"name",{value:I,configurable:!0}):w.name=I),T&&D&&s(D,"arity")&&w.length!==D.arity&&v(w,"length",{value:D.arity});try{D&&s(D,"constructor")&&D.constructor?t&&v(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var V=l(w);return s(V,"source")||(V.source=E(S,typeof I=="string"?I:"")),w};Function.prototype.toString=A(function(){return h(this)&&d(this).source||r(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,m,g){var f=Math.ceil,u=Math.floor;m.exports=Math.trunc||function(s){var t=+s;return(t>0?u:f)(t)}},{}],302:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/task").set,t=e("../internals/queue"),i=e("../internals/engine-is-ios"),r=e("../internals/engine-is-ios-pebble"),n=e("../internals/engine-is-webos-webkit"),l=e("../internals/engine-is-node"),d=f.MutationObserver||f.WebKitMutationObserver,a=f.document,v=f.process,y=f.Promise,p=h(f,"queueMicrotask"),E=p&&p.value,T,S,A,w,I;if(!E){var D=new t,V=function(){var ie,te;for(l&&(ie=v.domain)&&ie.exit();te=D.get();)try{te()}catch(re){throw D.head&&T(),re}ie&&ie.enter()};!i&&!l&&!n&&d&&a?(S=!0,A=a.createTextNode(""),new d(V).observe(A,{characterData:!0}),T=function(){A.data=S=!S}):!r&&y&&y.resolve?(w=y.resolve(void 0),w.constructor=y,I=u(w.then,w),T=function(){I(V)}):l?T=function(){v.nextTick(V)}:(s=u(s,f),T=function(){s(V)}),E=function(ie){D.head||T(),D.add(ie)}}m.exports=E},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,m,g){var f=e("../internals/a-callable"),u=TypeError,h=function(s){var t,i;this.promise=new s(function(r,n){if(t!==void 0||i!==void 0)throw new u("Bad Promise constructor");t=r,i=n}),this.resolve=f(t),this.reject=f(i)};m.exports.f=function(s){return new h(s)}},{"../internals/a-callable":222}],304:[function(e,m,g){var f=e("../internals/is-regexp"),u=TypeError;m.exports=function(h){if(f(h))throw new u("The method doesn't accept regular expressions");return h}},{"../internals/is-regexp":291}],305:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/function-uncurry-this"),h=e("../internals/function-call"),s=e("../internals/fails"),t=e("../internals/object-keys"),i=e("../internals/object-get-own-property-symbols"),r=e("../internals/object-property-is-enumerable"),n=e("../internals/to-object"),l=e("../internals/indexed-object"),d=Object.assign,a=Object.defineProperty,v=u([].concat);m.exports=!d||s(function(){if(f&&d({b:1},d(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},p={},E=Symbol("assign detection"),T="abcdefghijklmnopqrst";return y[E]=7,T.split("").forEach(function(S){p[S]=S}),d({},y)[E]!==7||t(d({},p)).join("")!==T})?function(p,E){for(var T=n(p),S=arguments.length,A=1,w=i.f,I=r.f;S>A;)for(var D=l(arguments[A++]),V=w?v(t(D),w(D)):t(D),ie=V.length,te=0,re;ie>te;)re=V[te++],(!f||h(I,D,re))&&(T[re]=D[re]);return T}:d},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,m,g){var f=e("../internals/an-object"),u=e("../internals/object-define-properties"),h=e("../internals/enum-bug-keys"),s=e("../internals/hidden-keys"),t=e("../internals/html"),i=e("../internals/document-create-element"),r=e("../internals/shared-key"),n=">",l="<",d="prototype",a="script",v=r("IE_PROTO"),y=function(){},p=function(w){return l+a+n+w+l+"/"+a+n},E=function(w){w.write(p("")),w.close();var I=w.parentWindow.Object;return w=null,I},T=function(){var w=i("iframe"),I="java"+a+":",D;return w.style.display="none",t.appendChild(w),w.src=String(I),D=w.contentWindow.document,D.open(),D.write(p("document.F=Object")),D.close(),D.F},S,A=function(){try{S=new ActiveXObject("htmlfile")}catch{}A=typeof document<"u"?document.domain&&S?E(S):T():E(S);for(var w=h.length;w--;)delete A[d][h[w]];return A()};s[v]=!0,m.exports=Object.create||function(I,D){var V;return I!==null?(y[d]=f(I),V=new y,y[d]=null,V[v]=I):V=A(),D===void 0?V:u.f(V,D)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/v8-prototype-define-bug"),h=e("../internals/object-define-property"),s=e("../internals/an-object"),t=e("../internals/to-indexed-object"),i=e("../internals/object-keys");g.f=f&&!u?Object.defineProperties:function(n,l){s(n);for(var d=t(l),a=i(l),v=a.length,y=0,p;v>y;)h.f(n,p=a[y++],d[p]);return n}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/ie8-dom-define"),h=e("../internals/v8-prototype-define-bug"),s=e("../internals/an-object"),t=e("../internals/to-property-key"),i=TypeError,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l="enumerable",d="configurable",a="writable";g.f=f?h?function(y,p,E){if(s(y),p=t(p),s(E),typeof y=="function"&&p==="prototype"&&"value"in E&&a in E&&!E[a]){var T=n(y,p);T&&T[a]&&(y[p]=E.value,E={configurable:d in E?E[d]:T[d],enumerable:l in E?E[l]:T[l],writable:!1})}return r(y,p,E)}:r:function(y,p,E){if(s(y),p=t(p),s(E),u)try{return r(y,p,E)}catch{}if("get"in E||"set"in E)throw new i("Accessors not supported");return"value"in E&&(y[p]=E.value),y}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/function-call"),h=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),t=e("../internals/to-indexed-object"),i=e("../internals/to-property-key"),r=e("../internals/has-own-property"),n=e("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;g.f=f?l:function(a,v){if(a=t(a),v=i(v),n)try{return l(a,v)}catch{}if(r(a,v))return s(!u(h.f,a,v),a[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,m,g){var f=e("../internals/classof-raw"),u=e("../internals/to-indexed-object"),h=e("../internals/object-get-own-property-names").f,s=e("../internals/array-slice-simple"),t=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(r){try{return h(r)}catch{return s(t)}};m.exports.f=function(n){return t&&f(n)==="Window"?i(n):h(u(n))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,m,g){var f=e("../internals/object-keys-internal"),u=e("../internals/enum-bug-keys"),h=u.concat("length","prototype");g.f=Object.getOwnPropertyNames||function(t){return f(t,h)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,m,g){g.f=Object.getOwnPropertySymbols},{}],313:[function(e,m,g){var f=e("../internals/has-own-property"),u=e("../internals/is-callable"),h=e("../internals/to-object"),s=e("../internals/shared-key"),t=e("../internals/correct-prototype-getter"),i=s("IE_PROTO"),r=Object,n=r.prototype;m.exports=t?r.getPrototypeOf:function(l){var d=h(l);if(f(d,i))return d[i];var a=d.constructor;return u(a)&&d instanceof a?a.prototype:d instanceof r?n:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,m,g){var f=e("../internals/function-uncurry-this");m.exports=f({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=e("../internals/has-own-property"),h=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,t=e("../internals/hidden-keys"),i=f([].push);m.exports=function(r,n){var l=h(r),d=0,a=[],v;for(v in l)!u(t,v)&&u(l,v)&&i(a,v);for(;n.length>d;)u(l,v=n[d++])&&(~s(a,v)||i(a,v));return a}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,m,g){var f=e("../internals/object-keys-internal"),u=e("../internals/enum-bug-keys");m.exports=Object.keys||function(s){return f(s,u)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,m,g){var f={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,h=u&&!f.call({1:2},1);g.f=h?function(t){var i=u(this,t);return!!i&&i.enumerable}:f},{}],318:[function(e,m,g){var f=e("../internals/function-uncurry-this-accessor"),u=e("../internals/an-object"),h=e("../internals/a-possible-prototype");m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,t={},i;try{i=f(Object.prototype,"__proto__","set"),i(t,[]),s=t instanceof Array}catch{}return function(n,l){return u(n),h(l),s?i(n,l):n.__proto__=l,n}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/fails"),h=e("../internals/function-uncurry-this"),s=e("../internals/object-get-prototype-of"),t=e("../internals/object-keys"),i=e("../internals/to-indexed-object"),r=e("../internals/object-property-is-enumerable").f,n=h(r),l=h([].push),d=f&&u(function(){var v=Object.create(null);return v[2]=2,!n(v,2)}),a=function(v){return function(y){for(var p=i(y),E=t(p),T=d&&s(p)===null,S=E.length,A=0,w=[],I;S>A;)I=E[A++],(!f||(T?I in p:n(p,I)))&&l(w,v?[I,p[I]]:p[I]);return w}};m.exports={entries:a(!0),values:a(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,m,g){var f=e("../internals/function-call"),u=e("../internals/is-callable"),h=e("../internals/is-object"),s=TypeError;m.exports=function(t,i){var r,n;if(i==="string"&&u(r=t.toString)&&!h(n=f(r,t))||u(r=t.valueOf)&&!h(n=f(r,t))||i!=="string"&&u(r=t.toString)&&!h(n=f(r,t)))return n;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,m,g){var f=e("../internals/get-built-in"),u=e("../internals/function-uncurry-this"),h=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),t=e("../internals/an-object"),i=u([].concat);m.exports=f("Reflect","ownKeys")||function(n){var l=h.f(t(n)),d=s.f;return d?i(l,d(n)):l}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,m,g){var f=e("../internals/global");m.exports=f},{"../internals/global":274}],323:[function(e,m,g){m.exports=function(f){try{return{error:!1,value:f()}}catch(u){return{error:!0,value:u}}}},{}],324:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/promise-native-constructor"),h=e("../internals/is-callable"),s=e("../internals/is-forced"),t=e("../internals/inspect-source"),i=e("../internals/well-known-symbol"),r=e("../internals/engine-is-browser"),n=e("../internals/engine-is-deno"),l=e("../internals/is-pure"),d=e("../internals/engine-v8-version"),a=u&&u.prototype,v=i("species"),y=!1,p=h(f.PromiseRejectionEvent),E=s("Promise",function(){var T=t(u),S=T!==String(u);if(!S&&d===66||l&&!(a.catch&&a.finally))return!0;if(!d||d<51||!/native code/.test(T)){var A=new u(function(D){D(1)}),w=function(D){D(function(){},function(){})},I=A.constructor={};if(I[v]=w,y=A.then(function(){})instanceof w,!y)return!0}return!S&&(r||n)&&!p});m.exports={CONSTRUCTOR:E,REJECTION_EVENT:p,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,m,g){var f=e("../internals/global");m.exports=f.Promise},{"../internals/global":274}],326:[function(e,m,g){var f=e("../internals/an-object"),u=e("../internals/is-object"),h=e("../internals/new-promise-capability");m.exports=function(s,t){if(f(s),u(t)&&t.constructor===s)return t;var i=h.f(s),r=i.resolve;return r(t),i.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,m,g){var f=e("../internals/promise-native-constructor"),u=e("../internals/check-correctness-of-iteration"),h=e("../internals/promise-constructor-detection").CONSTRUCTOR;m.exports=h||!u(function(s){f.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,m,g){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(u){var h={item:u,next:null},s=this.tail;s?s.next=h:this.head=h,this.tail=h},get:function(){var u=this.head;if(u){var h=this.head=u.next;return h===null&&(this.tail=null),u.item}}},m.exports=f},{}],329:[function(e,m,g){var f=e("../internals/is-null-or-undefined"),u=TypeError;m.exports=function(h){if(f(h))throw new u("Can't call method on "+h);return h}},{"../internals/is-null-or-undefined":288}],330:[function(e,m,g){var f=e("../internals/get-built-in"),u=e("../internals/define-built-in-accessor"),h=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),t=h("species");m.exports=function(i){var r=f(i);s&&r&&!r[t]&&u(r,t,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,m,g){var f=e("../internals/object-define-property").f,u=e("../internals/has-own-property"),h=e("../internals/well-known-symbol"),s=h("toStringTag");m.exports=function(t,i,r){t&&!r&&(t=t.prototype),t&&!u(t,s)&&f(t,s,{configurable:!0,value:i})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,m,g){var f=e("../internals/shared"),u=e("../internals/uid"),h=f("keys");m.exports=function(s){return h[s]||(h[s]=u(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/define-global-property"),h="__core-js_shared__",s=f[h]||u(h,{});m.exports=s},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,m,g){var f=e("../internals/is-pure"),u=e("../internals/shared-store");(m.exports=function(h,s){return u[h]||(u[h]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:f?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,m,g){var f=e("../internals/an-object"),u=e("../internals/a-constructor"),h=e("../internals/is-null-or-undefined"),s=e("../internals/well-known-symbol"),t=s("species");m.exports=function(i,r){var n=f(i).constructor,l;return n===void 0||h(l=f(n)[t])?r:u(l)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,m,g){var f=e("../internals/engine-v8-version"),u=e("../internals/fails"),h=e("../internals/global"),s=h.String;m.exports=!!Object.getOwnPropertySymbols&&!u(function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&f&&f<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,m,g){var f=e("../internals/function-call"),u=e("../internals/get-built-in"),h=e("../internals/well-known-symbol"),s=e("../internals/define-built-in");m.exports=function(){var t=u("Symbol"),i=t&&t.prototype,r=i&&i.valueOf,n=h("toPrimitive");i&&!i[n]&&s(i,n,function(l){return f(r,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,m,g){var f=e("../internals/symbol-constructor-detection");m.exports=f&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/function-apply"),h=e("../internals/function-bind-context"),s=e("../internals/is-callable"),t=e("../internals/has-own-property"),i=e("../internals/fails"),r=e("../internals/html"),n=e("../internals/array-slice"),l=e("../internals/document-create-element"),d=e("../internals/validate-arguments-length"),a=e("../internals/engine-is-ios"),v=e("../internals/engine-is-node"),y=f.setImmediate,p=f.clearImmediate,E=f.process,T=f.Dispatch,S=f.Function,A=f.MessageChannel,w=f.String,I=0,D={},V="onreadystatechange",ie,te,re,Z;i(function(){ie=f.location});var W=function(F){if(t(D,F)){var H=D[F];delete D[F],H()}},j=function(F){return function(){W(F)}},O=function(F){W(F.data)},C=function(F){f.postMessage(w(F),ie.protocol+"//"+ie.host)};(!y||!p)&&(y=function(H){d(arguments.length,1);var $=s(H)?H:S(H),Y=n(arguments,1);return D[++I]=function(){u($,void 0,Y)},te(I),I},p=function(H){delete D[H]},v?te=function(F){E.nextTick(j(F))}:T&&T.now?te=function(F){T.now(j(F))}:A&&!a?(re=new A,Z=re.port2,re.port1.onmessage=O,te=h(Z.postMessage,Z)):f.addEventListener&&s(f.postMessage)&&!f.importScripts&&ie&&ie.protocol!=="file:"&&!i(C)?(te=C,f.addEventListener("message",O,!1)):V in l("script")?te=function(F){r.appendChild(l("script"))[V]=function(){r.removeChild(this),W(F)}}:te=function(F){setTimeout(j(F),0)}),m.exports={set:y,clear:p}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,m,g){var f=e("../internals/to-integer-or-infinity"),u=Math.max,h=Math.min;m.exports=function(s,t){var i=f(s);return i<0?u(i+t,0):h(i,t)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,m,g){var f=e("../internals/indexed-object"),u=e("../internals/require-object-coercible");m.exports=function(h){return f(u(h))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,m,g){var f=e("../internals/math-trunc");m.exports=function(u){var h=+u;return h!==h||h===0?0:f(h)}},{"../internals/math-trunc":301}],343:[function(e,m,g){var f=e("../internals/to-integer-or-infinity"),u=Math.min;m.exports=function(h){return h>0?u(f(h),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,m,g){var f=e("../internals/require-object-coercible"),u=Object;m.exports=function(h){return u(f(h))}},{"../internals/require-object-coercible":329}],345:[function(e,m,g){var f=e("../internals/function-call"),u=e("../internals/is-object"),h=e("../internals/is-symbol"),s=e("../internals/get-method"),t=e("../internals/ordinary-to-primitive"),i=e("../internals/well-known-symbol"),r=TypeError,n=i("toPrimitive");m.exports=function(l,d){if(!u(l)||h(l))return l;var a=s(l,n),v;if(a){if(d===void 0&&(d="default"),v=f(a,l,d),!u(v)||h(v))return v;throw new r("Can't convert object to primitive value")}return d===void 0&&(d="number"),t(l,d)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,m,g){var f=e("../internals/to-primitive"),u=e("../internals/is-symbol");m.exports=function(h){var s=f(h,"string");return u(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,m,g){var f=e("../internals/well-known-symbol"),u=f("toStringTag"),h={};h[u]="z",m.exports=String(h)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,m,g){var f=e("../internals/classof"),u=String;m.exports=function(h){if(f(h)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return u(h)}},{"../internals/classof":236}],349:[function(e,m,g){var f=String;m.exports=function(u){try{return f(u)}catch{return"Object"}}},{}],350:[function(e,m,g){var f=e("../internals/function-uncurry-this"),u=0,h=Math.random(),s=f(1 .toString);m.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+s(++u+h,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,m,g){var f=e("../internals/symbol-constructor-detection");m.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,m,g){var f=e("../internals/descriptors"),u=e("../internals/fails");m.exports=f&&u(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,m,g){var f=TypeError;m.exports=function(u,h){if(u<h)throw new f("Not enough arguments");return u}},{}],354:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/is-callable"),h=f.WeakMap;m.exports=u(h)&&/native code/.test(String(h))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,m,g){var f=e("../internals/path"),u=e("../internals/has-own-property"),h=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;m.exports=function(t){var i=f.Symbol||(f.Symbol={});u(i,t)||s(i,t,{value:h.f(t)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,m,g){var f=e("../internals/well-known-symbol");g.f=f},{"../internals/well-known-symbol":357}],357:[function(e,m,g){var f=e("../internals/global"),u=e("../internals/shared"),h=e("../internals/has-own-property"),s=e("../internals/uid"),t=e("../internals/symbol-constructor-detection"),i=e("../internals/use-symbol-as-uid"),r=f.Symbol,n=u("wks"),l=i?r.for||r:r&&r.withoutSetter||s;m.exports=function(d){return h(n,d)||(n[d]=t&&h(r,d)?r[d]:l("Symbol."+d)),n[d]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/array-iteration").findIndex,h=e("../internals/add-to-unscopables"),s="findIndex",t=!0;s in[]&&Array(1)[s](function(){t=!1}),f({target:"Array",proto:!0,forced:t},{findIndex:function(r){return u(this,r,arguments.length>1?arguments[1]:void 0)}}),h(s)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/array-iteration").find,h=e("../internals/add-to-unscopables"),s="find",t=!0;s in[]&&Array(1)[s](function(){t=!1}),f({target:"Array",proto:!0,forced:t},{find:function(r){return u(this,r,arguments.length>1?arguments[1]:void 0)}}),h(s)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/array-includes").includes,h=e("../internals/fails"),s=e("../internals/add-to-unscopables"),t=h(function(){return!Array(1).includes()});f({target:"Array",proto:!0,forced:t},{includes:function(r){return u(this,r,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,m,g){var f=e("../internals/to-indexed-object"),u=e("../internals/add-to-unscopables"),h=e("../internals/iterators"),s=e("../internals/internal-state"),t=e("../internals/object-define-property").f,i=e("../internals/iterator-define"),r=e("../internals/create-iter-result-object"),n=e("../internals/is-pure"),l=e("../internals/descriptors"),d="Array Iterator",a=s.set,v=s.getterFor(d);m.exports=i(Array,"Array",function(p,E){a(this,{type:d,target:f(p),index:0,kind:E})},function(){var p=v(this),E=p.target,T=p.kind,S=p.index++;if(!E||S>=E.length)return p.target=void 0,r(void 0,!0);switch(T){case"keys":return r(S,!1);case"values":return r(E[S],!1)}return r([S,E[S]],!1)},"values");var y=h.Arguments=h.Array;if(u("keys"),u("values"),u("entries"),!n&&l&&y.name!=="values")try{t(y,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/get-built-in"),h=e("../internals/function-apply"),s=e("../internals/function-call"),t=e("../internals/function-uncurry-this"),i=e("../internals/fails"),r=e("../internals/is-callable"),n=e("../internals/is-symbol"),l=e("../internals/array-slice"),d=e("../internals/get-json-replacer-function"),a=e("../internals/symbol-constructor-detection"),v=String,y=u("JSON","stringify"),p=t(/./.exec),E=t("".charAt),T=t("".charCodeAt),S=t("".replace),A=t(1 .toString),w=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,V=!a||i(function(){var Z=u("Symbol")("stringify detection");return y([Z])!=="[null]"||y({a:Z})!=="{}"||y(Object(Z))!=="{}"}),ie=i(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),te=function(Z,W){var j=l(arguments),O=d(W);if(!(!r(O)&&(Z===void 0||n(Z))))return j[1]=function(C,F){if(r(O)&&(F=s(O,this,v(C),F)),!n(F))return F},h(y,null,j)},re=function(Z,W,j){var O=E(j,W-1),C=E(j,W+1);return p(I,Z)&&!p(D,C)||p(D,Z)&&!p(I,O)?"\\u"+A(T(Z,0),16):Z};y&&f({target:"JSON",stat:!0,arity:3,forced:V||ie},{stringify:function(W,j,O){var C=l(arguments),F=h(V?te:y,null,C);return ie&&typeof F=="string"?S(F,w,re):F}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,m,g){var f=e("../internals/export");f({target:"Number",stat:!0},{isNaN:function(h){return h!==h}})},{"../internals/export":259}],364:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/object-assign");f({target:"Object",stat:!0,arity:2,forced:Object.assign!==u},{assign:u})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),s=e("../internals/object-get-own-property-symbols"),t=e("../internals/to-object"),i=!u||h(function(){s.f(1)});f({target:"Object",stat:!0,forced:i},{getOwnPropertySymbols:function(n){var l=s.f;return l?l(t(n)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/to-object"),h=e("../internals/object-keys"),s=e("../internals/fails"),t=s(function(){h(1)});f({target:"Object",stat:!0,forced:t},{keys:function(r){return h(u(r))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/object-to-array").values;f({target:"Object",stat:!0},{values:function(s){return u(s)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/function-call"),h=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),t=e("../internals/perform"),i=e("../internals/iterate"),r=e("../internals/promise-statics-incorrect-iteration");f({target:"Promise",stat:!0,forced:r},{all:function(l){var d=this,a=s.f(d),v=a.resolve,y=a.reject,p=t(function(){var E=h(d.resolve),T=[],S=0,A=1;i(l,function(w){var I=S++,D=!1;A++,u(E,d,w).then(function(V){D||(D=!0,T[I]=V,--A||v(T))},y)}),--A||v(T)});return p.error&&y(p.value),a.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/is-pure"),h=e("../internals/promise-constructor-detection").CONSTRUCTOR,s=e("../internals/promise-native-constructor"),t=e("../internals/get-built-in"),i=e("../internals/is-callable"),r=e("../internals/define-built-in"),n=s&&s.prototype;if(f({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(d){return this.then(void 0,d)}}),!u&&i(s)){var l=t("Promise").prototype.catch;n.catch!==l&&r(n,"catch",l,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/is-pure"),h=e("../internals/engine-is-node"),s=e("../internals/global"),t=e("../internals/function-call"),i=e("../internals/define-built-in"),r=e("../internals/object-set-prototype-of"),n=e("../internals/set-to-string-tag"),l=e("../internals/set-species"),d=e("../internals/a-callable"),a=e("../internals/is-callable"),v=e("../internals/is-object"),y=e("../internals/an-instance"),p=e("../internals/species-constructor"),E=e("../internals/task").set,T=e("../internals/microtask"),S=e("../internals/host-report-errors"),A=e("../internals/perform"),w=e("../internals/queue"),I=e("../internals/internal-state"),D=e("../internals/promise-native-constructor"),V=e("../internals/promise-constructor-detection"),ie=e("../internals/new-promise-capability"),te="Promise",re=V.CONSTRUCTOR,Z=V.REJECTION_EVENT,W=V.SUBCLASSING,j=I.getterFor(te),O=I.set,C=D&&D.prototype,F=D,H=C,$=s.TypeError,Y=s.document,z=s.process,B=ie.f,L=B,G=!!(Y&&Y.createEvent&&s.dispatchEvent),le="unhandledrejection",ge="rejectionhandled",Ie=0,Oe=1,Ke=2,De=1,Ee=2,Q,ue,xe,_e,ce=function(ve){var Ae;return v(ve)&&a(Ae=ve.then)?Ae:!1},de=function(ve,Ae){var Be=Ae.value,We=Ae.state===Oe,Je=We?ve.ok:ve.fail,Ge=ve.resolve,et=ve.reject,ut=ve.domain,at,Fe,Qe;try{Je?(We||(Ae.rejection===Ee&&Ne(Ae),Ae.rejection=De),Je===!0?at=Be:(ut&&ut.enter(),at=Je(Be),ut&&(ut.exit(),Qe=!0)),at===ve.promise?et(new $("Promise-chain cycle")):(Fe=ce(at))?t(Fe,at,Ge,et):Ge(at)):et(Be)}catch(rt){ut&&!Qe&&ut.exit(),et(rt)}},he=function(ve,Ae){ve.notified||(ve.notified=!0,T(function(){for(var Be=ve.reactions,We;We=Be.get();)de(We,ve);ve.notified=!1,Ae&&!ve.rejection&&ne(ve)}))},se=function(ve,Ae,Be){var We,Je;G?(We=Y.createEvent("Event"),We.promise=Ae,We.reason=Be,We.initEvent(ve,!1,!0),s.dispatchEvent(We)):We={promise:Ae,reason:Be},!Z&&(Je=s["on"+ve])?Je(We):ve===le&&S("Unhandled promise rejection",Be)},ne=function(ve){t(E,s,function(){var Ae=ve.facade,Be=ve.value,We=we(ve),Je;if(We&&(Je=A(function(){h?z.emit("unhandledRejection",Be,Ae):se(le,Ae,Be)}),ve.rejection=h||we(ve)?Ee:De,Je.error))throw Je.value})},we=function(ve){return ve.rejection!==De&&!ve.parent},Ne=function(ve){t(E,s,function(){var Ae=ve.facade;h?z.emit("rejectionHandled",Ae):se(ge,Ae,ve.value)})},ae=function(ve,Ae,Be){return function(We){ve(Ae,We,Be)}},Pe=function(ve,Ae,Be){ve.done||(ve.done=!0,Be&&(ve=Be),ve.value=Ae,ve.state=Ke,he(ve,!0))},ze=function(ve,Ae,Be){if(!ve.done){ve.done=!0,Be&&(ve=Be);try{if(ve.facade===Ae)throw new $("Promise can't be resolved itself");var We=ce(Ae);We?T(function(){var Je={done:!1};try{t(We,Ae,ae(ze,Je,ve),ae(Pe,Je,ve))}catch(Ge){Pe(Je,Ge,ve)}}):(ve.value=Ae,ve.state=Oe,he(ve,!1))}catch(Je){Pe({done:!1},Je,ve)}}};if(re&&(F=function(Ae){y(this,H),d(Ae),t(Q,this);var Be=j(this);try{Ae(ae(ze,Be),ae(Pe,Be))}catch(We){Pe(Be,We)}},H=F.prototype,Q=function(Ae){O(this,{type:te,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:Ie,value:void 0})},Q.prototype=i(H,"then",function(Ae,Be){var We=j(this),Je=B(p(this,F));return We.parent=!0,Je.ok=a(Ae)?Ae:!0,Je.fail=a(Be)&&Be,Je.domain=h?z.domain:void 0,We.state===Ie?We.reactions.add(Je):T(function(){de(Je,We)}),Je.promise}),ue=function(){var ve=new Q,Ae=j(ve);this.promise=ve,this.resolve=ae(ze,Ae),this.reject=ae(Pe,Ae)},ie.f=B=function(ve){return ve===F||ve===xe?new ue(ve):L(ve)},!u&&a(D)&&C!==Object.prototype)){_e=C.then,W||i(C,"then",function(Ae,Be){var We=this;return new F(function(Je,Ge){t(_e,We,Je,Ge)}).then(Ae,Be)},{unsafe:!0});try{delete C.constructor}catch{}r&&r(C,H)}f({global:!0,constructor:!0,wrap:!0,forced:re},{Promise:F}),n(F,te,!1,!0),l(te)},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/is-pure"),h=e("../internals/promise-native-constructor"),s=e("../internals/fails"),t=e("../internals/get-built-in"),i=e("../internals/is-callable"),r=e("../internals/species-constructor"),n=e("../internals/promise-resolve"),l=e("../internals/define-built-in"),d=h&&h.prototype,a=!!h&&s(function(){d.finally.call({then:function(){}},function(){})});if(f({target:"Promise",proto:!0,real:!0,forced:a},{finally:function(y){var p=r(this,t("Promise")),E=i(y);return this.then(E?function(T){return n(p,y()).then(function(){return T})}:y,E?function(T){return n(p,y()).then(function(){throw T})}:y)}}),!u&&i(h)){var v=t("Promise").prototype.finally;d.finally!==v&&l(d,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,m,g){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/function-call"),h=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),t=e("../internals/perform"),i=e("../internals/iterate"),r=e("../internals/promise-statics-incorrect-iteration");f({target:"Promise",stat:!0,forced:r},{race:function(l){var d=this,a=s.f(d),v=a.reject,y=t(function(){var p=h(d.resolve);i(l,function(E){u(p,d,E).then(a.resolve,v)})});return y.error&&v(y.value),a.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/function-call"),h=e("../internals/new-promise-capability"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR;f({target:"Promise",stat:!0,forced:s},{reject:function(i){var r=h.f(this);return u(r.reject,void 0,i),r.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/get-built-in"),h=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),t=e("../internals/promise-constructor-detection").CONSTRUCTOR,i=e("../internals/promise-resolve"),r=u("Promise"),n=h&&!t;f({target:"Promise",stat:!0,forced:h||t},{resolve:function(d){return i(n&&this===r?s:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/function-uncurry-this"),h=e("../internals/to-absolute-index"),s=RangeError,t=String.fromCharCode,i=String.fromCodePoint,r=u([].join),n=!!i&&i.length!==1;f({target:"String",stat:!0,arity:1,forced:n},{fromCodePoint:function(d){for(var a=[],v=arguments.length,y=0,p;v>y;){if(p=+arguments[y++],h(p,1114111)!==p)throw new s(p+" is not a valid code point");a[y]=p<65536?t(p):t(((p-=65536)>>10)+55296,p%1024+56320)}return r(a,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/function-uncurry-this"),h=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),t=e("../internals/to-string"),i=e("../internals/correct-is-regexp-logic"),r=u("".indexOf);f({target:"String",proto:!0,forced:!i("includes")},{includes:function(l){return!!~r(t(s(this)),t(h(l)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,m,g){var f=e("../internals/well-known-symbol-define");f("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/global"),h=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),t=e("../internals/is-pure"),i=e("../internals/descriptors"),r=e("../internals/symbol-constructor-detection"),n=e("../internals/fails"),l=e("../internals/has-own-property"),d=e("../internals/object-is-prototype-of"),a=e("../internals/an-object"),v=e("../internals/to-indexed-object"),y=e("../internals/to-property-key"),p=e("../internals/to-string"),E=e("../internals/create-property-descriptor"),T=e("../internals/object-create"),S=e("../internals/object-keys"),A=e("../internals/object-get-own-property-names"),w=e("../internals/object-get-own-property-names-external"),I=e("../internals/object-get-own-property-symbols"),D=e("../internals/object-get-own-property-descriptor"),V=e("../internals/object-define-property"),ie=e("../internals/object-define-properties"),te=e("../internals/object-property-is-enumerable"),re=e("../internals/define-built-in"),Z=e("../internals/define-built-in-accessor"),W=e("../internals/shared"),j=e("../internals/shared-key"),O=e("../internals/hidden-keys"),C=e("../internals/uid"),F=e("../internals/well-known-symbol"),H=e("../internals/well-known-symbol-wrapped"),$=e("../internals/well-known-symbol-define"),Y=e("../internals/symbol-define-to-primitive"),z=e("../internals/set-to-string-tag"),B=e("../internals/internal-state"),L=e("../internals/array-iteration").forEach,G=j("hidden"),le="Symbol",ge="prototype",Ie=B.set,Oe=B.getterFor(le),Ke=Object[ge],De=u.Symbol,Ee=De&&De[ge],Q=u.RangeError,ue=u.TypeError,xe=u.QObject,_e=D.f,ce=V.f,de=w.f,he=te.f,se=s([].push),ne=W("symbols"),we=W("op-symbols"),Ne=W("wks"),ae=!xe||!xe[ge]||!xe[ge].findChild,Pe=function(at,Fe,Qe){var rt=_e(Ke,Fe);rt&&delete Ke[Fe],ce(at,Fe,Qe),rt&&at!==Ke&&ce(Ke,Fe,rt)},ze=i&&n(function(){return T(ce({},"a",{get:function(){return ce(this,"a",{value:7}).a}})).a!==7})?Pe:ce,ve=function(at,Fe){var Qe=ne[at]=T(Ee);return Ie(Qe,{type:le,tag:at,description:Fe}),i||(Qe.description=Fe),Qe},Ae=function(Fe,Qe,rt){Fe===Ke&&Ae(we,Qe,rt),a(Fe);var mt=y(Qe);return a(rt),l(ne,mt)?(rt.enumerable?(l(Fe,G)&&Fe[G][mt]&&(Fe[G][mt]=!1),rt=T(rt,{enumerable:E(0,!1)})):(l(Fe,G)||ce(Fe,G,E(1,{})),Fe[G][mt]=!0),ze(Fe,mt,rt)):ce(Fe,mt,rt)},Be=function(Fe,Qe){a(Fe);var rt=v(Qe),mt=S(rt).concat(ut(rt));return L(mt,function(Ut){(!i||h(Je,rt,Ut))&&Ae(Fe,Ut,rt[Ut])}),Fe},We=function(Fe,Qe){return Qe===void 0?T(Fe):Be(T(Fe),Qe)},Je=function(Fe){var Qe=y(Fe),rt=h(he,this,Qe);return this===Ke&&l(ne,Qe)&&!l(we,Qe)?!1:rt||!l(this,Qe)||!l(ne,Qe)||l(this,G)&&this[G][Qe]?rt:!0},Ge=function(Fe,Qe){var rt=v(Fe),mt=y(Qe);if(!(rt===Ke&&l(ne,mt)&&!l(we,mt))){var Ut=_e(rt,mt);return Ut&&l(ne,mt)&&!(l(rt,G)&&rt[G][mt])&&(Ut.enumerable=!0),Ut}},et=function(Fe){var Qe=de(v(Fe)),rt=[];return L(Qe,function(mt){!l(ne,mt)&&!l(O,mt)&&se(rt,mt)}),rt},ut=function(at){var Fe=at===Ke,Qe=de(Fe?we:v(at)),rt=[];return L(Qe,function(mt){l(ne,mt)&&(!Fe||l(Ke,mt))&&se(rt,ne[mt])}),rt};r||(De=function(){if(d(Ee,this))throw new ue("Symbol is not a constructor");var Fe=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),Qe=C(Fe),rt=function(mt){this===Ke&&h(rt,we,mt),l(this,G)&&l(this[G],Qe)&&(this[G][Qe]=!1);var Ut=E(1,mt);try{ze(this,Qe,Ut)}catch(jt){if(!(jt instanceof Q))throw jt;Pe(this,Qe,Ut)}};return i&&ae&&ze(Ke,Qe,{configurable:!0,set:rt}),ve(Qe,Fe)},Ee=De[ge],re(Ee,"toString",function(){return Oe(this).tag}),re(De,"withoutSetter",function(at){return ve(C(at),at)}),te.f=Je,V.f=Ae,ie.f=Be,D.f=Ge,A.f=w.f=et,I.f=ut,H.f=function(at){return ve(F(at),at)},i&&(Z(Ee,"description",{configurable:!0,get:function(){return Oe(this).description}}),t||re(Ke,"propertyIsEnumerable",Je,{unsafe:!0}))),f({global:!0,constructor:!0,wrap:!0,forced:!r,sham:!r},{Symbol:De}),L(S(Ne),function(at){$(at)}),f({target:le,stat:!0,forced:!r},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),f({target:"Object",stat:!0,forced:!r,sham:!i},{create:We,defineProperty:Ae,defineProperties:Be,getOwnPropertyDescriptor:Ge}),f({target:"Object",stat:!0,forced:!r},{getOwnPropertyNames:et}),Y(),z(De,le),O[G]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/get-built-in"),h=e("../internals/has-own-property"),s=e("../internals/to-string"),t=e("../internals/shared"),i=e("../internals/symbol-registry-detection"),r=t("string-to-symbol-registry"),n=t("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!i},{for:function(l){var d=s(l);if(h(r,d))return r[d];var a=u("Symbol")(d);return r[d]=a,n[a]=d,a}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,m,g){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,m,g){var f=e("../internals/export"),u=e("../internals/has-own-property"),h=e("../internals/is-symbol"),s=e("../internals/try-to-string"),t=e("../internals/shared"),i=e("../internals/symbol-registry-detection"),r=t("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!i},{keyFor:function(l){if(!h(l))throw new TypeError(s(l)+" is not a symbol");if(u(r,l))return r[l]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,m,g){function f(T){return Array.isArray?Array.isArray(T):E(T)==="[object Array]"}g.isArray=f;function u(T){return typeof T=="boolean"}g.isBoolean=u;function h(T){return T===null}g.isNull=h;function s(T){return T==null}g.isNullOrUndefined=s;function t(T){return typeof T=="number"}g.isNumber=t;function i(T){return typeof T=="string"}g.isString=i;function r(T){return typeof T=="symbol"}g.isSymbol=r;function n(T){return T===void 0}g.isUndefined=n;function l(T){return E(T)==="[object RegExp]"}g.isRegExp=l;function d(T){return typeof T=="object"&&T!==null}g.isObject=d;function a(T){return E(T)==="[object Date]"}g.isDate=a;function v(T){return E(T)==="[object Error]"||T instanceof Error}g.isError=v;function y(T){return typeof T=="function"}g.isFunction=y;function p(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||typeof T=="symbol"||typeof T>"u"}g.isPrimitive=p,g.isBuffer=e("buffer").Buffer.isBuffer;function E(T){return Object.prototype.toString.call(T)}},{buffer:220}],384:[function(e,m,g){(function(f){(function(){var u=e("elliptic"),h=e("bn.js");m.exports=function(n){return new t(n)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1;function t(r){this.curveType=s[r],this.curveType||(this.curveType={name:r}),this.curve=new u.ec(this.curveType.name),this.keys=void 0}t.prototype.generateKeys=function(r,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(r,n)},t.prototype.computeSecret=function(r,n,l){n=n||"utf8",f.isBuffer(r)||(r=new f(r,n));var d=this.curve.keyFromPublic(r).getPublic(),a=d.mul(this.keys.getPrivate()).getX();return i(a,l,this.curveType.byteLength)},t.prototype.getPublicKey=function(r,n){var l=this.keys.getPublic(n==="compressed",!0);return n==="hybrid"&&(l[l.length-1]%2?l[0]=7:l[0]=6),i(l,r)},t.prototype.getPrivateKey=function(r){return i(this.keys.getPrivate(),r)},t.prototype.setPublicKey=function(r,n){return n=n||"utf8",f.isBuffer(r)||(r=new f(r,n)),this.keys._importPublic(r),this},t.prototype.setPrivateKey=function(r,n){n=n||"utf8",f.isBuffer(r)||(r=new f(r,n));var l=new h(r);return l=l.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(l),this};function i(r,n,l){Array.isArray(r)||(r=r.toArray());var d=new f(r);if(l&&d.length<l){var a=new f(l-d.length);a.fill(0),d=f.concat([a,d])}return n?d.toString(n):d}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,m,g){arguments[4][184][0].apply(g,arguments)},{buffer:188,dup:184}],386:[function(e,m,g){var f=e("inherits"),u=e("md5.js"),h=e("ripemd160"),s=e("sha.js"),t=e("cipher-base");function i(r){t.call(this,"digest"),this._hash=r}f(i,t),i.prototype._update=function(r){this._hash.update(r)},i.prototype._final=function(){return this._hash.digest()},m.exports=function(n){return n=n.toLowerCase(),n==="md5"?new u:n==="rmd160"||n==="ripemd160"?new h:new i(s(n))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,m,g){var f=e("md5.js");m.exports=function(u){return new f().update(u).digest()}},{"md5.js":450}],388:[function(e,m,g){var f=e("inherits"),u=e("./legacy"),h=e("cipher-base"),s=e("safe-buffer").Buffer,t=e("create-hash/md5"),i=e("ripemd160"),r=e("sha.js"),n=s.alloc(128);function l(d,a){h.call(this,"digest"),typeof a=="string"&&(a=s.from(a));var v=d==="sha512"||d==="sha384"?128:64;if(this._alg=d,this._key=a,a.length>v){var y=d==="rmd160"?new i:r(d);a=y.update(a).digest()}else a.length<v&&(a=s.concat([a,n],v));for(var p=this._ipad=s.allocUnsafe(v),E=this._opad=s.allocUnsafe(v),T=0;T<v;T++)p[T]=a[T]^54,E[T]=a[T]^92;this._hash=d==="rmd160"?new i:r(d),this._hash.update(p)}f(l,h),l.prototype._update=function(d){this._hash.update(d)},l.prototype._final=function(){var d=this._hash.digest(),a=this._alg==="rmd160"?new i:r(this._alg);return a.update(this._opad).update(d).digest()},m.exports=function(a,v){return a=a.toLowerCase(),a==="rmd160"||a==="ripemd160"?new l("rmd160",v):a==="md5"?new u(t,v):new l(a,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,m,g){var f=e("inherits"),u=e("safe-buffer").Buffer,h=e("cipher-base"),s=u.alloc(128),t=64;function i(r,n){h.call(this,"digest"),typeof n=="string"&&(n=u.from(n)),this._alg=r,this._key=n,n.length>t?n=r(n):n.length<t&&(n=u.concat([n,s],t));for(var l=this._ipad=u.allocUnsafe(t),d=this._opad=u.allocUnsafe(t),a=0;a<t;a++)l[a]=n[a]^54,d[a]=n[a]^92;this._hash=[l]}f(i,h),i.prototype._update=function(r){this._hash.push(r)},i.prototype._final=function(){var r=this._alg(u.concat(this._hash));return this._alg(u.concat([this._opad,r]))},m.exports=i},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,m,g){g.randomBytes=g.rng=g.pseudoRandomBytes=g.prng=e("randombytes"),g.createHash=g.Hash=e("create-hash"),g.createHmac=g.Hmac=e("create-hmac");var f=e("browserify-sign/algos"),u=Object.keys(f),h=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(u);g.getHashes=function(){return h};var s=e("pbkdf2");g.pbkdf2=s.pbkdf2,g.pbkdf2Sync=s.pbkdf2Sync;var t=e("browserify-cipher");g.Cipher=t.Cipher,g.createCipher=t.createCipher,g.Cipheriv=t.Cipheriv,g.createCipheriv=t.createCipheriv,g.Decipher=t.Decipher,g.createDecipher=t.createDecipher,g.Decipheriv=t.Decipheriv,g.createDecipheriv=t.createDecipheriv,g.getCiphers=t.getCiphers,g.listCiphers=t.listCiphers;var i=e("diffie-hellman");g.DiffieHellmanGroup=i.DiffieHellmanGroup,g.createDiffieHellmanGroup=i.createDiffieHellmanGroup,g.getDiffieHellman=i.getDiffieHellman,g.createDiffieHellman=i.createDiffieHellman,g.DiffieHellman=i.DiffieHellman;var r=e("browserify-sign");g.createSign=r.createSign,g.Sign=r.Sign,g.createVerify=r.createVerify,g.Verify=r.Verify,g.createECDH=e("create-ecdh");var n=e("public-encrypt");g.publicEncrypt=n.publicEncrypt,g.privateEncrypt=n.privateEncrypt,g.publicDecrypt=n.publicDecrypt,g.privateDecrypt=n.privateDecrypt;var l=e("randomfill");g.randomFill=l.randomFill,g.randomFillSync=l.randomFillSync,g.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},g.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,m,g){(function(f,u){typeof g=="object"&&typeof m<"u"?m.exports=u():(f=typeof globalThis<"u"?globalThis:f||self).dayjs=u()})(void 0,function(){var f=1e3,u=6e4,h=36e5,s="millisecond",t="second",i="minute",r="hour",n="day",l="week",d="month",a="quarter",v="year",y="date",p="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var C=["th","st","nd","rd"],F=O%100;return"["+O+(C[(F-20)%10]||C[F]||C[0])+"]"}},A=function(O,C,F){var H=String(O);return!H||H.length>=C?O:""+Array(C+1-H.length).join(F)+O},w={s:A,z:function(O){var C=-O.utcOffset(),F=Math.abs(C),H=Math.floor(F/60),$=F%60;return(C<=0?"+":"-")+A(H,2,"0")+":"+A($,2,"0")},m:function O(C,F){if(C.date()<F.date())return-O(F,C);var H=12*(F.year()-C.year())+(F.month()-C.month()),$=C.clone().add(H,d),Y=F-$<0,z=C.clone().add(H+(Y?-1:1),d);return+(-(H+(F-$)/(Y?$-z:z-$))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:v,w:l,d:n,D:y,h:r,m:i,s:t,ms:s,Q:a}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},I="en",D={};D[I]=S;var V="$isDayjsObject",ie=function(O){return O instanceof W||!(!O||!O[V])},te=function O(C,F,H){var $;if(!C)return I;if(typeof C=="string"){var Y=C.toLowerCase();D[Y]&&($=Y),F&&(D[Y]=F,$=Y);var z=C.split("-");if(!$&&z.length>1)return O(z[0])}else{var B=C.name;D[B]=C,$=B}return!H&&$&&(I=$),$||!H&&I},re=function(O,C){if(ie(O))return O.clone();var F=typeof C=="object"?C:{};return F.date=O,F.args=arguments,new W(F)},Z=w;Z.l=te,Z.i=ie,Z.w=function(O,C){return re(O,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var W=function(){function O(F){this.$L=te(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[V]=!0}var C=O.prototype;return C.parse=function(F){this.$d=function(H){var $=H.date,Y=H.utc;if($===null)return new Date(NaN);if(Z.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var z=$.match(E);if(z){var B=z[2]-1||0,L=(z[7]||"0").substring(0,3);return Y?new Date(Date.UTC(z[1],B,z[3]||1,z[4]||0,z[5]||0,z[6]||0,L)):new Date(z[1],B,z[3]||1,z[4]||0,z[5]||0,z[6]||0,L)}}return new Date($)}(F),this.init()},C.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},C.$utils=function(){return Z},C.isValid=function(){return this.$d.toString()!==p},C.isSame=function(F,H){var $=re(F);return this.startOf(H)<=$&&$<=this.endOf(H)},C.isAfter=function(F,H){return re(F)<this.startOf(H)},C.isBefore=function(F,H){return this.endOf(H)<re(F)},C.$g=function(F,H,$){return Z.u(F)?this[H]:this.set($,F)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(F,H){var $=this,Y=!!Z.u(H)||H,z=Z.p(F),B=function(De,Ee){var Q=Z.w($.$u?Date.UTC($.$y,Ee,De):new Date($.$y,Ee,De),$);return Y?Q:Q.endOf(n)},L=function(De,Ee){return Z.w($.toDate()[De].apply($.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(Ee)),$)},G=this.$W,le=this.$M,ge=this.$D,Ie="set"+(this.$u?"UTC":"");switch(z){case v:return Y?B(1,0):B(31,11);case d:return Y?B(1,le):B(0,le+1);case l:var Oe=this.$locale().weekStart||0,Ke=(G<Oe?G+7:G)-Oe;return B(Y?ge-Ke:ge+(6-Ke),le);case n:case y:return L(Ie+"Hours",0);case r:return L(Ie+"Minutes",1);case i:return L(Ie+"Seconds",2);case t:return L(Ie+"Milliseconds",3);default:return this.clone()}},C.endOf=function(F){return this.startOf(F,!1)},C.$set=function(F,H){var $,Y=Z.p(F),z="set"+(this.$u?"UTC":""),B=($={},$[n]=z+"Date",$[y]=z+"Date",$[d]=z+"Month",$[v]=z+"FullYear",$[r]=z+"Hours",$[i]=z+"Minutes",$[t]=z+"Seconds",$[s]=z+"Milliseconds",$)[Y],L=Y===n?this.$D+(H-this.$W):H;if(Y===d||Y===v){var G=this.clone().set(y,1);G.$d[B](L),G.init(),this.$d=G.set(y,Math.min(this.$D,G.daysInMonth())).$d}else B&&this.$d[B](L);return this.init(),this},C.set=function(F,H){return this.clone().$set(F,H)},C.get=function(F){return this[Z.p(F)]()},C.add=function(F,H){var $,Y=this;F=Number(F);var z=Z.p(H),B=function(le){var ge=re(Y);return Z.w(ge.date(ge.date()+Math.round(le*F)),Y)};if(z===d)return this.set(d,this.$M+F);if(z===v)return this.set(v,this.$y+F);if(z===n)return B(1);if(z===l)return B(7);var L=($={},$[i]=u,$[r]=h,$[t]=f,$)[z]||1,G=this.$d.getTime()+F*L;return Z.w(G,this)},C.subtract=function(F,H){return this.add(-1*F,H)},C.format=function(F){var H=this,$=this.$locale();if(!this.isValid())return $.invalidDate||p;var Y=F||"YYYY-MM-DDTHH:mm:ssZ",z=Z.z(this),B=this.$H,L=this.$m,G=this.$M,le=$.weekdays,ge=$.months,Ie=$.meridiem,Oe=function(Ee,Q,ue,xe){return Ee&&(Ee[Q]||Ee(H,Y))||ue[Q].slice(0,xe)},Ke=function(Ee){return Z.s(B%12||12,Ee,"0")},De=Ie||function(Ee,Q,ue){var xe=Ee<12?"AM":"PM";return ue?xe.toLowerCase():xe};return Y.replace(T,function(Ee,Q){return Q||function(ue){switch(ue){case"YY":return String(H.$y).slice(-2);case"YYYY":return Z.s(H.$y,4,"0");case"M":return G+1;case"MM":return Z.s(G+1,2,"0");case"MMM":return Oe($.monthsShort,G,ge,3);case"MMMM":return Oe(ge,G);case"D":return H.$D;case"DD":return Z.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return Oe($.weekdaysMin,H.$W,le,2);case"ddd":return Oe($.weekdaysShort,H.$W,le,3);case"dddd":return le[H.$W];case"H":return String(B);case"HH":return Z.s(B,2,"0");case"h":return Ke(1);case"hh":return Ke(2);case"a":return De(B,L,!0);case"A":return De(B,L,!1);case"m":return String(L);case"mm":return Z.s(L,2,"0");case"s":return String(H.$s);case"ss":return Z.s(H.$s,2,"0");case"SSS":return Z.s(H.$ms,3,"0");case"Z":return z}return null}(Ee)||z.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(F,H,$){var Y,z=this,B=Z.p(H),L=re(F),G=(L.utcOffset()-this.utcOffset())*u,le=this-L,ge=function(){return Z.m(z,L)};switch(B){case v:Y=ge()/12;break;case d:Y=ge();break;case a:Y=ge()/3;break;case l:Y=(le-G)/6048e5;break;case n:Y=(le-G)/864e5;break;case r:Y=le/h;break;case i:Y=le/u;break;case t:Y=le/f;break;default:Y=le}return $?Y:Z.a(Y)},C.daysInMonth=function(){return this.endOf(d).$D},C.$locale=function(){return D[this.$L]},C.locale=function(F,H){if(!F)return this.$L;var $=this.clone(),Y=te(F,H,!0);return Y&&($.$L=Y),$},C.clone=function(){return Z.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},O}(),j=W.prototype;return re.prototype=j,[["$ms",s],["$s",t],["$m",i],["$H",r],["$W",n],["$M",d],["$y",v],["$D",y]].forEach(function(O){j[O[1]]=function(C){return this.$g(C,O[0],O[1])}}),re.extend=function(O,C){return O.$i||(O(C,W,re),O.$i=!0),re},re.locale=te,re.isDayjs=ie,re.unix=function(O){return re(1e3*O)},re.en=D[I],re.Ls=D,re.p={},re})},{}],392:[function(e,m,g){(function(f,u){typeof g=="object"&&typeof m<"u"?m.exports=u():(f=typeof globalThis<"u"?globalThis:f||self).dayjs_plugin_customParseFormat=u()})(void 0,function(){var f={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,h=/\d\d/,s=/\d\d?/,t=/\d*[^-_:/,()\s\d]+/,i={},r=function(p){return(p=+p)+(p>68?1900:2e3)},n=function(p){return function(E){this[p]=+E}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var T=E.match(/([+-]|\d\d)/g),S=60*T[1]+(+T[2]||0);return S===0?0:T[0]==="+"?-S:S}(p)}],d=function(p){var E=i[p];return E&&(E.indexOf?E:E.s.concat(E.f))},a=function(p,E){var T,S=i.meridiem;if(S){for(var A=1;A<=24;A+=1)if(p.indexOf(S(A,0,E))>-1){T=A>12;break}}else T=p===(E?"pm":"PM");return T},v={A:[t,function(p){this.afternoon=a(p,!1)}],a:[t,function(p){this.afternoon=a(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[h,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,n("seconds")],ss:[s,n("seconds")],m:[s,n("minutes")],mm:[s,n("minutes")],H:[s,n("hours")],h:[s,n("hours")],HH:[s,n("hours")],hh:[s,n("hours")],D:[s,n("day")],DD:[h,n("day")],Do:[t,function(p){var E=i.ordinal,T=p.match(/\d+/);if(this.day=T[0],E)for(var S=1;S<=31;S+=1)E(S).replace(/\[|\]/g,"")===p&&(this.day=S)}],M:[s,n("month")],MM:[h,n("month")],MMM:[t,function(p){var E=d("months"),T=(d("monthsShort")||E.map(function(S){return S.slice(0,3)})).indexOf(p)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[t,function(p){var E=d("months").indexOf(p)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,n("year")],YY:[h,function(p){this.year=r(p)}],YYYY:[/\d{4}/,n("year")],Z:l,ZZ:l};function y(p){var E,T;E=p,T=i&&i.formats;for(var S=(p=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(te,re,Z){var W=Z&&Z.toUpperCase();return re||T[Z]||f[Z]||T[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,O,C){return O||C.slice(1)})})).match(u),A=S.length,w=0;w<A;w+=1){var I=S[w],D=v[I],V=D&&D[0],ie=D&&D[1];S[w]=ie?{regex:V,parser:ie}:I.replace(/^\[|\]$/g,"")}return function(te){for(var re={},Z=0,W=0;Z<A;Z+=1){var j=S[Z];if(typeof j=="string")W+=j.length;else{var O=j.regex,C=j.parser,F=te.slice(W),H=O.exec(F)[0];C.call(re,H),te=te.replace(H,"")}}return function($){var Y=$.afternoon;if(Y!==void 0){var z=$.hours;Y?z<12&&($.hours+=12):z===12&&($.hours=0),delete $.afternoon}}(re),re}}return function(p,E,T){T.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(r=p.parseTwoDigitYear);var S=E.prototype,A=S.parse;S.parse=function(w){var I=w.date,D=w.utc,V=w.args;this.$u=D;var ie=V[1];if(typeof ie=="string"){var te=V[2]===!0,re=V[3]===!0,Z=te||re,W=V[2];re&&(W=V[2]),i=this.$locale(),!te&&W&&(i=T.Ls[W]),this.$d=function(F,H,$){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*F);var Y=y(H)(F),z=Y.year,B=Y.month,L=Y.day,G=Y.hours,le=Y.minutes,ge=Y.seconds,Ie=Y.milliseconds,Oe=Y.zone,Ke=new Date,De=L||(z||B?1:Ke.getDate()),Ee=z||Ke.getFullYear(),Q=0;z&&!B||(Q=B>0?B-1:Ke.getMonth());var ue=G||0,xe=le||0,_e=ge||0,ce=Ie||0;return Oe?new Date(Date.UTC(Ee,Q,De,ue,xe,_e,ce+60*Oe.offset*1e3)):$?new Date(Date.UTC(Ee,Q,De,ue,xe,_e,ce)):new Date(Ee,Q,De,ue,xe,_e,ce)}catch{return new Date("")}}(I,ie,D),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),Z&&I!=this.format(ie)&&(this.$d=new Date("")),i={}}else if(ie instanceof Array)for(var j=ie.length,O=1;O<=j;O+=1){V[1]=ie[O-1];var C=T.apply(this,V);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}O===j&&(this.$d=new Date(""))}else A.call(this,w)}}})},{}],393:[function(e,m,g){(function(f,u){typeof g=="object"&&typeof m<"u"?m.exports=u():(f=typeof globalThis<"u"?globalThis:f||self).dayjs_plugin_utc=u()})(void 0,function(){var f="minute",u=/[+-]\d\d(?::?\d\d)?/g,h=/([+-]|\d\d)/g;return function(s,t,i){var r=t.prototype;i.utc=function(p){var E={date:p,utc:!0,args:arguments};return new t(E)},r.utc=function(p){var E=i(this.toDate(),{locale:this.$L,utc:!0});return p?E.add(this.utcOffset(),f):E},r.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var n=r.parse;r.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),n.call(this,p)};var l=r.init;r.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else l.call(this)};var d=r.utcOffset;r.utcOffset=function(p,E){var T=this.$utils().u;if(T(p))return this.$u?0:T(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=function(I){I===void 0&&(I="");var D=I.match(u);if(!D)return null;var V=(""+D[0]).match(h)||["-",0,0],ie=V[0],te=60*+V[1]+ +V[2];return te===0?0:ie==="+"?te:-te}(p),p===null))return this;var S=Math.abs(p)<=16?60*p:p,A=this;if(E)return A.$offset=S,A.$u=p===0,A;if(p!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(S+w,f)).$offset=S,A.$x.$localOffset=w}else A=this.utc();return A};var a=r.format;r.format=function(p){var E=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return a.call(this,E)},r.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var v=r.toDate;r.toDate=function(p){return p==="s"&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var y=r.diff;r.diff=function(p,E,T){if(p&&this.$u===p.$u)return y.call(this,p,E,T);var S=this.local(),A=i(p).local();return y.call(S,A,E,T)}}})},{}],394:[function(e,m,g){g.utils=e("./des/utils"),g.Cipher=e("./des/cipher"),g.DES=e("./des/des"),g.CBC=e("./des/cbc"),g.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,m,g){var f=e("minimalistic-assert"),u=e("inherits"),h={};function s(i){f.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var r=0;r<this.iv.length;r++)this.iv[r]=i[r]}function t(i){function r(a){i.call(this,a),this._cbcInit()}u(r,i);for(var n=Object.keys(h),l=0;l<n.length;l++){var d=n[l];r.prototype[d]=h[d]}return r.create=function(v){return new r(v)},r}g.instantiate=t,h._cbcInit=function(){var r=new s(this.options.iv);this._cbcState=r},h._update=function(r,n,l,d){var a=this._cbcState,v=this.constructor.super_.prototype,y=a.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)y[p]^=r[n+p];v._update.call(this,y,0,l,d);for(var p=0;p<this.blockSize;p++)y[p]=l[d+p]}else{v._update.call(this,r,n,l,d);for(var p=0;p<this.blockSize;p++)l[d+p]^=y[p];for(var p=0;p<this.blockSize;p++)y[p]=r[n+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,m,g){var f=e("minimalistic-assert");function u(h){this.options=h,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=h.padding!==!1}m.exports=u,u.prototype._init=function(){},u.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},u.prototype._buffer=function(s,t){for(var i=Math.min(this.buffer.length-this.bufferOff,s.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=s[t+r];return this.bufferOff+=i,i},u.prototype._flushBuffer=function(s,t){return this._update(this.buffer,0,s,t),this.bufferOff=0,this.blockSize},u.prototype._updateEncrypt=function(s){var t=0,i=0,r=(this.bufferOff+s.length)/this.blockSize|0,n=new Array(r*this.blockSize);this.bufferOff!==0&&(t+=this._buffer(s,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(n,i)));for(var l=s.length-(s.length-t)%this.blockSize;t<l;t+=this.blockSize)this._update(s,t,n,i),i+=this.blockSize;for(;t<s.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=s[t];return n},u.prototype._updateDecrypt=function(s){for(var t=0,i=0,r=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,n=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(s,t),i+=this._flushBuffer(n,i);return t+=this._buffer(s,t),n},u.prototype.final=function(s){var t;s&&(t=this.update(s));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),t?t.concat(i):i},u.prototype._pad=function(s,t){if(t===0)return!1;for(;t<s.length;)s[t++]=0;return!0},u.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},u.prototype._unpad=function(s){return s},u.prototype._finalDecrypt=function(){f.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)}},{"minimalistic-assert":453}],397:[function(e,m,g){var f=e("minimalistic-assert"),u=e("inherits"),h=e("./utils"),s=e("./cipher");function t(){this.tmp=new Array(2),this.keys=null}function i(n){s.call(this,n);var l=new t;this._desState=l,this.deriveKeys(l,n.key)}u(i,s),m.exports=i,i.create=function(l){return new i(l)};var r=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(l,d){l.keys=new Array(16*2),f.equal(d.length,this.blockSize,"Invalid key length");var a=h.readUInt32BE(d,0),v=h.readUInt32BE(d,4);h.pc1(a,v,l.tmp,0),a=l.tmp[0],v=l.tmp[1];for(var y=0;y<l.keys.length;y+=2){var p=r[y>>>1];a=h.r28shl(a,p),v=h.r28shl(v,p),h.pc2(a,v,l.keys,y)}},i.prototype._update=function(l,d,a,v){var y=this._desState,p=h.readUInt32BE(l,d),E=h.readUInt32BE(l,d+4);h.ip(p,E,y.tmp,0),p=y.tmp[0],E=y.tmp[1],this.type==="encrypt"?this._encrypt(y,p,E,y.tmp,0):this._decrypt(y,p,E,y.tmp,0),p=y.tmp[0],E=y.tmp[1],h.writeUInt32BE(a,p,v),h.writeUInt32BE(a,E,v+4)},i.prototype._pad=function(l,d){if(this.padding===!1)return!1;for(var a=l.length-d,v=d;v<l.length;v++)l[v]=a;return!0},i.prototype._unpad=function(l){if(this.padding===!1)return l;for(var d=l[l.length-1],a=l.length-d;a<l.length;a++)f.equal(l[a],d);return l.slice(0,l.length-d)},i.prototype._encrypt=function(l,d,a,v,y){for(var p=d,E=a,T=0;T<l.keys.length;T+=2){var S=l.keys[T],A=l.keys[T+1];h.expand(E,l.tmp,0),S^=l.tmp[0],A^=l.tmp[1];var w=h.substitute(S,A),I=h.permute(w),D=E;E=(p^I)>>>0,p=D}h.rip(E,p,v,y)},i.prototype._decrypt=function(l,d,a,v,y){for(var p=a,E=d,T=l.keys.length-2;T>=0;T-=2){var S=l.keys[T],A=l.keys[T+1];h.expand(p,l.tmp,0),S^=l.tmp[0],A^=l.tmp[1];var w=h.substitute(S,A),I=h.permute(w),D=p;p=(E^I)>>>0,E=D}h.rip(p,E,v,y)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,m,g){var f=e("minimalistic-assert"),u=e("inherits"),h=e("./cipher"),s=e("./des");function t(r,n){f.equal(n.length,24,"Invalid key length");var l=n.slice(0,8),d=n.slice(8,16),a=n.slice(16,24);r==="encrypt"?this.ciphers=[s.create({type:"encrypt",key:l}),s.create({type:"decrypt",key:d}),s.create({type:"encrypt",key:a})]:this.ciphers=[s.create({type:"decrypt",key:a}),s.create({type:"encrypt",key:d}),s.create({type:"decrypt",key:l})]}function i(r){h.call(this,r);var n=new t(this.type,this.options.key);this._edeState=n}u(i,h),m.exports=i,i.create=function(n){return new i(n)},i.prototype._update=function(n,l,d,a){var v=this._edeState;v.ciphers[0]._update(n,l,d,a),v.ciphers[1]._update(d,a,d,a),v.ciphers[2]._update(d,a,d,a)},i.prototype._pad=s.prototype._pad,i.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,m,g){g.readUInt32BE=function(t,i){var r=t[0+i]<<24|t[1+i]<<16|t[2+i]<<8|t[3+i];return r>>>0},g.writeUInt32BE=function(t,i,r){t[0+r]=i>>>24,t[1+r]=i>>>16&255,t[2+r]=i>>>8&255,t[3+r]=i&255},g.ip=function(t,i,r,n){for(var l=0,d=0,a=6;a>=0;a-=2){for(var v=0;v<=24;v+=8)l<<=1,l|=i>>>v+a&1;for(var v=0;v<=24;v+=8)l<<=1,l|=t>>>v+a&1}for(var a=6;a>=0;a-=2){for(var v=1;v<=25;v+=8)d<<=1,d|=i>>>v+a&1;for(var v=1;v<=25;v+=8)d<<=1,d|=t>>>v+a&1}r[n+0]=l>>>0,r[n+1]=d>>>0},g.rip=function(t,i,r,n){for(var l=0,d=0,a=0;a<4;a++)for(var v=24;v>=0;v-=8)l<<=1,l|=i>>>v+a&1,l<<=1,l|=t>>>v+a&1;for(var a=4;a<8;a++)for(var v=24;v>=0;v-=8)d<<=1,d|=i>>>v+a&1,d<<=1,d|=t>>>v+a&1;r[n+0]=l>>>0,r[n+1]=d>>>0},g.pc1=function(t,i,r,n){for(var l=0,d=0,a=7;a>=5;a--){for(var v=0;v<=24;v+=8)l<<=1,l|=i>>v+a&1;for(var v=0;v<=24;v+=8)l<<=1,l|=t>>v+a&1}for(var v=0;v<=24;v+=8)l<<=1,l|=i>>v+a&1;for(var a=1;a<=3;a++){for(var v=0;v<=24;v+=8)d<<=1,d|=i>>v+a&1;for(var v=0;v<=24;v+=8)d<<=1,d|=t>>v+a&1}for(var v=0;v<=24;v+=8)d<<=1,d|=t>>v+a&1;r[n+0]=l>>>0,r[n+1]=d>>>0},g.r28shl=function(t,i){return t<<i&268435455|t>>>28-i};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];g.pc2=function(t,i,r,n){for(var l=0,d=0,a=f.length>>>1,v=0;v<a;v++)l<<=1,l|=t>>>f[v]&1;for(var v=a;v<f.length;v++)d<<=1,d|=i>>>f[v]&1;r[n+0]=l>>>0,r[n+1]=d>>>0},g.expand=function(t,i,r){var n=0,l=0;n=(t&1)<<5|t>>>27;for(var d=23;d>=15;d-=4)n<<=6,n|=t>>>d&63;for(var d=11;d>=3;d-=4)l|=t>>>d&63,l<<=6;l|=(t&31)<<1|t>>>31,i[r+0]=n>>>0,i[r+1]=l>>>0};var u=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];g.substitute=function(t,i){for(var r=0,n=0;n<4;n++){var l=t>>>18-n*6&63,d=u[n*64+l];r<<=4,r|=d}for(var n=0;n<4;n++){var l=i>>>18-n*6&63,d=u[4*64+n*64+l];r<<=4,r|=d}return r>>>0};var h=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];g.permute=function(t){for(var i=0,r=0;r<h.length;r++)i<<=1,i|=t>>>h[r]&1;return i>>>0},g.padSplit=function(t,i,r){for(var n=t.toString(2);n.length<i;)n="0"+n;for(var l=[],d=0;d<i;d+=r)l.push(n.slice(d,d+r));return l.join(" ")}},{}],400:[function(e,m,g){(function(f){(function(){var u=e("./lib/generatePrime"),h=e("./lib/primes.json"),s=e("./lib/dh");function t(n){var l=new f(h[n].prime,"hex"),d=new f(h[n].gen,"hex");return new s(l,d)}var i={binary:!0,hex:!0,base64:!0};function r(n,l,d,a){return f.isBuffer(l)||i[l]===void 0?r(n,"binary",l,d):(l=l||"binary",a=a||"binary",d=d||new f([2]),f.isBuffer(d)||(d=new f(d,a)),typeof n=="number"?new s(u(n,d),d,!0):(f.isBuffer(n)||(n=new f(n,l)),new s(n,d,!0)))}g.DiffieHellmanGroup=g.createDiffieHellmanGroup=g.getDiffieHellman=t,g.createDiffieHellman=g.DiffieHellman=r}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,m,g){(function(f){(function(){var u=e("bn.js"),h=e("miller-rabin"),s=new h,t=new u(24),i=new u(11),r=new u(10),n=new u(3),l=new u(7),d=e("./generatePrime"),a=e("randombytes");m.exports=T;function v(A,w){return w=w||"utf8",f.isBuffer(A)||(A=new f(A,w)),this._pub=new u(A),this}function y(A,w){return w=w||"utf8",f.isBuffer(A)||(A=new f(A,w)),this._priv=new u(A),this}var p={};function E(A,w){var I=w.toString("hex"),D=[I,A.toString(16)].join("_");if(D in p)return p[D];var V=0;if(A.isEven()||!d.simpleSieve||!d.fermatTest(A)||!s.test(A))return V+=1,I==="02"||I==="05"?V+=8:V+=4,p[D]=V,V;s.test(A.shrn(1))||(V+=2);var ie;switch(I){case"02":A.mod(t).cmp(i)&&(V+=8);break;case"05":ie=A.mod(r),ie.cmp(n)&&ie.cmp(l)&&(V+=8);break;default:V+=4}return p[D]=V,V}function T(A,w,I){this.setGenerator(w),this.__prime=new u(A),this._prime=u.mont(this.__prime),this._primeLen=A.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=v,this.setPrivateKey=y):this._primeCode=8}Object.defineProperty(T.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=E(this.__prime,this.__gen)),this._primeCode}}),T.prototype.generateKeys=function(){return this._priv||(this._priv=new u(a(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},T.prototype.computeSecret=function(A){A=new u(A),A=A.toRed(this._prime);var w=A.redPow(this._priv).fromRed(),I=new f(w.toArray()),D=this.getPrime();if(I.length<D.length){var V=new f(D.length-I.length);V.fill(0),I=f.concat([V,I])}return I},T.prototype.getPublicKey=function(w){return S(this._pub,w)},T.prototype.getPrivateKey=function(w){return S(this._priv,w)},T.prototype.getPrime=function(A){return S(this.__prime,A)},T.prototype.getGenerator=function(A){return S(this._gen,A)},T.prototype.setGenerator=function(A,w){return w=w||"utf8",f.isBuffer(A)||(A=new f(A,w)),this.__gen=A,this._gen=new u(A),this};function S(A,w){var I=new f(A.toArray());return w?I.toString(w):I}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,m,g){var f=e("randombytes");m.exports=S,S.simpleSieve=E,S.fermatTest=T;var u=e("bn.js"),h=new u(24),s=e("miller-rabin"),t=new s,i=new u(1),r=new u(2),n=new u(5);new u(16),new u(8);var l=new u(10),d=new u(3);new u(7);var a=new u(11),v=new u(4);new u(12);var y=null;function p(){if(y!==null)return y;var A=1048576,w=[];w[0]=2;for(var I=1,D=3;D<A;D+=2){for(var V=Math.ceil(Math.sqrt(D)),ie=0;ie<I&&w[ie]<=V&&D%w[ie]!==0;ie++);I!==ie&&w[ie]<=V||(w[I++]=D)}return y=w,w}function E(A){for(var w=p(),I=0;I<w.length;I++)if(A.modn(w[I])===0)return A.cmpn(w[I])===0;return!0}function T(A){var w=u.mont(A);return r.toRed(w).redPow(A.subn(1)).fromRed().cmpn(1)===0}function S(A,w){if(A<16)return w===2||w===5?new u([140,123]):new u([140,39]);w=new u(w);for(var I,D;;){for(I=new u(f(Math.ceil(A/8)));I.bitLength()>A;)I.ishrn(1);if(I.isEven()&&I.iadd(i),I.testn(1)||I.iadd(r),w.cmp(r)){if(!w.cmp(n))for(;I.mod(l).cmp(d);)I.iadd(v)}else for(;I.mod(h).cmp(a);)I.iadd(v);if(D=I.shrn(1),E(D)&&E(I)&&T(D)&&T(I)&&t.test(D)&&t.test(I))return I}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,m,g){m.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,m,g){arguments[4][184][0].apply(g,arguments)},{buffer:188,dup:184}],405:[function(e,m,g){var f=g;f.version=e("../package.json").version,f.utils=e("./elliptic/utils"),f.rand=e("brorand"),f.curve=e("./elliptic/curve"),f.curves=e("./elliptic/curves"),f.ec=e("./elliptic/ec"),f.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,m,g){var f=e("bn.js"),u=e("../utils"),h=u.getNAF,s=u.getJSF,t=u.assert;function i(n,l){this.type=n,this.p=new f(l.p,16),this.red=l.prime?f.red(l.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=l.n&&new f(l.n,16),this.g=l.g&&this.pointFromJSON(l.g,l.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}m.exports=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(l,d){t(l.precomputed);var a=l._getDoubles(),v=h(d,1,this._bitLength),y=(1<<a.step+1)-(a.step%2===0?2:1);y/=3;var p=[],E,T;for(E=0;E<v.length;E+=a.step){T=0;for(var S=E+a.step-1;S>=E;S--)T=(T<<1)+v[S];p.push(T)}for(var A=this.jpoint(null,null,null),w=this.jpoint(null,null,null),I=y;I>0;I--){for(E=0;E<p.length;E++)T=p[E],T===I?w=w.mixedAdd(a.points[E]):T===-I&&(w=w.mixedAdd(a.points[E].neg()));A=A.add(w)}return A.toP()},i.prototype._wnafMul=function(l,d){var a=4,v=l._getNAFPoints(a);a=v.wnd;for(var y=v.points,p=h(d,a,this._bitLength),E=this.jpoint(null,null,null),T=p.length-1;T>=0;T--){for(var S=0;T>=0&&p[T]===0;T--)S++;if(T>=0&&S++,E=E.dblp(S),T<0)break;var A=p[T];t(A!==0),l.type==="affine"?A>0?E=E.mixedAdd(y[A-1>>1]):E=E.mixedAdd(y[-A-1>>1].neg()):A>0?E=E.add(y[A-1>>1]):E=E.add(y[-A-1>>1].neg())}return l.type==="affine"?E.toP():E},i.prototype._wnafMulAdd=function(l,d,a,v,y){var p=this._wnafT1,E=this._wnafT2,T=this._wnafT3,S=0,A,w,I;for(A=0;A<v;A++){I=d[A];var D=I._getNAFPoints(l);p[A]=D.wnd,E[A]=D.points}for(A=v-1;A>=1;A-=2){var V=A-1,ie=A;if(p[V]!==1||p[ie]!==1){T[V]=h(a[V],p[V],this._bitLength),T[ie]=h(a[ie],p[ie],this._bitLength),S=Math.max(T[V].length,S),S=Math.max(T[ie].length,S);continue}var te=[d[V],null,null,d[ie]];d[V].y.cmp(d[ie].y)===0?(te[1]=d[V].add(d[ie]),te[2]=d[V].toJ().mixedAdd(d[ie].neg())):d[V].y.cmp(d[ie].y.redNeg())===0?(te[1]=d[V].toJ().mixedAdd(d[ie]),te[2]=d[V].add(d[ie].neg())):(te[1]=d[V].toJ().mixedAdd(d[ie]),te[2]=d[V].toJ().mixedAdd(d[ie].neg()));var re=[-3,-1,-5,-7,0,7,5,1,3],Z=s(a[V],a[ie]);for(S=Math.max(Z[0].length,S),T[V]=new Array(S),T[ie]=new Array(S),w=0;w<S;w++){var W=Z[0][w]|0,j=Z[1][w]|0;T[V][w]=re[(W+1)*3+(j+1)],T[ie][w]=0,E[V]=te}}var O=this.jpoint(null,null,null),C=this._wnafT4;for(A=S;A>=0;A--){for(var F=0;A>=0;){var H=!0;for(w=0;w<v;w++)C[w]=T[w][A]|0,C[w]!==0&&(H=!1);if(!H)break;F++,A--}if(A>=0&&F++,O=O.dblp(F),A<0)break;for(w=0;w<v;w++){var $=C[w];$!==0&&($>0?I=E[w][$-1>>1]:$<0&&(I=E[w][-$-1>>1].neg()),I.type==="affine"?O=O.mixedAdd(I):O=O.add(I))}}for(A=0;A<v;A++)E[A]=null;return y?O:O.toP()};function r(n,l){this.curve=n,this.type=l,this.precomputed=null}i.BasePoint=r,r.prototype.eq=function(){throw new Error("Not implemented")},r.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(l,d){l=u.toArray(l,d);var a=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1===2*a){l[0]===6?t(l[l.length-1]%2===0):l[0]===7&&t(l[l.length-1]%2===1);var v=this.point(l.slice(1,1+a),l.slice(1+a,1+2*a));return v}else if((l[0]===2||l[0]===3)&&l.length-1===a)return this.pointFromX(l.slice(1,1+a),l[0]===3);throw new Error("Unknown point format")},r.prototype.encodeCompressed=function(l){return this.encode(l,!0)},r.prototype._encode=function(l){var d=this.curve.p.byteLength(),a=this.getX().toArray("be",d);return l?[this.getY().isEven()?2:3].concat(a):[4].concat(a,this.getY().toArray("be",d))},r.prototype.encode=function(l,d){return u.encode(this._encode(d),l)},r.prototype.precompute=function(l){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,l),d.beta=this._getBeta(),this.precomputed=d,this},r.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return d?d.points.length>=Math.ceil((l.bitLength()+1)/d.step):!1},r.prototype._getDoubles=function(l,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var a=[this],v=this,y=0;y<d;y+=l){for(var p=0;p<l;p++)v=v.dbl();a.push(v)}return{step:l,points:a}},r.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],a=(1<<l)-1,v=a===1?null:this.dbl(),y=1;y<a;y++)d[y]=d[y-1].add(v);return{wnd:l,points:d}},r.prototype._getBeta=function(){return null},r.prototype.dblp=function(l){for(var d=this,a=0;a<l;a++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,m,g){var f=e("../utils"),u=e("bn.js"),h=e("inherits"),s=e("./base"),t=f.assert;function i(n){this.twisted=(n.a|0)!==1,this.mOneA=this.twisted&&(n.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",n),this.a=new u(n.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new u(n.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new u(n.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),t(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(n.c|0)===1}h(i,s),m.exports=i,i.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},i.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},i.prototype.jpoint=function(l,d,a,v){return this.point(l,d,a,v)},i.prototype.pointFromX=function(l,d){l=new u(l,16),l.red||(l=l.toRed(this.red));var a=l.redSqr(),v=this.c2.redSub(this.a.redMul(a)),y=this.one.redSub(this.c2.redMul(this.d).redMul(a)),p=v.redMul(y.redInvm()),E=p.redSqrt();if(E.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var T=E.fromRed().isOdd();return(d&&!T||!d&&T)&&(E=E.redNeg()),this.point(l,E)},i.prototype.pointFromY=function(l,d){l=new u(l,16),l.red||(l=l.toRed(this.red));var a=l.redSqr(),v=a.redSub(this.c2),y=a.redMul(this.d).redMul(this.c2).redSub(this.a),p=v.redMul(y.redInvm());if(p.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,l)}var E=p.redSqrt();if(E.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");return E.fromRed().isOdd()!==d&&(E=E.redNeg()),this.point(E,l)},i.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var d=l.x.redSqr(),a=l.y.redSqr(),v=d.redMul(this.a).redAdd(a),y=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(a)));return v.cmp(y)===0};function r(n,l,d,a,v){s.BasePoint.call(this,n,"projective"),l===null&&d===null&&a===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new u(l,16),this.y=new u(d,16),this.z=a?new u(a,16):this.curve.one,this.t=v&&new u(v,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}h(r,s.BasePoint),i.prototype.pointFromJSON=function(l){return r.fromJSON(this,l)},i.prototype.point=function(l,d,a,v){return new r(this,l,d,a,v)},r.fromJSON=function(l,d){return new r(l,d[0],d[1],d[2])},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},r.prototype._extDbl=function(){var l=this.x.redSqr(),d=this.y.redSqr(),a=this.z.redSqr();a=a.redIAdd(a);var v=this.curve._mulA(l),y=this.x.redAdd(this.y).redSqr().redISub(l).redISub(d),p=v.redAdd(d),E=p.redSub(a),T=v.redSub(d),S=y.redMul(E),A=p.redMul(T),w=y.redMul(T),I=E.redMul(p);return this.curve.point(S,A,I,w)},r.prototype._projDbl=function(){var l=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),a=this.y.redSqr(),v,y,p,E,T,S;if(this.curve.twisted){E=this.curve._mulA(d);var A=E.redAdd(a);this.zOne?(v=l.redSub(d).redSub(a).redMul(A.redSub(this.curve.two)),y=A.redMul(E.redSub(a)),p=A.redSqr().redSub(A).redSub(A)):(T=this.z.redSqr(),S=A.redSub(T).redISub(T),v=l.redSub(d).redISub(a).redMul(S),y=A.redMul(E.redSub(a)),p=A.redMul(S))}else E=d.redAdd(a),T=this.curve._mulC(this.z).redSqr(),S=E.redSub(T).redSub(T),v=this.curve._mulC(l.redISub(E)).redMul(S),y=this.curve._mulC(E).redMul(d.redISub(a)),p=E.redMul(S);return this.curve.point(v,y,p)},r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},r.prototype._extAdd=function(l){var d=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),a=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),v=this.t.redMul(this.curve.dd).redMul(l.t),y=this.z.redMul(l.z.redAdd(l.z)),p=a.redSub(d),E=y.redSub(v),T=y.redAdd(v),S=a.redAdd(d),A=p.redMul(E),w=T.redMul(S),I=p.redMul(S),D=E.redMul(T);return this.curve.point(A,w,D,I)},r.prototype._projAdd=function(l){var d=this.z.redMul(l.z),a=d.redSqr(),v=this.x.redMul(l.x),y=this.y.redMul(l.y),p=this.curve.d.redMul(v).redMul(y),E=a.redSub(p),T=a.redAdd(p),S=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(v).redISub(y),A=d.redMul(E).redMul(S),w,I;return this.curve.twisted?(w=d.redMul(T).redMul(y.redSub(this.curve._mulA(v))),I=E.redMul(T)):(w=d.redMul(T).redMul(y.redSub(v)),I=this.curve._mulC(E).redMul(T)),this.curve.point(A,w,I)},r.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},r.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},r.prototype.mulAdd=function(l,d,a){return this.curve._wnafMulAdd(1,[this,d],[l,a],2,!1)},r.prototype.jmulAdd=function(l,d,a){return this.curve._wnafMulAdd(1,[this,d],[l,a],2,!0)},r.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},r.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},r.prototype.getX=function(){return this.normalize(),this.x.fromRed()},r.prototype.getY=function(){return this.normalize(),this.y.fromRed()},r.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},r.prototype.eqXToP=function(l){var d=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var a=l.clone(),v=this.curve.redN.redMul(this.z);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(v),this.x.cmp(d)===0)return!0}},r.prototype.toP=r.prototype.normalize,r.prototype.mixedAdd=r.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,m,g){var f=g;f.base=e("./base"),f.short=e("./short"),f.mont=e("./mont"),f.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,m,g){var f=e("bn.js"),u=e("inherits"),h=e("./base"),s=e("../utils");function t(r){h.call(this,"mont",r),this.a=new f(r.a,16).toRed(this.red),this.b=new f(r.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}u(t,h),m.exports=t,t.prototype.validate=function(n){var l=n.normalize().x,d=l.redSqr(),a=d.redMul(l).redAdd(d.redMul(this.a)).redAdd(l),v=a.redSqrt();return v.redSqr().cmp(a)===0};function i(r,n,l){h.BasePoint.call(this,r,"projective"),n===null&&l===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(n,16),this.z=new f(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}u(i,h.BasePoint),t.prototype.decodePoint=function(n,l){return this.point(s.toArray(n,l),1)},t.prototype.point=function(n,l){return new i(this,n,l)},t.prototype.pointFromJSON=function(n){return i.fromJSON(this,n)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(n,l){return new i(n,l[0],l[1]||n.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var n=this.x.redAdd(this.z),l=n.redSqr(),d=this.x.redSub(this.z),a=d.redSqr(),v=l.redSub(a),y=l.redMul(a),p=v.redMul(a.redAdd(this.curve.a24.redMul(v)));return this.curve.point(y,p)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(n,l){var d=this.x.redAdd(this.z),a=this.x.redSub(this.z),v=n.x.redAdd(n.z),y=n.x.redSub(n.z),p=y.redMul(d),E=v.redMul(a),T=l.z.redMul(p.redAdd(E).redSqr()),S=l.x.redMul(p.redISub(E).redSqr());return this.curve.point(T,S)},i.prototype.mul=function(n){for(var l=n.clone(),d=this,a=this.curve.point(null,null),v=this,y=[];l.cmpn(0)!==0;l.iushrn(1))y.push(l.andln(1));for(var p=y.length-1;p>=0;p--)y[p]===0?(d=d.diffAdd(a,v),a=a.dbl()):(a=d.diffAdd(a,v),d=d.dbl());return a},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(n){return this.getX().cmp(n.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,m,g){var f=e("../utils"),u=e("bn.js"),h=e("inherits"),s=e("./base"),t=f.assert;function i(l){s.call(this,"short",l),this.a=new u(l.a,16).toRed(this.red),this.b=new u(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}h(i,s),m.exports=i,i.prototype._getEndomorphism=function(d){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var a,v;if(d.beta)a=new u(d.beta,16).toRed(this.red);else{var y=this._getEndoRoots(this.p);a=y[0].cmp(y[1])<0?y[0]:y[1],a=a.toRed(this.red)}if(d.lambda)v=new u(d.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(a))===0?v=p[0]:(v=p[1],t(this.g.mul(v).x.cmp(this.g.x.redMul(a))===0))}var E;return d.basis?E=d.basis.map(function(T){return{a:new u(T.a,16),b:new u(T.b,16)}}):E=this._getEndoBasis(v),{beta:a,lambda:v,basis:E}}},i.prototype._getEndoRoots=function(d){var a=d===this.p?this.red:u.mont(d),v=new u(2).toRed(a).redInvm(),y=v.redNeg(),p=new u(3).toRed(a).redNeg().redSqrt().redMul(v),E=y.redAdd(p).fromRed(),T=y.redSub(p).fromRed();return[E,T]},i.prototype._getEndoBasis=function(d){for(var a=this.n.ushrn(Math.floor(this.n.bitLength()/2)),v=d,y=this.n.clone(),p=new u(1),E=new u(0),T=new u(0),S=new u(1),A,w,I,D,V,ie,te,re=0,Z,W;v.cmpn(0)!==0;){var j=y.div(v);Z=y.sub(j.mul(v)),W=T.sub(j.mul(p));var O=S.sub(j.mul(E));if(!I&&Z.cmp(a)<0)A=te.neg(),w=p,I=Z.neg(),D=W;else if(I&&++re===2)break;te=Z,y=v,v=Z,T=p,p=W,S=E,E=O}V=Z.neg(),ie=W;var C=I.sqr().add(D.sqr()),F=V.sqr().add(ie.sqr());return F.cmp(C)>=0&&(V=A,ie=w),I.negative&&(I=I.neg(),D=D.neg()),V.negative&&(V=V.neg(),ie=ie.neg()),[{a:I,b:D},{a:V,b:ie}]},i.prototype._endoSplit=function(d){var a=this.endo.basis,v=a[0],y=a[1],p=y.b.mul(d).divRound(this.n),E=v.b.neg().mul(d).divRound(this.n),T=p.mul(v.a),S=E.mul(y.a),A=p.mul(v.b),w=E.mul(y.b),I=d.sub(T).sub(S),D=A.add(w).neg();return{k1:I,k2:D}},i.prototype.pointFromX=function(d,a){d=new u(d,16),d.red||(d=d.toRed(this.red));var v=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var p=y.fromRed().isOdd();return(a&&!p||!a&&p)&&(y=y.redNeg()),this.point(d,y)},i.prototype.validate=function(d){if(d.inf)return!0;var a=d.x,v=d.y,y=this.a.redMul(a),p=a.redSqr().redMul(a).redIAdd(y).redIAdd(this.b);return v.redSqr().redISub(p).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(d,a,v){for(var y=this._endoWnafT1,p=this._endoWnafT2,E=0;E<d.length;E++){var T=this._endoSplit(a[E]),S=d[E],A=S._getBeta();T.k1.negative&&(T.k1.ineg(),S=S.neg(!0)),T.k2.negative&&(T.k2.ineg(),A=A.neg(!0)),y[E*2]=S,y[E*2+1]=A,p[E*2]=T.k1,p[E*2+1]=T.k2}for(var w=this._wnafMulAdd(1,y,p,E*2,v),I=0;I<E*2;I++)y[I]=null,p[I]=null;return w};function r(l,d,a,v){s.BasePoint.call(this,l,"affine"),d===null&&a===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new u(d,16),this.y=new u(a,16),v&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}h(r,s.BasePoint),i.prototype.point=function(d,a,v){return new r(this,d,a,v)},i.prototype.pointFromJSON=function(d,a){return r.fromJSON(this,d,a)},r.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var a=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var v=this.curve,y=function(p){return v.point(p.x.redMul(v.endo.beta),p.y)};d.beta=a,a.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(y)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(y)}}}return a}},r.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},r.fromJSON=function(d,a,v){typeof a=="string"&&(a=JSON.parse(a));var y=d.point(a[0],a[1],v);if(!a[2])return y;function p(T){return d.point(T[0],T[1],v)}var E=a[2];return y.precomputed={beta:null,doubles:E.doubles&&{step:E.doubles.step,points:[y].concat(E.doubles.points.map(p))},naf:E.naf&&{wnd:E.naf.wnd,points:[y].concat(E.naf.points.map(p))}},y},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return this.inf},r.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var a=this.y.redSub(d.y);a.cmpn(0)!==0&&(a=a.redMul(this.x.redSub(d.x).redInvm()));var v=a.redSqr().redISub(this.x).redISub(d.x),y=a.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,y)},r.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a,v=this.x.redSqr(),y=d.redInvm(),p=v.redAdd(v).redIAdd(v).redIAdd(a).redMul(y),E=p.redSqr().redISub(this.x.redAdd(this.x)),T=p.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,T)},r.prototype.getX=function(){return this.x.fromRed()},r.prototype.getY=function(){return this.y.fromRed()},r.prototype.mul=function(d){return d=new u(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},r.prototype.mulAdd=function(d,a,v){var y=[this,a],p=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(y,p):this.curve._wnafMulAdd(1,y,p,2)},r.prototype.jmulAdd=function(d,a,v){var y=[this,a],p=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(y,p,!0):this.curve._wnafMulAdd(1,y,p,2,!0)},r.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},r.prototype.neg=function(d){if(this.inf)return this;var a=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var v=this.precomputed,y=function(p){return p.neg()};a.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(y)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(y)}}}return a},r.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var d=this.curve.jpoint(this.x,this.y,this.curve.one);return d};function n(l,d,a,v){s.BasePoint.call(this,l,"jacobian"),d===null&&a===null&&v===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new u(0)):(this.x=new u(d,16),this.y=new u(a,16),this.z=new u(v,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}h(n,s.BasePoint),i.prototype.jpoint=function(d,a,v){return new n(this,d,a,v)},n.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),a=d.redSqr(),v=this.x.redMul(a),y=this.y.redMul(a).redMul(d);return this.curve.point(v,y)},n.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},n.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var a=d.z.redSqr(),v=this.z.redSqr(),y=this.x.redMul(a),p=d.x.redMul(v),E=this.y.redMul(a.redMul(d.z)),T=d.y.redMul(v.redMul(this.z)),S=y.redSub(p),A=E.redSub(T);if(S.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=S.redSqr(),I=w.redMul(S),D=y.redMul(w),V=A.redSqr().redIAdd(I).redISub(D).redISub(D),ie=A.redMul(D.redISub(V)).redISub(E.redMul(I)),te=this.z.redMul(d.z).redMul(S);return this.curve.jpoint(V,ie,te)},n.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var a=this.z.redSqr(),v=this.x,y=d.x.redMul(a),p=this.y,E=d.y.redMul(a).redMul(this.z),T=v.redSub(y),S=p.redSub(E);if(T.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=T.redSqr(),w=A.redMul(T),I=v.redMul(A),D=S.redSqr().redIAdd(w).redISub(I).redISub(I),V=S.redMul(I.redISub(D)).redISub(p.redMul(w)),ie=this.z.redMul(T);return this.curve.jpoint(D,V,ie)},n.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var a;if(this.curve.zeroA||this.curve.threeA){var v=this;for(a=0;a<d;a++)v=v.dbl();return v}var y=this.curve.a,p=this.curve.tinv,E=this.x,T=this.y,S=this.z,A=S.redSqr().redSqr(),w=T.redAdd(T);for(a=0;a<d;a++){var I=E.redSqr(),D=w.redSqr(),V=D.redSqr(),ie=I.redAdd(I).redIAdd(I).redIAdd(y.redMul(A)),te=E.redMul(D),re=ie.redSqr().redISub(te.redAdd(te)),Z=te.redISub(re),W=ie.redMul(Z);W=W.redIAdd(W).redISub(V);var j=w.redMul(S);a+1<d&&(A=A.redMul(V)),E=re,S=j,w=W}return this.curve.jpoint(E,w.redMul(p),S)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},n.prototype._zeroDbl=function(){var d,a,v;if(this.zOne){var y=this.x.redSqr(),p=this.y.redSqr(),E=p.redSqr(),T=this.x.redAdd(p).redSqr().redISub(y).redISub(E);T=T.redIAdd(T);var S=y.redAdd(y).redIAdd(y),A=S.redSqr().redISub(T).redISub(T),w=E.redIAdd(E);w=w.redIAdd(w),w=w.redIAdd(w),d=A,a=S.redMul(T.redISub(A)).redISub(w),v=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),D=this.y.redSqr(),V=D.redSqr(),ie=this.x.redAdd(D).redSqr().redISub(I).redISub(V);ie=ie.redIAdd(ie);var te=I.redAdd(I).redIAdd(I),re=te.redSqr(),Z=V.redIAdd(V);Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),d=re.redISub(ie).redISub(ie),a=te.redMul(ie.redISub(d)).redISub(Z),v=this.y.redMul(this.z),v=v.redIAdd(v)}return this.curve.jpoint(d,a,v)},n.prototype._threeDbl=function(){var d,a,v;if(this.zOne){var y=this.x.redSqr(),p=this.y.redSqr(),E=p.redSqr(),T=this.x.redAdd(p).redSqr().redISub(y).redISub(E);T=T.redIAdd(T);var S=y.redAdd(y).redIAdd(y).redIAdd(this.curve.a),A=S.redSqr().redISub(T).redISub(T);d=A;var w=E.redIAdd(E);w=w.redIAdd(w),w=w.redIAdd(w),a=S.redMul(T.redISub(A)).redISub(w),v=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),D=this.y.redSqr(),V=this.x.redMul(D),ie=this.x.redSub(I).redMul(this.x.redAdd(I));ie=ie.redAdd(ie).redIAdd(ie);var te=V.redIAdd(V);te=te.redIAdd(te);var re=te.redAdd(te);d=ie.redSqr().redISub(re),v=this.y.redAdd(this.z).redSqr().redISub(D).redISub(I);var Z=D.redSqr();Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),a=ie.redMul(te.redISub(d)).redISub(Z)}return this.curve.jpoint(d,a,v)},n.prototype._dbl=function(){var d=this.curve.a,a=this.x,v=this.y,y=this.z,p=y.redSqr().redSqr(),E=a.redSqr(),T=v.redSqr(),S=E.redAdd(E).redIAdd(E).redIAdd(d.redMul(p)),A=a.redAdd(a);A=A.redIAdd(A);var w=A.redMul(T),I=S.redSqr().redISub(w.redAdd(w)),D=w.redISub(I),V=T.redSqr();V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var ie=S.redMul(D).redISub(V),te=v.redAdd(v).redMul(y);return this.curve.jpoint(I,ie,te)},n.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),a=this.y.redSqr(),v=this.z.redSqr(),y=a.redSqr(),p=d.redAdd(d).redIAdd(d),E=p.redSqr(),T=this.x.redAdd(a).redSqr().redISub(d).redISub(y);T=T.redIAdd(T),T=T.redAdd(T).redIAdd(T),T=T.redISub(E);var S=T.redSqr(),A=y.redIAdd(y);A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var w=p.redIAdd(T).redSqr().redISub(E).redISub(S).redISub(A),I=a.redMul(w);I=I.redIAdd(I),I=I.redIAdd(I);var D=this.x.redMul(S).redISub(I);D=D.redIAdd(D),D=D.redIAdd(D);var V=this.y.redMul(w.redMul(A.redISub(w)).redISub(T.redMul(S)));V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var ie=this.z.redAdd(T).redSqr().redISub(v).redISub(S);return this.curve.jpoint(D,V,ie)},n.prototype.mul=function(d,a){return d=new u(d,a),this.curve._wnafMul(this,d)},n.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var a=this.z.redSqr(),v=d.z.redSqr();if(this.x.redMul(v).redISub(d.x.redMul(a)).cmpn(0)!==0)return!1;var y=a.redMul(this.z),p=v.redMul(d.z);return this.y.redMul(p).redISub(d.y.redMul(y)).cmpn(0)===0},n.prototype.eqXToP=function(d){var a=this.z.redSqr(),v=d.toRed(this.curve.red).redMul(a);if(this.x.cmp(v)===0)return!0;for(var y=d.clone(),p=this.curve.redN.redMul(a);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(p),this.x.cmp(v)===0)return!0}},n.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,m,g){var f=g,u=e("hash.js"),h=e("./curve"),s=e("./utils"),t=s.assert;function i(l){l.type==="short"?this.curve=new h.short(l):l.type==="edwards"?this.curve=new h.edwards(l):this.curve=new h.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,t(this.g.validate(),"Invalid curve"),t(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}f.PresetCurve=i;function r(l,d){Object.defineProperty(f,l,{configurable:!0,enumerable:!0,get:function(){var a=new i(d);return Object.defineProperty(f,l,{configurable:!0,enumerable:!0,value:a}),a}})}r("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),r("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),r("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),r("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),r("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),r("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),r("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var n;try{n=e("./precomputed/secp256k1")}catch{n=void 0}r("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,m,g){var f=e("bn.js"),u=e("hmac-drbg"),h=e("../utils"),s=e("../curves"),t=e("brorand"),i=h.assert,r=e("./key"),n=e("./signature");function l(d){if(!(this instanceof l))return new l(d);typeof d=="string"&&(i(Object.prototype.hasOwnProperty.call(s,d),"Unknown curve "+d),d=s[d]),d instanceof s.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}m.exports=l,l.prototype.keyPair=function(a){return new r(this,a)},l.prototype.keyFromPrivate=function(a,v){return r.fromPrivate(this,a,v)},l.prototype.keyFromPublic=function(a,v){return r.fromPublic(this,a,v)},l.prototype.genKeyPair=function(a){a||(a={});for(var v=new u({hash:this.hash,pers:a.pers,persEnc:a.persEnc||"utf8",entropy:a.entropy||t(this.hash.hmacStrength),entropyEnc:a.entropy&&a.entropyEnc||"utf8",nonce:this.n.toArray()}),y=this.n.byteLength(),p=this.n.sub(new f(2));;){var E=new f(v.generate(y));if(!(E.cmp(p)>0))return E.iaddn(1),this.keyFromPrivate(E)}},l.prototype._truncateToN=function(a,v){var y=a.byteLength()*8-this.n.bitLength();return y>0&&(a=a.ushrn(y)),!v&&a.cmp(this.n)>=0?a.sub(this.n):a},l.prototype.sign=function(a,v,y,p){typeof y=="object"&&(p=y,y=null),p||(p={}),v=this.keyFromPrivate(v,y),a=this._truncateToN(new f(a,16));for(var E=this.n.byteLength(),T=v.getPrivate().toArray("be",E),S=a.toArray("be",E),A=new u({hash:this.hash,entropy:T,nonce:S,pers:p.pers,persEnc:p.persEnc||"utf8"}),w=this.n.sub(new f(1)),I=0;;I++){var D=p.k?p.k(I):new f(A.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(w)>=0)){var V=this.g.mul(D);if(!V.isInfinity()){var ie=V.getX(),te=ie.umod(this.n);if(te.cmpn(0)!==0){var re=D.invm(this.n).mul(te.mul(v.getPrivate()).iadd(a));if(re=re.umod(this.n),re.cmpn(0)!==0){var Z=(V.getY().isOdd()?1:0)|(ie.cmp(te)!==0?2:0);return p.canonical&&re.cmp(this.nh)>0&&(re=this.n.sub(re),Z^=1),new n({r:te,s:re,recoveryParam:Z})}}}}}},l.prototype.verify=function(a,v,y,p){a=this._truncateToN(new f(a,16)),y=this.keyFromPublic(y,p),v=new n(v,"hex");var E=v.r,T=v.s;if(E.cmpn(1)<0||E.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var S=T.invm(this.n),A=S.mul(a).umod(this.n),w=S.mul(E).umod(this.n),I;return this.curve._maxwellTrick?(I=this.g.jmulAdd(A,y.getPublic(),w),I.isInfinity()?!1:I.eqXToP(E)):(I=this.g.mulAdd(A,y.getPublic(),w),I.isInfinity()?!1:I.getX().umod(this.n).cmp(E)===0)},l.prototype.recoverPubKey=function(d,a,v,y){i((3&v)===v,"The recovery param is more than two bits"),a=new n(a,y);var p=this.n,E=new f(d),T=a.r,S=a.s,A=v&1,w=v>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&w)throw new Error("Unable to find sencond key candinate");w?T=this.curve.pointFromX(T.add(this.curve.n),A):T=this.curve.pointFromX(T,A);var I=a.r.invm(p),D=p.sub(E).mul(I).umod(p),V=S.mul(I).umod(p);return this.g.mulAdd(D,T,V)},l.prototype.getKeyRecoveryParam=function(d,a,v,y){if(a=new n(a,y),a.recoveryParam!==null)return a.recoveryParam;for(var p=0;p<4;p++){var E;try{E=this.recoverPubKey(d,a,p)}catch{continue}if(E.eq(v))return p}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,m,g){var f=e("bn.js"),u=e("../utils"),h=u.assert;function s(t,i){this.ec=t,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}m.exports=s,s.fromPublic=function(i,r,n){return r instanceof s?r:new s(i,{pub:r,pubEnc:n})},s.fromPrivate=function(i,r,n){return r instanceof s?r:new s(i,{priv:r,privEnc:n})},s.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(i,r){return typeof i=="string"&&(r=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,i):this.pub},s.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(i,r){this.priv=new f(i,r||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(i,r){if(i.x||i.y){this.ec.curve.type==="mont"?h(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&h(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,r)},s.prototype.derive=function(i){return i.validate()||h(i.validate(),"public point not validated"),i.mul(this.priv).getX()},s.prototype.sign=function(i,r,n){return this.ec.sign(i,this,r,n)},s.prototype.verify=function(i,r){return this.ec.verify(i,r,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,m,g){var f=e("bn.js"),u=e("../utils"),h=u.assert;function s(l,d){if(l instanceof s)return l;this._importDER(l,d)||(h(l.r&&l.s,"Signature without r or s"),this.r=new f(l.r,16),this.s=new f(l.s,16),l.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=l.recoveryParam)}m.exports=s;function t(){this.place=0}function i(l,d){var a=l[d.place++];if(!(a&128))return a;var v=a&15;if(v===0||v>4)return!1;for(var y=0,p=0,E=d.place;p<v;p++,E++)y<<=8,y|=l[E],y>>>=0;return y<=127?!1:(d.place=E,y)}function r(l){for(var d=0,a=l.length-1;!l[d]&&!(l[d+1]&128)&&d<a;)d++;return d===0?l:l.slice(d)}s.prototype._importDER=function(d,a){d=u.toArray(d,a);var v=new t;if(d[v.place++]!==48)return!1;var y=i(d,v);if(y===!1||y+v.place!==d.length||d[v.place++]!==2)return!1;var p=i(d,v);if(p===!1)return!1;var E=d.slice(v.place,p+v.place);if(v.place+=p,d[v.place++]!==2)return!1;var T=i(d,v);if(T===!1||d.length!==T+v.place)return!1;var S=d.slice(v.place,T+v.place);if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;if(S[0]===0)if(S[1]&128)S=S.slice(1);else return!1;return this.r=new f(E),this.s=new f(S),this.recoveryParam=null,!0};function n(l,d){if(d<128){l.push(d);return}var a=1+(Math.log(d)/Math.LN2>>>3);for(l.push(a|128);--a;)l.push(d>>>(a<<3)&255);l.push(d)}s.prototype.toDER=function(d){var a=this.r.toArray(),v=this.s.toArray();for(a[0]&128&&(a=[0].concat(a)),v[0]&128&&(v=[0].concat(v)),a=r(a),v=r(v);!v[0]&&!(v[1]&128);)v=v.slice(1);var y=[2];n(y,a.length),y=y.concat(a),y.push(2),n(y,v.length);var p=y.concat(v),E=[48];return n(E,p.length),E=E.concat(p),u.encode(E,d)}},{"../utils":419,"bn.js":420}],415:[function(e,m,g){var f=e("hash.js"),u=e("../curves"),h=e("../utils"),s=h.assert,t=h.parseBytes,i=e("./key"),r=e("./signature");function n(l){if(s(l==="ed25519","only tested with ed25519 so far"),!(this instanceof n))return new n(l);l=u[l].curve,this.curve=l,this.g=l.g,this.g.precompute(l.n.bitLength()+1),this.pointClass=l.point().constructor,this.encodingLength=Math.ceil(l.n.bitLength()/8),this.hash=f.sha512}m.exports=n,n.prototype.sign=function(d,a){d=t(d);var v=this.keyFromSecret(a),y=this.hashInt(v.messagePrefix(),d),p=this.g.mul(y),E=this.encodePoint(p),T=this.hashInt(E,v.pubBytes(),d).mul(v.priv()),S=y.add(T).umod(this.curve.n);return this.makeSignature({R:p,S,Rencoded:E})},n.prototype.verify=function(d,a,v){d=t(d),a=this.makeSignature(a);var y=this.keyFromPublic(v),p=this.hashInt(a.Rencoded(),y.pubBytes(),d),E=this.g.mul(a.S()),T=a.R().add(y.pub().mul(p));return T.eq(E)},n.prototype.hashInt=function(){for(var d=this.hash(),a=0;a<arguments.length;a++)d.update(arguments[a]);return h.intFromLE(d.digest()).umod(this.curve.n)},n.prototype.keyFromPublic=function(d){return i.fromPublic(this,d)},n.prototype.keyFromSecret=function(d){return i.fromSecret(this,d)},n.prototype.makeSignature=function(d){return d instanceof r?d:new r(this,d)},n.prototype.encodePoint=function(d){var a=d.getY().toArray("le",this.encodingLength);return a[this.encodingLength-1]|=d.getX().isOdd()?128:0,a},n.prototype.decodePoint=function(d){d=h.parseBytes(d);var a=d.length-1,v=d.slice(0,a).concat(d[a]&-129),y=(d[a]&128)!==0,p=h.intFromLE(v);return this.curve.pointFromY(p,y)},n.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},n.prototype.decodeInt=function(d){return h.intFromLE(d)},n.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,m,g){var f=e("../utils"),u=f.assert,h=f.parseBytes,s=f.cachedProperty;function t(i,r){this.eddsa=i,this._secret=h(r.secret),i.isPoint(r.pub)?this._pub=r.pub:this._pubBytes=h(r.pub)}t.fromPublic=function(r,n){return n instanceof t?n:new t(r,{pub:n})},t.fromSecret=function(r,n){return n instanceof t?n:new t(r,{secret:n})},t.prototype.secret=function(){return this._secret},s(t,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(t,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(t,"privBytes",function(){var r=this.eddsa,n=this.hash(),l=r.encodingLength-1,d=n.slice(0,r.encodingLength);return d[0]&=248,d[l]&=127,d[l]|=64,d}),s(t,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(t,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(t,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),t.prototype.sign=function(r){return u(this._secret,"KeyPair can only verify"),this.eddsa.sign(r,this)},t.prototype.verify=function(r,n){return this.eddsa.verify(r,n,this)},t.prototype.getSecret=function(r){return u(this._secret,"KeyPair is public only"),f.encode(this.secret(),r)},t.prototype.getPublic=function(r){return f.encode(this.pubBytes(),r)},m.exports=t},{"../utils":419}],417:[function(e,m,g){var f=e("bn.js"),u=e("../utils"),h=u.assert,s=u.cachedProperty,t=u.parseBytes;function i(r,n){this.eddsa=r,typeof n!="object"&&(n=t(n)),Array.isArray(n)&&(n={R:n.slice(0,r.encodingLength),S:n.slice(r.encodingLength)}),h(n.R&&n.S,"Signature without R or S"),r.isPoint(n.R)&&(this._R=n.R),n.S instanceof f&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}s(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return u.encode(this.toBytes(),"hex").toUpperCase()},m.exports=i},{"../utils":419,"bn.js":420}],418:[function(e,m,g){m.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,m,g){var f=g,u=e("bn.js"),h=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");f.assert=h,f.toArray=s.toArray,f.zero2=s.zero2,f.toHex=s.toHex,f.encode=s.encode;function t(d,a,v){var y=new Array(Math.max(d.bitLength(),v)+1);y.fill(0);for(var p=1<<a+1,E=d.clone(),T=0;T<y.length;T++){var S,A=E.andln(p-1);E.isOdd()?(A>(p>>1)-1?S=(p>>1)-A:S=A,E.isubn(S)):S=0,y[T]=S,E.iushrn(1)}return y}f.getNAF=t;function i(d,a){var v=[[],[]];d=d.clone(),a=a.clone();for(var y=0,p=0,E;d.cmpn(-y)>0||a.cmpn(-p)>0;){var T=d.andln(3)+y&3,S=a.andln(3)+p&3;T===3&&(T=-1),S===3&&(S=-1);var A;T&1?(E=d.andln(7)+y&7,(E===3||E===5)&&S===2?A=-T:A=T):A=0,v[0].push(A);var w;S&1?(E=a.andln(7)+p&7,(E===3||E===5)&&T===2?w=-S:w=S):w=0,v[1].push(w),2*y===A+1&&(y=1-y),2*p===w+1&&(p=1-p),d.iushrn(1),a.iushrn(1)}return v}f.getJSF=i;function r(d,a,v){var y="_"+a;d.prototype[a]=function(){return this[y]!==void 0?this[y]:this[y]=v.call(this)}}f.cachedProperty=r;function n(d){return typeof d=="string"?f.toArray(d,"hex"):d}f.parseBytes=n;function l(d){return new u(d,"hex","le")}f.intFromLE=l},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,m,g){arguments[4][184][0].apply(g,arguments)},{buffer:188,dup:184}],421:[function(e,m,g){m.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,m,g){var f=Object.create||V,u=Object.keys||ie,h=Function.prototype.bind||te;function s(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=f(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}m.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var t=10,i;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),i=r.x===0}catch{i=!1}i?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(re){if(typeof re!="number"||re<0||re!==re)throw new TypeError('"defaultMaxListeners" must be a positive number');t=re}}):s.defaultMaxListeners=t,s.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||isNaN(Z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Z,this};function n(re){return re._maxListeners===void 0?s.defaultMaxListeners:re._maxListeners}s.prototype.getMaxListeners=function(){return n(this)};function l(re,Z,W){if(Z)re.call(W);else for(var j=re.length,O=I(re,j),C=0;C<j;++C)O[C].call(W)}function d(re,Z,W,j){if(Z)re.call(W,j);else for(var O=re.length,C=I(re,O),F=0;F<O;++F)C[F].call(W,j)}function a(re,Z,W,j,O){if(Z)re.call(W,j,O);else for(var C=re.length,F=I(re,C),H=0;H<C;++H)F[H].call(W,j,O)}function v(re,Z,W,j,O,C){if(Z)re.call(W,j,O,C);else for(var F=re.length,H=I(re,F),$=0;$<F;++$)H[$].call(W,j,O,C)}function y(re,Z,W,j){if(Z)re.apply(W,j);else for(var O=re.length,C=I(re,O),F=0;F<O;++F)C[F].apply(W,j)}s.prototype.emit=function(Z){var W,j,O,C,F,H,$=Z==="error";if(H=this._events,H)$=$&&H.error==null;else if(!$)return!1;if($){if(arguments.length>1&&(W=arguments[1]),W instanceof Error)throw W;var Y=new Error('Unhandled "error" event. ('+W+")");throw Y.context=W,Y}if(j=H[Z],!j)return!1;var z=typeof j=="function";switch(O=arguments.length,O){case 1:l(j,z,this);break;case 2:d(j,z,this,arguments[1]);break;case 3:a(j,z,this,arguments[1],arguments[2]);break;case 4:v(j,z,this,arguments[1],arguments[2],arguments[3]);break;default:for(C=new Array(O-1),F=1;F<O;F++)C[F-1]=arguments[F];y(j,z,this,C)}return!0};function p(re,Z,W,j){var O,C,F;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if(C=re._events,C?(C.newListener&&(re.emit("newListener",Z,W.listener?W.listener:W),C=re._events),F=C[Z]):(C=re._events=f(null),re._eventsCount=0),!F)F=C[Z]=W,++re._eventsCount;else if(typeof F=="function"?F=C[Z]=j?[W,F]:[F,W]:j?F.unshift(W):F.push(W),!F.warned&&(O=n(re),O&&O>0&&F.length>O)){F.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+F.length+' "'+String(Z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');H.name="MaxListenersExceededWarning",H.emitter=re,H.type=Z,H.count=F.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",H.name,H.message)}return re}s.prototype.addListener=function(Z,W){return p(this,Z,W,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(Z,W){return p(this,Z,W,!0)};function E(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var re=new Array(arguments.length),Z=0;Z<re.length;++Z)re[Z]=arguments[Z];this.listener.apply(this.target,re)}}function T(re,Z,W){var j={fired:!1,wrapFn:void 0,target:re,type:Z,listener:W},O=h.call(E,j);return O.listener=W,j.wrapFn=O,O}s.prototype.once=function(Z,W){if(typeof W!="function")throw new TypeError('"listener" argument must be a function');return this.on(Z,T(this,Z,W)),this},s.prototype.prependOnceListener=function(Z,W){if(typeof W!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Z,T(this,Z,W)),this},s.prototype.removeListener=function(Z,W){var j,O,C,F,H;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if(O=this._events,!O)return this;if(j=O[Z],!j)return this;if(j===W||j.listener===W)--this._eventsCount===0?this._events=f(null):(delete O[Z],O.removeListener&&this.emit("removeListener",Z,j.listener||W));else if(typeof j!="function"){for(C=-1,F=j.length-1;F>=0;F--)if(j[F]===W||j[F].listener===W){H=j[F].listener,C=F;break}if(C<0)return this;C===0?j.shift():w(j,C),j.length===1&&(O[Z]=j[0]),O.removeListener&&this.emit("removeListener",Z,H||W)}return this},s.prototype.removeAllListeners=function(Z){var W,j,O;if(j=this._events,!j)return this;if(!j.removeListener)return arguments.length===0?(this._events=f(null),this._eventsCount=0):j[Z]&&(--this._eventsCount===0?this._events=f(null):delete j[Z]),this;if(arguments.length===0){var C=u(j),F;for(O=0;O<C.length;++O)F=C[O],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=f(null),this._eventsCount=0,this}if(W=j[Z],typeof W=="function")this.removeListener(Z,W);else if(W)for(O=W.length-1;O>=0;O--)this.removeListener(Z,W[O]);return this};function S(re,Z,W){var j=re._events;if(!j)return[];var O=j[Z];return O?typeof O=="function"?W?[O.listener||O]:[O]:W?D(O):I(O,O.length):[]}s.prototype.listeners=function(Z){return S(this,Z,!0)},s.prototype.rawListeners=function(Z){return S(this,Z,!1)},s.listenerCount=function(re,Z){return typeof re.listenerCount=="function"?re.listenerCount(Z):A.call(re,Z)},s.prototype.listenerCount=A;function A(re){var Z=this._events;if(Z){var W=Z[re];if(typeof W=="function")return 1;if(W)return W.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function w(re,Z){for(var W=Z,j=W+1,O=re.length;j<O;W+=1,j+=1)re[W]=re[j];re.pop()}function I(re,Z){for(var W=new Array(Z),j=0;j<Z;++j)W[j]=re[j];return W}function D(re){for(var Z=new Array(re.length),W=0;W<Z.length;++W)Z[W]=re[W].listener||re[W];return Z}function V(re){var Z=function(){};return Z.prototype=re,new Z}function ie(re){for(var Z in re)Object.prototype.hasOwnProperty.call(re,Z);return Z}function te(re){var Z=this;return function(){return Z.apply(re,arguments)}}},{}],423:[function(e,m,g){var f=e("safe-buffer").Buffer,u=e("md5.js");function h(s,t,i,r){if(f.isBuffer(s)||(s=f.from(s,"binary")),t&&(f.isBuffer(t)||(t=f.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=i/8,l=f.alloc(n),d=f.alloc(r||0),a=f.alloc(0);n>0||r>0;){var v=new u;v.update(a),v.update(s),t&&v.update(t),a=v.digest();var y=0;if(n>0){var p=l.length-n;y=Math.min(n,a.length),a.copy(l,p,0,y),n-=y}if(y<a.length&&r>0){var E=d.length-r,T=Math.min(r,a.length-y);a.copy(d,E,y,y+T),r-=T}}return a.fill(0),{key:l,iv:d}}m.exports=h},{"md5.js":450,"safe-buffer":494}],424:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.CsvParserStream=g.ParserOptions=g.parseFile=g.parseStream=g.parseString=g.parse=g.FormatterOptions=g.CsvFormatterStream=g.writeToPath=g.writeToString=g.writeToBuffer=g.writeToStream=g.write=g.format=void 0;var f=e("@fast-csv/format");Object.defineProperty(g,"format",{enumerable:!0,get:function(){return f.format}}),Object.defineProperty(g,"write",{enumerable:!0,get:function(){return f.write}}),Object.defineProperty(g,"writeToStream",{enumerable:!0,get:function(){return f.writeToStream}}),Object.defineProperty(g,"writeToBuffer",{enumerable:!0,get:function(){return f.writeToBuffer}}),Object.defineProperty(g,"writeToString",{enumerable:!0,get:function(){return f.writeToString}}),Object.defineProperty(g,"writeToPath",{enumerable:!0,get:function(){return f.writeToPath}}),Object.defineProperty(g,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}}),Object.defineProperty(g,"FormatterOptions",{enumerable:!0,get:function(){return f.FormatterOptions}});var u=e("@fast-csv/parse");Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return u.parse}}),Object.defineProperty(g,"parseString",{enumerable:!0,get:function(){return u.parseString}}),Object.defineProperty(g,"parseStream",{enumerable:!0,get:function(){return u.parseStream}}),Object.defineProperty(g,"parseFile",{enumerable:!0,get:function(){return u.parseFile}}),Object.defineProperty(g,"ParserOptions",{enumerable:!0,get:function(){return u.ParserOptions}}),Object.defineProperty(g,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,m,g){var f=e("safe-buffer").Buffer,u=e("readable-stream").Transform,h=e("inherits");function s(i,r){if(!f.isBuffer(i)&&typeof i!="string")throw new TypeError(r+" must be a string or a buffer")}function t(i){u.call(this),this._block=f.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}h(t,u),t.prototype._transform=function(i,r,n){var l=null;try{this.update(i,r)}catch(d){l=d}n(l)},t.prototype._flush=function(i){var r=null;try{this.push(this.digest())}catch(n){r=n}i(r)},t.prototype.update=function(i,r){if(s(i,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(i)||(i=f.from(i,r));for(var n=this._block,l=0;this._blockOffset+i.length-l>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)n[d++]=i[l++];this._update(),this._blockOffset=0}for(;l<i.length;)n[this._blockOffset++]=i[l++];for(var a=0,v=i.length*8;v>0;++a)this._length[a]+=v,v=this._length[a]/4294967296|0,v>0&&(this._length[a]-=4294967296*v);return this},t.prototype._update=function(){throw new Error("_update is not implemented")},t.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var r=this._digest();i!==void 0&&(r=r.toString(i)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return r},t.prototype._digest=function(){throw new Error("_digest is not implemented")},m.exports=t},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,m,g){var f=g;f.utils=e("./hash/utils"),f.common=e("./hash/common"),f.sha=e("./hash/sha"),f.ripemd=e("./hash/ripemd"),f.hmac=e("./hash/hmac"),f.sha1=f.sha.sha1,f.sha256=f.sha.sha256,f.sha224=f.sha.sha224,f.sha384=f.sha.sha384,f.sha512=f.sha.sha512,f.ripemd160=f.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,m,g){var f=e("./utils"),u=e("minimalistic-assert");function h(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}g.BlockHash=h,h.prototype.update=function(t,i){if(t=f.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var r=t.length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=f.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},h.prototype.digest=function(t){return this.update(this._pad()),u(this.pending===null),this._digest(t)},h.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,r=i-(t+this.padLength)%i,n=new Array(r+this.padLength);n[0]=128;for(var l=1;l<r;l++)n[l]=0;if(t<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)n[l++]=0;n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=t>>>24&255,n[l++]=t>>>16&255,n[l++]=t>>>8&255,n[l++]=t&255}else for(n[l++]=t&255,n[l++]=t>>>8&255,n[l++]=t>>>16&255,n[l++]=t>>>24&255,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,d=8;d<this.padLength;d++)n[l++]=0;return n}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,m,g){var f=e("./utils"),u=e("minimalistic-assert");function h(s,t,i){if(!(this instanceof h))return new h(s,t,i);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(f.toArray(t,i))}m.exports=h,h.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),u(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=new this.Hash().update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=new this.Hash().update(t)},h.prototype.update=function(t,i){return this.inner.update(t,i),this},h.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,m,g){var f=e("./utils"),u=e("./common"),h=f.rotl32,s=f.sum32,t=f.sum32_3,i=f.sum32_4,r=u.BlockHash;function n(){if(!(this instanceof n))return new n;r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}f.inherits(n,r),g.ripemd160=n,n.blockSize=512,n.outSize=160,n.hmacStrength=192,n.padLength=64,n.prototype._update=function(S,A){for(var w=this.h[0],I=this.h[1],D=this.h[2],V=this.h[3],ie=this.h[4],te=w,re=I,Z=D,W=V,j=ie,O=0;O<80;O++){var C=s(h(i(w,l(O,I,D,V),S[v[O]+A],d(O)),p[O]),ie);w=ie,ie=V,V=h(D,10),D=I,I=C,C=s(h(i(te,l(79-O,re,Z,W),S[y[O]+A],a(O)),E[O]),j),te=j,j=W,W=h(Z,10),Z=re,re=C}C=t(this.h[1],D,W),this.h[1]=t(this.h[2],V,j),this.h[2]=t(this.h[3],ie,te),this.h[3]=t(this.h[4],w,re),this.h[4]=t(this.h[0],I,Z),this.h[0]=C},n.prototype._digest=function(S){return S==="hex"?f.toHex32(this.h,"little"):f.split32(this.h,"little")};function l(T,S,A,w){return T<=15?S^A^w:T<=31?S&A|~S&w:T<=47?(S|~A)^w:T<=63?S&w|A&~w:S^(A|~w)}function d(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function a(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,m,g){g.sha1=e("./sha/1"),g.sha224=e("./sha/224"),g.sha256=e("./sha/256"),g.sha384=e("./sha/384"),g.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,m,g){var f=e("../utils"),u=e("../common"),h=e("./common"),s=f.rotl32,t=f.sum32,i=f.sum32_5,r=h.ft_1,n=u.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}f.inherits(d,n),m.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(v,y){for(var p=this.W,E=0;E<16;E++)p[E]=v[y+E];for(;E<p.length;E++)p[E]=s(p[E-3]^p[E-8]^p[E-14]^p[E-16],1);var T=this.h[0],S=this.h[1],A=this.h[2],w=this.h[3],I=this.h[4];for(E=0;E<p.length;E++){var D=~~(E/20),V=i(s(T,5),r(D,S,A,w),I,p[E],l[D]);I=w,w=A,A=s(S,30),S=T,T=V}this.h[0]=t(this.h[0],T),this.h[1]=t(this.h[1],S),this.h[2]=t(this.h[2],A),this.h[3]=t(this.h[3],w),this.h[4]=t(this.h[4],I)},d.prototype._digest=function(v){return v==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,m,g){var f=e("../utils"),u=e("./256");function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f.inherits(h,u),m.exports=h,h.blockSize=512,h.outSize=224,h.hmacStrength=192,h.padLength=64,h.prototype._digest=function(t){return t==="hex"?f.toHex32(this.h.slice(0,7),"big"):f.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,m,g){var f=e("../utils"),u=e("../common"),h=e("./common"),s=e("minimalistic-assert"),t=f.sum32,i=f.sum32_4,r=f.sum32_5,n=h.ch32,l=h.maj32,d=h.s0_256,a=h.s1_256,v=h.g0_256,y=h.g1_256,p=u.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=new Array(64)}f.inherits(T,p),m.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(A,w){for(var I=this.W,D=0;D<16;D++)I[D]=A[w+D];for(;D<I.length;D++)I[D]=i(y(I[D-2]),I[D-7],v(I[D-15]),I[D-16]);var V=this.h[0],ie=this.h[1],te=this.h[2],re=this.h[3],Z=this.h[4],W=this.h[5],j=this.h[6],O=this.h[7];for(s(this.k.length===I.length),D=0;D<I.length;D++){var C=r(O,a(Z),n(Z,W,j),this.k[D],I[D]),F=t(d(V),l(V,ie,te));O=j,j=W,W=Z,Z=t(re,C),re=te,te=ie,ie=V,V=t(C,F)}this.h[0]=t(this.h[0],V),this.h[1]=t(this.h[1],ie),this.h[2]=t(this.h[2],te),this.h[3]=t(this.h[3],re),this.h[4]=t(this.h[4],Z),this.h[5]=t(this.h[5],W),this.h[6]=t(this.h[6],j),this.h[7]=t(this.h[7],O)},T.prototype._digest=function(A){return A==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,m,g){var f=e("../utils"),u=e("./512");function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}f.inherits(h,u),m.exports=h,h.blockSize=1024,h.outSize=384,h.hmacStrength=192,h.padLength=128,h.prototype._digest=function(t){return t==="hex"?f.toHex32(this.h.slice(0,12),"big"):f.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,m,g){var f=e("../utils"),u=e("../common"),h=e("minimalistic-assert"),s=f.rotr64_hi,t=f.rotr64_lo,i=f.shr64_hi,r=f.shr64_lo,n=f.sum64,l=f.sum64_hi,d=f.sum64_lo,a=f.sum64_4_hi,v=f.sum64_4_lo,y=f.sum64_5_hi,p=f.sum64_5_lo,E=u.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function S(){if(!(this instanceof S))return new S;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}f.inherits(S,E),m.exports=S,S.blockSize=1024,S.outSize=512,S.hmacStrength=192,S.padLength=128,S.prototype._prepareBlock=function(F,H){for(var $=this.W,Y=0;Y<32;Y++)$[Y]=F[H+Y];for(;Y<$.length;Y+=2){var z=j($[Y-4],$[Y-3]),B=O($[Y-4],$[Y-3]),L=$[Y-14],G=$[Y-13],le=Z($[Y-30],$[Y-29]),ge=W($[Y-30],$[Y-29]),Ie=$[Y-32],Oe=$[Y-31];$[Y]=a(z,B,L,G,le,ge,Ie,Oe),$[Y+1]=v(z,B,L,G,le,ge,Ie,Oe)}},S.prototype._update=function(F,H){this._prepareBlock(F,H);var $=this.W,Y=this.h[0],z=this.h[1],B=this.h[2],L=this.h[3],G=this.h[4],le=this.h[5],ge=this.h[6],Ie=this.h[7],Oe=this.h[8],Ke=this.h[9],De=this.h[10],Ee=this.h[11],Q=this.h[12],ue=this.h[13],xe=this.h[14],_e=this.h[15];h(this.k.length===$.length);for(var ce=0;ce<$.length;ce+=2){var de=xe,he=_e,se=te(Oe,Ke),ne=re(Oe,Ke),we=A(Oe,Ke,De,Ee,Q),Ne=w(Oe,Ke,De,Ee,Q,ue),ae=this.k[ce],Pe=this.k[ce+1],ze=$[ce],ve=$[ce+1],Ae=y(de,he,se,ne,we,Ne,ae,Pe,ze,ve),Be=p(de,he,se,ne,we,Ne,ae,Pe,ze,ve);de=V(Y,z),he=ie(Y,z),se=I(Y,z,B,L,G),ne=D(Y,z,B,L,G,le);var We=l(de,he,se,ne),Je=d(de,he,se,ne);xe=Q,_e=ue,Q=De,ue=Ee,De=Oe,Ee=Ke,Oe=l(ge,Ie,Ae,Be),Ke=d(Ie,Ie,Ae,Be),ge=G,Ie=le,G=B,le=L,B=Y,L=z,Y=l(Ae,Be,We,Je),z=d(Ae,Be,We,Je)}n(this.h,0,Y,z),n(this.h,2,B,L),n(this.h,4,G,le),n(this.h,6,ge,Ie),n(this.h,8,Oe,Ke),n(this.h,10,De,Ee),n(this.h,12,Q,ue),n(this.h,14,xe,_e)},S.prototype._digest=function(F){return F==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")};function A(C,F,H,$,Y){var z=C&H^~C&Y;return z<0&&(z+=4294967296),z}function w(C,F,H,$,Y,z){var B=F&$^~F&z;return B<0&&(B+=4294967296),B}function I(C,F,H,$,Y){var z=C&H^C&Y^H&Y;return z<0&&(z+=4294967296),z}function D(C,F,H,$,Y,z){var B=F&$^F&z^$&z;return B<0&&(B+=4294967296),B}function V(C,F){var H=s(C,F,28),$=s(F,C,2),Y=s(F,C,7),z=H^$^Y;return z<0&&(z+=4294967296),z}function ie(C,F){var H=t(C,F,28),$=t(F,C,2),Y=t(F,C,7),z=H^$^Y;return z<0&&(z+=4294967296),z}function te(C,F){var H=s(C,F,14),$=s(C,F,18),Y=s(F,C,9),z=H^$^Y;return z<0&&(z+=4294967296),z}function re(C,F){var H=t(C,F,14),$=t(C,F,18),Y=t(F,C,9),z=H^$^Y;return z<0&&(z+=4294967296),z}function Z(C,F){var H=s(C,F,1),$=s(C,F,8),Y=i(C,F,7),z=H^$^Y;return z<0&&(z+=4294967296),z}function W(C,F){var H=t(C,F,1),$=t(C,F,8),Y=r(C,F,7),z=H^$^Y;return z<0&&(z+=4294967296),z}function j(C,F){var H=s(C,F,19),$=s(F,C,29),Y=i(C,F,6),z=H^$^Y;return z<0&&(z+=4294967296),z}function O(C,F){var H=t(C,F,19),$=t(F,C,29),Y=r(C,F,6),z=H^$^Y;return z<0&&(z+=4294967296),z}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,m,g){var f=e("../utils"),u=f.rotr32;function h(a,v,y,p){if(a===0)return s(v,y,p);if(a===1||a===3)return i(v,y,p);if(a===2)return t(v,y,p)}g.ft_1=h;function s(a,v,y){return a&v^~a&y}g.ch32=s;function t(a,v,y){return a&v^a&y^v&y}g.maj32=t;function i(a,v,y){return a^v^y}g.p32=i;function r(a){return u(a,2)^u(a,13)^u(a,22)}g.s0_256=r;function n(a){return u(a,6)^u(a,11)^u(a,25)}g.s1_256=n;function l(a){return u(a,7)^u(a,18)^a>>>3}g.g0_256=l;function d(a){return u(a,17)^u(a,19)^a>>>10}g.g1_256=d},{"../utils":437}],437:[function(e,m,g){var f=e("minimalistic-assert"),u=e("inherits");g.inherits=u;function h(O,C){return(O.charCodeAt(C)&64512)!==55296||C<0||C+1>=O.length?!1:(O.charCodeAt(C+1)&64512)===56320}function s(O,C){if(Array.isArray(O))return O.slice();if(!O)return[];var F=[];if(typeof O=="string")if(C){if(C==="hex")for(O=O.replace(/[^a-z0-9]+/ig,""),O.length%2!==0&&(O="0"+O),$=0;$<O.length;$+=2)F.push(parseInt(O[$]+O[$+1],16))}else for(var H=0,$=0;$<O.length;$++){var Y=O.charCodeAt($);Y<128?F[H++]=Y:Y<2048?(F[H++]=Y>>6|192,F[H++]=Y&63|128):h(O,$)?(Y=65536+((Y&1023)<<10)+(O.charCodeAt(++$)&1023),F[H++]=Y>>18|240,F[H++]=Y>>12&63|128,F[H++]=Y>>6&63|128,F[H++]=Y&63|128):(F[H++]=Y>>12|224,F[H++]=Y>>6&63|128,F[H++]=Y&63|128)}else for($=0;$<O.length;$++)F[$]=O[$]|0;return F}g.toArray=s;function t(O){for(var C="",F=0;F<O.length;F++)C+=n(O[F].toString(16));return C}g.toHex=t;function i(O){var C=O>>>24|O>>>8&65280|O<<8&16711680|(O&255)<<24;return C>>>0}g.htonl=i;function r(O,C){for(var F="",H=0;H<O.length;H++){var $=O[H];C==="little"&&($=i($)),F+=l($.toString(16))}return F}g.toHex32=r;function n(O){return O.length===1?"0"+O:O}g.zero2=n;function l(O){return O.length===7?"0"+O:O.length===6?"00"+O:O.length===5?"000"+O:O.length===4?"0000"+O:O.length===3?"00000"+O:O.length===2?"000000"+O:O.length===1?"0000000"+O:O}g.zero8=l;function d(O,C,F,H){var $=F-C;f($%4===0);for(var Y=new Array($/4),z=0,B=C;z<Y.length;z++,B+=4){var L;H==="big"?L=O[B]<<24|O[B+1]<<16|O[B+2]<<8|O[B+3]:L=O[B+3]<<24|O[B+2]<<16|O[B+1]<<8|O[B],Y[z]=L>>>0}return Y}g.join32=d;function a(O,C){for(var F=new Array(O.length*4),H=0,$=0;H<O.length;H++,$+=4){var Y=O[H];C==="big"?(F[$]=Y>>>24,F[$+1]=Y>>>16&255,F[$+2]=Y>>>8&255,F[$+3]=Y&255):(F[$+3]=Y>>>24,F[$+2]=Y>>>16&255,F[$+1]=Y>>>8&255,F[$]=Y&255)}return F}g.split32=a;function v(O,C){return O>>>C|O<<32-C}g.rotr32=v;function y(O,C){return O<<C|O>>>32-C}g.rotl32=y;function p(O,C){return O+C>>>0}g.sum32=p;function E(O,C,F){return O+C+F>>>0}g.sum32_3=E;function T(O,C,F,H){return O+C+F+H>>>0}g.sum32_4=T;function S(O,C,F,H,$){return O+C+F+H+$>>>0}g.sum32_5=S;function A(O,C,F,H){var $=O[C],Y=O[C+1],z=H+Y>>>0,B=(z<H?1:0)+F+$;O[C]=B>>>0,O[C+1]=z}g.sum64=A;function w(O,C,F,H){var $=C+H>>>0,Y=($<C?1:0)+O+F;return Y>>>0}g.sum64_hi=w;function I(O,C,F,H){var $=C+H;return $>>>0}g.sum64_lo=I;function D(O,C,F,H,$,Y,z,B){var L=0,G=C;G=G+H>>>0,L+=G<C?1:0,G=G+Y>>>0,L+=G<Y?1:0,G=G+B>>>0,L+=G<B?1:0;var le=O+F+$+z+L;return le>>>0}g.sum64_4_hi=D;function V(O,C,F,H,$,Y,z,B){var L=C+H+Y+B;return L>>>0}g.sum64_4_lo=V;function ie(O,C,F,H,$,Y,z,B,L,G){var le=0,ge=C;ge=ge+H>>>0,le+=ge<C?1:0,ge=ge+Y>>>0,le+=ge<Y?1:0,ge=ge+B>>>0,le+=ge<B?1:0,ge=ge+G>>>0,le+=ge<G?1:0;var Ie=O+F+$+z+L+le;return Ie>>>0}g.sum64_5_hi=ie;function te(O,C,F,H,$,Y,z,B,L,G){var le=C+H+Y+B+G;return le>>>0}g.sum64_5_lo=te;function re(O,C,F){var H=C<<32-F|O>>>F;return H>>>0}g.rotr64_hi=re;function Z(O,C,F){var H=O<<32-F|C>>>F;return H>>>0}g.rotr64_lo=Z;function W(O,C,F){return O>>>F}g.shr64_hi=W;function j(O,C,F){var H=O<<32-F|C>>>F;return H>>>0}g.shr64_lo=j},{inherits:440,"minimalistic-assert":453}],438:[function(e,m,g){var f=e("hash.js"),u=e("minimalistic-crypto-utils"),h=e("minimalistic-assert");function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=u.toArray(t.entropy,t.entropyEnc||"hex"),r=u.toArray(t.nonce,t.nonceEnc||"hex"),n=u.toArray(t.pers,t.persEnc||"hex");h(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,r,n)}m.exports=s,s.prototype._init=function(i,r,n){var l=i.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new f.hmac(this.hash,this.K)},s.prototype._update=function(i){var r=this._hmac().update(this.V).update([0]);i&&(r=r.update(i)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(i,r,n,l){typeof r!="string"&&(l=n,n=r,r=null),i=u.toArray(i,r),n=u.toArray(n,l),h(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(n||[])),this._reseed=1},s.prototype.generate=function(i,r,n,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(l=n,n=r,r=null),n&&(n=u.toArray(n,l||"hex"),this._update(n));for(var d=[];d.length<i;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var a=d.slice(0,i);return this._update(n),this._reseed++,u.encode(a,r)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,m,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(f,u,h,s,t){var i,r,n=t*8-s-1,l=(1<<n)-1,d=l>>1,a=-7,v=h?t-1:0,y=h?-1:1,p=f[u+v];for(v+=y,i=p&(1<<-a)-1,p>>=-a,a+=n;a>0;i=i*256+f[u+v],v+=y,a-=8);for(r=i&(1<<-a)-1,i>>=-a,a+=s;a>0;r=r*256+f[u+v],v+=y,a-=8);if(i===0)i=1-d;else{if(i===l)return r?NaN:(p?-1:1)*(1/0);r=r+Math.pow(2,s),i=i-d}return(p?-1:1)*r*Math.pow(2,i-s)},g.write=function(f,u,h,s,t,i){var r,n,l,d=i*8-t-1,a=(1<<d)-1,v=a>>1,y=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:i-1,E=s?1:-1,T=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(n=isNaN(u)?1:0,r=a):(r=Math.floor(Math.log(u)/Math.LN2),u*(l=Math.pow(2,-r))<1&&(r--,l*=2),r+v>=1?u+=y/l:u+=y*Math.pow(2,1-v),u*l>=2&&(r++,l/=2),r+v>=a?(n=0,r=a):r+v>=1?(n=(u*l-1)*Math.pow(2,t),r=r+v):(n=u*Math.pow(2,v-1)*Math.pow(2,t),r=0));t>=8;f[h+p]=n&255,p+=E,n/=256,t-=8);for(r=r<<t|n,d+=t;d>0;f[h+p]=r&255,p+=E,r/=256,d-=8);f[h+p-E]|=T*128}},{}],440:[function(e,m,g){typeof Object.create=="function"?m.exports=function(u,h){h&&(u.super_=h,u.prototype=Object.create(h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(u,h){if(h){u.super_=h;var s=function(){};s.prototype=h.prototype,u.prototype=new s,u.prototype.constructor=u}}},{}],441:[function(e,m,g){(function(f,u,h,s,t,i,r,n){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(l){typeof g=="object"&&typeof m<"u"?m.exports=l():(typeof window<"u"?window:typeof u<"u"?u:typeof self<"u"?self:this).JSZip=l()})(function(){return function l(d,a,v){function y(T,S){if(!a[T]){if(!d[T]){var A=typeof e=="function"&&e;if(!S&&A)return A(T,!0);if(p)return p(T,!0);var w=new Error("Cannot find module '"+T+"'");throw w.code="MODULE_NOT_FOUND",w}var I=a[T]={exports:{}};d[T][0].call(I.exports,function(D){var V=d[T][1][D];return y(V||D)},I,I.exports,l,d,a,v)}return a[T].exports}for(var p=typeof e=="function"&&e,E=0;E<v.length;E++)y(v[E]);return y}({1:[function(l,d,a){var v=l("./utils"),y=l("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(E){for(var T,S,A,w,I,D,V,ie=[],te=0,re=E.length,Z=re,W=v.getTypeOf(E)!=="string";te<E.length;)Z=re-te,A=W?(T=E[te++],S=te<re?E[te++]:0,te<re?E[te++]:0):(T=E.charCodeAt(te++),S=te<re?E.charCodeAt(te++):0,te<re?E.charCodeAt(te++):0),w=T>>2,I=(3&T)<<4|S>>4,D=1<Z?(15&S)<<2|A>>6:64,V=2<Z?63&A:64,ie.push(p.charAt(w)+p.charAt(I)+p.charAt(D)+p.charAt(V));return ie.join("")},a.decode=function(E){var T,S,A,w,I,D,V=0,ie=0,te="data:";if(E.substr(0,te.length)===te)throw new Error("Invalid base64 input, it looks like a data url.");var re,Z=3*(E=E.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(E.charAt(E.length-1)===p.charAt(64)&&Z--,E.charAt(E.length-2)===p.charAt(64)&&Z--,Z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(re=y.uint8array?new Uint8Array(0|Z):new Array(0|Z);V<E.length;)T=p.indexOf(E.charAt(V++))<<2|(w=p.indexOf(E.charAt(V++)))>>4,S=(15&w)<<4|(I=p.indexOf(E.charAt(V++)))>>2,A=(3&I)<<6|(D=p.indexOf(E.charAt(V++))),re[ie++]=T,I!==64&&(re[ie++]=S),D!==64&&(re[ie++]=A);return re}},{"./support":30,"./utils":32}],2:[function(l,d,a){var v=l("./external"),y=l("./stream/DataWorker"),p=l("./stream/Crc32Probe"),E=l("./stream/DataLengthProbe");function T(S,A,w,I,D){this.compressedSize=S,this.uncompressedSize=A,this.crc32=w,this.compression=I,this.compressedContent=D}T.prototype={getContentWorker:function(){var S=new y(v.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new E("data_length")),A=this;return S.on("end",function(){if(this.streamInfo.data_length!==A.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new y(v.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(S,A,w){return S.pipe(new p).pipe(new E("uncompressedSize")).pipe(A.compressWorker(w)).pipe(new E("compressedSize")).withStreamInfo("compression",A)},d.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,d,a){var v=l("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new v("STORE compression")},uncompressWorker:function(){return new v("STORE decompression")}},a.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,d,a){var v=l("./utils"),y=function(){for(var p,E=[],T=0;T<256;T++){p=T;for(var S=0;S<8;S++)p=1&p?3988292384^p>>>1:p>>>1;E[T]=p}return E}();d.exports=function(p,E){return p!==void 0&&p.length?v.getTypeOf(p)!=="string"?function(T,S,A,w){var I=y,D=w+A;T^=-1;for(var V=w;V<D;V++)T=T>>>8^I[255&(T^S[V])];return-1^T}(0|E,p,p.length,0):function(T,S,A,w){var I=y,D=w+A;T^=-1;for(var V=w;V<D;V++)T=T>>>8^I[255&(T^S.charCodeAt(V))];return-1^T}(0|E,p,p.length,0):0}},{"./utils":32}],5:[function(l,d,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(l,d,a){var v=null;v=typeof Promise<"u"?Promise:l("lie"),d.exports={Promise:v}},{lie:37}],7:[function(l,d,a){var v=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=l("pako"),p=l("./utils"),E=l("./stream/GenericWorker"),T=v?"uint8array":"array";function S(A,w){E.call(this,"FlateWorker/"+A),this._pako=null,this._pakoAction=A,this._pakoOptions=w,this.meta={}}a.magic="\b\0",p.inherits(S,E),S.prototype.processChunk=function(A){this.meta=A.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(T,A.data),!1)},S.prototype.flush=function(){E.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){E.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var A=this;this._pako.onData=function(w){A.push({data:w,meta:A.meta})}},a.compressWorker=function(A){return new S("Deflate",A)},a.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,d,a){function v(I,D){var V,ie="";for(V=0;V<D;V++)ie+=String.fromCharCode(255&I),I>>>=8;return ie}function y(I,D,V,ie,te,re){var Z,W,j=I.file,O=I.compression,C=re!==T.utf8encode,F=p.transformTo("string",re(j.name)),H=p.transformTo("string",T.utf8encode(j.name)),$=j.comment,Y=p.transformTo("string",re($)),z=p.transformTo("string",T.utf8encode($)),B=H.length!==j.name.length,L=z.length!==$.length,G="",le="",ge="",Ie=j.dir,Oe=j.date,Ke={crc32:0,compressedSize:0,uncompressedSize:0};D&&!V||(Ke.crc32=I.crc32,Ke.compressedSize=I.compressedSize,Ke.uncompressedSize=I.uncompressedSize);var De=0;D&&(De|=8),C||!B&&!L||(De|=2048);var Ee=0,Q=0;Ie&&(Ee|=16),te==="UNIX"?(Q=798,Ee|=function(xe,_e){var ce=xe;return xe||(ce=_e?16893:33204),(65535&ce)<<16}(j.unixPermissions,Ie)):(Q=20,Ee|=function(xe){return 63&(xe||0)}(j.dosPermissions)),Z=Oe.getUTCHours(),Z<<=6,Z|=Oe.getUTCMinutes(),Z<<=5,Z|=Oe.getUTCSeconds()/2,W=Oe.getUTCFullYear()-1980,W<<=4,W|=Oe.getUTCMonth()+1,W<<=5,W|=Oe.getUTCDate(),B&&(le=v(1,1)+v(S(F),4)+H,G+="up"+v(le.length,2)+le),L&&(ge=v(1,1)+v(S(Y),4)+z,G+="uc"+v(ge.length,2)+ge);var ue="";return ue+=`
\0`,ue+=v(De,2),ue+=O.magic,ue+=v(Z,2),ue+=v(W,2),ue+=v(Ke.crc32,4),ue+=v(Ke.compressedSize,4),ue+=v(Ke.uncompressedSize,4),ue+=v(F.length,2),ue+=v(G.length,2),{fileRecord:A.LOCAL_FILE_HEADER+ue+F+G,dirRecord:A.CENTRAL_FILE_HEADER+v(Q,2)+ue+v(Y.length,2)+"\0\0\0\0"+v(Ee,4)+v(ie,4)+F+G+Y}}var p=l("../utils"),E=l("../stream/GenericWorker"),T=l("../utf8"),S=l("../crc32"),A=l("../signature");function w(I,D,V,ie){E.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=V,this.encodeFileName=ie,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(w,E),w.prototype.push=function(I){var D=I.meta.percent||0,V=this.entriesCount,ie=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,E.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:V?(D+100*(V-ie-1))/V:100}}))},w.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var D=this.streamFiles&&!I.file.dir;if(D){var V=y(I,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(I){this.accumulate=!1;var D=this.streamFiles&&!I.file.dir,V=y(I,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),D)this.push({data:function(ie){return A.DATA_DESCRIPTOR+v(ie.crc32,4)+v(ie.compressedSize,4)+v(ie.uncompressedSize,4)}(I),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var I=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var V=this.bytesWritten-I,ie=function(te,re,Z,W,j){var O=p.transformTo("string",j(W));return A.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(te,2)+v(te,2)+v(re,4)+v(Z,4)+v(O.length,2)+O}(this.dirRecords.length,V,I,this.zipComment,this.encodeFileName);this.push({data:ie,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(I){this._sources.push(I);var D=this;return I.on("data",function(V){D.processChunk(V)}),I.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),I.on("error",function(V){D.error(V)}),this},w.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(I){var D=this._sources;if(!E.prototype.error.call(this,I))return!1;for(var V=0;V<D.length;V++)try{D[V].error(I)}catch{}return!0},w.prototype.lock=function(){E.prototype.lock.call(this);for(var I=this._sources,D=0;D<I.length;D++)I[D].lock()},d.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,d,a){var v=l("../compressions"),y=l("./ZipFileWorker");a.generateWorker=function(p,E,T){var S=new y(E.streamFiles,T,E.platform,E.encodeFileName),A=0;try{p.forEach(function(w,I){A++;var D=function(re,Z){var W=re||Z,j=v[W];if(!j)throw new Error(W+" is not a valid compression method !");return j}(I.options.compression,E.compression),V=I.options.compressionOptions||E.compressionOptions||{},ie=I.dir,te=I.date;I._compressWorker(D,V).withStreamInfo("file",{name:w,dir:ie,date:te,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(S)}),S.entriesCount=A}catch(w){S.error(w)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,d,a){function v(){if(!(this instanceof v))return new v;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new v;for(var p in this)typeof this[p]!="function"&&(y[p]=this[p]);return y}}(v.prototype=l("./object")).loadAsync=l("./load"),v.support=l("./support"),v.defaults=l("./defaults"),v.version="3.10.1",v.loadAsync=function(y,p){return new v().loadAsync(y,p)},v.external=l("./external"),d.exports=v},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,d,a){var v=l("./utils"),y=l("./external"),p=l("./utf8"),E=l("./zipEntries"),T=l("./stream/Crc32Probe"),S=l("./nodejsUtils");function A(w){return new y.Promise(function(I,D){var V=w.decompressed.getContentWorker().pipe(new T);V.on("error",function(ie){D(ie)}).on("end",function(){V.streamInfo.crc32!==w.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):I()}).resume()})}d.exports=function(w,I){var D=this;return I=v.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),S.isNode&&S.isStream(w)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):v.prepareContent("the loaded zip file",w,!0,I.optimizedBinaryString,I.base64).then(function(V){var ie=new E(I);return ie.load(V),ie}).then(function(V){var ie=[y.Promise.resolve(V)],te=V.files;if(I.checkCRC32)for(var re=0;re<te.length;re++)ie.push(A(te[re]));return y.Promise.all(ie)}).then(function(V){for(var ie=V.shift(),te=ie.files,re=0;re<te.length;re++){var Z=te[re],W=Z.fileNameStr,j=v.resolve(Z.fileNameStr);D.file(j,Z.decompressed,{binary:!0,optimizedBinaryString:!0,date:Z.date,dir:Z.dir,comment:Z.fileCommentStr.length?Z.fileCommentStr:null,unixPermissions:Z.unixPermissions,dosPermissions:Z.dosPermissions,createFolders:I.createFolders}),Z.dir||(D.file(j).unsafeOriginalName=W)}return ie.zipComment.length&&(D.comment=ie.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,d,a){var v=l("../utils"),y=l("../stream/GenericWorker");function p(E,T){y.call(this,"Nodejs stream input adapter for "+E),this._upstreamEnded=!1,this._bindStream(T)}v.inherits(p,y),p.prototype._bindStream=function(E){var T=this;(this._stream=E).pause(),E.on("data",function(S){T.push({data:S,meta:{percent:0}})}).on("error",function(S){T.isPaused?this.generatedError=S:T.error(S)}).on("end",function(){T.isPaused?T._upstreamEnded=!0:T.end()})},p.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},d.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,d,a){var v=l("readable-stream").Readable;function y(p,E,T){v.call(this,E),this._helper=p;var S=this;p.on("data",function(A,w){S.push(A)||S._helper.pause(),T&&T(w)}).on("error",function(A){S.emit("error",A)}).on("end",function(){S.push(null)})}l("../utils").inherits(y,v),y.prototype._read=function(){this._helper.resume()},d.exports=y},{"../utils":32,"readable-stream":16}],14:[function(l,d,a){d.exports={isNode:typeof h<"u",newBufferFrom:function(v,y){if(h.from&&h.from!==Uint8Array.from)return h.from(v,y);if(typeof v=="number")throw new Error('The "data" argument must not be a number');return new h(v,y)},allocBuffer:function(v){if(h.alloc)return h.alloc(v);var y=new h(v);return y.fill(0),y},isBuffer:function(v){return h.isBuffer(v)},isStream:function(v){return v&&typeof v.on=="function"&&typeof v.pause=="function"&&typeof v.resume=="function"}}},{}],15:[function(l,d,a){function v(j,O,C){var F,H=p.getTypeOf(O),$=p.extend(C||{},S);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(j=te(j)),$.createFolders&&(F=ie(j))&&re.call(this,F,!0);var Y=H==="string"&&$.binary===!1&&$.base64===!1;C&&C.binary!==void 0||($.binary=!Y),(O instanceof A&&O.uncompressedSize===0||$.dir||!O||O.length===0)&&($.base64=!1,$.binary=!0,O="",$.compression="STORE",H="string");var z=null;z=O instanceof A||O instanceof E?O:D.isNode&&D.isStream(O)?new V(j,O):p.prepareContent(j,O,$.binary,$.optimizedBinaryString,$.base64);var B=new w(j,z,$);this.files[j]=B}var y=l("./utf8"),p=l("./utils"),E=l("./stream/GenericWorker"),T=l("./stream/StreamHelper"),S=l("./defaults"),A=l("./compressedObject"),w=l("./zipObject"),I=l("./generate"),D=l("./nodejsUtils"),V=l("./nodejs/NodejsStreamInputAdapter"),ie=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var O=j.lastIndexOf("/");return 0<O?j.substring(0,O):""},te=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},re=function(j,O){return O=O!==void 0?O:S.createFolders,j=te(j),this.files[j]||v.call(this,j,null,{dir:!0,createFolders:O}),this.files[j]};function Z(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var W={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var O,C,F;for(O in this.files)F=this.files[O],(C=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&j(C,F)},filter:function(j){var O=[];return this.forEach(function(C,F){j(C,F)&&O.push(F)}),O},file:function(j,O,C){if(arguments.length!==1)return j=this.root+j,v.call(this,j,O,C),this;if(Z(j)){var F=j;return this.filter(function($,Y){return!Y.dir&&F.test($)})}var H=this.files[this.root+j];return H&&!H.dir?H:null},folder:function(j){if(!j)return this;if(Z(j))return this.filter(function(H,$){return $.dir&&j.test(H)});var O=this.root+j,C=re.call(this,O),F=this.clone();return F.root=C.name,F},remove:function(j){j=this.root+j;var O=this.files[j];if(O||(j.slice(-1)!=="/"&&(j+="/"),O=this.files[j]),O&&!O.dir)delete this.files[j];else for(var C=this.filter(function(H,$){return $.name.slice(0,j.length)===j}),F=0;F<C.length;F++)delete this.files[C[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var O,C={};try{if((C=p.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");p.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var F=C.comment||this.comment||"";O=I.generateWorker(this,C,F)}catch(H){(O=new E("error")).error(H)}return new T(O,C.type||"string",C.mimeType)},generateAsync:function(j,O){return this.generateInternalStream(j).accumulate(O)},generateNodeStream:function(j,O){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(O)}};d.exports=W},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,d,a){d.exports=l("stream")},{stream:void 0}],17:[function(l,d,a){var v=l("./DataReader");function y(p){v.call(this,p);for(var E=0;E<this.data.length;E++)p[E]=255&p[E]}l("../utils").inherits(y,v),y.prototype.byteAt=function(p){return this.data[this.zero+p]},y.prototype.lastIndexOfSignature=function(p){for(var E=p.charCodeAt(0),T=p.charCodeAt(1),S=p.charCodeAt(2),A=p.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===E&&this.data[w+1]===T&&this.data[w+2]===S&&this.data[w+3]===A)return w-this.zero;return-1},y.prototype.readAndCheckSignature=function(p){var E=p.charCodeAt(0),T=p.charCodeAt(1),S=p.charCodeAt(2),A=p.charCodeAt(3),w=this.readData(4);return E===w[0]&&T===w[1]&&S===w[2]&&A===w[3]},y.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var E=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./DataReader":18}],18:[function(l,d,a){var v=l("../utils");function y(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var E,T=0;for(this.checkOffset(p),E=this.index+p-1;E>=this.index;E--)T=(T<<8)+this.byteAt(E);return this.index+=p,T},readString:function(p){return v.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},d.exports=y},{"../utils":32}],19:[function(l,d,a){var v=l("./Uint8ArrayReader");function y(p){v.call(this,p)}l("../utils").inherits(y,v),y.prototype.readData=function(p){this.checkOffset(p);var E=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,d,a){var v=l("./DataReader");function y(p){v.call(this,p)}l("../utils").inherits(y,v),y.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},y.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},y.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},y.prototype.readData=function(p){this.checkOffset(p);var E=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./DataReader":18}],21:[function(l,d,a){var v=l("./ArrayReader");function y(p){v.call(this,p)}l("../utils").inherits(y,v),y.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var E=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(l,d,a){var v=l("../utils"),y=l("../support"),p=l("./ArrayReader"),E=l("./StringReader"),T=l("./NodeBufferReader"),S=l("./Uint8ArrayReader");d.exports=function(A){var w=v.getTypeOf(A);return v.checkSupport(w),w!=="string"||y.uint8array?w==="nodebuffer"?new T(A):y.uint8array?new S(v.transformTo("uint8array",A)):new p(v.transformTo("array",A)):new E(A)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,d,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,d,a){var v=l("./GenericWorker"),y=l("../utils");function p(E){v.call(this,"ConvertWorker to "+E),this.destType=E}y.inherits(p,v),p.prototype.processChunk=function(E){this.push({data:y.transformTo(this.destType,E.data),meta:E.meta})},d.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(l,d,a){var v=l("./GenericWorker"),y=l("../crc32");function p(){v.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(p,v),p.prototype.processChunk=function(E){this.streamInfo.crc32=y(E.data,this.streamInfo.crc32||0),this.push(E)},d.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,d,a){var v=l("../utils"),y=l("./GenericWorker");function p(E){y.call(this,"DataLengthProbe for "+E),this.propName=E,this.withStreamInfo(E,0)}v.inherits(p,y),p.prototype.processChunk=function(E){if(E){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+E.data.length}y.prototype.processChunk.call(this,E)},d.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(l,d,a){var v=l("../utils"),y=l("./GenericWorker");function p(E){y.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,E.then(function(S){T.dataIsReady=!0,T.data=S,T.max=S&&S.length||0,T.type=v.getTypeOf(S),T.isPaused||T._tickAndRepeat()},function(S){T.error(S)})}v.inherits(p,y),p.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,v.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(v.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var E=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":E=this.data.substring(this.index,T);break;case"uint8array":E=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":E=this.data.slice(this.index,T)}return this.index=T,this.push({data:E,meta:{percent:this.max?this.index/this.max*100:0}})},d.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(l,d,a){function v(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}v.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,p){return this._listeners[y].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,p){if(this._listeners[y])for(var E=0;E<this._listeners[y].length;E++)this._listeners[y][E].call(this,p)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var p=this;return y.on("data",function(E){p.processChunk(E)}),y.on("end",function(){p.end()}),y.on("error",function(E){p.error(E)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,p){return this.extraStreamInfo[y]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},d.exports=v},{}],29:[function(l,d,a){var v=l("../utils"),y=l("./ConvertWorker"),p=l("./GenericWorker"),E=l("../base64"),T=l("../support"),S=l("../external"),A=null;if(T.nodestream)try{A=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(D,V){return new S.Promise(function(ie,te){var re=[],Z=D._internalType,W=D._outputType,j=D._mimeType;D.on("data",function(O,C){re.push(O),V&&V(C)}).on("error",function(O){re=[],te(O)}).on("end",function(){try{var O=function(C,F,H){switch(C){case"blob":return v.newBlob(v.transformTo("arraybuffer",F),H);case"base64":return E.encode(F);default:return v.transformTo(C,F)}}(W,function(C,F){var H,$=0,Y=null,z=0;for(H=0;H<F.length;H++)z+=F[H].length;switch(C){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(Y=new Uint8Array(z),H=0;H<F.length;H++)Y.set(F[H],$),$+=F[H].length;return Y;case"nodebuffer":return h.concat(F);default:throw new Error("concat : unsupported type '"+C+"'")}}(Z,re),j);ie(O)}catch(C){te(C)}re=[]}).resume()})}function I(D,V,ie){var te=V;switch(V){case"blob":case"arraybuffer":te="uint8array";break;case"base64":te="string"}try{this._internalType=te,this._outputType=V,this._mimeType=ie,v.checkSupport(te),this._worker=D.pipe(new y(te)),D.lock()}catch(re){this._worker=new p("error"),this._worker.error(re)}}I.prototype={accumulate:function(D){return w(this,D)},on:function(D,V){var ie=this;return D==="data"?this._worker.on(D,function(te){V.call(ie,te.data,te.meta)}):this._worker.on(D,function(){v.delay(V,arguments,ie)}),this},resume:function(){return v.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(v.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new A(this,{objectMode:this._outputType!=="nodebuffer"},D)}},d.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,d,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof h<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var v=new ArrayBuffer(0);try{a.blob=new Blob([v],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(v),a.blob=y.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!l("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(l,d,a){for(var v=l("./utils"),y=l("./support"),p=l("./nodejsUtils"),E=l("./stream/GenericWorker"),T=new Array(256),S=0;S<256;S++)T[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;T[254]=T[254]=1;function A(){E.call(this,"utf-8 decode"),this.leftOver=null}function w(){E.call(this,"utf-8 encode")}a.utf8encode=function(I){return y.nodebuffer?p.newBufferFrom(I,"utf-8"):function(D){var V,ie,te,re,Z,W=D.length,j=0;for(re=0;re<W;re++)(64512&(ie=D.charCodeAt(re)))==55296&&re+1<W&&(64512&(te=D.charCodeAt(re+1)))==56320&&(ie=65536+(ie-55296<<10)+(te-56320),re++),j+=ie<128?1:ie<2048?2:ie<65536?3:4;for(V=y.uint8array?new Uint8Array(j):new Array(j),re=Z=0;Z<j;re++)(64512&(ie=D.charCodeAt(re)))==55296&&re+1<W&&(64512&(te=D.charCodeAt(re+1)))==56320&&(ie=65536+(ie-55296<<10)+(te-56320),re++),ie<128?V[Z++]=ie:(ie<2048?V[Z++]=192|ie>>>6:(ie<65536?V[Z++]=224|ie>>>12:(V[Z++]=240|ie>>>18,V[Z++]=128|ie>>>12&63),V[Z++]=128|ie>>>6&63),V[Z++]=128|63&ie);return V}(I)},a.utf8decode=function(I){return y.nodebuffer?v.transformTo("nodebuffer",I).toString("utf-8"):function(D){var V,ie,te,re,Z=D.length,W=new Array(2*Z);for(V=ie=0;V<Z;)if((te=D[V++])<128)W[ie++]=te;else if(4<(re=T[te]))W[ie++]=65533,V+=re-1;else{for(te&=re===2?31:re===3?15:7;1<re&&V<Z;)te=te<<6|63&D[V++],re--;1<re?W[ie++]=65533:te<65536?W[ie++]=te:(te-=65536,W[ie++]=55296|te>>10&1023,W[ie++]=56320|1023&te)}return W.length!==ie&&(W.subarray?W=W.subarray(0,ie):W.length=ie),v.applyFromCharCode(W)}(I=v.transformTo(y.uint8array?"uint8array":"array",I))},v.inherits(A,E),A.prototype.processChunk=function(I){var D=v.transformTo(y.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var V=D;(D=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),D.set(V,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var ie=function(re,Z){var W;for((Z=Z||re.length)>re.length&&(Z=re.length),W=Z-1;0<=W&&(192&re[W])==128;)W--;return W<0||W===0?Z:W+T[re[W]]>Z?W:Z}(D),te=D;ie!==D.length&&(y.uint8array?(te=D.subarray(0,ie),this.leftOver=D.subarray(ie,D.length)):(te=D.slice(0,ie),this.leftOver=D.slice(ie,D.length))),this.push({data:a.utf8decode(te),meta:I.meta})},A.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=A,v.inherits(w,E),w.prototype.processChunk=function(I){this.push({data:a.utf8encode(I.data),meta:I.meta})},a.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,d,a){var v=l("./support"),y=l("./base64"),p=l("./nodejsUtils"),E=l("./external");function T(V){return V}function S(V,ie){for(var te=0;te<V.length;++te)ie[te]=255&V.charCodeAt(te);return ie}l("setimmediate"),a.newBlob=function(V,ie){a.checkSupport("blob");try{return new Blob([V],{type:ie})}catch{try{var te=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return te.append(V),te.getBlob(ie)}catch{throw new Error("Bug : can't construct the Blob.")}}};var A={stringifyByChunk:function(V,ie,te){var re=[],Z=0,W=V.length;if(W<=te)return String.fromCharCode.apply(null,V);for(;Z<W;)ie==="array"||ie==="nodebuffer"?re.push(String.fromCharCode.apply(null,V.slice(Z,Math.min(Z+te,W)))):re.push(String.fromCharCode.apply(null,V.subarray(Z,Math.min(Z+te,W)))),Z+=te;return re.join("")},stringifyByChar:function(V){for(var ie="",te=0;te<V.length;te++)ie+=String.fromCharCode(V[te]);return ie},applyCanBeUsed:{uint8array:function(){try{return v.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return v.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function w(V){var ie=65536,te=a.getTypeOf(V),re=!0;if(te==="uint8array"?re=A.applyCanBeUsed.uint8array:te==="nodebuffer"&&(re=A.applyCanBeUsed.nodebuffer),re)for(;1<ie;)try{return A.stringifyByChunk(V,te,ie)}catch{ie=Math.floor(ie/2)}return A.stringifyByChar(V)}function I(V,ie){for(var te=0;te<V.length;te++)ie[te]=V[te];return ie}a.applyFromCharCode=w;var D={};D.string={string:T,array:function(V){return S(V,new Array(V.length))},arraybuffer:function(V){return D.string.uint8array(V).buffer},uint8array:function(V){return S(V,new Uint8Array(V.length))},nodebuffer:function(V){return S(V,p.allocBuffer(V.length))}},D.array={string:w,array:T,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return p.newBufferFrom(V)}},D.arraybuffer={string:function(V){return w(new Uint8Array(V))},array:function(V){return I(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:T,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return p.newBufferFrom(new Uint8Array(V))}},D.uint8array={string:w,array:function(V){return I(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:T,nodebuffer:function(V){return p.newBufferFrom(V)}},D.nodebuffer={string:w,array:function(V){return I(V,new Array(V.length))},arraybuffer:function(V){return D.nodebuffer.uint8array(V).buffer},uint8array:function(V){return I(V,new Uint8Array(V.length))},nodebuffer:T},a.transformTo=function(V,ie){if(ie=ie||"",!V)return ie;a.checkSupport(V);var te=a.getTypeOf(ie);return D[te][V](ie)},a.resolve=function(V){for(var ie=V.split("/"),te=[],re=0;re<ie.length;re++){var Z=ie[re];Z==="."||Z===""&&re!==0&&re!==ie.length-1||(Z===".."?te.pop():te.push(Z))}return te.join("/")},a.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":v.nodebuffer&&p.isBuffer(V)?"nodebuffer":v.uint8array&&V instanceof Uint8Array?"uint8array":v.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(V){if(!v[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(V){var ie,te,re="";for(te=0;te<(V||"").length;te++)re+="\\x"+((ie=V.charCodeAt(te))<16?"0":"")+ie.toString(16).toUpperCase();return re},a.delay=function(V,ie,te){n(function(){V.apply(te||null,ie||[])})},a.inherits=function(V,ie){function te(){}te.prototype=ie.prototype,V.prototype=new te},a.extend=function(){var V,ie,te={};for(V=0;V<arguments.length;V++)for(ie in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],ie)&&te[ie]===void 0&&(te[ie]=arguments[V][ie]);return te},a.prepareContent=function(V,ie,te,re,Z){return E.Promise.resolve(ie).then(function(W){return v.blob&&(W instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(W))!==-1)&&typeof FileReader<"u"?new E.Promise(function(j,O){var C=new FileReader;C.onload=function(F){j(F.target.result)},C.onerror=function(F){O(F.target.error)},C.readAsArrayBuffer(W)}):W}).then(function(W){var j=a.getTypeOf(W);return j?(j==="arraybuffer"?W=a.transformTo("uint8array",W):j==="string"&&(Z?W=y.decode(W):te&&re!==!0&&(W=function(O){return S(O,v.uint8array?new Uint8Array(O.length):new Array(O.length))}(W))),W):E.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,d,a){var v=l("./reader/readerFor"),y=l("./utils"),p=l("./signature"),E=l("./zipEntry"),T=l("./support");function S(A){this.files=[],this.loadOptions=A}S.prototype={checkSignature:function(A){if(!this.reader.readAndCheckSignature(A)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(w)+", expected "+y.pretty(A)+")")}},isSignature:function(A,w){var I=this.reader.index;this.reader.setIndex(A);var D=this.reader.readString(4)===w;return this.reader.setIndex(I),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var A=this.reader.readData(this.zipCommentLength),w=T.uint8array?"uint8array":"array",I=y.transformTo(w,A);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var A,w,I,D=this.zip64EndOfCentralSize-44;0<D;)A=this.reader.readInt(2),w=this.reader.readInt(4),I=this.reader.readData(w),this.zip64ExtensibleData[A]={id:A,length:w,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var A,w;for(A=0;A<this.files.length;A++)w=this.files[A],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var A;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(A=new E({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(A);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var A=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(A<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(A);var w=A;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(A=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(A),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var D=w-I;if(0<D)this.isSignature(w,p.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(A){this.reader=v(A)},load:function(A){this.prepareReader(A),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},d.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,d,a){var v=l("./reader/readerFor"),y=l("./utils"),p=l("./compressedObject"),E=l("./crc32"),T=l("./utf8"),S=l("./compressions"),A=l("./support");function w(I,D){this.options=I,this.loadOptions=D}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var D,V;if(I.skip(22),this.fileNameLength=I.readInt(2),V=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=function(ie){for(var te in S)if(Object.prototype.hasOwnProperty.call(S,te)&&S[te].magic===ie)return S[te];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,D,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var D=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(D),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=v(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var D,V,ie,te=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<te;)D=I.readInt(2),V=I.readInt(2),ie=I.readData(V),this.extraFields[D]={id:D,length:V,value:ie};I.setIndex(te)},handleUTF8:function(){var I=A.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var V=y.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var ie=this.findExtraFieldUnicodeComment();if(ie!==null)this.fileCommentStr=ie;else{var te=y.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(te)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var D=v(I.value);return D.readInt(1)!==1||E(this.fileName)!==D.readInt(4)?null:T.utf8decode(D.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var D=v(I.value);return D.readInt(1)!==1||E(this.fileComment)!==D.readInt(4)?null:T.utf8decode(D.readData(I.length-5))}return null}},d.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,d,a){function v(D,V,ie){this.name=D,this.dir=ie.dir,this.date=ie.date,this.comment=ie.comment,this.unixPermissions=ie.unixPermissions,this.dosPermissions=ie.dosPermissions,this._data=V,this._dataBinary=ie.binary,this.options={compression:ie.compression,compressionOptions:ie.compressionOptions}}var y=l("./stream/StreamHelper"),p=l("./stream/DataWorker"),E=l("./utf8"),T=l("./compressedObject"),S=l("./stream/GenericWorker");v.prototype={internalStream:function(D){var V=null,ie="string";try{if(!D)throw new Error("No output type specified.");var te=(ie=D.toLowerCase())==="string"||ie==="text";ie!=="binarystring"&&ie!=="text"||(ie="string"),V=this._decompressWorker();var re=!this._dataBinary;re&&!te&&(V=V.pipe(new E.Utf8EncodeWorker)),!re&&te&&(V=V.pipe(new E.Utf8DecodeWorker))}catch(Z){(V=new S("error")).error(Z)}return new y(V,ie,"")},async:function(D,V){return this.internalStream(D).accumulate(V)},nodeStream:function(D,V){return this.internalStream(D||"nodebuffer").toNodejsStream(V)},_compressWorker:function(D,V){if(this._data instanceof T&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var ie=this._decompressWorker();return this._dataBinary||(ie=ie.pipe(new E.Utf8EncodeWorker)),T.createWorkerFrom(ie,D,V)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof S?this._data:new p(this._data)}};for(var A=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<A.length;I++)v.prototype[A[I]]=w;d.exports=v},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,d,a){(function(v){var y,p,E=v.MutationObserver||v.WebKitMutationObserver;if(E){var T=0,S=new E(D),A=v.document.createTextNode("");S.observe(A,{characterData:!0}),y=function(){A.data=T=++T%2}}else if(v.setImmediate||v.MessageChannel===void 0)y="document"in v&&"onreadystatechange"in v.document.createElement("script")?function(){var V=v.document.createElement("script");V.onreadystatechange=function(){D(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},v.document.documentElement.appendChild(V)}:function(){setTimeout(D,0)};else{var w=new v.MessageChannel;w.port1.onmessage=D,y=function(){w.port2.postMessage(0)}}var I=[];function D(){var V,ie;p=!0;for(var te=I.length;te;){for(ie=I,I=[],V=-1;++V<te;)ie[V]();te=I.length}p=!1}d.exports=function(V){I.push(V)!==1||p||y()}}).call(this,typeof u<"u"?u:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,d,a){var v=l("immediate");function y(){}var p={},E=["REJECTED"],T=["FULFILLED"],S=["PENDING"];function A(te){if(typeof te!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,te!==y&&V(this,te)}function w(te,re,Z){this.promise=te,typeof re=="function"&&(this.onFulfilled=re,this.callFulfilled=this.otherCallFulfilled),typeof Z=="function"&&(this.onRejected=Z,this.callRejected=this.otherCallRejected)}function I(te,re,Z){v(function(){var W;try{W=re(Z)}catch(j){return p.reject(te,j)}W===te?p.reject(te,new TypeError("Cannot resolve promise with itself")):p.resolve(te,W)})}function D(te){var re=te&&te.then;if(te&&(typeof te=="object"||typeof te=="function")&&typeof re=="function")return function(){re.apply(te,arguments)}}function V(te,re){var Z=!1;function W(C){Z||(Z=!0,p.reject(te,C))}function j(C){Z||(Z=!0,p.resolve(te,C))}var O=ie(function(){re(j,W)});O.status==="error"&&W(O.value)}function ie(te,re){var Z={};try{Z.value=te(re),Z.status="success"}catch(W){Z.status="error",Z.value=W}return Z}(d.exports=A).prototype.finally=function(te){if(typeof te!="function")return this;var re=this.constructor;return this.then(function(Z){return re.resolve(te()).then(function(){return Z})},function(Z){return re.resolve(te()).then(function(){throw Z})})},A.prototype.catch=function(te){return this.then(null,te)},A.prototype.then=function(te,re){if(typeof te!="function"&&this.state===T||typeof re!="function"&&this.state===E)return this;var Z=new this.constructor(y);return this.state!==S?I(Z,this.state===T?te:re,this.outcome):this.queue.push(new w(Z,te,re)),Z},w.prototype.callFulfilled=function(te){p.resolve(this.promise,te)},w.prototype.otherCallFulfilled=function(te){I(this.promise,this.onFulfilled,te)},w.prototype.callRejected=function(te){p.reject(this.promise,te)},w.prototype.otherCallRejected=function(te){I(this.promise,this.onRejected,te)},p.resolve=function(te,re){var Z=ie(D,re);if(Z.status==="error")return p.reject(te,Z.value);var W=Z.value;if(W)V(te,W);else{te.state=T,te.outcome=re;for(var j=-1,O=te.queue.length;++j<O;)te.queue[j].callFulfilled(re)}return te},p.reject=function(te,re){te.state=E,te.outcome=re;for(var Z=-1,W=te.queue.length;++Z<W;)te.queue[Z].callRejected(re);return te},A.resolve=function(te){return te instanceof this?te:p.resolve(new this(y),te)},A.reject=function(te){var re=new this(y);return p.reject(re,te)},A.all=function(te){var re=this;if(Object.prototype.toString.call(te)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=te.length,W=!1;if(!Z)return this.resolve([]);for(var j=new Array(Z),O=0,C=-1,F=new this(y);++C<Z;)H(te[C],C);return F;function H($,Y){re.resolve($).then(function(z){j[Y]=z,++O!==Z||W||(W=!0,p.resolve(F,j))},function(z){W||(W=!0,p.reject(F,z))})}},A.race=function(te){var re=this;if(Object.prototype.toString.call(te)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=te.length,W=!1;if(!Z)return this.resolve([]);for(var j=-1,O=new this(y);++j<Z;)C=te[j],re.resolve(C).then(function(F){W||(W=!0,p.resolve(O,F))},function(F){W||(W=!0,p.reject(O,F))});var C;return O}},{immediate:36}],38:[function(l,d,a){var v={};(0,l("./lib/utils/common").assign)(v,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),d.exports=v},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,d,a){var v=l("./zlib/deflate"),y=l("./utils/common"),p=l("./utils/strings"),E=l("./zlib/messages"),T=l("./zlib/zstream"),S=Object.prototype.toString,A=0,w=-1,I=0,D=8;function V(te){if(!(this instanceof V))return new V(te);this.options=y.assign({level:w,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:I,to:""},te||{});var re=this.options;re.raw&&0<re.windowBits?re.windowBits=-re.windowBits:re.gzip&&0<re.windowBits&&re.windowBits<16&&(re.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var Z=v.deflateInit2(this.strm,re.level,re.method,re.windowBits,re.memLevel,re.strategy);if(Z!==A)throw new Error(E[Z]);if(re.header&&v.deflateSetHeader(this.strm,re.header),re.dictionary){var W;if(W=typeof re.dictionary=="string"?p.string2buf(re.dictionary):S.call(re.dictionary)==="[object ArrayBuffer]"?new Uint8Array(re.dictionary):re.dictionary,(Z=v.deflateSetDictionary(this.strm,W))!==A)throw new Error(E[Z]);this._dict_set=!0}}function ie(te,re){var Z=new V(re);if(Z.push(te,!0),Z.err)throw Z.msg||E[Z.err];return Z.result}V.prototype.push=function(te,re){var Z,W,j=this.strm,O=this.options.chunkSize;if(this.ended)return!1;W=re===~~re?re:re===!0?4:0,typeof te=="string"?j.input=p.string2buf(te):S.call(te)==="[object ArrayBuffer]"?j.input=new Uint8Array(te):j.input=te,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new y.Buf8(O),j.next_out=0,j.avail_out=O),(Z=v.deflate(j,W))!==1&&Z!==A)return this.onEnd(Z),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(y.shrinkBuf(j.output,j.next_out))):this.onData(y.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&Z!==1);return W===4?(Z=v.deflateEnd(this.strm),this.onEnd(Z),this.ended=!0,Z===A):W!==2||(this.onEnd(A),!(j.avail_out=0))},V.prototype.onData=function(te){this.chunks.push(te)},V.prototype.onEnd=function(te){te===A&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=te,this.msg=this.strm.msg},a.Deflate=V,a.deflate=ie,a.deflateRaw=function(te,re){return(re=re||{}).raw=!0,ie(te,re)},a.gzip=function(te,re){return(re=re||{}).gzip=!0,ie(te,re)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,d,a){var v=l("./zlib/inflate"),y=l("./utils/common"),p=l("./utils/strings"),E=l("./zlib/constants"),T=l("./zlib/messages"),S=l("./zlib/zstream"),A=l("./zlib/gzheader"),w=Object.prototype.toString;function I(V){if(!(this instanceof I))return new I(V);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},V||{});var ie=this.options;ie.raw&&0<=ie.windowBits&&ie.windowBits<16&&(ie.windowBits=-ie.windowBits,ie.windowBits===0&&(ie.windowBits=-15)),!(0<=ie.windowBits&&ie.windowBits<16)||V&&V.windowBits||(ie.windowBits+=32),15<ie.windowBits&&ie.windowBits<48&&!(15&ie.windowBits)&&(ie.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var te=v.inflateInit2(this.strm,ie.windowBits);if(te!==E.Z_OK)throw new Error(T[te]);this.header=new A,v.inflateGetHeader(this.strm,this.header)}function D(V,ie){var te=new I(ie);if(te.push(V,!0),te.err)throw te.msg||T[te.err];return te.result}I.prototype.push=function(V,ie){var te,re,Z,W,j,O,C=this.strm,F=this.options.chunkSize,H=this.options.dictionary,$=!1;if(this.ended)return!1;re=ie===~~ie?ie:ie===!0?E.Z_FINISH:E.Z_NO_FLUSH,typeof V=="string"?C.input=p.binstring2buf(V):w.call(V)==="[object ArrayBuffer]"?C.input=new Uint8Array(V):C.input=V,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new y.Buf8(F),C.next_out=0,C.avail_out=F),(te=v.inflate(C,E.Z_NO_FLUSH))===E.Z_NEED_DICT&&H&&(O=typeof H=="string"?p.string2buf(H):w.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,te=v.inflateSetDictionary(this.strm,O)),te===E.Z_BUF_ERROR&&$===!0&&(te=E.Z_OK,$=!1),te!==E.Z_STREAM_END&&te!==E.Z_OK)return this.onEnd(te),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&te!==E.Z_STREAM_END&&(C.avail_in!==0||re!==E.Z_FINISH&&re!==E.Z_SYNC_FLUSH)||(this.options.to==="string"?(Z=p.utf8border(C.output,C.next_out),W=C.next_out-Z,j=p.buf2string(C.output,Z),C.next_out=W,C.avail_out=F-W,W&&y.arraySet(C.output,C.output,Z,W,0),this.onData(j)):this.onData(y.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&($=!0)}while((0<C.avail_in||C.avail_out===0)&&te!==E.Z_STREAM_END);return te===E.Z_STREAM_END&&(re=E.Z_FINISH),re===E.Z_FINISH?(te=v.inflateEnd(this.strm),this.onEnd(te),this.ended=!0,te===E.Z_OK):re!==E.Z_SYNC_FLUSH||(this.onEnd(E.Z_OK),!(C.avail_out=0))},I.prototype.onData=function(V){this.chunks.push(V)},I.prototype.onEnd=function(V){V===E.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},a.Inflate=I,a.inflate=D,a.inflateRaw=function(V,ie){return(ie=ie||{}).raw=!0,D(V,ie)},a.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,d,a){var v=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(E){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var S=T.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var A in S)S.hasOwnProperty(A)&&(E[A]=S[A])}}return E},a.shrinkBuf=function(E,T){return E.length===T?E:E.subarray?E.subarray(0,T):(E.length=T,E)};var y={arraySet:function(E,T,S,A,w){if(T.subarray&&E.subarray)E.set(T.subarray(S,S+A),w);else for(var I=0;I<A;I++)E[w+I]=T[S+I]},flattenChunks:function(E){var T,S,A,w,I,D;for(T=A=0,S=E.length;T<S;T++)A+=E[T].length;for(D=new Uint8Array(A),T=w=0,S=E.length;T<S;T++)I=E[T],D.set(I,w),w+=I.length;return D}},p={arraySet:function(E,T,S,A,w){for(var I=0;I<A;I++)E[w+I]=T[S+I]},flattenChunks:function(E){return[].concat.apply([],E)}};a.setTyped=function(E){E?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,y)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,p))},a.setTyped(v)},{}],42:[function(l,d,a){var v=l("./common"),y=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var E=new v.Buf8(256),T=0;T<256;T++)E[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function S(A,w){if(w<65537&&(A.subarray&&p||!A.subarray&&y))return String.fromCharCode.apply(null,v.shrinkBuf(A,w));for(var I="",D=0;D<w;D++)I+=String.fromCharCode(A[D]);return I}E[254]=E[254]=1,a.string2buf=function(A){var w,I,D,V,ie,te=A.length,re=0;for(V=0;V<te;V++)(64512&(I=A.charCodeAt(V)))==55296&&V+1<te&&(64512&(D=A.charCodeAt(V+1)))==56320&&(I=65536+(I-55296<<10)+(D-56320),V++),re+=I<128?1:I<2048?2:I<65536?3:4;for(w=new v.Buf8(re),V=ie=0;ie<re;V++)(64512&(I=A.charCodeAt(V)))==55296&&V+1<te&&(64512&(D=A.charCodeAt(V+1)))==56320&&(I=65536+(I-55296<<10)+(D-56320),V++),I<128?w[ie++]=I:(I<2048?w[ie++]=192|I>>>6:(I<65536?w[ie++]=224|I>>>12:(w[ie++]=240|I>>>18,w[ie++]=128|I>>>12&63),w[ie++]=128|I>>>6&63),w[ie++]=128|63&I);return w},a.buf2binstring=function(A){return S(A,A.length)},a.binstring2buf=function(A){for(var w=new v.Buf8(A.length),I=0,D=w.length;I<D;I++)w[I]=A.charCodeAt(I);return w},a.buf2string=function(A,w){var I,D,V,ie,te=w||A.length,re=new Array(2*te);for(I=D=0;I<te;)if((V=A[I++])<128)re[D++]=V;else if(4<(ie=E[V]))re[D++]=65533,I+=ie-1;else{for(V&=ie===2?31:ie===3?15:7;1<ie&&I<te;)V=V<<6|63&A[I++],ie--;1<ie?re[D++]=65533:V<65536?re[D++]=V:(V-=65536,re[D++]=55296|V>>10&1023,re[D++]=56320|1023&V)}return S(re,D)},a.utf8border=function(A,w){var I;for((w=w||A.length)>A.length&&(w=A.length),I=w-1;0<=I&&(192&A[I])==128;)I--;return I<0||I===0?w:I+E[A[I]]>w?I:w}},{"./common":41}],43:[function(l,d,a){d.exports=function(v,y,p,E){for(var T=65535&v|0,S=v>>>16&65535|0,A=0;p!==0;){for(p-=A=2e3<p?2e3:p;S=S+(T=T+y[E++]|0)|0,--A;);T%=65521,S%=65521}return T|S<<16|0}},{}],44:[function(l,d,a){d.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,d,a){var v=function(){for(var y,p=[],E=0;E<256;E++){y=E;for(var T=0;T<8;T++)y=1&y?3988292384^y>>>1:y>>>1;p[E]=y}return p}();d.exports=function(y,p,E,T){var S=v,A=T+E;y^=-1;for(var w=T;w<A;w++)y=y>>>8^S[255&(y^p[w])];return-1^y}},{}],46:[function(l,d,a){var v,y=l("../utils/common"),p=l("./trees"),E=l("./adler32"),T=l("./crc32"),S=l("./messages"),A=0,w=4,I=0,D=-2,V=-1,ie=4,te=2,re=8,Z=9,W=286,j=30,O=19,C=2*W+1,F=15,H=3,$=258,Y=$+H+1,z=42,B=113,L=1,G=2,le=3,ge=4;function Ie(ae,Pe){return ae.msg=S[Pe],Pe}function Oe(ae){return(ae<<1)-(4<ae?9:0)}function Ke(ae){for(var Pe=ae.length;0<=--Pe;)ae[Pe]=0}function De(ae){var Pe=ae.state,ze=Pe.pending;ze>ae.avail_out&&(ze=ae.avail_out),ze!==0&&(y.arraySet(ae.output,Pe.pending_buf,Pe.pending_out,ze,ae.next_out),ae.next_out+=ze,Pe.pending_out+=ze,ae.total_out+=ze,ae.avail_out-=ze,Pe.pending-=ze,Pe.pending===0&&(Pe.pending_out=0))}function Ee(ae,Pe){p._tr_flush_block(ae,0<=ae.block_start?ae.block_start:-1,ae.strstart-ae.block_start,Pe),ae.block_start=ae.strstart,De(ae.strm)}function Q(ae,Pe){ae.pending_buf[ae.pending++]=Pe}function ue(ae,Pe){ae.pending_buf[ae.pending++]=Pe>>>8&255,ae.pending_buf[ae.pending++]=255&Pe}function xe(ae,Pe){var ze,ve,Ae=ae.max_chain_length,Be=ae.strstart,We=ae.prev_length,Je=ae.nice_match,Ge=ae.strstart>ae.w_size-Y?ae.strstart-(ae.w_size-Y):0,et=ae.window,ut=ae.w_mask,at=ae.prev,Fe=ae.strstart+$,Qe=et[Be+We-1],rt=et[Be+We];ae.prev_length>=ae.good_match&&(Ae>>=2),Je>ae.lookahead&&(Je=ae.lookahead);do if(et[(ze=Pe)+We]===rt&&et[ze+We-1]===Qe&&et[ze]===et[Be]&&et[++ze]===et[Be+1]){Be+=2,ze++;do;while(et[++Be]===et[++ze]&&et[++Be]===et[++ze]&&et[++Be]===et[++ze]&&et[++Be]===et[++ze]&&et[++Be]===et[++ze]&&et[++Be]===et[++ze]&&et[++Be]===et[++ze]&&et[++Be]===et[++ze]&&Be<Fe);if(ve=$-(Fe-Be),Be=Fe-$,We<ve){if(ae.match_start=Pe,Je<=(We=ve))break;Qe=et[Be+We-1],rt=et[Be+We]}}while((Pe=at[Pe&ut])>Ge&&--Ae!=0);return We<=ae.lookahead?We:ae.lookahead}function _e(ae){var Pe,ze,ve,Ae,Be,We,Je,Ge,et,ut,at=ae.w_size;do{if(Ae=ae.window_size-ae.lookahead-ae.strstart,ae.strstart>=at+(at-Y)){for(y.arraySet(ae.window,ae.window,at,at,0),ae.match_start-=at,ae.strstart-=at,ae.block_start-=at,Pe=ze=ae.hash_size;ve=ae.head[--Pe],ae.head[Pe]=at<=ve?ve-at:0,--ze;);for(Pe=ze=at;ve=ae.prev[--Pe],ae.prev[Pe]=at<=ve?ve-at:0,--ze;);Ae+=at}if(ae.strm.avail_in===0)break;if(We=ae.strm,Je=ae.window,Ge=ae.strstart+ae.lookahead,et=Ae,ut=void 0,ut=We.avail_in,et<ut&&(ut=et),ze=ut===0?0:(We.avail_in-=ut,y.arraySet(Je,We.input,We.next_in,ut,Ge),We.state.wrap===1?We.adler=E(We.adler,Je,ut,Ge):We.state.wrap===2&&(We.adler=T(We.adler,Je,ut,Ge)),We.next_in+=ut,We.total_in+=ut,ut),ae.lookahead+=ze,ae.lookahead+ae.insert>=H)for(Be=ae.strstart-ae.insert,ae.ins_h=ae.window[Be],ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[Be+1])&ae.hash_mask;ae.insert&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[Be+H-1])&ae.hash_mask,ae.prev[Be&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=Be,Be++,ae.insert--,!(ae.lookahead+ae.insert<H)););}while(ae.lookahead<Y&&ae.strm.avail_in!==0)}function ce(ae,Pe){for(var ze,ve;;){if(ae.lookahead<Y){if(_e(ae),ae.lookahead<Y&&Pe===A)return L;if(ae.lookahead===0)break}if(ze=0,ae.lookahead>=H&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart),ze!==0&&ae.strstart-ze<=ae.w_size-Y&&(ae.match_length=xe(ae,ze)),ae.match_length>=H)if(ve=p._tr_tally(ae,ae.strstart-ae.match_start,ae.match_length-H),ae.lookahead-=ae.match_length,ae.match_length<=ae.max_lazy_match&&ae.lookahead>=H){for(ae.match_length--;ae.strstart++,ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart,--ae.match_length!=0;);ae.strstart++}else ae.strstart+=ae.match_length,ae.match_length=0,ae.ins_h=ae.window[ae.strstart],ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+1])&ae.hash_mask;else ve=p._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++;if(ve&&(Ee(ae,!1),ae.strm.avail_out===0))return L}return ae.insert=ae.strstart<H-1?ae.strstart:H-1,Pe===w?(Ee(ae,!0),ae.strm.avail_out===0?le:ge):ae.last_lit&&(Ee(ae,!1),ae.strm.avail_out===0)?L:G}function de(ae,Pe){for(var ze,ve,Ae;;){if(ae.lookahead<Y){if(_e(ae),ae.lookahead<Y&&Pe===A)return L;if(ae.lookahead===0)break}if(ze=0,ae.lookahead>=H&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart),ae.prev_length=ae.match_length,ae.prev_match=ae.match_start,ae.match_length=H-1,ze!==0&&ae.prev_length<ae.max_lazy_match&&ae.strstart-ze<=ae.w_size-Y&&(ae.match_length=xe(ae,ze),ae.match_length<=5&&(ae.strategy===1||ae.match_length===H&&4096<ae.strstart-ae.match_start)&&(ae.match_length=H-1)),ae.prev_length>=H&&ae.match_length<=ae.prev_length){for(Ae=ae.strstart+ae.lookahead-H,ve=p._tr_tally(ae,ae.strstart-1-ae.prev_match,ae.prev_length-H),ae.lookahead-=ae.prev_length-1,ae.prev_length-=2;++ae.strstart<=Ae&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart),--ae.prev_length!=0;);if(ae.match_available=0,ae.match_length=H-1,ae.strstart++,ve&&(Ee(ae,!1),ae.strm.avail_out===0))return L}else if(ae.match_available){if((ve=p._tr_tally(ae,0,ae.window[ae.strstart-1]))&&Ee(ae,!1),ae.strstart++,ae.lookahead--,ae.strm.avail_out===0)return L}else ae.match_available=1,ae.strstart++,ae.lookahead--}return ae.match_available&&(ve=p._tr_tally(ae,0,ae.window[ae.strstart-1]),ae.match_available=0),ae.insert=ae.strstart<H-1?ae.strstart:H-1,Pe===w?(Ee(ae,!0),ae.strm.avail_out===0?le:ge):ae.last_lit&&(Ee(ae,!1),ae.strm.avail_out===0)?L:G}function he(ae,Pe,ze,ve,Ae){this.good_length=ae,this.max_lazy=Pe,this.nice_length=ze,this.max_chain=ve,this.func=Ae}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=re,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(2*C),this.dyn_dtree=new y.Buf16(2*(2*j+1)),this.bl_tree=new y.Buf16(2*(2*O+1)),Ke(this.dyn_ltree),Ke(this.dyn_dtree),Ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(F+1),this.heap=new y.Buf16(2*W+1),Ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*W+1),Ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ne(ae){var Pe;return ae&&ae.state?(ae.total_in=ae.total_out=0,ae.data_type=te,(Pe=ae.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?z:B,ae.adler=Pe.wrap===2?0:1,Pe.last_flush=A,p._tr_init(Pe),I):Ie(ae,D)}function we(ae){var Pe=ne(ae);return Pe===I&&function(ze){ze.window_size=2*ze.w_size,Ke(ze.head),ze.max_lazy_match=v[ze.level].max_lazy,ze.good_match=v[ze.level].good_length,ze.nice_match=v[ze.level].nice_length,ze.max_chain_length=v[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=H-1,ze.match_available=0,ze.ins_h=0}(ae.state),Pe}function Ne(ae,Pe,ze,ve,Ae,Be){if(!ae)return D;var We=1;if(Pe===V&&(Pe=6),ve<0?(We=0,ve=-ve):15<ve&&(We=2,ve-=16),Ae<1||Z<Ae||ze!==re||ve<8||15<ve||Pe<0||9<Pe||Be<0||ie<Be)return Ie(ae,D);ve===8&&(ve=9);var Je=new se;return(ae.state=Je).strm=ae,Je.wrap=We,Je.gzhead=null,Je.w_bits=ve,Je.w_size=1<<Je.w_bits,Je.w_mask=Je.w_size-1,Je.hash_bits=Ae+7,Je.hash_size=1<<Je.hash_bits,Je.hash_mask=Je.hash_size-1,Je.hash_shift=~~((Je.hash_bits+H-1)/H),Je.window=new y.Buf8(2*Je.w_size),Je.head=new y.Buf16(Je.hash_size),Je.prev=new y.Buf16(Je.w_size),Je.lit_bufsize=1<<Ae+6,Je.pending_buf_size=4*Je.lit_bufsize,Je.pending_buf=new y.Buf8(Je.pending_buf_size),Je.d_buf=1*Je.lit_bufsize,Je.l_buf=3*Je.lit_bufsize,Je.level=Pe,Je.strategy=Be,Je.method=ze,we(ae)}v=[new he(0,0,0,0,function(ae,Pe){var ze=65535;for(ze>ae.pending_buf_size-5&&(ze=ae.pending_buf_size-5);;){if(ae.lookahead<=1){if(_e(ae),ae.lookahead===0&&Pe===A)return L;if(ae.lookahead===0)break}ae.strstart+=ae.lookahead,ae.lookahead=0;var ve=ae.block_start+ze;if((ae.strstart===0||ae.strstart>=ve)&&(ae.lookahead=ae.strstart-ve,ae.strstart=ve,Ee(ae,!1),ae.strm.avail_out===0)||ae.strstart-ae.block_start>=ae.w_size-Y&&(Ee(ae,!1),ae.strm.avail_out===0))return L}return ae.insert=0,Pe===w?(Ee(ae,!0),ae.strm.avail_out===0?le:ge):(ae.strstart>ae.block_start&&(Ee(ae,!1),ae.strm.avail_out),L)}),new he(4,4,8,4,ce),new he(4,5,16,8,ce),new he(4,6,32,32,ce),new he(4,4,16,16,de),new he(8,16,32,32,de),new he(8,16,128,128,de),new he(8,32,128,256,de),new he(32,128,258,1024,de),new he(32,258,258,4096,de)],a.deflateInit=function(ae,Pe){return Ne(ae,Pe,re,15,8,0)},a.deflateInit2=Ne,a.deflateReset=we,a.deflateResetKeep=ne,a.deflateSetHeader=function(ae,Pe){return ae&&ae.state?ae.state.wrap!==2?D:(ae.state.gzhead=Pe,I):D},a.deflate=function(ae,Pe){var ze,ve,Ae,Be;if(!ae||!ae.state||5<Pe||Pe<0)return ae?Ie(ae,D):D;if(ve=ae.state,!ae.output||!ae.input&&ae.avail_in!==0||ve.status===666&&Pe!==w)return Ie(ae,ae.avail_out===0?-5:D);if(ve.strm=ae,ze=ve.last_flush,ve.last_flush=Pe,ve.status===z)if(ve.wrap===2)ae.adler=0,Q(ve,31),Q(ve,139),Q(ve,8),ve.gzhead?(Q(ve,(ve.gzhead.text?1:0)+(ve.gzhead.hcrc?2:0)+(ve.gzhead.extra?4:0)+(ve.gzhead.name?8:0)+(ve.gzhead.comment?16:0)),Q(ve,255&ve.gzhead.time),Q(ve,ve.gzhead.time>>8&255),Q(ve,ve.gzhead.time>>16&255),Q(ve,ve.gzhead.time>>24&255),Q(ve,ve.level===9?2:2<=ve.strategy||ve.level<2?4:0),Q(ve,255&ve.gzhead.os),ve.gzhead.extra&&ve.gzhead.extra.length&&(Q(ve,255&ve.gzhead.extra.length),Q(ve,ve.gzhead.extra.length>>8&255)),ve.gzhead.hcrc&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending,0)),ve.gzindex=0,ve.status=69):(Q(ve,0),Q(ve,0),Q(ve,0),Q(ve,0),Q(ve,0),Q(ve,ve.level===9?2:2<=ve.strategy||ve.level<2?4:0),Q(ve,3),ve.status=B);else{var We=re+(ve.w_bits-8<<4)<<8;We|=(2<=ve.strategy||ve.level<2?0:ve.level<6?1:ve.level===6?2:3)<<6,ve.strstart!==0&&(We|=32),We+=31-We%31,ve.status=B,ue(ve,We),ve.strstart!==0&&(ue(ve,ae.adler>>>16),ue(ve,65535&ae.adler)),ae.adler=1}if(ve.status===69)if(ve.gzhead.extra){for(Ae=ve.pending;ve.gzindex<(65535&ve.gzhead.extra.length)&&(ve.pending!==ve.pending_buf_size||(ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),De(ae),Ae=ve.pending,ve.pending!==ve.pending_buf_size));)Q(ve,255&ve.gzhead.extra[ve.gzindex]),ve.gzindex++;ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),ve.gzindex===ve.gzhead.extra.length&&(ve.gzindex=0,ve.status=73)}else ve.status=73;if(ve.status===73)if(ve.gzhead.name){Ae=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),De(ae),Ae=ve.pending,ve.pending===ve.pending_buf_size)){Be=1;break}Be=ve.gzindex<ve.gzhead.name.length?255&ve.gzhead.name.charCodeAt(ve.gzindex++):0,Q(ve,Be)}while(Be!==0);ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),Be===0&&(ve.gzindex=0,ve.status=91)}else ve.status=91;if(ve.status===91)if(ve.gzhead.comment){Ae=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),De(ae),Ae=ve.pending,ve.pending===ve.pending_buf_size)){Be=1;break}Be=ve.gzindex<ve.gzhead.comment.length?255&ve.gzhead.comment.charCodeAt(ve.gzindex++):0,Q(ve,Be)}while(Be!==0);ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),Be===0&&(ve.status=103)}else ve.status=103;if(ve.status===103&&(ve.gzhead.hcrc?(ve.pending+2>ve.pending_buf_size&&De(ae),ve.pending+2<=ve.pending_buf_size&&(Q(ve,255&ae.adler),Q(ve,ae.adler>>8&255),ae.adler=0,ve.status=B)):ve.status=B),ve.pending!==0){if(De(ae),ae.avail_out===0)return ve.last_flush=-1,I}else if(ae.avail_in===0&&Oe(Pe)<=Oe(ze)&&Pe!==w)return Ie(ae,-5);if(ve.status===666&&ae.avail_in!==0)return Ie(ae,-5);if(ae.avail_in!==0||ve.lookahead!==0||Pe!==A&&ve.status!==666){var Je=ve.strategy===2?function(Ge,et){for(var ut;;){if(Ge.lookahead===0&&(_e(Ge),Ge.lookahead===0)){if(et===A)return L;break}if(Ge.match_length=0,ut=p._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++,ut&&(Ee(Ge,!1),Ge.strm.avail_out===0))return L}return Ge.insert=0,et===w?(Ee(Ge,!0),Ge.strm.avail_out===0?le:ge):Ge.last_lit&&(Ee(Ge,!1),Ge.strm.avail_out===0)?L:G}(ve,Pe):ve.strategy===3?function(Ge,et){for(var ut,at,Fe,Qe,rt=Ge.window;;){if(Ge.lookahead<=$){if(_e(Ge),Ge.lookahead<=$&&et===A)return L;if(Ge.lookahead===0)break}if(Ge.match_length=0,Ge.lookahead>=H&&0<Ge.strstart&&(at=rt[Fe=Ge.strstart-1])===rt[++Fe]&&at===rt[++Fe]&&at===rt[++Fe]){Qe=Ge.strstart+$;do;while(at===rt[++Fe]&&at===rt[++Fe]&&at===rt[++Fe]&&at===rt[++Fe]&&at===rt[++Fe]&&at===rt[++Fe]&&at===rt[++Fe]&&at===rt[++Fe]&&Fe<Qe);Ge.match_length=$-(Qe-Fe),Ge.match_length>Ge.lookahead&&(Ge.match_length=Ge.lookahead)}if(Ge.match_length>=H?(ut=p._tr_tally(Ge,1,Ge.match_length-H),Ge.lookahead-=Ge.match_length,Ge.strstart+=Ge.match_length,Ge.match_length=0):(ut=p._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++),ut&&(Ee(Ge,!1),Ge.strm.avail_out===0))return L}return Ge.insert=0,et===w?(Ee(Ge,!0),Ge.strm.avail_out===0?le:ge):Ge.last_lit&&(Ee(Ge,!1),Ge.strm.avail_out===0)?L:G}(ve,Pe):v[ve.level].func(ve,Pe);if(Je!==le&&Je!==ge||(ve.status=666),Je===L||Je===le)return ae.avail_out===0&&(ve.last_flush=-1),I;if(Je===G&&(Pe===1?p._tr_align(ve):Pe!==5&&(p._tr_stored_block(ve,0,0,!1),Pe===3&&(Ke(ve.head),ve.lookahead===0&&(ve.strstart=0,ve.block_start=0,ve.insert=0))),De(ae),ae.avail_out===0))return ve.last_flush=-1,I}return Pe!==w?I:ve.wrap<=0?1:(ve.wrap===2?(Q(ve,255&ae.adler),Q(ve,ae.adler>>8&255),Q(ve,ae.adler>>16&255),Q(ve,ae.adler>>24&255),Q(ve,255&ae.total_in),Q(ve,ae.total_in>>8&255),Q(ve,ae.total_in>>16&255),Q(ve,ae.total_in>>24&255)):(ue(ve,ae.adler>>>16),ue(ve,65535&ae.adler)),De(ae),0<ve.wrap&&(ve.wrap=-ve.wrap),ve.pending!==0?I:1)},a.deflateEnd=function(ae){var Pe;return ae&&ae.state?(Pe=ae.state.status)!==z&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==B&&Pe!==666?Ie(ae,D):(ae.state=null,Pe===B?Ie(ae,-3):I):D},a.deflateSetDictionary=function(ae,Pe){var ze,ve,Ae,Be,We,Je,Ge,et,ut=Pe.length;if(!ae||!ae.state||(Be=(ze=ae.state).wrap)===2||Be===1&&ze.status!==z||ze.lookahead)return D;for(Be===1&&(ae.adler=E(ae.adler,Pe,ut,0)),ze.wrap=0,ut>=ze.w_size&&(Be===0&&(Ke(ze.head),ze.strstart=0,ze.block_start=0,ze.insert=0),et=new y.Buf8(ze.w_size),y.arraySet(et,Pe,ut-ze.w_size,ze.w_size,0),Pe=et,ut=ze.w_size),We=ae.avail_in,Je=ae.next_in,Ge=ae.input,ae.avail_in=ut,ae.next_in=0,ae.input=Pe,_e(ze);ze.lookahead>=H;){for(ve=ze.strstart,Ae=ze.lookahead-(H-1);ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ve+H-1])&ze.hash_mask,ze.prev[ve&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ve,ve++,--Ae;);ze.strstart=ve,ze.lookahead=H-1,_e(ze)}return ze.strstart+=ze.lookahead,ze.block_start=ze.strstart,ze.insert=ze.lookahead,ze.lookahead=0,ze.match_length=ze.prev_length=H-1,ze.match_available=0,ae.next_in=Je,ae.input=Ge,ae.avail_in=We,ze.wrap=Be,I},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,d,a){d.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,d,a){d.exports=function(v,y){var p,E,T,S,A,w,I,D,V,ie,te,re,Z,W,j,O,C,F,H,$,Y,z,B,L,G;p=v.state,E=v.next_in,L=v.input,T=E+(v.avail_in-5),S=v.next_out,G=v.output,A=S-(y-v.avail_out),w=S+(v.avail_out-257),I=p.dmax,D=p.wsize,V=p.whave,ie=p.wnext,te=p.window,re=p.hold,Z=p.bits,W=p.lencode,j=p.distcode,O=(1<<p.lenbits)-1,C=(1<<p.distbits)-1;e:do{Z<15&&(re+=L[E++]<<Z,Z+=8,re+=L[E++]<<Z,Z+=8),F=W[re&O];t:for(;;){if(re>>>=H=F>>>24,Z-=H,(H=F>>>16&255)===0)G[S++]=65535&F;else{if(!(16&H)){if(!(64&H)){F=W[(65535&F)+(re&(1<<H)-1)];continue t}if(32&H){p.mode=12;break e}v.msg="invalid literal/length code",p.mode=30;break e}$=65535&F,(H&=15)&&(Z<H&&(re+=L[E++]<<Z,Z+=8),$+=re&(1<<H)-1,re>>>=H,Z-=H),Z<15&&(re+=L[E++]<<Z,Z+=8,re+=L[E++]<<Z,Z+=8),F=j[re&C];r:for(;;){if(re>>>=H=F>>>24,Z-=H,!(16&(H=F>>>16&255))){if(!(64&H)){F=j[(65535&F)+(re&(1<<H)-1)];continue r}v.msg="invalid distance code",p.mode=30;break e}if(Y=65535&F,Z<(H&=15)&&(re+=L[E++]<<Z,(Z+=8)<H&&(re+=L[E++]<<Z,Z+=8)),I<(Y+=re&(1<<H)-1)){v.msg="invalid distance too far back",p.mode=30;break e}if(re>>>=H,Z-=H,(H=S-A)<Y){if(V<(H=Y-H)&&p.sane){v.msg="invalid distance too far back",p.mode=30;break e}if(B=te,(z=0)===ie){if(z+=D-H,H<$){for($-=H;G[S++]=te[z++],--H;);z=S-Y,B=G}}else if(ie<H){if(z+=D+ie-H,(H-=ie)<$){for($-=H;G[S++]=te[z++],--H;);if(z=0,ie<$){for($-=H=ie;G[S++]=te[z++],--H;);z=S-Y,B=G}}}else if(z+=ie-H,H<$){for($-=H;G[S++]=te[z++],--H;);z=S-Y,B=G}for(;2<$;)G[S++]=B[z++],G[S++]=B[z++],G[S++]=B[z++],$-=3;$&&(G[S++]=B[z++],1<$&&(G[S++]=B[z++]))}else{for(z=S-Y;G[S++]=G[z++],G[S++]=G[z++],G[S++]=G[z++],2<($-=3););$&&(G[S++]=G[z++],1<$&&(G[S++]=G[z++]))}break}}break}}while(E<T&&S<w);E-=$=Z>>3,re&=(1<<(Z-=$<<3))-1,v.next_in=E,v.next_out=S,v.avail_in=E<T?T-E+5:5-(E-T),v.avail_out=S<w?w-S+257:257-(S-w),p.hold=re,p.bits=Z}},{}],49:[function(l,d,a){var v=l("../utils/common"),y=l("./adler32"),p=l("./crc32"),E=l("./inffast"),T=l("./inftrees"),S=1,A=2,w=0,I=-2,D=1,V=852,ie=592;function te(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Z(z){var B;return z&&z.state?(B=z.state,z.total_in=z.total_out=B.total=0,z.msg="",B.wrap&&(z.adler=1&B.wrap),B.mode=D,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new v.Buf32(V),B.distcode=B.distdyn=new v.Buf32(ie),B.sane=1,B.back=-1,w):I}function W(z){var B;return z&&z.state?((B=z.state).wsize=0,B.whave=0,B.wnext=0,Z(z)):I}function j(z,B){var L,G;return z&&z.state?(G=z.state,B<0?(L=0,B=-B):(L=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?I:(G.window!==null&&G.wbits!==B&&(G.window=null),G.wrap=L,G.wbits=B,W(z))):I}function O(z,B){var L,G;return z?(G=new re,(z.state=G).window=null,(L=j(z,B))!==w&&(z.state=null),L):I}var C,F,H=!0;function $(z){if(H){var B;for(C=new v.Buf32(512),F=new v.Buf32(32),B=0;B<144;)z.lens[B++]=8;for(;B<256;)z.lens[B++]=9;for(;B<280;)z.lens[B++]=7;for(;B<288;)z.lens[B++]=8;for(T(S,z.lens,0,288,C,0,z.work,{bits:9}),B=0;B<32;)z.lens[B++]=5;T(A,z.lens,0,32,F,0,z.work,{bits:5}),H=!1}z.lencode=C,z.lenbits=9,z.distcode=F,z.distbits=5}function Y(z,B,L,G){var le,ge=z.state;return ge.window===null&&(ge.wsize=1<<ge.wbits,ge.wnext=0,ge.whave=0,ge.window=new v.Buf8(ge.wsize)),G>=ge.wsize?(v.arraySet(ge.window,B,L-ge.wsize,ge.wsize,0),ge.wnext=0,ge.whave=ge.wsize):(G<(le=ge.wsize-ge.wnext)&&(le=G),v.arraySet(ge.window,B,L-G,le,ge.wnext),(G-=le)?(v.arraySet(ge.window,B,L-G,G,0),ge.wnext=G,ge.whave=ge.wsize):(ge.wnext+=le,ge.wnext===ge.wsize&&(ge.wnext=0),ge.whave<ge.wsize&&(ge.whave+=le))),0}a.inflateReset=W,a.inflateReset2=j,a.inflateResetKeep=Z,a.inflateInit=function(z){return O(z,15)},a.inflateInit2=O,a.inflate=function(z,B){var L,G,le,ge,Ie,Oe,Ke,De,Ee,Q,ue,xe,_e,ce,de,he,se,ne,we,Ne,ae,Pe,ze,ve,Ae=0,Be=new v.Buf8(4),We=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return I;(L=z.state).mode===12&&(L.mode=13),Ie=z.next_out,le=z.output,Ke=z.avail_out,ge=z.next_in,G=z.input,Oe=z.avail_in,De=L.hold,Ee=L.bits,Q=Oe,ue=Ke,Pe=w;e:for(;;)switch(L.mode){case D:if(L.wrap===0){L.mode=13;break}for(;Ee<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(2&L.wrap&&De===35615){Be[L.check=0]=255&De,Be[1]=De>>>8&255,L.check=p(L.check,Be,2,0),Ee=De=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&De)<<8)+(De>>8))%31){z.msg="incorrect header check",L.mode=30;break}if((15&De)!=8){z.msg="unknown compression method",L.mode=30;break}if(Ee-=4,ae=8+(15&(De>>>=4)),L.wbits===0)L.wbits=ae;else if(ae>L.wbits){z.msg="invalid window size",L.mode=30;break}L.dmax=1<<ae,z.adler=L.check=1,L.mode=512&De?10:12,Ee=De=0;break;case 2:for(;Ee<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(L.flags=De,(255&L.flags)!=8){z.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){z.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=De>>8&1),512&L.flags&&(Be[0]=255&De,Be[1]=De>>>8&255,L.check=p(L.check,Be,2,0)),Ee=De=0,L.mode=3;case 3:for(;Ee<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}L.head&&(L.head.time=De),512&L.flags&&(Be[0]=255&De,Be[1]=De>>>8&255,Be[2]=De>>>16&255,Be[3]=De>>>24&255,L.check=p(L.check,Be,4,0)),Ee=De=0,L.mode=4;case 4:for(;Ee<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}L.head&&(L.head.xflags=255&De,L.head.os=De>>8),512&L.flags&&(Be[0]=255&De,Be[1]=De>>>8&255,L.check=p(L.check,Be,2,0)),Ee=De=0,L.mode=5;case 5:if(1024&L.flags){for(;Ee<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}L.length=De,L.head&&(L.head.extra_len=De),512&L.flags&&(Be[0]=255&De,Be[1]=De>>>8&255,L.check=p(L.check,Be,2,0)),Ee=De=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(Oe<(xe=L.length)&&(xe=Oe),xe&&(L.head&&(ae=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),v.arraySet(L.head.extra,G,ge,xe,ae)),512&L.flags&&(L.check=p(L.check,G,xe,ge)),Oe-=xe,ge+=xe,L.length-=xe),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(Oe===0)break e;for(xe=0;ae=G[ge+xe++],L.head&&ae&&L.length<65536&&(L.head.name+=String.fromCharCode(ae)),ae&&xe<Oe;);if(512&L.flags&&(L.check=p(L.check,G,xe,ge)),Oe-=xe,ge+=xe,ae)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(Oe===0)break e;for(xe=0;ae=G[ge+xe++],L.head&&ae&&L.length<65536&&(L.head.comment+=String.fromCharCode(ae)),ae&&xe<Oe;);if(512&L.flags&&(L.check=p(L.check,G,xe,ge)),Oe-=xe,ge+=xe,ae)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;Ee<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(De!==(65535&L.check)){z.msg="header crc mismatch",L.mode=30;break}Ee=De=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),z.adler=L.check=0,L.mode=12;break;case 10:for(;Ee<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}z.adler=L.check=te(De),Ee=De=0,L.mode=11;case 11:if(L.havedict===0)return z.next_out=Ie,z.avail_out=Ke,z.next_in=ge,z.avail_in=Oe,L.hold=De,L.bits=Ee,2;z.adler=L.check=1,L.mode=12;case 12:if(B===5||B===6)break e;case 13:if(L.last){De>>>=7&Ee,Ee-=7&Ee,L.mode=27;break}for(;Ee<3;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}switch(L.last=1&De,Ee-=1,3&(De>>>=1)){case 0:L.mode=14;break;case 1:if($(L),L.mode=20,B!==6)break;De>>>=2,Ee-=2;break e;case 2:L.mode=17;break;case 3:z.msg="invalid block type",L.mode=30}De>>>=2,Ee-=2;break;case 14:for(De>>>=7&Ee,Ee-=7&Ee;Ee<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if((65535&De)!=(De>>>16^65535)){z.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&De,Ee=De=0,L.mode=15,B===6)break e;case 15:L.mode=16;case 16:if(xe=L.length){if(Oe<xe&&(xe=Oe),Ke<xe&&(xe=Ke),xe===0)break e;v.arraySet(le,G,ge,xe,Ie),Oe-=xe,ge+=xe,Ke-=xe,Ie+=xe,L.length-=xe;break}L.mode=12;break;case 17:for(;Ee<14;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(L.nlen=257+(31&De),De>>>=5,Ee-=5,L.ndist=1+(31&De),De>>>=5,Ee-=5,L.ncode=4+(15&De),De>>>=4,Ee-=4,286<L.nlen||30<L.ndist){z.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;Ee<3;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}L.lens[We[L.have++]]=7&De,De>>>=3,Ee-=3}for(;L.have<19;)L.lens[We[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,ze={bits:L.lenbits},Pe=T(0,L.lens,0,19,L.lencode,0,L.work,ze),L.lenbits=ze.bits,Pe){z.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;he=(Ae=L.lencode[De&(1<<L.lenbits)-1])>>>16&255,se=65535&Ae,!((de=Ae>>>24)<=Ee);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(se<16)De>>>=de,Ee-=de,L.lens[L.have++]=se;else{if(se===16){for(ve=de+2;Ee<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(De>>>=de,Ee-=de,L.have===0){z.msg="invalid bit length repeat",L.mode=30;break}ae=L.lens[L.have-1],xe=3+(3&De),De>>>=2,Ee-=2}else if(se===17){for(ve=de+3;Ee<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}Ee-=de,ae=0,xe=3+(7&(De>>>=de)),De>>>=3,Ee-=3}else{for(ve=de+7;Ee<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}Ee-=de,ae=0,xe=11+(127&(De>>>=de)),De>>>=7,Ee-=7}if(L.have+xe>L.nlen+L.ndist){z.msg="invalid bit length repeat",L.mode=30;break}for(;xe--;)L.lens[L.have++]=ae}}if(L.mode===30)break;if(L.lens[256]===0){z.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,ze={bits:L.lenbits},Pe=T(S,L.lens,0,L.nlen,L.lencode,0,L.work,ze),L.lenbits=ze.bits,Pe){z.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,ze={bits:L.distbits},Pe=T(A,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,ze),L.distbits=ze.bits,Pe){z.msg="invalid distances set",L.mode=30;break}if(L.mode=20,B===6)break e;case 20:L.mode=21;case 21:if(6<=Oe&&258<=Ke){z.next_out=Ie,z.avail_out=Ke,z.next_in=ge,z.avail_in=Oe,L.hold=De,L.bits=Ee,E(z,ue),Ie=z.next_out,le=z.output,Ke=z.avail_out,ge=z.next_in,G=z.input,Oe=z.avail_in,De=L.hold,Ee=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;he=(Ae=L.lencode[De&(1<<L.lenbits)-1])>>>16&255,se=65535&Ae,!((de=Ae>>>24)<=Ee);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(he&&!(240&he)){for(ne=de,we=he,Ne=se;he=(Ae=L.lencode[Ne+((De&(1<<ne+we)-1)>>ne)])>>>16&255,se=65535&Ae,!(ne+(de=Ae>>>24)<=Ee);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}De>>>=ne,Ee-=ne,L.back+=ne}if(De>>>=de,Ee-=de,L.back+=de,L.length=se,he===0){L.mode=26;break}if(32&he){L.back=-1,L.mode=12;break}if(64&he){z.msg="invalid literal/length code",L.mode=30;break}L.extra=15&he,L.mode=22;case 22:if(L.extra){for(ve=L.extra;Ee<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}L.length+=De&(1<<L.extra)-1,De>>>=L.extra,Ee-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;he=(Ae=L.distcode[De&(1<<L.distbits)-1])>>>16&255,se=65535&Ae,!((de=Ae>>>24)<=Ee);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(!(240&he)){for(ne=de,we=he,Ne=se;he=(Ae=L.distcode[Ne+((De&(1<<ne+we)-1)>>ne)])>>>16&255,se=65535&Ae,!(ne+(de=Ae>>>24)<=Ee);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}De>>>=ne,Ee-=ne,L.back+=ne}if(De>>>=de,Ee-=de,L.back+=de,64&he){z.msg="invalid distance code",L.mode=30;break}L.offset=se,L.extra=15&he,L.mode=24;case 24:if(L.extra){for(ve=L.extra;Ee<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}L.offset+=De&(1<<L.extra)-1,De>>>=L.extra,Ee-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){z.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(Ke===0)break e;if(xe=ue-Ke,L.offset>xe){if((xe=L.offset-xe)>L.whave&&L.sane){z.msg="invalid distance too far back",L.mode=30;break}_e=xe>L.wnext?(xe-=L.wnext,L.wsize-xe):L.wnext-xe,xe>L.length&&(xe=L.length),ce=L.window}else ce=le,_e=Ie-L.offset,xe=L.length;for(Ke<xe&&(xe=Ke),Ke-=xe,L.length-=xe;le[Ie++]=ce[_e++],--xe;);L.length===0&&(L.mode=21);break;case 26:if(Ke===0)break e;le[Ie++]=L.length,Ke--,L.mode=21;break;case 27:if(L.wrap){for(;Ee<32;){if(Oe===0)break e;Oe--,De|=G[ge++]<<Ee,Ee+=8}if(ue-=Ke,z.total_out+=ue,L.total+=ue,ue&&(z.adler=L.check=L.flags?p(L.check,le,ue,Ie-ue):y(L.check,le,ue,Ie-ue)),ue=Ke,(L.flags?De:te(De))!==L.check){z.msg="incorrect data check",L.mode=30;break}Ee=De=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;Ee<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Ee,Ee+=8}if(De!==(4294967295&L.total)){z.msg="incorrect length check",L.mode=30;break}Ee=De=0}L.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return I}return z.next_out=Ie,z.avail_out=Ke,z.next_in=ge,z.avail_in=Oe,L.hold=De,L.bits=Ee,(L.wsize||ue!==z.avail_out&&L.mode<30&&(L.mode<27||B!==4))&&Y(z,z.output,z.next_out,ue-z.avail_out)?(L.mode=31,-4):(Q-=z.avail_in,ue-=z.avail_out,z.total_in+=Q,z.total_out+=ue,L.total+=ue,L.wrap&&ue&&(z.adler=L.check=L.flags?p(L.check,le,ue,z.next_out-ue):y(L.check,le,ue,z.next_out-ue)),z.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(Q==0&&ue===0||B===4)&&Pe===w&&(Pe=-5),Pe)},a.inflateEnd=function(z){if(!z||!z.state)return I;var B=z.state;return B.window&&(B.window=null),z.state=null,w},a.inflateGetHeader=function(z,B){var L;return z&&z.state&&2&(L=z.state).wrap?((L.head=B).done=!1,w):I},a.inflateSetDictionary=function(z,B){var L,G=B.length;return z&&z.state?(L=z.state).wrap!==0&&L.mode!==11?I:L.mode===11&&y(1,B,G,0)!==L.check?-3:Y(z,B,G,G)?(L.mode=31,-4):(L.havedict=1,w):I},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,d,a){var v=l("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];d.exports=function(S,A,w,I,D,V,ie,te){var re,Z,W,j,O,C,F,H,$,Y=te.bits,z=0,B=0,L=0,G=0,le=0,ge=0,Ie=0,Oe=0,Ke=0,De=0,Ee=null,Q=0,ue=new v.Buf16(16),xe=new v.Buf16(16),_e=null,ce=0;for(z=0;z<=15;z++)ue[z]=0;for(B=0;B<I;B++)ue[A[w+B]]++;for(le=Y,G=15;1<=G&&ue[G]===0;G--);if(G<le&&(le=G),G===0)return D[V++]=20971520,D[V++]=20971520,te.bits=1,0;for(L=1;L<G&&ue[L]===0;L++);for(le<L&&(le=L),z=Oe=1;z<=15;z++)if(Oe<<=1,(Oe-=ue[z])<0)return-1;if(0<Oe&&(S===0||G!==1))return-1;for(xe[1]=0,z=1;z<15;z++)xe[z+1]=xe[z]+ue[z];for(B=0;B<I;B++)A[w+B]!==0&&(ie[xe[A[w+B]]++]=B);if(C=S===0?(Ee=_e=ie,19):S===1?(Ee=y,Q-=257,_e=p,ce-=257,256):(Ee=E,_e=T,-1),z=L,O=V,Ie=B=De=0,W=-1,j=(Ke=1<<(ge=le))-1,S===1&&852<Ke||S===2&&592<Ke)return 1;for(;;){for(F=z-Ie,$=ie[B]<C?(H=0,ie[B]):ie[B]>C?(H=_e[ce+ie[B]],Ee[Q+ie[B]]):(H=96,0),re=1<<z-Ie,L=Z=1<<ge;D[O+(De>>Ie)+(Z-=re)]=F<<24|H<<16|$|0,Z!==0;);for(re=1<<z-1;De&re;)re>>=1;if(re!==0?(De&=re-1,De+=re):De=0,B++,--ue[z]==0){if(z===G)break;z=A[w+ie[B]]}if(le<z&&(De&j)!==W){for(Ie===0&&(Ie=le),O+=L,Oe=1<<(ge=z-Ie);ge+Ie<G&&!((Oe-=ue[ge+Ie])<=0);)ge++,Oe<<=1;if(Ke+=1<<ge,S===1&&852<Ke||S===2&&592<Ke)return 1;D[W=De&j]=le<<24|ge<<16|O-V|0}}return De!==0&&(D[O+De]=z-Ie<<24|64<<16|0),te.bits=le,0}},{"../utils/common":41}],51:[function(l,d,a){d.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,d,a){var v=l("../utils/common"),y=0,p=1;function E(Ae){for(var Be=Ae.length;0<=--Be;)Ae[Be]=0}var T=0,S=29,A=256,w=A+1+S,I=30,D=19,V=2*w+1,ie=15,te=16,re=7,Z=256,W=16,j=17,O=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(w+2));E(Y);var z=new Array(2*I);E(z);var B=new Array(512);E(B);var L=new Array(256);E(L);var G=new Array(S);E(G);var le,ge,Ie,Oe=new Array(I);function Ke(Ae,Be,We,Je,Ge){this.static_tree=Ae,this.extra_bits=Be,this.extra_base=We,this.elems=Je,this.max_length=Ge,this.has_stree=Ae&&Ae.length}function De(Ae,Be){this.dyn_tree=Ae,this.max_code=0,this.stat_desc=Be}function Ee(Ae){return Ae<256?B[Ae]:B[256+(Ae>>>7)]}function Q(Ae,Be){Ae.pending_buf[Ae.pending++]=255&Be,Ae.pending_buf[Ae.pending++]=Be>>>8&255}function ue(Ae,Be,We){Ae.bi_valid>te-We?(Ae.bi_buf|=Be<<Ae.bi_valid&65535,Q(Ae,Ae.bi_buf),Ae.bi_buf=Be>>te-Ae.bi_valid,Ae.bi_valid+=We-te):(Ae.bi_buf|=Be<<Ae.bi_valid&65535,Ae.bi_valid+=We)}function xe(Ae,Be,We){ue(Ae,We[2*Be],We[2*Be+1])}function _e(Ae,Be){for(var We=0;We|=1&Ae,Ae>>>=1,We<<=1,0<--Be;);return We>>>1}function ce(Ae,Be,We){var Je,Ge,et=new Array(ie+1),ut=0;for(Je=1;Je<=ie;Je++)et[Je]=ut=ut+We[Je-1]<<1;for(Ge=0;Ge<=Be;Ge++){var at=Ae[2*Ge+1];at!==0&&(Ae[2*Ge]=_e(et[at]++,at))}}function de(Ae){var Be;for(Be=0;Be<w;Be++)Ae.dyn_ltree[2*Be]=0;for(Be=0;Be<I;Be++)Ae.dyn_dtree[2*Be]=0;for(Be=0;Be<D;Be++)Ae.bl_tree[2*Be]=0;Ae.dyn_ltree[2*Z]=1,Ae.opt_len=Ae.static_len=0,Ae.last_lit=Ae.matches=0}function he(Ae){8<Ae.bi_valid?Q(Ae,Ae.bi_buf):0<Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0}function se(Ae,Be,We,Je){var Ge=2*Be,et=2*We;return Ae[Ge]<Ae[et]||Ae[Ge]===Ae[et]&&Je[Be]<=Je[We]}function ne(Ae,Be,We){for(var Je=Ae.heap[We],Ge=We<<1;Ge<=Ae.heap_len&&(Ge<Ae.heap_len&&se(Be,Ae.heap[Ge+1],Ae.heap[Ge],Ae.depth)&&Ge++,!se(Be,Je,Ae.heap[Ge],Ae.depth));)Ae.heap[We]=Ae.heap[Ge],We=Ge,Ge<<=1;Ae.heap[We]=Je}function we(Ae,Be,We){var Je,Ge,et,ut,at=0;if(Ae.last_lit!==0)for(;Je=Ae.pending_buf[Ae.d_buf+2*at]<<8|Ae.pending_buf[Ae.d_buf+2*at+1],Ge=Ae.pending_buf[Ae.l_buf+at],at++,Je===0?xe(Ae,Ge,Be):(xe(Ae,(et=L[Ge])+A+1,Be),(ut=C[et])!==0&&ue(Ae,Ge-=G[et],ut),xe(Ae,et=Ee(--Je),We),(ut=F[et])!==0&&ue(Ae,Je-=Oe[et],ut)),at<Ae.last_lit;);xe(Ae,Z,Be)}function Ne(Ae,Be){var We,Je,Ge,et=Be.dyn_tree,ut=Be.stat_desc.static_tree,at=Be.stat_desc.has_stree,Fe=Be.stat_desc.elems,Qe=-1;for(Ae.heap_len=0,Ae.heap_max=V,We=0;We<Fe;We++)et[2*We]!==0?(Ae.heap[++Ae.heap_len]=Qe=We,Ae.depth[We]=0):et[2*We+1]=0;for(;Ae.heap_len<2;)et[2*(Ge=Ae.heap[++Ae.heap_len]=Qe<2?++Qe:0)]=1,Ae.depth[Ge]=0,Ae.opt_len--,at&&(Ae.static_len-=ut[2*Ge+1]);for(Be.max_code=Qe,We=Ae.heap_len>>1;1<=We;We--)ne(Ae,et,We);for(Ge=Fe;We=Ae.heap[1],Ae.heap[1]=Ae.heap[Ae.heap_len--],ne(Ae,et,1),Je=Ae.heap[1],Ae.heap[--Ae.heap_max]=We,Ae.heap[--Ae.heap_max]=Je,et[2*Ge]=et[2*We]+et[2*Je],Ae.depth[Ge]=(Ae.depth[We]>=Ae.depth[Je]?Ae.depth[We]:Ae.depth[Je])+1,et[2*We+1]=et[2*Je+1]=Ge,Ae.heap[1]=Ge++,ne(Ae,et,1),2<=Ae.heap_len;);Ae.heap[--Ae.heap_max]=Ae.heap[1],function(rt,mt){var Ut,jt,kt,Nt,Tt,Mt,Dt=mt.dyn_tree,It=mt.max_code,$t=mt.stat_desc.static_tree,Sr=mt.stat_desc.has_stree,mr=mt.stat_desc.extra_bits,Xt=mt.stat_desc.extra_base,hr=mt.stat_desc.max_length,Mr=0;for(Nt=0;Nt<=ie;Nt++)rt.bl_count[Nt]=0;for(Dt[2*rt.heap[rt.heap_max]+1]=0,Ut=rt.heap_max+1;Ut<V;Ut++)hr<(Nt=Dt[2*Dt[2*(jt=rt.heap[Ut])+1]+1]+1)&&(Nt=hr,Mr++),Dt[2*jt+1]=Nt,It<jt||(rt.bl_count[Nt]++,Tt=0,Xt<=jt&&(Tt=mr[jt-Xt]),Mt=Dt[2*jt],rt.opt_len+=Mt*(Nt+Tt),Sr&&(rt.static_len+=Mt*($t[2*jt+1]+Tt)));if(Mr!==0){do{for(Nt=hr-1;rt.bl_count[Nt]===0;)Nt--;rt.bl_count[Nt]--,rt.bl_count[Nt+1]+=2,rt.bl_count[hr]--,Mr-=2}while(0<Mr);for(Nt=hr;Nt!==0;Nt--)for(jt=rt.bl_count[Nt];jt!==0;)It<(kt=rt.heap[--Ut])||(Dt[2*kt+1]!==Nt&&(rt.opt_len+=(Nt-Dt[2*kt+1])*Dt[2*kt],Dt[2*kt+1]=Nt),jt--)}}(Ae,Be),ce(et,Qe,Ae.bl_count)}function ae(Ae,Be,We){var Je,Ge,et=-1,ut=Be[1],at=0,Fe=7,Qe=4;for(ut===0&&(Fe=138,Qe=3),Be[2*(We+1)+1]=65535,Je=0;Je<=We;Je++)Ge=ut,ut=Be[2*(Je+1)+1],++at<Fe&&Ge===ut||(at<Qe?Ae.bl_tree[2*Ge]+=at:Ge!==0?(Ge!==et&&Ae.bl_tree[2*Ge]++,Ae.bl_tree[2*W]++):at<=10?Ae.bl_tree[2*j]++:Ae.bl_tree[2*O]++,et=Ge,Qe=(at=0)===ut?(Fe=138,3):Ge===ut?(Fe=6,3):(Fe=7,4))}function Pe(Ae,Be,We){var Je,Ge,et=-1,ut=Be[1],at=0,Fe=7,Qe=4;for(ut===0&&(Fe=138,Qe=3),Je=0;Je<=We;Je++)if(Ge=ut,ut=Be[2*(Je+1)+1],!(++at<Fe&&Ge===ut)){if(at<Qe)for(;xe(Ae,Ge,Ae.bl_tree),--at!=0;);else Ge!==0?(Ge!==et&&(xe(Ae,Ge,Ae.bl_tree),at--),xe(Ae,W,Ae.bl_tree),ue(Ae,at-3,2)):at<=10?(xe(Ae,j,Ae.bl_tree),ue(Ae,at-3,3)):(xe(Ae,O,Ae.bl_tree),ue(Ae,at-11,7));et=Ge,Qe=(at=0)===ut?(Fe=138,3):Ge===ut?(Fe=6,3):(Fe=7,4)}}E(Oe);var ze=!1;function ve(Ae,Be,We,Je){ue(Ae,(T<<1)+(Je?1:0),3),function(Ge,et,ut,at){he(Ge),at&&(Q(Ge,ut),Q(Ge,~ut)),v.arraySet(Ge.pending_buf,Ge.window,et,ut,Ge.pending),Ge.pending+=ut}(Ae,Be,We,!0)}a._tr_init=function(Ae){ze||(function(){var Be,We,Je,Ge,et,ut=new Array(ie+1);for(Ge=Je=0;Ge<S-1;Ge++)for(G[Ge]=Je,Be=0;Be<1<<C[Ge];Be++)L[Je++]=Ge;for(L[Je-1]=Ge,Ge=et=0;Ge<16;Ge++)for(Oe[Ge]=et,Be=0;Be<1<<F[Ge];Be++)B[et++]=Ge;for(et>>=7;Ge<I;Ge++)for(Oe[Ge]=et<<7,Be=0;Be<1<<F[Ge]-7;Be++)B[256+et++]=Ge;for(We=0;We<=ie;We++)ut[We]=0;for(Be=0;Be<=143;)Y[2*Be+1]=8,Be++,ut[8]++;for(;Be<=255;)Y[2*Be+1]=9,Be++,ut[9]++;for(;Be<=279;)Y[2*Be+1]=7,Be++,ut[7]++;for(;Be<=287;)Y[2*Be+1]=8,Be++,ut[8]++;for(ce(Y,w+1,ut),Be=0;Be<I;Be++)z[2*Be+1]=5,z[2*Be]=_e(Be,5);le=new Ke(Y,C,A+1,w,ie),ge=new Ke(z,F,0,I,ie),Ie=new Ke(new Array(0),H,0,D,re)}(),ze=!0),Ae.l_desc=new De(Ae.dyn_ltree,le),Ae.d_desc=new De(Ae.dyn_dtree,ge),Ae.bl_desc=new De(Ae.bl_tree,Ie),Ae.bi_buf=0,Ae.bi_valid=0,de(Ae)},a._tr_stored_block=ve,a._tr_flush_block=function(Ae,Be,We,Je){var Ge,et,ut=0;0<Ae.level?(Ae.strm.data_type===2&&(Ae.strm.data_type=function(at){var Fe,Qe=4093624447;for(Fe=0;Fe<=31;Fe++,Qe>>>=1)if(1&Qe&&at.dyn_ltree[2*Fe]!==0)return y;if(at.dyn_ltree[18]!==0||at.dyn_ltree[20]!==0||at.dyn_ltree[26]!==0)return p;for(Fe=32;Fe<A;Fe++)if(at.dyn_ltree[2*Fe]!==0)return p;return y}(Ae)),Ne(Ae,Ae.l_desc),Ne(Ae,Ae.d_desc),ut=function(at){var Fe;for(ae(at,at.dyn_ltree,at.l_desc.max_code),ae(at,at.dyn_dtree,at.d_desc.max_code),Ne(at,at.bl_desc),Fe=D-1;3<=Fe&&at.bl_tree[2*$[Fe]+1]===0;Fe--);return at.opt_len+=3*(Fe+1)+5+5+4,Fe}(Ae),Ge=Ae.opt_len+3+7>>>3,(et=Ae.static_len+3+7>>>3)<=Ge&&(Ge=et)):Ge=et=We+5,We+4<=Ge&&Be!==-1?ve(Ae,Be,We,Je):Ae.strategy===4||et===Ge?(ue(Ae,2+(Je?1:0),3),we(Ae,Y,z)):(ue(Ae,4+(Je?1:0),3),function(at,Fe,Qe,rt){var mt;for(ue(at,Fe-257,5),ue(at,Qe-1,5),ue(at,rt-4,4),mt=0;mt<rt;mt++)ue(at,at.bl_tree[2*$[mt]+1],3);Pe(at,at.dyn_ltree,Fe-1),Pe(at,at.dyn_dtree,Qe-1)}(Ae,Ae.l_desc.max_code+1,Ae.d_desc.max_code+1,ut+1),we(Ae,Ae.dyn_ltree,Ae.dyn_dtree)),de(Ae),Je&&he(Ae)},a._tr_tally=function(Ae,Be,We){return Ae.pending_buf[Ae.d_buf+2*Ae.last_lit]=Be>>>8&255,Ae.pending_buf[Ae.d_buf+2*Ae.last_lit+1]=255&Be,Ae.pending_buf[Ae.l_buf+Ae.last_lit]=255&We,Ae.last_lit++,Be===0?Ae.dyn_ltree[2*We]++:(Ae.matches++,Be--,Ae.dyn_ltree[2*(L[We]+A+1)]++,Ae.dyn_dtree[2*Ee(Be)]++),Ae.last_lit===Ae.lit_bufsize-1},a._tr_align=function(Ae){ue(Ae,2,3),xe(Ae,Z,Y),function(Be){Be.bi_valid===16?(Q(Be,Be.bi_buf),Be.bi_buf=0,Be.bi_valid=0):8<=Be.bi_valid&&(Be.pending_buf[Be.pending++]=255&Be.bi_buf,Be.bi_buf>>=8,Be.bi_valid-=8)}(Ae)}},{"../utils/common":41}],53:[function(l,d,a){d.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,d,a){(function(v){(function(y,p){if(!y.setImmediate){var E,T,S,A,w=1,I={},D=!1,V=y.document,ie=Object.getPrototypeOf&&Object.getPrototypeOf(y);ie=ie&&ie.setTimeout?ie:y,E={}.toString.call(y.process)==="[object process]"?function(W){f.nextTick(function(){re(W)})}:function(){if(y.postMessage&&!y.importScripts){var W=!0,j=y.onmessage;return y.onmessage=function(){W=!1},y.postMessage("","*"),y.onmessage=j,W}}()?(A="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",Z,!1):y.attachEvent("onmessage",Z),function(W){y.postMessage(A+W,"*")}):y.MessageChannel?((S=new MessageChannel).port1.onmessage=function(W){re(W.data)},function(W){S.port2.postMessage(W)}):V&&"onreadystatechange"in V.createElement("script")?(T=V.documentElement,function(W){var j=V.createElement("script");j.onreadystatechange=function(){re(W),j.onreadystatechange=null,T.removeChild(j),j=null},T.appendChild(j)}):function(W){setTimeout(re,0,W)},ie.setImmediate=function(W){typeof W!="function"&&(W=new Function(""+W));for(var j=new Array(arguments.length-1),O=0;O<j.length;O++)j[O]=arguments[O+1];var C={callback:W,args:j};return I[w]=C,E(w),w++},ie.clearImmediate=te}function te(W){delete I[W]}function re(W){if(D)setTimeout(re,0,W);else{var j=I[W];if(j){D=!0;try{(function(O){var C=O.callback,F=O.args;switch(F.length){case 0:C();break;case 1:C(F[0]);break;case 2:C(F[0],F[1]);break;case 3:C(F[0],F[1],F[2]);break;default:C.apply(p,F)}})(j)}finally{te(W),D=!1}}}}function Z(W){W.source===y&&typeof W.data=="string"&&W.data.indexOf(A)===0&&re(+W.data.slice(A.length))}})(typeof self>"u"?v===void 0?this:v:self)}).call(this,typeof u<"u"?u:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,m,g){(function(f){(function(){var u=1/0,h="[object Symbol]",s=/[\\^$.*+?()[\]{}|]/g,t=RegExp(s.source),i=typeof f=="object"&&f&&f.Object===Object&&f,r=typeof self=="object"&&self&&self.Object===Object&&self,n=i||r||Function("return this")(),l=Object.prototype,d=l.toString,a=n.Symbol,v=a?a.prototype:void 0,y=v?v.toString:void 0;function p(w){if(typeof w=="string")return w;if(T(w))return y?y.call(w):"";var I=w+"";return I=="0"&&1/w==-u?"-0":I}function E(w){return!!w&&typeof w=="object"}function T(w){return typeof w=="symbol"||E(w)&&d.call(w)==h}function S(w){return w==null?"":p(w)}function A(w){return w=S(w),w&&t.test(w)?w.replace(s,"\\$&"):w}m.exports=A}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,m,g){(function(f){(function(){var u=200,h="Expected a function",s="__lodash_hash_undefined__",t=1,i=2,r=1/0,n=9007199254740991,l="[object Arguments]",d="[object Array]",a="[object Boolean]",v="[object Date]",y="[object Error]",p="[object Function]",E="[object GeneratorFunction]",T="[object Map]",S="[object Number]",A="[object Object]",w="[object Promise]",I="[object RegExp]",D="[object Set]",V="[object String]",ie="[object Symbol]",te="[object WeakMap]",re="[object ArrayBuffer]",Z="[object DataView]",W="[object Float32Array]",j="[object Float64Array]",O="[object Int8Array]",C="[object Int16Array]",F="[object Int32Array]",H="[object Uint8Array]",$="[object Uint8ClampedArray]",Y="[object Uint16Array]",z="[object Uint32Array]",B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L=/^\w*$/,G=/^\./,le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ge=/[\\^$.*+?()[\]{}|]/g,Ie=/\\(\\)?/g,Oe=/^\[object .+?Constructor\]$/,Ke=/^(?:0|[1-9]\d*)$/,De={};De[W]=De[j]=De[O]=De[C]=De[F]=De[H]=De[$]=De[Y]=De[z]=!0,De[l]=De[d]=De[re]=De[a]=De[Z]=De[v]=De[y]=De[p]=De[T]=De[S]=De[A]=De[I]=De[D]=De[V]=De[te]=!1;var Ee=typeof f=="object"&&f&&f.Object===Object&&f,Q=typeof self=="object"&&self&&self.Object===Object&&self,ue=Ee||Q||Function("return this")(),xe=typeof g=="object"&&g&&!g.nodeType&&g,_e=xe&&typeof m=="object"&&m&&!m.nodeType&&m,ce=_e&&_e.exports===xe,de=ce&&Ee.process,he=function(){try{return de&&de.binding("util")}catch{}}(),se=he&&he.isTypedArray;function ne(Ce,Ve,st,xt){for(var Ht=-1,Ft=Ce?Ce.length:0;++Ht<Ft;){var yr=Ce[Ht];Ve(xt,yr,st(yr),Ce)}return xt}function we(Ce,Ve){for(var st=-1,xt=Ce?Ce.length:0;++st<xt;)if(Ve(Ce[st],st,Ce))return!0;return!1}function Ne(Ce){return function(Ve){return Ve==null?void 0:Ve[Ce]}}function ae(Ce,Ve){for(var st=-1,xt=Array(Ce);++st<Ce;)xt[st]=Ve(st);return xt}function Pe(Ce){return function(Ve){return Ce(Ve)}}function ze(Ce,Ve){return Ce==null?void 0:Ce[Ve]}function ve(Ce){var Ve=!1;if(Ce!=null&&typeof Ce.toString!="function")try{Ve=!!(Ce+"")}catch{}return Ve}function Ae(Ce){var Ve=-1,st=Array(Ce.size);return Ce.forEach(function(xt,Ht){st[++Ve]=[Ht,xt]}),st}function Be(Ce,Ve){return function(st){return Ce(Ve(st))}}function We(Ce){var Ve=-1,st=Array(Ce.size);return Ce.forEach(function(xt){st[++Ve]=xt}),st}var Je=Array.prototype,Ge=Function.prototype,et=Object.prototype,ut=ue["__core-js_shared__"],at=function(){var Ce=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return Ce?"Symbol(src)_1."+Ce:""}(),Fe=Ge.toString,Qe=et.hasOwnProperty,rt=et.toString,mt=RegExp("^"+Fe.call(Qe).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=ue.Symbol,jt=ue.Uint8Array,kt=et.propertyIsEnumerable,Nt=Je.splice,Tt=Be(Object.keys,Object),Mt=an(ue,"DataView"),Dt=an(ue,"Map"),It=an(ue,"Promise"),$t=an(ue,"Set"),Sr=an(ue,"WeakMap"),mr=an(Object,"create"),Xt=vt(Mt),hr=vt(Dt),Mr=vt(It),ir=vt($t),Vr=vt(Sr),Nr=Ut?Ut.prototype:void 0,qt=Nr?Nr.valueOf:void 0,Pr=Nr?Nr.toString:void 0;function ur(Ce){var Ve=-1,st=Ce?Ce.length:0;for(this.clear();++Ve<st;){var xt=Ce[Ve];this.set(xt[0],xt[1])}}function rr(){this.__data__=mr?mr(null):{}}function Ar(Ce){return this.has(Ce)&&delete this.__data__[Ce]}function dr(Ce){var Ve=this.__data__;if(mr){var st=Ve[Ce];return st===s?void 0:st}return Qe.call(Ve,Ce)?Ve[Ce]:void 0}function tr(Ce){var Ve=this.__data__;return mr?Ve[Ce]!==void 0:Qe.call(Ve,Ce)}function Hr(Ce,Ve){var st=this.__data__;return st[Ce]=mr&&Ve===void 0?s:Ve,this}ur.prototype.clear=rr,ur.prototype.delete=Ar,ur.prototype.get=dr,ur.prototype.has=tr,ur.prototype.set=Hr;function or(Ce){var Ve=-1,st=Ce?Ce.length:0;for(this.clear();++Ve<st;){var xt=Ce[Ve];this.set(xt[0],xt[1])}}function nr(){this.__data__=[]}function Ue(Ce){var Ve=this.__data__,st=vr(Ve,Ce);if(st<0)return!1;var xt=Ve.length-1;return st==xt?Ve.pop():Nt.call(Ve,st,1),!0}function it(Ce){var Ve=this.__data__,st=vr(Ve,Ce);return st<0?void 0:Ve[st][1]}function ot(Ce){return vr(this.__data__,Ce)>-1}function Rt(Ce,Ve){var st=this.__data__,xt=vr(st,Ce);return xt<0?st.push([Ce,Ve]):st[xt][1]=Ve,this}or.prototype.clear=nr,or.prototype.delete=Ue,or.prototype.get=it,or.prototype.has=ot,or.prototype.set=Rt;function zt(Ce){var Ve=-1,st=Ce?Ce.length:0;for(this.clear();++Ve<st;){var xt=Ce[Ve];this.set(xt[0],xt[1])}}function gr(){this.__data__={hash:new ur,map:new(Dt||or),string:new ur}}function Gr(Ce){return dn(this,Ce).delete(Ce)}function di(Ce){return dn(this,Ce).get(Ce)}function gi(Ce){return dn(this,Ce).has(Ce)}function ci(Ce,Ve){return dn(this,Ce).set(Ce,Ve),this}zt.prototype.clear=gr,zt.prototype.delete=Gr,zt.prototype.get=di,zt.prototype.has=gi,zt.prototype.set=ci;function ti(Ce){var Ve=-1,st=Ce?Ce.length:0;for(this.__data__=new zt;++Ve<st;)this.add(Ce[Ve])}function fn(Ce){return this.__data__.set(Ce,s),this}function en(Ce){return this.__data__.has(Ce)}ti.prototype.add=ti.prototype.push=fn,ti.prototype.has=en;function Yr(Ce){this.__data__=new or(Ce)}function Ki(){this.__data__=new or}function Yi(Ce){return this.__data__.delete(Ce)}function _i(Ce){return this.__data__.get(Ce)}function Fi(Ce){return this.__data__.has(Ce)}function Di(Ce,Ve){var st=this.__data__;if(st instanceof or){var xt=st.__data__;if(!Dt||xt.length<u-1)return xt.push([Ce,Ve]),this;st=this.__data__=new zt(xt)}return st.set(Ce,Ve),this}Yr.prototype.clear=Ki,Yr.prototype.delete=Yi,Yr.prototype.get=_i,Yr.prototype.has=Fi,Yr.prototype.set=Di;function tn(Ce,Ve){var st=Fr(Ce)||Lr(Ce)?ae(Ce.length,String):[],xt=st.length,Ht=!!xt;for(var Ft in Ce)(Ve||Qe.call(Ce,Ft))&&!(Ht&&(Ft=="length"||Yn(Ft,xt)))&&st.push(Ft);return st}function vr(Ce,Ve){for(var st=Ce.length;st--;)if(Zt(Ce[st][0],Ve))return st;return-1}function Zi(Ce,Ve,st,xt){return Hi(Ce,function(Ht,Ft,yr){Ve(xt,Ht,st(Ht),yr)}),xt}var Hi=ya(ss),ys=wa();function ss(Ce,Ve){return Ce&&ys(Ce,Ve,Ln)}function ws(Ce,Ve){Ve=jr(Ve,Ce)?[Ve]:xs(Ve);for(var st=0,xt=Ve.length;Ce!=null&&st<xt;)Ce=Ce[qe(Ve[st++])];return st&&st==xt?Ce:void 0}function ga(Ce){return rt.call(Ce)}function Bs(Ce,Ve){return Ce!=null&&Ve in Object(Ce)}function rn(Ce,Ve,st,xt,Ht){return Ce===Ve?!0:Ce==null||Ve==null||!si(Ce)&&!ai(Ve)?Ce!==Ce&&Ve!==Ve:Gn(Ce,Ve,rn,st,xt,Ht)}function Gn(Ce,Ve,st,xt,Ht,Ft){var yr=Fr(Ce),Qr=Fr(Ve),fr=d,hi=d;yr||(fr=pn(Ce),fr=fr==l?A:fr),Qr||(hi=pn(Ve),hi=hi==l?A:hi);var Ei=fr==A&&!ve(Ce),yi=hi==A&&!ve(Ve),ei=fr==hi;if(ei&&!Ei)return Ft||(Ft=new Yr),yr||Bi(Ce)?$i(Ce,Ve,st,xt,Ht,Ft):Es(Ce,Ve,fr,st,xt,Ht,Ft);if(!(Ht&i)){var on=Ei&&Qe.call(Ce,"__wrapped__"),Vi=yi&&Qe.call(Ve,"__wrapped__");if(on||Vi){var On=on?Ce.value():Ce,mn=Vi?Ve.value():Ve;return Ft||(Ft=new Yr),st(On,mn,xt,Ht,Ft)}}return ei?(Ft||(Ft=new Yr),_a(Ce,Ve,st,xt,Ht,Ft)):!1}function nn(Ce,Ve,st,xt){var Ht=st.length,Ft=Ht,yr=!xt;if(Ce==null)return!Ft;for(Ce=Object(Ce);Ht--;){var Qr=st[Ht];if(yr&&Qr[2]?Qr[1]!==Ce[Qr[0]]:!(Qr[0]in Ce))return!1}for(;++Ht<Ft;){Qr=st[Ht];var fr=Qr[0],hi=Ce[fr],Ei=Qr[1];if(yr&&Qr[2]){if(hi===void 0&&!(fr in Ce))return!1}else{var yi=new Yr;if(xt)var ei=xt(hi,Ei,fr,Ce,Ve,yi);if(!(ei===void 0?rn(Ei,hi,xt,t|i,yi):ei))return!1}}return!0}function va(Ce){if(!si(Ce)||zs(Ce))return!1;var Ve=xi(Ce)||ve(Ce)?mt:Oe;return Ve.test(vt(Ce))}function Dn(Ce){return ai(Ce)&&vi(Ce.length)&&!!De[rt.call(Ce)]}function Kn(Ce){return typeof Ce=="function"?Ce:Ce==null?wn:typeof Ce=="object"?Fr(Ce)?ba(Ce[0],Ce[1]):_s(Ce):Qi(Ce)}function sn(Ce){if(!Ts(Ce))return Tt(Ce);var Ve=[];for(var st in Object(Ce))Qe.call(Ce,st)&&st!="constructor"&&Ve.push(st);return Ve}function _s(Ce){var Ve=xa(Ce);return Ve.length==1&&Ve[0][2]?Zn(Ve[0][0],Ve[0][1]):function(st){return st===Ce||nn(st,Ce,Ve)}}function ba(Ce,Ve){return jr(Ce)&&Hs(Ve)?Zn(qe(Ce),Ve):function(st){var xt=Wi(st,Ce);return xt===void 0&&xt===Ve?pi(st,Ce):rn(Ve,xt,void 0,t|i)}}function un(Ce){return function(Ve){return ws(Ve,Ce)}}function Us(Ce){if(typeof Ce=="string")return Ce;if(bi(Ce))return Pr?Pr.call(Ce):"";var Ve=Ce+"";return Ve=="0"&&1/Ce==-r?"-0":Ve}function xs(Ce){return Fr(Ce)?Ce:je(Ce)}function Va(Ce,Ve){return function(st,xt){var Ht=Fr(st)?ne:Zi,Ft=Ve?Ve():{};return Ht(st,Ce,Kn(xt),Ft)}}function ya(Ce,Ve){return function(st,xt){if(st==null)return st;if(!Zr(st))return Ce(st,xt);for(var Ht=st.length,Ft=Ve?Ht:-1,yr=Object(st);(Ve?Ft--:++Ft<Ht)&&xt(yr[Ft],Ft,yr)!==!1;);return st}}function wa(Ce){return function(Ve,st,xt){for(var Ht=-1,Ft=Object(Ve),yr=xt(Ve),Qr=yr.length;Qr--;){var fr=yr[Ce?Qr:++Ht];if(st(Ft[fr],fr,Ft)===!1)break}return Ve}}function $i(Ce,Ve,st,xt,Ht,Ft){var yr=Ht&i,Qr=Ce.length,fr=Ve.length;if(Qr!=fr&&!(yr&&fr>Qr))return!1;var hi=Ft.get(Ce);if(hi&&Ft.get(Ve))return hi==Ve;var Ei=-1,yi=!0,ei=Ht&t?new ti:void 0;for(Ft.set(Ce,Ve),Ft.set(Ve,Ce);++Ei<Qr;){var on=Ce[Ei],Vi=Ve[Ei];if(xt)var On=yr?xt(Vi,on,Ei,Ve,Ce,Ft):xt(on,Vi,Ei,Ce,Ve,Ft);if(On!==void 0){if(On)continue;yi=!1;break}if(ei){if(!we(Ve,function(mn,Nn){if(!ei.has(Nn)&&(on===mn||st(on,mn,xt,Ht,Ft)))return ei.add(Nn)})){yi=!1;break}}else if(!(on===Vi||st(on,Vi,xt,Ht,Ft))){yi=!1;break}}return Ft.delete(Ce),Ft.delete(Ve),yi}function Es(Ce,Ve,st,xt,Ht,Ft,yr){switch(st){case Z:if(Ce.byteLength!=Ve.byteLength||Ce.byteOffset!=Ve.byteOffset)return!1;Ce=Ce.buffer,Ve=Ve.buffer;case re:return!(Ce.byteLength!=Ve.byteLength||!xt(new jt(Ce),new jt(Ve)));case a:case v:case S:return Zt(+Ce,+Ve);case y:return Ce.name==Ve.name&&Ce.message==Ve.message;case I:case V:return Ce==Ve+"";case T:var Qr=Ae;case D:var fr=Ft&i;if(Qr||(Qr=We),Ce.size!=Ve.size&&!fr)return!1;var hi=yr.get(Ce);if(hi)return hi==Ve;Ft|=t,yr.set(Ce,Ve);var Ei=$i(Qr(Ce),Qr(Ve),xt,Ht,Ft,yr);return yr.delete(Ce),Ei;case ie:if(qt)return qt.call(Ce)==qt.call(Ve)}return!1}function _a(Ce,Ve,st,xt,Ht,Ft){var yr=Ht&i,Qr=Ln(Ce),fr=Qr.length,hi=Ln(Ve),Ei=hi.length;if(fr!=Ei&&!yr)return!1;for(var yi=fr;yi--;){var ei=Qr[yi];if(!(yr?ei in Ve:Qe.call(Ve,ei)))return!1}var on=Ft.get(Ce);if(on&&Ft.get(Ve))return on==Ve;var Vi=!0;Ft.set(Ce,Ve),Ft.set(Ve,Ce);for(var On=yr;++yi<fr;){ei=Qr[yi];var mn=Ce[ei],Nn=Ve[ei];if(xt)var $s=yr?xt(Nn,mn,ei,Ve,Ce,Ft):xt(mn,Nn,ei,Ce,Ve,Ft);if(!($s===void 0?mn===Nn||st(mn,Nn,xt,Ht,Ft):$s)){Vi=!1;break}On||(On=ei=="constructor")}if(Vi&&!On){var Ea=Ce.constructor,Ti=Ve.constructor;Ea!=Ti&&"constructor"in Ce&&"constructor"in Ve&&!(typeof Ea=="function"&&Ea instanceof Ea&&typeof Ti=="function"&&Ti instanceof Ti)&&(Vi=!1)}return Ft.delete(Ce),Ft.delete(Ve),Vi}function dn(Ce,Ve){var st=Ce.__data__;return Dr(Ve)?st[typeof Ve=="string"?"string":"hash"]:st.map}function xa(Ce){for(var Ve=Ln(Ce),st=Ve.length;st--;){var xt=Ve[st],Ht=Ce[xt];Ve[st]=[xt,Ht,Hs(Ht)]}return Ve}function an(Ce,Ve){var st=ze(Ce,Ve);return va(st)?st:void 0}var pn=ga;(Mt&&pn(new Mt(new ArrayBuffer(1)))!=Z||Dt&&pn(new Dt)!=T||It&&pn(It.resolve())!=w||$t&&pn(new $t)!=D||Sr&&pn(new Sr)!=te)&&(pn=function(Ce){var Ve=rt.call(Ce),st=Ve==A?Ce.constructor:void 0,xt=st?vt(st):void 0;if(xt)switch(xt){case Xt:return Z;case hr:return T;case Mr:return w;case ir:return D;case Vr:return te}return Ve});function js(Ce,Ve,st){Ve=jr(Ve,Ce)?[Ve]:xs(Ve);for(var xt,Ht=-1,yr=Ve.length;++Ht<yr;){var Ft=qe(Ve[Ht]);if(!(xt=Ce!=null&&st(Ce,Ft)))break;Ce=Ce[Ft]}if(xt)return xt;var yr=Ce?Ce.length:0;return!!yr&&vi(yr)&&Yn(Ft,yr)&&(Fr(Ce)||Lr(Ce))}function Yn(Ce,Ve){return Ve=Ve??n,!!Ve&&(typeof Ce=="number"||Ke.test(Ce))&&Ce>-1&&Ce%1==0&&Ce<Ve}function jr(Ce,Ve){if(Fr(Ce))return!1;var st=typeof Ce;return st=="number"||st=="symbol"||st=="boolean"||Ce==null||bi(Ce)?!0:L.test(Ce)||!B.test(Ce)||Ve!=null&&Ce in Object(Ve)}function Dr(Ce){var Ve=typeof Ce;return Ve=="string"||Ve=="number"||Ve=="symbol"||Ve=="boolean"?Ce!=="__proto__":Ce===null}function zs(Ce){return!!at&&at in Ce}function Ts(Ce){var Ve=Ce&&Ce.constructor,st=typeof Ve=="function"&&Ve.prototype||et;return Ce===st}function Hs(Ce){return Ce===Ce&&!si(Ce)}function Zn(Ce,Ve){return function(st){return st==null?!1:st[Ce]===Ve&&(Ve!==void 0||Ce in Object(st))}}var je=sr(function(Ce){Ce=ri(Ce);var Ve=[];return G.test(Ce)&&Ve.push(""),Ce.replace(le,function(st,xt,Ht,Ft){Ve.push(Ht?Ft.replace(Ie,"$1"):xt||st)}),Ve});function qe(Ce){if(typeof Ce=="string"||bi(Ce))return Ce;var Ve=Ce+"";return Ve=="0"&&1/Ce==-r?"-0":Ve}function vt(Ce){if(Ce!=null){try{return Fe.call(Ce)}catch{}try{return Ce+""}catch{}}return""}var Ot=Va(function(Ce,Ve,st){Qe.call(Ce,st)?Ce[st].push(Ve):Ce[st]=[Ve]});function sr(Ce,Ve){if(typeof Ce!="function"||Ve&&typeof Ve!="function")throw new TypeError(h);var st=function(){var xt=arguments,Ht=Ve?Ve.apply(this,xt):xt[0],Ft=st.cache;if(Ft.has(Ht))return Ft.get(Ht);var yr=Ce.apply(this,xt);return st.cache=Ft.set(Ht,yr),yr};return st.cache=new(sr.Cache||zt),st}sr.Cache=zt;function Zt(Ce,Ve){return Ce===Ve||Ce!==Ce&&Ve!==Ve}function Lr(Ce){return kr(Ce)&&Qe.call(Ce,"callee")&&(!kt.call(Ce,"callee")||rt.call(Ce)==l)}var Fr=Array.isArray;function Zr(Ce){return Ce!=null&&vi(Ce.length)&&!xi(Ce)}function kr(Ce){return ai(Ce)&&Zr(Ce)}function xi(Ce){var Ve=si(Ce)?rt.call(Ce):"";return Ve==p||Ve==E}function vi(Ce){return typeof Ce=="number"&&Ce>-1&&Ce%1==0&&Ce<=n}function si(Ce){var Ve=typeof Ce;return!!Ce&&(Ve=="object"||Ve=="function")}function ai(Ce){return!!Ce&&typeof Ce=="object"}function bi(Ce){return typeof Ce=="symbol"||ai(Ce)&&rt.call(Ce)==ie}var Bi=se?Pe(se):Dn;function ri(Ce){return Ce==null?"":Us(Ce)}function Wi(Ce,Ve,st){var xt=Ce==null?void 0:ws(Ce,Ve);return xt===void 0?st:xt}function pi(Ce,Ve){return Ce!=null&&js(Ce,Ve,Bs)}function Ln(Ce){return Zr(Ce)?tn(Ce):sn(Ce)}function wn(Ce){return Ce}function Qi(Ce){return jr(Ce)?Ne(qe(Ce)):un(Ce)}m.exports=Ot}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,m,g){var f="[object Boolean]",u=Object.prototype,h=u.toString;function s(i){return i===!0||i===!1||t(i)&&h.call(i)==f}function t(i){return!!i&&typeof i=="object"}m.exports=s},{}],445:[function(e,m,g){(function(f){(function(){var u=200,h="__lodash_hash_undefined__",s=1,t=2,i=9007199254740991,r="[object Arguments]",n="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",a="[object Date]",v="[object Error]",y="[object Function]",p="[object GeneratorFunction]",E="[object Map]",T="[object Number]",S="[object Null]",A="[object Object]",w="[object Promise]",I="[object Proxy]",D="[object RegExp]",V="[object Set]",ie="[object String]",te="[object Symbol]",re="[object Undefined]",Z="[object WeakMap]",W="[object ArrayBuffer]",j="[object DataView]",O="[object Float32Array]",C="[object Float64Array]",F="[object Int8Array]",H="[object Int16Array]",$="[object Int32Array]",Y="[object Uint8Array]",z="[object Uint8ClampedArray]",B="[object Uint16Array]",L="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,ge=/^(?:0|[1-9]\d*)$/,Ie={};Ie[O]=Ie[C]=Ie[F]=Ie[H]=Ie[$]=Ie[Y]=Ie[z]=Ie[B]=Ie[L]=!0,Ie[r]=Ie[n]=Ie[W]=Ie[d]=Ie[j]=Ie[a]=Ie[v]=Ie[y]=Ie[E]=Ie[T]=Ie[A]=Ie[D]=Ie[V]=Ie[ie]=Ie[Z]=!1;var Oe=typeof f=="object"&&f&&f.Object===Object&&f,Ke=typeof self=="object"&&self&&self.Object===Object&&self,De=Oe||Ke||Function("return this")(),Ee=typeof g=="object"&&g&&!g.nodeType&&g,Q=Ee&&typeof m=="object"&&m&&!m.nodeType&&m,ue=Q&&Q.exports===Ee,xe=ue&&Oe.process,_e=function(){try{return xe&&xe.binding&&xe.binding("util")}catch{}}(),ce=_e&&_e.isTypedArray;function de(je,qe){for(var vt=-1,Ot=je==null?0:je.length,sr=0,Zt=[];++vt<Ot;){var Lr=je[vt];qe(Lr,vt,je)&&(Zt[sr++]=Lr)}return Zt}function he(je,qe){for(var vt=-1,Ot=qe.length,sr=je.length;++vt<Ot;)je[sr+vt]=qe[vt];return je}function se(je,qe){for(var vt=-1,Ot=je==null?0:je.length;++vt<Ot;)if(qe(je[vt],vt,je))return!0;return!1}function ne(je,qe){for(var vt=-1,Ot=Array(je);++vt<je;)Ot[vt]=qe(vt);return Ot}function we(je){return function(qe){return je(qe)}}function Ne(je,qe){return je.has(qe)}function ae(je,qe){return je==null?void 0:je[qe]}function Pe(je){var qe=-1,vt=Array(je.size);return je.forEach(function(Ot,sr){vt[++qe]=[sr,Ot]}),vt}function ze(je,qe){return function(vt){return je(qe(vt))}}function ve(je){var qe=-1,vt=Array(je.size);return je.forEach(function(Ot){vt[++qe]=Ot}),vt}var Ae=Array.prototype,Be=Function.prototype,We=Object.prototype,Je=De["__core-js_shared__"],Ge=Be.toString,et=We.hasOwnProperty,ut=function(){var je=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return je?"Symbol(src)_1."+je:""}(),at=We.toString,Fe=RegExp("^"+Ge.call(et).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=ue?De.Buffer:void 0,rt=De.Symbol,mt=De.Uint8Array,Ut=We.propertyIsEnumerable,jt=Ae.splice,kt=rt?rt.toStringTag:void 0,Nt=Object.getOwnPropertySymbols,Tt=Qe?Qe.isBuffer:void 0,Mt=ze(Object.keys,Object),Dt=sn(De,"DataView"),It=sn(De,"Map"),$t=sn(De,"Promise"),Sr=sn(De,"Set"),mr=sn(De,"WeakMap"),Xt=sn(Object,"create"),hr=$i(Dt),Mr=$i(It),ir=$i($t),Vr=$i(Sr),Nr=$i(mr),qt=rt?rt.prototype:void 0,Pr=qt?qt.valueOf:void 0;function ur(je){var qe=-1,vt=je==null?0:je.length;for(this.clear();++qe<vt;){var Ot=je[qe];this.set(Ot[0],Ot[1])}}function rr(){this.__data__=Xt?Xt(null):{},this.size=0}function Ar(je){var qe=this.has(je)&&delete this.__data__[je];return this.size-=qe?1:0,qe}function dr(je){var qe=this.__data__;if(Xt){var vt=qe[je];return vt===h?void 0:vt}return et.call(qe,je)?qe[je]:void 0}function tr(je){var qe=this.__data__;return Xt?qe[je]!==void 0:et.call(qe,je)}function Hr(je,qe){var vt=this.__data__;return this.size+=this.has(je)?0:1,vt[je]=Xt&&qe===void 0?h:qe,this}ur.prototype.clear=rr,ur.prototype.delete=Ar,ur.prototype.get=dr,ur.prototype.has=tr,ur.prototype.set=Hr;function or(je){var qe=-1,vt=je==null?0:je.length;for(this.clear();++qe<vt;){var Ot=je[qe];this.set(Ot[0],Ot[1])}}function nr(){this.__data__=[],this.size=0}function Ue(je){var qe=this.__data__,vt=vr(qe,je);if(vt<0)return!1;var Ot=qe.length-1;return vt==Ot?qe.pop():jt.call(qe,vt,1),--this.size,!0}function it(je){var qe=this.__data__,vt=vr(qe,je);return vt<0?void 0:qe[vt][1]}function ot(je){return vr(this.__data__,je)>-1}function Rt(je,qe){var vt=this.__data__,Ot=vr(vt,je);return Ot<0?(++this.size,vt.push([je,qe])):vt[Ot][1]=qe,this}or.prototype.clear=nr,or.prototype.delete=Ue,or.prototype.get=it,or.prototype.has=ot,or.prototype.set=Rt;function zt(je){var qe=-1,vt=je==null?0:je.length;for(this.clear();++qe<vt;){var Ot=je[qe];this.set(Ot[0],Ot[1])}}function gr(){this.size=0,this.__data__={hash:new ur,map:new(It||or),string:new ur}}function Gr(je){var qe=Kn(this,je).delete(je);return this.size-=qe?1:0,qe}function di(je){return Kn(this,je).get(je)}function gi(je){return Kn(this,je).has(je)}function ci(je,qe){var vt=Kn(this,je),Ot=vt.size;return vt.set(je,qe),this.size+=vt.size==Ot?0:1,this}zt.prototype.clear=gr,zt.prototype.delete=Gr,zt.prototype.get=di,zt.prototype.has=gi,zt.prototype.set=ci;function ti(je){var qe=-1,vt=je==null?0:je.length;for(this.__data__=new zt;++qe<vt;)this.add(je[qe])}function fn(je){return this.__data__.set(je,h),this}function en(je){return this.__data__.has(je)}ti.prototype.add=ti.prototype.push=fn,ti.prototype.has=en;function Yr(je){var qe=this.__data__=new or(je);this.size=qe.size}function Ki(){this.__data__=new or,this.size=0}function Yi(je){var qe=this.__data__,vt=qe.delete(je);return this.size=qe.size,vt}function _i(je){return this.__data__.get(je)}function Fi(je){return this.__data__.has(je)}function Di(je,qe){var vt=this.__data__;if(vt instanceof or){var Ot=vt.__data__;if(!It||Ot.length<u-1)return Ot.push([je,qe]),this.size=++vt.size,this;vt=this.__data__=new zt(Ot)}return vt.set(je,qe),this.size=vt.size,this}Yr.prototype.clear=Ki,Yr.prototype.delete=Yi,Yr.prototype.get=_i,Yr.prototype.has=Fi,Yr.prototype.set=Di;function tn(je,qe){var vt=dn(je),Ot=!vt&&_a(je),sr=!vt&&!Ot&&an(je),Zt=!vt&&!Ot&&!sr&&zs(je),Lr=vt||Ot||sr||Zt,Fr=Lr?ne(je.length,String):[],Zr=Fr.length;for(var kr in je)(qe||et.call(je,kr))&&!(Lr&&(kr=="length"||sr&&(kr=="offset"||kr=="parent")||Zt&&(kr=="buffer"||kr=="byteLength"||kr=="byteOffset")||Us(kr,Zr)))&&Fr.push(kr);return Fr}function vr(je,qe){for(var vt=je.length;vt--;)if(Es(je[vt][0],qe))return vt;return-1}function Zi(je,qe,vt){var Ot=qe(je);return dn(je)?Ot:he(Ot,vt(je))}function Hi(je){return je==null?je===void 0?re:S:kt&&kt in Object(je)?_s(je):wa(je)}function ys(je){return Dr(je)&&Hi(je)==r}function ss(je,qe,vt,Ot,sr){return je===qe?!0:je==null||qe==null||!Dr(je)&&!Dr(qe)?je!==je&&qe!==qe:ws(je,qe,vt,Ot,ss,sr)}function ws(je,qe,vt,Ot,sr,Zt){var Lr=dn(je),Fr=dn(qe),Zr=Lr?n:un(je),kr=Fr?n:un(qe);Zr=Zr==r?A:Zr,kr=kr==r?A:kr;var xi=Zr==A,vi=kr==A,si=Zr==kr;if(si&&an(je)){if(!an(qe))return!1;Lr=!0,xi=!1}if(si&&!xi)return Zt||(Zt=new Yr),Lr||zs(je)?Gn(je,qe,vt,Ot,sr,Zt):nn(je,qe,Zr,vt,Ot,sr,Zt);if(!(vt&s)){var ai=xi&&et.call(je,"__wrapped__"),bi=vi&&et.call(qe,"__wrapped__");if(ai||bi){var Bi=ai?je.value():je,ri=bi?qe.value():qe;return Zt||(Zt=new Yr),sr(Bi,ri,vt,Ot,Zt)}}return si?(Zt||(Zt=new Yr),va(je,qe,vt,Ot,sr,Zt)):!1}function ga(je){if(!jr(je)||Va(je))return!1;var qe=js(je)?Fe:le;return qe.test($i(je))}function Bs(je){return Dr(je)&&Yn(je.length)&&!!Ie[Hi(je)]}function rn(je){if(!ya(je))return Mt(je);var qe=[];for(var vt in Object(je))et.call(je,vt)&&vt!="constructor"&&qe.push(vt);return qe}function Gn(je,qe,vt,Ot,sr,Zt){var Lr=vt&s,Fr=je.length,Zr=qe.length;if(Fr!=Zr&&!(Lr&&Zr>Fr))return!1;var kr=Zt.get(je);if(kr&&Zt.get(qe))return kr==qe;var xi=-1,vi=!0,si=vt&t?new ti:void 0;for(Zt.set(je,qe),Zt.set(qe,je);++xi<Fr;){var ai=je[xi],bi=qe[xi];if(Ot)var Bi=Lr?Ot(bi,ai,xi,qe,je,Zt):Ot(ai,bi,xi,je,qe,Zt);if(Bi!==void 0){if(Bi)continue;vi=!1;break}if(si){if(!se(qe,function(ri,Wi){if(!Ne(si,Wi)&&(ai===ri||sr(ai,ri,vt,Ot,Zt)))return si.push(Wi)})){vi=!1;break}}else if(!(ai===bi||sr(ai,bi,vt,Ot,Zt))){vi=!1;break}}return Zt.delete(je),Zt.delete(qe),vi}function nn(je,qe,vt,Ot,sr,Zt,Lr){switch(vt){case j:if(je.byteLength!=qe.byteLength||je.byteOffset!=qe.byteOffset)return!1;je=je.buffer,qe=qe.buffer;case W:return!(je.byteLength!=qe.byteLength||!Zt(new mt(je),new mt(qe)));case d:case a:case T:return Es(+je,+qe);case v:return je.name==qe.name&&je.message==qe.message;case D:case ie:return je==qe+"";case E:var Fr=Pe;case V:var Zr=Ot&s;if(Fr||(Fr=ve),je.size!=qe.size&&!Zr)return!1;var kr=Lr.get(je);if(kr)return kr==qe;Ot|=t,Lr.set(je,qe);var xi=Gn(Fr(je),Fr(qe),Ot,sr,Zt,Lr);return Lr.delete(je),xi;case te:if(Pr)return Pr.call(je)==Pr.call(qe)}return!1}function va(je,qe,vt,Ot,sr,Zt){var Lr=vt&s,Fr=Dn(je),Zr=Fr.length,kr=Dn(qe),xi=kr.length;if(Zr!=xi&&!Lr)return!1;for(var vi=Zr;vi--;){var si=Fr[vi];if(!(Lr?si in qe:et.call(qe,si)))return!1}var ai=Zt.get(je);if(ai&&Zt.get(qe))return ai==qe;var bi=!0;Zt.set(je,qe),Zt.set(qe,je);for(var Bi=Lr;++vi<Zr;){si=Fr[vi];var ri=je[si],Wi=qe[si];if(Ot)var pi=Lr?Ot(Wi,ri,si,qe,je,Zt):Ot(ri,Wi,si,je,qe,Zt);if(!(pi===void 0?ri===Wi||sr(ri,Wi,vt,Ot,Zt):pi)){bi=!1;break}Bi||(Bi=si=="constructor")}if(bi&&!Bi){var Ln=je.constructor,wn=qe.constructor;Ln!=wn&&"constructor"in je&&"constructor"in qe&&!(typeof Ln=="function"&&Ln instanceof Ln&&typeof wn=="function"&&wn instanceof wn)&&(bi=!1)}return Zt.delete(je),Zt.delete(qe),bi}function Dn(je){return Zi(je,Ts,ba)}function Kn(je,qe){var vt=je.__data__;return xs(qe)?vt[typeof qe=="string"?"string":"hash"]:vt.map}function sn(je,qe){var vt=ae(je,qe);return ga(vt)?vt:void 0}function _s(je){var qe=et.call(je,kt),vt=je[kt];try{je[kt]=void 0;var Ot=!0}catch{}var sr=at.call(je);return Ot&&(qe?je[kt]=vt:delete je[kt]),sr}var ba=Nt?function(je){return je==null?[]:(je=Object(je),de(Nt(je),function(qe){return Ut.call(je,qe)}))}:Hs,un=Hi;(Dt&&un(new Dt(new ArrayBuffer(1)))!=j||It&&un(new It)!=E||$t&&un($t.resolve())!=w||Sr&&un(new Sr)!=V||mr&&un(new mr)!=Z)&&(un=function(je){var qe=Hi(je),vt=qe==A?je.constructor:void 0,Ot=vt?$i(vt):"";if(Ot)switch(Ot){case hr:return j;case Mr:return E;case ir:return w;case Vr:return V;case Nr:return Z}return qe});function Us(je,qe){return qe=qe??i,!!qe&&(typeof je=="number"||ge.test(je))&&je>-1&&je%1==0&&je<qe}function xs(je){var qe=typeof je;return qe=="string"||qe=="number"||qe=="symbol"||qe=="boolean"?je!=="__proto__":je===null}function Va(je){return!!ut&&ut in je}function ya(je){var qe=je&&je.constructor,vt=typeof qe=="function"&&qe.prototype||We;return je===vt}function wa(je){return at.call(je)}function $i(je){if(je!=null){try{return Ge.call(je)}catch{}try{return je+""}catch{}}return""}function Es(je,qe){return je===qe||je!==je&&qe!==qe}var _a=ys(function(){return arguments}())?ys:function(je){return Dr(je)&&et.call(je,"callee")&&!Ut.call(je,"callee")},dn=Array.isArray;function xa(je){return je!=null&&Yn(je.length)&&!js(je)}var an=Tt||Zn;function pn(je,qe){return ss(je,qe)}function js(je){if(!jr(je))return!1;var qe=Hi(je);return qe==y||qe==p||qe==l||qe==I}function Yn(je){return typeof je=="number"&&je>-1&&je%1==0&&je<=i}function jr(je){var qe=typeof je;return je!=null&&(qe=="object"||qe=="function")}function Dr(je){return je!=null&&typeof je=="object"}var zs=ce?we(ce):Bs;function Ts(je){return xa(je)?tn(je):rn(je)}function Hs(){return[]}function Zn(){return!1}m.exports=pn}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,m,g){(function(f){(function(){var u="[object AsyncFunction]",h="[object Function]",s="[object GeneratorFunction]",t="[object Null]",i="[object Proxy]",r="[object Undefined]",n=typeof f=="object"&&f&&f.Object===Object&&f,l=typeof self=="object"&&self&&self.Object===Object&&self,d=n||l||Function("return this")(),a=Object.prototype,v=a.hasOwnProperty,y=a.toString,p=d.Symbol,E=p?p.toStringTag:void 0;function T(D){return D==null?D===void 0?r:t:E&&E in Object(D)?S(D):A(D)}function S(D){var V=v.call(D,E),ie=D[E];try{D[E]=void 0;var te=!0}catch{}var re=y.call(D);return te&&(V?D[E]=ie:delete D[E]),re}function A(D){return y.call(D)}function w(D){if(!I(D))return!1;var V=T(D);return V==h||V==s||V==u||V==i}function I(D){var V=typeof D;return D!=null&&(V=="object"||V=="function")}m.exports=w}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,m,g){function f(u){return u==null}m.exports=f},{}],448:[function(e,m,g){function f(u){return u===void 0}m.exports=f},{}],449:[function(e,m,g){(function(f){(function(){var u=200,h="__lodash_hash_undefined__",s=1/0,t="[object Function]",i="[object GeneratorFunction]",r=/[\\^$.*+?()[\]{}|]/g,n=/^\[object .+?Constructor\]$/,l=typeof f=="object"&&f&&f.Object===Object&&f,d=typeof self=="object"&&self&&self.Object===Object&&self,a=l||d||Function("return this")();function v(Fe,Qe){var rt=Fe?Fe.length:0;return!!rt&&E(Fe,Qe,0)>-1}function y(Fe,Qe,rt){for(var mt=-1,Ut=Fe?Fe.length:0;++mt<Ut;)if(rt(Qe,Fe[mt]))return!0;return!1}function p(Fe,Qe,rt,mt){for(var Ut=Fe.length,jt=rt+(mt?1:-1);mt?jt--:++jt<Ut;)if(Qe(Fe[jt],jt,Fe))return jt;return-1}function E(Fe,Qe,rt){if(Qe!==Qe)return p(Fe,T,rt);for(var mt=rt-1,Ut=Fe.length;++mt<Ut;)if(Fe[mt]===Qe)return mt;return-1}function T(Fe){return Fe!==Fe}function S(Fe,Qe){return Fe.has(Qe)}function A(Fe,Qe){return Fe==null?void 0:Fe[Qe]}function w(Fe){var Qe=!1;if(Fe!=null&&typeof Fe.toString!="function")try{Qe=!!(Fe+"")}catch{}return Qe}function I(Fe){var Qe=-1,rt=Array(Fe.size);return Fe.forEach(function(mt){rt[++Qe]=mt}),rt}var D=Array.prototype,V=Function.prototype,ie=Object.prototype,te=a["__core-js_shared__"],re=function(){var Fe=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return Fe?"Symbol(src)_1."+Fe:""}(),Z=V.toString,W=ie.hasOwnProperty,j=ie.toString,O=RegExp("^"+Z.call(W).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=D.splice,F=ve(a,"Map"),H=ve(a,"Set"),$=ve(Object,"create");function Y(Fe){var Qe=-1,rt=Fe?Fe.length:0;for(this.clear();++Qe<rt;){var mt=Fe[Qe];this.set(mt[0],mt[1])}}function z(){this.__data__=$?$(null):{}}function B(Fe){return this.has(Fe)&&delete this.__data__[Fe]}function L(Fe){var Qe=this.__data__;if($){var rt=Qe[Fe];return rt===h?void 0:rt}return W.call(Qe,Fe)?Qe[Fe]:void 0}function G(Fe){var Qe=this.__data__;return $?Qe[Fe]!==void 0:W.call(Qe,Fe)}function le(Fe,Qe){var rt=this.__data__;return rt[Fe]=$&&Qe===void 0?h:Qe,this}Y.prototype.clear=z,Y.prototype.delete=B,Y.prototype.get=L,Y.prototype.has=G,Y.prototype.set=le;function ge(Fe){var Qe=-1,rt=Fe?Fe.length:0;for(this.clear();++Qe<rt;){var mt=Fe[Qe];this.set(mt[0],mt[1])}}function Ie(){this.__data__=[]}function Oe(Fe){var Qe=this.__data__,rt=we(Qe,Fe);if(rt<0)return!1;var mt=Qe.length-1;return rt==mt?Qe.pop():C.call(Qe,rt,1),!0}function Ke(Fe){var Qe=this.__data__,rt=we(Qe,Fe);return rt<0?void 0:Qe[rt][1]}function De(Fe){return we(this.__data__,Fe)>-1}function Ee(Fe,Qe){var rt=this.__data__,mt=we(rt,Fe);return mt<0?rt.push([Fe,Qe]):rt[mt][1]=Qe,this}ge.prototype.clear=Ie,ge.prototype.delete=Oe,ge.prototype.get=Ke,ge.prototype.has=De,ge.prototype.set=Ee;function Q(Fe){var Qe=-1,rt=Fe?Fe.length:0;for(this.clear();++Qe<rt;){var mt=Fe[Qe];this.set(mt[0],mt[1])}}function ue(){this.__data__={hash:new Y,map:new(F||ge),string:new Y}}function xe(Fe){return ze(this,Fe).delete(Fe)}function _e(Fe){return ze(this,Fe).get(Fe)}function ce(Fe){return ze(this,Fe).has(Fe)}function de(Fe,Qe){return ze(this,Fe).set(Fe,Qe),this}Q.prototype.clear=ue,Q.prototype.delete=xe,Q.prototype.get=_e,Q.prototype.has=ce,Q.prototype.set=de;function he(Fe){var Qe=-1,rt=Fe?Fe.length:0;for(this.__data__=new Q;++Qe<rt;)this.add(Fe[Qe])}function se(Fe){return this.__data__.set(Fe,h),this}function ne(Fe){return this.__data__.has(Fe)}he.prototype.add=he.prototype.push=se,he.prototype.has=ne;function we(Fe,Qe){for(var rt=Fe.length;rt--;)if(Ge(Fe[rt][0],Qe))return rt;return-1}function Ne(Fe){if(!ut(Fe)||Be(Fe))return!1;var Qe=et(Fe)||w(Fe)?O:n;return Qe.test(We(Fe))}function ae(Fe,Qe,rt){var mt=-1,Ut=v,jt=Fe.length,kt=!0,Nt=[],Tt=Nt;if(rt)kt=!1,Ut=y;else if(jt>=u){var Mt=Qe?null:Pe(Fe);if(Mt)return I(Mt);kt=!1,Ut=S,Tt=new he}else Tt=Qe?[]:Nt;e:for(;++mt<jt;){var Dt=Fe[mt],It=Qe?Qe(Dt):Dt;if(Dt=rt||Dt!==0?Dt:0,kt&&It===It){for(var $t=Tt.length;$t--;)if(Tt[$t]===It)continue e;Qe&&Tt.push(It),Nt.push(Dt)}else Ut(Tt,It,rt)||(Tt!==Nt&&Tt.push(It),Nt.push(Dt))}return Nt}var Pe=H&&1/I(new H([,-0]))[1]==s?function(Fe){return new H(Fe)}:at;function ze(Fe,Qe){var rt=Fe.__data__;return Ae(Qe)?rt[typeof Qe=="string"?"string":"hash"]:rt.map}function ve(Fe,Qe){var rt=A(Fe,Qe);return Ne(rt)?rt:void 0}function Ae(Fe){var Qe=typeof Fe;return Qe=="string"||Qe=="number"||Qe=="symbol"||Qe=="boolean"?Fe!=="__proto__":Fe===null}function Be(Fe){return!!re&&re in Fe}function We(Fe){if(Fe!=null){try{return Z.call(Fe)}catch{}try{return Fe+""}catch{}}return""}function Je(Fe){return Fe&&Fe.length?ae(Fe):[]}function Ge(Fe,Qe){return Fe===Qe||Fe!==Fe&&Qe!==Qe}function et(Fe){var Qe=ut(Fe)?j.call(Fe):"";return Qe==t||Qe==i}function ut(Fe){var Qe=typeof Fe;return!!Fe&&(Qe=="object"||Qe=="function")}function at(){}m.exports=Je}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,m,g){var f=e("inherits"),u=e("hash-base"),h=e("safe-buffer").Buffer,s=new Array(16);function t(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}f(t,u),t.prototype._update=function(){for(var a=s,v=0;v<16;++v)a[v]=this._block.readInt32LE(v*4);var y=this._a,p=this._b,E=this._c,T=this._d;y=r(y,p,E,T,a[0],3614090360,7),T=r(T,y,p,E,a[1],3905402710,12),E=r(E,T,y,p,a[2],606105819,17),p=r(p,E,T,y,a[3],3250441966,22),y=r(y,p,E,T,a[4],4118548399,7),T=r(T,y,p,E,a[5],1200080426,12),E=r(E,T,y,p,a[6],2821735955,17),p=r(p,E,T,y,a[7],4249261313,22),y=r(y,p,E,T,a[8],1770035416,7),T=r(T,y,p,E,a[9],2336552879,12),E=r(E,T,y,p,a[10],4294925233,17),p=r(p,E,T,y,a[11],2304563134,22),y=r(y,p,E,T,a[12],1804603682,7),T=r(T,y,p,E,a[13],4254626195,12),E=r(E,T,y,p,a[14],2792965006,17),p=r(p,E,T,y,a[15],1236535329,22),y=n(y,p,E,T,a[1],4129170786,5),T=n(T,y,p,E,a[6],3225465664,9),E=n(E,T,y,p,a[11],643717713,14),p=n(p,E,T,y,a[0],3921069994,20),y=n(y,p,E,T,a[5],3593408605,5),T=n(T,y,p,E,a[10],38016083,9),E=n(E,T,y,p,a[15],3634488961,14),p=n(p,E,T,y,a[4],3889429448,20),y=n(y,p,E,T,a[9],568446438,5),T=n(T,y,p,E,a[14],3275163606,9),E=n(E,T,y,p,a[3],4107603335,14),p=n(p,E,T,y,a[8],1163531501,20),y=n(y,p,E,T,a[13],2850285829,5),T=n(T,y,p,E,a[2],4243563512,9),E=n(E,T,y,p,a[7],1735328473,14),p=n(p,E,T,y,a[12],2368359562,20),y=l(y,p,E,T,a[5],4294588738,4),T=l(T,y,p,E,a[8],2272392833,11),E=l(E,T,y,p,a[11],1839030562,16),p=l(p,E,T,y,a[14],4259657740,23),y=l(y,p,E,T,a[1],2763975236,4),T=l(T,y,p,E,a[4],1272893353,11),E=l(E,T,y,p,a[7],4139469664,16),p=l(p,E,T,y,a[10],3200236656,23),y=l(y,p,E,T,a[13],681279174,4),T=l(T,y,p,E,a[0],3936430074,11),E=l(E,T,y,p,a[3],3572445317,16),p=l(p,E,T,y,a[6],76029189,23),y=l(y,p,E,T,a[9],3654602809,4),T=l(T,y,p,E,a[12],3873151461,11),E=l(E,T,y,p,a[15],530742520,16),p=l(p,E,T,y,a[2],3299628645,23),y=d(y,p,E,T,a[0],4096336452,6),T=d(T,y,p,E,a[7],1126891415,10),E=d(E,T,y,p,a[14],2878612391,15),p=d(p,E,T,y,a[5],4237533241,21),y=d(y,p,E,T,a[12],1700485571,6),T=d(T,y,p,E,a[3],2399980690,10),E=d(E,T,y,p,a[10],4293915773,15),p=d(p,E,T,y,a[1],2240044497,21),y=d(y,p,E,T,a[8],1873313359,6),T=d(T,y,p,E,a[15],4264355552,10),E=d(E,T,y,p,a[6],2734768916,15),p=d(p,E,T,y,a[13],1309151649,21),y=d(y,p,E,T,a[4],4149444226,6),T=d(T,y,p,E,a[11],3174756917,10),E=d(E,T,y,p,a[2],718787259,15),p=d(p,E,T,y,a[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+p|0,this._c=this._c+E|0,this._d=this._d+T|0},t.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var a=h.allocUnsafe(16);return a.writeInt32LE(this._a,0),a.writeInt32LE(this._b,4),a.writeInt32LE(this._c,8),a.writeInt32LE(this._d,12),a};function i(a,v){return a<<v|a>>>32-v}function r(a,v,y,p,E,T,S){return i(a+(v&y|~v&p)+E+T|0,S)+v|0}function n(a,v,y,p,E,T,S){return i(a+(v&p|y&~p)+E+T|0,S)+v|0}function l(a,v,y,p,E,T,S){return i(a+(v^y^p)+E+T|0,S)+v|0}function d(a,v,y,p,E,T,S){return i(a+(y^(v|~p))+E+T|0,S)+v|0}m.exports=t},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,m,g){var f=e("bn.js"),u=e("brorand");function h(s){this.rand=s||new u.Rand}m.exports=h,h.create=function(t){return new h(t)},h.prototype._randbelow=function(t){var i=t.bitLength(),r=Math.ceil(i/8);do var n=new f(this.rand.generate(r));while(n.cmp(t)>=0);return n},h.prototype._randrange=function(t,i){var r=i.sub(t);return t.add(this._randbelow(r))},h.prototype.test=function(t,i,r){var n=t.bitLength(),l=f.mont(t),d=new f(1).toRed(l);i||(i=Math.max(1,n/48|0));for(var a=t.subn(1),v=0;!a.testn(v);v++);for(var y=t.shrn(v),p=a.toRed(l),E=!0;i>0;i--){var T=this._randrange(new f(2),a);r&&r(T);var S=T.toRed(l).redPow(y);if(!(S.cmp(d)===0||S.cmp(p)===0)){for(var A=1;A<v;A++){if(S=S.redSqr(),S.cmp(d)===0)return!1;if(S.cmp(p)===0)break}if(A===v)return!1}}return E},h.prototype.getDivisor=function(t,i){var r=t.bitLength(),n=f.mont(t),l=new f(1).toRed(n);i||(i=Math.max(1,r/48|0));for(var d=t.subn(1),a=0;!d.testn(a);a++);for(var v=t.shrn(a),y=d.toRed(n);i>0;i--){var p=this._randrange(new f(2),d),E=t.gcd(p);if(E.cmpn(1)!==0)return E;var T=p.toRed(n).redPow(v);if(!(T.cmp(l)===0||T.cmp(y)===0)){for(var S=1;S<a;S++){if(T=T.redSqr(),T.cmp(l)===0)return T.fromRed().subn(1).gcd(t);if(T.cmp(y)===0)break}if(S===a)return T=T.redSqr(),T.fromRed().subn(1).gcd(t)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,m,g){arguments[4][184][0].apply(g,arguments)},{buffer:188,dup:184}],453:[function(e,m,g){m.exports=f;function f(u,h){if(!u)throw new Error(h||"Assertion failed")}f.equal=function(h,s,t){if(h!=s)throw new Error(t||"Assertion failed: "+h+" != "+s)}},{}],454:[function(e,m,g){var f=g;function u(t,i){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(i==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var l=t.charCodeAt(n),d=l>>8,a=l&255;d?r.push(d,a):r.push(a)}return r}f.toArray=u;function h(t){return t.length===1?"0"+t:t}f.zero2=h;function s(t){for(var i="",r=0;r<t.length;r++)i+=h(t[r].toString(16));return i}f.toHex=s,f.encode=function(i,r){return r==="hex"?s(i):i}},{}],455:[function(e,m,g){m.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,m,g){var f=e("asn1.js");g.certificate=e("./certificate");var u=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});g.RSAPrivateKey=u;var h=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});g.RSAPublicKey=h;var s=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(t),this.key("subjectPublicKey").bitstr())});g.PublicKey=s;var t=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),i=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("subjectPrivateKey").octstr())});g.PrivateKey=i;var r=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});g.EncryptedPrivateKey=r;var n=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});g.DSAPrivateKey=n,g.DSAparam=f.define("DSAparam",function(){this.int()});var l=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});g.ECPrivateKey=l;var d=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});g.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,m,g){var f=e("asn1.js"),u=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),h=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),t=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),i=f.define("RelativeDistinguishedName",function(){this.setof(h)}),r=f.define("RDNSequence",function(){this.seqof(i)}),n=f.define("Name",function(){this.choice({rdnSequence:this.use(r)})}),l=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(u),this.key("notAfter").use(u))}),d=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),a=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(n),this.key("validity").use(l),this.key("subject").use(n),this.key("subjectPublicKeyInfo").use(t),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),v=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(a),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});m.exports=v},{"asn1.js":170}],458:[function(e,m,g){var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,h=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=e("evp_bytestokey"),t=e("browserify-aes"),i=e("safe-buffer").Buffer;m.exports=function(r,n){var l=r.toString(),d=l.match(f),a;if(d){var y="aes"+d[1],p=i.from(d[2],"hex"),E=i.from(d[3].replace(/[\r\n]/g,""),"base64"),T=s(n,p.slice(0,8),parseInt(d[1],10)).key,S=[],A=t.createDecipheriv(y,T,p);S.push(A.update(E)),S.push(A.final()),a=i.concat(S)}else{var v=l.match(h);a=i.from(v[2].replace(/[\r\n]/g,""),"base64")}var w=l.match(u)[1];return{tag:w,data:a}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,m,g){var f=e("./asn1"),u=e("./aesid.json"),h=e("./fixProc"),s=e("browserify-aes"),t=e("pbkdf2"),i=e("safe-buffer").Buffer;m.exports=r;function r(l){var d;typeof l=="object"&&!i.isBuffer(l)&&(d=l.passphrase,l=l.key),typeof l=="string"&&(l=i.from(l));var a=h(l,d),v=a.tag,y=a.data,p,E;switch(v){case"CERTIFICATE":E=f.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(E||(E=f.PublicKey.decode(y,"der")),p=E.algorithm.algorithm.join("."),p){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(E.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return E.subjectPrivateKey=E.subjectPublicKey,{type:"ec",data:E};case"1.2.840.10040.4.1":return E.algorithm.params.pub_key=f.DSAparam.decode(E.subjectPublicKey.data,"der"),{type:"dsa",data:E.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":y=f.EncryptedPrivateKey.decode(y,"der"),y=n(y,d);case"PRIVATE KEY":switch(E=f.PrivateKey.decode(y,"der"),p=E.algorithm.algorithm.join("."),p){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(E.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:E.algorithm.curve,privateKey:f.ECPrivateKey.decode(E.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return E.algorithm.params.priv_key=f.DSAparam.decode(E.subjectPrivateKey,"der"),{type:"dsa",params:E.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return y=f.ECPrivateKey.decode(y,"der"),{curve:y.parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}r.signature=f.signature;function n(l,d){var a=l.algorithm.decrypt.kde.kdeparams.salt,v=parseInt(l.algorithm.decrypt.kde.kdeparams.iters.toString(),10),y=u[l.algorithm.decrypt.cipher.algo.join(".")],p=l.algorithm.decrypt.cipher.iv,E=l.subjectPrivateKey,T=parseInt(y.split("-")[1],10)/8,S=t.pbkdf2Sync(d,a,v,T,"sha1"),A=s.createDecipheriv(y,S,p),w=[];return w.push(A.update(E)),w.push(A.final()),i.concat(w)}},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,m,g){g.pbkdf2=e("./lib/async"),g.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,m,g){(function(f){(function(){var u=e("safe-buffer").Buffer,h=e("./precondition"),s=e("./default-encoding"),t=e("./sync"),i=e("./to-buffer"),r,n=f.crypto&&f.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function a(T){if(f.process&&!f.process.browser||!n||!n.importKey||!n.deriveBits)return Promise.resolve(!1);if(d[T]!==void 0)return d[T];r=r||u.alloc(8);var S=p(r,r,10,128,T).then(function(){return!0}).catch(function(){return!1});return d[T]=S,S}var v;function y(){return v||(f.process&&f.process.nextTick?v=f.process.nextTick:f.queueMicrotask?v=f.queueMicrotask:f.setImmediate?v=f.setImmediate:v=f.setTimeout,v)}function p(T,S,A,w,I){return n.importKey("raw",T,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return n.deriveBits({name:"PBKDF2",salt:S,iterations:A,hash:{name:I}},D,w<<3)}).then(function(D){return u.from(D)})}function E(T,S){T.then(function(A){y()(function(){S(null,A)})},function(A){y()(function(){S(A)})})}m.exports=function(T,S,A,w,I,D){typeof I=="function"&&(D=I,I=void 0),I=I||"sha1";var V=l[I.toLowerCase()];if(!V||typeof f.Promise!="function"){y()(function(){var ie;try{ie=t(T,S,A,w,I)}catch(te){return D(te)}D(null,ie)});return}if(h(A,w),T=i(T,s,"Password"),S=i(S,s,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");E(a(V).then(function(ie){return ie?p(T,S,A,w,V):t(T,S,A,w,I)}),D)}}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,m,g){(function(f,u){(function(){var h;if(u.process&&u.process.browser)h="utf-8";else if(u.process&&u.process.version){var s=parseInt(f.version.split(".")[0].slice(1),10);h=s>=6?"utf-8":"binary"}else h="utf-8";m.exports=h}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,m,g){var f=Math.pow(2,30)-1;m.exports=function(u,h){if(typeof u!="number")throw new TypeError("Iterations not a number");if(u<0)throw new TypeError("Bad iterations");if(typeof h!="number")throw new TypeError("Key length not a number");if(h<0||h>f||h!==h)throw new TypeError("Bad key length")}},{}],464:[function(e,m,g){var f=e("create-hash/md5"),u=e("ripemd160"),h=e("sha.js"),s=e("safe-buffer").Buffer,t=e("./precondition"),i=e("./default-encoding"),r=e("./to-buffer"),n=s.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(y,p,E){var T=a(y),S=y==="sha512"||y==="sha384"?128:64;p.length>S?p=T(p):p.length<S&&(p=s.concat([p,n],S));for(var A=s.allocUnsafe(S+l[y]),w=s.allocUnsafe(S+l[y]),I=0;I<S;I++)A[I]=p[I]^54,w[I]=p[I]^92;var D=s.allocUnsafe(S+E+4);A.copy(D,0,0,S),this.ipad1=D,this.ipad2=A,this.opad=w,this.alg=y,this.blocksize=S,this.hash=T,this.size=l[y]}d.prototype.run=function(y,p){y.copy(p,this.blocksize);var E=this.hash(p);return E.copy(this.opad,this.blocksize),this.hash(this.opad)};function a(y){function p(T){return h(y).update(T).digest()}function E(T){return new u().update(T).digest()}return y==="rmd160"||y==="ripemd160"?E:y==="md5"?f:p}function v(y,p,E,T,S){t(E,T),y=r(y,i,"Password"),p=r(p,i,"Salt"),S=S||"sha1";var A=new d(S,y,p.length),w=s.allocUnsafe(T),I=s.allocUnsafe(p.length+4);p.copy(I,0,0,p.length);for(var D=0,V=l[S],ie=Math.ceil(T/V),te=1;te<=ie;te++){I.writeUInt32BE(te,p.length);for(var re=A.run(I,A.ipad1),Z=re,W=1;W<E;W++){Z=A.run(Z,A.ipad2);for(var j=0;j<V;j++)re[j]^=Z[j]}re.copy(w,D),D+=V}return w}m.exports=v},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,m,g){var f=e("safe-buffer").Buffer;m.exports=function(u,h,s){if(f.isBuffer(u))return u;if(typeof u=="string")return f.from(u,h);if(ArrayBuffer.isView(u))return f.from(u.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,m,g){(function(f){(function(){typeof f>"u"||!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?m.exports={nextTick:u}:m.exports=f;function u(h,s,t,i){if(typeof h!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,n,l;switch(r){case 0:case 1:return f.nextTick(h);case 2:return f.nextTick(function(){h.call(null,s)});case 3:return f.nextTick(function(){h.call(null,s,t)});case 4:return f.nextTick(function(){h.call(null,s,t,i)});default:for(n=new Array(r-1),l=0;l<n.length;)n[l++]=arguments[l];return f.nextTick(function(){h.apply(null,n)})}}}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,m,g){var f=m.exports={},u,h;function s(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=s}catch{u=s}try{typeof clearTimeout=="function"?h=clearTimeout:h=t}catch{h=t}})();function i(T){if(u===setTimeout)return setTimeout(T,0);if((u===s||!u)&&setTimeout)return u=setTimeout,setTimeout(T,0);try{return u(T,0)}catch{try{return u.call(null,T,0)}catch{return u.call(this,T,0)}}}function r(T){if(h===clearTimeout)return clearTimeout(T);if((h===t||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(T);try{return h(T)}catch{try{return h.call(null,T)}catch{return h.call(this,T)}}}var n=[],l=!1,d,a=-1;function v(){!l||!d||(l=!1,d.length?n=d.concat(n):a=-1,n.length&&y())}function y(){if(!l){var T=i(v);l=!0;for(var S=n.length;S;){for(d=n,n=[];++a<S;)d&&d[a].run();a=-1,S=n.length}d=null,l=!1,r(T)}}f.nextTick=function(T){var S=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)S[A-1]=arguments[A];n.push(new p(T,S)),n.length===1&&!l&&i(y)};function p(T,S){this.fun=T,this.array=S}p.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={};function E(){}f.on=E,f.addListener=E,f.once=E,f.off=E,f.removeListener=E,f.removeAllListeners=E,f.emit=E,f.prependListener=E,f.prependOnceListener=E,f.listeners=function(T){return[]},f.binding=function(T){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(T){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],468:[function(e,m,g){g.publicEncrypt=e("./publicEncrypt"),g.privateDecrypt=e("./privateDecrypt"),g.privateEncrypt=function(u,h){return g.publicEncrypt(u,h,!0)},g.publicDecrypt=function(u,h){return g.privateDecrypt(u,h,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,m,g){var f=e("create-hash"),u=e("safe-buffer").Buffer;m.exports=function(s,t){for(var i=u.alloc(0),r=0,n;i.length<t;)n=h(r++),i=u.concat([i,f("sha1").update(s).update(n).digest()]);return i.slice(0,t)};function h(s){var t=u.allocUnsafe(4);return t.writeUInt32BE(s,0),t}},{"create-hash":386,"safe-buffer":494}],470:[function(e,m,g){arguments[4][184][0].apply(g,arguments)},{buffer:188,dup:184}],471:[function(e,m,g){var f=e("parse-asn1"),u=e("./mgf"),h=e("./xor"),s=e("bn.js"),t=e("browserify-rsa"),i=e("create-hash"),r=e("./withPublic"),n=e("safe-buffer").Buffer;m.exports=function(y,p,E){var T;y.padding?T=y.padding:E?T=1:T=4;var S=f(y),A=S.modulus.byteLength();if(p.length>A||new s(p).cmp(S.modulus)>=0)throw new Error("decryption error");var w;E?w=r(new s(p),S):w=t(p,S);var I=n.alloc(A-w.length);if(w=n.concat([I,w],A),T===4)return l(S,w);if(T===1)return d(S,w,E);if(T===3)return w;throw new Error("unknown padding")};function l(v,y){var p=v.modulus.byteLength(),E=i("sha1").update(n.alloc(0)).digest(),T=E.length;if(y[0]!==0)throw new Error("decryption error");var S=y.slice(1,T+1),A=y.slice(T+1),w=h(S,u(A,T)),I=h(A,u(w,p-T-1));if(a(E,I.slice(0,T)))throw new Error("decryption error");for(var D=T;I[D]===0;)D++;if(I[D++]!==1)throw new Error("decryption error");return I.slice(D)}function d(v,y,p){for(var E=y.slice(0,2),T=2,S=0;y[T++]!==0;)if(T>=y.length){S++;break}var A=y.slice(2,T-1);if((E.toString("hex")!=="0002"&&!p||E.toString("hex")!=="0001"&&p)&&S++,A.length<8&&S++,S)throw new Error("decryption error");return y.slice(T)}function a(v,y){v=n.from(v),y=n.from(y);var p=0,E=v.length;v.length!==y.length&&(p++,E=Math.min(v.length,y.length));for(var T=-1;++T<E;)p+=v[T]^y[T];return p}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,m,g){var f=e("parse-asn1"),u=e("randombytes"),h=e("create-hash"),s=e("./mgf"),t=e("./xor"),i=e("bn.js"),r=e("./withPublic"),n=e("browserify-rsa"),l=e("safe-buffer").Buffer;m.exports=function(p,E,T){var S;p.padding?S=p.padding:T?S=1:S=4;var A=f(p),w;if(S===4)w=d(A,E);else if(S===1)w=a(A,E,T);else if(S===3){if(w=new i(E),w.cmp(A.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return T?n(w,A):r(w,A)};function d(y,p){var E=y.modulus.byteLength(),T=p.length,S=h("sha1").update(l.alloc(0)).digest(),A=S.length,w=2*A;if(T>E-w-2)throw new Error("message too long");var I=l.alloc(E-T-w-2),D=E-A-1,V=u(A),ie=t(l.concat([S,I,l.alloc(1,1),p],D),s(V,D)),te=t(V,s(ie,A));return new i(l.concat([l.alloc(1),te,ie],E))}function a(y,p,E){var T=p.length,S=y.modulus.byteLength();if(T>S-11)throw new Error("message too long");var A;return E?A=l.alloc(S-T-3,255):A=v(S-T-3),new i(l.concat([l.from([0,E?1:2]),A,l.alloc(1),p],S))}function v(y){for(var p=l.allocUnsafe(y),E=0,T=u(y*2),S=0,A;E<y;)S===T.length&&(T=u(y*2),S=0),A=T[S++],A&&(p[E++]=A);return p}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,m,g){var f=e("bn.js"),u=e("safe-buffer").Buffer;function h(s,t){return u.from(s.toRed(f.mont(t.modulus)).redPow(new f(t.publicExponent)).fromRed().toArray())}m.exports=h},{"bn.js":470,"safe-buffer":494}],474:[function(e,m,g){m.exports=function(u,h){for(var s=u.length,t=-1;++t<s;)u[t]^=h[t];return u}},{}],475:[function(e,m,g){(function(f,u){(function(){var h=65536,s=4294967295;function t(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var i=e("safe-buffer").Buffer,r=u.crypto||u.msCrypto;r&&r.getRandomValues?m.exports=n:m.exports=t;function n(l,d){if(l>s)throw new RangeError("requested too many random bytes");var a=i.allocUnsafe(l);if(l>0)if(l>h)for(var v=0;v<l;v+=h)r.getRandomValues(a.slice(v,v+h));else r.getRandomValues(a);return typeof d=="function"?f.nextTick(function(){d(null,a)}):a}}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,m,g){(function(f,u){(function(){function h(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=e("safe-buffer"),t=e("randombytes"),i=s.Buffer,r=s.kMaxLength,n=u.crypto||u.msCrypto,l=Math.pow(2,32)-1;function d(E,T){if(typeof E!="number"||E!==E)throw new TypeError("offset must be a number");if(E>l||E<0)throw new TypeError("offset must be a uint32");if(E>r||E>T)throw new RangeError("offset out of range")}function a(E,T,S){if(typeof E!="number"||E!==E)throw new TypeError("size must be a number");if(E>l||E<0)throw new TypeError("size must be a uint32");if(E+T>S||E>r)throw new RangeError("buffer too small")}n&&n.getRandomValues||!f.browser?(g.randomFill=v,g.randomFillSync=p):(g.randomFill=h,g.randomFillSync=h);function v(E,T,S,A){if(!i.isBuffer(E)&&!(E instanceof u.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof T=="function")A=T,T=0,S=E.length;else if(typeof S=="function")A=S,S=E.length-T;else if(typeof A!="function")throw new TypeError('"cb" argument must be a function');return d(T,E.length),a(S,T,E.length),y(E,T,S,A)}function y(E,T,S,A){if(f.browser){var w=E.buffer,I=new Uint8Array(w,T,S);if(n.getRandomValues(I),A){f.nextTick(function(){A(null,E)});return}return E}if(A){t(S,function(V,ie){if(V)return A(V);ie.copy(E,T),A(null,E)});return}var D=t(S);return D.copy(E,T),E}function p(E,T,S){if(typeof T>"u"&&(T=0),!i.isBuffer(E)&&!(E instanceof u.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(T,E.length),S===void 0&&(S=E.length-T),a(S,T,E.length),y(E,T,S)}}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,m,g){function f(n,l){n.prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l}var u={};function h(n,l,d){d||(d=Error);function a(y,p,E){return typeof l=="string"?l:l(y,p,E)}var v=function(y){f(p,y);function p(E,T,S){return y.call(this,a(E,T,S))||this}return p}(d);v.prototype.name=d.name,v.prototype.code=n,u[n]=v}function s(n,l){if(Array.isArray(n)){var d=n.length;return n=n.map(function(a){return String(a)}),d>2?"one of ".concat(l," ").concat(n.slice(0,d-1).join(", "),", or ")+n[d-1]:d===2?"one of ".concat(l," ").concat(n[0]," or ").concat(n[1]):"of ".concat(l," ").concat(n[0])}else return"of ".concat(l," ").concat(String(n))}function t(n,l,d){return n.substr(!d||d<0?0:+d,l.length)===l}function i(n,l,d){return(d===void 0||d>n.length)&&(d=n.length),n.substring(d-l.length,d)===l}function r(n,l,d){return typeof d!="number"&&(d=0),d+l.length>n.length?!1:n.indexOf(l,d)!==-1}h("ERR_INVALID_OPT_VALUE",function(n,l){return'The value "'+l+'" is invalid for option "'+n+'"'},TypeError),h("ERR_INVALID_ARG_TYPE",function(n,l,d){var a;typeof l=="string"&&t(l,"not ")?(a="must not be",l=l.replace(/^not /,"")):a="must be";var v;if(i(n," argument"))v="The ".concat(n," ").concat(a," ").concat(s(l,"type"));else{var y=r(n,".")?"property":"argument";v='The "'.concat(n,'" ').concat(y," ").concat(a," ").concat(s(l,"type"))}return v+=". Received type ".concat(typeof d),v},TypeError),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),h("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),h("ERR_STREAM_PREMATURE_CLOSE","Premature close"),h("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),h("ERR_STREAM_WRITE_AFTER_END","write after end"),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=u},{}],478:[function(e,m,g){(function(f){(function(){var u=Object.keys||function(a){var v=[];for(var y in a)v.push(y);return v};m.exports=n;var h=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(n,h);for(var t=u(s.prototype),i=0;i<t.length;i++){var r=t[i];n.prototype[r]||(n.prototype[r]=s.prototype[r])}function n(a){if(!(this instanceof n))return new n(a);h.call(this,a),s.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||f.nextTick(d,this)}function d(a){a.end()}Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,m,g){m.exports=u;var f=e("./_stream_transform");e("inherits")(u,f);function u(h){if(!(this instanceof u))return new u(h);f.call(this,h)}u.prototype._transform=function(h,s,t){t(null,h)}},{"./_stream_transform":481,inherits:440}],480:[function(e,m,g){(function(f,u){(function(){m.exports=j;var h;j.ReadableState=W,e("events").EventEmitter;var s=function(de,he){return de.listeners(he).length},t=e("./internal/streams/stream"),i=e("buffer").Buffer,r=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function n(ce){return i.from(ce)}function l(ce){return i.isBuffer(ce)||ce instanceof r}var d=e("util"),a;d&&d.debuglog?a=d.debuglog("stream"):a=function(){};var v=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),p=e("./internal/streams/state"),E=p.getHighWaterMark,T=e("../errors").codes,S=T.ERR_INVALID_ARG_TYPE,A=T.ERR_STREAM_PUSH_AFTER_EOF,w=T.ERR_METHOD_NOT_IMPLEMENTED,I=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,V,ie;e("inherits")(j,t);var te=y.errorOrDestroy,re=["error","close","destroy","pause","resume"];function Z(ce,de,he){if(typeof ce.prependListener=="function")return ce.prependListener(de,he);!ce._events||!ce._events[de]?ce.on(de,he):Array.isArray(ce._events[de])?ce._events[de].unshift(he):ce._events[de]=[he,ce._events[de]]}function W(ce,de,he){h=h||e("./_stream_duplex"),ce=ce||{},typeof he!="boolean"&&(he=de instanceof h),this.objectMode=!!ce.objectMode,he&&(this.objectMode=this.objectMode||!!ce.readableObjectMode),this.highWaterMark=E(this,ce,"readableHighWaterMark",he),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.destroyed=!1,this.defaultEncoding=ce.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ce.encoding&&(D||(D=e("string_decoder/").StringDecoder),this.decoder=new D(ce.encoding),this.encoding=ce.encoding)}function j(ce){if(h=h||e("./_stream_duplex"),!(this instanceof j))return new j(ce);var de=this instanceof h;this._readableState=new W(ce,this,de),this.readable=!0,ce&&(typeof ce.read=="function"&&(this._read=ce.read),typeof ce.destroy=="function"&&(this._destroy=ce.destroy)),t.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(de){this._readableState&&(this._readableState.destroyed=de)}}),j.prototype.destroy=y.destroy,j.prototype._undestroy=y.undestroy,j.prototype._destroy=function(ce,de){de(ce)},j.prototype.push=function(ce,de){var he=this._readableState,se;return he.objectMode?se=!0:typeof ce=="string"&&(de=de||he.defaultEncoding,de!==he.encoding&&(ce=i.from(ce,de),de=""),se=!0),O(this,ce,de,!1,se)},j.prototype.unshift=function(ce){return O(this,ce,null,!0,!1)};function O(ce,de,he,se,ne){a("readableAddChunk",de);var we=ce._readableState;if(de===null)we.reading=!1,z(ce,we);else{var Ne;if(ne||(Ne=F(we,de)),Ne)te(ce,Ne);else if(we.objectMode||de&&de.length>0)if(typeof de!="string"&&!we.objectMode&&Object.getPrototypeOf(de)!==i.prototype&&(de=n(de)),se)we.endEmitted?te(ce,new I):C(ce,we,de,!0);else if(we.ended)te(ce,new A);else{if(we.destroyed)return!1;we.reading=!1,we.decoder&&!he?(de=we.decoder.write(de),we.objectMode||de.length!==0?C(ce,we,de,!1):G(ce,we)):C(ce,we,de,!1)}else se||(we.reading=!1,G(ce,we))}return!we.ended&&(we.length<we.highWaterMark||we.length===0)}function C(ce,de,he,se){de.flowing&&de.length===0&&!de.sync?(de.awaitDrain=0,ce.emit("data",he)):(de.length+=de.objectMode?1:he.length,se?de.buffer.unshift(he):de.buffer.push(he),de.needReadable&&B(ce)),G(ce,de)}function F(ce,de){var he;return!l(de)&&typeof de!="string"&&de!==void 0&&!ce.objectMode&&(he=new S("chunk",["string","Buffer","Uint8Array"],de)),he}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(ce){D||(D=e("string_decoder/").StringDecoder);var de=new D(ce);this._readableState.decoder=de,this._readableState.encoding=this._readableState.decoder.encoding;for(var he=this._readableState.buffer.head,se="";he!==null;)se+=de.write(he.data),he=he.next;return this._readableState.buffer.clear(),se!==""&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};var H=1073741824;function $(ce){return ce>=H?ce=H:(ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++),ce}function Y(ce,de){return ce<=0||de.length===0&&de.ended?0:de.objectMode?1:ce!==ce?de.flowing&&de.length?de.buffer.head.data.length:de.length:(ce>de.highWaterMark&&(de.highWaterMark=$(ce)),ce<=de.length?ce:de.ended?de.length:(de.needReadable=!0,0))}j.prototype.read=function(ce){a("read",ce),ce=parseInt(ce,10);var de=this._readableState,he=ce;if(ce!==0&&(de.emittedReadable=!1),ce===0&&de.needReadable&&((de.highWaterMark!==0?de.length>=de.highWaterMark:de.length>0)||de.ended))return a("read: emitReadable",de.length,de.ended),de.length===0&&de.ended?ue(this):B(this),null;if(ce=Y(ce,de),ce===0&&de.ended)return de.length===0&&ue(this),null;var se=de.needReadable;a("need readable",se),(de.length===0||de.length-ce<de.highWaterMark)&&(se=!0,a("length less than watermark",se)),de.ended||de.reading?(se=!1,a("reading or ended",se)):se&&(a("do read"),de.reading=!0,de.sync=!0,de.length===0&&(de.needReadable=!0),this._read(de.highWaterMark),de.sync=!1,de.reading||(ce=Y(he,de)));var ne;return ce>0?ne=Q(ce,de):ne=null,ne===null?(de.needReadable=de.length<=de.highWaterMark,ce=0):(de.length-=ce,de.awaitDrain=0),de.length===0&&(de.ended||(de.needReadable=!0),he!==ce&&de.ended&&ue(this)),ne!==null&&this.emit("data",ne),ne};function z(ce,de){if(a("onEofChunk"),!de.ended){if(de.decoder){var he=de.decoder.end();he&&he.length&&(de.buffer.push(he),de.length+=de.objectMode?1:he.length)}de.ended=!0,de.sync?B(ce):(de.needReadable=!1,de.emittedReadable||(de.emittedReadable=!0,L(ce)))}}function B(ce){var de=ce._readableState;a("emitReadable",de.needReadable,de.emittedReadable),de.needReadable=!1,de.emittedReadable||(a("emitReadable",de.flowing),de.emittedReadable=!0,f.nextTick(L,ce))}function L(ce){var de=ce._readableState;a("emitReadable_",de.destroyed,de.length,de.ended),!de.destroyed&&(de.length||de.ended)&&(ce.emit("readable"),de.emittedReadable=!1),de.needReadable=!de.flowing&&!de.ended&&de.length<=de.highWaterMark,Ee(ce)}function G(ce,de){de.readingMore||(de.readingMore=!0,f.nextTick(le,ce,de))}function le(ce,de){for(;!de.reading&&!de.ended&&(de.length<de.highWaterMark||de.flowing&&de.length===0);){var he=de.length;if(a("maybeReadMore read 0"),ce.read(0),he===de.length)break}de.readingMore=!1}j.prototype._read=function(ce){te(this,new w("_read()"))},j.prototype.pipe=function(ce,de){var he=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=ce;break;case 1:se.pipes=[se.pipes,ce];break;default:se.pipes.push(ce);break}se.pipesCount+=1,a("pipe count=%d opts=%j",se.pipesCount,de);var ne=(!de||de.end!==!1)&&ce!==f.stdout&&ce!==f.stderr,we=ne?ae:Ge;se.endEmitted?f.nextTick(we):he.once("end",we),ce.on("unpipe",Ne);function Ne(et,ut){a("onunpipe"),et===he&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,ve())}function ae(){a("onend"),ce.end()}var Pe=ge(he);ce.on("drain",Pe);var ze=!1;function ve(){a("cleanup"),ce.removeListener("close",We),ce.removeListener("finish",Je),ce.removeListener("drain",Pe),ce.removeListener("error",Be),ce.removeListener("unpipe",Ne),he.removeListener("end",ae),he.removeListener("end",Ge),he.removeListener("data",Ae),ze=!0,se.awaitDrain&&(!ce._writableState||ce._writableState.needDrain)&&Pe()}he.on("data",Ae);function Ae(et){a("ondata");var ut=ce.write(et);a("dest.write",ut),ut===!1&&((se.pipesCount===1&&se.pipes===ce||se.pipesCount>1&&_e(se.pipes,ce)!==-1)&&!ze&&(a("false write response, pause",se.awaitDrain),se.awaitDrain++),he.pause())}function Be(et){a("onerror",et),Ge(),ce.removeListener("error",Be),s(ce,"error")===0&&te(ce,et)}Z(ce,"error",Be);function We(){ce.removeListener("finish",Je),Ge()}ce.once("close",We);function Je(){a("onfinish"),ce.removeListener("close",We),Ge()}ce.once("finish",Je);function Ge(){a("unpipe"),he.unpipe(ce)}return ce.emit("pipe",he),se.flowing||(a("pipe resume"),he.resume()),ce};function ge(ce){return function(){var he=ce._readableState;a("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&s(ce,"data")&&(he.flowing=!0,Ee(ce))}}j.prototype.unpipe=function(ce){var de=this._readableState,he={hasUnpiped:!1};if(de.pipesCount===0)return this;if(de.pipesCount===1)return ce&&ce!==de.pipes?this:(ce||(ce=de.pipes),de.pipes=null,de.pipesCount=0,de.flowing=!1,ce&&ce.emit("unpipe",this,he),this);if(!ce){var se=de.pipes,ne=de.pipesCount;de.pipes=null,de.pipesCount=0,de.flowing=!1;for(var we=0;we<ne;we++)se[we].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=_e(de.pipes,ce);return Ne===-1?this:(de.pipes.splice(Ne,1),de.pipesCount-=1,de.pipesCount===1&&(de.pipes=de.pipes[0]),ce.emit("unpipe",this,he),this)},j.prototype.on=function(ce,de){var he=t.prototype.on.call(this,ce,de),se=this._readableState;return ce==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):ce==="readable"&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,a("on readable",se.length,se.reading),se.length?B(this):se.reading||f.nextTick(Oe,this)),he},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(ce,de){var he=t.prototype.removeListener.call(this,ce,de);return ce==="readable"&&f.nextTick(Ie,this),he},j.prototype.removeAllListeners=function(ce){var de=t.prototype.removeAllListeners.apply(this,arguments);return(ce==="readable"||ce===void 0)&&f.nextTick(Ie,this),de};function Ie(ce){var de=ce._readableState;de.readableListening=ce.listenerCount("readable")>0,de.resumeScheduled&&!de.paused?de.flowing=!0:ce.listenerCount("data")>0&&ce.resume()}function Oe(ce){a("readable nexttick read 0"),ce.read(0)}j.prototype.resume=function(){var ce=this._readableState;return ce.flowing||(a("resume"),ce.flowing=!ce.readableListening,Ke(this,ce)),ce.paused=!1,this};function Ke(ce,de){de.resumeScheduled||(de.resumeScheduled=!0,f.nextTick(De,ce,de))}function De(ce,de){a("resume",de.reading),de.reading||ce.read(0),de.resumeScheduled=!1,ce.emit("resume"),Ee(ce),de.flowing&&!de.reading&&ce.read(0)}j.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ee(ce){var de=ce._readableState;for(a("flow",de.flowing);de.flowing&&ce.read()!==null;);}j.prototype.wrap=function(ce){var de=this,he=this._readableState,se=!1;ce.on("end",function(){if(a("wrapped end"),he.decoder&&!he.ended){var Ne=he.decoder.end();Ne&&Ne.length&&de.push(Ne)}de.push(null)}),ce.on("data",function(Ne){if(a("wrapped data"),he.decoder&&(Ne=he.decoder.write(Ne)),!(he.objectMode&&Ne==null)&&!(!he.objectMode&&(!Ne||!Ne.length))){var ae=de.push(Ne);ae||(se=!0,ce.pause())}});for(var ne in ce)this[ne]===void 0&&typeof ce[ne]=="function"&&(this[ne]=function(ae){return function(){return ce[ae].apply(ce,arguments)}}(ne));for(var we=0;we<re.length;we++)ce.on(re[we],this.emit.bind(this,re[we]));return this._read=function(Ne){a("wrapped _read",Ne),se&&(se=!1,ce.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return V===void 0&&(V=e("./internal/streams/async_iterator")),V(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(de){this._readableState&&(this._readableState.flowing=de)}}),j._fromList=Q,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Q(ce,de){if(de.length===0)return null;var he;return de.objectMode?he=de.buffer.shift():!ce||ce>=de.length?(de.decoder?he=de.buffer.join(""):de.buffer.length===1?he=de.buffer.first():he=de.buffer.concat(de.length),de.buffer.clear()):he=de.buffer.consume(ce,de.decoder),he}function ue(ce){var de=ce._readableState;a("endReadable",de.endEmitted),de.endEmitted||(de.ended=!0,f.nextTick(xe,de,ce))}function xe(ce,de){if(a("endReadableNT",ce.endEmitted,ce.length),!ce.endEmitted&&ce.length===0&&(ce.endEmitted=!0,de.readable=!1,de.emit("end"),ce.autoDestroy)){var he=de._writableState;(!he||he.autoDestroy&&he.finished)&&de.destroy()}}typeof Symbol=="function"&&(j.from=function(ce,de){return ie===void 0&&(ie=e("./internal/streams/from")),ie(j,ce,de)});function _e(ce,de){for(var he=0,se=ce.length;he<se;he++)if(ce[he]===de)return he;return-1}}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,m,g){m.exports=n;var f=e("../errors").codes,u=f.ERR_METHOD_NOT_IMPLEMENTED,h=f.ERR_MULTIPLE_CALLBACK,s=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=f.ERR_TRANSFORM_WITH_LENGTH_0,i=e("./_stream_duplex");e("inherits")(n,i);function r(a,v){var y=this._transformState;y.transforming=!1;var p=y.writecb;if(p===null)return this.emit("error",new h);y.writechunk=null,y.writecb=null,v!=null&&this.push(v),p(a);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function n(a){if(!(this instanceof n))return new n(a);i.call(this,a),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",l)}function l(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,y){d(a,v,y)}):d(this,null,null)}n.prototype.push=function(a,v){return this._transformState.needTransform=!1,i.prototype.push.call(this,a,v)},n.prototype._transform=function(a,v,y){y(new u("_transform()"))},n.prototype._write=function(a,v,y){var p=this._transformState;if(p.writecb=y,p.writechunk=a,p.writeencoding=v,!p.transforming){var E=this._readableState;(p.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},n.prototype._read=function(a){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},n.prototype._destroy=function(a,v){i.prototype._destroy.call(this,a,function(y){v(y)})};function d(a,v,y){if(v)return a.emit("error",v);if(y!=null&&a.push(y),a._writableState.length)throw new t;if(a._transformState.transforming)throw new s;return a.push(null)}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,m,g){(function(f,u){(function(){m.exports=W;function h(Ee){var Q=this;this.next=null,this.entry=null,this.finish=function(){De(Q,Ee)}}var s;W.WritableState=re;var t={deprecate:e("util-deprecate")},i=e("./internal/streams/stream"),r=e("buffer").Buffer,n=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(Ee){return r.from(Ee)}function d(Ee){return r.isBuffer(Ee)||Ee instanceof n}var a=e("./internal/streams/destroy"),v=e("./internal/streams/state"),y=v.getHighWaterMark,p=e("../errors").codes,E=p.ERR_INVALID_ARG_TYPE,T=p.ERR_METHOD_NOT_IMPLEMENTED,S=p.ERR_MULTIPLE_CALLBACK,A=p.ERR_STREAM_CANNOT_PIPE,w=p.ERR_STREAM_DESTROYED,I=p.ERR_STREAM_NULL_VALUES,D=p.ERR_STREAM_WRITE_AFTER_END,V=p.ERR_UNKNOWN_ENCODING,ie=a.errorOrDestroy;e("inherits")(W,i);function te(){}function re(Ee,Q,ue){s=s||e("./_stream_duplex"),Ee=Ee||{},typeof ue!="boolean"&&(ue=Q instanceof s),this.objectMode=!!Ee.objectMode,ue&&(this.objectMode=this.objectMode||!!Ee.writableObjectMode),this.highWaterMark=y(this,Ee,"writableHighWaterMark",ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var xe=Ee.decodeStrings===!1;this.decodeStrings=!xe,this.defaultEncoding=Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){z(Q,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ee.emitClose!==!1,this.autoDestroy=!!Ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}re.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,ue=[];Q;)ue.push(Q),Q=Q.next;return ue},function(){try{Object.defineProperty(re.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(Q){return Z.call(this,Q)?!0:this!==W?!1:Q&&Q._writableState instanceof re}})):Z=function(Q){return Q instanceof this};function W(Ee){s=s||e("./_stream_duplex");var Q=this instanceof s;if(!Q&&!Z.call(W,this))return new W(Ee);this._writableState=new re(Ee,this,Q),this.writable=!0,Ee&&(typeof Ee.write=="function"&&(this._write=Ee.write),typeof Ee.writev=="function"&&(this._writev=Ee.writev),typeof Ee.destroy=="function"&&(this._destroy=Ee.destroy),typeof Ee.final=="function"&&(this._final=Ee.final)),i.call(this)}W.prototype.pipe=function(){ie(this,new A)};function j(Ee,Q){var ue=new D;ie(Ee,ue),f.nextTick(Q,ue)}function O(Ee,Q,ue,xe){var _e;return ue===null?_e=new I:typeof ue!="string"&&!Q.objectMode&&(_e=new E("chunk",["string","Buffer"],ue)),_e?(ie(Ee,_e),f.nextTick(xe,_e),!1):!0}W.prototype.write=function(Ee,Q,ue){var xe=this._writableState,_e=!1,ce=!xe.objectMode&&d(Ee);return ce&&!r.isBuffer(Ee)&&(Ee=l(Ee)),typeof Q=="function"&&(ue=Q,Q=null),ce?Q="buffer":Q||(Q=xe.defaultEncoding),typeof ue!="function"&&(ue=te),xe.ending?j(this,ue):(ce||O(this,xe,Ee,ue))&&(xe.pendingcb++,_e=F(this,xe,ce,Ee,Q,ue)),_e},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var Ee=this._writableState;Ee.corked&&(Ee.corked--,!Ee.writing&&!Ee.corked&&!Ee.bufferProcessing&&Ee.bufferedRequest&&G(this,Ee))},W.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new V(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(Ee,Q,ue){return!Ee.objectMode&&Ee.decodeStrings!==!1&&typeof Q=="string"&&(Q=r.from(Q,ue)),Q}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(Ee,Q,ue,xe,_e,ce){if(!ue){var de=C(Q,xe,_e);xe!==de&&(ue=!0,_e="buffer",xe=de)}var he=Q.objectMode?1:xe.length;Q.length+=he;var se=Q.length<Q.highWaterMark;if(se||(Q.needDrain=!0),Q.writing||Q.corked){var ne=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:xe,encoding:_e,isBuf:ue,callback:ce,next:null},ne?ne.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else H(Ee,Q,!1,he,xe,_e,ce);return se}function H(Ee,Q,ue,xe,_e,ce,de){Q.writelen=xe,Q.writecb=de,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new w("write")):ue?Ee._writev(_e,Q.onwrite):Ee._write(_e,ce,Q.onwrite),Q.sync=!1}function $(Ee,Q,ue,xe,_e){--Q.pendingcb,ue?(f.nextTick(_e,xe),f.nextTick(Oe,Ee,Q),Ee._writableState.errorEmitted=!0,ie(Ee,xe)):(_e(xe),Ee._writableState.errorEmitted=!0,ie(Ee,xe),Oe(Ee,Q))}function Y(Ee){Ee.writing=!1,Ee.writecb=null,Ee.length-=Ee.writelen,Ee.writelen=0}function z(Ee,Q){var ue=Ee._writableState,xe=ue.sync,_e=ue.writecb;if(typeof _e!="function")throw new S;if(Y(ue),Q)$(Ee,ue,xe,Q,_e);else{var ce=le(ue)||Ee.destroyed;!ce&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&G(Ee,ue),xe?f.nextTick(B,Ee,ue,ce,_e):B(Ee,ue,ce,_e)}}function B(Ee,Q,ue,xe){ue||L(Ee,Q),Q.pendingcb--,xe(),Oe(Ee,Q)}function L(Ee,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,Ee.emit("drain"))}function G(Ee,Q){Q.bufferProcessing=!0;var ue=Q.bufferedRequest;if(Ee._writev&&ue&&ue.next){var xe=Q.bufferedRequestCount,_e=new Array(xe),ce=Q.corkedRequestsFree;ce.entry=ue;for(var de=0,he=!0;ue;)_e[de]=ue,ue.isBuf||(he=!1),ue=ue.next,de+=1;_e.allBuffers=he,H(Ee,Q,!0,Q.length,_e,"",ce.finish),Q.pendingcb++,Q.lastBufferedRequest=null,ce.next?(Q.corkedRequestsFree=ce.next,ce.next=null):Q.corkedRequestsFree=new h(Q),Q.bufferedRequestCount=0}else{for(;ue;){var se=ue.chunk,ne=ue.encoding,we=ue.callback,Ne=Q.objectMode?1:se.length;if(H(Ee,Q,!1,Ne,se,ne,we),ue=ue.next,Q.bufferedRequestCount--,Q.writing)break}ue===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=ue,Q.bufferProcessing=!1}W.prototype._write=function(Ee,Q,ue){ue(new T("_write()"))},W.prototype._writev=null,W.prototype.end=function(Ee,Q,ue){var xe=this._writableState;return typeof Ee=="function"?(ue=Ee,Ee=null,Q=null):typeof Q=="function"&&(ue=Q,Q=null),Ee!=null&&this.write(Ee,Q),xe.corked&&(xe.corked=1,this.uncork()),xe.ending||Ke(this,xe,ue),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function le(Ee){return Ee.ending&&Ee.length===0&&Ee.bufferedRequest===null&&!Ee.finished&&!Ee.writing}function ge(Ee,Q){Ee._final(function(ue){Q.pendingcb--,ue&&ie(Ee,ue),Q.prefinished=!0,Ee.emit("prefinish"),Oe(Ee,Q)})}function Ie(Ee,Q){!Q.prefinished&&!Q.finalCalled&&(typeof Ee._final=="function"&&!Q.destroyed?(Q.pendingcb++,Q.finalCalled=!0,f.nextTick(ge,Ee,Q)):(Q.prefinished=!0,Ee.emit("prefinish")))}function Oe(Ee,Q){var ue=le(Q);if(ue&&(Ie(Ee,Q),Q.pendingcb===0&&(Q.finished=!0,Ee.emit("finish"),Q.autoDestroy))){var xe=Ee._readableState;(!xe||xe.autoDestroy&&xe.endEmitted)&&Ee.destroy()}return ue}function Ke(Ee,Q,ue){Q.ending=!0,Oe(Ee,Q),ue&&(Q.finished?f.nextTick(ue):Ee.once("finish",ue)),Q.ended=!0,Ee.writable=!1}function De(Ee,Q,ue){var xe=Ee.entry;for(Ee.entry=null;xe;){var _e=xe.callback;Q.pendingcb--,_e(ue),xe=xe.next}Q.corkedRequestsFree.next=Ee}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),W.prototype.destroy=a.destroy,W.prototype._undestroy=a.undestroy,W.prototype._destroy=function(Ee,Q){Q(Ee)}}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,m,g){(function(f){(function(){var u;function h(D,V,ie){return V=s(V),V in D?Object.defineProperty(D,V,{value:ie,enumerable:!0,configurable:!0,writable:!0}):D[V]=ie,D}function s(D){var V=t(D,"string");return typeof V=="symbol"?V:String(V)}function t(D,V){if(typeof D!="object"||D===null)return D;var ie=D[Symbol.toPrimitive];if(ie!==void 0){var te=ie.call(D,V||"default");if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(D)}var i=e("./end-of-stream"),r=Symbol("lastResolve"),n=Symbol("lastReject"),l=Symbol("error"),d=Symbol("ended"),a=Symbol("lastPromise"),v=Symbol("handlePromise"),y=Symbol("stream");function p(D,V){return{value:D,done:V}}function E(D){var V=D[r];if(V!==null){var ie=D[y].read();ie!==null&&(D[a]=null,D[r]=null,D[n]=null,V(p(ie,!1)))}}function T(D){f.nextTick(E,D)}function S(D,V){return function(ie,te){D.then(function(){if(V[d]){ie(p(void 0,!0));return}V[v](ie,te)},te)}}var A=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((u={get stream(){return this[y]},next:function(){var V=this,ie=this[l];if(ie!==null)return Promise.reject(ie);if(this[d])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise(function(W,j){f.nextTick(function(){V[l]?j(V[l]):W(p(void 0,!0))})});var te=this[a],re;if(te)re=new Promise(S(te,this));else{var Z=this[y].read();if(Z!==null)return Promise.resolve(p(Z,!1));re=new Promise(this[v])}return this[a]=re,re}},h(u,Symbol.asyncIterator,function(){return this}),h(u,"return",function(){var V=this;return new Promise(function(ie,te){V[y].destroy(null,function(re){if(re){te(re);return}ie(p(void 0,!0))})})}),u),A),I=function(V){var ie,te=Object.create(w,(ie={},h(ie,y,{value:V,writable:!0}),h(ie,r,{value:null,writable:!0}),h(ie,n,{value:null,writable:!0}),h(ie,l,{value:null,writable:!0}),h(ie,d,{value:V._readableState.endEmitted,writable:!0}),h(ie,v,{value:function(Z,W){var j=te[y].read();j?(te[a]=null,te[r]=null,te[n]=null,Z(p(j,!1))):(te[r]=Z,te[n]=W)},writable:!0}),ie));return te[a]=null,i(V,function(re){if(re&&re.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Z=te[n];Z!==null&&(te[a]=null,te[r]=null,te[n]=null,Z(re)),te[l]=re;return}var W=te[r];W!==null&&(te[a]=null,te[r]=null,te[n]=null,W(p(void 0,!0))),te[d]=!0}),V.on("readable",T.bind(null,te)),te};m.exports=I}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,m,g){function f(E,T){var S=Object.keys(E);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(E);T&&(A=A.filter(function(w){return Object.getOwnPropertyDescriptor(E,w).enumerable})),S.push.apply(S,A)}return S}function u(E){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?f(Object(S),!0).forEach(function(A){h(E,A,S[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):f(Object(S)).forEach(function(A){Object.defineProperty(E,A,Object.getOwnPropertyDescriptor(S,A))})}return E}function h(E,T,S){return T=r(T),T in E?Object.defineProperty(E,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[T]=S,E}function s(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function t(E,T){for(var S=0;S<T.length;S++){var A=T[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,r(A.key),A)}}function i(E,T,S){return T&&t(E.prototype,T),S&&t(E,S),Object.defineProperty(E,"prototype",{writable:!1}),E}function r(E){var T=n(E,"string");return typeof T=="symbol"?T:String(T)}function n(E,T){if(typeof E!="object"||E===null)return E;var S=E[Symbol.toPrimitive];if(S!==void 0){var A=S.call(E,T||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(E)}var l=e("buffer"),d=l.Buffer,a=e("util"),v=a.inspect,y=v&&v.custom||"inspect";function p(E,T,S){d.prototype.copy.call(E,T,S)}m.exports=function(){function E(){s(this,E),this.head=null,this.tail=null,this.length=0}return i(E,[{key:"push",value:function(S){var A={data:S,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(S){var A={data:S,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var A=this.head,w=""+A.data;A=A.next;)w+=S+A.data;return w}},{key:"concat",value:function(S){if(this.length===0)return d.alloc(0);for(var A=d.allocUnsafe(S>>>0),w=this.head,I=0;w;)p(w.data,A,I),I+=w.data.length,w=w.next;return A}},{key:"consume",value:function(S,A){var w;return S<this.head.data.length?(w=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?w=this.shift():w=A?this._getString(S):this._getBuffer(S),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var A=this.head,w=1,I=A.data;for(S-=I.length;A=A.next;){var D=A.data,V=S>D.length?D.length:S;if(V===D.length?I+=D:I+=D.slice(0,S),S-=V,S===0){V===D.length?(++w,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=D.slice(V));break}++w}return this.length-=w,I}},{key:"_getBuffer",value:function(S){var A=d.allocUnsafe(S),w=this.head,I=1;for(w.data.copy(A),S-=w.data.length;w=w.next;){var D=w.data,V=S>D.length?D.length:S;if(D.copy(A,A.length-S,0,V),S-=V,S===0){V===D.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=D.slice(V));break}++I}return this.length-=I,A}},{key:y,value:function(S,A){return v(this,u(u({},A),{},{depth:0,customInspect:!1}))}}]),E}()},{buffer:220,util:188}],485:[function(e,m,g){(function(f){(function(){function u(n,l){var d=this,a=this._readableState&&this._readableState.destroyed,v=this._writableState&&this._writableState.destroyed;return a||v?(l?l(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(i,this,n)):f.nextTick(i,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(y){!l&&y?d._writableState?d._writableState.errorEmitted?f.nextTick(s,d):(d._writableState.errorEmitted=!0,f.nextTick(h,d,y)):f.nextTick(h,d,y):l?(f.nextTick(s,d),l(y)):f.nextTick(s,d)}),this)}function h(n,l){i(n,l),s(n)}function s(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(n,l){n.emit("error",l)}function r(n,l){var d=n._readableState,a=n._writableState;d&&d.autoDestroy||a&&a.autoDestroy?n.destroy(l):n.emit("error",l)}m.exports={destroy:u,undestroy:t,errorOrDestroy:r}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,m,g){var f=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function u(i){var r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];i.apply(this,l)}}}function h(){}function s(i){return i.setHeader&&typeof i.abort=="function"}function t(i,r,n){if(typeof r=="function")return t(i,null,r);r||(r={}),n=u(n||h);var l=r.readable||r.readable!==!1&&i.readable,d=r.writable||r.writable!==!1&&i.writable,a=function(){i.writable||y()},v=i._writableState&&i._writableState.finished,y=function(){d=!1,v=!0,l||n.call(i)},p=i._readableState&&i._readableState.endEmitted,E=function(){l=!1,p=!0,d||n.call(i)},T=function(I){n.call(i,I)},S=function(){var I;if(l&&!p)return(!i._readableState||!i._readableState.ended)&&(I=new f),n.call(i,I);if(d&&!v)return(!i._writableState||!i._writableState.ended)&&(I=new f),n.call(i,I)},A=function(){i.req.on("finish",y)};return s(i)?(i.on("complete",y),i.on("abort",S),i.req?A():i.on("request",A)):d&&!i._writableState&&(i.on("end",a),i.on("close",a)),i.on("end",E),i.on("finish",y),r.error!==!1&&i.on("error",T),i.on("close",S),function(){i.removeListener("complete",y),i.removeListener("abort",S),i.removeListener("request",A),i.req&&i.req.removeListener("finish",y),i.removeListener("end",a),i.removeListener("close",a),i.removeListener("finish",y),i.removeListener("end",E),i.removeListener("error",T),i.removeListener("close",S)}}m.exports=t},{"../../../errors":477}],487:[function(e,m,g){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,m,g){var f;function u(y){var p=!1;return function(){p||(p=!0,y.apply(void 0,arguments))}}var h=e("../../../errors").codes,s=h.ERR_MISSING_ARGS,t=h.ERR_STREAM_DESTROYED;function i(y){if(y)throw y}function r(y){return y.setHeader&&typeof y.abort=="function"}function n(y,p,E,T){T=u(T);var S=!1;y.on("close",function(){S=!0}),f===void 0&&(f=e("./end-of-stream")),f(y,{readable:p,writable:E},function(w){if(w)return T(w);S=!0,T()});var A=!1;return function(w){if(!S&&!A){if(A=!0,r(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();T(w||new t("pipe"))}}}function l(y){y()}function d(y,p){return y.pipe(p)}function a(y){return!y.length||typeof y[y.length-1]!="function"?i:y.pop()}function v(){for(var y=arguments.length,p=new Array(y),E=0;E<y;E++)p[E]=arguments[E];var T=a(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new s("streams");var S,A=p.map(function(w,I){var D=I<p.length-1,V=I>0;return n(w,D,V,function(ie){S||(S=ie),ie&&A.forEach(l),!D&&(A.forEach(l),T(S))})});return p.reduce(d)}m.exports=v},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,m,g){var f=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function u(s,t,i){return s.highWaterMark!=null?s.highWaterMark:t?s[i]:null}function h(s,t,i,r){var n=u(t,r,i);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var l=r?i:"highWaterMark";throw new f(l,n)}return Math.floor(n)}return s.objectMode?16:16*1024}m.exports={getHighWaterMark:h}},{"../../../errors":477}],490:[function(e,m,g){m.exports=e("events").EventEmitter},{events:422}],491:[function(e,m,g){g=m.exports=e("./lib/_stream_readable.js"),g.Stream=g,g.Readable=g,g.Writable=e("./lib/_stream_writable.js"),g.Duplex=e("./lib/_stream_duplex.js"),g.Transform=e("./lib/_stream_transform.js"),g.PassThrough=e("./lib/_stream_passthrough.js"),g.finished=e("./lib/internal/streams/end-of-stream.js"),g.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,m,g){var f=function(u){var h=Object.prototype,s=h.hasOwnProperty,t=Object.defineProperty||function(z,B,L){z[B]=L.value},i,r=typeof Symbol=="function"?Symbol:{},n=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",d=r.toStringTag||"@@toStringTag";function a(z,B,L){return Object.defineProperty(z,B,{value:L,enumerable:!0,configurable:!0,writable:!0}),z[B]}try{a({},"")}catch{a=function(B,L,G){return B[L]=G}}function v(z,B,L,G){var le=B&&B.prototype instanceof w?B:w,ge=Object.create(le.prototype),Ie=new H(G||[]);return t(ge,"_invoke",{value:j(z,L,Ie)}),ge}u.wrap=v;function y(z,B,L){try{return{type:"normal",arg:z.call(B,L)}}catch(G){return{type:"throw",arg:G}}}var p="suspendedStart",E="suspendedYield",T="executing",S="completed",A={};function w(){}function I(){}function D(){}var V={};a(V,n,function(){return this});var ie=Object.getPrototypeOf,te=ie&&ie(ie($([])));te&&te!==h&&s.call(te,n)&&(V=te);var re=D.prototype=w.prototype=Object.create(V);I.prototype=D,t(re,"constructor",{value:D,configurable:!0}),t(D,"constructor",{value:I,configurable:!0}),I.displayName=a(D,d,"GeneratorFunction");function Z(z){["next","throw","return"].forEach(function(B){a(z,B,function(L){return this._invoke(B,L)})})}u.isGeneratorFunction=function(z){var B=typeof z=="function"&&z.constructor;return B?B===I||(B.displayName||B.name)==="GeneratorFunction":!1},u.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,D):(z.__proto__=D,a(z,d,"GeneratorFunction")),z.prototype=Object.create(re),z},u.awrap=function(z){return{__await:z}};function W(z,B){function L(ge,Ie,Oe,Ke){var De=y(z[ge],z,Ie);if(De.type==="throw")Ke(De.arg);else{var Ee=De.arg,Q=Ee.value;return Q&&typeof Q=="object"&&s.call(Q,"__await")?B.resolve(Q.__await).then(function(ue){L("next",ue,Oe,Ke)},function(ue){L("throw",ue,Oe,Ke)}):B.resolve(Q).then(function(ue){Ee.value=ue,Oe(Ee)},function(ue){return L("throw",ue,Oe,Ke)})}}var G;function le(ge,Ie){function Oe(){return new B(function(Ke,De){L(ge,Ie,Ke,De)})}return G=G?G.then(Oe,Oe):Oe()}t(this,"_invoke",{value:le})}Z(W.prototype),a(W.prototype,l,function(){return this}),u.AsyncIterator=W,u.async=function(z,B,L,G,le){le===void 0&&(le=Promise);var ge=new W(v(z,B,L,G),le);return u.isGeneratorFunction(B)?ge:ge.next().then(function(Ie){return Ie.done?Ie.value:ge.next()})};function j(z,B,L){var G=p;return function(ge,Ie){if(G===T)throw new Error("Generator is already running");if(G===S){if(ge==="throw")throw Ie;return Y()}for(L.method=ge,L.arg=Ie;;){var Oe=L.delegate;if(Oe){var Ke=O(Oe,L);if(Ke){if(Ke===A)continue;return Ke}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(G===p)throw G=S,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);G=T;var De=y(z,B,L);if(De.type==="normal"){if(G=L.done?S:E,De.arg===A)continue;return{value:De.arg,done:L.done}}else De.type==="throw"&&(G=S,L.method="throw",L.arg=De.arg)}}}function O(z,B){var L=B.method,G=z.iterator[L];if(G===i)return B.delegate=null,L==="throw"&&z.iterator.return&&(B.method="return",B.arg=i,O(z,B),B.method==="throw")||L!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+L+"' method")),A;var le=y(G,z.iterator,B.arg);if(le.type==="throw")return B.method="throw",B.arg=le.arg,B.delegate=null,A;var ge=le.arg;if(!ge)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,A;if(ge.done)B[z.resultName]=ge.value,B.next=z.nextLoc,B.method!=="return"&&(B.method="next",B.arg=i);else return ge;return B.delegate=null,A}Z(re),a(re,d,"Generator"),a(re,n,function(){return this}),a(re,"toString",function(){return"[object Generator]"});function C(z){var B={tryLoc:z[0]};1 in z&&(B.catchLoc=z[1]),2 in z&&(B.finallyLoc=z[2],B.afterLoc=z[3]),this.tryEntries.push(B)}function F(z){var B=z.completion||{};B.type="normal",delete B.arg,z.completion=B}function H(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(C,this),this.reset(!0)}u.keys=function(z){var B=Object(z),L=[];for(var G in B)L.push(G);return L.reverse(),function le(){for(;L.length;){var ge=L.pop();if(ge in B)return le.value=ge,le.done=!1,le}return le.done=!0,le}};function $(z){if(z){var B=z[n];if(B)return B.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var L=-1,G=function le(){for(;++L<z.length;)if(s.call(z,L))return le.value=z[L],le.done=!1,le;return le.value=i,le.done=!0,le};return G.next=G}}return{next:Y}}u.values=$;function Y(){return{value:i,done:!0}}return H.prototype={constructor:H,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(F),!z)for(var B in this)B.charAt(0)==="t"&&s.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=i)},stop:function(){this.done=!0;var z=this.tryEntries[0],B=z.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var B=this;function L(Ke,De){return ge.type="throw",ge.arg=z,B.next=Ke,De&&(B.method="next",B.arg=i),!!De}for(var G=this.tryEntries.length-1;G>=0;--G){var le=this.tryEntries[G],ge=le.completion;if(le.tryLoc==="root")return L("end");if(le.tryLoc<=this.prev){var Ie=s.call(le,"catchLoc"),Oe=s.call(le,"finallyLoc");if(Ie&&Oe){if(this.prev<le.catchLoc)return L(le.catchLoc,!0);if(this.prev<le.finallyLoc)return L(le.finallyLoc)}else if(Ie){if(this.prev<le.catchLoc)return L(le.catchLoc,!0)}else if(Oe){if(this.prev<le.finallyLoc)return L(le.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(z,B){for(var L=this.tryEntries.length-1;L>=0;--L){var G=this.tryEntries[L];if(G.tryLoc<=this.prev&&s.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var le=G;break}}le&&(z==="break"||z==="continue")&&le.tryLoc<=B&&B<=le.finallyLoc&&(le=null);var ge=le?le.completion:{};return ge.type=z,ge.arg=B,le?(this.method="next",this.next=le.finallyLoc,A):this.complete(ge)},complete:function(z,B){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&B&&(this.next=B),A},finish:function(z){for(var B=this.tryEntries.length-1;B>=0;--B){var L=this.tryEntries[B];if(L.finallyLoc===z)return this.complete(L.completion,L.afterLoc),F(L),A}},catch:function(z){for(var B=this.tryEntries.length-1;B>=0;--B){var L=this.tryEntries[B];if(L.tryLoc===z){var G=L.completion;if(G.type==="throw"){var le=G.arg;F(L)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(z,B,L){return this.delegate={iterator:$(z),resultName:B,nextLoc:L},this.method==="next"&&(this.arg=i),A}},u}(typeof m=="object"?m.exports:{});try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}},{}],493:[function(e,m,g){var f=e("buffer").Buffer,u=e("inherits"),h=e("hash-base"),s=new Array(16),t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],r=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function a(){h.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}u(a,h),a.prototype._update=function(){for(var A=s,w=0;w<16;++w)A[w]=this._block.readInt32LE(w*4);for(var I=this._a|0,D=this._b|0,V=this._c|0,ie=this._d|0,te=this._e|0,re=this._a|0,Z=this._b|0,W=this._c|0,j=this._d|0,O=this._e|0,C=0;C<80;C+=1){var F,H;C<16?(F=y(I,D,V,ie,te,A[t[C]],l[0],r[C]),H=S(re,Z,W,j,O,A[i[C]],d[0],n[C])):C<32?(F=p(I,D,V,ie,te,A[t[C]],l[1],r[C]),H=T(re,Z,W,j,O,A[i[C]],d[1],n[C])):C<48?(F=E(I,D,V,ie,te,A[t[C]],l[2],r[C]),H=E(re,Z,W,j,O,A[i[C]],d[2],n[C])):C<64?(F=T(I,D,V,ie,te,A[t[C]],l[3],r[C]),H=p(re,Z,W,j,O,A[i[C]],d[3],n[C])):(F=S(I,D,V,ie,te,A[t[C]],l[4],r[C]),H=y(re,Z,W,j,O,A[i[C]],d[4],n[C])),I=te,te=ie,ie=v(V,10),V=D,D=F,re=O,O=j,j=v(W,10),W=Z,Z=H}var $=this._b+V+j|0;this._b=this._c+ie+O|0,this._c=this._d+te+re|0,this._d=this._e+I+Z|0,this._e=this._a+D+W|0,this._a=$},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=f.alloc?f.alloc(20):new f(20);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A.writeInt32LE(this._e,16),A};function v(A,w){return A<<w|A>>>32-w}function y(A,w,I,D,V,ie,te,re){return v(A+(w^I^D)+ie+te|0,re)+V|0}function p(A,w,I,D,V,ie,te,re){return v(A+(w&I|~w&D)+ie+te|0,re)+V|0}function E(A,w,I,D,V,ie,te,re){return v(A+((w|~I)^D)+ie+te|0,re)+V|0}function T(A,w,I,D,V,ie,te,re){return v(A+(w&D|I&~D)+ie+te|0,re)+V|0}function S(A,w,I,D,V,ie,te,re){return v(A+(w^(I|~D))+ie+te|0,re)+V|0}m.exports=a},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,m,g){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var f=e("buffer"),u=f.Buffer;function h(t,i){for(var r in t)i[r]=t[r]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?m.exports=f:(h(f,g),g.Buffer=s);function s(t,i,r){return u(t,i,r)}s.prototype=Object.create(u.prototype),h(u,s),s.from=function(t,i,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return u(t,i,r)},s.alloc=function(t,i,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=u(t);return i!==void 0?typeof r=="string"?n.fill(i,r):n.fill(i):n.fill(0),n},s.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u(t)},s.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(t)}},{buffer:220}],495:[function(e,m,g){(function(f){(function(){var u=e("buffer"),h=u.Buffer,s={},t;for(t in u)u.hasOwnProperty(t)&&(t==="SlowBuffer"||t==="Buffer"||(s[t]=u[t]));var i=s.Buffer={};for(t in h)h.hasOwnProperty(t)&&(t==="allocUnsafe"||t==="allocUnsafeSlow"||(i[t]=h[t]));if(s.Buffer.prototype=h.prototype,(!i.from||i.from===Uint8Array.from)&&(i.from=function(r,n,l){if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof r);if(r&&typeof r.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);return h(r,n,l)}),i.alloc||(i.alloc=function(r,n,l){if(typeof r!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof r);if(r<0||r>=2*(1<<30))throw new RangeError('The value "'+r+'" is invalid for option "size"');var d=h(r);return!n||n.length===0?d.fill(0):typeof l=="string"?d.fill(n,l):d.fill(n),d}),!s.kStringMaxLength)try{s.kStringMaxLength=f.binding("buffer").kStringMaxLength}catch{}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),m.exports=s}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0});const f=e("xmlchars/xml/1.0/ed5"),u=e("xmlchars/xml/1.1/ed2"),h=e("xmlchars/xmlns/1.0/ed3");var s=f.isS,t=f.isChar,i=f.isNameStartChar,r=f.isNameChar,n=f.S_LIST,l=f.NAME_RE,d=u.isChar,a=h.isNCNameStartChar,v=h.isNCNameChar,y=h.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",T={__proto__:null,xml:p,xmlns:E},S={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},A=-1,w=-2,I=0,D=1,V=2,ie=3,te=4,re=5,Z=6,W=7,j=8,O=9,C=10,F=11,H=12,$=13,Y=14,z=15,B=16,L=17,G=18,le=19,ge=20,Ie=21,Oe=22,Ke=23,De=24,Ee=25,Q=26,ue=27,xe=28,_e=29,ce=30,de=31,he=32,se=33,ne=34,we=35,Ne=36,ae=37,Pe=38,ze=39,ve=40,Ae=41,Be=42,We=43,Je=44,Ge=9,et=10,ut=13,at=32,Fe=33,Qe=34,rt=38,mt=39,Ut=45,jt=47,kt=59,Nt=60,Tt=61,Mt=62,Dt=63,It=91,$t=93,Sr=133,mr=8232,Xt=nr=>nr===Qe||nr===mt,hr=[Qe,mt],Mr=[...hr,It,Mt],ir=[...hr,Nt,$t],Vr=[Tt,Dt,...n],Nr=[...n,Mt,rt,Nt];function qt(nr,Ue,it){switch(Ue){case"xml":it!==p&&nr.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":it!==E&&nr.fail(`xmlns prefix must be bound to ${E}.`);break}switch(it){case E:nr.fail(Ue===""?`the default namespace may not be set to ${it}.`:`may not assign a prefix (even "xmlns") to the URI ${E}.`);break;case p:switch(Ue){case"xml":break;case"":nr.fail(`the default namespace may not be set to ${it}.`);break;default:nr.fail("may not assign the xml namespace to another prefix.")}break}}function Pr(nr,Ue){for(const it of Object.keys(Ue))qt(nr,it,Ue[it])}const ur=nr=>y.test(nr),rr=nr=>l.test(nr),Ar=0,dr=1,tr=2;g.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Hr={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class or{constructor(Ue){this.opt=Ue??{},this.fragmentOpt=!!this.opt.fragment;const it=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,it){this.nameStartCheck=a,this.nameCheck=v,this.isName=ur,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},T);const ot=this.opt.additionalNamespaces;ot!=null&&(Pr(this,ot),Object.assign(this.ns,ot))}else this.nameStartCheck=i,this.nameCheck=r,this.isName=rr,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var Ue;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ar,this.attribList=[];const{fragmentOpt:it}=this;this.state=it?$:I,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=it,this.xmlDeclPossible=!it,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:ot}=this.opt;if(ot===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");ot="1.0"}this.setXMLVersion(ot),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(S),(Ue=this.readyHandler)===null||Ue===void 0||Ue.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(Ue,it){this[Hr[Ue]]=it}off(Ue){this[Hr[Ue]]=void 0}makeError(Ue){var it;let ot=(it=this.fileName)!==null&&it!==void 0?it:"";return this.trackPosition&&(ot.length>0&&(ot+=":"),ot+=`${this.line}:${this.column}`),ot.length>0&&(ot+=": "),new Error(ot+Ue)}fail(Ue){const it=this.makeError(Ue),ot=this.errorHandler;if(ot===void 0)throw it;return ot(it),this}write(Ue){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let it=!1;Ue===null?(it=!0,Ue=""):typeof Ue=="object"&&(Ue=Ue.toString()),this.carriedFromPrevious!==void 0&&(Ue=`${this.carriedFromPrevious}${Ue}`,this.carriedFromPrevious=void 0);let ot=Ue.length;const Rt=Ue.charCodeAt(ot-1);!it&&(Rt===ut||Rt>=55296&&Rt<=56319)&&(this.carriedFromPrevious=Ue[ot-1],ot--,Ue=Ue.slice(0,ot));const{stateTable:zt}=this;for(this.chunk=Ue,this.i=0;this.i<ot;)zt[this.state].call(this);return this.chunkPosition+=ot,it?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:Ue,i:it}=this;if(this.prevI=it,this.i=it+1,it>=Ue.length)return A;const ot=Ue.charCodeAt(it);if(this.column++,ot<55296){if(ot>=at||ot===Ge)return ot;switch(ot){case et:return this.line++,this.column=0,this.positionAtNewLine=this.position,et;case ut:return Ue.charCodeAt(it+1)===et&&(this.i=it+2),this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),ot}}if(ot>56319)return ot>=57344&&ot<=65533||this.fail("disallowed character."),ot;const Rt=65536+(ot-55296)*1024+(Ue.charCodeAt(it+1)-56320);return this.i=it+2,Rt>1114111&&this.fail("disallowed character."),Rt}getCode11(){const{chunk:Ue,i:it}=this;if(this.prevI=it,this.i=it+1,it>=Ue.length)return A;const ot=Ue.charCodeAt(it);if(this.column++,ot<55296){if(ot>31&&ot<127||ot>159&&ot!==mr||ot===Ge)return ot;switch(ot){case et:return this.line++,this.column=0,this.positionAtNewLine=this.position,et;case ut:{const zt=Ue.charCodeAt(it+1);(zt===et||zt===Sr)&&(this.i=it+2)}case Sr:case mr:return this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),ot}}if(ot>56319)return ot>=57344&&ot<=65533||this.fail("disallowed character."),ot;const Rt=65536+(ot-55296)*1024+(Ue.charCodeAt(it+1)-56320);return this.i=it+2,Rt>1114111&&this.fail("disallowed character."),Rt}getCodeNorm(){const Ue=this.getCode();return Ue===w?et:Ue}unget(){this.i=this.prevI,this.column--}captureTo(Ue){let{i:it}=this;const{chunk:ot}=this;for(;;){const Rt=this.getCode(),zt=Rt===w,gr=zt?et:Rt;if(gr===A||Ue.includes(gr))return this.text+=ot.slice(it,this.prevI),gr;zt&&(this.text+=`${ot.slice(it,this.prevI)}
`,it=this.i)}}captureToChar(Ue){let{i:it}=this;const{chunk:ot}=this;for(;;){let Rt=this.getCode();switch(Rt){case w:this.text+=`${ot.slice(it,this.prevI)}
`,it=this.i,Rt=et;break;case A:return this.text+=ot.slice(it),!1}if(Rt===Ue)return this.text+=ot.slice(it,this.prevI),!0}}captureNameChars(){const{chunk:Ue,i:it}=this;for(;;){const ot=this.getCode();if(ot===A)return this.name+=Ue.slice(it),A;if(!r(ot))return this.name+=Ue.slice(it,this.prevI),ot===w?et:ot}}skipSpaces(){for(;;){const Ue=this.getCodeNorm();if(Ue===A||!s(Ue))return Ue}}setXMLVersion(Ue){this.currentXMLVersion=Ue,Ue==="1.0"?(this.isChar=t,this.getCode=this.getCode10):(this.isChar=d,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=D}sBeginWhitespace(){const Ue=this.i,it=this.skipSpaces();switch(this.prevI!==Ue&&(this.xmlDeclPossible=!1),it){case Nt:if(this.state=z,this.text.length!==0)throw new Error("no-empty text at start");break;case A:break;default:this.unget(),this.state=$,this.xmlDeclPossible=!1}}sDoctype(){var Ue;const it=this.captureTo(Mr);switch(it){case Mt:{(Ue=this.doctypeHandler)===null||Ue===void 0||Ue.call(this,this.text),this.text="",this.state=$,this.doctype=!0;break}case A:break;default:this.text+=String.fromCodePoint(it),it===It?this.state=te:Xt(it)&&(this.state=ie,this.q=it)}}sDoctypeQuote(){const Ue=this.q;this.captureToChar(Ue)&&(this.text+=String.fromCodePoint(Ue),this.q=null,this.state=V)}sDTD(){const Ue=this.captureTo(ir);Ue!==A&&(this.text+=String.fromCodePoint(Ue),Ue===$t?this.state=V:Ue===Nt?this.state=Z:Xt(Ue)&&(this.state=re,this.q=Ue))}sDTDQuoted(){const Ue=this.q;this.captureToChar(Ue)&&(this.text+=String.fromCodePoint(Ue),this.state=te,this.q=null)}sDTDOpenWaka(){const Ue=this.getCodeNorm();switch(this.text+=String.fromCodePoint(Ue),Ue){case Fe:this.state=W,this.openWakaBang="";break;case Dt:this.state=F;break;default:this.state=te}}sDTDOpenWakaBang(){const Ue=String.fromCodePoint(this.getCodeNorm()),it=this.openWakaBang+=Ue;this.text+=Ue,it!=="-"&&(this.state=it==="--"?j:te,this.openWakaBang="")}sDTDComment(){this.captureToChar(Ut)&&(this.text+="-",this.state=O)}sDTDCommentEnding(){const Ue=this.getCodeNorm();this.text+=String.fromCodePoint(Ue),this.state=Ue===Ut?C:j}sDTDCommentEnded(){const Ue=this.getCodeNorm();this.text+=String.fromCodePoint(Ue),Ue===Mt?this.state=te:(this.fail("malformed comment."),this.state=j)}sDTDPI(){this.captureToChar(Dt)&&(this.text+="?",this.state=H)}sDTDPIEnding(){const Ue=this.getCodeNorm();this.text+=String.fromCodePoint(Ue),Ue===Mt&&(this.state=te)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:Ue}=this;const{chunk:it}=this;e:for(;;)switch(this.getCode()){case w:this.entity+=`${it.slice(Ue,this.prevI)}
`,Ue=this.i;break;case kt:{const{entityReturnState:ot}=this,Rt=this.entity+it.slice(Ue,this.prevI);this.state=ot;let zt;Rt===""?(this.fail("empty entity name."),zt="&;"):(zt=this.parseEntity(Rt),this.entity=""),(ot!==$||this.textHandler!==void 0)&&(this.text+=zt);break e}case A:this.entity+=it.slice(Ue);break e}}sOpenWaka(){const Ue=this.getCode();if(i(Ue))this.state=ne,this.unget(),this.xmlDeclPossible=!1;else switch(Ue){case jt:this.state=We,this.xmlDeclPossible=!1;break;case Fe:this.state=B,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Dt:this.state=Ke;break;default:this.fail("disallowed character in tag name"),this.state=$,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=ge,this.openWakaBang="";break;case"--":this.state=L,this.openWakaBang="";break;case"DOCTYPE":this.state=V,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Ut)&&(this.state=G)}sCommentEnding(){var Ue;const it=this.getCodeNorm();it===Ut?(this.state=le,(Ue=this.commentHandler)===null||Ue===void 0||Ue.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(it)}`,this.state=L)}sCommentEnded(){const Ue=this.getCodeNorm();Ue!==Mt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(Ue)}`,this.state=L):this.state=$}sCData(){this.captureToChar($t)&&(this.state=Ie)}sCDataEnding(){const Ue=this.getCodeNorm();Ue===$t?this.state=Oe:(this.text+=`]${String.fromCodePoint(Ue)}`,this.state=ge)}sCDataEnding2(){var Ue;const it=this.getCodeNorm();switch(it){case Mt:{(Ue=this.cdataHandler)===null||Ue===void 0||Ue.call(this,this.text),this.text="",this.state=$;break}case $t:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(it)}`,this.state=ge}}sPIFirstChar(){const Ue=this.getCodeNorm();this.nameStartCheck(Ue)?(this.piTarget+=String.fromCodePoint(Ue),this.state=De):Ue===Dt||s(Ue)?(this.fail("processing instruction without a target."),this.state=Ue===Dt?Q:Ee):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ue),this.state=De)}sPIRest(){const{chunk:Ue,i:it}=this;for(;;){const ot=this.getCodeNorm();if(ot===A){this.piTarget+=Ue.slice(it);return}if(!this.nameCheck(ot)){this.piTarget+=Ue.slice(it,this.prevI);const Rt=ot===Dt;Rt||s(ot)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=Rt?se:ue):this.state=Rt?Q:Ee:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(ot));break}}}sPIBody(){if(this.text.length===0){const Ue=this.getCodeNorm();Ue===Dt?this.state=Q:s(Ue)||(this.text=String.fromCodePoint(Ue))}else this.captureToChar(Dt)&&(this.state=Q)}sPIEnding(){var Ue;const it=this.getCodeNorm();if(it===Mt){const{piTarget:ot}=this;ot.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(Ue=this.piHandler)===null||Ue===void 0||Ue.call(this,{target:ot,body:this.text}),this.piTarget=this.text="",this.state=$}else it===Dt?this.text+="?":(this.text+=`?${String.fromCodePoint(it)}`,this.state=Ee);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const Ue=this.skipSpaces();if(Ue===Dt){this.state=se;return}Ue!==A&&(this.state=xe,this.name=String.fromCodePoint(Ue))}sXMLDeclName(){const Ue=this.captureTo(Vr);if(Ue===Dt){this.state=se,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(s(Ue)||Ue===Tt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=Ue===Tt?ce:_e}}sXMLDeclEq(){const Ue=this.getCodeNorm();if(Ue===Dt){this.state=se,this.fail("XML declaration is incomplete.");return}s(Ue)||(Ue!==Tt&&this.fail("value required."),this.state=ce)}sXMLDeclValueStart(){const Ue=this.getCodeNorm();if(Ue===Dt){this.state=se,this.fail("XML declaration is incomplete.");return}s(Ue)||(Xt(Ue)?this.q=Ue:(this.fail("value must be quoted."),this.q=at),this.state=de)}sXMLDeclValue(){const Ue=this.captureTo([this.q,Dt]);if(Ue===Dt){this.state=se,this.text="",this.fail("XML declaration is incomplete.");return}if(Ue===A)return;const it=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const ot=it;this.xmlDecl.version=ot,/^1\.[0-9]+$/.test(ot)?this.opt.forceXMLVersion||this.setXMLVersion(ot):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(it)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=it;break;case"standalone":it!=="yes"&&it!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=it;break}this.name="",this.state=he}sXMLDeclSeparator(){const Ue=this.getCodeNorm();if(Ue===Dt){this.state=se;return}s(Ue)||(this.fail("whitespace required."),this.unget()),this.state=ue}sXMLDeclEnding(){var Ue;this.getCodeNorm()===Mt?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(Ue=this.xmldeclHandler)===null||Ue===void 0||Ue.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=$):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var Ue;const it=this.captureNameChars();if(it===A)return;const ot=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=ot.ns=Object.create(null)),(Ue=this.openTagStartHandler)===null||Ue===void 0||Ue.call(this,ot),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),it){case Mt:this.openTag();break;case jt:this.state=we;break;default:s(it)||this.fail("disallowed character in tag name."),this.state=Ne}}sOpenTagSlash(){this.getCode()===Mt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Ne)}sAttrib(){const Ue=this.skipSpaces();Ue!==A&&(i(Ue)?(this.unget(),this.state=ae):Ue===Mt?this.openTag():Ue===jt?this.state=we:this.fail("disallowed character in attribute name."))}sAttribName(){const Ue=this.captureNameChars();Ue===Tt?this.state=ze:s(Ue)?this.state=Pe:Ue===Mt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):Ue!==A&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const Ue=this.skipSpaces();switch(Ue){case A:return;case Tt:this.state=ze;break;default:this.fail("attribute without value."),this.text="",this.name="",Ue===Mt?this.openTag():i(Ue)?(this.unget(),this.state=ae):(this.fail("disallowed character in attribute name."),this.state=Ne)}}sAttribValue(){const Ue=this.getCodeNorm();Xt(Ue)?(this.q=Ue,this.state=ve):s(Ue)||(this.fail("unquoted attribute value."),this.state=Be,this.unget())}sAttribValueQuoted(){const{q:Ue,chunk:it}=this;let{i:ot}=this;for(;;)switch(this.getCode()){case Ue:this.pushAttrib(this.name,this.text+it.slice(ot,this.prevI)),this.name=this.text="",this.q=null,this.state=Ae;return;case rt:this.text+=it.slice(ot,this.prevI),this.state=Y,this.entityReturnState=ve;return;case et:case w:case Ge:this.text+=`${it.slice(ot,this.prevI)} `,ot=this.i;break;case Nt:this.text+=it.slice(ot,this.prevI),this.fail("disallowed character.");return;case A:this.text+=it.slice(ot);return}}sAttribValueClosed(){const Ue=this.getCodeNorm();s(Ue)?this.state=Ne:Ue===Mt?this.openTag():Ue===jt?this.state=we:i(Ue)?(this.fail("no whitespace between attributes."),this.unget(),this.state=ae):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const Ue=this.captureTo(Nr);switch(Ue){case rt:this.state=Y,this.entityReturnState=Be;break;case Nt:this.fail("disallowed character.");break;case A:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",Ue===Mt?this.openTag():this.state=Ne}}sCloseTag(){const Ue=this.captureNameChars();Ue===Mt?this.closeTag():s(Ue)?this.state=Je:Ue!==A&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Mt:this.closeTag();break;case A:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:Ue,forbiddenState:it}=this;const{chunk:ot,textHandler:Rt}=this;e:for(;;)switch(this.getCode()){case Nt:{if(this.state=z,Rt!==void 0){const{text:zt}=this,gr=ot.slice(Ue,this.prevI);zt.length!==0?(Rt(zt+gr),this.text=""):gr.length!==0&&Rt(gr)}it=Ar;break e}case rt:this.state=Y,this.entityReturnState=$,Rt!==void 0&&(this.text+=ot.slice(Ue,this.prevI)),it=Ar;break e;case $t:switch(it){case Ar:it=dr;break;case dr:it=tr;break;case tr:break;default:throw new Error("impossible state")}break;case Mt:it===tr&&this.fail('the string "]]>" is disallowed in char data.'),it=Ar;break;case w:Rt!==void 0&&(this.text+=`${ot.slice(Ue,this.prevI)}
`),Ue=this.i,it=Ar;break;case A:Rt!==void 0&&(this.text+=ot.slice(Ue));break e;default:it=Ar}this.forbiddenState=it}handleTextOutsideRoot(){let{i:Ue}=this;const{chunk:it,textHandler:ot}=this;let Rt=!1;e:for(;;){const zt=this.getCode();switch(zt){case Nt:{if(this.state=z,ot!==void 0){const{text:gr}=this,Gr=it.slice(Ue,this.prevI);gr.length!==0?(ot(gr+Gr),this.text=""):Gr.length!==0&&ot(Gr)}break e}case rt:this.state=Y,this.entityReturnState=$,ot!==void 0&&(this.text+=it.slice(Ue,this.prevI)),Rt=!0;break e;case w:ot!==void 0&&(this.text+=`${it.slice(Ue,this.prevI)}
`),Ue=this.i;break;case A:ot!==void 0&&(this.text+=it.slice(Ue));break e;default:s(zt)||(Rt=!0)}}Rt&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(Ue,it){var ot;const{prefix:Rt,local:zt}=this.qname(Ue),gr={name:Ue,prefix:Rt,local:zt,value:it};if(this.attribList.push(gr),(ot=this.attributeHandler)===null||ot===void 0||ot.call(this,gr),Rt==="xmlns"){const Gr=it.trim();this.currentXMLVersion==="1.0"&&Gr===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[zt]=Gr,qt(this,zt,Gr)}else if(Ue==="xmlns"){const Gr=it.trim();this.topNS[""]=Gr,qt(this,"",Gr)}}pushAttribPlain(Ue,it){var ot;const Rt={name:Ue,value:it};this.attribList.push(Rt),(ot=this.attributeHandler)===null||ot===void 0||ot.call(this,Rt)}end(){var Ue,it;this.sawRoot||this.fail("document must contain a root element.");const{tags:ot}=this;for(;ot.length>0;){const zt=ot.pop();this.fail(`unclosed tag: ${zt.name}`)}this.state!==I&&this.state!==$&&this.fail("unexpected end.");const{text:Rt}=this;return Rt.length!==0&&((Ue=this.textHandler)===null||Ue===void 0||Ue.call(this,Rt),this.text=""),this._closed=!0,(it=this.endHandler)===null||it===void 0||it.call(this),this._init(),this}resolve(Ue){var it,ot;let Rt=this.topNS[Ue];if(Rt!==void 0)return Rt;const{tags:zt}=this;for(let gr=zt.length-1;gr>=0;gr--)if(Rt=zt[gr].ns[Ue],Rt!==void 0)return Rt;return Rt=this.ns[Ue],Rt!==void 0?Rt:(ot=(it=this.opt).resolvePrefix)===null||ot===void 0?void 0:ot.call(it,Ue)}qname(Ue){const it=Ue.indexOf(":");if(it===-1)return{prefix:"",local:Ue};const ot=Ue.slice(it+1),Rt=Ue.slice(0,it);return(Rt===""||ot===""||ot.includes(":"))&&this.fail(`malformed name: ${Ue}.`),{prefix:Rt,local:ot}}processAttribsNS(){var Ue;const{attribList:it}=this,ot=this.tag;{const{prefix:gr,local:Gr}=this.qname(ot.name);ot.prefix=gr,ot.local=Gr;const di=ot.uri=(Ue=this.resolve(gr))!==null&&Ue!==void 0?Ue:"";gr!==""&&(gr==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),di===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(gr)}.`),ot.uri=gr))}if(it.length===0)return;const{attributes:Rt}=ot,zt=new Set;for(const gr of it){const{name:Gr,prefix:di,local:gi}=gr;let ci,ti;di===""?(ci=Gr==="xmlns"?E:"",ti=Gr):(ci=this.resolve(di),ci===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(di)}.`),ci=di),ti=`{${ci}}${gi}`),zt.has(ti)&&this.fail(`duplicate attribute: ${ti}.`),zt.add(ti),gr.uri=ci,Rt[Gr]=gr}this.attribList=[]}processAttribsPlain(){const{attribList:Ue}=this,it=this.tag.attributes;for(const{name:ot,value:Rt}of Ue)it[ot]!==void 0&&this.fail(`duplicate attribute: ${ot}.`),it[ot]=Rt;this.attribList=[]}openTag(){var Ue;this.processAttribs();const{tags:it}=this,ot=this.tag;ot.isSelfClosing=!1,(Ue=this.openTagHandler)===null||Ue===void 0||Ue.call(this,ot),it.push(ot),this.state=$,this.name=""}openSelfClosingTag(){var Ue,it,ot;this.processAttribs();const{tags:Rt}=this,zt=this.tag;zt.isSelfClosing=!0,(Ue=this.openTagHandler)===null||Ue===void 0||Ue.call(this,zt),(it=this.closeTagHandler)===null||it===void 0||it.call(this,zt),(this.tag=(ot=Rt[Rt.length-1])!==null&&ot!==void 0?ot:null)===null&&(this.closedRoot=!0),this.state=$,this.name=""}closeTag(){const{tags:Ue,name:it}=this;if(this.state=$,this.name="",it===""){this.fail("weird empty close tag."),this.text+="</>";return}const ot=this.closeTagHandler;let Rt=Ue.length;for(;Rt-- >0;){const zt=this.tag=Ue.pop();if(this.topNS=zt.ns,ot==null||ot(zt),zt.name===it)break;this.fail("unexpected close tag.")}Rt===0?this.closedRoot=!0:Rt<0&&(this.fail(`unmatched closing tag: ${it}.`),this.text+=`</${it}>`)}parseEntity(Ue){if(Ue[0]!=="#"){const ot=this.ENTITIES[Ue];return ot!==void 0?ot:(this.fail(this.isName(Ue)?"undefined entity.":"disallowed character in entity name."),`&${Ue};`)}let it=NaN;return Ue[1]==="x"&&/^#x[0-9a-f]+$/i.test(Ue)?it=parseInt(Ue.slice(2),16):/^#[0-9]+$/.test(Ue)&&(it=parseInt(Ue.slice(1),10)),this.isChar(it)?String.fromCodePoint(it):(this.fail("malformed character entity."),`&${Ue};`)}}g.SaxesParser=or},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,m,g){var f=e("safe-buffer").Buffer;function u(h,s){this._block=f.alloc(h),this._finalSize=s,this._blockSize=h,this._len=0}u.prototype.update=function(h,s){typeof h=="string"&&(s=s||"utf8",h=f.from(h,s));for(var t=this._block,i=this._blockSize,r=h.length,n=this._len,l=0;l<r;){for(var d=n%i,a=Math.min(r-l,i-d),v=0;v<a;v++)t[d+v]=h[l+v];n+=a,l+=a,n%i===0&&this._update(t)}return this._len+=r,this},u.prototype.digest=function(h){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var i=(t&4294967295)>>>0,r=(t-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var n=this._hash();return h?n.toString(h):n},u.prototype._update=function(){throw new Error("_update must be implemented by subclass")},m.exports=u},{"safe-buffer":494}],498:[function(e,m,g){var f=m.exports=function(h){h=h.toLowerCase();var s=f[h];if(!s)throw new Error(h+" is not supported (we accept pull requests)");return new s};f.sha=e("./sha"),f.sha1=e("./sha1"),f.sha224=e("./sha224"),f.sha256=e("./sha256"),f.sha384=e("./sha384"),f.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,m,g){var f=e("inherits"),u=e("./hash"),h=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function i(){this.init(),this._w=t,u.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function r(d){return d<<5|d>>>27}function n(d){return d<<30|d>>>2}function l(d,a,v,y){return d===0?a&v|~a&y:d===2?a&v|a&y|v&y:a^v^y}i.prototype._update=function(d){for(var a=this._w,v=this._a|0,y=this._b|0,p=this._c|0,E=this._d|0,T=this._e|0,S=0;S<16;++S)a[S]=d.readInt32BE(S*4);for(;S<80;++S)a[S]=a[S-3]^a[S-8]^a[S-14]^a[S-16];for(var A=0;A<80;++A){var w=~~(A/20),I=r(v)+l(w,y,p,E)+T+a[A]+s[w]|0;T=E,E=p,p=n(y),y=v,v=I}this._a=v+this._a|0,this._b=y+this._b|0,this._c=p+this._c|0,this._d=E+this._d|0,this._e=T+this._e|0},i.prototype._hash=function(){var d=h.allocUnsafe(20);return d.writeInt32BE(this._a|0,0),d.writeInt32BE(this._b|0,4),d.writeInt32BE(this._c|0,8),d.writeInt32BE(this._d|0,12),d.writeInt32BE(this._e|0,16),d},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,m,g){var f=e("inherits"),u=e("./hash"),h=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function i(){this.init(),this._w=t,u.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function r(a){return a<<1|a>>>31}function n(a){return a<<5|a>>>27}function l(a){return a<<30|a>>>2}function d(a,v,y,p){return a===0?v&y|~v&p:a===2?v&y|v&p|y&p:v^y^p}i.prototype._update=function(a){for(var v=this._w,y=this._a|0,p=this._b|0,E=this._c|0,T=this._d|0,S=this._e|0,A=0;A<16;++A)v[A]=a.readInt32BE(A*4);for(;A<80;++A)v[A]=r(v[A-3]^v[A-8]^v[A-14]^v[A-16]);for(var w=0;w<80;++w){var I=~~(w/20),D=n(y)+d(I,p,E,T)+S+v[w]+s[I]|0;S=T,T=E,E=l(p),p=y,y=D}this._a=y+this._a|0,this._b=p+this._b|0,this._c=E+this._c|0,this._d=T+this._d|0,this._e=S+this._e|0},i.prototype._hash=function(){var a=h.allocUnsafe(20);return a.writeInt32BE(this._a|0,0),a.writeInt32BE(this._b|0,4),a.writeInt32BE(this._c|0,8),a.writeInt32BE(this._d|0,12),a.writeInt32BE(this._e|0,16),a},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,m,g){var f=e("inherits"),u=e("./sha256"),h=e("./hash"),s=e("safe-buffer").Buffer,t=new Array(64);function i(){this.init(),this._w=t,h.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},i.prototype._hash=function(){var r=s.allocUnsafe(28);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r},m.exports=i},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,m,g){var f=e("inherits"),u=e("./hash"),h=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t=new Array(64);function i(){this.init(),this._w=t,u.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function r(y,p,E){return E^y&(p^E)}function n(y,p,E){return y&p|E&(y|p)}function l(y){return(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10)}function d(y){return(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7)}function a(y){return(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3}function v(y){return(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10}i.prototype._update=function(y){for(var p=this._w,E=this._a|0,T=this._b|0,S=this._c|0,A=this._d|0,w=this._e|0,I=this._f|0,D=this._g|0,V=this._h|0,ie=0;ie<16;++ie)p[ie]=y.readInt32BE(ie*4);for(;ie<64;++ie)p[ie]=v(p[ie-2])+p[ie-7]+a(p[ie-15])+p[ie-16]|0;for(var te=0;te<64;++te){var re=V+d(w)+r(w,I,D)+s[te]+p[te]|0,Z=l(E)+n(E,T,S)|0;V=D,D=I,I=w,w=A+re|0,A=S,S=T,T=E,E=re+Z|0}this._a=E+this._a|0,this._b=T+this._b|0,this._c=S+this._c|0,this._d=A+this._d|0,this._e=w+this._e|0,this._f=I+this._f|0,this._g=D+this._g|0,this._h=V+this._h|0},i.prototype._hash=function(){var y=h.allocUnsafe(32);return y.writeInt32BE(this._a,0),y.writeInt32BE(this._b,4),y.writeInt32BE(this._c,8),y.writeInt32BE(this._d,12),y.writeInt32BE(this._e,16),y.writeInt32BE(this._f,20),y.writeInt32BE(this._g,24),y.writeInt32BE(this._h,28),y},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,m,g){var f=e("inherits"),u=e("./sha512"),h=e("./hash"),s=e("safe-buffer").Buffer,t=new Array(160);function i(){this.init(),this._w=t,h.call(this,128,112)}f(i,u),i.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},i.prototype._hash=function(){var r=s.allocUnsafe(48);function n(l,d,a){r.writeInt32BE(l,a),r.writeInt32BE(d,a+4)}return n(this._ah,this._al,0),n(this._bh,this._bl,8),n(this._ch,this._cl,16),n(this._dh,this._dl,24),n(this._eh,this._el,32),n(this._fh,this._fl,40),r},m.exports=i},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,m,g){var f=e("inherits"),u=e("./hash"),h=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],t=new Array(160);function i(){this.init(),this._w=t,u.call(this,128,112)}f(i,u),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function r(T,S,A){return A^T&(S^A)}function n(T,S,A){return T&S|A&(T|S)}function l(T,S){return(T>>>28|S<<4)^(S>>>2|T<<30)^(S>>>7|T<<25)}function d(T,S){return(T>>>14|S<<18)^(T>>>18|S<<14)^(S>>>9|T<<23)}function a(T,S){return(T>>>1|S<<31)^(T>>>8|S<<24)^T>>>7}function v(T,S){return(T>>>1|S<<31)^(T>>>8|S<<24)^(T>>>7|S<<25)}function y(T,S){return(T>>>19|S<<13)^(S>>>29|T<<3)^T>>>6}function p(T,S){return(T>>>19|S<<13)^(S>>>29|T<<3)^(T>>>6|S<<26)}function E(T,S){return T>>>0<S>>>0?1:0}i.prototype._update=function(T){for(var S=this._w,A=this._ah|0,w=this._bh|0,I=this._ch|0,D=this._dh|0,V=this._eh|0,ie=this._fh|0,te=this._gh|0,re=this._hh|0,Z=this._al|0,W=this._bl|0,j=this._cl|0,O=this._dl|0,C=this._el|0,F=this._fl|0,H=this._gl|0,$=this._hl|0,Y=0;Y<32;Y+=2)S[Y]=T.readInt32BE(Y*4),S[Y+1]=T.readInt32BE(Y*4+4);for(;Y<160;Y+=2){var z=S[Y-30],B=S[Y-15*2+1],L=a(z,B),G=v(B,z);z=S[Y-2*2],B=S[Y-2*2+1];var le=y(z,B),ge=p(B,z),Ie=S[Y-7*2],Oe=S[Y-7*2+1],Ke=S[Y-16*2],De=S[Y-16*2+1],Ee=G+Oe|0,Q=L+Ie+E(Ee,G)|0;Ee=Ee+ge|0,Q=Q+le+E(Ee,ge)|0,Ee=Ee+De|0,Q=Q+Ke+E(Ee,De)|0,S[Y]=Q,S[Y+1]=Ee}for(var ue=0;ue<160;ue+=2){Q=S[ue],Ee=S[ue+1];var xe=n(A,w,I),_e=n(Z,W,j),ce=l(A,Z),de=l(Z,A),he=d(V,C),se=d(C,V),ne=s[ue],we=s[ue+1],Ne=r(V,ie,te),ae=r(C,F,H),Pe=$+se|0,ze=re+he+E(Pe,$)|0;Pe=Pe+ae|0,ze=ze+Ne+E(Pe,ae)|0,Pe=Pe+we|0,ze=ze+ne+E(Pe,we)|0,Pe=Pe+Ee|0,ze=ze+Q+E(Pe,Ee)|0;var ve=de+_e|0,Ae=ce+xe+E(ve,de)|0;re=te,$=H,te=ie,H=F,ie=V,F=C,C=O+Pe|0,V=D+ze+E(C,O)|0,D=I,O=j,I=w,j=W,w=A,W=Z,Z=Pe+ve|0,A=ze+Ae+E(Z,Pe)|0}this._al=this._al+Z|0,this._bl=this._bl+W|0,this._cl=this._cl+j|0,this._dl=this._dl+O|0,this._el=this._el+C|0,this._fl=this._fl+F|0,this._gl=this._gl+H|0,this._hl=this._hl+$|0,this._ah=this._ah+A+E(this._al,Z)|0,this._bh=this._bh+w+E(this._bl,W)|0,this._ch=this._ch+I+E(this._cl,j)|0,this._dh=this._dh+D+E(this._dl,O)|0,this._eh=this._eh+V+E(this._el,C)|0,this._fh=this._fh+ie+E(this._fl,F)|0,this._gh=this._gh+te+E(this._gl,H)|0,this._hh=this._hh+re+E(this._hl,$)|0},i.prototype._hash=function(){var T=h.allocUnsafe(64);function S(A,w,I){T.writeInt32BE(A,I),T.writeInt32BE(w,I+4)}return S(this._ah,this._al,0),S(this._bh,this._bl,8),S(this._ch,this._cl,16),S(this._dh,this._dl,24),S(this._eh,this._el,32),S(this._fh,this._fl,40),S(this._gh,this._gl,48),S(this._hh,this._hl,56),T},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,m,g){m.exports=h;var f=e("events").EventEmitter,u=e("inherits");u(h,f),h.Readable=e("readable-stream/readable.js"),h.Writable=e("readable-stream/writable.js"),h.Duplex=e("readable-stream/duplex.js"),h.Transform=e("readable-stream/transform.js"),h.PassThrough=e("readable-stream/passthrough.js"),h.Stream=h;function h(){f.call(this)}h.prototype.pipe=function(s,t){var i=this;function r(p){s.writable&&s.write(p)===!1&&i.pause&&i.pause()}i.on("data",r);function n(){i.readable&&i.resume&&i.resume()}s.on("drain",n),!s._isStdio&&(!t||t.end!==!1)&&(i.on("end",d),i.on("close",a));var l=!1;function d(){l||(l=!0,s.end())}function a(){l||(l=!0,typeof s.destroy=="function"&&s.destroy())}function v(p){if(y(),f.listenerCount(this,"error")===0)throw p}i.on("error",v),s.on("error",v);function y(){i.removeListener("data",r),s.removeListener("drain",n),i.removeListener("end",d),i.removeListener("close",a),i.removeListener("error",v),s.removeListener("error",v),i.removeListener("end",y),i.removeListener("close",y),s.removeListener("close",y)}return i.on("end",y),i.on("close",y),s.on("close",y),s.emit("pipe",i),s}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,m,g){var f={}.toString;m.exports=Array.isArray||function(u){return f.call(u)=="[object Array]"}},{}],507:[function(e,m,g){m.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,m,g){var f=e("process-nextick-args"),u=Object.keys||function(v){var y=[];for(var p in v)y.push(p);return y};m.exports=l;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var s=e("./_stream_readable"),t=e("./_stream_writable");h.inherits(l,s);for(var i=u(t.prototype),r=0;r<i.length;r++){var n=i[r];l.prototype[n]||(l.prototype[n]=t.prototype[n])}function l(v){if(!(this instanceof l))return new l(v);s.call(this,v),t.call(this,v),v&&v.readable===!1&&(this.readable=!1),v&&v.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,v&&v.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(){this.allowHalfOpen||this._writableState.ended||f.nextTick(a,this)}function a(v){v.end()}Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),l.prototype._destroy=function(v,y){this.push(null),this.end(),f.nextTick(y,v)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,m,g){m.exports=h;var f=e("./_stream_transform"),u=Object.create(e("core-util-is"));u.inherits=e("inherits"),u.inherits(h,f);function h(s){if(!(this instanceof h))return new h(s);f.call(this,s)}h.prototype._transform=function(s,t,i){i(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,m,g){(function(f,u){(function(){var h=e("process-nextick-args");m.exports=D;var s=e("isarray"),t;D.ReadableState=I,e("events").EventEmitter;var i=function(Q,ue){return Q.listeners(ue).length},r=e("./internal/streams/stream"),n=e("safe-buffer").Buffer,l=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(Q){return n.from(Q)}function a(Q){return n.isBuffer(Q)||Q instanceof l}var v=Object.create(e("core-util-is"));v.inherits=e("inherits");var y=e("util"),p=void 0;y&&y.debuglog?p=y.debuglog("stream"):p=function(){};var E=e("./internal/streams/BufferList"),T=e("./internal/streams/destroy"),S;v.inherits(D,r);var A=["error","close","destroy","pause","resume"];function w(Q,ue,xe){if(typeof Q.prependListener=="function")return Q.prependListener(ue,xe);!Q._events||!Q._events[ue]?Q.on(ue,xe):s(Q._events[ue])?Q._events[ue].unshift(xe):Q._events[ue]=[xe,Q._events[ue]]}function I(Q,ue){t=t||e("./_stream_duplex"),Q=Q||{};var xe=ue instanceof t;this.objectMode=!!Q.objectMode,xe&&(this.objectMode=this.objectMode||!!Q.readableObjectMode);var _e=Q.highWaterMark,ce=Q.readableHighWaterMark,de=this.objectMode?16:16*1024;_e||_e===0?this.highWaterMark=_e:xe&&(ce||ce===0)?this.highWaterMark=ce:this.highWaterMark=de,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(S||(S=e("string_decoder/").StringDecoder),this.decoder=new S(Q.encoding),this.encoding=Q.encoding)}function D(Q){if(t=t||e("./_stream_duplex"),!(this instanceof D))return new D(Q);this._readableState=new I(Q,this),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Q){this._readableState&&(this._readableState.destroyed=Q)}}),D.prototype.destroy=T.destroy,D.prototype._undestroy=T.undestroy,D.prototype._destroy=function(Q,ue){this.push(null),ue(Q)},D.prototype.push=function(Q,ue){var xe=this._readableState,_e;return xe.objectMode?_e=!0:typeof Q=="string"&&(ue=ue||xe.defaultEncoding,ue!==xe.encoding&&(Q=n.from(Q,ue),ue=""),_e=!0),V(this,Q,ue,!1,_e)},D.prototype.unshift=function(Q){return V(this,Q,null,!0,!1)};function V(Q,ue,xe,_e,ce){var de=Q._readableState;if(ue===null)de.reading=!1,O(Q,de);else{var he;ce||(he=te(de,ue)),he?Q.emit("error",he):de.objectMode||ue&&ue.length>0?(typeof ue!="string"&&!de.objectMode&&Object.getPrototypeOf(ue)!==n.prototype&&(ue=d(ue)),_e?de.endEmitted?Q.emit("error",new Error("stream.unshift() after end event")):ie(Q,de,ue,!0):de.ended?Q.emit("error",new Error("stream.push() after EOF")):(de.reading=!1,de.decoder&&!xe?(ue=de.decoder.write(ue),de.objectMode||ue.length!==0?ie(Q,de,ue,!1):H(Q,de)):ie(Q,de,ue,!1))):_e||(de.reading=!1)}return re(de)}function ie(Q,ue,xe,_e){ue.flowing&&ue.length===0&&!ue.sync?(Q.emit("data",xe),Q.read(0)):(ue.length+=ue.objectMode?1:xe.length,_e?ue.buffer.unshift(xe):ue.buffer.push(xe),ue.needReadable&&C(Q)),H(Q,ue)}function te(Q,ue){var xe;return!a(ue)&&typeof ue!="string"&&ue!==void 0&&!Q.objectMode&&(xe=new TypeError("Invalid non-string/buffer chunk")),xe}function re(Q){return!Q.ended&&(Q.needReadable||Q.length<Q.highWaterMark||Q.length===0)}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(Q){return S||(S=e("string_decoder/").StringDecoder),this._readableState.decoder=new S(Q),this._readableState.encoding=Q,this};var Z=8388608;function W(Q){return Q>=Z?Q=Z:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function j(Q,ue){return Q<=0||ue.length===0&&ue.ended?0:ue.objectMode?1:Q!==Q?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(Q>ue.highWaterMark&&(ue.highWaterMark=W(Q)),Q<=ue.length?Q:ue.ended?ue.length:(ue.needReadable=!0,0))}D.prototype.read=function(Q){p("read",Q),Q=parseInt(Q,10);var ue=this._readableState,xe=Q;if(Q!==0&&(ue.emittedReadable=!1),Q===0&&ue.needReadable&&(ue.length>=ue.highWaterMark||ue.ended))return p("read: emitReadable",ue.length,ue.ended),ue.length===0&&ue.ended?Ke(this):C(this),null;if(Q=j(Q,ue),Q===0&&ue.ended)return ue.length===0&&Ke(this),null;var _e=ue.needReadable;p("need readable",_e),(ue.length===0||ue.length-Q<ue.highWaterMark)&&(_e=!0,p("length less than watermark",_e)),ue.ended||ue.reading?(_e=!1,p("reading or ended",_e)):_e&&(p("do read"),ue.reading=!0,ue.sync=!0,ue.length===0&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(Q=j(xe,ue)));var ce;return Q>0?ce=le(Q,ue):ce=null,ce===null?(ue.needReadable=!0,Q=0):ue.length-=Q,ue.length===0&&(ue.ended||(ue.needReadable=!0),xe!==Q&&ue.ended&&Ke(this)),ce!==null&&this.emit("data",ce),ce};function O(Q,ue){if(!ue.ended){if(ue.decoder){var xe=ue.decoder.end();xe&&xe.length&&(ue.buffer.push(xe),ue.length+=ue.objectMode?1:xe.length)}ue.ended=!0,C(Q)}}function C(Q){var ue=Q._readableState;ue.needReadable=!1,ue.emittedReadable||(p("emitReadable",ue.flowing),ue.emittedReadable=!0,ue.sync?h.nextTick(F,Q):F(Q))}function F(Q){p("emit readable"),Q.emit("readable"),G(Q)}function H(Q,ue){ue.readingMore||(ue.readingMore=!0,h.nextTick($,Q,ue))}function $(Q,ue){for(var xe=ue.length;!ue.reading&&!ue.flowing&&!ue.ended&&ue.length<ue.highWaterMark&&(p("maybeReadMore read 0"),Q.read(0),xe!==ue.length);)xe=ue.length;ue.readingMore=!1}D.prototype._read=function(Q){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(Q,ue){var xe=this,_e=this._readableState;switch(_e.pipesCount){case 0:_e.pipes=Q;break;case 1:_e.pipes=[_e.pipes,Q];break;default:_e.pipes.push(Q);break}_e.pipesCount+=1,p("pipe count=%d opts=%j",_e.pipesCount,ue);var ce=(!ue||ue.end!==!1)&&Q!==f.stdout&&Q!==f.stderr,de=ce?se:Be;_e.endEmitted?h.nextTick(de):xe.once("end",de),Q.on("unpipe",he);function he(We,Je){p("onunpipe"),We===xe&&Je&&Je.hasUnpiped===!1&&(Je.hasUnpiped=!0,Ne())}function se(){p("onend"),Q.end()}var ne=Y(xe);Q.on("drain",ne);var we=!1;function Ne(){p("cleanup"),Q.removeListener("close",ve),Q.removeListener("finish",Ae),Q.removeListener("drain",ne),Q.removeListener("error",ze),Q.removeListener("unpipe",he),xe.removeListener("end",se),xe.removeListener("end",Be),xe.removeListener("data",Pe),we=!0,_e.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&ne()}var ae=!1;xe.on("data",Pe);function Pe(We){p("ondata"),ae=!1;var Je=Q.write(We);Je===!1&&!ae&&((_e.pipesCount===1&&_e.pipes===Q||_e.pipesCount>1&&Ee(_e.pipes,Q)!==-1)&&!we&&(p("false write response, pause",_e.awaitDrain),_e.awaitDrain++,ae=!0),xe.pause())}function ze(We){p("onerror",We),Be(),Q.removeListener("error",ze),i(Q,"error")===0&&Q.emit("error",We)}w(Q,"error",ze);function ve(){Q.removeListener("finish",Ae),Be()}Q.once("close",ve);function Ae(){p("onfinish"),Q.removeListener("close",ve),Be()}Q.once("finish",Ae);function Be(){p("unpipe"),xe.unpipe(Q)}return Q.emit("pipe",xe),_e.flowing||(p("pipe resume"),xe.resume()),Q};function Y(Q){return function(){var ue=Q._readableState;p("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&i(Q,"data")&&(ue.flowing=!0,G(Q))}}D.prototype.unpipe=function(Q){var ue=this._readableState,xe={hasUnpiped:!1};if(ue.pipesCount===0)return this;if(ue.pipesCount===1)return Q&&Q!==ue.pipes?this:(Q||(Q=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,Q&&Q.emit("unpipe",this,xe),this);if(!Q){var _e=ue.pipes,ce=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var de=0;de<ce;de++)_e[de].emit("unpipe",this,{hasUnpiped:!1});return this}var he=Ee(ue.pipes,Q);return he===-1?this:(ue.pipes.splice(he,1),ue.pipesCount-=1,ue.pipesCount===1&&(ue.pipes=ue.pipes[0]),Q.emit("unpipe",this,xe),this)},D.prototype.on=function(Q,ue){var xe=r.prototype.on.call(this,Q,ue);if(Q==="data")this._readableState.flowing!==!1&&this.resume();else if(Q==="readable"){var _e=this._readableState;!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.emittedReadable=!1,_e.reading?_e.length&&C(this):h.nextTick(z,this))}return xe},D.prototype.addListener=D.prototype.on;function z(Q){p("readable nexttick read 0"),Q.read(0)}D.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(p("resume"),Q.flowing=!0,B(this,Q)),this};function B(Q,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,h.nextTick(L,Q,ue))}function L(Q,ue){ue.reading||(p("resume read 0"),Q.read(0)),ue.resumeScheduled=!1,ue.awaitDrain=0,Q.emit("resume"),G(Q),ue.flowing&&!ue.reading&&Q.read(0)}D.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function G(Q){var ue=Q._readableState;for(p("flow",ue.flowing);ue.flowing&&Q.read()!==null;);}D.prototype.wrap=function(Q){var ue=this,xe=this._readableState,_e=!1;Q.on("end",function(){if(p("wrapped end"),xe.decoder&&!xe.ended){var he=xe.decoder.end();he&&he.length&&ue.push(he)}ue.push(null)}),Q.on("data",function(he){if(p("wrapped data"),xe.decoder&&(he=xe.decoder.write(he)),!(xe.objectMode&&he==null)&&!(!xe.objectMode&&(!he||!he.length))){var se=ue.push(he);se||(_e=!0,Q.pause())}});for(var ce in Q)this[ce]===void 0&&typeof Q[ce]=="function"&&(this[ce]=function(he){return function(){return Q[he].apply(Q,arguments)}}(ce));for(var de=0;de<A.length;de++)Q.on(A[de],this.emit.bind(this,A[de]));return this._read=function(he){p("wrapped _read",he),_e&&(_e=!1,Q.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=le;function le(Q,ue){if(ue.length===0)return null;var xe;return ue.objectMode?xe=ue.buffer.shift():!Q||Q>=ue.length?(ue.decoder?xe=ue.buffer.join(""):ue.buffer.length===1?xe=ue.buffer.head.data:xe=ue.buffer.concat(ue.length),ue.buffer.clear()):xe=ge(Q,ue.buffer,ue.decoder),xe}function ge(Q,ue,xe){var _e;return Q<ue.head.data.length?(_e=ue.head.data.slice(0,Q),ue.head.data=ue.head.data.slice(Q)):Q===ue.head.data.length?_e=ue.shift():_e=xe?Ie(Q,ue):Oe(Q,ue),_e}function Ie(Q,ue){var xe=ue.head,_e=1,ce=xe.data;for(Q-=ce.length;xe=xe.next;){var de=xe.data,he=Q>de.length?de.length:Q;if(he===de.length?ce+=de:ce+=de.slice(0,Q),Q-=he,Q===0){he===de.length?(++_e,xe.next?ue.head=xe.next:ue.head=ue.tail=null):(ue.head=xe,xe.data=de.slice(he));break}++_e}return ue.length-=_e,ce}function Oe(Q,ue){var xe=n.allocUnsafe(Q),_e=ue.head,ce=1;for(_e.data.copy(xe),Q-=_e.data.length;_e=_e.next;){var de=_e.data,he=Q>de.length?de.length:Q;if(de.copy(xe,xe.length-Q,0,he),Q-=he,Q===0){he===de.length?(++ce,_e.next?ue.head=_e.next:ue.head=ue.tail=null):(ue.head=_e,_e.data=de.slice(he));break}++ce}return ue.length-=ce,xe}function Ke(Q){var ue=Q._readableState;if(ue.length>0)throw new Error('"endReadable()" called on non-empty stream');ue.endEmitted||(ue.ended=!0,h.nextTick(De,ue,Q))}function De(Q,ue){!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,ue.readable=!1,ue.emit("end"))}function Ee(Q,ue){for(var xe=0,_e=Q.length;xe<_e;xe++)if(Q[xe]===ue)return xe;return-1}}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,m,g){m.exports=s;var f=e("./_stream_duplex"),u=Object.create(e("core-util-is"));u.inherits=e("inherits"),u.inherits(s,f);function h(r,n){var l=this._transformState;l.transforming=!1;var d=l.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,n!=null&&this.push(n),d(r);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function s(r){if(!(this instanceof s))return new s(r);f.call(this,r),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",t)}function t(){var r=this;typeof this._flush=="function"?this._flush(function(n,l){i(r,n,l)}):i(this,null,null)}s.prototype.push=function(r,n){return this._transformState.needTransform=!1,f.prototype.push.call(this,r,n)},s.prototype._transform=function(r,n,l){throw new Error("_transform() is not implemented")},s.prototype._write=function(r,n,l){var d=this._transformState;if(d.writecb=l,d.writechunk=r,d.writeencoding=n,!d.transforming){var a=this._readableState;(d.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},s.prototype._read=function(r){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},s.prototype._destroy=function(r,n){var l=this;f.prototype._destroy.call(this,r,function(d){n(d),l.emit("close")})};function i(r,n,l){if(n)return r.emit("error",n);if(l!=null&&r.push(l),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,m,g){(function(f,u,h){(function(){var s=e("process-nextick-args");m.exports=w;function t(L){var G=this;this.next=null,this.entry=null,this.finish=function(){B(G,L)}}var i=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?h:s.nextTick,r;w.WritableState=S;var n=Object.create(e("core-util-is"));n.inherits=e("inherits");var l={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),a=e("safe-buffer").Buffer,v=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(L){return a.from(L)}function p(L){return a.isBuffer(L)||L instanceof v}var E=e("./internal/streams/destroy");n.inherits(w,d);function T(){}function S(L,G){r=r||e("./_stream_duplex"),L=L||{};var le=G instanceof r;this.objectMode=!!L.objectMode,le&&(this.objectMode=this.objectMode||!!L.writableObjectMode);var ge=L.highWaterMark,Ie=L.writableHighWaterMark,Oe=this.objectMode?16:16*1024;ge||ge===0?this.highWaterMark=ge:le&&(Ie||Ie===0)?this.highWaterMark=Ie:this.highWaterMark=Oe,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ke=L.decodeStrings===!1;this.decodeStrings=!Ke,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(De){W(G,De)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}S.prototype.getBuffer=function(){for(var G=this.bufferedRequest,le=[];G;)le.push(G),G=G.next;return le},function(){try{Object.defineProperty(S.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(L){return A.call(this,L)?!0:this!==w?!1:L&&L._writableState instanceof S}})):A=function(L){return L instanceof this};function w(L){if(r=r||e("./_stream_duplex"),!A.call(w,this)&&!(this instanceof r))return new w(L);this._writableState=new S(L,this),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),d.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function I(L,G){var le=new Error("write after end");L.emit("error",le),s.nextTick(G,le)}function D(L,G,le,ge){var Ie=!0,Oe=!1;return le===null?Oe=new TypeError("May not write null values to stream"):typeof le!="string"&&le!==void 0&&!G.objectMode&&(Oe=new TypeError("Invalid non-string/buffer chunk")),Oe&&(L.emit("error",Oe),s.nextTick(ge,Oe),Ie=!1),Ie}w.prototype.write=function(L,G,le){var ge=this._writableState,Ie=!1,Oe=!ge.objectMode&&p(L);return Oe&&!a.isBuffer(L)&&(L=y(L)),typeof G=="function"&&(le=G,G=null),Oe?G="buffer":G||(G=ge.defaultEncoding),typeof le!="function"&&(le=T),ge.ended?I(this,le):(Oe||D(this,ge,L,le))&&(ge.pendingcb++,Ie=ie(this,ge,Oe,L,G,le)),Ie},w.prototype.cork=function(){var L=this._writableState;L.corked++},w.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,!L.writing&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&C(this,L))},w.prototype.setDefaultEncoding=function(G){if(typeof G=="string"&&(G=G.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((G+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+G);return this._writableState.defaultEncoding=G,this};function V(L,G,le){return!L.objectMode&&L.decodeStrings!==!1&&typeof G=="string"&&(G=a.from(G,le)),G}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ie(L,G,le,ge,Ie,Oe){if(!le){var Ke=V(G,ge,Ie);ge!==Ke&&(le=!0,Ie="buffer",ge=Ke)}var De=G.objectMode?1:ge.length;G.length+=De;var Ee=G.length<G.highWaterMark;if(Ee||(G.needDrain=!0),G.writing||G.corked){var Q=G.lastBufferedRequest;G.lastBufferedRequest={chunk:ge,encoding:Ie,isBuf:le,callback:Oe,next:null},Q?Q.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else te(L,G,!1,De,ge,Ie,Oe);return Ee}function te(L,G,le,ge,Ie,Oe,Ke){G.writelen=ge,G.writecb=Ke,G.writing=!0,G.sync=!0,le?L._writev(Ie,G.onwrite):L._write(Ie,Oe,G.onwrite),G.sync=!1}function re(L,G,le,ge,Ie){--G.pendingcb,le?(s.nextTick(Ie,ge),s.nextTick(Y,L,G),L._writableState.errorEmitted=!0,L.emit("error",ge)):(Ie(ge),L._writableState.errorEmitted=!0,L.emit("error",ge),Y(L,G))}function Z(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}function W(L,G){var le=L._writableState,ge=le.sync,Ie=le.writecb;if(Z(le),G)re(L,le,ge,G,Ie);else{var Oe=F(le);!Oe&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&C(L,le),ge?i(j,L,le,Oe,Ie):j(L,le,Oe,Ie)}}function j(L,G,le,ge){le||O(L,G),G.pendingcb--,ge(),Y(L,G)}function O(L,G){G.length===0&&G.needDrain&&(G.needDrain=!1,L.emit("drain"))}function C(L,G){G.bufferProcessing=!0;var le=G.bufferedRequest;if(L._writev&&le&&le.next){var ge=G.bufferedRequestCount,Ie=new Array(ge),Oe=G.corkedRequestsFree;Oe.entry=le;for(var Ke=0,De=!0;le;)Ie[Ke]=le,le.isBuf||(De=!1),le=le.next,Ke+=1;Ie.allBuffers=De,te(L,G,!0,G.length,Ie,"",Oe.finish),G.pendingcb++,G.lastBufferedRequest=null,Oe.next?(G.corkedRequestsFree=Oe.next,Oe.next=null):G.corkedRequestsFree=new t(G),G.bufferedRequestCount=0}else{for(;le;){var Ee=le.chunk,Q=le.encoding,ue=le.callback,xe=G.objectMode?1:Ee.length;if(te(L,G,!1,xe,Ee,Q,ue),le=le.next,G.bufferedRequestCount--,G.writing)break}le===null&&(G.lastBufferedRequest=null)}G.bufferedRequest=le,G.bufferProcessing=!1}w.prototype._write=function(L,G,le){le(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(L,G,le){var ge=this._writableState;typeof L=="function"?(le=L,L=null,G=null):typeof G=="function"&&(le=G,G=null),L!=null&&this.write(L,G),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||z(this,ge,le)};function F(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function H(L,G){L._final(function(le){G.pendingcb--,le&&L.emit("error",le),G.prefinished=!0,L.emit("prefinish"),Y(L,G)})}function $(L,G){!G.prefinished&&!G.finalCalled&&(typeof L._final=="function"?(G.pendingcb++,G.finalCalled=!0,s.nextTick(H,L,G)):(G.prefinished=!0,L.emit("prefinish")))}function Y(L,G){var le=F(G);return le&&($(L,G),G.pendingcb===0&&(G.finished=!0,L.emit("finish"))),le}function z(L,G,le){G.ending=!0,Y(L,G),le&&(G.finished?s.nextTick(le):L.once("finish",le)),G.ended=!0,L.writable=!1}function B(L,G,le){var ge=L.entry;for(L.entry=null;ge;){var Ie=ge.callback;G.pendingcb--,Ie(le),ge=ge.next}G.corkedRequestsFree.next=L}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),w.prototype.destroy=E.destroy,w.prototype._undestroy=E.undestroy,w.prototype._destroy=function(L,G){this.end(),G(L)}}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,m,g){function f(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var u=e("safe-buffer").Buffer,h=e("util");function s(t,i,r){t.copy(i,r)}m.exports=function(){function t(){f(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,l=""+n.data;n=n.next;)l+=r+n.data;return l},t.prototype.concat=function(r){if(this.length===0)return u.alloc(0);for(var n=u.allocUnsafe(r>>>0),l=this.head,d=0;l;)s(l.data,n,d),d+=l.data.length,l=l.next;return n},t}(),h&&h.inspect&&h.inspect.custom&&(m.exports.prototype[h.inspect.custom]=function(){var t=h.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":520,util:188}],514:[function(e,m,g){var f=e("process-nextick-args");function u(t,i){var r=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(s,this,t)):f.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(d){!i&&d?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,f.nextTick(s,r,d)):f.nextTick(s,r,d):i&&i(d)}),this)}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,i){t.emit("error",i)}m.exports={destroy:u,undestroy:h}},{"process-nextick-args":466}],515:[function(e,m,g){arguments[4][490][0].apply(g,arguments)},{dup:490,events:422}],516:[function(e,m,g){m.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,m,g){g=m.exports=e("./lib/_stream_readable.js"),g.Stream=g,g.Readable=g,g.Writable=e("./lib/_stream_writable.js"),g.Duplex=e("./lib/_stream_duplex.js"),g.Transform=e("./lib/_stream_transform.js"),g.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,m,g){m.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,m,g){m.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,m,g){arguments[4][217][0].apply(g,arguments)},{buffer:220,dup:217}],521:[function(e,m,g){arguments[4][218][0].apply(g,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,m,g){arguments[4][218][0].apply(g,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,m,g){(function(f,u){(function(){var h=e("process/browser.js").nextTick,s=Function.prototype.apply,t=Array.prototype.slice,i={},r=0;g.setTimeout=function(){return new n(s.call(setTimeout,window,arguments),clearTimeout)},g.setInterval=function(){return new n(s.call(setInterval,window,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(l){l.close()};function n(l,d){this._id=l,this._clearFn=d}n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},g.enroll=function(l,d){clearTimeout(l._idleTimeoutId),l._idleTimeout=d},g.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},g._unrefActive=g.active=function(l){clearTimeout(l._idleTimeoutId);var d=l._idleTimeout;d>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},d))},g.setImmediate=typeof f=="function"?f:function(l){var d=r++,a=arguments.length<2?!1:t.call(arguments,1);return i[d]=!0,h(function(){i[d]&&(a?l.apply(null,a):l.call(null),g.clearImmediate(d))}),d},g.clearImmediate=typeof u=="function"?u:function(l){delete i[l]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,m,g){(function(f){(function(){m.exports=u;function u(s,t){if(h("noDeprecation"))return s;var i=!1;function r(){if(!i){if(h("throwDeprecation"))throw new Error(t);h("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return s.apply(this,arguments)}return r}function h(s){try{if(!f.localStorage)return!1}catch{return!1}var t=f.localStorage[s];return t==null?!1:String(t).toLowerCase()==="true"}}).call(this)}).call(this,typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,m,g){typeof Object.create=="function"?m.exports=function(u,h){u.super_=h,u.prototype=Object.create(h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(u,h){u.super_=h;var s=function(){};s.prototype=h.prototype,u.prototype=new s,u.prototype.constructor=u}},{}],526:[function(e,m,g){m.exports=function(u){return u&&typeof u=="object"&&typeof u.copy=="function"&&typeof u.fill=="function"&&typeof u.readUInt8=="function"}},{}],527:[function(e,m,g){(function(f,u){(function(){var h=/%[sdj%]/g;g.format=function(z){if(!D(z)){for(var B=[],L=0;L<arguments.length;L++)B.push(i(arguments[L]));return B.join(" ")}for(var L=1,G=arguments,le=G.length,ge=String(z).replace(h,function(Oe){if(Oe==="%%")return"%";if(L>=le)return Oe;switch(Oe){case"%s":return String(G[L++]);case"%d":return Number(G[L++]);case"%j":try{return JSON.stringify(G[L++])}catch{return"[Circular]"}default:return Oe}}),Ie=G[L];L<le;Ie=G[++L])A(Ie)||!re(Ie)?ge+=" "+Ie:ge+=" "+i(Ie);return ge},g.deprecate=function(z,B){if(ie(u.process))return function(){return g.deprecate(z,B).apply(this,arguments)};if(f.noDeprecation===!0)return z;var L=!1;function G(){if(!L){if(f.throwDeprecation)throw new Error(B);f.traceDeprecation?console.trace(B):console.error(B),L=!0}return z.apply(this,arguments)}return G};var s={},t;g.debuglog=function(z){if(ie(t)&&(t=f.env.NODE_DEBUG||""),z=z.toUpperCase(),!s[z])if(new RegExp("\\b"+z+"\\b","i").test(t)){var B=f.pid;s[z]=function(){var L=g.format.apply(g,arguments);console.error("%s %d: %s",z,B,L)}}else s[z]=function(){};return s[z]};function i(z,B){var L={seen:[],stylize:n};return arguments.length>=3&&(L.depth=arguments[2]),arguments.length>=4&&(L.colors=arguments[3]),S(B)?L.showHidden=B:B&&g._extend(L,B),ie(L.showHidden)&&(L.showHidden=!1),ie(L.depth)&&(L.depth=2),ie(L.colors)&&(L.colors=!1),ie(L.customInspect)&&(L.customInspect=!0),L.colors&&(L.stylize=r),d(L,z,L.depth)}g.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(z,B){var L=i.styles[B];return L?"\x1B["+i.colors[L][0]+"m"+z+"\x1B["+i.colors[L][1]+"m":z}function n(z,B){return z}function l(z){var B={};return z.forEach(function(L,G){B[L]=!0}),B}function d(z,B,L){if(z.customInspect&&B&&j(B.inspect)&&B.inspect!==g.inspect&&!(B.constructor&&B.constructor.prototype===B)){var G=B.inspect(L,z);return D(G)||(G=d(z,G,L)),G}var le=a(z,B);if(le)return le;var ge=Object.keys(B),Ie=l(ge);if(z.showHidden&&(ge=Object.getOwnPropertyNames(B)),W(B)&&(ge.indexOf("message")>=0||ge.indexOf("description")>=0))return v(B);if(ge.length===0){if(j(B)){var Oe=B.name?": "+B.name:"";return z.stylize("[Function"+Oe+"]","special")}if(te(B))return z.stylize(RegExp.prototype.toString.call(B),"regexp");if(Z(B))return z.stylize(Date.prototype.toString.call(B),"date");if(W(B))return v(B)}var Ke="",De=!1,Ee=["{","}"];if(T(B)&&(De=!0,Ee=["[","]"]),j(B)){var Q=B.name?": "+B.name:"";Ke=" [Function"+Q+"]"}if(te(B)&&(Ke=" "+RegExp.prototype.toString.call(B)),Z(B)&&(Ke=" "+Date.prototype.toUTCString.call(B)),W(B)&&(Ke=" "+v(B)),ge.length===0&&(!De||B.length==0))return Ee[0]+Ke+Ee[1];if(L<0)return te(B)?z.stylize(RegExp.prototype.toString.call(B),"regexp"):z.stylize("[Object]","special");z.seen.push(B);var ue;return De?ue=y(z,B,L,Ie,ge):ue=ge.map(function(xe){return p(z,B,L,Ie,xe,De)}),z.seen.pop(),E(ue,Ke,Ee)}function a(z,B){if(ie(B))return z.stylize("undefined","undefined");if(D(B)){var L="'"+JSON.stringify(B).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(L,"string")}if(I(B))return z.stylize(""+B,"number");if(S(B))return z.stylize(""+B,"boolean");if(A(B))return z.stylize("null","null")}function v(z){return"["+Error.prototype.toString.call(z)+"]"}function y(z,B,L,G,le){for(var ge=[],Ie=0,Oe=B.length;Ie<Oe;++Ie)Y(B,String(Ie))?ge.push(p(z,B,L,G,String(Ie),!0)):ge.push("");return le.forEach(function(Ke){Ke.match(/^\d+$/)||ge.push(p(z,B,L,G,Ke,!0))}),ge}function p(z,B,L,G,le,ge){var Ie,Oe,Ke;if(Ke=Object.getOwnPropertyDescriptor(B,le)||{value:B[le]},Ke.get?Ke.set?Oe=z.stylize("[Getter/Setter]","special"):Oe=z.stylize("[Getter]","special"):Ke.set&&(Oe=z.stylize("[Setter]","special")),Y(G,le)||(Ie="["+le+"]"),Oe||(z.seen.indexOf(Ke.value)<0?(A(L)?Oe=d(z,Ke.value,null):Oe=d(z,Ke.value,L-1),Oe.indexOf(`
`)>-1&&(ge?Oe=Oe.split(`
`).map(function(De){return"  "+De}).join(`
`).substr(2):Oe=`
`+Oe.split(`
`).map(function(De){return"   "+De}).join(`
`))):Oe=z.stylize("[Circular]","special")),ie(Ie)){if(ge&&le.match(/^\d+$/))return Oe;Ie=JSON.stringify(""+le),Ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ie=Ie.substr(1,Ie.length-2),Ie=z.stylize(Ie,"name")):(Ie=Ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ie=z.stylize(Ie,"string"))}return Ie+": "+Oe}function E(z,B,L){var G=z.reduce(function(le,ge){return ge.indexOf(`
`)>=0,le+ge.replace(/\u001b\[\d\d?m/g,"").length+1},0);return G>60?L[0]+(B===""?"":B+`
 `)+" "+z.join(`,
  `)+" "+L[1]:L[0]+B+" "+z.join(", ")+" "+L[1]}function T(z){return Array.isArray(z)}g.isArray=T;function S(z){return typeof z=="boolean"}g.isBoolean=S;function A(z){return z===null}g.isNull=A;function w(z){return z==null}g.isNullOrUndefined=w;function I(z){return typeof z=="number"}g.isNumber=I;function D(z){return typeof z=="string"}g.isString=D;function V(z){return typeof z=="symbol"}g.isSymbol=V;function ie(z){return z===void 0}g.isUndefined=ie;function te(z){return re(z)&&C(z)==="[object RegExp]"}g.isRegExp=te;function re(z){return typeof z=="object"&&z!==null}g.isObject=re;function Z(z){return re(z)&&C(z)==="[object Date]"}g.isDate=Z;function W(z){return re(z)&&(C(z)==="[object Error]"||z instanceof Error)}g.isError=W;function j(z){return typeof z=="function"}g.isFunction=j;function O(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}g.isPrimitive=O,g.isBuffer=e("./support/isBuffer");function C(z){return Object.prototype.toString.call(z)}function F(z){return z<10?"0"+z.toString(10):z.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $(){var z=new Date,B=[F(z.getHours()),F(z.getMinutes()),F(z.getSeconds())].join(":");return[z.getDate(),H[z.getMonth()],B].join(" ")}g.log=function(){console.log("%s - %s",$(),g.format.apply(g,arguments))},g.inherits=e("inherits"),g._extend=function(z,B){if(!B||!re(B))return z;for(var L=Object.keys(B),G=L.length;G--;)z[L[G]]=B[L[G]];return z};function Y(z,B){return Object.prototype.hasOwnProperty.call(z,B)}}).call(this)}).call(this,e("_process"),typeof br<"u"?br:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(g,"v1",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(g,"v3",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(g,"v4",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(g,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(g,"NIL",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(g,"version",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(g,"validate",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(g,"stringify",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return l.default}});var f=d(e("./v1.js")),u=d(e("./v3.js")),h=d(e("./v4.js")),s=d(e("./v5.js")),t=d(e("./nil.js")),i=d(e("./version.js")),r=d(e("./validate.js")),n=d(e("./stringify.js")),l=d(e("./parse.js"));function d(a){return a&&a.__esModule?a:{default:a}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;function f(p){if(typeof p=="string"){const E=unescape(encodeURIComponent(p));p=new Uint8Array(E.length);for(let T=0;T<E.length;++T)p[T]=E.charCodeAt(T)}return u(s(t(p),p.length*8))}function u(p){const E=[],T=p.length*32,S="0123456789abcdef";for(let A=0;A<T;A+=8){const w=p[A>>5]>>>A%32&255,I=parseInt(S.charAt(w>>>4&15)+S.charAt(w&15),16);E.push(I)}return E}function h(p){return(p+64>>>9<<4)+14+1}function s(p,E){p[E>>5]|=128<<E%32,p[h(E)-1]=E;let T=1732584193,S=-271733879,A=-1732584194,w=271733878;for(let I=0;I<p.length;I+=16){const D=T,V=S,ie=A,te=w;T=l(T,S,A,w,p[I],7,-680876936),w=l(w,T,S,A,p[I+1],12,-389564586),A=l(A,w,T,S,p[I+2],17,606105819),S=l(S,A,w,T,p[I+3],22,-1044525330),T=l(T,S,A,w,p[I+4],7,-176418897),w=l(w,T,S,A,p[I+5],12,1200080426),A=l(A,w,T,S,p[I+6],17,-1473231341),S=l(S,A,w,T,p[I+7],22,-45705983),T=l(T,S,A,w,p[I+8],7,1770035416),w=l(w,T,S,A,p[I+9],12,-1958414417),A=l(A,w,T,S,p[I+10],17,-42063),S=l(S,A,w,T,p[I+11],22,-1990404162),T=l(T,S,A,w,p[I+12],7,1804603682),w=l(w,T,S,A,p[I+13],12,-40341101),A=l(A,w,T,S,p[I+14],17,-1502002290),S=l(S,A,w,T,p[I+15],22,1236535329),T=d(T,S,A,w,p[I+1],5,-165796510),w=d(w,T,S,A,p[I+6],9,-1069501632),A=d(A,w,T,S,p[I+11],14,643717713),S=d(S,A,w,T,p[I],20,-373897302),T=d(T,S,A,w,p[I+5],5,-701558691),w=d(w,T,S,A,p[I+10],9,38016083),A=d(A,w,T,S,p[I+15],14,-660478335),S=d(S,A,w,T,p[I+4],20,-405537848),T=d(T,S,A,w,p[I+9],5,568446438),w=d(w,T,S,A,p[I+14],9,-1019803690),A=d(A,w,T,S,p[I+3],14,-187363961),S=d(S,A,w,T,p[I+8],20,1163531501),T=d(T,S,A,w,p[I+13],5,-1444681467),w=d(w,T,S,A,p[I+2],9,-51403784),A=d(A,w,T,S,p[I+7],14,1735328473),S=d(S,A,w,T,p[I+12],20,-1926607734),T=a(T,S,A,w,p[I+5],4,-378558),w=a(w,T,S,A,p[I+8],11,-2022574463),A=a(A,w,T,S,p[I+11],16,1839030562),S=a(S,A,w,T,p[I+14],23,-35309556),T=a(T,S,A,w,p[I+1],4,-1530992060),w=a(w,T,S,A,p[I+4],11,1272893353),A=a(A,w,T,S,p[I+7],16,-155497632),S=a(S,A,w,T,p[I+10],23,-1094730640),T=a(T,S,A,w,p[I+13],4,681279174),w=a(w,T,S,A,p[I],11,-358537222),A=a(A,w,T,S,p[I+3],16,-722521979),S=a(S,A,w,T,p[I+6],23,76029189),T=a(T,S,A,w,p[I+9],4,-640364487),w=a(w,T,S,A,p[I+12],11,-421815835),A=a(A,w,T,S,p[I+15],16,530742520),S=a(S,A,w,T,p[I+2],23,-995338651),T=v(T,S,A,w,p[I],6,-198630844),w=v(w,T,S,A,p[I+7],10,1126891415),A=v(A,w,T,S,p[I+14],15,-1416354905),S=v(S,A,w,T,p[I+5],21,-57434055),T=v(T,S,A,w,p[I+12],6,1700485571),w=v(w,T,S,A,p[I+3],10,-1894986606),A=v(A,w,T,S,p[I+10],15,-1051523),S=v(S,A,w,T,p[I+1],21,-2054922799),T=v(T,S,A,w,p[I+8],6,1873313359),w=v(w,T,S,A,p[I+15],10,-30611744),A=v(A,w,T,S,p[I+6],15,-1560198380),S=v(S,A,w,T,p[I+13],21,1309151649),T=v(T,S,A,w,p[I+4],6,-145523070),w=v(w,T,S,A,p[I+11],10,-1120210379),A=v(A,w,T,S,p[I+2],15,718787259),S=v(S,A,w,T,p[I+9],21,-343485551),T=i(T,D),S=i(S,V),A=i(A,ie),w=i(w,te)}return[T,S,A,w]}function t(p){if(p.length===0)return[];const E=p.length*8,T=new Uint32Array(h(E));for(let S=0;S<E;S+=8)T[S>>5]|=(p[S/8]&255)<<S%32;return T}function i(p,E){const T=(p&65535)+(E&65535);return(p>>16)+(E>>16)+(T>>16)<<16|T&65535}function r(p,E){return p<<E|p>>>32-E}function n(p,E,T,S,A,w){return i(r(i(i(E,p),i(S,w)),A),T)}function l(p,E,T,S,A,w,I){return n(E&T|~E&S,p,E,A,w,I)}function d(p,E,T,S,A,w,I){return n(E&S|T&~S,p,E,A,w,I)}function a(p,E,T,S,A,w,I){return n(E^T^S,p,E,A,w,I)}function v(p,E,T,S,A,w,I){return n(T^(E|~S),p,E,A,w,I)}var y=f;g.default=y},{}],530:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f="00000000-0000-0000-0000-000000000000";g.default=f},{}],531:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=u(e("./validate.js"));function u(t){return t&&t.__esModule?t:{default:t}}function h(t){if(!(0,f.default)(t))throw TypeError("Invalid UUID");let i;const r=new Uint8Array(16);return r[0]=(i=parseInt(t.slice(0,8),16))>>>24,r[1]=i>>>16&255,r[2]=i>>>8&255,r[3]=i&255,r[4]=(i=parseInt(t.slice(9,13),16))>>>8,r[5]=i&255,r[6]=(i=parseInt(t.slice(14,18),16))>>>8,r[7]=i&255,r[8]=(i=parseInt(t.slice(19,23),16))>>>8,r[9]=i&255,r[10]=(i=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=i/4294967296&255,r[12]=i>>>24&255,r[13]=i>>>16&255,r[14]=i>>>8&255,r[15]=i&255,r}var s=h;g.default=s},{"./validate.js":541}],532:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;g.default=f},{}],533:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=h;let f;const u=new Uint8Array(16);function h(){if(!f&&(f=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(u)}},{}],534:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;function f(t,i,r,n){switch(t){case 0:return i&r^~i&n;case 1:return i^r^n;case 2:return i&r^i&n^r&n;case 3:return i^r^n}}function u(t,i){return t<<i|t>>>32-i}function h(t){const i=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const a=unescape(encodeURIComponent(t));t=[];for(let v=0;v<a.length;++v)t.push(a.charCodeAt(v))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,l=Math.ceil(n/16),d=new Array(l);for(let a=0;a<l;++a){const v=new Uint32Array(16);for(let y=0;y<16;++y)v[y]=t[a*64+y*4]<<24|t[a*64+y*4+1]<<16|t[a*64+y*4+2]<<8|t[a*64+y*4+3];d[a]=v}d[l-1][14]=(t.length-1)*8/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=(t.length-1)*8&4294967295;for(let a=0;a<l;++a){const v=new Uint32Array(80);for(let A=0;A<16;++A)v[A]=d[a][A];for(let A=16;A<80;++A)v[A]=u(v[A-3]^v[A-8]^v[A-14]^v[A-16],1);let y=r[0],p=r[1],E=r[2],T=r[3],S=r[4];for(let A=0;A<80;++A){const w=Math.floor(A/20),I=u(y,5)+f(w,p,E,T)+S+i[w]+v[A]>>>0;S=T,T=E,E=u(p,30)>>>0,p=y,y=I}r[0]=r[0]+y>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+E>>>0,r[3]=r[3]+T>>>0,r[4]=r[4]+S>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var s=h;g.default=s},{}],535:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=u(e("./validate.js"));function u(i){return i&&i.__esModule?i:{default:i}}const h=[];for(let i=0;i<256;++i)h.push((i+256).toString(16).substr(1));function s(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=(h[i[r+0]]+h[i[r+1]]+h[i[r+2]]+h[i[r+3]]+"-"+h[i[r+4]]+h[i[r+5]]+"-"+h[i[r+6]]+h[i[r+7]]+"-"+h[i[r+8]]+h[i[r+9]]+"-"+h[i[r+10]]+h[i[r+11]]+h[i[r+12]]+h[i[r+13]]+h[i[r+14]]+h[i[r+15]]).toLowerCase();if(!(0,f.default)(n))throw TypeError("Stringified UUID is invalid");return n}var t=s;g.default=t},{"./validate.js":541}],536:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=h(e("./rng.js")),u=h(e("./stringify.js"));function h(d){return d&&d.__esModule?d:{default:d}}let s,t,i=0,r=0;function n(d,a,v){let y=a&&v||0;const p=a||new Array(16);d=d||{};let E=d.node||s,T=d.clockseq!==void 0?d.clockseq:t;if(E==null||T==null){const V=d.random||(d.rng||f.default)();E==null&&(E=s=[V[0]|1,V[1],V[2],V[3],V[4],V[5]]),T==null&&(T=t=(V[6]<<8|V[7])&16383)}let S=d.msecs!==void 0?d.msecs:Date.now(),A=d.nsecs!==void 0?d.nsecs:r+1;const w=S-i+(A-r)/1e4;if(w<0&&d.clockseq===void 0&&(T=T+1&16383),(w<0||S>i)&&d.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=S,r=A,t=T,S+=122192928e5;const I=((S&268435455)*1e4+A)%4294967296;p[y++]=I>>>24&255,p[y++]=I>>>16&255,p[y++]=I>>>8&255,p[y++]=I&255;const D=S/4294967296*1e4&268435455;p[y++]=D>>>8&255,p[y++]=D&255,p[y++]=D>>>24&15|16,p[y++]=D>>>16&255,p[y++]=T>>>8|128,p[y++]=T&255;for(let V=0;V<6;++V)p[y+V]=E[V];return a||(0,u.default)(p)}var l=n;g.default=l},{"./rng.js":533,"./stringify.js":535}],537:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=h(e("./v35.js")),u=h(e("./md5.js"));function h(i){return i&&i.__esModule?i:{default:i}}var t=(0,f.default)("v3",48,u.default);g.default=t},{"./md5.js":529,"./v35.js":538}],538:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=r,g.URL=g.DNS=void 0;var f=h(e("./stringify.js")),u=h(e("./parse.js"));function h(n){return n&&n.__esModule?n:{default:n}}function s(n){n=unescape(encodeURIComponent(n));const l=[];for(let d=0;d<n.length;++d)l.push(n.charCodeAt(d));return l}const t="6ba7b810-9dad-11d1-80b4-00c04fd430c8";g.DNS=t;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";g.URL=i;function r(n,l,d){function a(v,y,p,E){if(typeof v=="string"&&(v=s(v)),typeof y=="string"&&(y=(0,u.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let T=new Uint8Array(16+v.length);if(T.set(y),T.set(v,y.length),T=d(T),T[6]=T[6]&15|l,T[8]=T[8]&63|128,p){E=E||0;for(let S=0;S<16;++S)p[E+S]=T[S];return p}return(0,f.default)(T)}try{a.name=n}catch{}return a.DNS=t,a.URL=i,a}},{"./parse.js":531,"./stringify.js":535}],539:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=h(e("./rng.js")),u=h(e("./stringify.js"));function h(i){return i&&i.__esModule?i:{default:i}}function s(i,r,n){i=i||{};const l=i.random||(i.rng||f.default)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,r){n=n||0;for(let d=0;d<16;++d)r[n+d]=l[d];return r}return(0,u.default)(l)}var t=s;g.default=t},{"./rng.js":533,"./stringify.js":535}],540:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=h(e("./v35.js")),u=h(e("./sha1.js"));function h(i){return i&&i.__esModule?i:{default:i}}var t=(0,f.default)("v5",80,u.default);g.default=t},{"./sha1.js":534,"./v35.js":538}],541:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=u(e("./regex.js"));function u(t){return t&&t.__esModule?t:{default:t}}function h(t){return typeof t=="string"&&f.default.test(t)}var s=h;g.default=s},{"./regex.js":532}],542:[function(e,m,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=u(e("./validate.js"));function u(t){return t&&t.__esModule?t:{default:t}}function h(t){if(!(0,f.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var s=h;g.default=s},{"./validate.js":541}],543:[function(e,m,g){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(g,"__esModule",{value:!0}),g.CHAR=`	
\r ---`,g.S=` 	\r
`,g.NAME_START_CHAR=":A-Z_a-z-----------",g.NAME_CHAR="-"+g.NAME_START_CHAR+".0-9--",g.CHAR_RE=new RegExp("^["+g.CHAR+"]$","u"),g.S_RE=new RegExp("^["+g.S+"]+$","u"),g.NAME_START_CHAR_RE=new RegExp("^["+g.NAME_START_CHAR+"]$","u"),g.NAME_CHAR_RE=new RegExp("^["+g.NAME_CHAR+"]$","u"),g.NAME_RE=new RegExp("^["+g.NAME_START_CHAR+"]["+g.NAME_CHAR+"]*$","u"),g.NMTOKEN_RE=new RegExp("^["+g.NAME_CHAR+"]+$","u");var f=9,u=10,h=13,s=32;g.S_LIST=[s,u,h,f];function t(l){return l>=s&&l<=55295||l===u||l===h||l===f||l>=57344&&l<=65533||l>=65536&&l<=1114111}g.isChar=t;function i(l){return l===s||l===u||l===h||l===f}g.isS=i;function r(l){return l>=65&&l<=90||l>=97&&l<=122||l===58||l===95||l===8204||l===8205||l>=192&&l<=214||l>=216&&l<=246||l>=248&&l<=767||l>=880&&l<=893||l>=895&&l<=8191||l>=8304&&l<=8591||l>=11264&&l<=12271||l>=12289&&l<=55295||l>=63744&&l<=64975||l>=65008&&l<=65533||l>=65536&&l<=983039}g.isNameStartChar=r;function n(l){return r(l)||l>=48&&l<=57||l===45||l===46||l===183||l>=768&&l<=879||l>=8255&&l<=8256}g.isNameChar=n},{}],544:[function(e,m,g){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(g,"__esModule",{value:!0}),g.CHAR="---",g.RESTRICTED_CHAR="-\b\v\f---",g.S=` 	\r
`,g.NAME_START_CHAR=":A-Z_a-z-----------",g.NAME_CHAR="-"+g.NAME_START_CHAR+".0-9--",g.CHAR_RE=new RegExp("^["+g.CHAR+"]$","u"),g.RESTRICTED_CHAR_RE=new RegExp("^["+g.RESTRICTED_CHAR+"]$","u"),g.S_RE=new RegExp("^["+g.S+"]+$","u"),g.NAME_START_CHAR_RE=new RegExp("^["+g.NAME_START_CHAR+"]$","u"),g.NAME_CHAR_RE=new RegExp("^["+g.NAME_CHAR+"]$","u"),g.NAME_RE=new RegExp("^["+g.NAME_START_CHAR+"]["+g.NAME_CHAR+"]*$","u"),g.NMTOKEN_RE=new RegExp("^["+g.NAME_CHAR+"]+$","u");var f=9,u=10,h=13,s=32;g.S_LIST=[s,u,h,f];function t(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111}g.isChar=t;function i(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159}g.isRestrictedChar=i;function r(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111}g.isCharAndNotRestricted=r;function n(a){return a===s||a===u||a===h||a===f}g.isS=n;function l(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}g.isNameStartChar=l;function d(a){return l(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}g.isNameChar=d},{}],545:[function(e,m,g){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(g,"__esModule",{value:!0}),g.NC_NAME_START_CHAR="A-Z_a-z------------",g.NC_NAME_CHAR="-"+g.NC_NAME_START_CHAR+".0-9--",g.NC_NAME_START_CHAR_RE=new RegExp("^["+g.NC_NAME_START_CHAR+"]$","u"),g.NC_NAME_CHAR_RE=new RegExp("^["+g.NC_NAME_CHAR+"]$","u"),g.NC_NAME_RE=new RegExp("^["+g.NC_NAME_START_CHAR+"]["+g.NC_NAME_CHAR+"]*$","u");function f(h){return h>=65&&h<=90||h===95||h>=97&&h<=122||h>=192&&h<=214||h>=216&&h<=246||h>=248&&h<=767||h>=880&&h<=893||h>=895&&h<=8191||h>=8204&&h<=8205||h>=8304&&h<=8591||h>=11264&&h<=12271||h>=12289&&h<=55295||h>=63744&&h<=64975||h>=65008&&h<=65533||h>=65536&&h<=983039}g.isNCNameStartChar=f;function u(h){return f(h)||h===45||h===46||h>=48&&h<=57||h===183||h>=768&&h<=879||h>=8255&&h<=8256}g.isNCNameChar=u},{}]},{},[15])(15)})})($d);var H_=$d.exports;function $c(K){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},$c(K)}var ly=/^\s+/,cy=/\s+$/;function er(K,_){if(K=K||"",_=_||{},K instanceof er)return K;if(!(this instanceof er))return new er(K,_);var e=hy(K);this._originalInput=K,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=Math.round(100*this._a)/100,this._format=_.format||e.format,this._gradientType=_.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=e.ok}er.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var _=this.toRgb();return(_.r*299+_.g*587+_.b*114)/1e3},getLuminance:function(){var _=this.toRgb(),e,m,g,f,u,h;return e=_.r/255,m=_.g/255,g=_.b/255,e<=.03928?f=e/12.92:f=Math.pow((e+.055)/1.055,2.4),m<=.03928?u=m/12.92:u=Math.pow((m+.055)/1.055,2.4),g<=.03928?h=g/12.92:h=Math.pow((g+.055)/1.055,2.4),.2126*f+.7152*u+.0722*h},setAlpha:function(_){return this._a=Wd(_),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var _=nd(this._r,this._g,this._b);return{h:_.h*360,s:_.s,v:_.v,a:this._a}},toHsvString:function(){var _=nd(this._r,this._g,this._b),e=Math.round(_.h*360),m=Math.round(_.s*100),g=Math.round(_.v*100);return this._a==1?"hsv("+e+", "+m+"%, "+g+"%)":"hsva("+e+", "+m+"%, "+g+"%, "+this._roundA+")"},toHsl:function(){var _=id(this._r,this._g,this._b);return{h:_.h*360,s:_.s,l:_.l,a:this._a}},toHslString:function(){var _=id(this._r,this._g,this._b),e=Math.round(_.h*360),m=Math.round(_.s*100),g=Math.round(_.l*100);return this._a==1?"hsl("+e+", "+m+"%, "+g+"%)":"hsla("+e+", "+m+"%, "+g+"%, "+this._roundA+")"},toHex:function(_){return sd(this._r,this._g,this._b,_)},toHexString:function(_){return"#"+this.toHex(_)},toHex8:function(_){return py(this._r,this._g,this._b,this._a,_)},toHex8String:function(_){return"#"+this.toHex8(_)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ui(this._r,255)*100)+"%",g:Math.round(ui(this._g,255)*100)+"%",b:Math.round(ui(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ui(this._r,255)*100)+"%, "+Math.round(ui(this._g,255)*100)+"%, "+Math.round(ui(this._b,255)*100)+"%)":"rgba("+Math.round(ui(this._r,255)*100)+"%, "+Math.round(ui(this._g,255)*100)+"%, "+Math.round(ui(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ay[sd(this._r,this._g,this._b,!0)]||!1},toFilter:function(_){var e="#"+ad(this._r,this._g,this._b,this._a),m=e,g=this._gradientType?"GradientType = 1, ":"";if(_){var f=er(_);m="#"+ad(f._r,f._g,f._b,f._a)}return"progid:DXImageTransform.Microsoft.gradient("+g+"startColorstr="+e+",endColorstr="+m+")"},toString:function(_){var e=!!_;_=_||this._format;var m=!1,g=this._a<1&&this._a>=0,f=!e&&g&&(_==="hex"||_==="hex6"||_==="hex3"||_==="hex4"||_==="hex8"||_==="name");return f?_==="name"&&this._a===0?this.toName():this.toRgbString():(_==="rgb"&&(m=this.toRgbString()),_==="prgb"&&(m=this.toPercentageRgbString()),(_==="hex"||_==="hex6")&&(m=this.toHexString()),_==="hex3"&&(m=this.toHexString(!0)),_==="hex4"&&(m=this.toHex8String(!0)),_==="hex8"&&(m=this.toHex8String()),_==="name"&&(m=this.toName()),_==="hsl"&&(m=this.toHslString()),_==="hsv"&&(m=this.toHsvString()),m||this.toHexString())},clone:function(){return er(this.toString())},_applyModification:function(_,e){var m=_.apply(null,[this].concat([].slice.call(e)));return this._r=m._r,this._g=m._g,this._b=m._b,this.setAlpha(m._a),this},lighten:function(){return this._applyModification(by,arguments)},brighten:function(){return this._applyModification(yy,arguments)},darken:function(){return this._applyModification(wy,arguments)},desaturate:function(){return this._applyModification(my,arguments)},saturate:function(){return this._applyModification(gy,arguments)},greyscale:function(){return this._applyModification(vy,arguments)},spin:function(){return this._applyModification(_y,arguments)},_applyCombination:function(_,e){return _.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Ty,arguments)},complement:function(){return this._applyCombination(xy,arguments)},monochromatic:function(){return this._applyCombination(Sy,arguments)},splitcomplement:function(){return this._applyCombination(Ey,arguments)},triad:function(){return this._applyCombination(od,[3])},tetrad:function(){return this._applyCombination(od,[4])}};er.fromRatio=function(K,_){if($c(K)=="object"){var e={};for(var m in K)K.hasOwnProperty(m)&&(m==="a"?e[m]=K[m]:e[m]=Al(K[m]));K=e}return er(K,_)};function hy(K){var _={r:0,g:0,b:0},e=1,m=null,g=null,f=null,u=!1,h=!1;return typeof K=="string"&&(K=Iy(K)),$c(K)=="object"&&(fa(K.r)&&fa(K.g)&&fa(K.b)?(_=fy(K.r,K.g,K.b),u=!0,h=String(K.r).substr(-1)==="%"?"prgb":"rgb"):fa(K.h)&&fa(K.s)&&fa(K.v)?(m=Al(K.s),g=Al(K.v),_=dy(K.h,m,g),u=!0,h="hsv"):fa(K.h)&&fa(K.s)&&fa(K.l)&&(m=Al(K.s),f=Al(K.l),_=uy(K.h,m,f),u=!0,h="hsl"),K.hasOwnProperty("a")&&(e=K.a)),e=Wd(e),{ok:u,format:K.format||h,r:Math.min(255,Math.max(_.r,0)),g:Math.min(255,Math.max(_.g,0)),b:Math.min(255,Math.max(_.b,0)),a:e}}function fy(K,_,e){return{r:ui(K,255)*255,g:ui(_,255)*255,b:ui(e,255)*255}}function id(K,_,e){K=ui(K,255),_=ui(_,255),e=ui(e,255);var m=Math.max(K,_,e),g=Math.min(K,_,e),f,u,h=(m+g)/2;if(m==g)f=u=0;else{var s=m-g;switch(u=h>.5?s/(2-m-g):s/(m+g),m){case K:f=(_-e)/s+(_<e?6:0);break;case _:f=(e-K)/s+2;break;case e:f=(K-_)/s+4;break}f/=6}return{h:f,s:u,l:h}}function uy(K,_,e){var m,g,f;K=ui(K,360),_=ui(_,100),e=ui(e,100);function u(t,i,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(i-t)*6*r:r<1/2?i:r<2/3?t+(i-t)*(2/3-r)*6:t}if(_===0)m=g=f=e;else{var h=e<.5?e*(1+_):e+_-e*_,s=2*e-h;m=u(s,h,K+1/3),g=u(s,h,K),f=u(s,h,K-1/3)}return{r:m*255,g:g*255,b:f*255}}function nd(K,_,e){K=ui(K,255),_=ui(_,255),e=ui(e,255);var m=Math.max(K,_,e),g=Math.min(K,_,e),f,u,h=m,s=m-g;if(u=m===0?0:s/m,m==g)f=0;else{switch(m){case K:f=(_-e)/s+(_<e?6:0);break;case _:f=(e-K)/s+2;break;case e:f=(K-_)/s+4;break}f/=6}return{h:f,s:u,v:h}}function dy(K,_,e){K=ui(K,360)*6,_=ui(_,100),e=ui(e,100);var m=Math.floor(K),g=K-m,f=e*(1-_),u=e*(1-g*_),h=e*(1-(1-g)*_),s=m%6,t=[e,u,f,f,h,e][s],i=[h,e,e,u,f,f][s],r=[f,f,h,e,e,u][s];return{r:t*255,g:i*255,b:r*255}}function sd(K,_,e,m){var g=[vs(Math.round(K).toString(16)),vs(Math.round(_).toString(16)),vs(Math.round(e).toString(16))];return m&&g[0].charAt(0)==g[0].charAt(1)&&g[1].charAt(0)==g[1].charAt(1)&&g[2].charAt(0)==g[2].charAt(1)?g[0].charAt(0)+g[1].charAt(0)+g[2].charAt(0):g.join("")}function py(K,_,e,m,g){var f=[vs(Math.round(K).toString(16)),vs(Math.round(_).toString(16)),vs(Math.round(e).toString(16)),vs(Vd(m))];return g&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)&&f[3].charAt(0)==f[3].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0):f.join("")}function ad(K,_,e,m){var g=[vs(Vd(m)),vs(Math.round(K).toString(16)),vs(Math.round(_).toString(16)),vs(Math.round(e).toString(16))];return g.join("")}er.equals=function(K,_){return!K||!_?!1:er(K).toRgbString()==er(_).toRgbString()};er.random=function(){return er.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function my(K,_){_=_===0?0:_||10;var e=er(K).toHsl();return e.s-=_/100,e.s=Xc(e.s),er(e)}function gy(K,_){_=_===0?0:_||10;var e=er(K).toHsl();return e.s+=_/100,e.s=Xc(e.s),er(e)}function vy(K){return er(K).desaturate(100)}function by(K,_){_=_===0?0:_||10;var e=er(K).toHsl();return e.l+=_/100,e.l=Xc(e.l),er(e)}function yy(K,_){_=_===0?0:_||10;var e=er(K).toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(_/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(_/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(_/100)))),er(e)}function wy(K,_){_=_===0?0:_||10;var e=er(K).toHsl();return e.l-=_/100,e.l=Xc(e.l),er(e)}function _y(K,_){var e=er(K).toHsl(),m=(e.h+_)%360;return e.h=m<0?360+m:m,er(e)}function xy(K){var _=er(K).toHsl();return _.h=(_.h+180)%360,er(_)}function od(K,_){if(isNaN(_)||_<=0)throw new Error("Argument to polyad must be a positive number");for(var e=er(K).toHsl(),m=[er(K)],g=360/_,f=1;f<_;f++)m.push(er({h:(e.h+f*g)%360,s:e.s,l:e.l}));return m}function Ey(K){var _=er(K).toHsl(),e=_.h;return[er(K),er({h:(e+72)%360,s:_.s,l:_.l}),er({h:(e+216)%360,s:_.s,l:_.l})]}function Ty(K,_,e){_=_||6,e=e||30;var m=er(K).toHsl(),g=360/e,f=[er(K)];for(m.h=(m.h-(g*_>>1)+720)%360;--_;)m.h=(m.h+g)%360,f.push(er(m));return f}function Sy(K,_){_=_||6;for(var e=er(K).toHsv(),m=e.h,g=e.s,f=e.v,u=[],h=1/_;_--;)u.push(er({h:m,s:g,v:f})),f=(f+h)%1;return u}er.mix=function(K,_,e){e=e===0?0:e||50;var m=er(K).toRgb(),g=er(_).toRgb(),f=e/100,u={r:(g.r-m.r)*f+m.r,g:(g.g-m.g)*f+m.g,b:(g.b-m.b)*f+m.b,a:(g.a-m.a)*f+m.a};return er(u)};er.readability=function(K,_){var e=er(K),m=er(_);return(Math.max(e.getLuminance(),m.getLuminance())+.05)/(Math.min(e.getLuminance(),m.getLuminance())+.05)};er.isReadable=function(K,_,e){var m=er.readability(K,_),g,f;switch(f=!1,g=My(e),g.level+g.size){case"AAsmall":case"AAAlarge":f=m>=4.5;break;case"AAlarge":f=m>=3;break;case"AAAsmall":f=m>=7;break}return f};er.mostReadable=function(K,_,e){var m=null,g=0,f,u,h,s;e=e||{},u=e.includeFallbackColors,h=e.level,s=e.size;for(var t=0;t<_.length;t++)f=er.readability(K,_[t]),f>g&&(g=f,m=er(_[t]));return er.isReadable(K,m,{level:h,size:s})||!u?m:(e.includeFallbackColors=!1,er.mostReadable(K,["#fff","#000"],e))};var ff=er.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ay=er.hexNames=ky(ff);function ky(K){var _={};for(var e in K)K.hasOwnProperty(e)&&(_[K[e]]=e);return _}function Wd(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function ui(K,_){Cy(K)&&(K="100%");var e=Ry(K);return K=Math.min(_,Math.max(0,parseFloat(K))),e&&(K=parseInt(K*_,10)/100),Math.abs(K-_)<1e-6?1:K%_/parseFloat(_)}function Xc(K){return Math.min(1,Math.max(0,K))}function Xn(K){return parseInt(K,16)}function Cy(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function Ry(K){return typeof K=="string"&&K.indexOf("%")!=-1}function vs(K){return K.length==1?"0"+K:""+K}function Al(K){return K<=1&&(K=K*100+"%"),K}function Vd(K){return Math.round(parseFloat(K)*255).toString(16)}function ld(K){return Xn(K)/255}var ms=function(){var K="[-\\+]?\\d+%?",_="[-\\+]?\\d*\\.\\d+%?",e="(?:"+_+")|(?:"+K+")",m="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",g="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+m),rgba:new RegExp("rgba"+g),hsl:new RegExp("hsl"+m),hsla:new RegExp("hsla"+g),hsv:new RegExp("hsv"+m),hsva:new RegExp("hsva"+g),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function fa(K){return!!ms.CSS_UNIT.exec(K)}function Iy(K){K=K.replace(ly,"").replace(cy,"").toLowerCase();var _=!1;if(ff[K])K=ff[K],_=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e;return(e=ms.rgb.exec(K))?{r:e[1],g:e[2],b:e[3]}:(e=ms.rgba.exec(K))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=ms.hsl.exec(K))?{h:e[1],s:e[2],l:e[3]}:(e=ms.hsla.exec(K))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=ms.hsv.exec(K))?{h:e[1],s:e[2],v:e[3]}:(e=ms.hsva.exec(K))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=ms.hex8.exec(K))?{r:Xn(e[1]),g:Xn(e[2]),b:Xn(e[3]),a:ld(e[4]),format:_?"name":"hex8"}:(e=ms.hex6.exec(K))?{r:Xn(e[1]),g:Xn(e[2]),b:Xn(e[3]),format:_?"name":"hex"}:(e=ms.hex4.exec(K))?{r:Xn(e[1]+""+e[1]),g:Xn(e[2]+""+e[2]),b:Xn(e[3]+""+e[3]),a:ld(e[4]+""+e[4]),format:_?"name":"hex8"}:(e=ms.hex3.exec(K))?{r:Xn(e[1]+""+e[1]),g:Xn(e[2]+""+e[2]),b:Xn(e[3]+""+e[3]),format:_?"name":"hex"}:!1}function My(K){var _,e;return K=K||{level:"AA",size:"small"},_=(K.level||"AA").toUpperCase(),e=(K.size||"small").toLowerCase(),_!=="AA"&&_!=="AAA"&&(_="AA"),e!=="small"&&e!=="large"&&(e="small"),{level:_,size:e}}var Py=Object.defineProperty,Dy=(K,_,e)=>_ in K?Py(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,_l=(K,_,e)=>(Dy(K,typeof _!="symbol"?_+"":_,e),e);const cd="NEW_LISTENER";class Ly{constructor(){_l(this,"_events"),_l(this,"on",(_,e)=>{this._events[_]&&_!==Symbol.for(cd)&&this.emit(Symbol.for(cd),_);const m=this._events[_]||[];typeof e=="function"?m.push({name:_,callback:e}):m.push(e),this._events[_]=m}),_l(this,"emit",(_,...e)=>{(this._events[_]||[]).forEach(g=>{const{callback:f}=g;f(...e)})}),_l(this,"once",(_,e)=>{let m;if(typeof e=="function")m={name:_,callback:(...g)=>{e(...g),this.off(_,m)},initialCallback:e};else{const{callback:g}=e;m={name:_,callback:(...f)=>{g(...f),this.off(_,m)},initialCallback:g}}this.on(_,m)}),_l(this,"off",(_,e)=>{const g=(this._events[_]||[]).filter(f=>{if(typeof e=="function")return f.callback!==e&&f.initialCallback!==e;{const{callback:u}=e;return f.callback!==u&&f.initialCallback!==u}});this._events[_]=g}),this._events={}}}const Oy=(K,_="text/xml")=>{if(window.DOMParser)return new window.DOMParser().parseFromString(K,_).documentElement;if(typeof window.ActiveXObject<"u"&&new window.ActiveXObject("Microsoft.XMLDOM")){const e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(K),e}};function Ny(K,_,e,m,g){const f=_===void 0?void 0:_.key;return{sel:K,data:_,children:e,text:m,elm:g,key:f}}Ny("",{},[],void 0,void 0);const Fy=(K,_=300)=>{let e;return function(){const m=this,g=arguments;e||(e=setTimeout(()=>{e=null,K.apply(m,g)},_))}},By=()=>{},hd=()=>{if(typeof window<"u"){const K=navigator.userAgent.toLowerCase();return/ipad|ipod/.test(K)?"ipad":/android/.test(K)?"android":/iphone/.test(K)?"iphone":"pc"}return"pc"};function pa(K){return K<10?`0${K}`:K}function $_(K){let _=new Date;return K&&(_=new Date(K)),_.format=(e="YYYY-MM-DD HH:mm:ss")=>{const m=_.getFullYear(),g=pa(_.getMonth()+1),f=pa(_.getDate()),u=pa(_.getHours()),h=pa(_.getMinutes()),s=pa(_.getSeconds());return e.replace(/Y+/gi,`${m}`).replace(/M+/g,`${g}`).replace(/D+/gi,`${f}`).replace(/H+/gi,`${u}`).replace(/m+/g,`${h}`).replace(/S+/gi,`${s}`)},_}const xl=K=>{const _=K.backingStorePixelRatio||K.webkitBackingStorePixelRatio||K.mozBackingStorePixelRatio||K.msBackingStorePixelRatio||K.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/_},gs=(K,_)=>{if(typeof document>"u")return;const e=K.classList;e.contains(_)||e.add(_)},ua=(K,_)=>{if(typeof document>"u")return;const e=K.classList;e.contains(_)&&e.remove(_)},Rc=K=>{if(K===0)return"00:00";if(!K)return"";const _=Math.trunc(K/3600),e=Math.trunc(K%3600/60),m=pa(Math.trunc(K-_*3600-e*60));return _===0?`${pa(e)}:${m}`:`${pa(_)}:${pa(e)}:${m}`},qh=(K="")=>{if(K.length===0)return 0;if(K.endsWith("%")){const _=Number(K.replace("%",""));return _>1?_/100:_}else return Number(K)},Ic=(K,_=0,e=1)=>Math.min(e,Math.max(_,K)),Ua=K=>{if(typeof document>"u")return;const _=document.createDocumentFragment();return K.forEach(e=>_.appendChild(e)),_},Xd=new Array(128).fill(void 0);Xd.push(void 0,null,!0,!1);Xd.length;const Uy=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Uy.decode();const ef=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}};ef.encodeInto;var jy=Object.defineProperty,zy=(K,_,e)=>_ in K?jy(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,Hy=(K,_,e)=>(zy(K,typeof _!="symbol"?_+"":_,e),e);const Wc=[!1,"false",null,void 0],bs=K=>{const _=K.hasAttribute("disabled"),e=K.getAttribute("disabled");return!!(_&&!Wc.includes(e))},$y=(K,_)=>{const e=K.querySelectorAll(`.${_}`);e.length>0&&e.forEach(m=>m.classList.remove(_))},W_=K=>new Promise((_,e)=>{const m=document.createElement("script");m.src=K,m.onload=function(){_({success:!0})},m.onerror=function(g){e({success:!1,error:g})},document.body.append(m)});function Vo(K){return class{constructor(e=K){Hy(this,"message"),this.message=e}}}var Wy=Object.defineProperty,Vy=(K,_,e)=>_ in K?Wy(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,Ls=(K,_,e)=>(Vy(K,typeof _!="symbol"?_+"":_,e),e);const Xy=`:host{position:relative;display:inline-block;background-image:none;box-shadow:0 2px #00000004;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:manipulation;overflow:hidden;pointer-events:auto}:host .ran-btn{position:relative;display:inline-block;background-image:none;cursor:pointer;transition:all .3s cubic-bezier(.645,.045,.355,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:manipulation;background:#fff}:host,:host(:active),:host(:focus){outline:0}:host .ran-btn,:host(:active) .ran-btn,:host(:focus) .ran-btn{outline:0}:host(:not([disabled]):hover) .ran-btn-content{border-color:#1890ff;color:#1890ff}:host([type="primary"]) .ran-btn-content{border-color:#1890ff;background-color:#1890ff;color:#fff}:host([type="primary"]:not([disabled])) .ran-btn:after{background-image:radial-gradient(circle,#fff 10%,transparent 10.01%)}:host([type="primary"]:not([disabled]):hover) .ran-btn-content{background-color:#40a9ff;color:#fff}:host([type="warning"]) .ran-btn-content{border-color:#ff4d4f;background-color:#ff4d4f;color:#fff}:host([type="warning"]:not([disabled])) .ran-btn:after{background-image:radial-gradient(circle,#fff 10%,transparent 10.01%)}:host([type="warning"]:not([disabled]):hover) .ran-btn-content{border-color:#ff4d4f;background-color:#ff4d4f;color:#fff}:host([type="text"]) .ran-btn-content{border:none}:host([disabled]){cursor:not-allowed;pointer-events:all;opacity:.6}:host([disabled]) .ran-btn{cursor:not-allowed;pointer-events:all;opacity:.6}:host(:not([disabled]):active) .ran-btn:after{transform:translate(-50%,-50%) scale(0);opacity:.3;transition:0s}@media (min-width: 1024px){:host(:not([disabled],[effect])) .ran-btn:after{content:"";display:block;position:absolute;width:100%;height:100%;left:var(--ran-x, 0);top:var(--ran-y, 0);pointer-events:none;background-image:radial-gradient(circle,#1890ff 10%,transparent 10.01%);background-repeat:no-repeat;background-position:50%;transform:translate(-50%,-50%) scale(10);opacity:0;transition:transform .3s,opacity .8s}}:host .slot{display:block}.ran-btn-content{display:flex;justify-content:space-between;align-items:center;padding:4px 15px;border:1px solid transparent;border-radius:2px;border-color:#d9d9d9;color:#000000d9;line-height:22px;font-size:14px;font-weight:400;white-space:nowrap;text-align:center}.ran-btn-content .icon{margin-right:2px}
`;function Gy(){if(typeof document<"u"&&!customElements.get("r-button")){class K extends HTMLElement{constructor(){super(),Ls(this,"_btn"),Ls(this,"_btnContent"),Ls(this,"_iconElement"),Ls(this,"_slot"),Ls(this,"_shadowDom"),Ls(this,"debounceTimeId"),Ls(this,"setIcon",()=>{if(this.icon){const{width:g,height:f}=this._slot.getBoundingClientRect(),u=Math.min(g,f);this._iconElement?this._iconElement.setAttribute("name",this.icon):(this._iconElement=document.createElement("r-icon"),this._iconElement.setAttribute("name",this.icon),this._iconElement.setAttribute("color","currentColor"),this._iconElement.setAttribute("class","icon"),this._slot.insertAdjacentElement("beforebegin",this._iconElement)),this.iconSize?this._iconElement.setAttribute("size",this.iconSize):this._iconElement.setAttribute("size",`${u-5}`)}}),Ls(this,"mousedown",g=>{if(hd()==="pc"&&(!this.disabled||this.disabled==="false")){this.debounceMouseEvent();const{left:f,top:u}=this.getBoundingClientRect();this._btn.style.setProperty("--ran-x",g.clientX-f+"px"),this._btn.style.setProperty("--ran-y",g.clientY-u+"px")}}),Ls(this,"mouseup",g=>{hd()==="pc"&&(this.debounceTimeId||(this.debounceTimeId=setTimeout(()=>{this._btn.style.removeProperty("--ran-x"),this._btn.style.removeProperty("--ran-y"),this.debounceMouseEvent()},600)))}),Ls(this,"debounceMouseEvent",()=>{clearTimeout(this.debounceTimeId),this.debounceTimeId=void 0}),this._slot=document.createElement("slot"),this._btnContent=document.createElement("div"),this._btn=document.createElement("div"),this._btn.setAttribute("class","ran-btn"),this._btn.setAttribute("part","ran-btn"),this._btnContent.setAttribute("class","ran-btn-content"),this._btnContent.setAttribute("part","ran-btn-content"),this._btnContent.appendChild(this._slot),this._slot.setAttribute("class","slot");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=Xy,e.appendChild(m),this._shadowDom=e,this._btn.appendChild(this._btnContent),e.appendChild(this._btn)}static get observedAttributes(){return["disabled","icon","effect","iconSize","sheet"]}get sheet(){return this.getAttribute("sheet")}set sheet(e){this.setAttribute("sheet",e||"")}get disabled(){return bs(this)}set disabled(e){!e||e==="false"?(this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")):(this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true"))}get iconSize(){return this.getAttribute("iconSize")}set iconSize(e){!e||e==="false"?this.removeAttribute("iconSize"):(this.setAttribute("iconSize",e),this.setIcon())}get icon(){return this.getAttribute("icon")}set icon(e){!e||e==="false"?this.removeAttribute("icon"):(this.setAttribute("icon",e),this.setIcon())}get effect(){return this.getAttribute("effect")}set effect(e){Wc.includes(e)||!e?this.removeAttribute("effect"):this.setAttribute("effect",e)}handlerExternalCss(){if(this.sheet)try{const e=new CSSStyleSheet;e.insertRule(this.sheet),this._shadowDom.adoptedStyleSheets=[e]}catch{console.error(`Failed to parse the rule in CSSStyleSheet: ${this.sheet}`)}}connectedCallback(){this._btn.addEventListener("mousedown",this.mousedown),this._btn.addEventListener("mouseup",this.mouseup),this.handlerExternalCss(),this.setIcon(),this.setAttribute("role","button"),this.setAttribute("tabindex","0")}disconnectCallback(){this._btn.removeEventListener("mousedown",this.mousedown),this._btn.removeEventListener("mouseup",this.mouseup)}attributeChangedCallback(e,m,g){e==="disabled"&&this._btnContent&&(!g||g==="false"?this._btnContent.setAttribute("disabled",""):this._btnContent.removeAttribute("disabled")),e==="icon"&&this._btnContent&&m!==g&&this.setIcon(),e==="iconSize"&&this._btnContent&&m!==g&&this._btnContent.setAttribute("iconSize",g),e==="sheet"&&this._shadowDom&&m!==g&&this.handlerExternalCss()}}return customElements.define("r-button",K),K}else return Vo("document is undefined or r-button is exist")}const Ky=Gy(),Yy=Object.freeze(Object.defineProperty({__proto__:null,default:Ky},Symbol.toStringTag,{value:"Module"}));var Zy=Object.defineProperty,Qy=(K,_,e)=>_ in K?Zy(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,ja=(K,_,e)=>(Qy(K,typeof _!="symbol"?_+"":_,e),e);const Jy=(K,_)=>{const e=K[_];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((m,g)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(g.bind(null,new Error("Unknown variable dynamic import: "+_)))})},qy=`:host{display:inline-flex}:host .ran-icon{display:flex}:host([spin]){animation-name:rotate;animation-duration:1.4s;animation-timing-function:linear;animation-iteration-count:infinite}@keyframes rotate{to{transform:rotate(360deg)}}
`,fd="http://www.w3.org/1999/xlink",ew="xlink:href";function tw(){if(typeof window<"u"&&!customElements.get("r-icon")){class K extends HTMLElement{constructor(){super(),ja(this,"_icon"),ja(this,"_div"),ja(this,"loadLocal",()=>new Promise((g,f)=>{Jy(Object.assign({"../../assets/icons/add-user.svg":()=>ii(()=>import("./add-user-b2bed3e7.FMkqk9FF.js"),__vite__mapDeps([])),"../../assets/icons/arrow-down.svg":()=>ii(()=>import("./info-circle-fill-90ec9aa9.JT9N_7pF.js"),__vite__mapDeps([])).then(u=>u.a),"../../assets/icons/book.svg":()=>ii(()=>import("./book-b11a68eb.3e_mvP-o.js"),__vite__mapDeps([])),"../../assets/icons/check-circle-fill.svg":()=>ii(()=>import("./check-circle-fill-dc284144.A6JWdart.js"),__vite__mapDeps([])),"../../assets/icons/check-circle.svg":()=>ii(()=>import("./check-circle-74bd09c3.IoDo43IW.js"),__vite__mapDeps([])),"../../assets/icons/close-circle-fill.svg":()=>ii(()=>import("./close-circle-fill-238a66b1.mg8KQLDw.js"),__vite__mapDeps([])),"../../assets/icons/close-circle.svg":()=>ii(()=>import("./close-circle-720c18be.TY2B_EVS.js"),__vite__mapDeps([])),"../../assets/icons/close.svg":()=>ii(()=>import("./close-20925345.zA8rVUtZ.js"),__vite__mapDeps([])),"../../assets/icons/eye-close.svg":()=>ii(()=>import("./eye-close-3874f1ae.DMBVZnwX.js"),__vite__mapDeps([])),"../../assets/icons/eye.svg":()=>ii(()=>import("./eye-5e742329.lNUuj2m3.js"),__vite__mapDeps([])),"../../assets/icons/home.svg":()=>ii(()=>import("./home-c4a05e8b.z9wEg7_r.js"),__vite__mapDeps([])),"../../assets/icons/info-circle-fill.svg":()=>ii(()=>import("./info-circle-fill-90ec9aa9.JT9N_7pF.js"),__vite__mapDeps([])).then(u=>u.i),"../../assets/icons/info-circle.svg":()=>ii(()=>import("./info-circle-5826decc.fjFD_kYO.js"),__vite__mapDeps([])),"../../assets/icons/loading.svg":()=>ii(()=>import("./loading-09ca52df.BmSVMvC3.js"),__vite__mapDeps([])),"../../assets/icons/lock.svg":()=>ii(()=>import("./lock-1d2487c9.c16_nFvW.js"),__vite__mapDeps([])),"../../assets/icons/message.svg":()=>ii(()=>import("./message-b2bfdea7.s-ntd4ZQ.js"),__vite__mapDeps([])),"../../assets/icons/power-off.svg":()=>ii(()=>import("./power-off-6ade5a91.fri4usN3.js"),__vite__mapDeps([])),"../../assets/icons/preview.svg":()=>ii(()=>import("./preview-b291aea8.d6jwvVkX.js"),__vite__mapDeps([])),"../../assets/icons/setting.svg":()=>ii(()=>import("./setting-1e5ccb6d.aSLfbgJU.js"),__vite__mapDeps([])),"../../assets/icons/team.svg":()=>ii(()=>import("./team-ca6a12e1.sLlKWK_O.js"),__vite__mapDeps([])),"../../assets/icons/unlock.svg":()=>ii(()=>import("./unlock-f56086fd.fcCAdz-S.js"),__vite__mapDeps([])),"../../assets/icons/user.svg":()=>ii(()=>import("./user-5c01e665.cy6KPpvX.js"),__vite__mapDeps([])),"../../assets/icons/warning-circle-fill.svg":()=>ii(()=>import("./warning-circle-fill-d17c37c9.pPoOFY-E.js"),__vite__mapDeps([])),"../../assets/icons/warning-circle.svg":()=>ii(()=>import("./warning-circle-035e025c.RbLsbl-V.js"),__vite__mapDeps([]))}),`../../assets/icons/${this.name}.svg`).then(u=>{if(u&&u.default&&u.default._identification){const{data:h}=u.default;this._icon&&this._div.removeChild(this._icon),this._icon=Oy(h,"image/svg+xml"),this._icon&&(this._div.appendChild(this._icon),this.setSize(),this.setColor(),g())}else this.loadNs(),f(`
 couldn't be loaded by r-icon, message: ${this.name} icon is undefined`)}).catch(u=>{this.loadNs()})})),ja(this,"loadNs",()=>{this._icon&&this._div&&this._div.removeChild(this._icon),this._icon=document.createElement("svg"),this._icon.setAttribute("class","icon"),this._icon.setAttribute("viewBox","0 0 1024 1024"),this._icon.setAttribute("width","100"),this._icon.setAttribute("height","100");const g=document.createElementNS(fd,"use");g.setAttributeNS(fd,ew,`../../assets/iconfont/icon.svg#icon-${this.name}`),this._icon.appendChild(g),this._div.appendChild(this._icon)}),ja(this,"setIcon",async()=>{this.name&&this.loadLocal()}),ja(this,"setSize",()=>{this._icon&&this.size&&(this._icon.setAttribute("width",this.size),this._icon.setAttribute("height",this.size))}),ja(this,"setColor",()=>{this._icon&&(this.color?this._icon.setAttribute("fill",this.color):this._icon.setAttribute("fill","currentColor"))}),ja(this,"setSpin",()=>{this.spin&&this.style.setProperty("animation-duration",`${this.spin}s`)}),this._div=document.createElement("div"),this._div.setAttribute("class","ran-icon");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=qy,e.appendChild(m),e.appendChild(this._div)}static get observedAttributes(){return["name","size","color","spin"]}get name(){return this.getAttribute("name")}set name(e){e&&this.setAttribute("name",e)}get size(){return this.getAttribute("size")}set size(e){e&&this.setAttribute("size",e)}get color(){return this.getAttribute("color")}set color(e){e&&this.setAttribute("color",e)}get spin(){return this.getAttribute("spin")}set spin(e){e!=null&&this.setAttribute("spin",e)}connectedCallback(){this.setIcon()}attributeChangedCallback(e,m,g){g!==m&&(e==="name"&&this.setIcon(),e==="size"&&this.setSize(),e==="color"&&this.setColor(),e==="spin"&&this.setSpin())}}customElements.define("r-icon",K)}}const rw=tw(),iw=Object.freeze(Object.defineProperty({__proto__:null,default:rw},Symbol.toStringTag,{value:"Module"}));var nw=Object.defineProperty,sw=(K,_,e)=>_ in K?nw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,ud=(K,_,e)=>(sw(K,typeof _!="symbol"?_+"":_,e),e);const aw="",ow=`
    data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==
`;function lw(){if(typeof window<"u"&&!customElements.get("r-img")){class K extends HTMLElement{constructor(){super(),ud(this,"_image"),ud(this,"_container"),this._container=document.createElement("div"),this._container.setAttribute("class","ran-image");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=aw,e.appendChild(m),e.appendChild(this._container)}static get observedAttributes(){return["fallback"]}get fallback(){return this.getAttribute("fallback")||ow}set fallback(e){e?this.setAttribute("fallback",e):this.removeAttribute("fallback")}listenFallback(e,m){e==="fallback"&&this._image&&(m?this._image.setAttribute("fallback",m):this._image.removeAttribute("fallback"))}connectedCallback(){const e=this.getAttribute("src")||"";this._image=new Image,this._image.src=e,this._image.addEventListener("error",()=>{this._image&&this.fallback&&(this._image.src=this.fallback)}),this._image.addEventListener("load",()=>{this._image&&this._container.appendChild(this._image)})}attributeChangedCallback(e,m,g){this.listenFallback(e,g)}}customElements.define("r-img",K)}}const cw=lw(),hw=Object.freeze(Object.defineProperty({__proto__:null,default:cw},Symbol.toStringTag,{value:"Module"}));var fw=Object.defineProperty,uw=(K,_,e)=>_ in K?fw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,ho=(K,_,e)=>(uw(K,typeof _!="symbol"?_+"":_,e),e);const dw=`.ran-input{position:relative;display:flex;width:calc(100% - 16px);height:calc(100% - 4px);min-width:0;padding:2px 8px;color:#000000d9;font-size:12px;line-height:1.5715;background-color:#fff;background-image:none;border-width:1px;border-style:solid;border-color:#d9d9d9;border-radius:2px;transition:all .3s}.ran-input:active{border-color:#40a9ff;box-shadow:0 0 0 2px #1890ff33;border-right-width:1px;outline:0}.ran-input:hover{border-color:#40a9ff;border-right-width:1px}.ran-input>.ran-input-content:hover~.ran-input-label{color:#40a9ff}.ran-input[value]>.ran-input-label{transform:translateY(calc(-50% - .43em)) scale(.8);color:#00000040}.ran-input[status=error]{border-color:#ff4d4f}.ran-input[status=error]>.ran-input-content~.ran-input-label{color:#ff4d4f}.ran-input[status=warning]{border-color:#ff7875}.ran-input[status=warning]>.ran-input-content~.ran-input-label{color:#ff7875}.ran-input[disabled]{color:#00000040;background-color:#f5f5f5;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed;opacity:1}.ran-input[disabled]>.ran-input-content{color:#00000040;background-color:#f5f5f5;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed;opacity:1}.ran-input[disabled]>.ran-input-content~.ran-input-label{color:#00000040;background-color:#f5f5f5}.ran-input[disabled]>.ran-input-label{color:#999;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed}.ran-input-content{writing-mode:horizontal-tb;text-rendering:auto;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0px;text-shadow:none;text-align:start;-webkit-rtl-ordering:logical;cursor:text;touch-action:manipulation;-webkit-appearance:none;text-overflow:ellipsis;box-sizing:border-box;margin:0;font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";position:relative;border:none;width:100%;min-width:0;color:#000000d9;font-size:14px;line-height:1.48;background-color:#fff;background-image:none;transition:all .3s;outline:none}.ran-input-content:focus,.ran-input-content:hover{border:none;outline:0}.ran-input-content::placeholder{color:#999}.ran-input-content:placeholder-shown~.ran-input-label{transform:translateY(calc(-50% - .43em)) scale(.8)}.ran-input-content:focus~.ran-input-label{transform:translateY(calc(-50% - .43em)) scale(.8)}.ran-input-content::-webkit-search-cancel-button{display:none;-webkit-appearance:none}.ran-input-label{pointer-events:none;position:absolute;font-size:14px;left:8px;transition:transform .3s,color .3s,background-color .3s,backdrop-filter .3s;transform-origin:left;padding:0 .2em;color:#999;background:#fff;opacity:.9}
`;function pw(){if(typeof window<"u"&&!customElements.get("r-input")){class K extends HTMLElement{constructor(){super(),ho(this,"_input"),ho(this,"_label"),ho(this,"_inputContent"),ho(this,"_icon"),ho(this,"customInput",g=>{g.stopPropagation();const f=g.target;this.value=f?f.value:"",this.customChange(),this.dispatchEvent(new CustomEvent("input",{detail:{value:this.value}}))}),ho(this,"customChange",()=>{this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))}),ho(this,"dealIcon",()=>{if(!this._icon){this._icon=document.createElement("r-icon");const{width:g,height:f}=this._inputContent.getBoundingClientRect(),u=Math.min(g,f);this._icon.setAttribute("size",`${u}`),this._inputContent.insertAdjacentElement("beforebegin",this._icon)}this.icon&&this._icon.setAttribute("name",this.icon)});const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=dw,e.appendChild(m),this._input=document.createElement("div"),this._input.setAttribute("class","ran-input"),this._input.setAttribute("part","ran-input"),this._inputContent=document.createElement("input"),this._inputContent.setAttribute("class","ran-input-content"),this._inputContent.setAttribute("part","ran-input-content"),this._input.appendChild(this._inputContent),e.appendChild(this._input)}static get observedAttributes(){return["label","disabled","name","placeholder","type","icon","status"]}get value(){return this.getAttribute("value")}set value(e){!bs(this)&&e?(this.setAttribute("value",e),this._input.setAttribute("value",e)):(this.removeAttribute("value"),this._input.removeAttribute("value"))}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){e?this.setAttribute("placeholder",e):this.removeAttribute("placeholder")}get required(){return this.getAttribute("required")}set required(e){!e||e==="false"?this.removeAttribute("required"):this.setAttribute("required","")}get disabled(){return bs(this)}set disabled(e){Wc.includes(e)?(this.removeAttribute("disabled"),this._input.removeAttribute("disabled"),this._inputContent.removeAttribute("disabled")):(this.setAttribute("disabled",""),this._input.setAttribute("disabled",""),this._inputContent.setAttribute("disabled",""))}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get status(){return this.getAttribute("status")||""}set status(e){e?(this.setAttribute("status",e),this._input.setAttribute("status",e)):(this.removeAttribute("status"),this._input.removeAttribute("status"))}get name(){return this.getAttribute("name")||""}set name(e){this.setAttribute("name",e)}get min(){return this.getAttribute("min")||""}set min(e){this.type==="number"&&this.setAttribute("min",e)}get max(){return this.getAttribute("max")||""}set max(e){this.type==="number"&&this.setAttribute("max",e)}get step(){return this.getAttribute("step")||""}set step(e){this.type==="number"&&this.setAttribute("step",e)}get icon(){return this.getAttribute("icon")}set icon(e){e?this.setAttribute("icon",e):this.removeAttribute("icon")}get type(){return this.getAttribute("type")}set type(e){e?this.setAttribute("type",e):this.removeAttribute("type")}listenPlaceholder(e,m){e==="placeholder"&&this._inputContent&&(m!=null?this._inputContent.setAttribute("placeholder",m):this._inputContent.removeAttribute("placeholder"))}listenLabel(e,m){e==="label"&&this._inputContent&&(m!=null?this._label?this._label.innerHTML=m:(this._label=document.createElement("label"),this._label.innerHTML=m,this._label.setAttribute("class","ran-input-label"),this._label.setAttribute("part","ran-input-label"),this._input.appendChild(this._label)):(this._input.removeAttribute("label"),this._label&&(this._input.removeChild(this._label),this._label=void 0)))}listenType(e,m){e==="type"&&this._inputContent&&(m?this._inputContent.setAttribute("type",m):(this._inputContent.removeAttribute("type"),this._inputContent.removeAttribute("min"),this._inputContent.removeAttribute("max"),this._inputContent.removeAttribute("step")))}listenStatus(e,m){e==="status"&&this._input&&(m?this._input.setAttribute("status",m):this._input.removeAttribute("status"))}listenDisabled(e,m){e==="disabled"&&this._input&&(Wc.includes(m)?this._input.removeAttribute("disabled"):(this._input.setAttribute("disabled",""),this._inputContent.setAttribute("disabled","")))}listenIcon(e,m,g){e==="icon"&&m&&m!==g&&(this.removeAttribute("label"),this.setAttribute("icon",m),this.dealIcon())}listenEvent(e,m,g){this.listenPlaceholder(e,g),this.listenLabel(e,g),this.listenStatus(e,g),this.listenDisabled(e,g),this.listenIcon(e,g,m)}connectedCallback(){this.value&&(this._inputContent.value=this.value,this._input.setAttribute("value",this.value)),this.status&&this._input.setAttribute("status",this.status),bs(this)&&(this._input.setAttribute("disabled",""),this._inputContent.setAttribute("disabled","")),this.type&&this._inputContent.setAttribute("type",this.type),this._inputContent.addEventListener("input",this.customInput),document.readyState==="complete"&&this.dealIcon()}disconnectCallback(){this._inputContent.removeEventListener("input",this.customInput)}attributeChangedCallback(e,m,g){this.listenEvent(e,m,g)}}return customElements.define("r-input",K),K}else return Vo("document is undefined or r-input is exist")}const mw=pw(),gw=Object.freeze(Object.defineProperty({__proto__:null,default:mw},Symbol.toStringTag,{value:"Module"}));var vw=Object.defineProperty,bw=(K,_,e)=>_ in K?vw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,za=(K,_,e)=>(bw(K,typeof _!="symbol"?_+"":_,e),e);const yw=`:host([type="toast"]){--ranui-message-background: rgba(0, 0, 0, .7);--ranui-message-color: #fff;--ranui-message-border-radius: 7px}.ran-message-notice{padding:8px;text-align:center;max-width:90%;margin:0 auto;word-break:break-all}.ran-message-notice-content{display:inline-block;padding:10px 16px;background:var(--ranui-message-background, #fff);border-radius:var(--ranui-message-border-radius, 8px);box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;pointer-events:all}.ran-message-notice-content-info{align-items:center;display:flex}.ran-message-notice-content-info span{margin:0;padding:0;color:var(--ranui-message-color, #000000d9);font-size:14px;font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";z-index:1010;width:100%;pointer-events:none}@keyframes MessageMoveIn{0%{padding:0;transform:translateY(-100%);opacity:0}to{padding:8px;transform:translateY(0);opacity:1}}@keyframes MessageMoveOut{0%{max-height:150px;padding:8px;opacity:1}to{max-height:0;padding:0;opacity:0}}.ranui-message{box-sizing:border-box;margin:0;padding:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";position:fixed;top:8px;left:0;z-index:1010;width:100%;pointer-events:none}.ranui-message .message-in{animation-name:MessageMoveIn;animation-duration:.3s;animation-timing-function:cubic-bezier(.78,.14,.15,.86)}.ranui-message .message-leave{animation-name:MessageMoveOut;animation-duration:.3s;animation-timing-function:cubic-bezier(.78,.14,.15,.86)}
`,dd=300,pd=3e3,ww=new Map([["success","check-circle-fill"],["warning","warning-circle-fill"],["error","close-circle-fill"],["info","info-circle-fill"],["toast",null]]),_w=new Map([["success","#52c41a"],["warning","#faad14"],["error","#ff4d4f"],["info","#1890ff"],["toast","rgba(0, 0, 0, 0.7)"]]);function xw(){if(typeof window<"u"&&!customElements.get("r-message")){class K extends HTMLElement{constructor(){super(),za(this,"_info"),za(this,"_notice"),za(this,"_content"),za(this,"_icon"),za(this,"_span"),za(this,"timeId"),za(this,"close"),za(this,"setIcon",h=>{var s,t,i,r;const n=ww.get(h),l=_w.get(h);n&&((s=this._icon)==null||s.setAttribute("name",n),(t=this._icon)==null||t.style.setProperty("margin-right","8px"),(i=this._icon)==null||i.setAttribute("size","18"),l&&((r=this._icon)==null||r.setAttribute("color",l)))}),this._notice=document.createElement("div"),this._notice.setAttribute("class","ran-message-notice"),this._content=document.createElement("div"),this._content.setAttribute("class","ran-message-notice-content"),this._info=document.createElement("div"),this._info.setAttribute("class","ran-message-notice-content-info"),this._icon=document.createElement("r-icon"),this._span=document.createElement("span"),this._info.appendChild(this._icon),this._info.appendChild(this._span),this._content.appendChild(this._info),this._notice.appendChild(this._content);const f=this.attachShadow({mode:"closed"}),u=document.createElement("style");u.textContent=yw,f.appendChild(u),f.appendChild(this._notice)}static get observedAttributes(){return["type","content"]}get type(){return this.getAttribute("type")}set type(f){f&&this.setAttribute("type",f)}get content(){return this.getAttribute("content")}set content(f){f&&this.setAttribute("content",f)}attributeChangedCallback(f,u,h){f==="content"&&u!==h&&(this._span.textContent=h),f==="type"&&u!==h&&this.setIcon(h)}}customElements.define("r-message",K);const _=document.createElement("div"),e=document.createElement("div");e.setAttribute("class","ranui-message"),document.body.appendChild(_),_.appendChild(e);const m=g=>f=>{const u=new K;u.setAttribute("class","message"),u.timeId&&clearTimeout(u.timeId),u.setAttribute("type",g);let h=pd,s;if(!f)return;typeof f=="string"?u.setAttribute("content",f):(u.setAttribute("content",f.content),s=f.close,h=f.duration||pd);const t=setTimeout(()=>{u.classList.remove("message-in"),u.classList.add("message-leave"),clearTimeout(t)},h-dd);u.timeId=setTimeout(()=>{u.classList.remove("message-leave"),e.removeChild(u),s&&s()},h),e.appendChild(u),u.classList.add("message-in"),setTimeout(()=>{u.classList.remove("message-in")},dd)};return{info:m("info"),success:m("success"),error:m("error"),warning:m("warning"),toast:m("toast")}}return{}}const kl=xw();typeof window<"u"&&kl&&(window.message=kl,window.ranui||(window.ranui={}),window.ranui.message=kl);const Ew=Object.freeze(Object.defineProperty({__proto__:null,default:kl},Symbol.toStringTag,{value:"Module"}));var Tw=Object.defineProperty,Sw=(K,_,e)=>_ in K?Tw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,ps=(K,_,e)=>(Sw(K,typeof _!="symbol"?_+"":_,e),e);const Aw=`.r-preview-slot{display:block}:host{cursor:pointer}.r-preview-mask{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000073;z-index:1081}.r-preview-mask .r-preview-loading{position:absolute;top:30vh;left:50vw;transform:translate(-50%);display:flex;flex-flow:column;align-items:center}.r-preview-mask .r-preview-loading-text{color:#fff;font-size:16px}.r-preview-mask .r-preview-options{width:100%;pointer-events:auto;display:flex;flex-flow:row-reverse nowrap;align-items:center;justify-content:space-between}.r-preview-mask .r-preview-options-close{margin:14px;border:none;cursor:pointer;transition:all .3s;-webkit-user-select:none;user-select:none}.r-preview-mask .r-preview-contain{max-width:calc(100vw - 20px);margin:0 auto;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center}.r-preview-mask .r-preview-contain .r-preview-context{margin:0 auto;height:calc(100vh - 68px);display:flex;flex-flow:column nowrap;justify-content:flex-start;align-items:center;overflow:auto}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main{width:100%;height:100%;margin-bottom:10px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet{font-size:13px;line-height:normal;-webkit-user-select:none;user-select:none;-moz-user-select:none;font-family:Lato,Source Sans Pro,Roboto,Helvetica,Arial,sans-serif;box-sizing:content-box;background:#fff;-webkit-font-smoothing:antialiased}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet textarea{font:400 13px Arial,Lato,Source Sans Pro,Roboto,Helvetica,sans-serif}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-sheet{position:relative;overflow:hidden}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-table{vertical-align:bottom}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-tooltip{font-family:inherit;position:absolute;padding:5px 10px;color:#fff;border-radius:1px;background:#000000;font-size:12px;z-index:201}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-tooltip:before{pointer-events:none;position:absolute;left:calc(50% - 4px);top:-4px;content:"";width:8px;height:8px;background:inherit;-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:1;box-shadow:1px 1px 3px -1px #0000004d}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-color-palette{padding:5px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-color-palette table{margin:0;padding:0;border-collapse:separate;border-spacing:2;background:#fff}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-color-palette table td{margin:0;cursor:pointer;border:1px solid transparent}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-color-palette table td:hover{border-color:#ddd}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-color-palette table td .x-spreadsheet-color-palette-cell{width:16px;height:16px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette{padding:6px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette table{margin:0;padding:0;border-collapse:separate;border-spacing:0;background:#fff;table-layout:fixed}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette table td{margin:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette .x-spreadsheet-border-palette-left{border-right:1px solid #eee;padding-right:6px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette .x-spreadsheet-border-palette-left .x-spreadsheet-border-palette-cell{width:30px;height:30px;cursor:pointer;text-align:center}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette .x-spreadsheet-border-palette-left .x-spreadsheet-border-palette-cell:hover{background-color:#eee}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette .x-spreadsheet-border-palette-right{padding-left:6px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-border-palette .x-spreadsheet-border-palette-right .x-spreadsheet-line-type{position:relative;left:0;top:-3px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dropdown{position:relative}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dropdown .x-spreadsheet-dropdown-content{position:absolute;z-index:200;background:#fff;box-shadow:1px 2px 5px 2px #33333326}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dropdown.bottom-left .x-spreadsheet-dropdown-content{top:calc(100% + 5px);left:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dropdown.bottom-right .x-spreadsheet-dropdown-content{top:calc(100% + 5px);right:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dropdown.top-left .x-spreadsheet-dropdown-content{bottom:calc(100% + 5px);left:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dropdown.top-right .x-spreadsheet-dropdown-content{bottom:calc(100% + 5px);right:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dropdown .x-spreadsheet-dropdown-title{padding:0 5px;display:inline-block}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-resizer{position:absolute;z-index:11}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-resizer .x-spreadsheet-resizer-hover{background-color:#4b89ff40}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-resizer .x-spreadsheet-resizer-line{position:absolute}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-resizer.horizontal{cursor:row-resize}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-resizer.horizontal .x-spreadsheet-resizer-line{border-bottom:2px dashed #4b89ff;left:0;bottom:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-resizer.vertical{cursor:col-resize}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-resizer.vertical .x-spreadsheet-resizer-line{border-right:2px dashed #4b89ff;top:0;right:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-scrollbar{position:absolute;bottom:0;right:0;background-color:#f4f5f8;opacity:.9;z-index:12}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-scrollbar.horizontal{right:15px;overflow-x:scroll;overflow-y:hidden}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-scrollbar.horizontal>div{height:1px;background:#ddd}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-scrollbar.vertical{bottom:15px;overflow-x:hidden;overflow-y:scroll}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-scrollbar.vertical>div{width:1px;background:#ddd}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-overlayer{position:absolute;left:0;top:0;z-index:10}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-overlayer .x-spreadsheet-overlayer-content{position:absolute;overflow:hidden;pointer-events:none;width:100%;height:100%}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-editor,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector{box-sizing:content-box;position:absolute;overflow:hidden;pointer-events:none;top:0;left:0;width:100%;height:100%}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .hide-input{position:absolute;z-index:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .hide-input input{padding:0;width:0;border:none!important}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .x-spreadsheet-selector-area{position:absolute;border:2px solid #4b89ff;background:rgba(75,137,255,.1);z-index:5}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .x-spreadsheet-selector-clipboard,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .x-spreadsheet-selector-autofill{position:absolute;background:transparent;z-index:100}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .x-spreadsheet-selector-clipboard{border:2px dashed #4b89ff}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .x-spreadsheet-selector-autofill{border:1px dashed rgba(0,0,0,.45)}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-selector .x-spreadsheet-selector-corner{pointer-events:auto;position:absolute;cursor:crosshair;font-size:0;height:5px;width:5px;right:-5px;bottom:-5px;border:2px solid #ffffff;background:#4b89ff}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-editor{z-index:20}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-editor .x-spreadsheet-editor-area{position:absolute;text-align:left;border:2px solid #4b89ff;line-height:0;z-index:100;pointer-events:auto}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-editor .x-spreadsheet-editor-area textarea{box-sizing:content-box;border:none;padding:0 3px;outline:none;resize:none;text-align:start;overflow-y:hidden;font:400 13px Arial,Lato,Source Sans Pro,Roboto,Helvetica,sans-serif;color:inherit;white-space:normal;word-wrap:break-word;line-height:22px;margin:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-editor .x-spreadsheet-editor-area .textline{overflow:hidden;visibility:hidden;position:fixed;top:0;left:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item{-webkit-user-select:none;user-select:none;background:0;border:1px solid transparent;outline:none;height:26px;color:#000000e6;line-height:26px;list-style:none;padding:2px 10px;cursor:default;text-align:left;overflow:hidden}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item.disabled{pointer-events:none;opacity:.5}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item:hover,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item.active{background:rgba(0,0,0,.05)}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item.divider{height:0;padding:0;margin:5px 0;border:none;border-bottom:1px solid rgba(0,0,0,.1)}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item .label{float:right;opacity:.65;font-size:1em}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item.state,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-header.state{padding-left:35px!important;position:relative}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item.state:before,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-header.state:before{content:"";position:absolute;width:10px;height:10px;left:12px;top:calc(50% - 5px);background:rgba(0,0,0,.08);border-radius:2px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-item.state.checked:before,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-header.state.checked:before{background:#4b89ff}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-checkbox{position:relative;display:inline-block;backface-visibility:hidden;outline:0;vertical-align:baseline;font-style:normal;font-size:1rem;line-height:1em}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-checkbox>input{position:absolute;top:0;left:0;opacity:0!important;outline:0;z-index:-1}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-suggest,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-contextmenu,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-sort-filter{position:absolute;box-shadow:1px 2px 5px 2px #33333326;background:#fff;z-index:100;width:260px;pointer-events:auto;overflow:auto}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-suggest{width:200px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-filter{border:1px solid #e9e9e9;font-size:12px;margin:10px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-filter .x-spreadsheet-header{padding:.5em .75em;background:#f8f8f9;border-bottom:1px solid #e9e9e9;border-left:1px solid transparent}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-filter .x-spreadsheet-body{height:200px;overflow-y:auto}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-filter .x-spreadsheet-body .x-spreadsheet-item{height:20px;line-height:20px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-sort-filter .x-spreadsheet-buttons{margin:10px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-bottombar{height:40px;padding:0 30px;text-align:left;background:#f5f6f7;display:flex}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-bottombar{position:relative;border-top:1px solid #e0e2e4}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-bottombar .x-spreadsheet-menu>li{line-height:40px;height:40px;padding-top:0;padding-bottom:0;vertical-align:middle;border-right:1px solid #e8eaed}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-menu{list-style:none;margin:0;padding:0;-webkit-user-select:none;user-select:none}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-menu>li{float:left;line-height:1.25em;padding:.785em 1em;margin:0;vertical-align:middle;text-align:left;font-weight:400;color:#80868b;white-space:nowrap;cursor:pointer;transition:all .3s;font-weight:700}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-menu>li.active{background-color:#fff;color:#000000a6}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-menu>li .x-spreadsheet-dropdown{display:inline-block}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-print{position:absolute;left:0;top:0;z-index:100;width:100%;height:100%;display:flex;flex-direction:column}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-print-bar{background:#424242;height:60px;line-height:60px;padding:0 30px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-print-bar .-title{color:#fff;font-weight:700;font-size:1.2em;float:left}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-print-bar .-right{float:right;margin-top:12px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-print-content{display:flex;flex:auto;flex-direction:row;background:#d0d0d0;height:calc(100% - 60px)}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-print-content .-sider{flex:0 0 300px;width:300px;border-left:2px solid #ccc;background:#fff}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-print-content .-content{flex:auto;overflow-x:auto;overflow-y:scroll;height:100%}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-canvas-card-wraper{margin:40px 20px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-canvas-card{background:#fff;margin:auto;page-break-before:auto;page-break-after:always;box-shadow:0 8px 10px 1px #00000024,0 3px 14px 3px #0000001f,0 4px 5px #0003}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar{color:#000000a6;background:#ffffff;-webkit-user-select:none;user-select:none}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-header{font-weight:700;line-height:30px;text-align:center;width:100%;float:left;background:#f9fafb}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-header .calendar-header-left{padding-left:5px;float:left}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-header .calendar-header-right{float:right}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-header .calendar-header-right a{padding:3px 0;margin-right:2px;border-radius:2px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-header .calendar-header-right a:hover{background:rgba(0,0,0,.08)}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-body{border-collapse:collapse;border-spacing:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-body th,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-body td{width:14.28571429%;min-width:32px;text-align:center;font-weight:700;line-height:30px;padding:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-body td>.cell:hover{background:#ecf6fd}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-body td>.cell.active,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-body td>.cell.active:hover{background:#ecf6fd;color:#2185d0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-calendar .calendar-body td>.cell.disabled{pointer-events:none;opacity:.5}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-datepicker{box-shadow:2px 2px 5px #0003;position:absolute;left:0;top:calc(100% + 5px);z-index:10;width:auto}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-buttons{display:flex;justify-content:flex-end}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-buttons .x-spreadsheet-button{margin-left:8px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-button{display:inline-block;border-radius:3px;line-height:1em;min-height:1em;white-space:nowrap;text-align:center;cursor:pointer;font-size:1em;font-weight:700;padding:.75em 1em;color:#0009;background:#e0e1e2;text-decoration:none;font-family:Lato,proxima-nova,Helvetica Neue,Arial,sans-serif;outline:none;vertical-align:baseline;zoom:1;-webkit-user-select:none;user-select:none;transition:all .1s linear}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-button.active,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-button:hover{background-color:#c0c1c2;color:#000c}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-button.primary{color:#fff;background-color:#2185d0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-button.primary:hover,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-button.primary.active{color:#fff;background-color:#1678c2}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-input{font-size:1em;position:relative;font-weight:400;display:inline-flex;color:#000000de}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-input input{z-index:1;margin:0;max-width:100%;flex:1 0 auto;outline:0;-webkit-tap-highlight-color:rgba(255,255,255,0);text-align:left;line-height:30px;height:30px;padding:0 8px;background:#fff;border:1px solid #e9e9e9;border-radius:3px;transition:box-shadow .1s ease,border-color .1s ease;box-shadow:inset 0 1px 2px #0a0a0a0f}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-input input:focus{border-color:#4b89ff;box-shadow:inset 0 1px 2px #4b89ff33}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-select{position:relative;display:inline-block;background:#fff;border:1px solid #e9e9e9;border-radius:2px;cursor:pointer;color:#000000de;-webkit-user-select:none;user-select:none;box-shadow:inset 0 1px 2px #0a0a0a0f}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-select .input-text{text-overflow:ellipsis;white-space:nowrap;min-width:60px;width:auto;height:30px;line-height:30px;padding:0 8px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-fields{display:flex;flex-direction:row;flex-wrap:wrap}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-fields .x-spreadsheet-form-field{flex:0 1 auto}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-fields .x-spreadsheet-form-field .label{display:inline-block;margin:0 10px 0 0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-field{display:block;vertical-align:middle;margin-left:10px;margin-bottom:10px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-field:first-child{margin-left:0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-field.error .x-spreadsheet-form-select,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-field.error input{border-color:#f04134}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-form-field .tip{color:#f04134;font-size:.9em}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dimmer{display:none;position:absolute;top:0!important;left:0!important;width:100%;height:100%;text-align:center;vertical-align:middle;background-color:#0009;opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:.5s;animation-duration:.5s;transition:background-color .5s linear;-webkit-user-select:none;user-select:none;z-index:1000}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-dimmer.active{display:block;opacity:1}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main form fieldset{border:none}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main form fieldset label{display:block;margin-bottom:.5em;font-size:1em;color:#666}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main form fieldset select{font-size:1.1em;width:100%;background-color:#fff;border:none;border-bottom:2px solid #ddd;padding:.5em .85em;border-radius:2px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-modal,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-toast{font-size:13px;position:fixed;z-index:1001;text-align:left;line-height:1.25em;min-width:360px;color:#000000de;font-family:Lato,Source Sans Pro,Roboto,Helvetica,Arial,sans-serif;border-radius:4px;border:1px solid rgba(0,0,0,.1);background-color:#fff;background-clip:padding-box;box-shadow:#0003 0 2px 8px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-toast{background-color:#ffffffd9}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-modal-header,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-toast-header{font-weight:600;background-clip:padding-box;background-color:#ffffffd9;border-bottom:1px solid rgba(0,0,0,.05);border-radius:4px 4px 0 0}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-toast-header{color:#f2711c}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-modal-header{border-bottom:1px solid #e0e2e4;background:rgba(0,0,0,.08);font-size:1.0785em}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-modal-header,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-modal-content,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-toast-header,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-toast-content{padding:.75em 1em}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-excel-main .x-spreadsheet-menu li:first-child{display:none}.r-preview-mask .r-preview-contain .r-preview-context .docx-wrapper{background:none}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section{width:100%;height:690px;position:relative;border:1px solid #333;background-color:#efefef;text-align:center;border-radius:10px;box-shadow:1px 1px 3px #aaa;overflow:hidden}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.block{position:absolute;top:0;left:0;width:100%}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.content{display:flex;flex-direction:column}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.v-up{justify-content:flex-start}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.v-mid{justify-content:center}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.v-down{justify-content:flex-end}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.h-left{align-items:flex-start;text-align:left}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.h-mid{align-items:center;text-align:center}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.h-right{align-items:flex-end;text-align:right}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.up-left{justify-content:flex-start;align-items:flex-start;text-align:left}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.up-center{justify-content:flex-start;align-items:center}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.up-right{justify-content:flex-start;align-items:flex-end}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.center-left{justify-content:center;align-items:flex-start;text-align:left}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.center-center{justify-content:center;align-items:center}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.center-right{justify-content:center;align-items:flex-end}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.down-left{justify-content:flex-end;align-items:flex-start;text-align:left}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.down-center{justify-content:flex-end;align-items:center}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section div.down-right{justify-content:flex-end;align-items:flex-end}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main li.slide{margin:10px 0;font-size:18px}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main div.footer{text-align:center}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section table{position:absolute}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section table,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section th,.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section td{border:1px solid black}.r-preview-mask .r-preview-contain .r-preview-context .r-preview-pptx-main section svg.drawing{position:absolute;overflow:visible}
`,{warning:kw=By}=kl,Cw="application/vnd.openxmlformats-officedocument.presentationml.presentation",Rw="application/pdf",Iw="application/vnd.openxmlformats-officedocument.wordprocessingml.document",md="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",gd="application/vnd.ms-excel";async function Mw(){if(typeof document<"u"&&!customElements.get("r-preview")){const{renderPptx:K}=await ii(()=>import("./index-03fd2f35.H757tBu7.js"),__vite__mapDeps([0,1,2])),{renderDocx:_}=await ii(()=>import("./docx-ba84dcab.V0CAxxZG.js"),__vite__mapDeps([3,2])),{renderPdf:e}=await ii(()=>import("./pdf-bdb7818a.7M7pl0-6.js"),__vite__mapDeps([4,2])),{renderExcel:m}=await ii(()=>import("./index-07c4de10.aOARrxOi.js"),__vite__mapDeps([5,1,2])),g=(t,i)=>{if(typeof XMLHttpRequest>"u")throw new Error("XMLHttpRequest is not defined");return typeof document>"u"?Promise.reject("document is not defined"):new Promise(function(r,n){const l=new XMLHttpRequest;l.open(i.method||"GET",t,!0),l.responseType=i.responseType||"arraybuffer",l.onload=function(){l.status===200?r({success:!0,data:l.response,message:""}):n({success:!1,data:l.status,message:`The request status is${l.status}`})},l.onerror=function(d){n({success:!1,data:d,message:""})},l.onprogress=d=>{i.onProgress&&i.onProgress(d)},l.withCredentials=i.withCredentials||!1,i.headers&&Object.keys(i.headers).forEach(function(d){i!=null&&i.headers&&l.setRequestHeader(d,i.headers[d])}),l.send(i.body)})},f=(t,i)=>new Promise((r,n)=>{const l=new FileReader;l.readAsArrayBuffer(t),l.onload=()=>{var d;if(l.result&&i){const a={pptx:l.result,resultElement:i};(d=K(a))==null||d.then(()=>{r()})}},l.onerror=d=>{n(d)},l.onabort=d=>{n(d)}}),u=(t,i)=>Promise.resolve().then(()=>_({buffer:t,bodyContainer:i})),h=new Map([[Rw,e],[Cw,f],[Iw,u],[md,m],[gd,m]]);class s extends HTMLElement{constructor(){super(),ps(this,"_loadingText"),ps(this,"preview"),ps(this,"previewContext"),ps(this,"_slot"),ps(this,"_div"),ps(this,"_loadingElement"),ps(this,"createLoading",()=>{this._loadingElement=document.createElement("div"),this._loadingElement.setAttribute("class","r-preview-loading");const n=document.createElement("r-icon");return n.setAttribute("name","loading"),n.setAttribute("size","100"),n.setAttribute("color","#1E90FF"),n.setAttribute("spin",""),this._loadingText=document.createElement("div"),this._loadingElement.appendChild(n),this._loadingText.setAttribute("class","r-preview-loading-text"),this._loadingElement.appendChild(this._loadingText),this._loadingElement}),ps(this,"onProgress",n=>{const l=n.loaded/n.total*100,d=Math.min(99,l).toFixed(2)+"%";this._loadingText&&this._loadingElement&&(this._loadingText.innerText=`Loading ${d}`,l>=100&&setTimeout(()=>{var a;(a=this.preview)==null||a.removeChild(this._loadingElement)},300))}),ps(this,"handleFile",async n=>{try{if(typeof n=="string"){const{success:l,data:d,message:a}=await g(n,{onProgress:this.onProgress,responseType:"blob"});if(l&&d){n=new File([d],d.name,{type:d.type});const{type:v}=n,y=h.get(v);y&&this.previewContext&&(v===md||v===gd?this.previewContext.style.setProperty("width","100%"):this.previewContext.style.setProperty("width","100%"),y(n,this.previewContext))}else kw(a)}}catch{}}),ps(this,"closePreview",()=>{this.preview&&(document.body.removeChild(this.preview),this.preview=void 0)}),ps(this,"showPreview",()=>{var n;if(this.src){if(this.preview)this.preview.style.display="block";else{this.preview=document.createElement("div"),this.preview.setAttribute("class","r-preview-mask"),this.preview.setAttribute("id","r-preview-mask");const l=document.createElement("div");if(l.setAttribute("class","r-preview-options"),this.closeable!=="false"){const a=document.createElement("r-icon");a.setAttribute("class","r-preview-options-close"),a.setAttribute("name","close-circle-fill"),a.setAttribute("size","40"),a.addEventListener("click",this.closePreview),l.appendChild(a)}const d=document.createElement("div");d.setAttribute("class","r-preview-contain"),this.previewContext=document.createElement("div"),this.previewContext.setAttribute("class","r-preview-context"),d.appendChild(this.previewContext),this.preview.appendChild(l),(n=this.preview)==null||n.appendChild(d),this._loadingElement=this.createLoading(),this.preview.appendChild(this._loadingElement),document.body.appendChild(this.preview)}this.handleFile(this.src)}}),this._div=document.createElement("div"),this.preview=document.getElementById("r-preview-mask"),this._slot=document.createElement("slot"),this._div.appendChild(this._slot),this._slot.setAttribute("class","r-preview-slot"),this._div.setAttribute("class","r-preview");const i=this.attachShadow({mode:"closed"}),r=document.createElement("style");r.textContent=Aw,i.appendChild(r),i.appendChild(this._div)}static get observedAttributes(){return["src","closeable"]}get label(){return this.getAttribute("label")}set label(i){i&&this.setAttribute("label",i)}get src(){return this.getAttribute("src")}set src(i){i&&this.setAttribute("src",i)}get closeable(){return this.getAttribute("closeable")}set closeable(i){i&&this.setAttribute("closeable",i)}connectedCallback(){this.preview=document.getElementById("r-preview-mask"),this.addEventListener("click",this.showPreview)}disconnectedCallback(){this.removeEventListener("click",this.showPreview)}attributeChangedCallback(i,r,n){n!==r&&i==="src"&&n&&(this.setAttribute("src",n),this.showPreview())}}customElements.define("r-preview",s)}}const Pw=Mw(),Dw=Object.freeze(Object.defineProperty({__proto__:null,default:Pw},Symbol.toStringTag,{value:"Module"}));var Lw=Object.defineProperty,Ow=(K,_,e)=>_ in K?Lw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,Nw=(K,_,e)=>(Ow(K,typeof _!="symbol"?_+"":_,e),e);const Fw=`@keyframes skeleton{0%{transform:translate(-37.5%)}to{transform:translate(37.5%)}}.ran-skeleton{position:relative;z-index:0;overflow:hidden;background:0 0;width:100%;height:16px;background:rgba(0,0,0,.06);border-radius:4px}.ran-skeleton:after{position:absolute;top:0;inset-inline-end:-150%;bottom:0;inset-inline-start:-150%;background:linear-gradient(90deg,rgba(0,0,0,.06) 25%,rgba(0,0,0,.15) 37%,rgba(0,0,0,.06) 63%);animation-name:skeleton;animation-duration:1.4s;animation-timing-function:ease;animation-iteration-count:infinite;content:""}
`;function Bw(){if(typeof window<"u"&&!customElements.get("r-skeleton")){class K extends HTMLElement{constructor(){super(),Nw(this,"_div"),this._div=document.createElement("div"),this._div.setAttribute("class","ran-skeleton");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=Fw,e.appendChild(m),e.appendChild(this._div)}static get observedAttributes(){return["disabled"]}connectedCallback(){}disconnectCallback(){}attributeChangedCallback(e,m,g){}}window.customElements.define("r-skeleton",K)}}const Uw=Bw(),jw=Object.freeze(Object.defineProperty({__proto__:null,default:Uw},Symbol.toStringTag,{value:"Module"}));var zw=Object.defineProperty,Hw=(K,_,e)=>_ in K?zw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,tf=(K,_,e)=>(Hw(K,typeof _!="symbol"?_+"":_,e),e);const $w="";function Ww(){if(typeof window<"u"&&!customElements.get("r-tab")){class K extends HTMLElement{constructor(){super(),tf(this,"_div"),tf(this,"parent"),tf(this,"initAttribute",()=>{var g,f,u;this.parent=this.parentNode,this.key&&((g=this.parent)==null||g.updateAttribute(this.key,"icon",this.icon)),this.key&&((f=this.parent)==null||f.updateAttribute(this.key,"iconSize",this.iconSize)),this.key&&((u=this.parent)==null||u.updateAttribute(this.key,"effect",this.effect))}),this._div=document.createElement("slot");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=$w,e.appendChild(m),e.appendChild(this._div)}static get observedAttributes(){return["label","key","disabled","icon","effect","iconSize"]}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get icon(){return this.getAttribute("icon")}set icon(e){!e||e==="false"?this.removeAttribute("icon"):this.setAttribute("icon",e)}get iconSize(){return this.getAttribute("iconSize")}set iconSize(e){!e||e==="false"?this.removeAttribute("iconSize"):this.setAttribute("iconSize",e)}get key(){return this.getAttribute("r-key")}set key(e){e?this.setAttribute("r-key",e):this.removeAttribute("r-key")}get disabled(){return this.getAttribute("disabled")}set disabled(e){!e||e==="false"?this.removeAttribute("disabled"):this.setAttribute("disabled",e)}get effect(){return this.getAttribute("effect")}set effect(e){!e||e==="false"?this.removeAttribute("effect"):this.setAttribute("effect",e)}onClick(e){}connectedCallback(){this._div.addEventListener("click",this.onClick),document.addEventListener("DOMContentLoaded",this.initAttribute)}disconnectCallback(){document.removeEventListener("DOMContentLoaded",this.initAttribute)}attributeChangedCallback(e,m,g){var f,u,h,s,t;m!==g&&this.key&&((f=this.parent)!=null&&f.updateAttribute)&&(e==="icon"&&((u=this.parent)==null||u.updateAttribute(this.key,"icon",g)),e==="iconSize"&&((h=this.parent)==null||h.updateAttribute(this.key,"iconSize",g)),e==="effect"&&((s=this.parent)==null||s.updateAttribute(this.key,"effect",g)),e==="disabled"&&((t=this.parent)==null||t.updateAttribute(this.key,"disabled",g)))}}return customElements.define("r-tab",K),K}}const Vw=Ww(),Xw=Object.freeze(Object.defineProperty({__proto__:null,default:Vw},Symbol.toStringTag,{value:"Module"}));var Gw=Object.defineProperty,Kw=(K,_,e)=>_ in K?Gw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,zi=(K,_,e)=>(Kw(K,typeof _!="symbol"?_+"":_,e),e);const Yw=`.ran-tab ::slotted(r-tab){box-sizing:border-box;width:100%;height:100%;padding:10px;flex-shrink:0;overflow:auto;text-align:start}.ran-tab-header{position:relative;overflow:hidden;scroll-behavior:smooth}.ran-tab-header-nav{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:center}.ran-tab-header-nav::-webkit-scrollbar{display:none}.ran-tab-header-nav-item{flex-shrink:0}.ran-tab-header-nav .active{color:var(--active-color, #1890ff)}.ran-tab-header-line{position:absolute;width:0;margin-top:-2px;height:2px;border-radius:2px;background:var(--line-color, #1890ff);transition:.2s}.ran-tab-content{overflow:hidden}.ran-tab-content-wrap{display:flex;width:100%;height:100%;transition:.2s}:host([type="line"]) .ran-tab-header-nav-item{border:solid 1px transparent}:host([type="line"]) .ran-tab-header-nav .active{color:var(--line-color, #1890ff);border:solid 1px transparent;border-color:var(--border-color, rgba(0, 0, 0, .2)) var(--border-color, rgba(0, 0, 0, .2)) transparent;border-radius:var(--border-radius, .25em) var(--border-radius, .25em) 0 0}:host([type="line"]) .ran-tab-header-line{transition:none;visibility:hidden}:host([type="line"]) .ran-tab-header-line:after,:host([type="line"]) .ran-tab-header-line:before{content:"";position:absolute;visibility:visible;width:9999px;height:1px;bottom:0;background:var(--border-color, rgba(0, 0, 0, .2))}:host([type="line"]) .ran-tab-header-line:after{left:100%}:host([type="line"]) .ran-tab-header-line:before{right:100%}:host([align="center"]) .ran-tab-header-nav{justify-content:center}:host([align="center"]) .ran-tab-header-line{left:50%}:host([align="end"]) .ran-tab-header-nav{justify-content:flex-end}
`;function Zw(){if(typeof window<"u"&&!customElements.get("r-tabs")){class K extends HTMLElement{constructor(){super(),zi(this,"_container"),zi(this,"_header"),zi(this,"_nav"),zi(this,"_line"),zi(this,"_content"),zi(this,"_wrap"),zi(this,"_slot"),zi(this,"tabHeaderKeyMapIndex"),zi(this,"initTabHeaderKeyMapIndex",(g,f)=>{if(this.tabHeaderKeyMapIndex[g])throw new Error("tab  key ,  tab  key ");this.tabHeaderKeyMapIndex[g]=f}),zi(this,"initTabLineAlignCenter",()=>{const{length:g}=this._nav.children;let f=0;for(let u=0;u<g;u++){const{width:h=0}=this._nav.children[u].getBoundingClientRect();f+=h}this._line.style.setProperty("left",`calc(50% - ${f/2}px)`)}),zi(this,"initTabLineAlignEnd",()=>{const{length:g}=this._nav.children;let f=0;for(let u=0;u<g;u++){const{width:h=0}=this._nav.children[u].getBoundingClientRect();f+=h}this._line.style.setProperty("left",`calc(100% - ${f}px)`)}),zi(this,"setTabLine",g=>{if(g){const f=this.tabHeaderKeyMapIndex[g],u=this._nav.children[f],{width:h=0}=u.getBoundingClientRect();this._line.style.setProperty("width",`${h}px`);let s=0;for(let t=0;t<f;t++){const i=this._nav.children[t],{width:r=0}=i.getBoundingClientRect();s+=r}this._line.style.setProperty("transform",`translateX(${s}px)`)}}),zi(this,"setTabContent",g=>{if(g){const f=this.tabHeaderKeyMapIndex[g];this._wrap.style.setProperty("transform",`translateX(${f*-100}%)`)}}),zi(this,"clickTabHead",g=>{const f=g.target,u=f.getAttribute("r-key");!bs(f)&&u&&(this.setAttribute("active",u),this.setTabLine(u),this.setTabContent(u),$y(this._nav,"active"),gs(f,"active"))}),zi(this,"updateAttribute",(g,f,u="")=>{var h,s;const t=this.tabHeaderKeyMapIndex[g];g&&u&&this._nav.children[t]?(h=this._nav.children[t])==null||h.setAttribute(f,u):(s=this._nav.children[t])==null||s.removeAttribute(f)}),zi(this,"initActive",()=>{const g=[...this._nav.children],f=g.filter(t=>!bs(t));let u;if(this.active!=null&&(u=f.find(t=>t.getAttribute("r-key")===this.active),u==null||u.setAttribute("r-key",this.active)),u||(u=f.shift()),!u)return;const h=g.findIndex(t=>t===u),s=(u==null?void 0:u.getAttribute("r-key"))||`${h}`;s!=null&&(this.setAttribute("active",`${s}`),gs(u,"active"),this.setTabContent(s),setTimeout(()=>{this.setTabLine(s)},200))}),zi(this,"listenSlotChange",()=>{this._slot.assignedElements().forEach((f,u)=>{const h=this.createTabHeader(f,u);this._nav.appendChild(h),h.addEventListener("click",this.clickTabHead)}),this.initActive(),this.align&&(this.align==="center"&&this.initTabLineAlignCenter(),this.align==="end"&&this.initTabLineAlignEnd())}),zi(this,"initTab",()=>{this._slot.addEventListener("slotchange",this.listenSlotChange)}),zi(this,"unloadTab",()=>{this._slot.removeEventListener("slotchange",this.listenSlotChange)}),this._container=document.createElement("div"),this._container.setAttribute("class","ran-tab"),this._header=document.createElement("div"),this._header.setAttribute("class","ran-tab-header"),this._nav=document.createElement("div"),this._nav.setAttribute("class","ran-tab-header-nav"),this._line=document.createElement("div"),this._line.setAttribute("class","ran-tab-header-line"),this._content=document.createElement("div"),this._content.setAttribute("class","ran-tab-content"),this._wrap=document.createElement("div"),this._wrap.setAttribute("class","ran-tab-content-wrap"),this._slot=document.createElement("slot"),this._wrap.appendChild(this._slot),this._content.appendChild(this._wrap),this._header.appendChild(this._nav),this._header.appendChild(this._line),this._container.appendChild(this._header),this._container.appendChild(this._content),this.tabHeaderKeyMapIndex={};const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=Yw,e.appendChild(m),e.appendChild(this._container)}static get observedAttributes(){return["active","forceRender","type","align","effect"]}get align(){return this.getAttribute("align")||"start"}set align(e){this.setAttribute("align",e)}set type(e){this.setAttribute("type",e)}get type(){return this.getAttribute("type")||"flat"}get active(){return this.getAttribute("active")}set active(e){e?(this.setAttribute("active",e),this.setTabLine(e),this.setTabContent(e)):this.removeAttribute("active")}get effect(){return this.getAttribute("effect")}set effect(e){!e||e==="false"?this.removeAttribute("effect"):this.setAttribute("effect",e)}createTabHeader(e,m){const g=e.getAttribute("label")||"",f=e.getAttribute("icon")||"",u=e.getAttribute("iconSize")||"",h=e.getAttribute("r-key")||`${m}`,s=e.getAttribute("type")||"text";this.initTabHeaderKeyMapIndex(h,m);const t=document.createElement("r-button");return t.setAttribute("class","tab-header-nav-item"),t.setAttribute("type",s),f&&t.setAttribute("icon",f),u&&t.setAttribute("iconSize",u),bs(e)&&t.setAttribute("disabled",""),t.setAttribute("r-key",h),this.effect&&(e.setAttribute("effect",this.effect),this._line.style.setProperty("display","none")),e.setAttribute("r-key",h),t.innerHTML=g,t}connectedCallback(){this.initTab()}disconnectCallback(){this.unloadTab()}attributeChangedCallback(e,m,g){m!==g&&(this.dispatchEvent(new CustomEvent("change",{detail:{active:this.active}})),e==="align"&&(g==="center"&&this.initTabLineAlignCenter(),g==="end"&&this.initTabLineAlignEnd()),e==="effect"&&[...this._nav.children].forEach(u=>{!this.effect||this.effect==="false"?u.removeAttribute("effect"):u.setAttribute("effect",g)}),e==="active"&&this.setAttribute(e,g))}}return customElements.define("r-tabs",K),K}}const Qw=Zw(),Jw=Object.freeze(Object.defineProperty({__proto__:null,default:Qw},Symbol.toStringTag,{value:"Module"}));var qw=Object.defineProperty,e_=(K,_,e)=>_ in K?qw(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,Os=(K,_,e)=>(e_(K,typeof _!="symbol"?_+"":_,e),e);const t_=`.ran-radar{position:relative;width:100%;height:100%;display:block}
`,r_="rgba(0,0,0,0)",i_="rgba(0,0,0,1)",vd="#e6e6e6",bd="#e6e6e6",n_="",yd="rgba(255,121,35,0.60)",wd="rgba(255,121,35,0.60)";function s_(){if(typeof document<"u"&&!customElements.get("r-radar")){class K extends HTMLElement{constructor(){super(),Os(this,"mData"),Os(this,"mCount"),Os(this,"mW"),Os(this,"mCenter"),Os(this,"mRadius"),Os(this,"mAngle"),Os(this,"abilityRadarChartContainer"),Os(this,"abilityRadarChart"),Os(this,"_iconElement"),Os(this,"_shadowDom"),this.abilityRadarChartContainer=document.createElement("div"),this.abilityRadarChartContainer.setAttribute("class","ran-radar"),this.abilityRadarChart=document.createElement("canvas"),this.abilityRadarChart.style.setProperty("width","100%"),this.abilityRadarChart.style.setProperty("height","100%"),this.abilityRadarChartContainer.appendChild(this.abilityRadarChart);const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=t_,e.appendChild(m),this._shadowDom=e,e.appendChild(this.abilityRadarChartContainer)}static get observedAttributes(){return["abilitys","colorPolygon","colorLine","fillColor","strokeColor"]}get abilitys(){const e=this.getAttribute("abilitys");if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}set abilitys(e){typeof e=="string"?this.setAttribute("abilitys",e||""):this.setAttribute("abilitys",JSON.stringify(e)||"")}get colorPolygon(){return this.getAttribute("colorPolygon")||vd}set colorPolygon(e){this.setAttribute("colorPolygon",e||vd)}get colorLine(){return this.getAttribute("colorLine")||bd}set colorLine(e){this.setAttribute("colorLine",e||bd)}get fillColor(){return this.getAttribute("fillColor")||yd}set fillColor(e){this.setAttribute("fillColor",e||yd)}get strokeColor(){return this.getAttribute("strokeColor")||wd}set strokeColor(e){this.setAttribute("strokeColor",e||wd)}refreshData(){var e;const m=this.abilityRadarChart.getContext("2d");if(!this.abilityRadarChartContainer||!m)return;const g=xl(m),f=this.abilityRadarChartContainer.clientWidth*g,u=this.abilityRadarChartContainer.clientHeight*g;this.abilityRadarChart.width=f,this.abilityRadarChart.height=u,this.mW=f,this.mData=this.abilitys,this.mCount=((e=this.mData)==null?void 0:e.length)||1,this.mCenter=this.mW/2,this.mRadius=this.mCenter-50*g,this.mAngle=Math.PI*2/this.mCount,this.drawPolygon(m),this.drawSide(m),this.drawLines(m),this.drawText(m),this.drawRegion(m),this.drawCircle(m)}drawSide(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle)return;e.save(),e.strokeStyle=this.colorLine;const m=this.mRadius;for(let g=0;g<this.mCount;g++){const f=this.mCenter+m*Math.sin(this.mAngle*g),u=this.mCenter+m*Math.cos(this.mAngle*g);e.lineTo(f,u)}e.closePath(),e.stroke()}drawPolygon(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle)return;e.save(),e.strokeStyle=this.colorPolygon;const m=this.mRadius/4;e.setLineDash([6,6]);for(let g=0;g<4;g++){e.beginPath();const f=m*(g+1);for(let u=0;u<this.mCount;u++){const h=this.mCenter+f*Math.sin(this.mAngle*u),s=this.mCenter+f*Math.cos(this.mAngle*u);e.lineTo(h,s)}e.closePath(),e.stroke()}e.restore()}drawLines(e){if(!(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle)){e.save(),e.beginPath(),e.strokeStyle=this.colorLine;for(let m=0;m<this.mCount;m++){const g=this.mCenter+this.mRadius*Math.sin(this.mAngle*m),f=this.mCenter+this.mRadius*Math.cos(this.mAngle*m);e.moveTo(this.mCenter,this.mCenter),e.lineTo(g,f)}e.stroke(),e.restore()}}drawText(e){var m,g,f,u;if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle||!this.mData)return;e.save();const h=xl(e),s=this.mCenter/12;for(let t=0;t<this.mCount;t++){const i=this.mCenter+this.mRadius*Math.sin(this.mAngle*t),r=this.mCenter+this.mRadius*Math.cos(this.mAngle*t),n=((m=this.mData[t])==null?void 0:m.backgroundColor)||r_,l=((g=this.mData[t])==null?void 0:g.fontColor)||i_,d=((f=this.mData[t])==null?void 0:f.fontFamily)||n_,a=((u=this.mData[t])==null?void 0:u.fontSize)||s;e.font=`${a}px ${d}`,this.mAngle*t>=0&&this.mAngle*t<Math.PI/2?this.drawButton(e,n,i,r,44*h,24*h,12*h,this.mData[t].abilityName,l,d,a):this.mAngle*t>=Math.PI/2&&this.mAngle*t<Math.PI?this.drawButton(e,n,i,r-24*h,44*h,24*h,12*h,this.mData[t].abilityName,l,d,a):this.mAngle*t>=Math.PI&&this.mAngle*t<Math.PI*3/2?this.drawButton(e,n,i-44*h,r-24*h,44*h,24*h,12*h,this.mData[t].abilityName,l,d,a):this.drawButton(e,n,i-44*h,r,44*h,24*h,12*h,this.mData[t].abilityName,l,d,a)}e.restore()}drawButton(e,m,g,f,u,h,s,t,i,r,n){e.beginPath();const l=xl(e);e.fillStyle=m,e.moveTo(g+s,f),e.lineTo(g+u-s,f),e.arc(g+u-s,f+s,s,Math.PI*3/2,Math.PI*2),e.lineTo(g+u,f+h-s),e.arc(g+u-s,f+h-s,s,Math.PI,Math.PI/2),e.lineTo(g+s,f+h),e.arc(g+s,f+h-s,s,Math.PI/2,Math.PI),e.lineTo(g,f+s),e.arc(g+s,f+s,s,Math.PI,Math.PI*3/2),e.fill(),e.closePath(),e.beginPath(),e.fillStyle=i,e.font=`${n||12*l}px ${r}`,e.textAlign="center",e.textBaseline="middle",e.fillText(t,g+u/2,f+h/2)}drawRegion(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle||!this.mData)return;const m=xl(e);e.save(),e.beginPath();for(let g=0;g<this.mCount;g++){const f=this.mCenter+this.mRadius*Math.sin(this.mAngle*g)*this.mData[g].scoreRate/100,u=this.mCenter+this.mRadius*Math.cos(this.mAngle*g)*this.mData[g].scoreRate/100;e.lineTo(f,u)}e.closePath(),e.fillStyle=this.fillColor,e.fill(),e.strokeStyle=this.strokeColor,e.lineWidth=1*m,e.stroke(),e.restore()}drawCircle(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle||!this.mData)return;const m=xl(e);e.save();for(let g=0;g<this.mCount;g++){const f=this.mCenter+this.mRadius*Math.sin(this.mAngle*g)*this.mData[g].scoreRate/100,u=this.mCenter+this.mRadius*Math.cos(this.mAngle*g)*this.mData[g].scoreRate/100;e.beginPath(),e.arc(f,u,3,0,Math.PI*2),e.lineWidth=1.5*m,e.strokeStyle=this.strokeColor,e.stroke()}e.restore()}connectedCallback(){this.refreshData()}disconnectCallback(){}attributeChangedCallback(e,m,g){["abilitys","colorPolygon","colorLine","fillColor","strokeColor"].includes(e)&&this.abilityRadarChartContainer&&m!==g&&this.refreshData()}}return customElements.define("r-radar",K),K}else return Vo("document is undefined or r-radar is exist")}const a_=s_(),o_=Object.freeze(Object.defineProperty({__proto__:null,default:a_},Symbol.toStringTag,{value:"Module"}));var l_=Object.defineProperty,c_=(K,_,e)=>_ in K?l_(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,Mc=(K,_,e)=>(c_(K,typeof _!="symbol"?_+"":_,e),e);const h_=`@keyframes ranui-select-dropdown-down-in{0%{transform:scaleY(.8);transform-origin:100% 100%;opacity:0}to{transform:scaleY(1);transform-origin:100% 100%;opacity:1}}@keyframes ranui-select-dropdown-down-out{0%{transform:scaleY(1);transform-origin:100% 100%;opacity:1}to{transform:scaleY(.8);transform-origin:100% 100%;opacity:0}}@keyframes ranui-select-dropdown-up-in{0%{transform:scaleY(.8);transform-origin:0% 0%;opacity:0}to{transform:scaleY(1);transform-origin:0% 0%;opacity:1}}@keyframes ranui-select-dropdown-up-out{0%{transform:scaleY(1);transform-origin:0% 0%;opacity:1}to{transform:scaleY(.8);transform-origin:0% 0%;opacity:0}}.ran-select-dropdown-down-in{animation:ranui-select-dropdown-up-in .2s;animation-fill-mode:forwards}.ran-select-dropdown-down-out{animation:ranui-select-dropdown-up-out .2s;animation-fill-mode:forwards}.ran-select-dropdown-up-in{animation:ranui-select-dropdown-down-in .2s;animation-fill-mode:forwards}.ran-select-dropdown-up-out{animation:ranui-select-dropdown-down-out .2s;animation-fill-mode:forwards}.ranui-select-dropdown{transform-origin:var(--ran-x, 50%) var(--ran-y, 50%);box-sizing:border-box;margin:0;padding:4px;color:#000000e0;font-size:14px;list-style:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";position:absolute;z-index:1050;overflow:hidden;font-variant:initial;background:#ffffff;border-radius:8px;outline:none;box-shadow:0 6px 16px #00000014,0 3px 6px -4px #0000001f,0 9px 28px 8px #0000000d;cursor:pointer}.ranui-select-dropdown-option-item{position:relative;display:block;padding:5px 12px;color:#000000e0;font-weight:400;font-size:14px;transition:background .3s ease;border-radius:4px}.ranui-select-dropdown-option-item:hover{background-color:#0000000a}.ranui-select-dropdown-option-item-content{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#000000e0;font-size:14px;line-height:1.57142857;box-sizing:border-box;list-style:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-variant:initial}.ranui-select-dropdown-option-active{background-color:#e6f7ff;font-weight:700}.ranui-select-dropdown-option-active:hover{background-color:#e6f7ff}
`;function f_(){if(typeof document<"u"&&!customElements.get("r-option")){class K extends HTMLElement{constructor(){super(),Mc(this,"_option"),Mc(this,"_optionContent"),Mc(this,"_shadowDom"),Mc(this,"_slot"),this._slot=document.createElement("slot"),this._option=document.createElement("div"),this._option.setAttribute("class","ran-option"),this._optionContent=document.createElement("div"),this._optionContent.setAttribute("class","ran-option-content"),this._optionContent.appendChild(this._slot),this._option.appendChild(this._optionContent);const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=h_,e.appendChild(m),this._shadowDom=e,e.appendChild(this._option)}static get observedAttributes(){return["disabled","sheet","value"]}get value(){return this.getAttribute("value")}set value(e){this.setAttribute("value",e||"")}get sheet(){return this.getAttribute("sheet")}set sheet(e){this.setAttribute("sheet",e||"")}get disabled(){return bs(this)}set disabled(e){!e||e==="false"?this.removeAttribute("disabled"):this.setAttribute("disabled","")}handlerExternalCss(){if(this.sheet)try{const e=new CSSStyleSheet;e.insertRule(this.sheet),this._shadowDom.adoptedStyleSheets=[e]}catch{console.error(`Failed to parse the rule in CSSStyleSheet: ${this.sheet}`)}}connectedCallback(){}disconnectCallback(){}attributeChangedCallback(e,m,g){e==="disabled"&&this._option&&(!g||g==="false"?this._option.setAttribute("disabled",""):this._option.removeAttribute("disabled")),e==="sheet"&&this._shadowDom&&m!==g&&this.handlerExternalCss()}}return K}else return Vo("document is undefined or r-option is exist")}f_();var u_=Object.defineProperty,d_=(K,_,e)=>_ in K?u_(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,qr=(K,_,e)=>(d_(K,typeof _!="symbol"?_+"":_,e),e);const p_=`:host{position:relative;display:inline-block;cursor:pointer;height:32px}:host ::slotted(r-option){display:none}:host([disabled]){cursor:not-allowed;pointer-events:all;opacity:.6}:host([type="text"])::part(selection){border:none}:host([type="text"])::part(icon){display:none}:host(:not([disabled]):hover) .select{cursor:pointer}:host(:not([disabled]):hover) .selection{border:1px solid #1890ff}:host(:not([disabled]):hover) .selection-search{cursor:pointer}:host(:not([disabled]):hover) .selection-item{cursor:pointer;color:#bfbfbf}:host(:not([disabled]):focus) .selection{border:1px solid #1890ff}:host(:not([disabled]):focus) .selection-search{cursor:pointer}:host(:not([disabled]):focus) .selection-item{cursor:pointer;color:#bfbfbf}:host .selection-search{display:none}:host([showSearch]:not([disabled])) .selection-search{cursor:text;display:block}:host([showSearch]:not([disabled])) .selection-item{cursor:pointer}:host([showSearch]:not([disabled]):focus) .selection-search{display:block;cursor:text;opacity:1}.ran-select{width:100%;height:100%;box-sizing:border-box;margin:0;padding:0;color:#000000e0;font-size:14px;line-height:1.57142857;list-style:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";position:relative;display:inline-block}.ran-select .selection{position:relative;background-color:#fff;border:1px solid #d9d9d9;transition:all .2s cubic-bezier(.645,.045,.355,1);width:100%;height:100%;padding:0 11px;box-sizing:border-box;margin:0;color:#000000e0;font-size:14px;line-height:1.57142857;list-style:none;font-family:inherit;display:flex;border-radius:6px}.ran-select .selection-search{position:absolute;top:0;left:0;height:100%;inset-inline-start:11px;inset-inline-end:11px;opacity:0;margin:0;padding:0;background:transparent;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit;cursor:not-allowed}.ran-select .selection-search::-webkit-search-cancel-button{display:none;-webkit-appearance:none}.ran-select .selection-search::part(ran-input){border:none;padding:0;height:100%;outline:none}.ran-select .selection-search::part(ran-input):active{border:none;padding:0;height:100%;outline:none;border-color:transparent;box-shadow:none;border-right-width:0px}.ran-select .selection-item{position:absolute;top:0;left:12px;margin:0;padding:0;background:transparent;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit;height:100%;-webkit-user-select:none;user-select:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.ran-select .selection-select{color:#00000040}.ran-select .selection .icon{display:flex;align-items:center;color:#00000040;font-style:normal;text-align:center;text-transform:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;top:50%;inset-inline-start:auto;inset-inline-end:8px;height:12px;margin-top:-3px;font-size:12px;pointer-events:none}
`,Pc={bottom:{add:"ran-select-dropdown-down-in",remove:"ran-select-dropdown-down-out"},top:{add:"ran-select-dropdown-up-in",remove:"ran-select-dropdown-up-out"}};class uf extends HTMLElement{constructor(){super(),qr(this,"_slot"),qr(this,"_shadowDom"),qr(this,"_select"),qr(this,"_selection"),qr(this,"_search"),qr(this,"_icon"),qr(this,"_selectDropdown"),qr(this,"_selectionDropdown"),qr(this,"_selectDropDownInTimeId"),qr(this,"_selectDropDownOutTimeId"),qr(this,"_optionList"),qr(this,"_optionLabelMapValue"),qr(this,"_optionValueMapLabel"),qr(this,"_activeOption"),qr(this,"_text"),qr(this,"_selector"),qr(this,"setSelectDropdownDisplayNone",()=>{this._selectDropDownOutTimeId||this._selectionDropdown&&this._selectionDropdown.style.display!=="none"&&(gs(this._selectionDropdown,Pc[this.placement].remove),this._selectDropDownOutTimeId=setTimeout(()=>{var m;(m=this._selectionDropdown)==null||m.style.setProperty("display","none"),this._selectionDropdown&&ua(this._selectionDropdown,Pc[this.placement].remove),clearTimeout(this._selectDropDownOutTimeId),this._selectDropDownOutTimeId=void 0},300))}),qr(this,"setSelectDropdownDisplayBlock",()=>{var m;this._selectDropDownInTimeId||this._selectionDropdown&&this._selectionDropdown.style.display!=="block"&&(gs(this._selectionDropdown,Pc[this.placement].add),(m=this._selectionDropdown)==null||m.style.setProperty("display","block"),this._selectDropDownInTimeId=setTimeout(()=>{this._selectionDropdown&&ua(this._selectionDropdown,Pc[this.placement].add),clearTimeout(this._selectDropDownInTimeId),this._selectDropDownInTimeId=void 0},200))}),qr(this,"placementPosition",()=>{if(!this._selectionDropdown||!this._selectDropdown)return;const m=this.getBoundingClientRect(),{top:g,left:f,bottom:u,width:h,height:s,x:t,y:i}=m;this._selectionDropdown.style.setProperty("-ran-x",`${t+window.scrollX}`),this._selectionDropdown.style.setProperty("-ran-y",`${i+window.scrollY}`),this._selectionDropdown.style.setProperty("width",`${h}px`),this.placement==="top"?this._selectionDropdown.style.setProperty("inset",`${g+window.scrollY-this._selectionDropdown.clientHeight}px auto auto ${f+window.scrollX}px`):this._selectionDropdown.style.setProperty("inset",`${u+window.scrollY}px auto auto ${f+window.scrollX}px`)}),qr(this,"selectMouseDown",()=>{bs(this)||(this.setSelectDropdownDisplayNone(),this.setSelectDropdownDisplayBlock(),this.placementPosition())}),qr(this,"selectBlur",()=>{this.setSelectDropdownDisplayNone()}),qr(this,"clickOption",m=>{var g,f;let u=m.target;if((g=u.classList)!=null&&g.contains("ranui-select-dropdown-option-item")&&(u=u.children[0]),!((f=u.classList)!=null&&f.contains("ranui-select-dropdown-option-item-content")))return;const h=u.innerHTML,s=this._optionLabelMapValue.get(h);s&&(this.setAttribute("value",s),this._text.innerHTML=h,this._text.setAttribute("title",h),this._search.setAttribute("placeholder",h)),this._activeOption&&ua(this._activeOption,"ranui-select-dropdown-option-active"),setTimeout(()=>{this._activeOption=(u==null?void 0:u.parentElement)||void 0,this._activeOption&&gs(this._activeOption,"ranui-select-dropdown-option-active")},200),this.setSelectDropdownDisplayNone(),this.dispatchEvent(new CustomEvent("change",{detail:{value:s,label:h}}))}),qr(this,"createOption",()=>{this._selectDropdown||(this._selectDropdown=document.createElement("div"),this._selectDropdown.addEventListener("click",this.clickOption),this._selectionDropdown=document.createElement("div"),this.dropdownclass?this._selectionDropdown.setAttribute("class",`${this.dropdownclass} ranui-select-dropdown`):this._selectionDropdown.setAttribute("class","ranui-select-dropdown"),this._selectDropdown.appendChild(this._selectionDropdown),this._selectionDropdown.style.setProperty("display","none"),document.body.appendChild(this._selectDropdown))}),qr(this,"removeSelectDropdown",()=>{try{this._selectDropdown&&document.body.removeChild(this._selectDropdown)}catch{}}),qr(this,"addOptionToSlot",()=>{this._slot.assignedElements().forEach(g=>{var f;if(g.tagName!=="R-OPTION")return;const u=g.innerHTML,h=g.getAttribute("value")||"";(f=this._optionList)==null||f.push({label:u,value:h}),this._optionLabelMapValue.get(u)&&console.warn(`${u} is repeat option`),this._optionValueMapLabel.get(h)&&console.warn(`${h} is repeat option`),this._optionLabelMapValue.set(u,h),this._optionValueMapLabel.set(h,u)}),this._optionList.forEach(g=>{if(this._selectionDropdown){const{label:f,value:u}=g,h=document.createElement("div");(this.getAttribute("defaultValue")||this.getAttribute("value"))===u?(h.setAttribute("class","ranui-select-dropdown-option-active ranui-select-dropdown-option-item"),this._activeOption=h):h.setAttribute("class","ranui-select-dropdown-option-item");const t=document.createElement("div");t.setAttribute("class","ranui-select-dropdown-option-item-content"),t.innerHTML=`${f}`,t.setAttribute("value",`${u}`),t.setAttribute("title",`${f}`),h.appendChild(t),this._selectionDropdown.appendChild(h)}}),this.setDefaultValue()}),qr(this,"setDefaultValue",()=>{const m=this.getAttribute("defaultValue")||this.getAttribute("value");if(!m)return;const g=this._optionValueMapLabel.get(m);if(!g)return;this.setAttribute("value",m);const f=this.getBoundingClientRect(),{height:u}=f;this._text.style.setProperty("line-height",`${u}px`),this._text.innerHTML=g,this._text.setAttribute("title",g)}),qr(this,"changeSearch",m=>{}),qr(this,"setShowSearch",()=>{this._search.addEventListener("change",this.changeSearch)}),qr(this,"listenSlotChange",()=>{this._slot.addEventListener("slotchange",this.addOptionToSlot)}),qr(this,"removeListenSlotChange",()=>{this._slot.removeEventListener("slotchange",this.addOptionToSlot)}),this._slot=document.createElement("slot"),this._select=document.createElement("div"),this._select.setAttribute("class","ran-select"),this._select.setAttribute("part","select"),this._selection=document.createElement("div"),this._selection.setAttribute("class","selection"),this._selection.setAttribute("part","selection"),this._selector=document.createElement("div"),this._search=document.createElement("r-input"),this._search.setAttribute("class","selection-search"),this._search.setAttribute("part","search"),this._search.setAttribute("type","search"),this._search.setAttribute("autocomplete","off"),this._text=document.createElement("span"),this._text.setAttribute("class","selection-item"),this._text.setAttribute("part","selection-item"),this._icon=document.createElement("r-icon"),this._icon.setAttribute("class","icon"),this._icon.setAttribute("part","icon"),this._icon.setAttribute("name","arrow-down"),this._icon.setAttribute("color","#d9d9d9"),this._icon.setAttribute("size","16"),this._selector.appendChild(this._text),this._selector.appendChild(this._search),this._selection.appendChild(this._icon),this._selection.appendChild(this._selector),this._slot.setAttribute("class","slot"),this._select.appendChild(this._selection),this._select.appendChild(this._slot),this._optionList=[],this._optionLabelMapValue=new Map,this._optionValueMapLabel=new Map;const _=this.attachShadow({mode:"closed"}),e=document.createElement("style");e.textContent=p_,_.appendChild(e),this._shadowDom=_,_.appendChild(this._select)}static get observedAttributes(){return["disabled","sheet","clear","type","defaultValue","showSearch","placement","dropdownclass"]}get value(){return this.getAttribute("value")||""}set value(_){!bs(this)&&_?this.setAttribute("value",_):this.removeAttribute("value")}get defaultValue(){return this.getAttribute("defaultValue")||""}set defaultValue(_){this.setAttribute("defaultValue",_||"")}get showSearch(){return this.getAttribute("showSearch")||""}set showSearch(_){this.setAttribute("showSearch",_||"")}get type(){return this.getAttribute("type")||""}set type(_){this.setAttribute("type",_||"")}get placement(){return this.getAttribute("placement")||"bottom"}set placement(_){this.setAttribute("placement",_||"")}get sheet(){return this.getAttribute("sheet")||""}set sheet(_){this.setAttribute("sheet",_||"")}get dropdownclass(){return this.getAttribute("dropdownclass")||""}set dropdownclass(_){this.setAttribute("dropdownclass",_||"")}get disabled(){return bs(this)}set disabled(_){!_||_==="false"?(this.removeAttribute("disabled"),this._selection.removeAttribute("disabled")):(this.setAttribute("disabled",""),this._selection.setAttribute("disabled",""))}handlerExternalCss(){if(this.sheet)try{const _=new CSSStyleSheet;_.insertRule(this.sheet),this._shadowDom.adoptedStyleSheets=[_]}catch{console.error(`Failed to parse the rule in CSSStyleSheet: ${this.sheet}`)}}connectedCallback(){this.handlerExternalCss(),this.createOption(),this.addEventListener("mousedown",this.selectMouseDown),this.addEventListener("blur",this.selectBlur),this.listenSlotChange(),this.setShowSearch()}disconnectCallback(){var _;this.removeEventListener("mousedown",this.selectMouseDown),this.removeEventListener("blur",this.selectBlur),this.removeSelectDropdown(),(_=this._selectDropdown)==null||_.removeEventListener("click",this.clickOption),this.removeListenSlotChange()}attributeChangedCallback(_,e,m){_==="disabled"&&this._select&&(!m||m==="false"?(this._select.setAttribute("disabled",""),this._selection.setAttribute("disabled","")):(this._select.removeAttribute("disabled"),this._selection.removeAttribute("disabled"))),_==="sheet"&&this._shadowDom&&e!==m&&this.handlerExternalCss()}}function m_(){return typeof document<"u"&&!customElements.get("r-select")?(customElements.define("r-select",uf),uf):Vo("document is undefined or r-select is exist")}const g_=m_(),v_=Object.freeze(Object.defineProperty({__proto__:null,Select:uf,default:g_},Symbol.toStringTag,{value:"Module"}));function b_(){if(typeof window<"u"&&!customElements.get("r-modal")){class K extends HTMLElement{constructor(){super()}}customElements.define("r-modal",K)}}const y_=b_(),w_=Object.freeze(Object.defineProperty({__proto__:null,default:y_},Symbol.toStringTag,{value:"Module"}));var __=Object.defineProperty,x_=(K,_,e)=>_ in K?__(K,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):K[_]=e,_t=(K,_,e)=>(x_(K,typeof _!="symbol"?_+"":_,e),e);const E_="";(function K(_){var e,m;e=this,m=function(){function g(N,R){var o=Object.keys(N);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(N);R&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(N,b).enumerable})),o.push.apply(o,c)}return o}function f(N){for(var R=1;R<arguments.length;R++){var o=arguments[R]!=null?arguments[R]:{};R%2?g(Object(o),!0).forEach(function(c){s(N,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach(function(c){Object.defineProperty(N,c,Object.getOwnPropertyDescriptor(o,c))})}return N}function u(N,R){for(var o=0;o<R.length;o++){var c=R[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(N,p(c.key),c)}}function h(N,R,o){return R&&u(N.prototype,R),o&&u(N,o),Object.defineProperty(N,"prototype",{writable:!1}),N}function s(N,R,o){return(R=p(R))in N?Object.defineProperty(N,R,{value:o,enumerable:!0,configurable:!0,writable:!0}):N[R]=o,N}function t(){return t=Object.assign?Object.assign.bind():function(N){for(var R=1;R<arguments.length;R++){var o=arguments[R];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(N[c]=o[c])}return N},t.apply(this,arguments)}function i(N,R){N.prototype=Object.create(R.prototype),N.prototype.constructor=N,n(N,R)}function r(N){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},r(N)}function n(N,R){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},n(N,R)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(N,R,o){return d=l()?Reflect.construct.bind():function(c,b,k){var M=[null];M.push.apply(M,b);var U=new(Function.bind.apply(c,M));return k&&n(U,k.prototype),U},d.apply(null,arguments)}function a(N){var R=typeof Map=="function"?new Map:void 0;return a=function(o){if(o===null||(c=o,Function.toString.call(c).indexOf("[native code]")===-1))return o;var c;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(o))return R.get(o);R.set(o,b)}function b(){return d(o,arguments,r(this).constructor)}return b.prototype=Object.create(o.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),n(b,o)},a(N)}function v(N,R){(R==null||R>N.length)&&(R=N.length);for(var o=0,c=new Array(R);o<R;o++)c[o]=N[o];return c}function y(N,R){var o=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(o)return(o=o.call(N)).next.bind(o);if(Array.isArray(N)||(o=function(b,k){if(b){if(typeof b=="string")return v(b,k);var M=Object.prototype.toString.call(b).slice(8,-1);return M==="Object"&&b.constructor&&(M=b.constructor.name),M==="Map"||M==="Set"?Array.from(b):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?v(b,k):void 0}}(N))||R&&N&&typeof N.length=="number"){o&&(N=o);var c=0;return function(){return c>=N.length?{done:!0}:{done:!1,value:N[c++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(N){var R=function(o,c){if(typeof o!="object"||o===null)return o;var b=o[Symbol.toPrimitive];if(b!==void 0){var k=b.call(o,c||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(o)}(N,"string");return typeof R=="symbol"?R:String(R)}function E(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}var T={exports:{}};(function(N,R){var o,c,b,k,M;o=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,c=/^(?=([^\/?#]*))\1([^]*)$/,b=/(?:\/|^)\.(?=\/)/g,k=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,M={buildAbsoluteURL:function(U,X,J){if(J=J||{},U=U.trim(),!(X=X.trim())){if(!J.alwaysNormalize)return U;var ee=M.parseURL(U);if(!ee)throw new Error("Error trying to parse base URL.");return ee.path=M.normalizePath(ee.path),M.buildURLFromParts(ee)}var oe=M.parseURL(X);if(!oe)throw new Error("Error trying to parse relative URL.");if(oe.scheme)return J.alwaysNormalize?(oe.path=M.normalizePath(oe.path),M.buildURLFromParts(oe)):X;var pe=M.parseURL(U);if(!pe)throw new Error("Error trying to parse base URL.");if(!pe.netLoc&&pe.path&&pe.path[0]!=="/"){var me=c.exec(pe.path);pe.netLoc=me[1],pe.path=me[2]}pe.netLoc&&!pe.path&&(pe.path="/");var be={scheme:pe.scheme,netLoc:oe.netLoc,path:null,params:oe.params,query:oe.query,fragment:oe.fragment};if(!oe.netLoc&&(be.netLoc=pe.netLoc,oe.path[0]!=="/"))if(oe.path){var Te=pe.path,Re=Te.substring(0,Te.lastIndexOf("/")+1)+oe.path;be.path=M.normalizePath(Re)}else be.path=pe.path,oe.params||(be.params=pe.params,oe.query||(be.query=pe.query));return be.path===null&&(be.path=J.alwaysNormalize?M.normalizePath(oe.path):oe.path),M.buildURLFromParts(be)},parseURL:function(U){var X=o.exec(U);return X?{scheme:X[1]||"",netLoc:X[2]||"",path:X[3]||"",params:X[4]||"",query:X[5]||"",fragment:X[6]||""}:null},normalizePath:function(U){for(U=U.split("").reverse().join("").replace(b,"");U.length!==(U=U.replace(k,"")).length;);return U.split("").reverse().join("")},buildURLFromParts:function(U){return U.scheme+U.netLoc+U.path+U.params+U.query+U.fragment}},N.exports=M})(T);var S=T.exports,A=Number.isFinite||function(N){return typeof N=="number"&&isFinite(N)},w=function(N){return N.MEDIA_ATTACHING="hlsMediaAttaching",N.MEDIA_ATTACHED="hlsMediaAttached",N.MEDIA_DETACHING="hlsMediaDetaching",N.MEDIA_DETACHED="hlsMediaDetached",N.BUFFER_RESET="hlsBufferReset",N.BUFFER_CODECS="hlsBufferCodecs",N.BUFFER_CREATED="hlsBufferCreated",N.BUFFER_APPENDING="hlsBufferAppending",N.BUFFER_APPENDED="hlsBufferAppended",N.BUFFER_EOS="hlsBufferEos",N.BUFFER_FLUSHING="hlsBufferFlushing",N.BUFFER_FLUSHED="hlsBufferFlushed",N.MANIFEST_LOADING="hlsManifestLoading",N.MANIFEST_LOADED="hlsManifestLoaded",N.MANIFEST_PARSED="hlsManifestParsed",N.LEVEL_SWITCHING="hlsLevelSwitching",N.LEVEL_SWITCHED="hlsLevelSwitched",N.LEVEL_LOADING="hlsLevelLoading",N.LEVEL_LOADED="hlsLevelLoaded",N.LEVEL_UPDATED="hlsLevelUpdated",N.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",N.LEVELS_UPDATED="hlsLevelsUpdated",N.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",N.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",N.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",N.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",N.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",N.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",N.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",N.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",N.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",N.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",N.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",N.CUES_PARSED="hlsCuesParsed",N.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",N.INIT_PTS_FOUND="hlsInitPtsFound",N.FRAG_LOADING="hlsFragLoading",N.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",N.FRAG_LOADED="hlsFragLoaded",N.FRAG_DECRYPTED="hlsFragDecrypted",N.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",N.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",N.FRAG_PARSING_METADATA="hlsFragParsingMetadata",N.FRAG_PARSED="hlsFragParsed",N.FRAG_BUFFERED="hlsFragBuffered",N.FRAG_CHANGED="hlsFragChanged",N.FPS_DROP="hlsFpsDrop",N.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",N.ERROR="hlsError",N.DESTROYING="hlsDestroying",N.KEY_LOADING="hlsKeyLoading",N.KEY_LOADED="hlsKeyLoaded",N.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",N.BACK_BUFFER_REACHED="hlsBackBufferReached",N}({}),I=function(N){return N.NETWORK_ERROR="networkError",N.MEDIA_ERROR="mediaError",N.KEY_SYSTEM_ERROR="keySystemError",N.MUX_ERROR="muxError",N.OTHER_ERROR="otherError",N}({}),D=function(N){return N.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",N.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",N.KEY_SYSTEM_NO_SESSION="keySystemNoSession",N.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",N.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",N.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",N.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",N.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",N.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",N.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",N.MANIFEST_LOAD_ERROR="manifestLoadError",N.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",N.MANIFEST_PARSING_ERROR="manifestParsingError",N.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",N.LEVEL_EMPTY_ERROR="levelEmptyError",N.LEVEL_LOAD_ERROR="levelLoadError",N.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",N.LEVEL_PARSING_ERROR="levelParsingError",N.LEVEL_SWITCH_ERROR="levelSwitchError",N.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",N.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",N.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",N.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",N.FRAG_LOAD_ERROR="fragLoadError",N.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",N.FRAG_DECRYPT_ERROR="fragDecryptError",N.FRAG_PARSING_ERROR="fragParsingError",N.FRAG_GAP="fragGap",N.REMUX_ALLOC_ERROR="remuxAllocError",N.KEY_LOAD_ERROR="keyLoadError",N.KEY_LOAD_TIMEOUT="keyLoadTimeOut",N.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",N.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",N.BUFFER_APPEND_ERROR="bufferAppendError",N.BUFFER_APPENDING_ERROR="bufferAppendingError",N.BUFFER_STALLED_ERROR="bufferStalledError",N.BUFFER_FULL_ERROR="bufferFullError",N.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",N.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",N.INTERNAL_EXCEPTION="internalException",N.INTERNAL_ABORTED="aborted",N.UNKNOWN="unknown",N}({}),V=function(){},ie={trace:V,debug:V,log:V,warn:V,info:V,error:V},te=ie;function re(N){var R=self.console[N];return R?R.bind(self.console,"["+N+"] >"):V}function Z(N,R){if(self.console&&N===!0||typeof N=="object"){(function(o){for(var c=arguments.length,b=new Array(c>1?c-1:0),k=1;k<c;k++)b[k-1]=arguments[k];b.forEach(function(M){te[M]=o[M]?o[M].bind(o):re(M)})})(N,"debug","log","info","warn","error");try{te.log('Debug logs enabled for "'+R+'" in hls.js version 1.4.12')}catch{te=ie}}else te=ie}var W=te,j=/^(\d+)x(\d+)$/,O=/(.+?)=(".*?"|.*?)(?:,|$)/g,C=function(){function N(o){for(var c in typeof o=="string"&&(o=N.parseAttrList(o)),o)o.hasOwnProperty(c)&&(c.substring(0,2)==="X-"&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(c)),this[c]=o[c])}var R=N.prototype;return R.decimalInteger=function(o){var c=parseInt(this[o],10);return c>Number.MAX_SAFE_INTEGER?1/0:c},R.hexadecimalInteger=function(o){if(this[o]){var c=(this[o]||"0x").slice(2);c=(1&c.length?"0":"")+c;for(var b=new Uint8Array(c.length/2),k=0;k<c.length/2;k++)b[k]=parseInt(c.slice(2*k,2*k+2),16);return b}return null},R.hexadecimalIntegerAsNumber=function(o){var c=parseInt(this[o],16);return c>Number.MAX_SAFE_INTEGER?1/0:c},R.decimalFloatingPoint=function(o){return parseFloat(this[o])},R.optionalFloat=function(o,c){var b=this[o];return b?parseFloat(b):c},R.enumeratedString=function(o){return this[o]},R.bool=function(o){return this[o]==="YES"},R.decimalResolution=function(o){var c=j.exec(this[o]);if(c!==null)return{width:parseInt(c[1],10),height:parseInt(c[2],10)}},N.parseAttrList=function(o){var c,b={};for(O.lastIndex=0;(c=O.exec(o))!==null;){var k=c[2];k.indexOf('"')===0&&k.lastIndexOf('"')===k.length-1&&(k=k.slice(1,-1)),b[c[1].trim()]=k}return b},N}();function F(N){return N==="SCTE35-OUT"||N==="SCTE35-IN"}var H=function(){function N(R,o){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,o){var c=o.attr;for(var b in c)if(Object.prototype.hasOwnProperty.call(R,b)&&R[b]!==c[b]){W.warn('DATERANGE tag attribute: "'+b+'" does not match for tags with ID: "'+R.ID+'"'),this._badValueForSameId=b;break}R=t(new C({}),c,R)}if(this.attr=R,this._startDate=new Date(R["START-DATE"]),"END-DATE"in this.attr){var k=new Date(this.attr["END-DATE"]);A(k.getTime())&&(this._endDate=k)}}return h(N,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var R=this.duration;return R!==null?new Date(this._startDate.getTime()+1e3*R):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var R=this.attr.decimalFloatingPoint("DURATION");if(A(R))return R}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&A(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),N}(),$=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},Y="audio",z="video",B="audiovideo",L=function(){function N(R){var o;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((o={})[Y]=null,o[z]=null,o[B]=null,o),this.baseurl=R}return N.prototype.setByteRange=function(R,o){var c=R.split("@",2),b=[];c.length===1?b[0]=o?o.byteRangeEndOffset:0:b[0]=parseInt(c[1]),b[1]=parseInt(c[0])+b[0],this._byteRange=b},h(N,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=S.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(R){this._url=R}}]),N}(),G=function(N){function R(c,b){var k;return(k=N.call(this,b)||this)._decryptdata=null,k.rawProgramDateTime=null,k.programDateTime=null,k.tagList=[],k.duration=0,k.sn=0,k.levelkeys=void 0,k.type=void 0,k.loader=null,k.keyLoader=null,k.level=-1,k.cc=0,k.startPTS=void 0,k.endPTS=void 0,k.startDTS=void 0,k.endDTS=void 0,k.start=0,k.deltaPTS=void 0,k.maxStartPTS=void 0,k.minEndPTS=void 0,k.stats=new $,k.urlId=0,k.data=void 0,k.bitrateTest=!1,k.title=null,k.initSegment=null,k.endList=void 0,k.gap=void 0,k.type=c,k}i(R,N);var o=R.prototype;return o.setKeyFormat=function(c){if(this.levelkeys){var b=this.levelkeys[c];b&&!this._decryptdata&&(this._decryptdata=b.getDecryptData(this.sn))}},o.abortRequests=function(){var c,b;(c=this.loader)==null||c.abort(),(b=this.keyLoader)==null||b.abort()},o.setElementaryStreamInfo=function(c,b,k,M,U,X){X===void 0&&(X=!1);var J=this.elementaryStreams,ee=J[c];ee?(ee.startPTS=Math.min(ee.startPTS,b),ee.endPTS=Math.max(ee.endPTS,k),ee.startDTS=Math.min(ee.startDTS,M),ee.endDTS=Math.max(ee.endDTS,U)):J[c]={startPTS:b,endPTS:k,startDTS:M,endDTS:U,partial:X}},o.clearElementaryStreamInfo=function(){var c=this.elementaryStreams;c[Y]=null,c[z]=null,c[B]=null},h(R,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var c=this.levelkeys.identity;if(c)this._decryptdata=c.getDecryptData(this.sn);else{var b=Object.keys(this.levelkeys);if(b.length===1)return this._decryptdata=this.levelkeys[b[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!A(this.programDateTime))return null;var c=A(this.duration)?this.duration:0;return this.programDateTime+1e3*c}},{key:"encrypted",get:function(){var c;if((c=this._decryptdata)!=null&&c.encrypted)return!0;if(this.levelkeys){var b=Object.keys(this.levelkeys),k=b.length;if(k>1||k===1&&this.levelkeys[b[0]].encrypted)return!0}return!1}}]),R}(L),le=function(N){function R(o,c,b,k,M){var U;(U=N.call(this,b)||this).fragOffset=0,U.duration=0,U.gap=!1,U.independent=!1,U.relurl=void 0,U.fragment=void 0,U.index=void 0,U.stats=new $,U.duration=o.decimalFloatingPoint("DURATION"),U.gap=o.bool("GAP"),U.independent=o.bool("INDEPENDENT"),U.relurl=o.enumeratedString("URI"),U.fragment=c,U.index=k;var X=o.enumeratedString("BYTERANGE");return X&&U.setByteRange(X,M),M&&(U.fragOffset=M.fragOffset+M.duration),U}return i(R,N),h(R,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var o=this.elementaryStreams;return!!(o.audio||o.video||o.audiovideo)}}]),R}(L),ge=function(){function N(R){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=R}return N.prototype.reloaded=function(R){if(!R)return this.advanced=!0,void(this.updated=!0);var o=this.lastPartSn-R.lastPartSn,c=this.lastPartIndex-R.lastPartIndex;this.updated=this.endSN!==R.endSN||!!c||!!o||!this.live,this.advanced=this.endSN>R.endSN||o>0||o===0&&c>0,this.updated||this.advanced?this.misses=Math.floor(.6*R.misses):this.misses=R.misses+1,this.availabilityDelay=R.availabilityDelay},h(N,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&A(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var R=this.driftEndTime-this.driftStartTime;return R>0?1e3*(this.driftEnd-this.driftStart)/R:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var R;return(R=this.partList)!=null&&R.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var R;return(R=this.fragments)!=null&&R.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var R;return(R=this.partList)!=null&&R.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var R;return(R=this.partList)!=null&&R.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),N}();function Ie(N){return Uint8Array.from(atob(N),function(R){return R.charCodeAt(0)})}function Oe(N){var R,o,c=N.split(":"),b=null;if(c[0]==="data"&&c.length===2){var k=c[1].split(";"),M=k[k.length-1].split(",");if(M.length===2){var U=M[0]==="base64",X=M[1];U?(k.splice(-1,1),b=Ie(X)):(R=Ke(X).subarray(0,16),(o=new Uint8Array(16)).set(R,16-R.length),b=o)}}return b}function Ke(N){return Uint8Array.from(unescape(encodeURIComponent(N)),function(R){return R.charCodeAt(0)})}var De={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Ee="org.w3.clearkey",Q="com.apple.streamingkeydelivery",ue="com.microsoft.playready",xe="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function _e(N){switch(N){case Q:return De.FAIRPLAY;case ue:return De.PLAYREADY;case xe:return De.WIDEVINE;case Ee:return De.CLEARKEY}}var ce="edef8ba979d64acea3c827dcd51d21ed";function de(N){switch(N){case De.FAIRPLAY:return Q;case De.PLAYREADY:return ue;case De.WIDEVINE:return xe;case De.CLEARKEY:return Ee}}function he(N){var R=N.drmSystems,o=N.widevineLicenseUrl,c=R?[De.FAIRPLAY,De.WIDEVINE,De.PLAYREADY,De.CLEARKEY].filter(function(b){return!!R[b]}):[];return!c[De.WIDEVINE]&&o&&c.push(De.WIDEVINE),c}var se=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function ne(N,R,o){return Uint8Array.prototype.slice?N.slice(R,o):new Uint8Array(Array.prototype.slice.call(N,R,o))}var we,Ne=function(N,R){return R+10<=N.length&&N[R]===73&&N[R+1]===68&&N[R+2]===51&&N[R+3]<255&&N[R+4]<255&&N[R+6]<128&&N[R+7]<128&&N[R+8]<128&&N[R+9]<128},ae=function(N,R){return R+10<=N.length&&N[R]===51&&N[R+1]===68&&N[R+2]===73&&N[R+3]<255&&N[R+4]<255&&N[R+6]<128&&N[R+7]<128&&N[R+8]<128&&N[R+9]<128},Pe=function(N,R){for(var o=R,c=0;Ne(N,R);)c+=10,c+=ze(N,R+6),ae(N,R+10)&&(c+=10),R+=c;if(c>0)return N.subarray(o,o+c)},ze=function(N,R){var o=0;return o=(127&N[R])<<21,o|=(127&N[R+1])<<14,o|=(127&N[R+2])<<7,o|=127&N[R+3]},ve=function(N,R){return Ne(N,R)&&ze(N,R+6)+10<=N.length-R},Ae=function(N){return N&&N.key==="PRIV"&&N.info==="com.apple.streaming.transportStreamTimestamp"},Be=function(N){var R=String.fromCharCode(N[0],N[1],N[2],N[3]),o=ze(N,4);return{type:R,size:o,data:N.subarray(10,10+o)}},We=function(N){for(var R=0,o=[];Ne(N,R);){for(var c=ze(N,R+6),b=(R+=10)+c;R+8<b;){var k=Be(N.subarray(R)),M=Je(k);M&&o.push(M),R+=k.size+10}ae(N,R)&&(R+=10)}return o},Je=function(N){return N.type==="PRIV"?Ge(N):N.type[0]==="W"?ut(N):et(N)},Ge=function(N){if(!(N.size<2)){var R=Fe(N.data,!0),o=new Uint8Array(N.data.subarray(R.length+1));return{key:N.type,info:R,data:o.buffer}}},et=function(N){if(!(N.size<2)){if(N.type==="TXXX"){var R=1,o=Fe(N.data.subarray(R),!0);R+=o.length+1;var c=Fe(N.data.subarray(R));return{key:N.type,info:o,data:c}}var b=Fe(N.data.subarray(1));return{key:N.type,data:b}}},ut=function(N){if(N.type==="WXXX"){if(N.size<2)return;var R=1,o=Fe(N.data.subarray(R),!0);R+=o.length+1;var c=Fe(N.data.subarray(R));return{key:N.type,info:o,data:c}}var b=Fe(N.data);return{key:N.type,data:b}},at=function(N){if(N.data.byteLength===8){var R=new Uint8Array(N.data),o=1&R[3],c=(R[4]<<23)+(R[5]<<15)+(R[6]<<7)+R[7];return c/=45,o&&(c+=4772185884e-2),Math.round(c)}},Fe=function(N,R){R===void 0&&(R=!1);var o=Qe();if(o){var c=o.decode(N);if(R){var b=c.indexOf("\0");return b!==-1?c.substring(0,b):c}return c.replace(/\0/g,"")}for(var k,M,U,X=N.length,J="",ee=0;ee<X;){if((k=N[ee++])===0&&R)return J;if(k!==0&&k!==3)switch(k>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:J+=String.fromCharCode(k);break;case 12:case 13:M=N[ee++],J+=String.fromCharCode((31&k)<<6|63&M);break;case 14:M=N[ee++],U=N[ee++],J+=String.fromCharCode((15&k)<<12|(63&M)<<6|(63&U)<<0)}}return J};function Qe(){return we||self.TextDecoder===void 0||(we=new self.TextDecoder("utf-8")),we}var rt=function(N){for(var R="",o=0;o<N.length;o++){var c=N[o].toString(16);c.length<2&&(c="0"+c),R+=c}return R},mt=Math.pow(2,32)-1,Ut=[].push,jt={video:1,audio:2,id3:3,text:4};function kt(N){return String.fromCharCode.apply(null,N)}function Nt(N,R){var o=N[R]<<8|N[R+1];return o<0?65536+o:o}function Tt(N,R){var o=Mt(N,R);return o<0?4294967296+o:o}function Mt(N,R){return N[R]<<24|N[R+1]<<16|N[R+2]<<8|N[R+3]}function Dt(N,R,o){N[R]=o>>24,N[R+1]=o>>16&255,N[R+2]=o>>8&255,N[R+3]=255&o}function It(N,R){var o=[];if(!R.length)return o;for(var c=N.byteLength,b=0;b<c;){var k=Tt(N,b),M=k>1?b+k:c;if(kt(N.subarray(b+4,b+8))===R[0])if(R.length===1)o.push(N.subarray(b+8,M));else{var U=It(N.subarray(b+8,M),R.slice(1));U.length&&Ut.apply(o,U)}b=M}return o}function $t(N){var R=[],o=N[0],c=8,b=Tt(N,c);c+=4,c+=o===0?8:16,c+=2;var k=N.length+0,M=Nt(N,c);c+=2;for(var U=0;U<M;U++){var X=c,J=Tt(N,X);X+=4;var ee=2147483647&J;if((2147483648&J)>>>31==1)return W.warn("SIDX has hierarchical references (not supported)"),null;var oe=Tt(N,X);X+=4,R.push({referenceSize:ee,subsegmentDuration:oe,info:{duration:oe/b,start:k,end:k+ee-1}}),k+=ee,c=X+=4}return{earliestPresentationTime:0,timescale:b,version:o,referencesCount:M,references:R}}function Sr(N){for(var R=[],o=It(N,["moov","trak"]),c=0;c<o.length;c++){var b=o[c],k=It(b,["tkhd"])[0];if(k){var M=k[0],U=M===0?12:20,X=Tt(k,U),J=It(b,["mdia","mdhd"])[0];if(J){var ee=Tt(J,U=(M=J[0])===0?12:20),oe=It(b,["mdia","hdlr"])[0];if(oe){var pe=kt(oe.subarray(8,12)),me={soun:Y,vide:z}[pe];if(me){var be=It(b,["mdia","minf","stbl","stsd"])[0],Te=void 0;be&&(Te=kt(be.subarray(12,16))),R[X]={timescale:ee,type:me},R[me]={timescale:ee,id:X,codec:Te}}}}}}return It(N,["moov","mvex","trex"]).forEach(function(Re){var ye=Tt(Re,4),ke=R[ye];ke&&(ke.default={duration:Tt(Re,12),flags:Tt(Re,20)})}),R}function mr(N){var R=It(N,["schm"])[0];if(R){var o=kt(R.subarray(4,8));if(o==="cbcs"||o==="cenc")return It(N,["schi","tenc"])[0]}return W.error("[eme] missing 'schm' box"),null}function Xt(N){var R=Tt(N,0),o=8;1&R&&(o+=4),4&R&&(o+=4);for(var c=0,b=Tt(N,4),k=0;k<b;k++)256&R&&(c+=Tt(N,o),o+=4),512&R&&(o+=4),1024&R&&(o+=4),2048&R&&(o+=4);return c}function hr(N,R){var o=new Uint8Array(N.length+R.length);return o.set(N),o.set(R,N.length),o}function Mr(N,R){var o=[],c=R.samples,b=R.timescale,k=R.id,M=!1;return It(c,["moof"]).map(function(U){var X=U.byteOffset-8;It(U,["traf"]).map(function(J){var ee=It(J,["tfdt"]).map(function(oe){var pe=oe[0],me=Tt(oe,4);return pe===1&&(me*=Math.pow(2,32),me+=Tt(oe,8)),me/b})[0];return ee!==void 0&&(N=ee),It(J,["tfhd"]).map(function(oe){var pe=Tt(oe,4),me=16777215&Tt(oe,0),be=0,Te=(16&me)!=0,Re=0,ye=(32&me)!=0,ke=8;pe===k&&(1&me&&(ke+=8),2&me&&(ke+=4),8&me&&(be=Tt(oe,ke),ke+=4),Te&&(Re=Tt(oe,ke),ke+=4),ye&&(ke+=4),R.type==="video"&&(M=function($e){if(!$e)return!1;var He=$e.indexOf("."),Ze=He<0?$e:$e.substring(0,He);return Ze==="hvc1"||Ze==="hev1"||Ze==="dvh1"||Ze==="dvhe"}(R.codec)),It(J,["trun"]).map(function($e){var He=$e[0],Ze=16777215&Tt($e,0),lt=(1&Ze)!=0,ct=0,wt=(4&Ze)!=0,dt=(256&Ze)!=0,gt=0,Pt=(512&Ze)!=0,St=0,Wt=(1024&Ze)!=0,Qt=(2048&Ze)!=0,Vt=0,Gt=Tt($e,4),Jt=8;lt&&(ct=Tt($e,Jt),Jt+=4),wt&&(Jt+=4);for(var Kt=ct+X,Ct=0;Ct<Gt;Ct++){if(dt?(gt=Tt($e,Jt),Jt+=4):gt=be,Pt?(St=Tt($e,Jt),Jt+=4):St=Re,Wt&&(Jt+=4),Qt&&(Vt=He===0?Tt($e,Jt):Mt($e,Jt),Jt+=4),R.type===z)for(var wr=0;wr<St;){var Rr=Tt(c,Kt);ir(M,c[Kt+=4])&&Vr(c.subarray(Kt,Kt+Rr),M?2:1,N+Vt/b,o),Kt+=Rr,wr+=Rr+4}N+=gt/b}}))})})}),o}function ir(N,R){if(N){var o=R>>1&63;return o===39||o===40}return(31&R)==6}function Vr(N,R,o,c){var b=Nr(N),k=0;k+=R;for(var M=0,U=0,X=!1,J=0;k<b.length;){M=0;do{if(k>=b.length)break;M+=J=b[k++]}while(J===255);U=0;do{if(k>=b.length)break;U+=J=b[k++]}while(J===255);var ee=b.length-k;if(!X&&M===4&&k<b.length){if(X=!0,b[k++]===181){var oe=Nt(b,k);if(k+=2,oe===49){var pe=Tt(b,k);if(k+=4,pe===1195456820){var me=b[k++];if(me===3){var be=b[k++],Te=64&be,Re=Te?2+3*(31&be):0,ye=new Uint8Array(Re);if(Te){ye[0]=be;for(var ke=1;ke<Re;ke++)ye[ke]=b[k++]}c.push({type:me,payloadType:M,pts:o,bytes:ye})}}}}}else if(M===5&&U<ee){if(X=!0,U>16){for(var $e=[],He=0;He<16;He++){var Ze=b[k++].toString(16);$e.push(Ze.length==1?"0"+Ze:Ze),He!==3&&He!==5&&He!==7&&He!==9||$e.push("-")}for(var lt=U-16,ct=new Uint8Array(lt),wt=0;wt<lt;wt++)ct[wt]=b[k++];c.push({payloadType:M,pts:o,uuid:$e.join(""),userData:Fe(ct),userDataBytes:ct})}}else if(U<ee)k+=U;else if(U>ee)break}}function Nr(N){for(var R=N.byteLength,o=[],c=1;c<R-2;)N[c]===0&&N[c+1]===0&&N[c+2]===3?(o.push(c+2),c+=2):c++;if(o.length===0)return N;var b=R-o.length,k=new Uint8Array(b),M=0;for(c=0;c<b;M++,c++)M===o[0]&&(M++,o.shift()),k[c]=N[M];return k}function qt(N,R,o){if(N.byteLength!==16)throw new RangeError("Invalid system id");var c,b,k;if(R){c=1,b=new Uint8Array(16*R.length);for(var M=0;M<R.length;M++){var U=R[M];if(U.byteLength!==16)throw new RangeError("Invalid key");b.set(U,16*M)}}else c=0,b=new Uint8Array;c>0?(k=new Uint8Array(4),R.length>0&&new DataView(k.buffer).setUint32(0,R.length,!1)):k=new Uint8Array;var X=new Uint8Array(4);return o&&o.byteLength>0&&new DataView(X.buffer).setUint32(0,o.byteLength,!1),function(J){for(var ee=arguments.length,oe=new Array(ee>1?ee-1:0),pe=1;pe<ee;pe++)oe[pe-1]=arguments[pe];for(var me=oe.length,be=8,Te=me;Te--;)be+=oe[Te].byteLength;var Re=new Uint8Array(be);for(Re[0]=be>>24&255,Re[1]=be>>16&255,Re[2]=be>>8&255,Re[3]=255&be,Re.set(J,4),Te=0,be=8;Te<me;Te++)Re.set(oe[Te],be),be+=oe[Te].byteLength;return Re}([112,115,115,104],new Uint8Array([c,0,0,0]),N,k,b,X,o||new Uint8Array)}var Pr={},ur=function(){function N(o,c,b,k,M){k===void 0&&(k=[1]),M===void 0&&(M=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=o,this.uri=c,this.keyFormat=b,this.keyFormatVersions=k,this.iv=M,this.encrypted=!!o&&o!=="NONE",this.isCommonEncryption=this.encrypted&&o!=="AES-128"}N.clearKeyUriToKeyIdMap=function(){Pr={}};var R=N.prototype;return R.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Q:case xe:case ue:case Ee:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},R.getDecryptData=function(o){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof o!="number"&&(this.method!=="AES-128"||this.iv||W.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),o=0);var c=function(Re){for(var ye=new Uint8Array(16),ke=12;ke<16;ke++)ye[ke]=Re>>8*(15-ke)&255;return ye}(o);return new N(this.method,this.uri,"identity",this.keyFormatVersions,c)}var b=Oe(this.uri);if(b)switch(this.keyFormat){case xe:this.pssh=b,b.length>=22&&(this.keyId=b.subarray(b.length-22,b.length-6));break;case ue:var k=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=qt(k,null,b);var M=new Uint16Array(b.buffer,b.byteOffset,b.byteLength/2),U=String.fromCharCode.apply(null,Array.from(M)),X=U.substring(U.indexOf("<"),U.length),J=new DOMParser().parseFromString(X,"text/xml").getElementsByTagName("KID")[0];if(J){var ee=J.childNodes[0]?J.childNodes[0].nodeValue:J.getAttribute("VALUE");if(ee){var oe=Ie(ee).subarray(0,16);(function(Re){var ye=function(ke,$e,He){var Ze=ke[$e];ke[$e]=ke[He],ke[He]=Ze};ye(Re,0,3),ye(Re,1,2),ye(Re,4,5),ye(Re,6,7)})(oe),this.keyId=oe}}break;default:var pe=b.subarray(0,16);if(pe.length!==16){var me=new Uint8Array(16);me.set(pe,16-pe.length),pe=me}this.keyId=pe}if(!this.keyId||this.keyId.byteLength!==16){var be=Pr[this.uri];if(!be){var Te=Object.keys(Pr).length%Number.MAX_SAFE_INTEGER;be=new Uint8Array(16),new DataView(be.buffer,12,4).setUint32(0,Te),Pr[this.uri]=be}this.keyId=be}return this},N}(),rr=/\{\$([a-zA-Z0-9-_]+)\}/g;function Ar(N){return rr.test(N)}function dr(N,R,o){if(N.variableList!==null||N.hasVariableRefs)for(var c=o.length;c--;){var b=o[c],k=R[b];k&&(R[b]=tr(N,k))}}function tr(N,R){if(N.variableList!==null||N.hasVariableRefs){var o=N.variableList;return R.replace(rr,function(c){var b=c.substring(2,c.length-1),k=o==null?void 0:o[b];return k===void 0?(N.playlistParsingError||(N.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'+b+'"')),c):k})}return R}function Hr(N,R,o){var c,b,k=N.variableList;if(k||(N.variableList=k={}),"QUERYPARAM"in R){c=R.QUERYPARAM;try{var M=new self.URL(o).searchParams;if(!M.has(c))throw new Error('"'+c+'" does not match any query parameter in URI: "'+o+'"');b=M.get(c)}catch(U){N.playlistParsingError||(N.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+U.message))}}else c=R.NAME,b=R.VALUE;c in k?N.playlistParsingError||(N.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'+c+'"')):k[c]=b||""}function or(N,R,o){var c=R.IMPORT;if(o&&c in o){var b=N.variableList;b||(N.variableList=b={}),b[c]=o[c]}else N.playlistParsingError||(N.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'+c+'"'))}function nr(){if(typeof self<"u")return self.MediaSource||self.WebKitMediaSource}var Ue={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},it=nr();function ot(N,R){var o;return(o=it==null?void 0:it.isTypeSupported((R||"video")+'/mp4;codecs="'+N+'"'))!=null&&o}var Rt=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,zt=/#EXT-X-MEDIA:(.*)/g,gr=/^#EXT(?:INF|-X-TARGETDURATION):/m,Gr=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),di=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),gi=function(){function N(){}return N.findGroup=function(R,o){for(var c=0;c<R.length;c++){var b=R[c];if(b.id===o)return b}},N.convertAVC1ToAVCOTI=function(R){var o=R.split(".");if(o.length>2){var c=o.shift()+".";return c+=parseInt(o.shift()).toString(16),c+=("000"+parseInt(o.shift()).toString(16)).slice(-4)}return R},N.resolve=function(R,o){return S.buildAbsoluteURL(o,R,{alwaysNormalize:!0})},N.isMediaPlaylist=function(R){return gr.test(R)},N.parseMasterPlaylist=function(R,o){var c,b={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Ar(R)},k=[];for(Rt.lastIndex=0;(c=Rt.exec(R))!=null;)if(c[1]){var M,U=new C(c[1]);dr(b,U,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var X=tr(b,c[2]),J={attrs:U,bitrate:U.decimalInteger("AVERAGE-BANDWIDTH")||U.decimalInteger("BANDWIDTH"),name:U.NAME,url:N.resolve(X,o)},ee=U.decimalResolution("RESOLUTION");ee&&(J.width=ee.width,J.height=ee.height),fn((U.CODECS||"").split(/[ ,]+/).filter(function($e){return $e}),J),J.videoCodec&&J.videoCodec.indexOf("avc1")!==-1&&(J.videoCodec=N.convertAVC1ToAVCOTI(J.videoCodec)),(M=J.unknownCodecs)!=null&&M.length||k.push(J),b.levels.push(J)}else if(c[3]){var oe=c[3],pe=c[4];switch(oe){case"SESSION-DATA":var me=new C(pe);dr(b,me,["DATA-ID","LANGUAGE","VALUE","URI"]);var be=me["DATA-ID"];be&&(b.sessionData===null&&(b.sessionData={}),b.sessionData[be]=me);break;case"SESSION-KEY":var Te=ci(pe,o,b);Te.encrypted&&Te.isSupported()?(b.sessionKeys===null&&(b.sessionKeys=[]),b.sessionKeys.push(Te)):W.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+pe+'"');break;case"DEFINE":var Re=new C(pe);dr(b,Re,["NAME","VALUE","QUERYPARAM"]),Hr(b,Re,o);break;case"CONTENT-STEERING":var ye=new C(pe);dr(b,ye,["SERVER-URI","PATHWAY-ID"]),b.contentSteering={uri:N.resolve(ye["SERVER-URI"],o),pathwayId:ye["PATHWAY-ID"]||"."};break;case"START":b.startTimeOffset=ti(pe)}}var ke=k.length>0&&k.length<b.levels.length;return b.levels=ke?k:b.levels,b.levels.length===0&&(b.playlistParsingError=new Error("no levels found in manifest")),b},N.parseMasterPlaylistMedia=function(R,o,c){var b,k={},M=c.levels,U={AUDIO:M.map(function(Te){return{id:Te.attrs.AUDIO,audioCodec:Te.audioCodec}}),SUBTITLES:M.map(function(Te){return{id:Te.attrs.SUBTITLES,textCodec:Te.textCodec}}),"CLOSED-CAPTIONS":[]},X=0;for(zt.lastIndex=0;(b=zt.exec(R))!==null;){var J=new C(b[1]),ee=J.TYPE;if(ee){var oe=U[ee],pe=k[ee]||[];k[ee]=pe,dr(c,J,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var me={attrs:J,bitrate:0,id:X++,groupId:J["GROUP-ID"]||"",instreamId:J["INSTREAM-ID"],name:J.NAME||J.LANGUAGE||"",type:ee,default:J.bool("DEFAULT"),autoselect:J.bool("AUTOSELECT"),forced:J.bool("FORCED"),lang:J.LANGUAGE,url:J.URI?N.resolve(J.URI,o):""};if(oe!=null&&oe.length){var be=N.findGroup(oe,me.groupId)||oe[0];en(me,be,"audioCodec"),en(me,be,"textCodec")}pe.push(me)}}return k},N.parseLevelPlaylist=function(R,o,c,b,k,M){var U,X,J,ee=new ge(o),oe=ee.fragments,pe=null,me=0,be=0,Te=0,Re=0,ye=null,ke=new G(b,o),$e=-1,He=!1;for(Gr.lastIndex=0,ee.m3u8=R,ee.hasVariableRefs=Ar(R);(U=Gr.exec(R))!==null;){He&&(He=!1,(ke=new G(b,o)).start=Te,ke.sn=me,ke.cc=Re,ke.level=c,pe&&(ke.initSegment=pe,ke.rawProgramDateTime=pe.rawProgramDateTime,pe.rawProgramDateTime=null));var Ze=U[1];if(Ze){ke.duration=parseFloat(Ze);var lt=(" "+U[2]).slice(1);ke.title=lt||null,ke.tagList.push(lt?["INF",Ze,lt]:["INF",Ze])}else if(U[3]){if(A(ke.duration)){ke.start=Te,J&&Yi(ke,J,ee),ke.sn=me,ke.level=c,ke.cc=Re,ke.urlId=k,oe.push(ke);var ct=(" "+U[3]).slice(1);ke.relurl=tr(ee,ct),Yr(ke,ye),ye=ke,Te+=ke.duration,me++,be=0,He=!0}}else if(U[4]){var wt=(" "+U[4]).slice(1);ye?ke.setByteRange(wt,ye):ke.setByteRange(wt)}else if(U[5])ke.rawProgramDateTime=(" "+U[5]).slice(1),ke.tagList.push(["PROGRAM-DATE-TIME",ke.rawProgramDateTime]),$e===-1&&($e=oe.length);else{if(!(U=U[0].match(di))){W.warn("No matches on slow regex match for level playlist!");continue}for(X=1;X<U.length&&U[X]===void 0;X++);var dt=(" "+U[X]).slice(1),gt=(" "+U[X+1]).slice(1),Pt=U[X+2]?(" "+U[X+2]).slice(1):"";switch(dt){case"PLAYLIST-TYPE":ee.type=gt.toUpperCase();break;case"MEDIA-SEQUENCE":me=ee.startSN=parseInt(gt);break;case"SKIP":var St=new C(gt);dr(ee,St,["RECENTLY-REMOVED-DATERANGES"]);var Wt=St.decimalInteger("SKIPPED-SEGMENTS");if(A(Wt)){ee.skippedSegments=Wt;for(var Qt=Wt;Qt--;)oe.unshift(null);me+=Wt}var Vt=St.enumeratedString("RECENTLY-REMOVED-DATERANGES");Vt&&(ee.recentlyRemovedDateranges=Vt.split("	"));break;case"TARGETDURATION":ee.targetduration=Math.max(parseInt(gt),1);break;case"VERSION":ee.version=parseInt(gt);break;case"EXTM3U":break;case"ENDLIST":ee.live=!1;break;case"#":(gt||Pt)&&ke.tagList.push(Pt?[gt,Pt]:[gt]);break;case"DISCONTINUITY":Re++,ke.tagList.push(["DIS"]);break;case"GAP":ke.gap=!0,ke.tagList.push([dt]);break;case"BITRATE":ke.tagList.push([dt,gt]);break;case"DATERANGE":var Gt=new C(gt);dr(ee,Gt,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),dr(ee,Gt,Gt.clientAttrs);var Jt=new H(Gt,ee.dateRanges[Gt.ID]);Jt.isValid||ee.skippedSegments?ee.dateRanges[Jt.id]=Jt:W.warn('Ignoring invalid DATERANGE tag: "'+gt+'"'),ke.tagList.push(["EXT-X-DATERANGE",gt]);break;case"DEFINE":var Kt=new C(gt);dr(ee,Kt,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Kt?or(ee,Kt,M):Hr(ee,Kt,o);break;case"DISCONTINUITY-SEQUENCE":Re=parseInt(gt);break;case"KEY":var Ct=ci(gt,o,ee);if(Ct.isSupported()){if(Ct.method==="NONE"){J=void 0;break}J||(J={}),J[Ct.keyFormat]&&(J=t({},J)),J[Ct.keyFormat]=Ct}else W.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+gt+'"');break;case"START":ee.startTimeOffset=ti(gt);break;case"MAP":var wr=new C(gt);if(dr(ee,wr,["BYTERANGE","URI"]),ke.duration){var Rr=new G(b,o);Ki(Rr,wr,c,J),pe=Rr,ke.initSegment=pe,pe.rawProgramDateTime&&!ke.rawProgramDateTime&&(ke.rawProgramDateTime=pe.rawProgramDateTime)}else Ki(ke,wr,c,J),pe=ke,He=!0;break;case"SERVER-CONTROL":var $r=new C(gt);ee.canBlockReload=$r.bool("CAN-BLOCK-RELOAD"),ee.canSkipUntil=$r.optionalFloat("CAN-SKIP-UNTIL",0),ee.canSkipDateRanges=ee.canSkipUntil>0&&$r.bool("CAN-SKIP-DATERANGES"),ee.partHoldBack=$r.optionalFloat("PART-HOLD-BACK",0),ee.holdBack=$r.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var qi=new C(gt);ee.partTarget=qi.decimalFloatingPoint("PART-TARGET");break;case"PART":var Ci=ee.partList;Ci||(Ci=ee.partList=[]);var zn=be>0?Ci[Ci.length-1]:void 0,li=be++,En=new C(gt);dr(ee,En,["BYTERANGE","URI"]);var fi=new le(En,ke,o,li,zn);Ci.push(fi),ke.duration+=fi.duration;break;case"PRELOAD-HINT":var Ri=new C(gt);dr(ee,Ri,["URI"]),ee.preloadHint=Ri;break;case"RENDITION-REPORT":var Hn=new C(gt);dr(ee,Hn,["URI"]),ee.renditionReports=ee.renditionReports||[],ee.renditionReports.push(Hn);break;default:W.warn("line parsed but not handled: "+U)}}}ye&&!ye.relurl?(oe.pop(),Te-=ye.duration,ee.partList&&(ee.fragmentHint=ye)):ee.partList&&(Yr(ke,ye),ke.cc=Re,ee.fragmentHint=ke,J&&Yi(ke,J,ee));var cs=oe.length,ni=oe[0],Tn=oe[cs-1];if((Te+=ee.skippedSegments*ee.targetduration)>0&&cs&&Tn){ee.averagetargetduration=Te/cs;var ia=Tn.sn;ee.endSN=ia!=="initSegment"?ia:0,ee.live||(Tn.endList=!0),ni&&(ee.startCC=ni.cc)}else ee.endSN=0,ee.startCC=0;return ee.fragmentHint&&(Te+=ee.fragmentHint.duration),ee.totalduration=Te,ee.endCC=Re,$e>0&&function(no,hs){for(var Rs=no[hs],na=hs;na--;){var ts=no[na];if(!ts)return;ts.programDateTime=Rs.programDateTime-1e3*ts.duration,Rs=ts}}(oe,$e),ee},N}();function ci(N,R,o){var c,b,k=new C(N);dr(o,k,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var M=(c=k.METHOD)!=null?c:"",U=k.URI,X=k.hexadecimalInteger("IV"),J=k.KEYFORMATVERSIONS,ee=(b=k.KEYFORMAT)!=null?b:"identity";U&&k.IV&&!X&&W.error("Invalid IV: "+k.IV);var oe=U?gi.resolve(U,R):"",pe=(J||"1").split("/").map(Number).filter(Number.isFinite);return new ur(M,oe,ee,pe,X)}function ti(N){var R=new C(N).decimalFloatingPoint("TIME-OFFSET");return A(R)?R:null}function fn(N,R){["video","audio","text"].forEach(function(o){var c=N.filter(function(k){return function(M,U){var X=Ue[U];return!!X&&X[M.slice(0,4)]===!0}(k,o)});if(c.length){var b=c.filter(function(k){return k.lastIndexOf("avc1",0)===0||k.lastIndexOf("mp4a",0)===0});R[o+"Codec"]=b.length>0?b[0]:c[0],N=N.filter(function(k){return c.indexOf(k)===-1})}}),R.unknownCodecs=N}function en(N,R,o){var c=R[o];c&&(N[o]=c)}function Yr(N,R){N.rawProgramDateTime?N.programDateTime=Date.parse(N.rawProgramDateTime):R!=null&&R.programDateTime&&(N.programDateTime=R.endProgramDateTime),A(N.programDateTime)||(N.programDateTime=null,N.rawProgramDateTime=null)}function Ki(N,R,o,c){N.relurl=R.URI,R.BYTERANGE&&N.setByteRange(R.BYTERANGE),N.level=o,N.sn="initSegment",c&&(N.levelkeys=c),N.initSegment=null}function Yi(N,R,o){N.levelkeys=R;var c=o.encryptedFragments;c.length&&c[c.length-1].levelkeys===R||!Object.keys(R).some(function(b){return R[b].isCommonEncryption})||c.push(N)}var _i="manifest",Fi="level",Di="audioTrack",tn="subtitleTrack",vr="main",Zi="audio",Hi="subtitle";function ys(N){switch(N.type){case Di:return Zi;case tn:return Hi;default:return vr}}function ss(N,R){var o=N.url;return o!==void 0&&o.indexOf("data:")!==0||(o=R.url),o}var ws=function(){function N(o){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=o,this.registerListeners()}var R=N.prototype;return R.startLoad=function(o){},R.stopLoad=function(){this.destroyInternalLoaders()},R.registerListeners=function(){var o=this.hls;o.on(w.MANIFEST_LOADING,this.onManifestLoading,this),o.on(w.LEVEL_LOADING,this.onLevelLoading,this),o.on(w.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),o.on(w.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},R.unregisterListeners=function(){var o=this.hls;o.off(w.MANIFEST_LOADING,this.onManifestLoading,this),o.off(w.LEVEL_LOADING,this.onLevelLoading,this),o.off(w.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),o.off(w.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},R.createInternalLoader=function(o){var c=this.hls.config,b=c.pLoader,k=c.loader,M=new(b||k)(c);return this.loaders[o.type]=M,M},R.getInternalLoader=function(o){return this.loaders[o.type]},R.resetInternalLoader=function(o){this.loaders[o]&&delete this.loaders[o]},R.destroyInternalLoaders=function(){for(var o in this.loaders){var c=this.loaders[o];c&&c.destroy(),this.resetInternalLoader(o)}},R.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},R.onManifestLoading=function(o,c){var b=c.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:_i,url:b,deliveryDirectives:null})},R.onLevelLoading=function(o,c){var b=c.id,k=c.level,M=c.url,U=c.deliveryDirectives;this.load({id:b,level:k,responseType:"text",type:Fi,url:M,deliveryDirectives:U})},R.onAudioTrackLoading=function(o,c){var b=c.id,k=c.groupId,M=c.url,U=c.deliveryDirectives;this.load({id:b,groupId:k,level:null,responseType:"text",type:Di,url:M,deliveryDirectives:U})},R.onSubtitleTrackLoading=function(o,c){var b=c.id,k=c.groupId,M=c.url,U=c.deliveryDirectives;this.load({id:b,groupId:k,level:null,responseType:"text",type:tn,url:M,deliveryDirectives:U})},R.load=function(o){var c,b,k,M=this,U=this.hls.config,X=this.getInternalLoader(o);if(X){var J=X.context;if(J&&J.url===o.url)return void W.trace("[playlist-loader]: playlist request ongoing");W.log("[playlist-loader]: aborting previous loader for type: "+o.type),X.abort()}if(b=o.type===_i?U.manifestLoadPolicy.default:t({},U.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),X=this.createInternalLoader(o),(c=o.deliveryDirectives)!=null&&c.part&&(o.type===Fi&&o.level!==null?k=this.hls.levels[o.level].details:o.type===Di&&o.id!==null?k=this.hls.audioTracks[o.id].details:o.type===tn&&o.id!==null&&(k=this.hls.subtitleTracks[o.id].details),k)){var ee=k.partTarget,oe=k.targetduration;if(ee&&oe){var pe=1e3*Math.max(3*ee,.8*oe);b=t({},b,{maxTimeToFirstByteMs:Math.min(pe,b.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(pe,b.maxTimeToFirstByteMs)})}}var me=b.errorRetry||b.timeoutRetry||{},be={loadPolicy:b,timeout:b.maxLoadTimeMs,maxRetry:me.maxNumRetry||0,retryDelay:me.retryDelayMs||0,maxRetryDelay:me.maxRetryDelayMs||0},Te={onSuccess:function(Re,ye,ke,$e){var He=M.getInternalLoader(ke);M.resetInternalLoader(ke.type);var Ze=Re.data;Ze.indexOf("#EXTM3U")===0?(ye.parsing.start=performance.now(),gi.isMediaPlaylist(Ze)?M.handleTrackOrLevelPlaylist(Re,ye,ke,$e||null,He):M.handleMasterPlaylist(Re,ye,ke,$e)):M.handleManifestParsingError(Re,ke,new Error("no EXTM3U delimiter"),$e||null,ye)},onError:function(Re,ye,ke,$e){M.handleNetworkError(ye,ke,!1,Re,$e)},onTimeout:function(Re,ye,ke){M.handleNetworkError(ye,ke,!0,void 0,Re)}};X.load(o,be,Te)},R.handleMasterPlaylist=function(o,c,b,k){var M=this.hls,U=o.data,X=ss(o,b),J=gi.parseMasterPlaylist(U,X);if(J.playlistParsingError)this.handleManifestParsingError(o,b,J.playlistParsingError,k,c);else{var ee=J.contentSteering,oe=J.levels,pe=J.sessionData,me=J.sessionKeys,be=J.startTimeOffset,Te=J.variableList;this.variableList=Te;var Re=gi.parseMasterPlaylistMedia(U,X,J),ye=Re.AUDIO,ke=ye===void 0?[]:ye,$e=Re.SUBTITLES,He=Re["CLOSED-CAPTIONS"];ke.length&&(ke.some(function(Ze){return!Ze.url})||!oe[0].audioCodec||oe[0].attrs.AUDIO||(W.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),ke.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new C({}),bitrate:0,url:""}))),M.trigger(w.MANIFEST_LOADED,{levels:oe,audioTracks:ke,subtitles:$e,captions:He,contentSteering:ee,url:X,stats:c,networkDetails:k,sessionData:pe,sessionKeys:me,startTimeOffset:be,variableList:Te})}},R.handleTrackOrLevelPlaylist=function(o,c,b,k,M){var U=this.hls,X=b.id,J=b.level,ee=b.type,oe=ss(o,b),pe=A(X)?X:0,me=A(J)?J:pe,be=ys(b),Te=gi.parseLevelPlaylist(o.data,oe,me,be,pe,this.variableList);if(ee===_i){var Re={attrs:new C({}),bitrate:0,details:Te,name:"",url:oe};U.trigger(w.MANIFEST_LOADED,{levels:[Re],audioTracks:[],url:oe,stats:c,networkDetails:k,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}c.parsing.end=performance.now(),b.levelDetails=Te,this.handlePlaylistLoaded(Te,o,c,b,k,M)},R.handleManifestParsingError=function(o,c,b,k,M){this.hls.trigger(w.ERROR,{type:I.NETWORK_ERROR,details:D.MANIFEST_PARSING_ERROR,fatal:c.type===_i,url:o.url,err:b,error:b,reason:b.message,response:o,context:c,networkDetails:k,stats:M})},R.handleNetworkError=function(o,c,b,k,M){b===void 0&&(b=!1);var U="A network "+(b?"timeout":"error"+(k?" (status "+k.code+")":""))+" occurred while loading "+o.type;o.type===Fi?U+=": "+o.level+" id: "+o.id:o.type!==Di&&o.type!==tn||(U+=" id: "+o.id+' group-id: "'+o.groupId+'"');var X=new Error(U);W.warn("[playlist-loader]: "+U);var J=D.UNKNOWN,ee=!1,oe=this.getInternalLoader(o);switch(o.type){case _i:J=b?D.MANIFEST_LOAD_TIMEOUT:D.MANIFEST_LOAD_ERROR,ee=!0;break;case Fi:J=b?D.LEVEL_LOAD_TIMEOUT:D.LEVEL_LOAD_ERROR,ee=!1;break;case Di:J=b?D.AUDIO_TRACK_LOAD_TIMEOUT:D.AUDIO_TRACK_LOAD_ERROR,ee=!1;break;case tn:J=b?D.SUBTITLE_TRACK_LOAD_TIMEOUT:D.SUBTITLE_LOAD_ERROR,ee=!1}oe&&this.resetInternalLoader(o.type);var pe={type:I.NETWORK_ERROR,details:J,fatal:ee,url:o.url,loader:oe,context:o,error:X,networkDetails:c,stats:M};if(k){var me=(c==null?void 0:c.url)||o.url;pe.response=f({url:me,data:void 0},k)}this.hls.trigger(w.ERROR,pe)},R.handlePlaylistLoaded=function(o,c,b,k,M,U){var X=this.hls,J=k.type,ee=k.level,oe=k.id,pe=k.groupId,me=k.deliveryDirectives,be=ss(c,k),Te=ys(k),Re=typeof k.level=="number"&&Te===vr?ee:void 0;if(o.fragments.length){o.targetduration||(o.playlistParsingError=new Error("Missing Target Duration"));var ye=o.playlistParsingError;if(ye)X.trigger(w.ERROR,{type:I.NETWORK_ERROR,details:D.LEVEL_PARSING_ERROR,fatal:!1,url:be,error:ye,reason:ye.message,response:c,context:k,level:Re,parent:Te,networkDetails:M,stats:b});else switch(o.live&&U&&(U.getCacheAge&&(o.ageHeader=U.getCacheAge()||0),U.getCacheAge&&!isNaN(o.ageHeader)||(o.ageHeader=0)),J){case _i:case Fi:X.trigger(w.LEVEL_LOADED,{details:o,level:Re||0,id:oe||0,stats:b,networkDetails:M,deliveryDirectives:me});break;case Di:X.trigger(w.AUDIO_TRACK_LOADED,{details:o,id:oe||0,groupId:pe||"",stats:b,networkDetails:M,deliveryDirectives:me});break;case tn:X.trigger(w.SUBTITLE_TRACK_LOADED,{details:o,id:oe||0,groupId:pe||"",stats:b,networkDetails:M,deliveryDirectives:me})}}else{var ke=new Error("No Segments found in Playlist");X.trigger(w.ERROR,{type:I.NETWORK_ERROR,details:D.LEVEL_EMPTY_ERROR,fatal:!1,url:be,error:ke,reason:ke.message,response:c,context:k,level:Re,parent:Te,networkDetails:M,stats:b})}},N}();function ga(N,R){var o;try{o=new Event("addtrack")}catch{(o=document.createEvent("Event")).initEvent("addtrack",!1,!1)}o.track=N,R.dispatchEvent(o)}function Bs(N,R){var o=N.mode;if(o==="disabled"&&(N.mode="hidden"),N.cues&&!N.cues.getCueById(R.id))try{if(N.addCue(R),!N.cues.getCueById(R.id))throw new Error("addCue is failed for: "+R)}catch(b){W.debug("[texttrack-utils]: "+b);try{var c=new self.TextTrackCue(R.startTime,R.endTime,R.text);c.id=R.id,N.addCue(c)}catch(k){W.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+k)}}o==="disabled"&&(N.mode=o)}function rn(N){var R=N.mode;if(R==="disabled"&&(N.mode="hidden"),N.cues)for(var o=N.cues.length;o--;)N.removeCue(N.cues[o]);R==="disabled"&&(N.mode=R)}function Gn(N,R,o,c){var b=N.mode;if(b==="disabled"&&(N.mode="hidden"),N.cues&&N.cues.length>0)for(var k=function(U,X,J){var ee=[],oe=function(Te,Re){if(Re<Te[0].startTime)return 0;var ye=Te.length-1;if(Re>Te[ye].endTime)return-1;for(var ke=0,$e=ye;ke<=$e;){var He=Math.floor(($e+ke)/2);if(Re<Te[He].startTime)$e=He-1;else{if(!(Re>Te[He].startTime&&ke<ye))return He;ke=He+1}}return Te[ke].startTime-Re<Re-Te[$e].startTime?ke:$e}(U,X);if(oe>-1)for(var pe=oe,me=U.length;pe<me;pe++){var be=U[pe];if(be.startTime>=X&&be.endTime<=J)ee.push(be);else if(be.startTime>J)return ee}return ee}(N.cues,R,o),M=0;M<k.length;M++)c&&!c(k[M])||N.removeCue(k[M]);b==="disabled"&&(N.mode=b)}var nn="org.id3",va="com.apple.quicktime.HLS",Dn="https://aomedia.org/emsg/ID3";function Kn(){if(typeof self<"u")return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var sn=function(){var N=Kn();try{new N(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function _s(N,R){return N.getTime()/1e3-R}var ba=function(){function N(o){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=o,this._registerListeners()}var R=N.prototype;return R.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},R._registerListeners=function(){var o=this.hls;o.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),o.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),o.on(w.MANIFEST_LOADING,this.onManifestLoading,this),o.on(w.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),o.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this),o.on(w.LEVEL_UPDATED,this.onLevelUpdated,this)},R._unregisterListeners=function(){var o=this.hls;o.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),o.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),o.off(w.MANIFEST_LOADING,this.onManifestLoading,this),o.off(w.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),o.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),o.off(w.LEVEL_UPDATED,this.onLevelUpdated,this)},R.onMediaAttached=function(o,c){this.media=c.media},R.onMediaDetaching=function(){this.id3Track&&(rn(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},R.onManifestLoading=function(){this.dateRangeCuesAppended={}},R.createTrack=function(o){var c=this.getID3Track(o.textTracks);return c.mode="hidden",c},R.getID3Track=function(o){if(this.media){for(var c=0;c<o.length;c++){var b=o[c];if(b.kind==="metadata"&&b.label==="id3")return ga(b,this.media),b}return this.media.addTextTrack("metadata","id3")}},R.onFragParsingMetadata=function(o,c){if(this.media){var b=this.hls.config,k=b.enableEmsgMetadataCues,M=b.enableID3MetadataCues;if(k||M){var U=c.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var X=Kn(),J=0;J<U.length;J++){var ee=U[J].type;if((ee!==Dn||k)&&M){var oe=We(U[J].data);if(oe){var pe=U[J].pts,me=pe+U[J].duration;me>sn&&(me=sn),me-pe<=0&&(me=pe+.25);for(var be=0;be<oe.length;be++){var Te=oe[be];if(!Ae(Te)){this.updateId3CueEnds(pe,ee);var Re=new X(pe,me,"");Re.value=Te,ee&&(Re.type=ee),this.id3Track.addCue(Re)}}}}}}}},R.updateId3CueEnds=function(o,c){var b,k=(b=this.id3Track)==null?void 0:b.cues;if(k)for(var M=k.length;M--;){var U=k[M];U.type===c&&U.startTime<o&&U.endTime===sn&&(U.endTime=o)}},R.onBufferFlushing=function(o,c){var b=c.startOffset,k=c.endOffset,M=c.type,U=this.id3Track,X=this.hls;if(X){var J=X.config,ee=J.enableEmsgMetadataCues,oe=J.enableID3MetadataCues;U&&(ee||oe)&&Gn(U,b,k,M==="audio"?function(pe){return pe.type===nn&&oe}:M==="video"?function(pe){return pe.type===Dn&&ee}:function(pe){return pe.type===nn&&oe||pe.type===Dn&&ee})}},R.onLevelUpdated=function(o,c){var b=this,k=c.details;if(this.media&&k.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var M=this.dateRangeCuesAppended,U=this.id3Track,X=k.dateRanges,J=Object.keys(X);if(U)for(var ee=Object.keys(M).filter(function(ke){return!J.includes(ke)}),oe=function(){var ke=ee[pe];Object.keys(M[ke].cues).forEach(function($e){U.removeCue(M[ke].cues[$e])}),delete M[ke]},pe=ee.length;pe--;)oe();var me=k.fragments[k.fragments.length-1];if(J.length!==0&&A(me==null?void 0:me.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var be=me.programDateTime/1e3-me.start,Te=Kn(),Re=function(){var ke=J[ye],$e=X[ke],He=M[ke],Ze=(He==null?void 0:He.cues)||{},lt=(He==null?void 0:He.durationKnown)||!1,ct=_s($e.startDate,be),wt=sn,dt=$e.endDate;if(dt)wt=_s(dt,be),lt=!0;else if($e.endOnNext&&!lt){var gt=J.reduce(function(Kt,Ct){var wr=X[Ct];return wr.class===$e.class&&wr.id!==Ct&&wr.startDate>$e.startDate&&Kt.push(wr),Kt},[]).sort(function(Kt,Ct){return Kt.startDate.getTime()-Ct.startDate.getTime()})[0];gt&&(wt=_s(gt.startDate,be),lt=!0)}for(var Pt,St,Wt=Object.keys($e.attr),Qt=0;Qt<Wt.length;Qt++){var Vt=Wt[Qt];if((St=Vt)!=="ID"&&St!=="CLASS"&&St!=="START-DATE"&&St!=="DURATION"&&St!=="END-DATE"&&St!=="END-ON-NEXT"){var Gt=Ze[Vt];if(Gt)lt&&!He.durationKnown&&(Gt.endTime=wt);else{var Jt=$e.attr[Vt];Gt=new Te(ct,wt,""),F(Vt)&&(Pt=Jt,Jt=Uint8Array.from(Pt.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),Gt.value={key:Vt,data:Jt},Gt.type=va,Gt.id=ke,b.id3Track.addCue(Gt),Ze[Vt]=Gt}}}M[ke]={cues:Ze,dateRange:$e,durationKnown:lt}},ye=0;ye<J.length;ye++)Re()}}},N}(),un=function(){function N(o){var c=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return c.timeupdate()},this.hls=o,this.config=o.config,this.registerListeners()}var R=N.prototype;return R.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},R.registerListeners=function(){this.hls.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(w.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(w.ERROR,this.onError,this)},R.unregisterListeners=function(){this.hls.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(w.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(w.ERROR,this.onError,this)},R.onMediaAttached=function(o,c){this.media=c.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},R.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},R.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},R.onLevelUpdated=function(o,c){var b=c.details;this.levelDetails=b,b.advanced&&this.timeupdate(),!b.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},R.onError=function(o,c){var b;c.details===D.BUFFER_STALLED_ERROR&&(this.stallCount++,(b=this.levelDetails)!=null&&b.live&&W.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},R.timeupdate=function(){var o=this.media,c=this.levelDetails;if(o&&c){this.currentTime=o.currentTime;var b=this.computeLatency();if(b!==null){this._latency=b;var k=this.config,M=k.lowLatencyMode,U=k.maxLiveSyncPlaybackRate;if(M&&U!==1){var X=this.targetLatency;if(X!==null){var J=b-X,ee=J<Math.min(this.maxLatency,X+c.targetduration);if(c.live&&ee&&J>.05&&this.forwardBufferLength>1){var oe=Math.min(2,Math.max(1,U)),pe=Math.round(2/(1+Math.exp(-.75*J-this.edgeStalled))*20)/20;o.playbackRate=Math.min(oe,Math.max(1,pe))}else o.playbackRate!==1&&o.playbackRate!==0&&(o.playbackRate=1)}}}}},R.estimateLiveEdge=function(){var o=this.levelDetails;return o===null?null:o.edge+o.age},R.computeLatency=function(){var o=this.estimateLiveEdge();return o===null?null:o-this.currentTime},h(N,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var o=this.config,c=this.levelDetails;return o.liveMaxLatencyDuration!==void 0?o.liveMaxLatencyDuration:c?o.liveMaxLatencyDurationCount*c.targetduration:0}},{key:"targetLatency",get:function(){var o=this.levelDetails;if(o===null)return null;var c=o.holdBack,b=o.partHoldBack,k=o.targetduration,M=this.config,U=M.liveSyncDuration,X=M.liveSyncDurationCount,J=M.lowLatencyMode,ee=this.hls.userConfig,oe=J&&b||c;(ee.liveSyncDuration||ee.liveSyncDurationCount||oe===0)&&(oe=U!==void 0?U:X*k);var pe=k;return oe+Math.min(1*this.stallCount,pe)}},{key:"liveSyncPosition",get:function(){var o=this.estimateLiveEdge(),c=this.targetLatency,b=this.levelDetails;if(o===null||c===null||b===null)return null;var k=b.edge,M=o-c-this.edgeStalled,U=k-b.totalduration,X=k-(this.config.lowLatencyMode&&b.partTarget||b.targetduration);return Math.min(Math.max(U,M),X)}},{key:"drift",get:function(){var o=this.levelDetails;return o===null?1:o.drift}},{key:"edgeStalled",get:function(){var o=this.levelDetails;if(o===null)return 0;var c=3*(this.config.lowLatencyMode&&o.partTarget||o.targetduration);return Math.max(o.age-c,0)}},{key:"forwardBufferLength",get:function(){var o=this.media,c=this.levelDetails;if(!o||!c)return 0;var b=o.buffered.length;return(b?o.buffered.end(b-1):c.edge)-this.currentTime}}]),N}(),Us=["NONE","TYPE-0","TYPE-1",null],xs="",Va="YES",ya="v2",wa=function(){function N(R,o,c){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=R,this.part=o,this.skip=c}return N.prototype.addDirectives=function(R){var o=new self.URL(R);return this.msn!==void 0&&o.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&o.searchParams.set("_HLS_part",this.part.toString()),this.skip&&o.searchParams.set("_HLS_skip",this.skip),o.href},N}(),$i=function(){function N(R){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[R.url],this._attrs=[R.attrs],this.bitrate=R.bitrate,R.details&&(this.details=R.details),this.id=R.id||0,this.name=R.name,this.width=R.width||0,this.height=R.height||0,this.audioCodec=R.audioCodec,this.videoCodec=R.videoCodec,this.unknownCodecs=R.unknownCodecs,this.codecSet=[R.videoCodec,R.audioCodec].filter(function(o){return o}).join(",").replace(/\.[^.,]+/g,"")}return N.prototype.addFallback=function(R){this.url.push(R.url),this._attrs.push(R.attrs)},h(N,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(R){var o=R%this.url.length;this._urlId!==o&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=o)}},{key:"audioGroupId",get:function(){var R;return(R=this.audioGroupIds)==null?void 0:R[this.urlId]}},{key:"textGroupId",get:function(){var R;return(R=this.textGroupIds)==null?void 0:R[this.urlId]}}]),N}();function Es(N,R){var o=R.startPTS;if(A(o)){var c,b=0;R.sn>N.sn?(b=o-N.start,c=N):(b=N.start-o,c=R),c.duration!==b&&(c.duration=b)}else R.sn>N.sn?N.cc===R.cc&&N.minEndPTS?R.start=N.start+(N.minEndPTS-N.start):R.start=N.start+N.duration:R.start=Math.max(N.start-R.duration,0)}function _a(N,R,o,c,b,k){c-o<=0&&(W.warn("Fragment should have a positive duration",R),c=o+R.duration,k=b+R.duration);var M=o,U=c,X=R.startPTS,J=R.endPTS;if(A(X)){var ee=Math.abs(X-o);A(R.deltaPTS)?R.deltaPTS=Math.max(ee,R.deltaPTS):R.deltaPTS=ee,M=Math.max(o,X),o=Math.min(o,X),b=Math.min(b,R.startDTS),U=Math.min(c,J),c=Math.max(c,J),k=Math.max(k,R.endDTS)}var oe=o-R.start;R.start!==0&&(R.start=o),R.duration=c-R.start,R.startPTS=o,R.maxStartPTS=M,R.startDTS=b,R.endPTS=c,R.minEndPTS=U,R.endDTS=k;var pe,me=R.sn;if(!N||me<N.startSN||me>N.endSN)return 0;var be=me-N.startSN,Te=N.fragments;for(Te[be]=R,pe=be;pe>0;pe--)Es(Te[pe],Te[pe-1]);for(pe=be;pe<Te.length-1;pe++)Es(Te[pe],Te[pe+1]);return N.fragmentHint&&Es(Te[Te.length-1],N.fragmentHint),N.PTSKnown=N.alignedSliding=!0,oe}function dn(N,R){for(var o=null,c=N.fragments,b=c.length-1;b>=0;b--){var k=c[b].initSegment;if(k){o=k;break}}N.fragmentHint&&delete N.fragmentHint.endPTS;var M,U,X,J,ee,oe=0;if(function(ye,ke,$e){for(var He=ke.skippedSegments,Ze=Math.max(ye.startSN,ke.startSN)-ke.startSN,lt=(ye.fragmentHint?1:0)+(He?ke.endSN:Math.min(ye.endSN,ke.endSN))-ke.startSN,ct=ke.startSN-ye.startSN,wt=ke.fragmentHint?ke.fragments.concat(ke.fragmentHint):ke.fragments,dt=ye.fragmentHint?ye.fragments.concat(ye.fragmentHint):ye.fragments,gt=Ze;gt<=lt;gt++){var Pt=dt[ct+gt],St=wt[gt];He&&!St&&gt<He&&(St=ke.fragments[gt]=Pt),Pt&&St&&$e(Pt,St)}}(N,R,function(ye,ke){ye.relurl&&(oe=ye.cc-ke.cc),A(ye.startPTS)&&A(ye.endPTS)&&(ke.start=ke.startPTS=ye.startPTS,ke.startDTS=ye.startDTS,ke.maxStartPTS=ye.maxStartPTS,ke.endPTS=ye.endPTS,ke.endDTS=ye.endDTS,ke.minEndPTS=ye.minEndPTS,ke.duration=ye.endPTS-ye.startPTS,ke.duration&&(M=ke),R.PTSKnown=R.alignedSliding=!0),ke.elementaryStreams=ye.elementaryStreams,ke.loader=ye.loader,ke.stats=ye.stats,ke.urlId=ye.urlId,ye.initSegment&&(ke.initSegment=ye.initSegment,o=ye.initSegment)}),o&&(R.fragmentHint?R.fragments.concat(R.fragmentHint):R.fragments).forEach(function(ye){var ke;ye.initSegment&&ye.initSegment.relurl!==((ke=o)==null?void 0:ke.relurl)||(ye.initSegment=o)}),R.skippedSegments)if(R.deltaUpdateFailed=R.fragments.some(function(ye){return!ye}),R.deltaUpdateFailed){W.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var pe=R.skippedSegments;pe--;)R.fragments.shift();R.startSN=R.fragments[0].sn,R.startCC=R.fragments[0].cc}else R.canSkipDateRanges&&(R.dateRanges=(U=N.dateRanges,X=R.dateRanges,J=R.recentlyRemovedDateranges,ee=t({},U),J&&J.forEach(function(ye){delete ee[ye]}),Object.keys(X).forEach(function(ye){var ke=new H(X[ye].attr,ee[ye]);ke.isValid?ee[ye]=ke:W.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(X[ye].attr)+'"')}),ee));var me=R.fragments;if(oe){W.warn("discontinuity sliding from playlist, take drift into account");for(var be=0;be<me.length;be++)me[be].cc+=oe}R.skippedSegments&&(R.startCC=R.fragments[0].cc),function(ye,ke,$e){if(ye&&ke)for(var He=0,Ze=0,lt=ye.length;Ze<=lt;Ze++){var ct=ye[Ze],wt=ke[Ze+He];ct&&wt&&ct.index===wt.index&&ct.fragment.sn===wt.fragment.sn?$e(ct,wt):He--}}(N.partList,R.partList,function(ye,ke){ke.elementaryStreams=ye.elementaryStreams,ke.stats=ye.stats}),M?_a(R,M,M.startPTS,M.endPTS,M.startDTS,M.endDTS):xa(N,R),me.length&&(R.totalduration=R.edge-me[0].start),R.driftStartTime=N.driftStartTime,R.driftStart=N.driftStart;var Te=R.advancedDateTime;if(R.advanced&&Te){var Re=R.edge;R.driftStart||(R.driftStartTime=Te,R.driftStart=Re),R.driftEndTime=Te,R.driftEnd=Re}else R.driftEndTime=N.driftEndTime,R.driftEnd=N.driftEnd,R.advancedDateTime=N.advancedDateTime}function xa(N,R){var o=R.startSN+R.skippedSegments-N.startSN,c=N.fragments;o<0||o>=c.length||an(R,c[o].start)}function an(N,R){if(R){for(var o=N.fragments,c=N.skippedSegments;c<o.length;c++)o[c].start+=R;N.fragmentHint&&(N.fragmentHint.start+=R)}}function pn(N,R,o){var c;return N!=null&&N.details?js((c=N.details)==null?void 0:c.partList,R,o):null}function js(N,R,o){if(N)for(var c=N.length;c--;){var b=N[c];if(b.index===o&&b.fragment.sn===R)return b}return null}function Yn(N){switch(N.details){case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_TIMEOUT:case D.LEVEL_LOAD_TIMEOUT:case D.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function jr(N,R){var o=Yn(R);return N.default[(o?"timeout":"error")+"Retry"]}function Dr(N,R){var o=N.backoff==="linear"?1:Math.pow(2,R);return Math.min(o*N.retryDelayMs,N.maxRetryDelayMs)}function zs(N){return f(f({},N),{errorRetry:null,timeoutRetry:null})}function Ts(N,R,o,c){return!!N&&R<N.maxNumRetry&&(function(b){return b===0&&navigator.onLine===!1||!!b&&(b<400||b>499)}(c)||!!o)}var Hs=function(N,R){for(var o=0,c=N.length-1,b=null,k=null;o<=c;){var M=R(k=N[b=(o+c)/2|0]);if(M>0)o=b+1;else{if(!(M<0))return k;c=b-1}}return null};function Zn(N,R,o,c){o===void 0&&(o=0),c===void 0&&(c=0);var b=null;if(N?b=R[N.sn-R[0].sn+1]||null:o===0&&R[0].start===0&&(b=R[0]),b&&je(o,c,b)===0)return b;var k=Hs(R,je.bind(null,o,c));return!k||k===N&&b?b:k}function je(N,R,o){if(N===void 0&&(N=0),R===void 0&&(R=0),o.start<=N&&o.start+o.duration>N)return 0;var c=Math.min(R,o.duration+(o.deltaPTS?o.deltaPTS:0));return o.start+o.duration-c<=N?1:o.start-c>N&&o.start?-1:0}function qe(N,R,o){var c=1e3*Math.min(R,o.duration+(o.deltaPTS?o.deltaPTS:0));return(o.endProgramDateTime||0)-c>N}var vt,Ot=3e5,sr=0,Zt=2,Lr=5,Fr=0,Zr=1,kr=2,xi=function(){function N(o){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=o,this.log=W.log.bind(W,"[info]:"),this.warn=W.warn.bind(W,"[warning]:"),this.error=W.error.bind(W,"[error]:"),this.registerListeners()}var R=N.prototype;return R.registerListeners=function(){var o=this.hls;o.on(w.ERROR,this.onError,this),o.on(w.MANIFEST_LOADING,this.onManifestLoading,this),o.on(w.LEVEL_UPDATED,this.onLevelUpdated,this)},R.unregisterListeners=function(){var o=this.hls;o&&(o.off(w.ERROR,this.onError,this),o.off(w.ERROR,this.onErrorOut,this),o.off(w.MANIFEST_LOADING,this.onManifestLoading,this),o.off(w.LEVEL_UPDATED,this.onLevelUpdated,this))},R.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},R.startLoad=function(o){this.playlistError=0},R.stopLoad=function(){},R.getVariantLevelIndex=function(o){return(o==null?void 0:o.type)===vr?o.level:this.hls.loadLevel},R.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},R.onLevelUpdated=function(){this.playlistError=0},R.onError=function(o,c){var b,k;if(!c.fatal){var M=this.hls,U=c.context;switch(c.details){case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:return void(c.errorAction=this.getFragRetryOrSwitchAction(c));case D.FRAG_PARSING_ERROR:if((b=c.frag)!=null&&b.gap)return void(c.errorAction={action:sr,flags:Fr});case D.FRAG_GAP:case D.FRAG_DECRYPT_ERROR:return c.errorAction=this.getFragRetryOrSwitchAction(c),void(c.errorAction.action=Zt);case D.LEVEL_EMPTY_ERROR:case D.LEVEL_PARSING_ERROR:var X,J,ee=c.parent===vr?c.level:M.loadLevel;return void(c.details===D.LEVEL_EMPTY_ERROR&&(X=c.context)!=null&&(J=X.levelDetails)!=null&&J.live?c.errorAction=this.getPlaylistRetryOrSwitchAction(c,ee):(c.levelRetry=!1,c.errorAction=this.getLevelSwitchAction(c,ee)));case D.LEVEL_LOAD_ERROR:case D.LEVEL_LOAD_TIMEOUT:return void(typeof(U==null?void 0:U.level)=="number"&&(c.errorAction=this.getPlaylistRetryOrSwitchAction(c,U.level)));case D.AUDIO_TRACK_LOAD_ERROR:case D.AUDIO_TRACK_LOAD_TIMEOUT:case D.SUBTITLE_LOAD_ERROR:case D.SUBTITLE_TRACK_LOAD_TIMEOUT:if(U){var oe=M.levels[M.loadLevel];if(oe&&(U.type===Di&&U.groupId===oe.audioGroupId||U.type===tn&&U.groupId===oe.textGroupId))return c.errorAction=this.getPlaylistRetryOrSwitchAction(c,M.loadLevel),c.errorAction.action=Zt,void(c.errorAction.flags=Zr)}return;case D.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var pe=M.levels[M.loadLevel],me=pe==null?void 0:pe.attrs["HDCP-LEVEL"];return void(me&&(c.errorAction={action:Zt,flags:kr,hdcpLevel:me}));case D.BUFFER_ADD_CODEC_ERROR:case D.REMUX_ALLOC_ERROR:return void(c.errorAction=this.getLevelSwitchAction(c,(k=c.level)!=null?k:M.loadLevel));case D.INTERNAL_EXCEPTION:case D.BUFFER_APPENDING_ERROR:case D.BUFFER_APPEND_ERROR:case D.BUFFER_FULL_ERROR:case D.LEVEL_SWITCH_ERROR:case D.BUFFER_STALLED_ERROR:case D.BUFFER_SEEK_OVER_HOLE:case D.BUFFER_NUDGE_ON_STALL:return void(c.errorAction={action:sr,flags:Fr})}if(c.type===I.KEY_SYSTEM_ERROR){var be=this.getVariantLevelIndex(c.frag);return c.levelRetry=!1,void(c.errorAction=this.getLevelSwitchAction(c,be))}}},R.getPlaylistRetryOrSwitchAction=function(o,c){var b,k=jr(this.hls.config.playlistLoadPolicy,o),M=this.playlistError++,U=(b=o.response)==null?void 0:b.code;if(Ts(k,M,Yn(o),U))return{action:Lr,flags:Fr,retryConfig:k,retryCount:M};var X=this.getLevelSwitchAction(o,c);return k&&(X.retryConfig=k,X.retryCount=M),X},R.getFragRetryOrSwitchAction=function(o){var c=this.hls,b=this.getVariantLevelIndex(o.frag),k=c.levels[b],M=c.config,U=M.fragLoadPolicy,X=M.keyLoadPolicy,J=jr(o.details.startsWith("key")?X:U,o),ee=c.levels.reduce(function(be,Te){return be+Te.fragmentError},0);if(k){var oe;o.details!==D.FRAG_GAP&&k.fragmentError++;var pe=(oe=o.response)==null?void 0:oe.code;if(Ts(J,ee,Yn(o),pe))return{action:Lr,flags:Fr,retryConfig:J,retryCount:ee}}var me=this.getLevelSwitchAction(o,b);return J&&(me.retryConfig=J,me.retryCount=ee),me},R.getLevelSwitchAction=function(o,c){var b=this.hls;c==null&&(c=b.loadLevel);var k=this.hls.levels[c];if(k&&(k.loadError++,b.autoLevelEnabled)){for(var M,U,X=-1,J=b.levels,ee=b.loadLevel,oe=b.minAutoLevel,pe=b.maxAutoLevel,me=(M=o.frag)==null?void 0:M.type,be=(U=o.context)!=null?U:{},Te=be.type,Re=be.groupId,ye=J.length;ye--;){var ke=(ye+ee)%J.length;if(ke!==ee&&ke>=oe&&ke<=pe&&J[ke].loadError===0){var $e=J[ke];if(o.details===D.FRAG_GAP&&o.frag){var He=J[ke].details;if(He){var Ze=Zn(o.frag,He.fragments,o.frag.start);if(Ze!=null&&Ze.gap)continue}}else if(Te===Di&&Re===$e.audioGroupId||Te===tn&&Re===$e.textGroupId||me===Zi&&k.audioGroupId===$e.audioGroupId||me===Hi&&k.textGroupId===$e.textGroupId)continue;X=ke;break}}if(X>-1&&b.loadLevel!==X)return o.levelRetry=!0,this.playlistError=0,{action:Zt,flags:Fr,nextAutoLevel:X}}return{action:Zt,flags:Zr}},R.onErrorOut=function(o,c){var b;switch((b=c.errorAction)==null?void 0:b.action){case sr:break;case Zt:this.sendAlternateToPenaltyBox(c),c.errorAction.resolved||c.details===D.FRAG_GAP||(c.fatal=!0)}c.fatal&&this.hls.stopLoad()},R.sendAlternateToPenaltyBox=function(o){var c=this.hls,b=o.errorAction;if(b){var k=b.flags,M=b.hdcpLevel,U=b.nextAutoLevel;switch(k){case Fr:this.switchLevel(o,U);break;case Zr:b.resolved||(b.resolved=this.redundantFailover(o));break;case kr:M&&(c.maxHdcpLevel=Us[Us.indexOf(M)-1],b.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+c.maxHdcpLevel+'" or lower')}b.resolved||this.switchLevel(o,U)}},R.switchLevel=function(o,c){c!==void 0&&o.errorAction&&(this.warn("switching to level "+c+" after "+o.details),this.hls.nextAutoLevel=c,o.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},R.redundantFailover=function(o){var c=this,b=this.hls,k=this.penalizedRenditions,M=o.parent===vr?o.level:b.loadLevel,U=b.levels[M],X=U.url.length,J=o.frag?o.frag.urlId:U.urlId;U.urlId!==J||o.frag&&!U.details||this.penalizeRendition(U,o);for(var ee=function(){var me=(J+oe)%X,be=k[me];if(!be||function(Te,Re,ye){if(performance.now()-Te.lastErrorPerfMs>Ot)return!0;var ke=Te.details;if(Re.details===D.FRAG_GAP&&ke&&Re.frag){var $e=Re.frag.start,He=Zn(null,ke.fragments,$e);if(He&&!He.gap)return!0}if(ye&&Te.errors.length<ye.errors.length){var Ze=Te.errors[Te.errors.length-1];if(ke&&Ze.frag&&Re.frag&&Math.abs(Ze.frag.start-Re.frag.start)>3*ke.targetduration)return!0}return!1}(be,o,k[J]))return c.warn("Switching to Redundant Stream "+(me+1)+"/"+X+': "'+U.url[me]+'" after '+o.details),c.playlistError=0,b.levels.forEach(function(Te){Te.urlId=me}),b.nextLoadLevel=M,{v:!0}},oe=1;oe<X;oe++){var pe=ee();if(typeof pe=="object")return pe.v}return!1},R.penalizeRendition=function(o,c){var b=this.penalizedRenditions,k=b[o.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};k.lastErrorPerfMs=performance.now(),k.errors.push(c),k.details=o.details,b[o.urlId]=k},N}(),vi=function(){function N(o,c){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=W.log.bind(W,c+":"),this.warn=W.warn.bind(W,c+":"),this.hls=o}var R=N.prototype;return R.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},R.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},R.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},R.stopLoad=function(){this.canLoad=!1,this.clearTimer()},R.switchParams=function(o,c){var b=c==null?void 0:c.renditionReports;if(b){for(var k=-1,M=0;M<b.length;M++){var U=b[M],X=void 0;try{X=new self.URL(U.URI,c.url).href}catch(me){W.warn("Could not construct new URL for Rendition Report: "+me),X=U.URI||""}if(X===o){k=M;break}X===o.substring(0,X.length)&&(k=M)}if(k!==-1){var J=b[k],ee=parseInt(J["LAST-MSN"])||(c==null?void 0:c.lastPartSn),oe=parseInt(J["LAST-PART"])||(c==null?void 0:c.lastPartIndex);if(this.hls.config.lowLatencyMode){var pe=Math.min(c.age-c.partTarget,c.targetduration);oe>=0&&pe>c.partTarget&&(oe+=1)}return new wa(ee,oe>=0?oe:void 0,xs)}}},R.loadPlaylist=function(o){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},R.shouldLoadPlaylist=function(o){return this.canLoad&&!!o&&!!o.url&&(!o.details||o.details.live)},R.shouldReloadPlaylist=function(o){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(o)},R.playlistLoaded=function(o,c,b){var k=this,M=c.details,U=c.stats,X=self.performance.now(),J=U.loading.first?Math.max(0,X-U.loading.first):0;if(M.advancedDateTime=Date.now()-J,M.live||b!=null&&b.live){if(M.reloaded(b),b&&this.log("live playlist "+o+" "+(M.advanced?"REFRESHED "+M.lastPartSn+"-"+M.lastPartIndex:M.updated?"UPDATED":"MISSED")),b&&M.fragments.length>0&&dn(b,M),!this.canLoad||!M.live)return;var ee,oe=void 0,pe=void 0;if(M.canBlockReload&&M.endSN&&M.advanced){var me=this.hls.config.lowLatencyMode,be=M.lastPartSn,Te=M.endSN,Re=M.lastPartIndex,ye=be===Te;Re!==-1?(oe=ye?Te+1:be,pe=ye?me?0:Re:Re+1):oe=Te+1;var ke=M.age,$e=ke+M.ageHeader,He=Math.min($e-M.partTarget,1.5*M.targetduration);if(He>0){if(b&&He>b.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+b.tuneInGoal+" to: "+He+" with playlist age: "+M.age),He=0;else{var Ze=Math.floor(He/M.targetduration);oe+=Ze,pe!==void 0&&(pe+=Math.round(He%M.targetduration/M.partTarget)),this.log("CDN Tune-in age: "+M.ageHeader+"s last advanced "+ke.toFixed(2)+"s goal: "+He+" skip sn "+Ze+" to part "+pe)}M.tuneInGoal=He}if(ee=this.getDeliveryDirectives(M,c.deliveryDirectives,oe,pe),me||!ye)return void this.loadPlaylist(ee)}else(M.canBlockReload||M.canSkipUntil)&&(ee=this.getDeliveryDirectives(M,c.deliveryDirectives,oe,pe));var lt=this.hls.mainForwardBufferInfo,ct=lt?lt.end-lt.len:0,wt=function(gt,Pt){Pt===void 0&&(Pt=1/0);var St=1e3*gt.targetduration;if(gt.updated){var Wt=gt.fragments;if(Wt.length&&4*St>Pt){var Qt=1e3*Wt[Wt.length-1].duration;Qt<St&&(St=Qt)}}else St/=2;return Math.round(St)}(M,1e3*(M.edge-ct));M.updated&&X>this.requestScheduled+wt&&(this.requestScheduled=U.loading.start),oe!==void 0&&M.canBlockReload?this.requestScheduled=U.loading.first+wt-(1e3*M.partTarget||1e3):this.requestScheduled===-1||this.requestScheduled+wt<X?this.requestScheduled=X:this.requestScheduled-X<=0&&(this.requestScheduled+=wt);var dt=this.requestScheduled-X;dt=Math.max(0,dt),this.log("reload live playlist "+o+" in "+Math.round(dt)+" ms"),this.timer=self.setTimeout(function(){return k.loadPlaylist(ee)},dt)}else this.clearTimer()},R.getDeliveryDirectives=function(o,c,b,k){var M=function(U,X){var J=U.canSkipUntil,ee=U.canSkipDateRanges,oe=U.endSN;return J&&(X!==void 0?X-oe:0)<J?ee?ya:Va:xs}(o,b);return c!=null&&c.skip&&o.deltaUpdateFailed&&(b=c.msn,k=c.part,M=xs),new wa(b,k,M)},R.checkRetry=function(o){var c=this,b=o.details,k=Yn(o),M=o.errorAction,U=M||{},X=U.action,J=U.retryCount,ee=J===void 0?0:J,oe=U.retryConfig,pe=!!M&&!!oe&&(X===Lr||!M.resolved&&X===Zt);if(pe){var me;if(this.requestScheduled=-1,ee>=oe.maxNumRetry)return!1;if(k&&(me=o.context)!=null&&me.deliveryDirectives)this.warn("Retrying playlist loading "+(ee+1)+"/"+oe.maxNumRetry+' after "'+b+'" without delivery-directives'),this.loadPlaylist();else{var be=Dr(oe,ee);this.timer=self.setTimeout(function(){return c.loadPlaylist()},be),this.warn("Retrying playlist loading "+(ee+1)+"/"+oe.maxNumRetry+' after "'+b+'" in '+be+"ms")}o.levelRetry=!0,M.resolved=!0}return pe},N}(),si=function(N){function R(c,b){var k;return(k=N.call(this,c,"[level-controller]")||this)._levels=[],k._firstLevel=-1,k._startLevel=void 0,k.currentLevel=null,k.currentLevelIndex=-1,k.manualLevelIndex=-1,k.steering=void 0,k.onParsedComplete=void 0,k.steering=b,k._registerListeners(),k}i(R,N);var o=R.prototype;return o._registerListeners=function(){var c=this.hls;c.on(w.MANIFEST_LOADING,this.onManifestLoading,this),c.on(w.MANIFEST_LOADED,this.onManifestLoaded,this),c.on(w.LEVEL_LOADED,this.onLevelLoaded,this),c.on(w.LEVELS_UPDATED,this.onLevelsUpdated,this),c.on(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),c.on(w.FRAG_LOADED,this.onFragLoaded,this),c.on(w.ERROR,this.onError,this)},o._unregisterListeners=function(){var c=this.hls;c.off(w.MANIFEST_LOADING,this.onManifestLoading,this),c.off(w.MANIFEST_LOADED,this.onManifestLoaded,this),c.off(w.LEVEL_LOADED,this.onLevelLoaded,this),c.off(w.LEVELS_UPDATED,this.onLevelsUpdated,this),c.off(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),c.off(w.FRAG_LOADED,this.onFragLoaded,this),c.off(w.ERROR,this.onError,this)},o.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),N.prototype.destroy.call(this)},o.startLoad=function(){this._levels.forEach(function(c){c.loadError=0,c.fragmentError=0}),N.prototype.startLoad.call(this)},o.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]},o.onManifestLoading=function(c,b){this.resetLevels()},o.onManifestLoaded=function(c,b){var k,M=[],U={};b.levels.forEach(function(X){var J,ee=X.attrs;((J=X.audioCodec)==null?void 0:J.indexOf("mp4a.40.34"))!==-1&&(vt||(vt=/chrome|firefox/i.test(navigator.userAgent)),vt&&(X.audioCodec=void 0));var oe=ee.AUDIO,pe=ee.CODECS,me=ee["FRAME-RATE"],be=ee["PATHWAY-ID"],Te=ee.RESOLUTION,Re=ee.SUBTITLES,ye=(be||".")+"-"+X.bitrate+"-"+Te+"-"+me+"-"+pe;(k=U[ye])?k.addFallback(X):(k=new $i(X),U[ye]=k,M.push(k)),ai(k,"audio",oe),ai(k,"text",Re)}),this.filterAndSortMediaOptions(M,b)},o.filterAndSortMediaOptions=function(c,b){var k=this,M=[],U=[],X=!1,J=!1,ee=!1,oe=c.filter(function(ke){var $e=ke.audioCodec,He=ke.videoCodec,Ze=ke.width,lt=ke.height,ct=ke.unknownCodecs;return X||(X=!(!Ze||!lt)),J||(J=!!He),ee||(ee=!!$e),!(ct!=null&&ct.length)&&(!$e||ot($e,"audio"))&&(!He||ot(He,"video"))});if((X||J)&&ee&&(oe=oe.filter(function(ke){var $e=ke.videoCodec,He=ke.width,Ze=ke.height;return!!$e||!(!He||!Ze)})),oe.length!==0){b.audioTracks&&bi(M=b.audioTracks.filter(function(ke){return!ke.audioCodec||ot(ke.audioCodec,"audio")})),b.subtitles&&bi(U=b.subtitles);var pe=oe.slice(0);oe.sort(function(ke,$e){return ke.attrs["HDCP-LEVEL"]!==$e.attrs["HDCP-LEVEL"]?(ke.attrs["HDCP-LEVEL"]||"")>($e.attrs["HDCP-LEVEL"]||"")?1:-1:ke.bitrate!==$e.bitrate?ke.bitrate-$e.bitrate:ke.attrs["FRAME-RATE"]!==$e.attrs["FRAME-RATE"]?ke.attrs.decimalFloatingPoint("FRAME-RATE")-$e.attrs.decimalFloatingPoint("FRAME-RATE"):ke.attrs.SCORE!==$e.attrs.SCORE?ke.attrs.decimalFloatingPoint("SCORE")-$e.attrs.decimalFloatingPoint("SCORE"):X&&ke.height!==$e.height?ke.height-$e.height:0});var me=pe[0];if(this.steering&&(oe=this.steering.filterParsedLevels(oe)).length!==pe.length){for(var be=0;be<pe.length;be++)if(pe[be].pathwayId===oe[0].pathwayId){me=pe[be];break}}this._levels=oe;for(var Te=0;Te<oe.length;Te++)if(oe[Te]===me){this._firstLevel=Te,this.log("manifest loaded, "+oe.length+" level(s) found, first bitrate: "+me.bitrate);break}var Re=ee&&!J,ye={levels:oe,audioTracks:M,subtitleTracks:U,sessionData:b.sessionData,sessionKeys:b.sessionKeys,firstLevel:this._firstLevel,stats:b.stats,audio:ee,video:J,altAudio:!Re&&M.some(function(ke){return!!ke.url})};this.hls.trigger(w.MANIFEST_PARSED,ye),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then(function(){if(k.hls){var ke=new Error("no level with compatible codecs found in manifest");k.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:b.url,error:ke,reason:ke.message})}})},o.onError=function(c,b){!b.fatal&&b.context&&b.context.type===Fi&&b.context.level===this.level&&this.checkRetry(b)},o.onFragLoaded=function(c,b){var k=b.frag;if(k!==void 0&&k.type===vr){var M=this._levels[k.level];M!==void 0&&(M.loadError=0)}},o.onLevelLoaded=function(c,b){var k,M,U=b.level,X=b.details,J=this._levels[U];if(!J)return this.warn("Invalid level index "+U),void((M=b.deliveryDirectives)!=null&&M.skip&&(X.deltaUpdateFailed=!0));U===this.currentLevelIndex?(J.fragmentError===0&&(J.loadError=0),this.playlistLoaded(U,b,J.details)):(k=b.deliveryDirectives)!=null&&k.skip&&(X.deltaUpdateFailed=!0)},o.onAudioTrackSwitched=function(c,b){var k=this.currentLevel;if(k){var M=this.hls.audioTracks[b.id].groupId;if(k.audioGroupIds&&k.audioGroupId!==M){for(var U=-1,X=0;X<k.audioGroupIds.length;X++)if(k.audioGroupIds[X]===M){U=X;break}U!==-1&&U!==k.urlId&&(k.urlId=U,this.canLoad&&this.startLoad())}}},o.loadPlaylist=function(c){N.prototype.loadPlaylist.call(this);var b=this.currentLevelIndex,k=this.currentLevel;if(k&&this.shouldLoadPlaylist(k)){var M=k.urlId,U=k.uri;if(c)try{U=c.addDirectives(U)}catch(J){this.warn("Could not construct new URL with HLS Delivery Directives: "+J)}var X=k.attrs["PATHWAY-ID"];this.log("Loading level index "+b+((c==null?void 0:c.msn)!==void 0?" at sn "+c.msn+" part "+c.part:"")+" with"+(X?" Pathway "+X:"")+" URI "+(M+1)+"/"+k.url.length+" "+U),this.clearTimer(),this.hls.trigger(w.LEVEL_LOADING,{url:U,level:b,id:M,deliveryDirectives:c||null})}},o.removeLevel=function(c,b){var k=this,M=function(X,J){return J!==b},U=this._levels.filter(function(X,J){return J!==c||(X.url.length>1&&b!==void 0?(X.url=X.url.filter(M),X.audioGroupIds&&(X.audioGroupIds=X.audioGroupIds.filter(M)),X.textGroupIds&&(X.textGroupIds=X.textGroupIds.filter(M)),X.urlId=0,!0):(k.steering&&k.steering.removeLevel(X),!1))});this.hls.trigger(w.LEVELS_UPDATED,{levels:U})},o.onLevelsUpdated=function(c,b){var k=b.levels;k.forEach(function(M,U){var X=M.details;X!=null&&X.fragments&&X.fragments.forEach(function(J){J.level=U})}),this._levels=k},h(R,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(c){var b=this._levels;if(b.length!==0){if(c<0||c>=b.length){var k=new Error("invalid level idx"),M=c<0;if(this.hls.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.LEVEL_SWITCH_ERROR,level:c,fatal:M,error:k,reason:k.message}),M)return;c=Math.min(c,b.length-1)}var U=this.currentLevelIndex,X=this.currentLevel,J=X?X.attrs["PATHWAY-ID"]:void 0,ee=b[c],oe=ee.attrs["PATHWAY-ID"];if(this.currentLevelIndex=c,this.currentLevel=ee,U!==c||!ee.details||!X||J!==oe){this.log("Switching to level "+c+(oe?" with Pathway "+oe:"")+" from level "+U+(J?" with Pathway "+J:""));var pe=t({},ee,{level:c,maxBitrate:ee.maxBitrate,attrs:ee.attrs,uri:ee.uri,urlId:ee.urlId});delete pe._attrs,delete pe._urlId,this.hls.trigger(w.LEVEL_SWITCHING,pe);var me=ee.details;if(!me||me.live){var be=this.switchParams(ee.uri,X==null?void 0:X.details);this.loadPlaylist(be)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(c){this.manualLevelIndex=c,this._startLevel===void 0&&(this._startLevel=c),c!==-1&&(this.level=c)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(c){this._firstLevel=c}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var c=this.hls.config.startLevel;return c!==void 0?c:this._firstLevel}return this._startLevel},set:function(c){this._startLevel=c}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(c){this.level=c,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=c)}}]),R}(vi);function ai(N,R,o){o&&(R==="audio"?(N.audioGroupIds||(N.audioGroupIds=[]),N.audioGroupIds[N.url.length-1]=o):R==="text"&&(N.textGroupIds||(N.textGroupIds=[]),N.textGroupIds[N.url.length-1]=o))}function bi(N){var R={};N.forEach(function(o){var c=o.groupId||"";o.id=R[c]=R[c]||0,R[c]++})}var Bi="NOT_LOADED",ri="APPENDING",Wi="PARTIAL",pi="OK",Ln=function(){function N(o){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=o,this._registerListeners()}var R=N.prototype;return R._registerListeners=function(){var o=this.hls;o.on(w.BUFFER_APPENDED,this.onBufferAppended,this),o.on(w.FRAG_BUFFERED,this.onFragBuffered,this),o.on(w.FRAG_LOADED,this.onFragLoaded,this)},R._unregisterListeners=function(){var o=this.hls;o.off(w.BUFFER_APPENDED,this.onBufferAppended,this),o.off(w.FRAG_BUFFERED,this.onFragBuffered,this),o.off(w.FRAG_LOADED,this.onFragLoaded,this)},R.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},R.getAppendedFrag=function(o,c){var b=this.activePartLists[c];if(b)for(var k=b.length;k--;){var M=b[k];if(!M)break;var U=M.end;if(M.start<=o&&U!==null&&o<=U)return M}return this.getBufferedFrag(o,c)},R.getBufferedFrag=function(o,c){for(var b=this.fragments,k=Object.keys(b),M=k.length;M--;){var U=b[k[M]];if((U==null?void 0:U.body.type)===c&&U.buffered){var X=U.body;if(X.start<=o&&o<=X.end)return X}}return null},R.detectEvictedFragments=function(o,c,b,k){var M=this;this.timeRanges&&(this.timeRanges[o]=c);var U=(k==null?void 0:k.fragment.sn)||-1;Object.keys(this.fragments).forEach(function(X){var J=M.fragments[X];if(J&&!(U>=J.body.sn))if(J.buffered||J.loaded){var ee=J.range[o];ee&&ee.time.some(function(oe){var pe=!M.isTimeBuffered(oe.startPTS,oe.endPTS,c);return pe&&M.removeFragment(J.body),pe})}else J.body.type===b&&M.removeFragment(J.body)})},R.detectPartialFragments=function(o){var c=this,b=this.timeRanges,k=o.frag,M=o.part;if(b&&k.sn!=="initSegment"){var U=Qi(k),X=this.fragments[U];if(!(!X||X.buffered&&k.gap)){var J=!k.relurl;Object.keys(b).forEach(function(ee){var oe=k.elementaryStreams[ee];if(oe){var pe=b[ee],me=J||oe.partial===!0;X.range[ee]=c.getBufferedTimes(k,M,me,pe)}}),X.loaded=null,Object.keys(X.range).length?(X.buffered=!0,(X.body.endList=k.endList||X.body.endList)&&(this.endListFragments[X.body.type]=X),wn(X)||this.removeParts(k.sn-1,k.type)):this.removeFragment(X.body)}}},R.removeParts=function(o,c){var b=this.activePartLists[c];b&&(this.activePartLists[c]=b.filter(function(k){return k.fragment.sn>=o}))},R.fragBuffered=function(o,c){var b=Qi(o),k=this.fragments[b];!k&&c&&(k=this.fragments[b]={body:o,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},o.gap&&(this.hasGaps=!0)),k&&(k.loaded=null,k.buffered=!0)},R.getBufferedTimes=function(o,c,b,k){for(var M={time:[],partial:b},U=o.start,X=o.end,J=o.minEndPTS||X,ee=o.maxStartPTS||U,oe=0;oe<k.length;oe++){var pe=k.start(oe)-this.bufferPadding,me=k.end(oe)+this.bufferPadding;if(ee>=pe&&J<=me){M.time.push({startPTS:Math.max(U,k.start(oe)),endPTS:Math.min(X,k.end(oe))});break}if(U<me&&X>pe)M.partial=!0,M.time.push({startPTS:Math.max(U,k.start(oe)),endPTS:Math.min(X,k.end(oe))});else if(X<=pe)break}return M},R.getPartialFragment=function(o){var c,b,k,M=null,U=0,X=this.bufferPadding,J=this.fragments;return Object.keys(J).forEach(function(ee){var oe=J[ee];oe&&wn(oe)&&(b=oe.body.start-X,k=oe.body.end+X,o>=b&&o<=k&&(c=Math.min(o-b,k-o),U<=c&&(M=oe.body,U=c)))}),M},R.isEndListAppended=function(o){var c=this.endListFragments[o];return c!==void 0&&(c.buffered||wn(c))},R.getState=function(o){var c=Qi(o),b=this.fragments[c];return b?b.buffered?wn(b)?Wi:pi:ri:Bi},R.isTimeBuffered=function(o,c,b){for(var k,M,U=0;U<b.length;U++){if(k=b.start(U)-this.bufferPadding,M=b.end(U)+this.bufferPadding,o>=k&&c<=M)return!0;if(c<=k)return!1}return!1},R.onFragLoaded=function(o,c){var b=c.frag,k=c.part;if(b.sn!=="initSegment"&&!b.bitrateTest){var M=k?null:c,U=Qi(b);this.fragments[U]={body:b,appendedPTS:null,loaded:M,buffered:!1,range:Object.create(null)}}},R.onBufferAppended=function(o,c){var b=this,k=c.frag,M=c.part,U=c.timeRanges;if(k.sn!=="initSegment"){var X=k.type;if(M){var J=this.activePartLists[X];J||(this.activePartLists[X]=J=[]),J.push(M)}this.timeRanges=U,Object.keys(U).forEach(function(ee){var oe=U[ee];b.detectEvictedFragments(ee,oe,X,M)})}},R.onFragBuffered=function(o,c){this.detectPartialFragments(c)},R.hasFragment=function(o){var c=Qi(o);return!!this.fragments[c]},R.hasParts=function(o){var c;return!((c=this.activePartLists[o])==null||!c.length)},R.removeFragmentsInRange=function(o,c,b,k,M){var U=this;k&&!this.hasGaps||Object.keys(this.fragments).forEach(function(X){var J=U.fragments[X];if(J){var ee=J.body;ee.type!==b||k&&!ee.gap||ee.start<c&&ee.end>o&&(J.buffered||M)&&U.removeFragment(ee)}})},R.removeFragment=function(o){var c=Qi(o);o.stats.loaded=0,o.clearElementaryStreamInfo();var b=this.activePartLists[o.type];if(b){var k=o.sn;this.activePartLists[o.type]=b.filter(function(M){return M.fragment.sn!==k})}delete this.fragments[c],o.endList&&delete this.endListFragments[o.type]},R.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},N}();function wn(N){var R,o,c;return N.buffered&&(N.body.gap||((R=N.range.video)==null?void 0:R.partial)||((o=N.range.audio)==null?void 0:o.partial)||((c=N.range.audiovideo)==null?void 0:c.partial))}function Qi(N){return N.type+"_"+N.level+"_"+N.urlId+"_"+N.sn}var Ce=Math.pow(2,17),Ve=function(){function N(o){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=o}var R=N.prototype;return R.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},R.abort=function(){this.loader&&this.loader.abort()},R.load=function(o,c){var b=this,k=o.url;if(!k)return Promise.reject(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:o,error:new Error("Fragment does not have a "+(k?"part list":"url")),networkDetails:null}));this.abort();var M=this.config,U=M.fLoader,X=M.loader;return new Promise(function(J,ee){if(b.loader&&b.loader.destroy(),o.gap){if(o.tagList.some(function(Te){return Te[0]==="GAP"}))return void ee(xt(o));o.gap=!1}var oe=b.loader=o.loader=U?new U(M):new X(M),pe=st(o),me=zs(M.fragLoadPolicy.default),be={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:o.sn==="initSegment"?1/0:Ce};o.stats=oe.stats,oe.load(pe,be,{onSuccess:function(Te,Re,ye,ke){b.resetLoader(o,oe);var $e=Te.data;ye.resetIV&&o.decryptdata&&(o.decryptdata.iv=new Uint8Array($e.slice(0,16)),$e=$e.slice(16)),J({frag:o,part:null,payload:$e,networkDetails:ke})},onError:function(Te,Re,ye,ke){b.resetLoader(o,oe),ee(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:o,response:f({url:k,data:void 0},Te),error:new Error("HTTP Error "+Te.code+" "+Te.text),networkDetails:ye,stats:ke}))},onAbort:function(Te,Re,ye){b.resetLoader(o,oe),ee(new Ht({type:I.NETWORK_ERROR,details:D.INTERNAL_ABORTED,fatal:!1,frag:o,error:new Error("Aborted"),networkDetails:ye,stats:Te}))},onTimeout:function(Te,Re,ye){b.resetLoader(o,oe),ee(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_TIMEOUT,fatal:!1,frag:o,error:new Error("Timeout after "+be.timeout+"ms"),networkDetails:ye,stats:Te}))},onProgress:function(Te,Re,ye,ke){c&&c({frag:o,part:null,payload:ye,networkDetails:ke})}})})},R.loadPart=function(o,c,b){var k=this;this.abort();var M=this.config,U=M.fLoader,X=M.loader;return new Promise(function(J,ee){if(k.loader&&k.loader.destroy(),o.gap||c.gap)ee(xt(o,c));else{var oe=k.loader=o.loader=U?new U(M):new X(M),pe=st(o,c),me=zs(M.fragLoadPolicy.default),be={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Ce};c.stats=oe.stats,oe.load(pe,be,{onSuccess:function(Te,Re,ye,ke){k.resetLoader(o,oe),k.updateStatsFromPart(o,c);var $e={frag:o,part:c,payload:Te.data,networkDetails:ke};b($e),J($e)},onError:function(Te,Re,ye,ke){k.resetLoader(o,oe),ee(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:o,part:c,response:f({url:pe.url,data:void 0},Te),error:new Error("HTTP Error "+Te.code+" "+Te.text),networkDetails:ye,stats:ke}))},onAbort:function(Te,Re,ye){o.stats.aborted=c.stats.aborted,k.resetLoader(o,oe),ee(new Ht({type:I.NETWORK_ERROR,details:D.INTERNAL_ABORTED,fatal:!1,frag:o,part:c,error:new Error("Aborted"),networkDetails:ye,stats:Te}))},onTimeout:function(Te,Re,ye){k.resetLoader(o,oe),ee(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_TIMEOUT,fatal:!1,frag:o,part:c,error:new Error("Timeout after "+be.timeout+"ms"),networkDetails:ye,stats:Te}))}})}})},R.updateStatsFromPart=function(o,c){var b=o.stats,k=c.stats,M=k.total;if(b.loaded+=k.loaded,M){var U=Math.round(o.duration/c.duration),X=Math.min(Math.round(b.loaded/M),U),J=(U-X)*Math.round(b.loaded/X);b.total=b.loaded+J}else b.total=Math.max(b.loaded,b.total);var ee=b.loading,oe=k.loading;ee.start?ee.first+=oe.first-oe.start:(ee.start=oe.start,ee.first=oe.first),ee.end=oe.end},R.resetLoader=function(o,c){o.loader=null,this.loader===c&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),c.destroy()},N}();function st(N,R){R===void 0&&(R=null);var o=R||N,c={frag:N,part:R,responseType:"arraybuffer",url:o.url,headers:{},rangeStart:0,rangeEnd:0},b=o.byteRangeStartOffset,k=o.byteRangeEndOffset;if(A(b)&&A(k)){var M,U=b,X=k;if(N.sn==="initSegment"&&((M=N.decryptdata)==null?void 0:M.method)==="AES-128"){var J=k-b;J%16&&(X=k+(16-J%16)),b!==0&&(c.resetIV=!0,U=b-16)}c.rangeStart=U,c.rangeEnd=X}return c}function xt(N,R){var o=new Error("GAP "+(N.gap?"tag":"attribute")+" found"),c={type:I.MEDIA_ERROR,details:D.FRAG_GAP,fatal:!1,frag:N,error:o,networkDetails:null};return R&&(c.part=R),(R||N).stats.aborted=!0,new Ht(c)}var Ht=function(N){function R(o){var c;return(c=N.call(this,o.error.message)||this).data=void 0,c.data=o,c}return i(R,N),R}(a(Error)),Ft=function(){function N(o){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=o}var R=N.prototype;return R.abort=function(o){for(var c in this.keyUriToKeyInfo){var b=this.keyUriToKeyInfo[c].loader;if(b){if(o&&o!==b.context.frag.type)return;b.abort()}}},R.detach=function(){for(var o in this.keyUriToKeyInfo){var c=this.keyUriToKeyInfo[o];(c.mediaKeySessionContext||c.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[o]}},R.destroy=function(){for(var o in this.detach(),this.keyUriToKeyInfo){var c=this.keyUriToKeyInfo[o].loader;c&&c.destroy()}this.keyUriToKeyInfo={}},R.createKeyLoadError=function(o,c,b,k,M){return c===void 0&&(c=D.KEY_LOAD_ERROR),new Ht({type:I.NETWORK_ERROR,details:c,fatal:!1,frag:o,response:M,error:b,networkDetails:k})},R.loadClear=function(o,c){var b=this;if(this.emeController&&this.config.emeEnabled)for(var k=o.sn,M=o.cc,U=function(){var J=c[X];if(M<=J.cc&&(k==="initSegment"||J.sn==="initSegment"||k<J.sn))return b.emeController.selectKeySystemFormat(J).then(function(ee){J.setKeyFormat(ee)}),"break"},X=0;X<c.length&&U()!=="break";X++);},R.load=function(o){var c=this;return!o.decryptdata&&o.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(o).then(function(b){return c.loadInternal(o,b)}):this.loadInternal(o)},R.loadInternal=function(o,c){var b,k;c&&o.setKeyFormat(c);var M=o.decryptdata;if(!M){var U=new Error(c?"Expected frag.decryptdata to be defined after setting format "+c:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(o,D.KEY_LOAD_ERROR,U))}var X=M.uri;if(!X)return Promise.reject(this.createKeyLoadError(o,D.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+X+'"')));var J,ee=this.keyUriToKeyInfo[X];if((b=ee)!=null&&b.decryptdata.key)return M.key=ee.decryptdata.key,Promise.resolve({frag:o,keyInfo:ee});if((k=ee)!=null&&k.keyLoadPromise)switch((J=ee.mediaKeySessionContext)==null?void 0:J.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return ee.keyLoadPromise.then(function(oe){return M.key=oe.keyInfo.decryptdata.key,{frag:o,keyInfo:ee}})}switch(ee=this.keyUriToKeyInfo[X]={decryptdata:M,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},M.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return M.keyFormat==="identity"?this.loadKeyHTTP(ee,o):this.loadKeyEME(ee,o);case"AES-128":return this.loadKeyHTTP(ee,o);default:return Promise.reject(this.createKeyLoadError(o,D.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+M.method+'"')))}},R.loadKeyEME=function(o,c){var b={frag:c,keyInfo:o};if(this.emeController&&this.config.emeEnabled){var k=this.emeController.loadKey(b);if(k)return(o.keyLoadPromise=k.then(function(M){return o.mediaKeySessionContext=M,b})).catch(function(M){throw o.keyLoadPromise=null,M})}return Promise.resolve(b)},R.loadKeyHTTP=function(o,c){var b=this,k=this.config,M=new k.loader(k);return c.keyLoader=o.loader=M,o.keyLoadPromise=new Promise(function(U,X){var J={keyInfo:o,frag:c,responseType:"arraybuffer",url:o.decryptdata.uri},ee=k.keyLoadPolicy.default,oe={loadPolicy:ee,timeout:ee.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},pe={onSuccess:function(me,be,Te,Re){var ye=Te.frag,ke=Te.keyInfo,$e=Te.url;if(!ye.decryptdata||ke!==b.keyUriToKeyInfo[$e])return X(b.createKeyLoadError(ye,D.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),Re));ke.decryptdata.key=ye.decryptdata.key=new Uint8Array(me.data),ye.keyLoader=null,ke.loader=null,U({frag:ye,keyInfo:ke})},onError:function(me,be,Te,Re){b.resetLoader(be),X(b.createKeyLoadError(c,D.KEY_LOAD_ERROR,new Error("HTTP Error "+me.code+" loading key "+me.text),Te,f({url:J.url,data:void 0},me)))},onTimeout:function(me,be,Te){b.resetLoader(be),X(b.createKeyLoadError(c,D.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),Te))},onAbort:function(me,be,Te){b.resetLoader(be),X(b.createKeyLoadError(c,D.INTERNAL_ABORTED,new Error("key loading aborted"),Te))}};M.load(J,oe,pe)})},R.resetLoader=function(o){var c=o.frag,b=o.keyInfo,k=o.url,M=b.loader;c.keyLoader===M&&(c.keyLoader=null,b.loader=null),delete this.keyUriToKeyInfo[k],M&&M.destroy()},N}(),yr=function(){function N(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var R=N.prototype;return R.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},R.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},R.onHandlerDestroyed=function(){},R.hasInterval=function(){return!!this._tickInterval},R.hasNextTick=function(){return!!this._tickTimer},R.setInterval=function(o){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,o),!0)},R.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},R.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},R.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},R.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},R.doTick=function(){},N}(),Qr={length:0,start:function(){return 0},end:function(){return 0}},fr=function(){function N(){}return N.isBuffered=function(R,o){try{if(R){for(var c=N.getBuffered(R),b=0;b<c.length;b++)if(o>=c.start(b)&&o<=c.end(b))return!0}}catch{}return!1},N.bufferInfo=function(R,o,c){try{if(R){var b,k=N.getBuffered(R),M=[];for(b=0;b<k.length;b++)M.push({start:k.start(b),end:k.end(b)});return this.bufferedInfo(M,o,c)}}catch{}return{len:0,start:o,end:o,nextStart:void 0}},N.bufferedInfo=function(R,o,c){o=Math.max(0,o),R.sort(function(Te,Re){var ye=Te.start-Re.start;return ye||Re.end-Te.end});var b=[];if(c)for(var k=0;k<R.length;k++){var M=b.length;if(M){var U=b[M-1].end;R[k].start-U<c?R[k].end>U&&(b[M-1].end=R[k].end):b.push(R[k])}else b.push(R[k])}else b=R;for(var X,J=0,ee=o,oe=o,pe=0;pe<b.length;pe++){var me=b[pe].start,be=b[pe].end;if(o+c>=me&&o<be)ee=me,J=(oe=be)-o;else if(o+c<me){X=me;break}}return{len:J,start:ee||0,end:oe||0,nextStart:X}},N.getBuffered=function(R){try{return R.buffered}catch(o){return W.log("failed to get media.buffered",o),Qr}},N}(),hi=function(N,R,o,c,b,k){c===void 0&&(c=0),b===void 0&&(b=-1),k===void 0&&(k=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=N,this.sn=R,this.id=o,this.size=c,this.part=b,this.partial=k};function Ei(N,R){for(var o=null,c=0,b=N.length;c<b;c++){var k=N[c];if(k&&k.cc===R){o=k;break}}return o}function yi(N,R){if(N){var o=N.start+R;N.start=N.startPTS=o,N.endPTS=o+N.duration}}function ei(N,R){for(var o=R.fragments,c=0,b=o.length;c<b;c++)yi(o[c],N);R.fragmentHint&&yi(R.fragmentHint,N),R.alignedSliding=!0}function on(N,R,o){R&&(function(c,b,k){if(function(U,X,J){return!(!X.details||!(J.endCC>J.startCC||U&&U.cc<J.startCC))}(c,k,b)){var M=function(U,X,J){var ee=U.fragments,oe=X.fragments;if(oe.length&&ee.length){var pe=Ei(ee,oe[0].cc);if(pe&&(!pe||pe.startPTS))return pe;W.log("No frag in previous level to align on")}else W.log("No fragments to align")}(k.details,b);M&&A(M.start)&&(W.log("Adjusting PTS using last level due to CC increase within current level "+b.url),ei(M.start,b))}}(N,o,R),!o.alignedSliding&&R.details&&function(c,b){if(b.fragments.length&&c.hasProgramDateTime&&b.hasProgramDateTime){var k=b.fragments[0].programDateTime,M=c.fragments[0].programDateTime,U=(M-k)/1e3+b.fragments[0].start;U&&A(U)&&(W.log("Adjusting PTS using programDateTime delta "+(M-k)+"ms, sliding:"+U.toFixed(3)+" "+c.url+" "),ei(U,c))}}(o,R.details),o.alignedSliding||!R.details||o.skippedSegments||xa(R.details,o))}function Vi(N,R){if(N.hasProgramDateTime&&R.hasProgramDateTime){var o=N.fragments,c=R.fragments;if(o.length&&c.length){var b=c[Math.round(c.length/2)-1],k=Ei(o,b.cc)||o[Math.round(o.length/2)-1],M=b.programDateTime,U=k.programDateTime;M!==null&&U!==null&&ei((U-M)/1e3-(k.start-b.start),N)}}}var On=function(){function N(R,o){this.subtle=void 0,this.aesIV=void 0,this.subtle=R,this.aesIV=o}return N.prototype.decrypt=function(R,o){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},o,R)},N}(),mn=function(){function N(R,o){this.subtle=void 0,this.key=void 0,this.subtle=R,this.key=o}return N.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},N}(),Nn=function(){function N(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var R=N.prototype;return R.uint8ArrayToUint32Array_=function(o){for(var c=new DataView(o),b=new Uint32Array(4),k=0;k<4;k++)b[k]=c.getUint32(4*k);return b},R.initTable=function(){var o=this.sBox,c=this.invSBox,b=this.subMix,k=b[0],M=b[1],U=b[2],X=b[3],J=this.invSubMix,ee=J[0],oe=J[1],pe=J[2],me=J[3],be=new Uint32Array(256),Te=0,Re=0,ye=0;for(ye=0;ye<256;ye++)be[ye]=ye<128?ye<<1:ye<<1^283;for(ye=0;ye<256;ye++){var ke=Re^Re<<1^Re<<2^Re<<3^Re<<4;ke=ke>>>8^255&ke^99,o[Te]=ke,c[ke]=Te;var $e=be[Te],He=be[$e],Ze=be[He],lt=257*be[ke]^16843008*ke;k[Te]=lt<<24|lt>>>8,M[Te]=lt<<16|lt>>>16,U[Te]=lt<<8|lt>>>24,X[Te]=lt,lt=16843009*Ze^65537*He^257*$e^16843008*Te,ee[ke]=lt<<24|lt>>>8,oe[ke]=lt<<16|lt>>>16,pe[ke]=lt<<8|lt>>>24,me[ke]=lt,Te?(Te=$e^be[be[be[Ze^$e]]],Re^=be[be[Re]]):Te=Re=1}},R.expandKey=function(o){for(var c=this.uint8ArrayToUint32Array_(o),b=!0,k=0;k<c.length&&b;)b=c[k]===this.key[k],k++;if(!b){this.key=c;var M=this.keySize=c.length;if(M!==4&&M!==6&&M!==8)throw new Error("Invalid aes key size="+M);var U,X,J,ee,oe=this.ksRows=4*(M+6+1),pe=this.keySchedule=new Uint32Array(oe),me=this.invKeySchedule=new Uint32Array(oe),be=this.sBox,Te=this.rcon,Re=this.invSubMix,ye=Re[0],ke=Re[1],$e=Re[2],He=Re[3];for(U=0;U<oe;U++)U<M?J=pe[U]=c[U]:(ee=J,U%M==0?(ee=be[(ee=ee<<8|ee>>>24)>>>24]<<24|be[ee>>>16&255]<<16|be[ee>>>8&255]<<8|be[255&ee],ee^=Te[U/M|0]<<24):M>6&&U%M==4&&(ee=be[ee>>>24]<<24|be[ee>>>16&255]<<16|be[ee>>>8&255]<<8|be[255&ee]),pe[U]=J=(pe[U-M]^ee)>>>0);for(X=0;X<oe;X++)U=oe-X,ee=3&X?pe[U]:pe[U-4],me[X]=X<4||U<=4?ee:ye[be[ee>>>24]]^ke[be[ee>>>16&255]]^$e[be[ee>>>8&255]]^He[be[255&ee]],me[X]=me[X]>>>0}},R.networkToHostOrderSwap=function(o){return o<<24|(65280&o)<<8|(16711680&o)>>8|o>>>24},R.decrypt=function(o,c,b){for(var k,M,U,X,J,ee,oe,pe,me,be,Te,Re,ye,ke,$e=this.keySize+6,He=this.invKeySchedule,Ze=this.invSBox,lt=this.invSubMix,ct=lt[0],wt=lt[1],dt=lt[2],gt=lt[3],Pt=this.uint8ArrayToUint32Array_(b),St=Pt[0],Wt=Pt[1],Qt=Pt[2],Vt=Pt[3],Gt=new Int32Array(o),Jt=new Int32Array(Gt.length),Kt=this.networkToHostOrderSwap;c<Gt.length;){for(me=Kt(Gt[c]),be=Kt(Gt[c+1]),Te=Kt(Gt[c+2]),Re=Kt(Gt[c+3]),J=me^He[0],ee=Re^He[1],oe=Te^He[2],pe=be^He[3],ye=4,ke=1;ke<$e;ke++)k=ct[J>>>24]^wt[ee>>16&255]^dt[oe>>8&255]^gt[255&pe]^He[ye],M=ct[ee>>>24]^wt[oe>>16&255]^dt[pe>>8&255]^gt[255&J]^He[ye+1],U=ct[oe>>>24]^wt[pe>>16&255]^dt[J>>8&255]^gt[255&ee]^He[ye+2],X=ct[pe>>>24]^wt[J>>16&255]^dt[ee>>8&255]^gt[255&oe]^He[ye+3],J=k,ee=M,oe=U,pe=X,ye+=4;k=Ze[J>>>24]<<24^Ze[ee>>16&255]<<16^Ze[oe>>8&255]<<8^Ze[255&pe]^He[ye],M=Ze[ee>>>24]<<24^Ze[oe>>16&255]<<16^Ze[pe>>8&255]<<8^Ze[255&J]^He[ye+1],U=Ze[oe>>>24]<<24^Ze[pe>>16&255]<<16^Ze[J>>8&255]<<8^Ze[255&ee]^He[ye+2],X=Ze[pe>>>24]<<24^Ze[J>>16&255]<<16^Ze[ee>>8&255]<<8^Ze[255&oe]^He[ye+3],Jt[c]=Kt(k^St),Jt[c+1]=Kt(X^Wt),Jt[c+2]=Kt(U^Qt),Jt[c+3]=Kt(M^Vt),St=me,Wt=be,Qt=Te,Vt=Re,c+=4}return Jt.buffer},N}(),$s=function(){function N(o,c){var b=(c===void 0?{}:c).removePKCS7Padding,k=b===void 0||b;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=o.enableSoftwareAES,this.removePKCS7Padding=k,k)try{var M=self.crypto;M&&(this.subtle=M.subtle||M.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var R=N.prototype;return R.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},R.isSync=function(){return this.useSoftware},R.flush=function(){var o=this.currentResult,c=this.remainderData;if(!o||c)return this.reset(),null;var b,k,M,U=new Uint8Array(o);return this.reset(),this.removePKCS7Padding?(k=(b=U).byteLength,(M=k&&new DataView(b.buffer).getUint8(k-1))?ne(b,0,k-M):b):U},R.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},R.decrypt=function(o,c,b){var k=this;return this.useSoftware?new Promise(function(M,U){k.softwareDecrypt(new Uint8Array(o),c,b);var X=k.flush();X?M(X.buffer):U(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(o),c,b)},R.softwareDecrypt=function(o,c,b){var k=this.currentIV,M=this.currentResult,U=this.remainderData;this.logOnce("JS AES decrypt"),U&&(o=hr(U,o),this.remainderData=null);var X=this.getValidChunk(o);if(!X.length)return null;k&&(b=k);var J=this.softwareDecrypter;J||(J=this.softwareDecrypter=new Nn),J.expandKey(c);var ee=M;return this.currentResult=J.decrypt(X.buffer,0,b),this.currentIV=ne(X,-16).buffer,ee||null},R.webCryptoDecrypt=function(o,c,b){var k=this,M=this.subtle;return this.key===c&&this.fastAesKey||(this.key=c,this.fastAesKey=new mn(M,c)),this.fastAesKey.expandKey().then(function(U){return M?(k.logOnce("WebCrypto AES decrypt"),new On(M,new Uint8Array(b)).decrypt(o.buffer,U)):Promise.reject(new Error("web crypto not initialized"))}).catch(function(U){return W.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+U.name+": "+U.message),k.onWebCryptoError(o,c,b)})},R.onWebCryptoError=function(o,c,b){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(o,c,b);var k=this.flush();if(k)return k.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},R.getValidChunk=function(o){var c=o,b=o.length-o.length%16;return b!==o.length&&(c=ne(o,0,b),this.remainderData=ne(o,b)),c},R.logOnce=function(o){this.logEnabled&&(W.log("[decrypter]: "+o),this.logEnabled=!1)},N}(),Ea=function(N){for(var R="",o=N.length,c=0;c<o;c++)R+="["+N.start(c).toFixed(3)+"-"+N.end(c).toFixed(3)+"]";return R},Ti="STOPPED",xr="IDLE",Xo="KEY_LOADING",Ws="FRAG_LOADING",Li="FRAG_LOADING_WAITING_RETRY",Vs="WAITING_TRACK",gn="PARSING",Xa="PARSED",Ta="ENDED",Sa="ERROR",Ga="WAITING_INIT_PTS",Xs="WAITING_LEVEL",Go=function(N){function R(c,b,k,M,U){var X;return(X=N.call(this)||this).hls=void 0,X.fragPrevious=null,X.fragCurrent=null,X.fragmentTracker=void 0,X.transmuxer=null,X._state=Ti,X.playlistType=void 0,X.media=null,X.mediaBuffer=null,X.config=void 0,X.bitrateTest=!1,X.lastCurrentTime=0,X.nextLoadPosition=0,X.startPosition=0,X.startTimeOffset=null,X.loadedmetadata=!1,X.retryDate=0,X.levels=null,X.fragmentLoader=void 0,X.keyLoader=void 0,X.levelLastLoaded=null,X.startFragRequested=!1,X.decrypter=void 0,X.initPTS=[],X.onvseeking=null,X.onvended=null,X.logPrefix="",X.log=void 0,X.warn=void 0,X.playlistType=U,X.logPrefix=M,X.log=W.log.bind(W,M+":"),X.warn=W.warn.bind(W,M+":"),X.hls=c,X.fragmentLoader=new Ve(c.config),X.keyLoader=k,X.fragmentTracker=b,X.config=c.config,X.decrypter=new $s(c.config),c.on(w.MANIFEST_LOADED,X.onManifestLoaded,function(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}(X)),X}i(R,N);var o=R.prototype;return o.doTick=function(){this.onTickEnd()},o.onTickEnd=function(){},o.startLoad=function(c){},o.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var c=this.fragCurrent;c!=null&&c.loader&&(c.abortRequests(),this.fragmentTracker.removeFragment(c)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ti},o._streamEnded=function(c,b){if(b.live||c.nextStart||!c.end||!this.media)return!1;var k=b.partList;if(k!=null&&k.length){var M=k[k.length-1];return fr.isBuffered(this.media,M.start+M.duration/2)}var U=b.fragments[b.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(U)},o.getLevelDetails=function(){var c;if(this.levels&&this.levelLastLoaded!==null)return(c=this.levels[this.levelLastLoaded])==null?void 0:c.details},o.onMediaAttached=function(c,b){var k=this.media=this.mediaBuffer=b.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),k.addEventListener("seeking",this.onvseeking),k.addEventListener("ended",this.onvended);var M=this.config;this.levels&&M.autoStartLoad&&this.state===Ti&&this.startLoad(M.startPosition)},o.onMediaDetaching=function(){var c=this.media;c!=null&&c.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),c&&this.onvseeking&&this.onvended&&(c.removeEventListener("seeking",this.onvseeking),c.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},o.onMediaSeeking=function(){var c=this.config,b=this.fragCurrent,k=this.media,M=this.mediaBuffer,U=this.state,X=k?k.currentTime:0,J=fr.bufferInfo(M||k,X,c.maxBufferHole);if(this.log("media seeking to "+(A(X)?X.toFixed(3):X)+", state: "+U),this.state===Ta)this.resetLoadingState();else if(b){var ee=c.maxFragLookUpTolerance,oe=b.start-ee,pe=b.start+b.duration+ee;if(!J.len||pe<J.start||oe>J.end){var me=X>pe;(X<oe||me)&&(me&&b.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),b.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}k&&(this.fragmentTracker.removeFragmentsInRange(X,1/0,this.playlistType,!0),this.lastCurrentTime=X),this.loadedmetadata||J.len||(this.nextLoadPosition=this.startPosition=X),this.tickImmediate()},o.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},o.onManifestLoaded=function(c,b){this.startTimeOffset=b.startTimeOffset,this.initPTS=[]},o.onHandlerDestroying=function(){this.stopLoad(),N.prototype.onHandlerDestroying.call(this)},o.onHandlerDestroyed=function(){this.state=Ti,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,N.prototype.onHandlerDestroyed.call(this)},o.loadFragment=function(c,b,k){this._loadFragForPlayback(c,b,k)},o._loadFragForPlayback=function(c,b,k){var M=this;this._doFragLoad(c,b,k,function(U){if(M.fragContextChanged(c))return M.warn("Fragment "+c.sn+(U.part?" p: "+U.part.index:"")+" of level "+c.level+" was dropped during download."),void M.fragmentTracker.removeFragment(c);c.stats.chunkCount++,M._handleFragmentLoadProgress(U)}).then(function(U){if(U){var X=M.state;M.fragContextChanged(c)?(X===Ws||!M.fragCurrent&&X===gn)&&(M.fragmentTracker.removeFragment(c),M.state=xr):("payload"in U&&(M.log("Loaded fragment "+c.sn+" of level "+c.level),M.hls.trigger(w.FRAG_LOADED,U)),M._handleFragmentLoadComplete(U))}}).catch(function(U){M.state!==Ti&&M.state!==Sa&&(M.warn(U),M.resetFragmentLoading(c))})},o.clearTrackerIfNeeded=function(c){var b,k=this.fragmentTracker;if(k.getState(c)===ri){var M=c.type,U=this.getFwdBufferInfo(this.mediaBuffer,M),X=Math.max(c.duration,U?U.len:this.config.maxBufferLength);this.reduceMaxBufferLength(X)&&k.removeFragment(c)}else((b=this.mediaBuffer)==null?void 0:b.buffered.length)===0?k.removeAllFragments():k.hasParts(c.type)&&(k.detectPartialFragments({frag:c,part:null,stats:c.stats,id:c.type}),k.getState(c)===Wi&&k.removeFragment(c))},o.checkLiveUpdate=function(c){if(c.updated&&!c.live){var b=c.fragments[c.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:b,part:null,stats:b.stats,id:b.type})}c.fragments[0]||(c.deltaUpdateFailed=!0)},o.flushMainBuffer=function(c,b,k){if(k===void 0&&(k=null),c-b){var M={startOffset:c,endOffset:b,type:k};this.hls.trigger(w.BUFFER_FLUSHING,M)}},o._loadInitSegment=function(c,b){var k=this;this._doFragLoad(c,b).then(function(M){if(!M||k.fragContextChanged(c)||!k.levels)throw new Error("init load aborted");return M}).then(function(M){var U=k.hls,X=M.payload,J=c.decryptdata;if(X&&X.byteLength>0&&J&&J.key&&J.iv&&J.method==="AES-128"){var ee=self.performance.now();return k.decrypter.decrypt(new Uint8Array(X),J.key.buffer,J.iv.buffer).catch(function(oe){throw U.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_DECRYPT_ERROR,fatal:!1,error:oe,reason:oe.message,frag:c}),oe}).then(function(oe){var pe=self.performance.now();return U.trigger(w.FRAG_DECRYPTED,{frag:c,payload:oe,stats:{tstart:ee,tdecrypt:pe}}),M.payload=oe,M})}return M}).then(function(M){var U=k.fragCurrent,X=k.hls;if(!k.levels)throw new Error("init load aborted, missing levels");var J=c.stats;k.state=xr,b.fragmentError=0,c.data=new Uint8Array(M.payload),J.parsing.start=J.buffering.start=self.performance.now(),J.parsing.end=J.buffering.end=self.performance.now(),M.frag===U&&X.trigger(w.FRAG_BUFFERED,{stats:J,frag:U,part:null,id:c.type}),k.tick()}).catch(function(M){k.state!==Ti&&k.state!==Sa&&(k.warn(M),k.resetFragmentLoading(c))})},o.fragContextChanged=function(c){var b=this.fragCurrent;return!c||!b||c.level!==b.level||c.sn!==b.sn||c.urlId!==b.urlId},o.fragBufferedComplete=function(c,b){var k,M,U,X,J=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+c.type+" sn: "+c.sn+(b?" part: "+b.index:"")+" of "+(this.playlistType===vr?"level":"track")+" "+c.level+" (frag:["+((k=c.startPTS)!=null?k:NaN).toFixed(3)+"-"+((M=c.endPTS)!=null?M:NaN).toFixed(3)+"] > buffer:"+(J?Ea(fr.getBuffered(J)):"(detached)")+")"),this.state=xr,J&&(!this.loadedmetadata&&c.type==vr&&J.buffered.length&&((U=this.fragCurrent)==null?void 0:U.sn)===((X=this.fragPrevious)==null?void 0:X.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},o.seekToStartPos=function(){},o._handleFragmentLoadComplete=function(c){var b=this.transmuxer;if(b){var k=c.frag,M=c.part,U=c.partsLoaded,X=!U||U.length===0||U.some(function(ee){return!ee}),J=new hi(k.level,k.sn,k.stats.chunkCount+1,0,M?M.index:-1,!X);b.flush(J)}},o._handleFragmentLoadProgress=function(c){},o._doFragLoad=function(c,b,k,M){var U,X=this;k===void 0&&(k=null);var J=b==null?void 0:b.details;if(!this.levels||!J)throw new Error("frag load aborted, missing level"+(J?"":" detail")+"s");var ee=null;if(!c.encrypted||(U=c.decryptdata)!=null&&U.key?!c.encrypted&&J.encryptedFragments.length&&this.keyLoader.loadClear(c,J.encryptedFragments):(this.log("Loading key for "+c.sn+" of ["+J.startSN+"-"+J.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+c.level),this.state=Xo,this.fragCurrent=c,ee=this.keyLoader.load(c).then(function(ye){if(!X.fragContextChanged(ye.frag))return X.hls.trigger(w.KEY_LOADED,ye),X.state===Xo&&(X.state=xr),ye}),this.hls.trigger(w.KEY_LOADING,{frag:c}),this.fragCurrent===null&&(ee=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),k=Math.max(c.start,k||0),this.config.lowLatencyMode&&c.sn!=="initSegment"){var oe=J.partList;if(oe&&M){k>c.end&&J.fragmentHint&&(c=J.fragmentHint);var pe=this.getNextPart(oe,c,k);if(pe>-1){var me,be=oe[pe];return this.log("Loading part sn: "+c.sn+" p: "+be.index+" cc: "+c.cc+" of playlist ["+J.startSN+"-"+J.endSN+"] parts [0-"+pe+"-"+(oe.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+c.level+", target: "+parseFloat(k.toFixed(3))),this.nextLoadPosition=be.start+be.duration,this.state=Ws,me=ee?ee.then(function(ye){return!ye||X.fragContextChanged(ye.frag)?null:X.doFragPartsLoad(c,be,b,M)}).catch(function(ye){return X.handleFragLoadError(ye)}):this.doFragPartsLoad(c,be,b,M).catch(function(ye){return X.handleFragLoadError(ye)}),this.hls.trigger(w.FRAG_LOADING,{frag:c,part:be,targetBufferTime:k}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):me}if(!c.url||this.loadedEndOfParts(oe,k))return Promise.resolve(null)}}this.log("Loading fragment "+c.sn+" cc: "+c.cc+" "+(J?"of ["+J.startSN+"-"+J.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+c.level+", target: "+parseFloat(k.toFixed(3))),A(c.sn)&&!this.bitrateTest&&(this.nextLoadPosition=c.start+c.duration),this.state=Ws;var Te,Re=this.config.progressive;return Te=Re&&ee?ee.then(function(ye){return!ye||X.fragContextChanged(ye==null?void 0:ye.frag)?null:X.fragmentLoader.load(c,M)}).catch(function(ye){return X.handleFragLoadError(ye)}):Promise.all([this.fragmentLoader.load(c,Re?M:void 0),ee]).then(function(ye){var ke=ye[0];return!Re&&ke&&M&&M(ke),ke}).catch(function(ye){return X.handleFragLoadError(ye)}),this.hls.trigger(w.FRAG_LOADING,{frag:c,targetBufferTime:k}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):Te},o.doFragPartsLoad=function(c,b,k,M){var U=this;return new Promise(function(X,J){var ee,oe=[],pe=(ee=k.details)==null?void 0:ee.partList;(function me(be){U.fragmentLoader.loadPart(c,be,M).then(function(Te){oe[be.index]=Te;var Re=Te.part;U.hls.trigger(w.FRAG_LOADED,Te);var ye=pn(k,c.sn,be.index+1)||js(pe,c.sn,be.index+1);if(!ye)return X({frag:c,part:Re,partsLoaded:oe});me(ye)}).catch(J)})(b)})},o.handleFragLoadError=function(c){if("data"in c){var b=c.data;c.data&&b.details===D.INTERNAL_ABORTED?this.handleFragLoadAborted(b.frag,b.part):this.hls.trigger(w.ERROR,b)}else this.hls.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,err:c,error:c,fatal:!0});return null},o._handleTransmuxerFlush=function(c){var b=this.getCurrentContext(c);if(b&&this.state===gn){var k=b.frag,M=b.part,U=b.level,X=self.performance.now();k.stats.parsing.end=X,M&&(M.stats.parsing.end=X),this.updateLevelTiming(k,M,U,c.partial)}else this.fragCurrent||this.state===Ti||this.state===Sa||(this.state=xr)},o.getCurrentContext=function(c){var b=this.levels,k=this.fragCurrent,M=c.level,U=c.sn,X=c.part;if(b==null||!b[M])return this.warn("Levels object was unset while buffering fragment "+U+" of level "+M+". The current chunk will not be buffered."),null;var J=b[M],ee=X>-1?pn(J,U,X):null,oe=ee?ee.fragment:function(pe,me,be){if(pe==null||!pe.details)return null;var Te=pe.details,Re=Te.fragments[me-Te.startSN];return Re||((Re=Te.fragmentHint)&&Re.sn===me?Re:me<Te.startSN&&be&&be.sn===me?be:null)}(J,U,k);return oe?(k&&k!==oe&&(oe.stats=k.stats),{frag:oe,part:ee,level:J}):null},o.bufferFragmentData=function(c,b,k,M,U){var X;if(c&&this.state===gn){var J=c.data1,ee=c.data2,oe=J;if(J&&ee&&(oe=hr(J,ee)),(X=oe)!=null&&X.length){var pe={type:c.type,frag:b,part:k,chunkMeta:M,parent:b.type,data:oe};if(this.hls.trigger(w.BUFFER_APPENDING,pe),c.dropped&&c.independent&&!k){if(U)return;this.flushBufferGap(b)}}}},o.flushBufferGap=function(c){var b=this.media;if(b)if(fr.isBuffered(b,b.currentTime)){var k=b.currentTime,M=fr.bufferInfo(b,k,0),U=c.duration,X=Math.min(2*this.config.maxFragLookUpTolerance,.25*U),J=Math.max(Math.min(c.start-X,M.end-X),k+X);c.start-J>X&&this.flushMainBuffer(J,c.start)}else this.flushMainBuffer(0,c.start)},o.getFwdBufferInfo=function(c,b){var k=this.getLoadPosition();return A(k)?this.getFwdBufferInfoAtPos(c,k,b):null},o.getFwdBufferInfoAtPos=function(c,b,k){var M=this.config.maxBufferHole,U=fr.bufferInfo(c,b,M);if(U.len===0&&U.nextStart!==void 0){var X=this.fragmentTracker.getBufferedFrag(b,k);if(X&&U.nextStart<X.end)return fr.bufferInfo(c,b,Math.max(U.nextStart,M))}return U},o.getMaxBufferLength=function(c){var b,k=this.config;return b=c?Math.max(8*k.maxBufferSize/c,k.maxBufferLength):k.maxBufferLength,Math.min(b,k.maxMaxBufferLength)},o.reduceMaxBufferLength=function(c){var b=this.config,k=c||b.maxBufferLength;return b.maxMaxBufferLength>=k&&(b.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+b.maxMaxBufferLength+"s"),!0)},o.getAppendedFrag=function(c,b){var k=this.fragmentTracker.getAppendedFrag(c,vr);return k&&"fragment"in k?k.fragment:k},o.getNextFragment=function(c,b){var k=b.fragments,M=k.length;if(!M)return null;var U,X=this.config,J=k[0].start;if(b.live){var ee=X.initialLiveManifestSize;if(M<ee)return this.warn("Not enough fragments to start playback (have: "+M+", need: "+ee+")"),null;b.PTSKnown||this.startFragRequested||this.startPosition!==-1||(U=this.getInitialLiveFragment(b,k),this.startPosition=U?this.hls.liveSyncPosition||U.start:c)}else c<=J&&(U=k[0]);if(!U){var oe=X.lowLatencyMode?b.partEnd:b.fragmentEnd;U=this.getFragmentAtPosition(c,oe,b)}return this.mapToInitFragWhenRequired(U)},o.isLoopLoading=function(c,b){var k=this.fragmentTracker.getState(c);return(k===pi||k===Wi&&!!c.gap)&&this.nextLoadPosition>b},o.getNextFragmentLoopLoading=function(c,b,k,M,U){var X=c.gap,J=this.getNextFragment(this.nextLoadPosition,b);if(J===null)return J;if(c=J,X&&c&&!c.gap&&k.nextStart){var ee=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,k.nextStart,M);if(ee!==null&&k.len+ee.len>=U)return this.log('buffer full after gaps in "'+M+'" playlist starting at sn: '+c.sn),null}return c},o.mapToInitFragWhenRequired=function(c){return c==null||!c.initSegment||c!=null&&c.initSegment.data||this.bitrateTest?c:c.initSegment},o.getNextPart=function(c,b,k){for(var M=-1,U=!1,X=!0,J=0,ee=c.length;J<ee;J++){var oe=c[J];if(X=X&&!oe.independent,M>-1&&k<oe.start)break;var pe=oe.loaded;pe?M=-1:(U||oe.independent||X)&&oe.fragment===b&&(M=J),U=pe}return M},o.loadedEndOfParts=function(c,b){var k=c[c.length-1];return k&&b>k.start&&k.loaded},o.getInitialLiveFragment=function(c,b){var k=this.fragPrevious,M=null;if(k){if(c.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+k.programDateTime),M=function(ee,oe,pe){if(oe===null||!Array.isArray(ee)||!ee.length||!A(oe)||oe<(ee[0].programDateTime||0)||oe>=(ee[ee.length-1].endProgramDateTime||0))return null;pe=pe||0;for(var me=0;me<ee.length;++me){var be=ee[me];if(qe(oe,pe,be))return be}return null}(b,k.endProgramDateTime,this.config.maxFragLookUpTolerance)),!M){var U=k.sn+1;if(U>=c.startSN&&U<=c.endSN){var X=b[U-c.startSN];k.cc===X.cc&&(M=X,this.log("Live playlist, switching playlist, load frag with next SN: "+M.sn))}M||(M=function(ee,oe){return Hs(ee,function(pe){return pe.cc<oe?1:pe.cc>oe?-1:0})}(b,k.cc),M&&this.log("Live playlist, switching playlist, load frag with same CC: "+M.sn))}}else{var J=this.hls.liveSyncPosition;J!==null&&(M=this.getFragmentAtPosition(J,this.bitrateTest?c.fragmentEnd:c.edge,c))}return M},o.getFragmentAtPosition=function(c,b,k){var M,U=this.config,X=this.fragPrevious,J=k.fragments,ee=k.endSN,oe=k.fragmentHint,pe=U.maxFragLookUpTolerance,me=k.partList,be=!!(U.lowLatencyMode&&me!=null&&me.length&&oe);if(be&&oe&&!this.bitrateTest&&(J=J.concat(oe),ee=oe.sn),M=c<b?Zn(X,J,c,c>b-pe?0:pe):J[J.length-1]){var Te=M.sn-k.startSN,Re=this.fragmentTracker.getState(M);if((Re===pi||Re===Wi&&M.gap)&&(X=M),X&&M.sn===X.sn&&(!be||me[0].fragment.sn>M.sn)&&X&&M.level===X.level){var ye=J[Te+1];M=M.sn<ee&&this.fragmentTracker.getState(ye)!==pi?ye:null}}return M},o.synchronizeToLiveEdge=function(c){var b=this.config,k=this.media;if(k){var M=this.hls.liveSyncPosition,U=k.currentTime,X=c.fragments[0].start,J=c.edge,ee=U>=X-b.maxFragLookUpTolerance&&U<=J;if(M!==null&&k.duration>M&&(U<M||!ee)){var oe=b.liveMaxLatencyDuration!==void 0?b.liveMaxLatencyDuration:b.liveMaxLatencyDurationCount*c.targetduration;(!ee&&k.readyState<4||U<J-oe)&&(this.loadedmetadata||(this.nextLoadPosition=M),k.readyState&&(this.warn("Playback: "+U.toFixed(3)+" is located too far from the end of live sliding playlist: "+J+", reset currentTime to : "+M.toFixed(3)),k.currentTime=M))}}},o.alignPlaylists=function(c,b){var k=this.levels,M=this.levelLastLoaded,U=this.fragPrevious,X=M!==null?k[M]:null,J=c.fragments.length;if(!J)return this.warn("No fragments in live playlist"),0;var ee=c.fragments[0].start,oe=!b,pe=c.alignedSliding&&A(ee);if(oe||!pe&&!ee){on(U,X,c);var me=c.fragments[0].start;return this.log("Live playlist sliding: "+me.toFixed(2)+" start-sn: "+(b?b.startSN:"na")+"->"+c.startSN+" prev-sn: "+(U?U.sn:"na")+" fragments: "+J),me}return ee},o.waitForCdnTuneIn=function(c){return c.live&&c.canBlockReload&&c.partTarget&&c.tuneInGoal>Math.max(c.partHoldBack,3*c.partTarget)},o.setStartPosition=function(c,b){var k=this.startPosition;if(k<b&&(k=-1),k===-1||this.lastCurrentTime===-1){var M=this.startTimeOffset!==null,U=M?this.startTimeOffset:c.startTimeOffset;U!==null&&A(U)?(k=b+U,U<0&&(k+=c.totalduration),k=Math.min(Math.max(b,k),b+c.totalduration),this.log("Start time offset "+U+" found in "+(M?"multivariant":"media")+" playlist, adjust startPosition to "+k),this.startPosition=k):c.live?k=this.hls.liveSyncPosition||b:this.startPosition=k=0,this.lastCurrentTime=k}this.nextLoadPosition=k},o.getLoadPosition=function(){var c=this.media,b=0;return this.loadedmetadata&&c?b=c.currentTime:this.nextLoadPosition&&(b=this.nextLoadPosition),b},o.handleFragLoadAborted=function(c,b){this.transmuxer&&c.sn!=="initSegment"&&c.stats.aborted&&(this.warn("Fragment "+c.sn+(b?" part "+b.index:"")+" of level "+c.level+" was aborted"),this.resetFragmentLoading(c))},o.resetFragmentLoading=function(c){this.fragCurrent&&(this.fragContextChanged(c)||this.state===Li)||(this.state=xr)},o.onFragmentOrKeyLoadError=function(c,b){if(b.chunkMeta&&!b.frag){var k=this.getCurrentContext(b.chunkMeta);k&&(b.frag=k.frag)}var M=b.frag;if(M&&M.type===c&&this.levels)if(this.fragContextChanged(M)){var U;this.warn("Frag load error must match current frag to retry "+M.url+" > "+((U=this.fragCurrent)==null?void 0:U.url))}else{var X=b.details===D.FRAG_GAP;X&&this.fragmentTracker.fragBuffered(M,!0);var J=b.errorAction,ee=J||{},oe=ee.action,pe=ee.retryCount,me=pe===void 0?0:pe,be=ee.retryConfig;if(J&&oe===Lr&&be){var Te;this.resetStartWhenNotLoaded((Te=this.levelLastLoaded)!=null?Te:M.level);var Re=Dr(be,me);this.warn("Fragment "+M.sn+" of "+c+" "+M.level+" errored with "+b.details+", retrying loading "+(me+1)+"/"+be.maxNumRetry+" in "+Re+"ms"),J.resolved=!0,this.retryDate=self.performance.now()+Re,this.state=Li}else be&&J?(this.resetFragmentErrors(c),me<be.maxNumRetry?X||(J.resolved=!0):W.warn(b.details+" reached or exceeded max retry ("+me+")")):(J==null?void 0:J.action)===Zt?this.state=Xs:this.state=Sa;this.tickImmediate()}},o.reduceLengthAndFlushBuffer=function(c){if(this.state===gn||this.state===Xa){var b=c.parent,k=this.getFwdBufferInfo(this.mediaBuffer,b),M=k&&k.len>.5;M&&this.reduceMaxBufferLength(k.len);var U=!M;return U&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+b+" buffer"),c.frag&&(this.fragmentTracker.removeFragment(c.frag),this.nextLoadPosition=c.frag.start),this.resetLoadingState(),U}return!1},o.resetFragmentErrors=function(c){c===Zi&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Ti&&(this.state=xr)},o.afterBufferFlushed=function(c,b,k){if(c){var M=fr.getBuffered(c);this.fragmentTracker.detectEvictedFragments(b,M,k),this.state===Ta&&this.resetLoadingState()}},o.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=xr},o.resetStartWhenNotLoaded=function(c){if(!this.loadedmetadata){this.startFragRequested=!1;var b=this.levels?this.levels[c].details:null;b!=null&&b.live?(this.startPosition=-1,this.setStartPosition(b,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},o.resetWhenMissingContext=function(c){var b;this.warn("The loading context changed while buffering fragment "+c.sn+" of level "+c.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded((b=this.levelLastLoaded)!=null?b:c.level),this.resetLoadingState()},o.removeUnbufferedFrags=function(c){c===void 0&&(c=0),this.fragmentTracker.removeFragmentsInRange(c,1/0,this.playlistType,!1,!0)},o.updateLevelTiming=function(c,b,k,M){var U,X=this,J=k.details;if(J){if(Object.keys(c.elementaryStreams).reduce(function(oe,pe){var me=c.elementaryStreams[pe];if(me){var be=me.endPTS-me.startPTS;if(be<=0)return X.warn("Could not parse fragment "+c.sn+" "+pe+" duration reliably ("+be+")"),oe||!1;var Te=M?0:_a(J,c,me.startPTS,me.endPTS,me.startDTS,me.endDTS);return X.hls.trigger(w.LEVEL_PTS_UPDATED,{details:J,level:k,drift:Te,type:pe,frag:c,start:me.startPTS,end:me.endPTS}),!0}return oe},!1))k.fragmentError=0;else if(((U=this.transmuxer)==null?void 0:U.error)===null){var ee=new Error("Found no media in fragment "+c.sn+" of level "+c.level+" resetting transmuxer to fallback to playlist timing");if(k.fragmentError===0&&(k.fragmentError++,c.gap=!0,this.fragmentTracker.removeFragment(c),this.fragmentTracker.fragBuffered(c,!0)),this.warn(ee.message),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:ee,frag:c,reason:"Found no media in msn "+c.sn+' of level "'+k.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=Xa,this.hls.trigger(w.FRAG_PARSED,{frag:c,part:b})}else this.warn("level.details undefined")},o.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},o.recoverWorkerError=function(c){var b,k,M;c.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded((b=(k=this.levelLastLoaded)!=null?k:(M=this.fragCurrent)==null?void 0:M.level)!=null?b:0),this.resetLoadingState())},h(R,[{key:"state",get:function(){return this._state},set:function(c){var b=this._state;b!==c&&(this._state=c,this.log(b+"->"+c))}}]),R}(yr);function Ml(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ji(N,R){return N===void 0&&(N=""),R===void 0&&(R=9e4),{type:N,id:-1,pid:-1,inputTimeScale:R,sequenceNumber:-1,samples:[],dropped:0}}var Pl=function(){function N(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var R=N.prototype;return R.resetInitSegment=function(o,c,b,k){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},R.resetTimeStamp=function(o){this.initPTS=o,this.resetContiguity()},R.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},R.canParse=function(o,c){return!1},R.appendFrame=function(o,c,b){},R.demux=function(o,c){this.cachedData&&(o=hr(this.cachedData,o),this.cachedData=null);var b,k=Pe(o,0),M=k?k.length:0,U=this._audioTrack,X=this._id3Track,J=k?function(me){for(var be=We(me),Te=0;Te<be.length;Te++){var Re=be[Te];if(Ae(Re))return at(Re)}}(k):void 0,ee=o.length;for((this.basePTS===null||this.frameIndex===0&&A(J))&&(this.basePTS=Gc(J,c,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),k&&k.length>0&&X.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:k,type:nn,duration:Number.POSITIVE_INFINITY});M<ee;){if(this.canParse(o,M)){var oe=this.appendFrame(U,o,M);oe?(this.frameIndex++,this.lastPTS=oe.sample.pts,b=M+=oe.length):M=ee}else ve(o,M)?(k=Pe(o,M),X.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:k,type:nn,duration:Number.POSITIVE_INFINITY}),b=M+=k.length):M++;if(M===ee&&b!==ee){var pe=ne(o,b);this.cachedData?this.cachedData=hr(this.cachedData,pe):this.cachedData=pe}}return{audioTrack:U,videoTrack:Ji(),id3Track:X,textTrack:Ji()}},R.demuxSampleAes=function(o,c,b){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},R.flush=function(o){var c=this.cachedData;return c&&(this.cachedData=null,this.demux(c,0)),{audioTrack:this._audioTrack,videoTrack:Ji(),id3Track:this._id3Track,textTrack:Ji()}},R.destroy=function(){},N}(),Gc=function(N,R,o){return A(N)?90*N:9e4*R+(o?9e4*o.baseTime/o.timescale:0)};function go(N,R){return N[R]===255&&(246&N[R+1])==240}function Ko(N,R){return 1&N[R+1]?7:9}function Qn(N,R){return(3&N[R+3])<<11|N[R+4]<<3|(224&N[R+5])>>>5}function Gs(N,R){return R+1<N.length&&go(N,R)}function Kc(N,R){if(Gs(N,R)){var o=Ko(N,R);if(R+o>=N.length)return!1;var c=Qn(N,R);if(c<=o)return!1;var b=R+c;return b===N.length||Gs(N,b)}return!1}function Dl(N,R,o,c,b){if(!N.samplerate){var k=function(M,U,X,J){var ee,oe,pe,me,be=navigator.userAgent.toLowerCase(),Te=J,Re=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ee=1+((192&U[X+2])>>>6);var ye=(60&U[X+2])>>>2;if(!(ye>Re.length-1))return pe=(1&U[X+2])<<2,pe|=(192&U[X+3])>>>6,W.log("manifest codec:"+J+", ADTS type:"+ee+", samplingIndex:"+ye),/firefox/i.test(be)?ye>=6?(ee=5,me=new Array(4),oe=ye-3):(ee=2,me=new Array(2),oe=ye):be.indexOf("android")!==-1?(ee=2,me=new Array(2),oe=ye):(ee=5,me=new Array(4),J&&(J.indexOf("mp4a.40.29")!==-1||J.indexOf("mp4a.40.5")!==-1)||!J&&ye>=6?oe=ye-3:((J&&J.indexOf("mp4a.40.2")!==-1&&(ye>=6&&pe===1||/vivaldi/i.test(be))||!J&&pe===1)&&(ee=2,me=new Array(2)),oe=ye)),me[0]=ee<<3,me[0]|=(14&ye)>>1,me[1]|=(1&ye)<<7,me[1]|=pe<<3,ee===5&&(me[1]|=(14&oe)>>1,me[2]=(1&oe)<<7,me[2]|=8,me[3]=0),{config:me,samplerate:Re[ye],channelCount:pe,codec:"mp4a.40."+ee,manifestCodec:Te};M.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+ye})}(R,o,c,b);if(!k)return;N.config=k.config,N.samplerate=k.samplerate,N.channelCount=k.channelCount,N.codec=k.codec,N.manifestCodec=k.manifestCodec,W.log("parsed codec:"+N.codec+", rate:"+k.samplerate+", channels:"+k.channelCount)}}function Ll(N){return 9216e4/N}function Ks(N,R,o,c,b){var k,M=c+b*Ll(N.samplerate),U=function(be,Te){var Re=Ko(be,Te);if(Te+Re<=be.length){var ye=Qn(be,Te)-Re;if(ye>0)return{headerLength:Re,frameLength:ye}}}(R,o);if(U){var X=U.frameLength,J=U.headerLength,ee=J+X,oe=Math.max(0,o+ee-R.length);oe?(k=new Uint8Array(ee-J)).set(R.subarray(o+J,R.length),0):k=R.subarray(o+J,o+ee);var pe={unit:k,pts:M};return oe||N.samples.push(pe),{sample:pe,length:ee,missing:oe}}var me=R.length-o;return(k=new Uint8Array(me)).set(R.subarray(o,R.length),0),{sample:{unit:k,pts:M},length:me,missing:-1}}var Fn=function(N){function R(c,b){var k;return(k=N.call(this)||this).observer=void 0,k.config=void 0,k.observer=c,k.config=b,k}i(R,N);var o=R.prototype;return o.resetInitSegment=function(c,b,k,M){N.prototype.resetInitSegment.call(this,c,b,k,M),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:b,duration:M,inputTimeScale:9e4,dropped:0}},R.probe=function(c){if(!c)return!1;for(var b=(Pe(c,0)||[]).length,k=c.length;b<k;b++)if(Kc(c,b))return W.log("ADTS sync word found !"),!0;return!1},o.canParse=function(c,b){return function(k,M){return function(U,X){return X+5<U.length}(k,M)&&go(k,M)&&Qn(k,M)<=k.length-M}(c,b)},o.appendFrame=function(c,b,k){Dl(c,this.observer,b,k,c.manifestCodec);var M=Ks(c,b,k,this.basePTS,this.frameIndex);if(M&&M.missing===0)return M},R}(Pl),Ol=/\/emsg[-/]ID3/i,Yc=function(){function N(o,c){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=c}var R=N.prototype;return R.resetTimeStamp=function(){},R.resetInitSegment=function(o,c,b,k){var M=this.videoTrack=Ji("video",1),U=this.audioTrack=Ji("audio",1),X=this.txtTrack=Ji("text",1);if(this.id3Track=Ji("id3",1),this.timeOffset=0,o!=null&&o.byteLength){var J=Sr(o);if(J.video){var ee=J.video,oe=ee.id,pe=ee.timescale,me=ee.codec;M.id=oe,M.timescale=X.timescale=pe,M.codec=me}if(J.audio){var be=J.audio,Te=be.id,Re=be.timescale,ye=be.codec;U.id=Te,U.timescale=Re,U.codec=ye}X.id=jt.text,M.sampleDuration=0,M.duration=U.duration=k}},R.resetContiguity=function(){this.remainderData=null},N.probe=function(o){return It(o=o.length>16384?o.subarray(0,16384):o,["moof"]).length>0},R.demux=function(o,c){this.timeOffset=c;var b=o,k=this.videoTrack,M=this.txtTrack;if(this.config.progressive){this.remainderData&&(b=hr(this.remainderData,o));var U=function(J){var ee={valid:null,remainder:null},oe=It(J,["moof"]);if(!oe)return ee;if(oe.length<2)return ee.remainder=J,ee;var pe=oe[oe.length-1];return ee.valid=ne(J,0,pe.byteOffset-8),ee.remainder=ne(J,pe.byteOffset-8),ee}(b);this.remainderData=U.remainder,k.samples=U.valid||new Uint8Array}else k.samples=b;var X=this.extractID3Track(k,c);return M.samples=Mr(c,k),{videoTrack:k,audioTrack:this.audioTrack,id3Track:X,textTrack:this.txtTrack}},R.flush=function(){var o=this.timeOffset,c=this.videoTrack,b=this.txtTrack;c.samples=this.remainderData||new Uint8Array,this.remainderData=null;var k=this.extractID3Track(c,this.timeOffset);return b.samples=Mr(o,c),{videoTrack:c,audioTrack:Ji(),id3Track:k,textTrack:Ji()}},R.extractID3Track=function(o,c){var b=this.id3Track;if(o.samples.length){var k=It(o.samples,["emsg"]);k&&k.forEach(function(M){var U=function(oe){var pe=oe[0],me="",be="",Te=0,Re=0,ye=0,ke=0,$e=0,He=0;if(pe===0){for(;kt(oe.subarray(He,He+1))!=="\0";)me+=kt(oe.subarray(He,He+1)),He+=1;for(me+=kt(oe.subarray(He,He+1)),He+=1;kt(oe.subarray(He,He+1))!=="\0";)be+=kt(oe.subarray(He,He+1)),He+=1;be+=kt(oe.subarray(He,He+1)),He+=1,Te=Tt(oe,12),Re=Tt(oe,16),ke=Tt(oe,20),$e=Tt(oe,24),He=28}else if(pe===1){Te=Tt(oe,He+=4);var Ze=Tt(oe,He+=4),lt=Tt(oe,He+=4);for(He+=4,ye=Math.pow(2,32)*Ze+lt,Number.isSafeInteger(ye)||(ye=Number.MAX_SAFE_INTEGER,W.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),ke=Tt(oe,He),$e=Tt(oe,He+=4),He+=4;kt(oe.subarray(He,He+1))!=="\0";)me+=kt(oe.subarray(He,He+1)),He+=1;for(me+=kt(oe.subarray(He,He+1)),He+=1;kt(oe.subarray(He,He+1))!=="\0";)be+=kt(oe.subarray(He,He+1)),He+=1;be+=kt(oe.subarray(He,He+1)),He+=1}return{schemeIdUri:me,value:be,timeScale:Te,presentationTime:ye,presentationTimeDelta:Re,eventDuration:ke,id:$e,payload:oe.subarray(He,oe.byteLength)}}(M);if(Ol.test(U.schemeIdUri)){var X=A(U.presentationTime)?U.presentationTime/U.timeScale:c+U.presentationTimeDelta/U.timeScale,J=U.eventDuration===4294967295?Number.POSITIVE_INFINITY:U.eventDuration/U.timeScale;J<=.001&&(J=Number.POSITIVE_INFINITY);var ee=U.payload;b.samples.push({data:ee,len:ee.byteLength,dts:X,pts:X,type:Dn,duration:J})}})}return b},R.demuxSampleAes=function(o,c,b){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},R.destroy=function(){},N}(),vo=null,Zc=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Qc=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Jc=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Aa=[0,1,1,4];function tt(N,R,o,c,b){if(!(o+24>R.length)){var k=pt(R,o);if(k&&o+k.frameLength<=R.length){var M=c+b*(9e4*k.samplesPerFrame/k.sampleRate),U={unit:R.subarray(o,o+k.frameLength),pts:M,dts:M};return N.config=[],N.channelCount=k.channelCount,N.samplerate=k.sampleRate,N.samples.push(U),{sample:U,length:k.frameLength,missing:0}}}}function pt(N,R){var o=N[R+1]>>3&3,c=N[R+1]>>1&3,b=N[R+2]>>4&15,k=N[R+2]>>2&3;if(o!==1&&b!==0&&b!==15&&k!==3){var M=N[R+2]>>1&1,U=N[R+3]>>6,X=1e3*Zc[14*(o===3?3-c:c===3?3:4)+b-1],J=Qc[3*(o===3?0:o===2?1:2)+k],ee=U===3?1:2,oe=Jc[o][c],pe=Aa[c],me=8*oe*pe,be=Math.floor(oe*X/J+M)*pe;if(vo===null){var Te=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);vo=Te?parseInt(Te[1]):0}return vo&&vo<=87&&c===2&&X>=224e3&&U===0&&(N[R+3]=128|N[R+3]),{sampleRate:J,channelCount:ee,frameLength:be,samplesPerFrame:me}}}function ht(N,R){return N[R]===255&&(224&N[R+1])==224&&(6&N[R+1])!=0}function Bt(N,R){return R+1<N.length&&ht(N,R)}function pr(N,R){if(R+1<N.length&&ht(N,R)){var o=pt(N,R),c=4;o!=null&&o.frameLength&&(c=o.frameLength);var b=R+c;return b===N.length||Bt(N,b)}return!1}var Xr=function(){function N(o){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=o,this.bytesAvailable=o.byteLength,this.word=0,this.bitsAvailable=0}var R=N.prototype;return R.loadWord=function(){var o=this.data,c=this.bytesAvailable,b=o.byteLength-c,k=new Uint8Array(4),M=Math.min(4,c);if(M===0)throw new Error("no bytes available");k.set(o.subarray(b,b+M)),this.word=new DataView(k.buffer).getUint32(0),this.bitsAvailable=8*M,this.bytesAvailable-=M},R.skipBits=function(o){var c;o=Math.min(o,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>o?(this.word<<=o,this.bitsAvailable-=o):(o-=this.bitsAvailable,o-=(c=o>>3)<<3,this.bytesAvailable-=c,this.loadWord(),this.word<<=o,this.bitsAvailable-=o)},R.readBits=function(o){var c=Math.min(this.bitsAvailable,o),b=this.word>>>32-c;if(o>32&&W.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=c,this.bitsAvailable>0)this.word<<=c;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(c=o-c)>0&&this.bitsAvailable?b<<c|this.readBits(c):b},R.skipLZ=function(){var o;for(o=0;o<this.bitsAvailable;++o)if(this.word&2147483648>>>o)return this.word<<=o,this.bitsAvailable-=o,o;return this.loadWord(),o+this.skipLZ()},R.skipUEG=function(){this.skipBits(1+this.skipLZ())},R.skipEG=function(){this.skipBits(1+this.skipLZ())},R.readUEG=function(){var o=this.skipLZ();return this.readBits(o+1)-1},R.readEG=function(){var o=this.readUEG();return 1&o?1+o>>>1:-1*(o>>>1)},R.readBoolean=function(){return this.readBits(1)===1},R.readUByte=function(){return this.readBits(8)},R.readUShort=function(){return this.readBits(16)},R.readUInt=function(){return this.readBits(32)},R.skipScalingList=function(o){for(var c=8,b=8,k=0;k<o;k++)b!==0&&(b=(c+this.readEG()+256)%256),c=b===0?c:b},R.readSPS=function(){var o,c,b,k=0,M=0,U=0,X=0,J=this.readUByte.bind(this),ee=this.readBits.bind(this),oe=this.readUEG.bind(this),pe=this.readBoolean.bind(this),me=this.skipBits.bind(this),be=this.skipEG.bind(this),Te=this.skipUEG.bind(this),Re=this.skipScalingList.bind(this);J();var ye=J();if(ee(5),me(3),J(),Te(),ye===100||ye===110||ye===122||ye===244||ye===44||ye===83||ye===86||ye===118||ye===128){var ke=oe();if(ke===3&&me(1),Te(),Te(),me(1),pe())for(c=ke!==3?8:12,b=0;b<c;b++)pe()&&Re(b<6?16:64)}Te();var $e=oe();if($e===0)oe();else if($e===1)for(me(1),be(),be(),o=oe(),b=0;b<o;b++)be();Te(),me(1);var He=oe(),Ze=oe(),lt=ee(1);lt===0&&me(1),me(1),pe()&&(k=oe(),M=oe(),U=oe(),X=oe());var ct=[1,1];if(pe()&&pe())switch(J()){case 1:ct=[1,1];break;case 2:ct=[12,11];break;case 3:ct=[10,11];break;case 4:ct=[16,11];break;case 5:ct=[40,33];break;case 6:ct=[24,11];break;case 7:ct=[20,11];break;case 8:ct=[32,11];break;case 9:ct=[80,33];break;case 10:ct=[18,11];break;case 11:ct=[15,11];break;case 12:ct=[64,33];break;case 13:ct=[160,99];break;case 14:ct=[4,3];break;case 15:ct=[3,2];break;case 16:ct=[2,1];break;case 255:ct=[J()<<8|J(),J()<<8|J()]}return{width:Math.ceil(16*(He+1)-2*k-2*M),height:(2-lt)*(Ze+1)*16-(lt?2:4)*(U+X),pixelRatio:ct}},R.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},N}(),Si=function(){function N(o,c,b){this.keyData=void 0,this.decrypter=void 0,this.keyData=b,this.decrypter=new $s(c,{removePKCS7Padding:!1})}var R=N.prototype;return R.decryptBuffer=function(o){return this.decrypter.decrypt(o,this.keyData.key.buffer,this.keyData.iv.buffer)},R.decryptAacSample=function(o,c,b){var k=this,M=o[c].unit;if(!(M.length<=16)){var U=M.subarray(16,M.length-M.length%16),X=U.buffer.slice(U.byteOffset,U.byteOffset+U.length);this.decryptBuffer(X).then(function(J){var ee=new Uint8Array(J);M.set(ee,16),k.decrypter.isSync()||k.decryptAacSamples(o,c+1,b)})}},R.decryptAacSamples=function(o,c,b){for(;;c++){if(c>=o.length)return void b();if(!(o[c].unit.length<32||(this.decryptAacSample(o,c,b),this.decrypter.isSync())))return}},R.getAvcEncryptedData=function(o){for(var c=16*Math.floor((o.length-48)/160)+16,b=new Int8Array(c),k=0,M=32;M<o.length-16;M+=160,k+=16)b.set(o.subarray(M,M+16),k);return b},R.getAvcDecryptedUnit=function(o,c){for(var b=new Uint8Array(c),k=0,M=32;M<o.length-16;M+=160,k+=16)o.set(b.subarray(k,k+16),M);return o},R.decryptAvcSample=function(o,c,b,k,M){var U=this,X=Nr(M.data),J=this.getAvcEncryptedData(X);this.decryptBuffer(J.buffer).then(function(ee){M.data=U.getAvcDecryptedUnit(X,ee),U.decrypter.isSync()||U.decryptAvcSamples(o,c,b+1,k)})},R.decryptAvcSamples=function(o,c,b,k){if(o instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;c++,b=0){if(c>=o.length)return void k();for(var M=o[c].units;!(b>=M.length);b++){var U=M[b];if(!(U.data.length<=48||U.type!==1&&U.type!==5||(this.decryptAvcSample(o,c,b,k,U),this.decrypter.isSync())))return}}},N}(),Er=188,Yo=function(){function N(o,c,b){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=o,this.config=c,this.typeSupported=b}N.probe=function(o){var c=N.syncOffset(o);return c>0&&W.warn("MPEG2-TS detected but first sync word found @ offset "+c),c!==-1},N.syncOffset=function(o){for(var c=o.length,b=Math.min(940,o.length-Er)+1,k=0;k<b;){for(var M=!1,U=-1,X=0,J=k;J<c;J+=Er){if(o[J]!==71){if(X)return-1;break}if(X++,U===-1&&(U=J)!==0&&(b=Math.min(U+18612,o.length-Er)+1),M||(M=ln(o,J)===0),M&&X>1&&(U===0&&X>2||J+Er>b))return U}k++}return-1},N.createTrack=function(o,c){return{container:o==="video"||o==="audio"?"video/mp2t":void 0,type:o,id:jt[o],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:o==="audio"?c:void 0}};var R=N.prototype;return R.resetInitSegment=function(o,c,b,k){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=N.createTrack("video"),this._audioTrack=N.createTrack("audio",k),this._id3Track=N.createTrack("id3"),this._txtTrack=N.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=c,this.videoCodec=b,this._duration=k},R.resetTimeStamp=function(){},R.resetContiguity=function(){var o=this._audioTrack,c=this._avcTrack,b=this._id3Track;o&&(o.pesData=null),c&&(c.pesData=null),b&&(b.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},R.demux=function(o,c,b,k){var M;b===void 0&&(b=!1),k===void 0&&(k=!1),b||(this.sampleAes=null);var U=this._avcTrack,X=this._audioTrack,J=this._id3Track,ee=this._txtTrack,oe=U.pid,pe=U.pesData,me=X.pid,be=J.pid,Te=X.pesData,Re=J.pesData,ye=null,ke=this.pmtParsed,$e=this._pmtId,He=o.length;if(this.remainderData&&(He=(o=hr(this.remainderData,o)).length,this.remainderData=null),He<Er&&!k)return this.remainderData=o,{audioTrack:X,videoTrack:U,id3Track:J,textTrack:ee};var Ze=Math.max(0,N.syncOffset(o));(He-=(He-Ze)%Er)<o.byteLength&&!k&&(this.remainderData=new Uint8Array(o.buffer,He,o.buffer.byteLength-He));for(var lt=0,ct=Ze;ct<He;ct+=Er)if(o[ct]===71){var wt=!!(64&o[ct+1]),dt=ln(o,ct),gt=void 0;if((48&o[ct+3])>>4>1){if((gt=ct+5+o[ct+4])===ct+Er)continue}else gt=ct+4;switch(dt){case oe:wt&&(pe&&(M=Bn(pe))&&this.parseAVCPES(U,ee,M,!1),pe={data:[],size:0}),pe&&(pe.data.push(o.subarray(gt,ct+Er)),pe.size+=ct+Er-gt);break;case me:if(wt){if(Te&&(M=Bn(Te)))switch(X.segmentCodec){case"aac":this.parseAACPES(X,M);break;case"mp3":this.parseMPEGPES(X,M)}Te={data:[],size:0}}Te&&(Te.data.push(o.subarray(gt,ct+Er)),Te.size+=ct+Er-gt);break;case be:wt&&(Re&&(M=Bn(Re))&&this.parseID3PES(J,M),Re={data:[],size:0}),Re&&(Re.data.push(o.subarray(gt,ct+Er)),Re.size+=ct+Er-gt);break;case 0:wt&&(gt+=o[gt]+1),$e=this._pmtId=yo(o,gt);break;case $e:wt&&(gt+=o[gt]+1);var Pt=qc(o,gt,this.typeSupported,b);(oe=Pt.avc)>0&&(U.pid=oe),(me=Pt.audio)>0&&(X.pid=me,X.segmentCodec=Pt.segmentCodec),(be=Pt.id3)>0&&(J.pid=be),ye===null||ke||(W.warn("MPEG-TS PMT found at "+ct+" after unknown PID '"+ye+"'. Backtracking to sync byte @"+Ze+" to parse all TS packets."),ye=null,ct=Ze-188),ke=this.pmtParsed=!0;break;case 17:case 8191:break;default:ye=dt}}else lt++;if(lt>0){var St=new Error("Found "+lt+" TS packet/s that do not start with 0x47");this.observer.emit(w.ERROR,w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:St,reason:St.message})}U.pesData=pe,X.pesData=Te,J.pesData=Re;var Wt={audioTrack:X,videoTrack:U,id3Track:J,textTrack:ee};return k&&this.extractRemainingSamples(Wt),Wt},R.flush=function(){var o,c=this.remainderData;return this.remainderData=null,o=c?this.demux(c,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(o),this.sampleAes?this.decrypt(o,this.sampleAes):o},R.extractRemainingSamples=function(o){var c,b=o.audioTrack,k=o.videoTrack,M=o.id3Track,U=o.textTrack,X=k.pesData,J=b.pesData,ee=M.pesData;if(X&&(c=Bn(X))?(this.parseAVCPES(k,U,c,!0),k.pesData=null):k.pesData=X,J&&(c=Bn(J))){switch(b.segmentCodec){case"aac":this.parseAACPES(b,c);break;case"mp3":this.parseMPEGPES(b,c)}b.pesData=null}else J!=null&&J.size&&W.log("last AAC PES packet truncated,might overlap between fragments"),b.pesData=J;ee&&(c=Bn(ee))?(this.parseID3PES(M,c),M.pesData=null):M.pesData=ee},R.demuxSampleAes=function(o,c,b){var k=this.demux(o,b,!0,!this.config.progressive),M=this.sampleAes=new Si(this.observer,this.config,c);return this.decrypt(k,M)},R.decrypt=function(o,c){return new Promise(function(b){var k=o.audioTrack,M=o.videoTrack;k.samples&&k.segmentCodec==="aac"?c.decryptAacSamples(k.samples,0,function(){M.samples?c.decryptAvcSamples(M.samples,0,0,function(){b(o)}):b(o)}):M.samples&&c.decryptAvcSamples(M.samples,0,0,function(){b(o)})})},R.destroy=function(){this._duration=0},R.parseAVCPES=function(o,c,b,k){var M,U=this,X=this.parseAVCNALu(o,b.data),J=this.avcSample,ee=!1;b.data=null,J&&X.length&&!o.audFound&&(Ss(J,o),J=this.avcSample=bo(!1,b.pts,b.dts,"")),X.forEach(function(oe){var pe;switch(oe.type){case 1:var me=!1;M=!0;var be,Te=oe.data;if(ee&&Te.length>4){var Re=new Xr(Te).readSliceType();Re!==2&&Re!==4&&Re!==7&&Re!==9||(me=!0)}me&&(be=J)!=null&&be.frame&&!J.key&&(Ss(J,o),J=U.avcSample=null),J||(J=U.avcSample=bo(!0,b.pts,b.dts,"")),J.frame=!0,J.key=me;break;case 5:M=!0,(pe=J)!=null&&pe.frame&&!J.key&&(Ss(J,o),J=U.avcSample=null),J||(J=U.avcSample=bo(!0,b.pts,b.dts,"")),J.key=!0,J.frame=!0;break;case 6:M=!0,Vr(oe.data,1,b.pts,c.samples);break;case 7:if(M=!0,ee=!0,!o.sps){var ye=oe.data,ke=new Xr(ye).readSPS();o.width=ke.width,o.height=ke.height,o.pixelRatio=ke.pixelRatio,o.sps=[ye],o.duration=U._duration;for(var $e=ye.subarray(1,4),He="avc1.",Ze=0;Ze<3;Ze++){var lt=$e[Ze].toString(16);lt.length<2&&(lt="0"+lt),He+=lt}o.codec=He}break;case 8:M=!0,o.pps||(o.pps=[oe.data]);break;case 9:M=!1,o.audFound=!0,J&&Ss(J,o),J=U.avcSample=bo(!1,b.pts,b.dts,"");break;case 12:M=!0;break;default:M=!1,J&&(J.debug+="unknown NAL "+oe.type+" ")}J&&M&&J.units.push(oe)}),k&&J&&(Ss(J,o),this.avcSample=null)},R.getLastNalUnit=function(o){var c,b,k=this.avcSample;if(k&&k.units.length!==0||(k=o[o.length-1]),(c=k)!=null&&c.units){var M=k.units;b=M[M.length-1]}return b},R.parseAVCNALu=function(o,c){var b,k,M=c.byteLength,U=o.naluState||0,X=U,J=[],ee=0,oe=-1,pe=0;for(U===-1&&(oe=0,pe=31&c[0],U=0,ee=1);ee<M;)if(b=c[ee++],U)if(U!==1)if(b)if(b===1){if(oe>=0){var me={data:c.subarray(oe,ee-U-1),type:pe};J.push(me)}else{var be=this.getLastNalUnit(o.samples);if(be&&(X&&ee<=4-X&&be.state&&(be.data=be.data.subarray(0,be.data.byteLength-X)),(k=ee-U-1)>0)){var Te=new Uint8Array(be.data.byteLength+k);Te.set(be.data,0),Te.set(c.subarray(0,k),be.data.byteLength),be.data=Te,be.state=0}}ee<M?(oe=ee,pe=31&c[ee],U=0):U=-1}else U=0;else U=3;else U=b?0:2;else U=b?0:1;if(oe>=0&&U>=0){var Re={data:c.subarray(oe,M),type:pe,state:U};J.push(Re)}if(J.length===0){var ye=this.getLastNalUnit(o.samples);if(ye){var ke=new Uint8Array(ye.data.byteLength+c.byteLength);ke.set(ye.data,0),ke.set(c,ye.data.byteLength),ye.data=ke}}return o.naluState=U,J},R.parseAACPES=function(o,c){var b,k,M,U=0,X=this.aacOverFlow,J=c.data;if(X){this.aacOverFlow=null;var ee=X.missing,oe=X.sample.unit.byteLength;if(ee===-1){var pe=new Uint8Array(oe+J.byteLength);pe.set(X.sample.unit,0),pe.set(J,oe),J=pe}else{var me=oe-ee;X.sample.unit.set(J.subarray(0,ee),me),o.samples.push(X.sample),U=X.missing}}for(b=U,k=J.length;b<k-1&&!Gs(J,b);b++);if(b!==U){var be,Te=b<k-1;be=Te?"AAC PES did not start with ADTS header,offset:"+b:"No ADTS header found in AAC PES";var Re=new Error(be);if(W.warn("parsing error: "+be),this.observer.emit(w.ERROR,w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Te,error:Re,reason:be}),!Te)return}if(Dl(o,this.observer,J,b,this.audioCodec),c.pts!==void 0)M=c.pts;else{if(!X)return void W.warn("[tsdemuxer]: AAC PES unknown PTS");var ye=Ll(o.samplerate);M=X.sample.pts+ye}for(var ke,$e=0;b<k;){if(b+=(ke=Ks(o,J,b,M,$e)).length,ke.missing){this.aacOverFlow=ke;break}for($e++;b<k-1&&!Gs(J,b);b++);}},R.parseMPEGPES=function(o,c){var b=c.data,k=b.length,M=0,U=0,X=c.pts;if(X!==void 0)for(;U<k;)if(Bt(b,U)){var J=tt(o,b,U,X,M);if(!J)break;U+=J.length,M++}else U++;else W.warn("[tsdemuxer]: MPEG PES unknown PTS")},R.parseID3PES=function(o,c){if(c.pts!==void 0){var b=t({},c,{type:this._avcTrack?Dn:nn,duration:Number.POSITIVE_INFINITY});o.samples.push(b)}else W.warn("[tsdemuxer]: ID3 PES unknown PTS")},N}();function bo(N,R,o,c){return{key:N,frame:!1,pts:R,dts:o,units:[],debug:c,length:0}}function ln(N,R){return((31&N[R+1])<<8)+N[R+2]}function yo(N,R){return(31&N[R+10])<<8|N[R+11]}function qc(N,R,o,c){var b={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},k=R+3+((15&N[R+1])<<8|N[R+2])-4;for(R+=12+((15&N[R+10])<<8|N[R+11]);R<k;){var M=ln(N,R);switch(N[R]){case 207:if(!c){W.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:b.audio===-1&&(b.audio=M);break;case 21:b.id3===-1&&(b.id3=M);break;case 219:if(!c){W.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:b.avc===-1&&(b.avc=M);break;case 3:case 4:o.mpeg!==!0&&o.mp3!==!0?W.log("MPEG audio found, not supported in this browser"):b.audio===-1&&(b.audio=M,b.segmentCodec="mp3");break;case 36:W.warn("Unsupported HEVC stream type found")}R+=5+((15&N[R+3])<<8|N[R+4])}return b}function Bn(N){var R,o,c,b,k,M=0,U=N.data;if(!N||N.size===0)return null;for(;U[0].length<19&&U.length>1;){var X=new Uint8Array(U[0].length+U[1].length);X.set(U[0]),X.set(U[1],U[0].length),U[0]=X,U.splice(1,1)}if(((R=U[0])[0]<<16)+(R[1]<<8)+R[2]===1){if((o=(R[4]<<8)+R[5])&&o>N.size-6)return null;var J=R[7];192&J&&(b=536870912*(14&R[9])+4194304*(255&R[10])+16384*(254&R[11])+128*(255&R[12])+(254&R[13])/2,64&J?b-(k=536870912*(14&R[14])+4194304*(255&R[15])+16384*(254&R[16])+128*(255&R[17])+(254&R[18])/2)>54e5&&(W.warn(Math.round((b-k)/9e4)+"s delta between PTS and DTS, align them"),b=k):k=b);var ee=(c=R[8])+9;if(N.size<=ee)return null;N.size-=ee;for(var oe=new Uint8Array(N.size),pe=0,me=U.length;pe<me;pe++){var be=(R=U[pe]).byteLength;if(ee){if(ee>be){ee-=be;continue}R=R.subarray(ee),be-=ee,ee=0}oe.set(R,M),M+=be}return o&&(o-=c+3),{data:oe,pts:b,dts:k,len:o}}return null}function Ss(N,R){if(N.units.length&&N.frame){if(N.pts===void 0){var o=R.samples,c=o.length;if(!c)return void R.dropped++;var b=o[c-1];N.pts=b.pts,N.dts=b.dts}R.samples.push(N)}N.debug.length&&W.log(N.pts+"/"+N.dts+":"+N.debug)}var wo=function(N){function R(){return N.apply(this,arguments)||this}i(R,N);var o=R.prototype;return o.resetInitSegment=function(c,b,k,M){N.prototype.resetInitSegment.call(this,c,b,k,M),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:b,duration:M,inputTimeScale:9e4,dropped:0}},R.probe=function(c){if(!c)return!1;for(var b=(Pe(c,0)||[]).length,k=c.length;b<k;b++)if(pr(c,b))return W.log("MPEG Audio sync word found !"),!0;return!1},o.canParse=function(c,b){return function(k,M){return ht(k,M)&&4<=k.length-M}(c,b)},o.appendFrame=function(c,b,k){if(this.basePTS!==null)return tt(c,b,k,this.basePTS,this.frameIndex)},R}(Pl),Kr=function(){function N(){}return N.getSilentFrame=function(R,o){if(R==="mp4a.40.2"){if(o===1)return new Uint8Array([0,200,0,128,35,128]);if(o===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(o===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(o===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(o===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(o===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(o===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(o===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},N}(),As=Math.pow(2,32)-1,Oi=function(){function N(){}return N.init=function(){var R;for(R in N.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},N.types)N.types.hasOwnProperty(R)&&(N.types[R]=[R.charCodeAt(0),R.charCodeAt(1),R.charCodeAt(2),R.charCodeAt(3)]);var o=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),c=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);N.HDLR_TYPES={video:o,audio:c};var b=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0]);N.STTS=N.STSC=N.STCO=k,N.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),N.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),N.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var M=new Uint8Array([105,115,111,109]),U=new Uint8Array([97,118,99,49]),X=new Uint8Array([0,0,0,1]);N.FTYP=N.box(N.types.ftyp,M,X,M,U),N.DINF=N.box(N.types.dinf,N.box(N.types.dref,b))},N.box=function(R){for(var o=8,c=arguments.length,b=new Array(c>1?c-1:0),k=1;k<c;k++)b[k-1]=arguments[k];for(var M=b.length,U=M;M--;)o+=b[M].byteLength;var X=new Uint8Array(o);for(X[0]=o>>24&255,X[1]=o>>16&255,X[2]=o>>8&255,X[3]=255&o,X.set(R,4),M=0,o=8;M<U;M++)X.set(b[M],o),o+=b[M].byteLength;return X},N.hdlr=function(R){return N.box(N.types.hdlr,N.HDLR_TYPES[R])},N.mdat=function(R){return N.box(N.types.mdat,R)},N.mdhd=function(R,o){o*=R;var c=Math.floor(o/(As+1)),b=Math.floor(o%(As+1));return N.box(N.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,R>>24&255,R>>16&255,R>>8&255,255&R,c>>24,c>>16&255,c>>8&255,255&c,b>>24,b>>16&255,b>>8&255,255&b,85,196,0,0]))},N.mdia=function(R){return N.box(N.types.mdia,N.mdhd(R.timescale,R.duration),N.hdlr(R.type),N.minf(R))},N.mfhd=function(R){return N.box(N.types.mfhd,new Uint8Array([0,0,0,0,R>>24,R>>16&255,R>>8&255,255&R]))},N.minf=function(R){return R.type==="audio"?N.box(N.types.minf,N.box(N.types.smhd,N.SMHD),N.DINF,N.stbl(R)):N.box(N.types.minf,N.box(N.types.vmhd,N.VMHD),N.DINF,N.stbl(R))},N.moof=function(R,o,c){return N.box(N.types.moof,N.mfhd(R),N.traf(c,o))},N.moov=function(R){for(var o=R.length,c=[];o--;)c[o]=N.trak(R[o]);return N.box.apply(null,[N.types.moov,N.mvhd(R[0].timescale,R[0].duration)].concat(c).concat(N.mvex(R)))},N.mvex=function(R){for(var o=R.length,c=[];o--;)c[o]=N.trex(R[o]);return N.box.apply(null,[N.types.mvex].concat(c))},N.mvhd=function(R,o){o*=R;var c=Math.floor(o/(As+1)),b=Math.floor(o%(As+1)),k=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,R>>24&255,R>>16&255,R>>8&255,255&R,c>>24,c>>16&255,c>>8&255,255&c,b>>24,b>>16&255,b>>8&255,255&b,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return N.box(N.types.mvhd,k)},N.sdtp=function(R){var o,c,b=R.samples||[],k=new Uint8Array(4+b.length);for(o=0;o<b.length;o++)c=b[o].flags,k[o+4]=c.dependsOn<<4|c.isDependedOn<<2|c.hasRedundancy;return N.box(N.types.sdtp,k)},N.stbl=function(R){return N.box(N.types.stbl,N.stsd(R),N.box(N.types.stts,N.STTS),N.box(N.types.stsc,N.STSC),N.box(N.types.stsz,N.STSZ),N.box(N.types.stco,N.STCO))},N.avc1=function(R){var o,c,b,k=[],M=[];for(o=0;o<R.sps.length;o++)b=(c=R.sps[o]).byteLength,k.push(b>>>8&255),k.push(255&b),k=k.concat(Array.prototype.slice.call(c));for(o=0;o<R.pps.length;o++)b=(c=R.pps[o]).byteLength,M.push(b>>>8&255),M.push(255&b),M=M.concat(Array.prototype.slice.call(c));var U=N.box(N.types.avcC,new Uint8Array([1,k[3],k[4],k[5],255,224|R.sps.length].concat(k).concat([R.pps.length]).concat(M))),X=R.width,J=R.height,ee=R.pixelRatio[0],oe=R.pixelRatio[1];return N.box(N.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,X>>8&255,255&X,J>>8&255,255&J,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),U,N.box(N.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),N.box(N.types.pasp,new Uint8Array([ee>>24,ee>>16&255,ee>>8&255,255&ee,oe>>24,oe>>16&255,oe>>8&255,255&oe])))},N.esds=function(R){var o=R.config.length;return new Uint8Array([0,0,0,0,3,23+o,0,1,0,4,15+o,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([o]).concat(R.config).concat([6,1,2]))},N.mp4a=function(R){var o=R.samplerate;return N.box(N.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,R.channelCount,0,16,0,0,0,0,o>>8&255,255&o,0,0]),N.box(N.types.esds,N.esds(R)))},N.mp3=function(R){var o=R.samplerate;return N.box(N.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,R.channelCount,0,16,0,0,0,0,o>>8&255,255&o,0,0]))},N.stsd=function(R){return R.type==="audio"?R.segmentCodec==="mp3"&&R.codec==="mp3"?N.box(N.types.stsd,N.STSD,N.mp3(R)):N.box(N.types.stsd,N.STSD,N.mp4a(R)):N.box(N.types.stsd,N.STSD,N.avc1(R))},N.tkhd=function(R){var o=R.id,c=R.duration*R.timescale,b=R.width,k=R.height,M=Math.floor(c/(As+1)),U=Math.floor(c%(As+1));return N.box(N.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,0,0,0,0,M>>24,M>>16&255,M>>8&255,255&M,U>>24,U>>16&255,U>>8&255,255&U,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,b>>8&255,255&b,0,0,k>>8&255,255&k,0,0]))},N.traf=function(R,o){var c=N.sdtp(R),b=R.id,k=Math.floor(o/(As+1)),M=Math.floor(o%(As+1));return N.box(N.types.traf,N.box(N.types.tfhd,new Uint8Array([0,0,0,0,b>>24,b>>16&255,b>>8&255,255&b])),N.box(N.types.tfdt,new Uint8Array([1,0,0,0,k>>24,k>>16&255,k>>8&255,255&k,M>>24,M>>16&255,M>>8&255,255&M])),N.trun(R,c.length+16+20+8+16+8+8),c)},N.trak=function(R){return R.duration=R.duration||4294967295,N.box(N.types.trak,N.tkhd(R),N.mdia(R))},N.trex=function(R){var o=R.id;return N.box(N.types.trex,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},N.trun=function(R,o){var c,b,k,M,U,X,J=R.samples||[],ee=J.length,oe=12+16*ee,pe=new Uint8Array(oe);for(o+=8+oe,pe.set([R.type==="video"?1:0,0,15,1,ee>>>24&255,ee>>>16&255,ee>>>8&255,255&ee,o>>>24&255,o>>>16&255,o>>>8&255,255&o],0),c=0;c<ee;c++)k=(b=J[c]).duration,M=b.size,U=b.flags,X=b.cts,pe.set([k>>>24&255,k>>>16&255,k>>>8&255,255&k,M>>>24&255,M>>>16&255,M>>>8&255,255&M,U.isLeading<<2|U.dependsOn,U.isDependedOn<<6|U.hasRedundancy<<4|U.paddingValue<<1|U.isNonSync,61440&U.degradPrio,15&U.degradPrio,X>>>24&255,X>>>16&255,X>>>8&255,255&X],12+16*c);return N.box(N.types.trun,pe)},N.initSegment=function(R){N.types||N.init();var o=N.moov(R),c=new Uint8Array(N.FTYP.byteLength+o.byteLength);return c.set(N.FTYP),c.set(o,N.FTYP.byteLength),c},N}();function ka(N,R,o,c){o===void 0&&(o=1),c===void 0&&(c=!1);var b=N*R*o;return c?Math.round(b):b}function Ka(N,R){return R===void 0&&(R=!1),ka(N,1e3,1/9e4,R)}Oi.types=void 0,Oi.HDLR_TYPES=void 0,Oi.STTS=void 0,Oi.STSC=void 0,Oi.STCO=void 0,Oi.STSZ=void 0,Oi.VMHD=void 0,Oi.SMHD=void 0,Oi.STSD=void 0,Oi.FTYP=void 0,Oi.DINF=void 0;var _o=null,Zo=null,Ca=function(){function N(o,c,b,k){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=o,this.config=c,this.typeSupported=b,this.ISGenerated=!1,_o===null){var M=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);_o=M?parseInt(M[1]):0}if(Zo===null){var U=navigator.userAgent.match(/Safari\/(\d+)/i);Zo=U?parseInt(U[1]):0}}var R=N.prototype;return R.destroy=function(){},R.resetTimeStamp=function(o){W.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=o},R.resetNextTimestamp=function(){W.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},R.resetInitSegment=function(){W.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},R.getVideoStartPts=function(o){var c=!1,b=o.reduce(function(k,M){var U=M.pts-k;return U<-4294967296?(c=!0,Ai(k,M.pts)):U>0?k:M.pts},o[0].pts);return c&&W.debug("PTS rollover detected"),b},R.remux=function(o,c,b,k,M,U,X,J){var ee,oe,pe,me,be,Te,Re=M,ye=M,ke=o.pid>-1,$e=c.pid>-1,He=c.samples.length,Ze=o.samples.length>0,lt=X&&He>0||He>1;if((!ke||Ze)&&(!$e||lt)||this.ISGenerated||X){this.ISGenerated||(pe=this.generateIS(o,c,M,U));var ct,wt=this.isVideoContiguous,dt=-1;if(lt&&(dt=function(Qt){for(var Vt=0;Vt<Qt.length;Vt++)if(Qt[Vt].key)return Vt;return-1}(c.samples),!wt&&this.config.forceKeyFrameOnDiscontinuity))if(Te=!0,dt>0){W.warn("[mp4-remuxer]: Dropped "+dt+" out of "+He+" video samples due to a missing keyframe");var gt=this.getVideoStartPts(c.samples);c.samples=c.samples.slice(dt),c.dropped+=dt,ct=ye+=(c.samples[0].pts-gt)/c.inputTimeScale}else dt===-1&&(W.warn("[mp4-remuxer]: No keyframe found out of "+He+" video samples"),Te=!1);if(this.ISGenerated){if(Ze&&lt){var Pt=this.getVideoStartPts(c.samples),St=(Ai(o.samples[0].pts,Pt)-Pt)/c.inputTimeScale;Re+=Math.max(0,St),ye+=Math.max(0,-St)}if(Ze){if(o.samplerate||(W.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),pe=this.generateIS(o,c,M,U)),oe=this.remuxAudio(o,Re,this.isAudioContiguous,U,$e||lt||J===Zi?ye:void 0),lt){var Wt=oe?oe.endPTS-oe.startPTS:0;c.inputTimeScale||(W.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),pe=this.generateIS(o,c,M,U)),ee=this.remuxVideo(c,ye,wt,Wt)}}else lt&&(ee=this.remuxVideo(c,ye,wt,0));ee&&(ee.firstKeyFrame=dt,ee.independent=dt!==-1,ee.firstKeyFramePTS=ct)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(b.samples.length&&(be=Ya(b,M,this._initPTS,this._initDTS)),k.samples.length&&(me=Qo(k,M,this._initPTS))),{audio:oe,video:ee,initSegment:pe,independent:Te,text:me,id3:be}},R.generateIS=function(o,c,b,k){var M,U,X,J=o.samples,ee=c.samples,oe=this.typeSupported,pe={},me=this._initPTS,be=!me||k,Te="audio/mp4";if(be&&(M=U=1/0),o.config&&J.length&&(o.timescale=o.samplerate,o.segmentCodec==="mp3"&&(oe.mpeg?(Te="audio/mpeg",o.codec=""):oe.mp3&&(o.codec="mp3")),pe.audio={id:"audio",container:Te,codec:o.codec,initSegment:o.segmentCodec==="mp3"&&oe.mpeg?new Uint8Array(0):Oi.initSegment([o]),metadata:{channelCount:o.channelCount}},be&&(X=o.inputTimeScale,me&&X===me.timescale?be=!1:M=U=J[0].pts-Math.round(X*b))),c.sps&&c.pps&&ee.length&&(c.timescale=c.inputTimeScale,pe.video={id:"main",container:"video/mp4",codec:c.codec,initSegment:Oi.initSegment([c]),metadata:{width:c.width,height:c.height}},be))if(X=c.inputTimeScale,me&&X===me.timescale)be=!1;else{var Re=this.getVideoStartPts(ee),ye=Math.round(X*b);U=Math.min(U,Ai(ee[0].dts,Re)-ye),M=Math.min(M,Re-ye)}if(Object.keys(pe).length)return this.ISGenerated=!0,be?(this._initPTS={baseTime:M,timescale:X},this._initDTS={baseTime:U,timescale:X}):M=X=void 0,{tracks:pe,initPTS:M,timescale:X}},R.remuxVideo=function(o,c,b,k){var M,U,X=o.inputTimeScale,J=o.samples,ee=[],oe=J.length,pe=this._initPTS,me=this.nextAvcDts,be=8,Te=this.videoSampleDuration,Re=Number.POSITIVE_INFINITY,ye=Number.NEGATIVE_INFINITY,ke=!1;b&&me!==null||(me=c*X-(J[0].pts-Ai(J[0].dts,J[0].pts)));for(var $e=pe.baseTime*X/pe.timescale,He=0;He<oe;He++){var Ze=J[He];Ze.pts=Ai(Ze.pts-$e,me),Ze.dts=Ai(Ze.dts-$e,me),Ze.dts<J[He>0?He-1:He].dts&&(ke=!0)}ke&&J.sort(function(ao,ml){var wh=ao.dts-ml.dts,ac=ao.pts-ml.pts;return wh||ac}),M=J[0].dts;var lt=(U=J[J.length-1].dts)-M,ct=lt?Math.round(lt/(oe-1)):Te||o.inputTimeScale/30;if(b){var wt=M-me,dt=wt>ct,gt=wt<-1;if((dt||gt)&&(dt?W.warn("AVC: "+Ka(wt,!0)+" ms ("+wt+"dts) hole between fragments detected, filling it"):W.warn("AVC: "+Ka(-wt,!0)+" ms ("+wt+"dts) overlapping between fragments detected"),!gt||me>=J[0].pts)){M=me;var Pt=J[0].pts-wt;J[0].dts=M,J[0].pts=Pt,W.log("Video: First PTS/DTS adjusted: "+Ka(Pt,!0)+"/"+Ka(M,!0)+", delta: "+Ka(wt,!0)+" ms")}}M=Math.max(0,M);for(var St=0,Wt=0,Qt=0;Qt<oe;Qt++){for(var Vt=J[Qt],Gt=Vt.units,Jt=Gt.length,Kt=0,Ct=0;Ct<Jt;Ct++)Kt+=Gt[Ct].data.length;Wt+=Kt,St+=Jt,Vt.length=Kt,Vt.dts=Math.max(Vt.dts,M),Re=Math.min(Vt.pts,Re),ye=Math.max(Vt.pts,ye)}U=J[oe-1].dts;var wr,Rr=Wt+4*St+8;try{wr=new Uint8Array(Rr)}catch(ao){return void this.observer.emit(w.ERROR,w.ERROR,{type:I.MUX_ERROR,details:D.REMUX_ALLOC_ERROR,fatal:!1,error:ao,bytes:Rr,reason:"fail allocating video mdat "+Rr})}var $r=new DataView(wr.buffer);$r.setUint32(0,Rr),wr.set(Oi.types.mdat,4);for(var qi=!1,Ci=Number.POSITIVE_INFINITY,zn=Number.POSITIVE_INFINITY,li=Number.NEGATIVE_INFINITY,En=Number.NEGATIVE_INFINITY,fi=0;fi<oe;fi++){for(var Ri=J[fi],Hn=Ri.units,cs=0,ni=0,Tn=Hn.length;ni<Tn;ni++){var ia=Hn[ni],no=ia.data,hs=ia.data.byteLength;$r.setUint32(be,hs),be+=4,wr.set(no,be),be+=hs,cs+=4+hs}var Rs=void 0;if(fi<oe-1)Te=J[fi+1].dts-Ri.dts,Rs=J[fi+1].pts-Ri.pts;else{var na=this.config,ts=fi>0?Ri.dts-J[fi-1].dts:ct;if(Rs=fi>0?Ri.pts-J[fi-1].pts:ct,na.stretchShortVideoTrack&&this.nextAudioPts!==null){var dl=Math.floor(na.maxBufferHole*X),so=(k?Re+k*X:this.nextAudioPts)-Ri.pts;so>dl?((Te=so-ts)<0?Te=ts:qi=!0,W.log("[mp4-remuxer]: It is approximately "+so/90+" ms to the next segment; using duration "+Te/90+" ms for the last video frame.")):Te=ts}else Te=ts}var Is=Math.round(Ri.pts-Ri.dts);Ci=Math.min(Ci,Te),li=Math.max(li,Te),zn=Math.min(zn,Rs),En=Math.max(En,Rs),ee.push(new Jo(Ri.key,Te,cs,Is))}if(ee.length){if(_o){if(_o<70){var sc=ee[0].flags;sc.dependsOn=2,sc.isNonSync=0}}else if(Zo&&En-zn<li-Ci&&ct/li<.025&&ee[0].cts===0){W.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var rs=M,Sn=0,pl=ee.length;Sn<pl;Sn++){var Do=rs+ee[Sn].duration,vh=rs+ee[Sn].cts;if(Sn<pl-1){var bh=Do+ee[Sn+1].cts;ee[Sn].duration=bh-vh}else ee[Sn].duration=Sn?ee[Sn-1].duration:ct;ee[Sn].cts=0,rs=Do}}}Te=qi||!Te?ct:Te,this.nextAvcDts=me=U+Te,this.videoSampleDuration=Te,this.isVideoContiguous=!0;var yh={data1:Oi.moof(o.sequenceNumber++,M,t({},o,{samples:ee})),data2:wr,startPTS:Re/X,endPTS:(ye+Te)/X,startDTS:M/X,endDTS:me/X,type:"video",hasAudio:!1,hasVideo:!0,nb:ee.length,dropped:o.dropped};return o.samples=[],o.dropped=0,yh},R.remuxAudio=function(o,c,b,k,M){var U=o.inputTimeScale,X=U/(o.samplerate?o.samplerate:U),J=o.segmentCodec==="aac"?1024:1152,ee=J*X,oe=this._initPTS,pe=o.segmentCodec==="mp3"&&this.typeSupported.mpeg,me=[],be=M!==void 0,Te=o.samples,Re=pe?0:8,ye=this.nextAudioPts||-1,ke=c*U,$e=oe.baseTime*U/oe.timescale;if(this.isAudioContiguous=b=b||Te.length&&ye>0&&(k&&Math.abs(ke-ye)<9e3||Math.abs(Ai(Te[0].pts-$e,ke)-ye)<20*ee),Te.forEach(function(ni){ni.pts=Ai(ni.pts-$e,ke)}),!b||ye<0){if(Te=Te.filter(function(ni){return ni.pts>=0}),!Te.length)return;ye=M===0?0:k&&!be?Math.max(0,ke):Te[0].pts}if(o.segmentCodec==="aac")for(var He=this.config.maxAudioFramesDrift,Ze=0,lt=ye;Ze<Te.length;Ze++){var ct=Te[Ze],wt=ct.pts,dt=wt-lt,gt=Math.abs(1e3*dt/U);if(dt<=-He*ee&&be)Ze===0&&(W.warn("Audio frame @ "+(wt/U).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*dt/U)+" ms."),this.nextAudioPts=ye=lt=wt);else if(dt>=He*ee&&gt<1e4&&be){var Pt=Math.round(dt/ee);(lt=wt-Pt*ee)<0&&(Pt--,lt+=ee),Ze===0&&(this.nextAudioPts=ye=lt),W.warn("[mp4-remuxer]: Injecting "+Pt+" audio frame @ "+(lt/U).toFixed(3)+"s due to "+Math.round(1e3*dt/U)+" ms gap.");for(var St=0;St<Pt;St++){var Wt=Math.max(lt,0),Qt=Kr.getSilentFrame(o.manifestCodec||o.codec,o.channelCount);Qt||(W.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Qt=ct.unit.subarray()),Te.splice(Ze,0,{unit:Qt,pts:Wt}),lt+=ee,Ze++}}ct.pts=lt,lt+=ee}for(var Vt,Gt=null,Jt=null,Kt=0,Ct=Te.length;Ct--;)Kt+=Te[Ct].unit.byteLength;for(var wr=0,Rr=Te.length;wr<Rr;wr++){var $r=Te[wr],qi=$r.unit,Ci=$r.pts;if(Jt!==null)me[wr-1].duration=Math.round((Ci-Jt)/X);else{if(b&&o.segmentCodec==="aac"&&(Ci=ye),Gt=Ci,!(Kt>0))return;Kt+=Re;try{Vt=new Uint8Array(Kt)}catch(ni){return void this.observer.emit(w.ERROR,w.ERROR,{type:I.MUX_ERROR,details:D.REMUX_ALLOC_ERROR,fatal:!1,error:ni,bytes:Kt,reason:"fail allocating audio mdat "+Kt})}pe||(new DataView(Vt.buffer).setUint32(0,Kt),Vt.set(Oi.types.mdat,4))}Vt.set(qi,Re);var zn=qi.byteLength;Re+=zn,me.push(new Jo(!0,J,zn,0)),Jt=Ci}var li=me.length;if(li){var En=me[me.length-1];this.nextAudioPts=ye=Jt+X*En.duration;var fi=pe?new Uint8Array(0):Oi.moof(o.sequenceNumber++,Gt/X,t({},o,{samples:me}));o.samples=[];var Ri=Gt/U,Hn=ye/U,cs={data1:fi,data2:Vt,startPTS:Ri,endPTS:Hn,startDTS:Ri,endDTS:Hn,type:"audio",hasAudio:!0,hasVideo:!1,nb:li};return this.isAudioContiguous=!0,cs}},R.remuxEmptyAudio=function(o,c,b,k){var M=o.inputTimeScale,U=M/(o.samplerate?o.samplerate:M),X=this.nextAudioPts,J=this._initDTS,ee=9e4*J.baseTime/J.timescale,oe=(X!==null?X:k.startDTS*M)+ee,pe=k.endDTS*M+ee,me=1024*U,be=Math.ceil((pe-oe)/me),Te=Kr.getSilentFrame(o.manifestCodec||o.codec,o.channelCount);if(W.warn("[mp4-remuxer]: remux empty Audio"),Te){for(var Re=[],ye=0;ye<be;ye++){var ke=oe+ye*me;Re.push({unit:Te,pts:ke,dts:ke})}return o.samples=Re,this.remuxAudio(o,c,b,!1)}W.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},N}();function Ai(N,R){var o;if(R===null)return N;for(o=R<N?-8589934592:8589934592;Math.abs(N-R)>4294967296;)N+=o;return N}function Ya(N,R,o,c){var b=N.samples.length;if(b){for(var k=N.inputTimeScale,M=0;M<b;M++){var U=N.samples[M];U.pts=Ai(U.pts-o.baseTime*k/o.timescale,R*k)/k,U.dts=Ai(U.dts-c.baseTime*k/c.timescale,R*k)/k}var X=N.samples;return N.samples=[],{samples:X}}}function Qo(N,R,o){var c=N.samples.length;if(c){for(var b=N.inputTimeScale,k=0;k<c;k++){var M=N.samples[k];M.pts=Ai(M.pts-o.baseTime*b/o.timescale,R*b)/b}N.samples.sort(function(X,J){return X.pts-J.pts});var U=N.samples;return N.samples=[],{samples:U}}}var _n,Jo=function(N,R,o,c){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=R,this.size=o,this.cts=c,this.flags=new Nl(N)},Nl=function(N){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=N?2:1,this.isNonSync=N?0:1},xo=function(){function N(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var R=N.prototype;return R.destroy=function(){},R.resetTimeStamp=function(o){this.initPTS=o,this.lastEndTime=null},R.resetNextTimestamp=function(){this.lastEndTime=null},R.resetInitSegment=function(o,c,b,k){this.audioCodec=c,this.videoCodec=b,this.generateInitSegment(function(M,U){if(!M||!U)return M;var X=U.keyId;return X&&U.isCommonEncryption&&It(M,["moov","trak"]).forEach(function(J){var ee=It(J,["mdia","minf","stbl","stsd"])[0].subarray(8),oe=It(ee,["enca"]),pe=oe.length>0;pe||(oe=It(ee,["encv"])),oe.forEach(function(me){It(pe?me.subarray(28):me.subarray(78),["sinf"]).forEach(function(be){var Te=mr(be);if(Te){var Re=Te.subarray(8,24);Re.some(function(ye){return ye!==0})||(W.log("[eme] Patching keyId in 'enc"+(pe?"a":"v")+">sinf>>tenc' box: "+rt(Re)+" -> "+rt(X)),Te.set(X,8))}})})}),M}(o,k)),this.emitInitSegment=!0},R.generateInitSegment=function(o){var c=this.audioCodec,b=this.videoCodec;if(o==null||!o.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var k=this.initData=Sr(o);c||(c=qo(k.audio,Y)),b||(b=qo(k.video,z));var M={};k.audio&&k.video?M.audiovideo={container:"video/mp4",codec:c+","+b,initSegment:o,id:"main"}:k.audio?M.audio={container:"audio/mp4",codec:c,initSegment:o,id:"audio"}:k.video?M.video={container:"video/mp4",codec:b,initSegment:o,id:"main"}:W.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=M},R.remux=function(o,c,b,k,M,U){var X,J,ee=this.initPTS,oe=this.lastEndTime,pe={audio:void 0,video:void 0,text:k,id3:b,initSegment:void 0};A(oe)||(oe=this.lastEndTime=M||0);var me=c.samples;if(me==null||!me.length)return pe;var be={initPTS:void 0,timescale:1},Te=this.initData;if((X=Te)!=null&&X.length||(this.generateInitSegment(me),Te=this.initData),(J=Te)==null||!J.length)return W.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),pe;this.emitInitSegment&&(be.tracks=this.initTracks,this.emitInitSegment=!1);var Re=function(dt,gt){for(var Pt=0,St=0,Wt=0,Qt=It(dt,["moof","traf"]),Vt=0;Vt<Qt.length;Vt++){var Gt=Qt[Vt],Jt=It(Gt,["tfhd"])[0],Kt=gt[Tt(Jt,4)];if(Kt){var Ct=Kt.default,wr=Tt(Jt,0)|(Ct==null?void 0:Ct.flags),Rr=Ct==null?void 0:Ct.duration;8&wr&&(Rr=Tt(Jt,2&wr?12:8));for(var $r=Kt.timescale||9e4,qi=It(Gt,["trun"]),Ci=0;Ci<qi.length;Ci++)!(Pt=Xt(qi[Ci]))&&Rr&&(Pt=Rr*Tt(qi[Ci],4)),Kt.type===z?St+=Pt/$r:Kt.type===Y&&(Wt+=Pt/$r)}}if(St===0&&Wt===0){for(var zn=0,li=It(dt,["sidx"]),En=0;En<li.length;En++){var fi=$t(li[En]);fi!=null&&fi.references&&(zn+=fi.references.reduce(function(Ri,Hn){return Ri+Hn.info.duration||0},0))}return zn}return St||Wt}(me,Te),ye=function(dt,gt){return It(gt,["moof","traf"]).reduce(function(Pt,St){var Wt=It(St,["tfdt"])[0],Qt=Wt[0],Vt=It(St,["tfhd"]).reduce(function(Gt,Jt){var Kt=Tt(Jt,4),Ct=dt[Kt];if(Ct){var wr=Tt(Wt,4);if(Qt===1){if(wr===mt)return W.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),Gt;wr*=mt+1,wr+=Tt(Wt,8)}var Rr=wr/(Ct.timescale||9e4);if(isFinite(Rr)&&(Gt===null||Rr<Gt))return Rr}return Gt},null);return Vt!==null&&isFinite(Vt)&&(Pt===null||Vt<Pt)?Vt:Pt},null)}(Te,me),ke=ye===null?M:ye;(function(dt,gt,Pt,St){if(dt===null)return!0;var Wt=Math.max(St,1),Qt=gt-dt.baseTime/dt.timescale;return Math.abs(Qt-Pt)>Wt}(ee,ke,M,Re)||be.timescale!==ee.timescale&&U)&&(be.initPTS=ke-M,ee&&ee.timescale===1&&W.warn("Adjusting initPTS by "+(be.initPTS-ee.baseTime)),this.initPTS=ee={baseTime:be.initPTS,timescale:1});var $e=o?ke-ee.baseTime/ee.timescale:oe,He=$e+Re;(function(dt,gt,Pt){It(gt,["moof","traf"]).forEach(function(St){It(St,["tfhd"]).forEach(function(Wt){var Qt=Tt(Wt,4),Vt=dt[Qt];if(Vt){var Gt=Vt.timescale||9e4;It(St,["tfdt"]).forEach(function(Jt){var Kt=Jt[0],Ct=Tt(Jt,4);if(Kt===0)Ct-=Pt*Gt,Dt(Jt,4,Ct=Math.max(Ct,0));else{Ct*=Math.pow(2,32),Ct+=Tt(Jt,8),Ct-=Pt*Gt,Ct=Math.max(Ct,0);var wr=Math.floor(Ct/(mt+1)),Rr=Math.floor(Ct%(mt+1));Dt(Jt,4,wr),Dt(Jt,8,Rr)}})}})})})(Te,me,ee.baseTime/ee.timescale),Re>0?this.lastEndTime=He:(W.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var Ze=!!Te.audio,lt=!!Te.video,ct="";Ze&&(ct+="audio"),lt&&(ct+="video");var wt={data1:me,startPTS:$e,startDTS:$e,endPTS:He,endDTS:He,type:ct,hasAudio:Ze,hasVideo:lt,nb:1,dropped:0};return pe.audio=wt.type==="audio"?wt:void 0,pe.video=wt.type!=="audio"?wt:void 0,pe.initSegment=be,pe.id3=Ya(b,M,ee,ee),k.samples.length&&(pe.text=Qo(k,M,ee)),pe},N}();function qo(N,R){var o=N==null?void 0:N.codec;return o&&o.length>4?o:o==="hvc1"||o==="hev1"?"hvc1.1.6.L120.90":o==="av01"?"av01.0.04M.08":o==="avc1"||R===z?"avc1.42e01e":"mp4a.40.5"}try{_n=self.performance.now.bind(self.performance)}catch{W.debug("Unable to use Performance API on this environment"),_n=typeof self<"u"&&self.Date.now}var Ys=[{demux:Yc,remux:xo},{demux:Yo,remux:Ca},{demux:Fn,remux:Ca},{demux:wo,remux:Ca}],as=function(){function N(o,c,b,k,M){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=o,this.typeSupported=c,this.config=b,this.vendor=k,this.id=M}var R=N.prototype;return R.configure=function(o){this.transmuxConfig=o,this.decrypter&&this.decrypter.reset()},R.push=function(o,c,b,k){var M=this,U=b.transmuxing;U.executeStart=_n();var X=new Uint8Array(o),J=this.currentTransmuxState,ee=this.transmuxConfig;k&&(this.currentTransmuxState=k);var oe=k||J,pe=oe.contiguous,me=oe.discontinuity,be=oe.trackSwitch,Te=oe.accurateTimeOffset,Re=oe.timeOffset,ye=oe.initSegmentChange,ke=ee.audioCodec,$e=ee.videoCodec,He=ee.defaultInitPts,Ze=ee.duration,lt=ee.initSegmentData,ct=function(Qt,Vt){var Gt=null;return Qt.byteLength>0&&Vt!=null&&Vt.key!=null&&Vt.iv!==null&&Vt.method!=null&&(Gt=Vt),Gt}(X,c);if(ct&&ct.method==="AES-128"){var wt=this.getDecrypter();if(!wt.isSync())return this.decryptionPromise=wt.webCryptoDecrypt(X,ct.key.buffer,ct.iv.buffer).then(function(Qt){var Vt=M.push(Qt,null,b);return M.decryptionPromise=null,Vt}),this.decryptionPromise;var dt=wt.softwareDecrypt(X,ct.key.buffer,ct.iv.buffer);if(b.part>-1&&(dt=wt.flush()),!dt)return U.executeEnd=_n(),Ra(b);X=new Uint8Array(dt)}var gt=this.needsProbing(me,be);if(gt){var Pt=this.configureTransmuxer(X);if(Pt)return W.warn("[transmuxer] "+Pt.message),this.observer.emit(w.ERROR,w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:Pt,reason:Pt.message}),U.executeEnd=_n(),Ra(b)}(me||be||ye||gt)&&this.resetInitSegment(lt,ke,$e,Ze,c),(me||ye||gt)&&this.resetInitialTimestamp(He),pe||this.resetContiguity();var St=this.transmux(X,ct,Re,Te,b),Wt=this.currentTransmuxState;return Wt.contiguous=!0,Wt.discontinuity=!1,Wt.trackSwitch=!1,U.executeEnd=_n(),St},R.flush=function(o){var c=this,b=o.transmuxing;b.executeStart=_n();var k=this.decrypter,M=this.currentTransmuxState,U=this.decryptionPromise;if(U)return U.then(function(){return c.flush(o)});var X=[],J=M.timeOffset;if(k){var ee=k.flush();ee&&X.push(this.push(ee,null,o))}var oe=this.demuxer,pe=this.remuxer;if(!oe||!pe)return b.executeEnd=_n(),[Ra(o)];var me=oe.flush(J);return Zs(me)?me.then(function(be){return c.flushRemux(X,be,o),X}):(this.flushRemux(X,me,o),X)},R.flushRemux=function(o,c,b){var k=c.audioTrack,M=c.videoTrack,U=c.id3Track,X=c.textTrack,J=this.currentTransmuxState,ee=J.accurateTimeOffset,oe=J.timeOffset;W.log("[transmuxer.ts]: Flushed fragment "+b.sn+(b.part>-1?" p: "+b.part:"")+" of level "+b.level);var pe=this.remuxer.remux(k,M,U,X,oe,ee,!0,this.id);o.push({remuxResult:pe,chunkMeta:b}),b.transmuxing.executeEnd=_n()},R.resetInitialTimestamp=function(o){var c=this.demuxer,b=this.remuxer;c&&b&&(c.resetTimeStamp(o),b.resetTimeStamp(o))},R.resetContiguity=function(){var o=this.demuxer,c=this.remuxer;o&&c&&(o.resetContiguity(),c.resetNextTimestamp())},R.resetInitSegment=function(o,c,b,k,M){var U=this.demuxer,X=this.remuxer;U&&X&&(U.resetInitSegment(o,c,b,k),X.resetInitSegment(o,c,b,M))},R.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},R.transmux=function(o,c,b,k,M){return c&&c.method==="SAMPLE-AES"?this.transmuxSampleAes(o,c,b,k,M):this.transmuxUnencrypted(o,b,k,M)},R.transmuxUnencrypted=function(o,c,b,k){var M=this.demuxer.demux(o,c,!1,!this.config.progressive),U=M.audioTrack,X=M.videoTrack,J=M.id3Track,ee=M.textTrack;return{remuxResult:this.remuxer.remux(U,X,J,ee,c,b,!1,this.id),chunkMeta:k}},R.transmuxSampleAes=function(o,c,b,k,M){var U=this;return this.demuxer.demuxSampleAes(o,c,b).then(function(X){return{remuxResult:U.remuxer.remux(X.audioTrack,X.videoTrack,X.id3Track,X.textTrack,b,k,!1,U.id),chunkMeta:M}})},R.configureTransmuxer=function(o){for(var c,b=this.config,k=this.observer,M=this.typeSupported,U=this.vendor,X=0,J=Ys.length;X<J;X++)if(Ys[X].demux.probe(o)){c=Ys[X];break}if(!c)return new Error("Failed to find demuxer by probing fragment data");var ee=this.demuxer,oe=this.remuxer,pe=c.remux,me=c.demux;oe&&oe instanceof pe||(this.remuxer=new pe(k,b,M,U)),ee&&ee instanceof me||(this.demuxer=new me(k,b,M),this.probe=me.probe)},R.needsProbing=function(o,c){return!this.demuxer||!this.remuxer||o||c},R.getDecrypter=function(){var o=this.decrypter;return o||(o=this.decrypter=new $s(this.config)),o},N}(),Ra=function(N){return{remuxResult:{},chunkMeta:N}};function Zs(N){return"then"in N&&N.then instanceof Function}var eh=function(N,R,o,c,b){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=N,this.videoCodec=R,this.initSegmentData=o,this.duration=c,this.defaultInitPts=b||null},th=function(N,R,o,c,b,k){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=N,this.contiguous=R,this.accurateTimeOffset=o,this.trackSwitch=c,this.timeOffset=b,this.initSegmentChange=k},Za={exports:{}};(function(N){var R=Object.prototype.hasOwnProperty,o="~";function c(){}function b(X,J,ee){this.fn=X,this.context=J,this.once=ee||!1}function k(X,J,ee,oe,pe){if(typeof ee!="function")throw new TypeError("The listener must be a function");var me=new b(ee,oe||X,pe),be=o?o+J:J;return X._events[be]?X._events[be].fn?X._events[be]=[X._events[be],me]:X._events[be].push(me):(X._events[be]=me,X._eventsCount++),X}function M(X,J){--X._eventsCount==0?X._events=new c:delete X._events[J]}function U(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),new c().__proto__||(o=!1)),U.prototype.eventNames=function(){var X,J,ee=[];if(this._eventsCount===0)return ee;for(J in X=this._events)R.call(X,J)&&ee.push(o?J.slice(1):J);return Object.getOwnPropertySymbols?ee.concat(Object.getOwnPropertySymbols(X)):ee},U.prototype.listeners=function(X){var J=o?o+X:X,ee=this._events[J];if(!ee)return[];if(ee.fn)return[ee.fn];for(var oe=0,pe=ee.length,me=new Array(pe);oe<pe;oe++)me[oe]=ee[oe].fn;return me},U.prototype.listenerCount=function(X){var J=o?o+X:X,ee=this._events[J];return ee?ee.fn?1:ee.length:0},U.prototype.emit=function(X,J,ee,oe,pe,me){var be=o?o+X:X;if(!this._events[be])return!1;var Te,Re,ye=this._events[be],ke=arguments.length;if(ye.fn){switch(ye.once&&this.removeListener(X,ye.fn,void 0,!0),ke){case 1:return ye.fn.call(ye.context),!0;case 2:return ye.fn.call(ye.context,J),!0;case 3:return ye.fn.call(ye.context,J,ee),!0;case 4:return ye.fn.call(ye.context,J,ee,oe),!0;case 5:return ye.fn.call(ye.context,J,ee,oe,pe),!0;case 6:return ye.fn.call(ye.context,J,ee,oe,pe,me),!0}for(Re=1,Te=new Array(ke-1);Re<ke;Re++)Te[Re-1]=arguments[Re];ye.fn.apply(ye.context,Te)}else{var $e,He=ye.length;for(Re=0;Re<He;Re++)switch(ye[Re].once&&this.removeListener(X,ye[Re].fn,void 0,!0),ke){case 1:ye[Re].fn.call(ye[Re].context);break;case 2:ye[Re].fn.call(ye[Re].context,J);break;case 3:ye[Re].fn.call(ye[Re].context,J,ee);break;case 4:ye[Re].fn.call(ye[Re].context,J,ee,oe);break;default:if(!Te)for($e=1,Te=new Array(ke-1);$e<ke;$e++)Te[$e-1]=arguments[$e];ye[Re].fn.apply(ye[Re].context,Te)}}return!0},U.prototype.on=function(X,J,ee){return k(this,X,J,ee,!1)},U.prototype.once=function(X,J,ee){return k(this,X,J,ee,!0)},U.prototype.removeListener=function(X,J,ee,oe){var pe=o?o+X:X;if(!this._events[pe])return this;if(!J)return M(this,pe),this;var me=this._events[pe];if(me.fn)me.fn!==J||oe&&!me.once||ee&&me.context!==ee||M(this,pe);else{for(var be=0,Te=[],Re=me.length;be<Re;be++)(me[be].fn!==J||oe&&!me[be].once||ee&&me[be].context!==ee)&&Te.push(me[be]);Te.length?this._events[pe]=Te.length===1?Te[0]:Te:M(this,pe)}return this},U.prototype.removeAllListeners=function(X){var J;return X?(J=o?o+X:X,this._events[J]&&M(this,J)):(this._events=new c,this._eventsCount=0),this},U.prototype.off=U.prototype.removeListener,U.prototype.addListener=U.prototype.on,U.prefixed=o,U.EventEmitter=U,N.exports=U})(Za);var Qs=E(Za.exports);function Qa(N,R){if(!((o=R.remuxResult).audio||o.video||o.text||o.id3||o.initSegment))return!1;var o,c=[],b=R.remuxResult,k=b.audio,M=b.video;return k&&Fl(c,k),M&&Fl(c,M),N.postMessage({event:"transmuxComplete",data:R},c),!0}function Fl(N,R){R.data1&&N.push(R.data1.buffer),R.data2&&N.push(R.data2.buffer)}function el(N,R,o){R.reduce(function(c,b){return Qa(N,b)||c},!1)||N.postMessage({event:"transmuxComplete",data:R[0]}),N.postMessage({event:"flush",data:o})}_!==void 0&&_&&function(N){var R=new Qs,o=function(b,k){N.postMessage({event:b,data:k})};R.on(w.FRAG_DECRYPTED,o),R.on(w.ERROR,o);var c=function(){var b=function(M){var U=function(X){o("workerLog",{logType:M,message:X})};W[M]=U};for(var k in W)b(k)};N.addEventListener("message",function(b){var k=b.data;switch(k.cmd){case"init":var M=JSON.parse(k.config);N.transmuxer=new as(R,k.typeSupported,M,k.vendor,k.id),Z(M.debug,k.id),c(),o("init",null);break;case"configure":N.transmuxer.configure(k.config);break;case"demux":var U=N.transmuxer.push(k.data,k.decryptdata,k.chunkMeta,k.state);Zs(U)?(N.transmuxer.async=!0,U.then(function(ee){Qa(N,ee)}).catch(function(ee){o(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,chunkMeta:k.chunkMeta,fatal:!1,error:ee,err:ee,reason:"transmuxer-worker push error"})})):(N.transmuxer.async=!1,Qa(N,U));break;case"flush":var X=k.chunkMeta,J=N.transmuxer.flush(X);Zs(J)||N.transmuxer.async?(Zs(J)||(J=Promise.resolve(J)),J.then(function(ee){el(N,ee,X)}).catch(function(ee){o(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,chunkMeta:k.chunkMeta,fatal:!1,error:ee,err:ee,reason:"transmuxer-worker flush error"})})):el(N,J,X)}})}(self);var tl=nr()||{isTypeSupported:function(){return!1}},Bl=function(){function N(o,c,b,k){var M=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var U=o.config;this.hls=o,this.id=c,this.useWorker=!!U.enableWorker,this.onTransmuxComplete=b,this.onFlush=k;var X=function(Re,ye){(ye=ye||{}).frag=M.frag,ye.id=M.id,Re===w.ERROR&&(M.error=ye.error),M.hls.trigger(Re,ye)};this.observer=new Qs,this.observer.on(w.FRAG_DECRYPTED,X),this.observer.on(w.ERROR,X);var J,ee,oe,pe,me={mp4:tl.isTypeSupported("video/mp4"),mpeg:tl.isTypeSupported("audio/mpeg"),mp3:tl.isTypeSupported('audio/mp4; codecs="mp3"')},be=navigator.vendor;if(!this.useWorker||typeof Worker>"u"||(U.workerPath,0))this.transmuxer=new as(this.observer,me,U,be,c);else try{U.workerPath?(W.log("loading Web Worker "+U.workerPath+' for "'+c+'"'),this.workerContext=(oe=U.workerPath,pe=new self.URL(oe,self.location.href).href,{worker:new self.Worker(pe),scriptURL:pe})):(W.log('injecting Web Worker for "'+c+'"'),this.workerContext=(J=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+K.toString()+")(true);"],{type:"text/javascript"}),ee=self.URL.createObjectURL(J),{worker:new self.Worker(ee),objectURL:ee})),this.onwmsg=function(Re){return M.onWorkerMessage(Re)};var Te=this.workerContext.worker;Te.addEventListener("message",this.onwmsg),Te.onerror=function(Re){var ye=new Error(Re.message+"  ("+Re.filename+":"+Re.lineno+")");U.enableWorker=!1,W.warn('Error in "'+c+'" Web Worker, fallback to inline'),M.hls.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:ye})},Te.postMessage({cmd:"init",typeSupported:me,vendor:be,id:c,config:JSON.stringify(U)})}catch(Re){W.warn('Error setting up "'+c+'" Web Worker, fallback to inline',Re),this.resetWorker(),this.error=null,this.transmuxer=new as(this.observer,me,U,be,c)}}var R=N.prototype;return R.resetWorker=function(){if(this.workerContext){var o=this.workerContext,c=o.worker,b=o.objectURL;b&&self.URL.revokeObjectURL(b),c.removeEventListener("message",this.onwmsg),c.onerror=null,c.terminate(),this.workerContext=null}},R.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var o=this.transmuxer;o&&(o.destroy(),this.transmuxer=null)}var c=this.observer;c&&c.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},R.push=function(o,c,b,k,M,U,X,J,ee,oe){var pe,me,be=this;ee.transmuxing.start=self.performance.now();var Te=this.transmuxer,Re=U?U.start:M.start,ye=M.decryptdata,ke=this.frag,$e=!(ke&&M.cc===ke.cc),He=!(ke&&ee.level===ke.level),Ze=ke?ee.sn-ke.sn:-1,lt=this.part?ee.part-this.part.index:-1,ct=Ze===0&&ee.id>1&&ee.id===(ke==null?void 0:ke.stats.chunkCount),wt=!He&&(Ze===1||Ze===0&&(lt===1||ct&&lt<=0)),dt=self.performance.now();(He||Ze||M.stats.parsing.start===0)&&(M.stats.parsing.start=dt),!U||!lt&&wt||(U.stats.parsing.start=dt);var gt=!(ke&&((pe=M.initSegment)==null?void 0:pe.url)===((me=ke.initSegment)==null?void 0:me.url)),Pt=new th($e,wt,J,He,Re,gt);if(!wt||$e||gt){W.log("[transmuxer-interface, "+M.type+"]: Starting new transmux session for sn: "+ee.sn+" p: "+ee.part+" level: "+ee.level+" id: "+ee.id+`
        discontinuity: `+$e+`
        trackSwitch: `+He+`
        contiguous: `+wt+`
        accurateTimeOffset: `+J+`
        timeOffset: `+Re+`
        initSegmentChange: `+gt);var St=new eh(b,k,c,X,oe);this.configureTransmuxer(St)}if(this.frag=M,this.part=U,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:o,decryptdata:ye,chunkMeta:ee,state:Pt},o instanceof ArrayBuffer?[o]:[]);else if(Te){var Wt=Te.push(o,ye,ee,Pt);Zs(Wt)?(Te.async=!0,Wt.then(function(Qt){be.handleTransmuxComplete(Qt)}).catch(function(Qt){be.transmuxerError(Qt,ee,"transmuxer-interface push error")})):(Te.async=!1,this.handleTransmuxComplete(Wt))}},R.flush=function(o){var c=this;o.transmuxing.start=self.performance.now();var b=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:o});else if(b){var k=b.flush(o);Zs(k)||b.async?(Zs(k)||(k=Promise.resolve(k)),k.then(function(M){c.handleFlushResult(M,o)}).catch(function(M){c.transmuxerError(M,o,"transmuxer-interface flush error")})):this.handleFlushResult(k,o)}},R.transmuxerError=function(o,c,b){this.hls&&(this.error=o,this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,chunkMeta:c,fatal:!1,error:o,err:o,reason:b}))},R.handleFlushResult=function(o,c){var b=this;o.forEach(function(k){b.handleTransmuxComplete(k)}),this.onFlush(c)},R.onWorkerMessage=function(o){var c=o.data,b=this.hls;switch(c.event){case"init":var k,M=(k=this.workerContext)==null?void 0:k.objectURL;M&&self.URL.revokeObjectURL(M);break;case"transmuxComplete":this.handleTransmuxComplete(c.data);break;case"flush":this.onFlush(c.data);break;case"workerLog":W[c.data.logType]&&W[c.data.logType](c.data.message);break;default:c.data=c.data||{},c.data.frag=this.frag,c.data.id=this.id,b.trigger(c.event,c.data)}},R.configureTransmuxer=function(o){var c=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:o}):c&&c.configure(o)},R.handleTransmuxComplete=function(o){o.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(o)},N}(),ki=function(){function N(o,c,b,k){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=o,this.media=c,this.fragmentTracker=b,this.hls=k}var R=N.prototype;return R.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},R.poll=function(o,c){var b=this.config,k=this.media,M=this.stalled;if(k!==null){var U=k.currentTime,X=k.seeking,J=this.seeking&&!X,ee=!this.seeking&&X;if(this.seeking=X,U===o){if(ee||J)this.stalled=null;else if(!(k.paused&&!X||k.ended||k.playbackRate===0)&&fr.getBuffered(k).length){var oe=fr.bufferInfo(k,U,0),pe=oe.len>0,me=oe.nextStart||0;if(pe||me){if(X){var be=oe.len>2,Te=!me||c&&c.start<=U||me-U>2&&!this.fragmentTracker.getPartialFragment(U);if(be||Te)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var Re,ye=Math.max(me,oe.start||0)-U,ke=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,$e=!(ke==null||(Re=ke.details)==null)&&Re.live?2*ke.details.targetduration:2,He=this.fragmentTracker.getPartialFragment(U);if(ye>0&&(ye<=$e||He))return void this._trySkipBufferHole(He)}var Ze=self.performance.now();if(M!==null){var lt=Ze-M;if(X||!(lt>=250)||(this._reportStall(oe),this.media)){var ct=fr.bufferInfo(k,U,b.maxBufferHole);this._tryFixBufferStall(ct,lt)}}else this.stalled=Ze}}}else if(this.moved=!0,M!==null){if(this.stallReported){var wt=self.performance.now()-M;W.warn("playback not stuck anymore @"+U+", after "+Math.round(wt)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},R._tryFixBufferStall=function(o,c){var b=this.config,k=this.fragmentTracker,M=this.media;if(M!==null){var U=M.currentTime,X=k.getPartialFragment(U);if(X&&(this._trySkipBufferHole(X)||!this.media))return;(o.len>b.maxBufferHole||o.nextStart&&o.nextStart-U<b.maxBufferHole)&&c>1e3*b.highBufferWatchdogPeriod&&(W.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},R._reportStall=function(o){var c=this.hls,b=this.media;if(!this.stallReported&&b){this.stallReported=!0;var k=new Error("Playback stalling at @"+b.currentTime+" due to low buffer ("+JSON.stringify(o)+")");W.warn(k.message),c.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_STALLED_ERROR,fatal:!1,error:k,buffer:o.len})}},R._trySkipBufferHole=function(o){var c=this.config,b=this.hls,k=this.media;if(k===null)return 0;var M=k.currentTime,U=fr.bufferInfo(k,M,0),X=M<U.start?U.start:U.nextStart;if(X){var J=U.len<=c.maxBufferHole,ee=U.len>0&&U.len<1&&k.readyState<3,oe=X-M;if(oe>0&&(J||ee)){if(oe>c.maxBufferHole){var pe=this.fragmentTracker,me=!1;if(M===0){var be=pe.getAppendedFrag(0,vr);be&&X<be.end&&(me=!0)}if(!me){var Te=o||pe.getAppendedFrag(M,vr);if(Te){for(var Re=!1,ye=Te.end;ye<X;){var ke=pe.getPartialFragment(ye);if(!ke){Re=!0;break}ye+=ke.duration}if(Re)return 0}}}var $e=Math.max(X+.05,M+.1);if(W.warn("skipping hole, adjusting currentTime from "+M+" to "+$e),this.moved=!0,this.stalled=null,k.currentTime=$e,o&&!o.gap){var He=new Error("fragment loaded with buffer holes, seeking from "+M+" to "+$e);b.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:He,reason:He.message,frag:o})}return $e}}return 0},R._tryNudgeBuffer=function(){var o=this.config,c=this.hls,b=this.media,k=this.nudgeRetry;if(b!==null){var M=b.currentTime;if(this.nudgeRetry++,k<o.nudgeMaxRetry){var U=M+(k+1)*o.nudgeOffset,X=new Error("Nudging 'currentTime' from "+M+" to "+U);W.warn(X.message),b.currentTime=U,c.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_NUDGE_ON_STALL,error:X,fatal:!1})}else{var J=new Error("Playhead still not moving while enough data buffered @"+M+" after "+o.nudgeMaxRetry+" nudges");W.error(J.message),c.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_STALLED_ERROR,error:J,fatal:!0})}}},N}(),Xi=function(N){function R(c,b,k){var M;return(M=N.call(this,c,b,k,"[stream-controller]",vr)||this).audioCodecSwap=!1,M.gapController=null,M.level=-1,M._forceStartLoad=!1,M.altAudio=!1,M.audioOnly=!1,M.fragPlaying=null,M.onvplaying=null,M.onvseeked=null,M.fragLastKbps=0,M.couldBacktrack=!1,M.backtrackFragment=null,M.audioCodecSwitch=!1,M.videoBuffer=null,M._registerListeners(),M}i(R,N);var o=R.prototype;return o._registerListeners=function(){var c=this.hls;c.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.on(w.MANIFEST_LOADING,this.onManifestLoading,this),c.on(w.MANIFEST_PARSED,this.onManifestParsed,this),c.on(w.LEVEL_LOADING,this.onLevelLoading,this),c.on(w.LEVEL_LOADED,this.onLevelLoaded,this),c.on(w.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),c.on(w.ERROR,this.onError,this),c.on(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),c.on(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),c.on(w.BUFFER_CREATED,this.onBufferCreated,this),c.on(w.BUFFER_FLUSHED,this.onBufferFlushed,this),c.on(w.LEVELS_UPDATED,this.onLevelsUpdated,this),c.on(w.FRAG_BUFFERED,this.onFragBuffered,this)},o._unregisterListeners=function(){var c=this.hls;c.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.off(w.MANIFEST_LOADING,this.onManifestLoading,this),c.off(w.MANIFEST_PARSED,this.onManifestParsed,this),c.off(w.LEVEL_LOADED,this.onLevelLoaded,this),c.off(w.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),c.off(w.ERROR,this.onError,this),c.off(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),c.off(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),c.off(w.BUFFER_CREATED,this.onBufferCreated,this),c.off(w.BUFFER_FLUSHED,this.onBufferFlushed,this),c.off(w.LEVELS_UPDATED,this.onLevelsUpdated,this),c.off(w.FRAG_BUFFERED,this.onFragBuffered,this)},o.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},o.startLoad=function(c){if(this.levels){var b=this.lastCurrentTime,k=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var M=k.startLevel;M===-1&&(k.config.testBandwidth&&this.levels.length>1?(M=0,this.bitrateTest=!0):M=k.nextAutoLevel),this.level=k.nextLoadLevel=M,this.loadedmetadata=!1}b>0&&c===-1&&(this.log("Override startPosition with lastCurrentTime @"+b.toFixed(3)),c=b),this.state=xr,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=c,this.tick()}else this._forceStartLoad=!0,this.state=Ti},o.stopLoad=function(){this._forceStartLoad=!1,N.prototype.stopLoad.call(this)},o.doTick=function(){switch(this.state){case Xs:var c,b=this.levels,k=this.level,M=b==null||(c=b[k])==null?void 0:c.details;if(M&&(!M.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(M))break;this.state=xr;break}if(this.hls.nextLoadLevel!==this.level){this.state=xr;break}break;case Li:var U,X=self.performance.now(),J=this.retryDate;(!J||X>=J||(U=this.media)!=null&&U.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=xr)}this.state===xr&&this.doTickIdle(),this.onTickEnd()},o.onTickEnd=function(){N.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},o.doTickIdle=function(){var c=this.hls,b=this.levelLastLoaded,k=this.levels,M=this.media,U=c.config,X=c.nextLoadLevel;if(b!==null&&(M||!this.startFragRequested&&U.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&k!=null&&k[X]){var J=k[X],ee=this.getMainFwdBufferInfo();if(ee!==null){var oe=this.getLevelDetails();if(oe&&this._streamEnded(ee,oe)){var pe={};return this.altAudio&&(pe.type="video"),this.hls.trigger(w.BUFFER_EOS,pe),void(this.state=Ta)}c.loadLevel!==X&&c.manualLevel===-1&&this.log("Adapting to level "+X+" from level "+this.level),this.level=c.nextLoadLevel=X;var me=J.details;if(!me||this.state===Xs||me.live&&this.levelLastLoaded!==X)return this.level=X,void(this.state=Xs);var be=ee.len,Te=this.getMaxBufferLength(J.maxBitrate);if(!(be>=Te)){this.backtrackFragment&&this.backtrackFragment.start>ee.end&&(this.backtrackFragment=null);var Re=this.backtrackFragment?this.backtrackFragment.start:ee.end,ye=this.getNextFragment(Re,me);if(this.couldBacktrack&&!this.fragPrevious&&ye&&ye.sn!=="initSegment"&&this.fragmentTracker.getState(ye)!==pi){var ke,$e=((ke=this.backtrackFragment)!=null?ke:ye).sn-me.startSN,He=me.fragments[$e-1];He&&ye.cc===He.cc&&(ye=He,this.fragmentTracker.removeFragment(He))}else this.backtrackFragment&&ee.len&&(this.backtrackFragment=null);if(ye&&this.isLoopLoading(ye,Re)){if(!ye.gap){var Ze=this.audioOnly&&!this.altAudio?Y:z,lt=(Ze===z?this.videoBuffer:this.mediaBuffer)||this.media;lt&&this.afterBufferFlushed(lt,Ze,vr)}ye=this.getNextFragmentLoopLoading(ye,me,ee,vr,Te)}ye&&(!ye.initSegment||ye.initSegment.data||this.bitrateTest||(ye=ye.initSegment),this.loadFragment(ye,J,Re))}}}},o.loadFragment=function(c,b,k){var M=this.fragmentTracker.getState(c);this.fragCurrent=c,M===Bi||M===Wi?c.sn==="initSegment"?this._loadInitSegment(c,b):this.bitrateTest?(this.log("Fragment "+c.sn+" of level "+c.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(c,b)):(this.startFragRequested=!0,N.prototype.loadFragment.call(this,c,b,k)):this.clearTrackerIfNeeded(c)},o.getBufferedFrag=function(c){return this.fragmentTracker.getBufferedFrag(c,vr)},o.followingBufferedFrag=function(c){return c?this.getBufferedFrag(c.end+.5):null},o.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},o.nextLevelSwitch=function(){var c=this.levels,b=this.media;if(b!=null&&b.readyState){var k,M=this.getAppendedFrag(b.currentTime);M&&M.start>1&&this.flushMainBuffer(0,M.start-1);var U=this.getLevelDetails();if(U!=null&&U.live){var X=this.getMainFwdBufferInfo();if(!X||X.len<2*U.targetduration)return}if(!b.paused&&c){var J=c[this.hls.nextLoadLevel],ee=this.fragLastKbps;k=ee&&this.fragCurrent?this.fragCurrent.duration*J.maxBitrate/(1e3*ee)+1:0}else k=0;var oe=this.getBufferedFrag(b.currentTime+k);if(oe){var pe=this.followingBufferedFrag(oe);if(pe){this.abortCurrentFrag();var me=pe.maxStartPTS?pe.maxStartPTS:pe.start,be=pe.duration,Te=Math.max(oe.end,me+Math.min(Math.max(be-this.config.maxFragLookUpTolerance,.5*be),.75*be));this.flushMainBuffer(Te,Number.POSITIVE_INFINITY)}}}},o.abortCurrentFrag=function(){var c=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,c&&(c.abortRequests(),this.fragmentTracker.removeFragment(c)),this.state){case Xo:case Ws:case Li:case gn:case Xa:this.state=xr}this.nextLoadPosition=this.getLoadPosition()},o.flushMainBuffer=function(c,b){N.prototype.flushMainBuffer.call(this,c,b,this.altAudio?"video":null)},o.onMediaAttached=function(c,b){N.prototype.onMediaAttached.call(this,c,b);var k=b.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),k.addEventListener("playing",this.onvplaying),k.addEventListener("seeked",this.onvseeked),this.gapController=new ki(this.config,k,this.fragmentTracker,this.hls)},o.onMediaDetaching=function(){var c=this.media;c&&this.onvplaying&&this.onvseeked&&(c.removeEventListener("playing",this.onvplaying),c.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),N.prototype.onMediaDetaching.call(this)},o.onMediaPlaying=function(){this.tick()},o.onMediaSeeked=function(){var c=this.media,b=c?c.currentTime:null;A(b)&&this.log("Media seeked to "+b.toFixed(3));var k=this.getMainFwdBufferInfo();k!==null&&k.len!==0?this.tick():this.warn('Main forward buffer length on "seeked" event '+(k?k.len:"empty")+")")},o.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(w.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1},o.onManifestParsed=function(c,b){var k,M,U,X=!1,J=!1;b.levels.forEach(function(ee){(k=ee.audioCodec)&&(k.indexOf("mp4a.40.2")!==-1&&(X=!0),k.indexOf("mp4a.40.5")!==-1&&(J=!0))}),this.audioCodecSwitch=X&&J&&typeof((U=Ml())==null||(M=U.prototype)==null?void 0:M.changeType)!="function",this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=b.levels,this.startFragRequested=!1},o.onLevelLoading=function(c,b){var k=this.levels;if(k&&this.state===xr){var M=k[b.level];(!M.details||M.details.live&&this.levelLastLoaded!==b.level||this.waitForCdnTuneIn(M.details))&&(this.state=Xs)}},o.onLevelLoaded=function(c,b){var k,M=this.levels,U=b.level,X=b.details,J=X.totalduration;if(M){this.log("Level "+U+" loaded ["+X.startSN+","+X.endSN+"]"+(X.lastPartSn?"[part-"+X.lastPartSn+"-"+X.lastPartIndex+"]":"")+", cc ["+X.startCC+", "+X.endCC+"] duration:"+J);var ee=M[U],oe=this.fragCurrent;!oe||this.state!==Ws&&this.state!==Li||oe.level===b.level&&oe.urlId===ee.urlId||!oe.loader||this.abortCurrentFrag();var pe=0;if(X.live||(k=ee.details)!=null&&k.live){if(this.checkLiveUpdate(X),X.deltaUpdateFailed)return;pe=this.alignPlaylists(X,ee.details)}if(ee.details=X,this.levelLastLoaded=U,this.hls.trigger(w.LEVEL_UPDATED,{details:X,level:U}),this.state===Xs){if(this.waitForCdnTuneIn(X))return;this.state=xr}this.startFragRequested?X.live&&this.synchronizeToLiveEdge(X):this.setStartPosition(X,pe),this.tick()}else this.warn("Levels were reset while loading level "+U)},o._handleFragmentLoadProgress=function(c){var b,k=c.frag,M=c.part,U=c.payload,X=this.levels;if(X){var J=X[k.level],ee=J.details;if(!ee)return this.warn("Dropping fragment "+k.sn+" of level "+k.level+" after level details were reset"),void this.fragmentTracker.removeFragment(k);var oe=J.videoCodec,pe=ee.PTSKnown||!ee.live,me=(b=k.initSegment)==null?void 0:b.data,be=this._getAudioCodec(J),Te=this.transmuxer=this.transmuxer||new Bl(this.hls,vr,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Re=M?M.index:-1,ye=Re!==-1,ke=new hi(k.level,k.sn,k.stats.chunkCount,U.byteLength,Re,ye),$e=this.initPTS[k.cc];Te.push(U,me,be,oe,k,M,ee.totalduration,pe,ke,$e)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+k.sn+" of level "+k.level+" will not be buffered")},o.onAudioTrackSwitching=function(c,b){var k=this.altAudio;if(!b.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var M=this.fragCurrent;M&&(this.log("Switching to main audio track, cancel main fragment load"),M.abortRequests(),this.fragmentTracker.removeFragment(M)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var U=this.hls;k&&(U.trigger(w.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),U.trigger(w.AUDIO_TRACK_SWITCHED,b)}},o.onAudioTrackSwitched=function(c,b){var k=b.id,M=!!this.hls.audioTracks[k].url;if(M){var U=this.videoBuffer;U&&this.mediaBuffer!==U&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=U)}this.altAudio=M,this.tick()},o.onBufferCreated=function(c,b){var k,M,U=b.tracks,X=!1;for(var J in U){var ee=U[J];if(ee.id==="main"){if(M=J,k=ee,J==="video"){var oe=U[J];oe&&(this.videoBuffer=oe.buffer)}}else X=!0}X&&k?(this.log("Alternate track found, use "+M+".buffered to schedule main fragment loading"),this.mediaBuffer=k.buffer):this.mediaBuffer=this.media},o.onFragBuffered=function(c,b){var k=b.frag,M=b.part;if(!k||k.type===vr){if(this.fragContextChanged(k))return this.warn("Fragment "+k.sn+(M?" p: "+M.index:"")+" of level "+k.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Xa&&(this.state=xr));var U=M?M.stats:k.stats;this.fragLastKbps=Math.round(8*U.total/(U.buffering.end-U.loading.first)),k.sn!=="initSegment"&&(this.fragPrevious=k),this.fragBufferedComplete(k,M)}},o.onError=function(c,b){var k;if(b.fatal)this.state=Sa;else switch(b.details){case D.FRAG_GAP:case D.FRAG_PARSING_ERROR:case D.FRAG_DECRYPT_ERROR:case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(vr,b);break;case D.LEVEL_LOAD_ERROR:case D.LEVEL_LOAD_TIMEOUT:case D.LEVEL_PARSING_ERROR:b.levelRetry||this.state!==Xs||((k=b.context)==null?void 0:k.type)!==Fi||(this.state=xr);break;case D.BUFFER_FULL_ERROR:if(!b.parent||b.parent!=="main")return;this.reduceLengthAndFlushBuffer(b)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case D.INTERNAL_EXCEPTION:this.recoverWorkerError(b)}},o.checkBuffer=function(){var c=this.media,b=this.gapController;if(c&&b&&c.readyState){if(this.loadedmetadata||!fr.getBuffered(c).length){var k=this.state!==xr?this.fragCurrent:null;b.poll(this.lastCurrentTime,k)}this.lastCurrentTime=c.currentTime}},o.onFragLoadEmergencyAborted=function(){this.state=xr,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},o.onBufferFlushed=function(c,b){var k=b.type;if(k!==Y||this.audioOnly&&!this.altAudio){var M=(k===z?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(M,k,vr)}},o.onLevelsUpdated=function(c,b){this.levels=b.levels},o.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},o.seekToStartPos=function(){var c=this.media;if(c){var b=c.currentTime,k=this.startPosition;if(k>=0&&b<k){if(c.seeking)return void this.log("could not seek to "+k+", already seeking at "+b);var M=fr.getBuffered(c),U=(M.length?M.start(0):0)-k;U>0&&(U<this.config.maxBufferHole||U<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+U+" to match buffer start"),k+=U,this.startPosition=k),this.log("seek to target start position "+k+" from current time "+b),c.currentTime=k}}},o._getAudioCodec=function(c){var b=this.config.defaultAudioCodec||c.audioCodec;return this.audioCodecSwap&&b&&(this.log("Swapping audio codec"),b=b.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),b},o._loadBitrateTestFrag=function(c,b){var k=this;c.bitrateTest=!0,this._doFragLoad(c,b).then(function(M){var U=k.hls;if(M&&!k.fragContextChanged(c)){b.fragmentError=0,k.state=xr,k.startFragRequested=!1,k.bitrateTest=!1;var X=c.stats;X.parsing.start=X.parsing.end=X.buffering.start=X.buffering.end=self.performance.now(),U.trigger(w.FRAG_LOADED,M),c.bitrateTest=!1}})},o._handleTransmuxComplete=function(c){var b,k="main",M=this.hls,U=c.remuxResult,X=c.chunkMeta,J=this.getCurrentContext(X);if(J){var ee=J.frag,oe=J.part,pe=J.level,me=U.video,be=U.text,Te=U.id3,Re=U.initSegment,ye=pe.details,ke=this.altAudio?void 0:U.audio;if(this.fragContextChanged(ee))this.fragmentTracker.removeFragment(ee);else{if(this.state=gn,Re){if(Re!=null&&Re.tracks){var $e=ee.initSegment||ee;this._bufferInitSegment(pe,Re.tracks,$e,X),M.trigger(w.FRAG_PARSING_INIT_SEGMENT,{frag:$e,id:k,tracks:Re.tracks})}var He=Re.initPTS,Ze=Re.timescale;A(He)&&(this.initPTS[ee.cc]={baseTime:He,timescale:Ze},M.trigger(w.INIT_PTS_FOUND,{frag:ee,id:k,initPTS:He,timescale:Ze}))}if(me&&ye&&ee.sn!=="initSegment"){var lt=ye.fragments[ee.sn-1-ye.startSN],ct=ee.sn===ye.startSN,wt=!lt||ee.cc>lt.cc;if(U.independent!==!1){var dt=me.startPTS,gt=me.endPTS,Pt=me.startDTS,St=me.endDTS;if(oe)oe.elementaryStreams[me.type]={startPTS:dt,endPTS:gt,startDTS:Pt,endDTS:St};else if(me.firstKeyFrame&&me.independent&&X.id===1&&!wt&&(this.couldBacktrack=!0),me.dropped&&me.independent){var Wt=this.getMainFwdBufferInfo(),Qt=(Wt?Wt.end:this.getLoadPosition())+this.config.maxBufferHole,Vt=me.firstKeyFramePTS?me.firstKeyFramePTS:dt;if(!ct&&Qt<Vt-this.config.maxBufferHole&&!wt)return void this.backtrack(ee);wt&&(ee.gap=!0),ee.setElementaryStreamInfo(me.type,ee.start,gt,ee.start,St,!0)}ee.setElementaryStreamInfo(me.type,dt,gt,Pt,St),this.backtrackFragment&&(this.backtrackFragment=ee),this.bufferFragmentData(me,ee,oe,X,ct||wt)}else{if(!ct&&!wt)return void this.backtrack(ee);ee.gap=!0}}if(ke){var Gt=ke.startPTS,Jt=ke.endPTS,Kt=ke.startDTS,Ct=ke.endDTS;oe&&(oe.elementaryStreams[Y]={startPTS:Gt,endPTS:Jt,startDTS:Kt,endDTS:Ct}),ee.setElementaryStreamInfo(Y,Gt,Jt,Kt,Ct),this.bufferFragmentData(ke,ee,oe,X)}if(ye&&Te!=null&&(b=Te.samples)!=null&&b.length){var wr={id:k,frag:ee,details:ye,samples:Te.samples};M.trigger(w.FRAG_PARSING_METADATA,wr)}if(ye&&be){var Rr={id:k,frag:ee,details:ye,samples:be.samples};M.trigger(w.FRAG_PARSING_USERDATA,Rr)}}}else this.resetWhenMissingContext(X)},o._bufferInitSegment=function(c,b,k,M){var U=this;if(this.state===gn){this.audioOnly=!!b.audio&&!b.video,this.altAudio&&!this.audioOnly&&delete b.audio;var X=b.audio,J=b.video,ee=b.audiovideo;if(X){var oe=c.audioCodec,pe=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(oe&&(oe=oe.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),X.metadata.channelCount!==1&&pe.indexOf("firefox")===-1&&(oe="mp4a.40.5")),pe.indexOf("android")!==-1&&X.container!=="audio/mpeg"&&(oe="mp4a.40.2",this.log("Android: force audio codec to "+oe)),c.audioCodec&&c.audioCodec!==oe&&this.log('Swapping manifest audio codec "'+c.audioCodec+'" for "'+oe+'"'),X.levelCodec=oe,X.id="main",this.log("Init audio buffer, container:"+X.container+", codecs[selected/level/parsed]=["+(oe||"")+"/"+(c.audioCodec||"")+"/"+X.codec+"]")}J&&(J.levelCodec=c.videoCodec,J.id="main",this.log("Init video buffer, container:"+J.container+", codecs[level/parsed]=["+(c.videoCodec||"")+"/"+J.codec+"]")),ee&&this.log("Init audiovideo buffer, container:"+ee.container+", codecs[level/parsed]=["+(c.attrs.CODECS||"")+"/"+ee.codec+"]"),this.hls.trigger(w.BUFFER_CODECS,b),Object.keys(b).forEach(function(me){var be=b[me].initSegment;be!=null&&be.byteLength&&U.hls.trigger(w.BUFFER_APPENDING,{type:me,data:be,frag:k,part:null,chunkMeta:M,parent:k.type})}),this.tick()}},o.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,vr)},o.backtrack=function(c){this.couldBacktrack=!0,this.backtrackFragment=c,this.resetTransmuxer(),this.flushBufferGap(c),this.fragmentTracker.removeFragment(c),this.fragPrevious=null,this.nextLoadPosition=c.start,this.state=xr},o.checkFragmentChanged=function(){var c=this.media,b=null;if(c&&c.readyState>1&&c.seeking===!1){var k=c.currentTime;if(fr.isBuffered(c,k)?b=this.getAppendedFrag(k):fr.isBuffered(c,k+.1)&&(b=this.getAppendedFrag(k+.1)),b){this.backtrackFragment=null;var M=this.fragPlaying,U=b.level;M&&b.sn===M.sn&&M.level===U&&b.urlId===M.urlId||(this.fragPlaying=b,this.hls.trigger(w.FRAG_CHANGED,{frag:b}),M&&M.level===U||this.hls.trigger(w.LEVEL_SWITCHED,{level:U}))}}},h(R,[{key:"nextLevel",get:function(){var c=this.nextBufferedFrag;return c?c.level:-1}},{key:"currentFrag",get:function(){var c=this.media;return c?this.fragPlaying||this.getAppendedFrag(c.currentTime):null}},{key:"currentProgramDateTime",get:function(){var c=this.media;if(c){var b=c.currentTime,k=this.currentFrag;if(k&&A(b)&&A(k.programDateTime)){var M=k.programDateTime+1e3*(b-k.start);return new Date(M)}}return null}},{key:"currentLevel",get:function(){var c=this.currentFrag;return c?c.level:-1}},{key:"nextBufferedFrag",get:function(){var c=this.currentFrag;return c?this.followingBufferedFrag(c):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),R}(Go),Ia=function(){function N(o,c,b){c===void 0&&(c=0),b===void 0&&(b=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=o,this.alpha_=o?Math.exp(Math.log(.5)/o):0,this.estimate_=c,this.totalWeight_=b}var R=N.prototype;return R.sample=function(o,c){var b=Math.pow(this.alpha_,o);this.estimate_=c*(1-b)+b*this.estimate_,this.totalWeight_+=o},R.getTotalWeight=function(){return this.totalWeight_},R.getEstimate=function(){if(this.alpha_){var o=1-Math.pow(this.alpha_,this.totalWeight_);if(o)return this.estimate_/o}return this.estimate_},N}(),rh=function(){function N(o,c,b,k){k===void 0&&(k=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=b,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ia(o),this.fast_=new Ia(c),this.defaultTTFB_=k,this.ttfb_=new Ia(o)}var R=N.prototype;return R.update=function(o,c){var b=this.slow_,k=this.fast_,M=this.ttfb_;b.halfLife!==o&&(this.slow_=new Ia(o,b.getEstimate(),b.getTotalWeight())),k.halfLife!==c&&(this.fast_=new Ia(c,k.getEstimate(),k.getTotalWeight())),M.halfLife!==o&&(this.ttfb_=new Ia(o,M.getEstimate(),M.getTotalWeight()))},R.sample=function(o,c){var b=(o=Math.max(o,this.minDelayMs_))/1e3,k=8*c/b;this.fast_.sample(b,k),this.slow_.sample(b,k)},R.sampleTTFB=function(o){var c=o/1e3,b=Math.sqrt(2)*Math.exp(-Math.pow(c,2)/2);this.ttfb_.sample(b,Math.max(o,5))},R.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},R.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},R.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},R.destroy=function(){},N}(),Ul=function(){function N(o){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=o;var c=o.config;this.bwEstimator=new rh(c.abrEwmaSlowVoD,c.abrEwmaFastVoD,c.abrEwmaDefaultEstimate),this.registerListeners()}var R=N.prototype;return R.registerListeners=function(){var o=this.hls;o.on(w.FRAG_LOADING,this.onFragLoading,this),o.on(w.FRAG_LOADED,this.onFragLoaded,this),o.on(w.FRAG_BUFFERED,this.onFragBuffered,this),o.on(w.LEVEL_SWITCHING,this.onLevelSwitching,this),o.on(w.LEVEL_LOADED,this.onLevelLoaded,this)},R.unregisterListeners=function(){var o=this.hls;o.off(w.FRAG_LOADING,this.onFragLoading,this),o.off(w.FRAG_LOADED,this.onFragLoaded,this),o.off(w.FRAG_BUFFERED,this.onFragBuffered,this),o.off(w.LEVEL_SWITCHING,this.onLevelSwitching,this),o.off(w.LEVEL_LOADED,this.onLevelLoaded,this)},R.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},R.onFragLoading=function(o,c){var b,k=c.frag;this.ignoreFragment(k)||(this.fragCurrent=k,this.partCurrent=(b=c.part)!=null?b:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))},R.onLevelSwitching=function(o,c){this.clearTimer()},R.getTimeToLoadFrag=function(o,c,b,k){return o+b/c+(k?this.lastLevelLoadSec:0)},R.onLevelLoaded=function(o,c){var b=this.hls.config,k=c.stats,M=k.total,U=k.bwEstimate;A(M)&&A(U)&&(this.lastLevelLoadSec=8*M/U),c.details.live?this.bwEstimator.update(b.abrEwmaSlowLive,b.abrEwmaFastLive):this.bwEstimator.update(b.abrEwmaSlowVoD,b.abrEwmaFastVoD)},R._abandonRulesCheck=function(){var o=this.fragCurrent,c=this.partCurrent,b=this.hls,k=b.autoLevelEnabled,M=b.media;if(o&&M){var U=performance.now(),X=c?c.stats:o.stats,J=c?c.duration:o.duration,ee=U-X.loading.start;if(X.aborted||X.loaded&&X.loaded===X.total||o.level===0)return this.clearTimer(),void(this._nextAutoLevel=-1);if(k&&!M.paused&&M.playbackRate&&M.readyState){var oe=b.mainForwardBufferInfo;if(oe!==null){var pe=this.bwEstimator.getEstimateTTFB(),me=Math.abs(M.playbackRate);if(!(ee<=Math.max(pe,J/(2*me)*1e3))){var be=oe.len/me;if(!(be>=2*J/me)){var Te=X.loading.first?X.loading.first-X.loading.start:-1,Re=X.loaded&&Te>-1,ye=this.bwEstimator.getEstimate(),ke=b.levels,$e=b.minAutoLevel,He=ke[o.level],Ze=X.total||Math.max(X.loaded,Math.round(J*He.maxBitrate/8)),lt=ee-Te;lt<1&&Re&&(lt=Math.min(ee,8*X.loaded/ye));var ct=Re?1e3*X.loaded/lt:0,wt=ct?(Ze-X.loaded)/ct:8*Ze/ye+pe/1e3;if(!(wt<=be)){var dt,gt=ct?8*ct:ye,Pt=Number.POSITIVE_INFINITY;for(dt=o.level-1;dt>$e;dt--){var St=ke[dt].maxBitrate;if((Pt=this.getTimeToLoadFrag(pe/1e3,gt,J*St,!ke[dt].details))<be)break}Pt>=wt||Pt>10*J||(b.nextLoadLevel=dt,Re?this.bwEstimator.sample(ee-Math.min(pe,Te),X.loaded):this.bwEstimator.sampleTTFB(ee),this.clearTimer(),W.warn("[abr] Fragment "+o.sn+(c?" part "+c.index:"")+" of level "+o.level+` is loading too slowly;
      Time to underbuffer: `+be.toFixed(3)+` s
      Estimated load time for current fragment: `+wt.toFixed(3)+` s
      Estimated load time for down switch fragment: `+Pt.toFixed(3)+` s
      TTFB estimate: `+Te+`
      Current BW estimate: `+(A(ye)?(ye/1024).toFixed(3):"Unknown")+` Kb/s
      New BW estimate: `+(this.bwEstimator.getEstimate()/1024).toFixed(3)+` Kb/s
      Aborting and switching to level `+dt),o.loader&&(this.fragCurrent=this.partCurrent=null,o.abortRequests()),b.trigger(w.FRAG_LOAD_EMERGENCY_ABORTED,{frag:o,part:c,stats:X}))}}}}}}},R.onFragLoaded=function(o,c){var b=c.frag,k=c.part,M=k?k.stats:b.stats;if(b.type===vr&&this.bwEstimator.sampleTTFB(M.loading.first-M.loading.start),!this.ignoreFragment(b)){if(this.clearTimer(),this.lastLoadedFragLevel=b.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var U=k?k.duration:b.duration,X=this.hls.levels[b.level],J=(X.loaded?X.loaded.bytes:0)+M.loaded,ee=(X.loaded?X.loaded.duration:0)+U;X.loaded={bytes:J,duration:ee},X.realBitrate=Math.round(8*J/ee)}if(b.bitrateTest){var oe={stats:M,frag:b,part:k,id:b.type};this.onFragBuffered(w.FRAG_BUFFERED,oe),b.bitrateTest=!1}}},R.onFragBuffered=function(o,c){var b=c.frag,k=c.part,M=k!=null&&k.stats.loaded?k.stats:b.stats;if(!M.aborted&&!this.ignoreFragment(b)){var U=M.parsing.end-M.loading.start-Math.min(M.loading.first-M.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(U,M.loaded),M.bwEstimate=this.bwEstimator.getEstimate(),b.bitrateTest?this.bitrateTestDelay=U/1e3:this.bitrateTestDelay=0}},R.ignoreFragment=function(o){return o.type!==vr||o.sn==="initSegment"},R.clearTimer=function(){self.clearInterval(this.timer)},R.getNextABRAutoLevel=function(){var o=this.fragCurrent,c=this.partCurrent,b=this.hls,k=b.maxAutoLevel,M=b.config,U=b.minAutoLevel,X=b.media,J=c?c.duration:o?o.duration:0,ee=X&&X.playbackRate!==0?Math.abs(X.playbackRate):1,oe=this.bwEstimator?this.bwEstimator.getEstimate():M.abrEwmaDefaultEstimate,pe=b.mainForwardBufferInfo,me=(pe?pe.len:0)/ee,be=this.findBestLevel(oe,U,k,me,M.abrBandWidthFactor,M.abrBandWidthUpFactor);if(be>=0)return be;W.trace("[abr] "+(me?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var Te=J?Math.min(J,M.maxStarvationDelay):M.maxStarvationDelay,Re=M.abrBandWidthFactor,ye=M.abrBandWidthUpFactor;if(!me){var ke=this.bitrateTestDelay;ke&&(Te=(J?Math.min(J,M.maxLoadingDelay):M.maxLoadingDelay)-ke,W.trace("[abr] bitrate test took "+Math.round(1e3*ke)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*Te)+" ms"),Re=ye=1)}return be=this.findBestLevel(oe,U,k,me+Te,Re,ye),Math.max(be,0)},R.findBestLevel=function(o,c,b,k,M,U){for(var X,J=this.fragCurrent,ee=this.partCurrent,oe=this.lastLoadedFragLevel,pe=this.hls.levels,me=pe[oe],be=!(me==null||(X=me.details)==null||!X.live),Te=me==null?void 0:me.codecSet,Re=ee?ee.duration:J?J.duration:0,ye=this.bwEstimator.getEstimateTTFB()/1e3,ke=c,$e=-1,He=b;He>=c;He--){var Ze=pe[He];if(!Ze||Te&&Ze.codecSet!==Te)Ze&&(ke=Math.min(He,ke),$e=Math.max(He,$e));else{$e!==-1&&W.trace("[abr] Skipped level(s) "+ke+"-"+$e+' with CODECS:"'+pe[$e].attrs.CODECS+'"; not compatible with "'+me.attrs.CODECS+'"');var lt=Ze.details,ct=(ee?lt==null?void 0:lt.partTarget:lt==null?void 0:lt.averagetargetduration)||Re,wt=void 0;wt=He<=oe?M*o:U*o;var dt=pe[He].maxBitrate,gt=this.getTimeToLoadFrag(ye,wt,dt*ct,lt===void 0);if(W.trace("[abr] level:"+He+" adjustedbw-bitrate:"+Math.round(wt-dt)+" avgDuration:"+ct.toFixed(1)+" maxFetchDuration:"+k.toFixed(1)+" fetchDuration:"+gt.toFixed(1)),wt>dt&&(gt===0||!A(gt)||be&&!this.bitrateTestDelay||gt<k))return He}}return-1},h(N,[{key:"nextAutoLevel",get:function(){var o=this._nextAutoLevel,c=this.bwEstimator;if(o!==-1&&!c.canEstimate())return o;var b=this.getNextABRAutoLevel();if(o!==-1){var k=this.hls.levels;if(k.length>Math.max(o,b)&&k[o].loadError<=k[b].loadError)return o}return o!==-1&&(b=Math.min(o,b)),b},set:function(o){this._nextAutoLevel=o}}]),N}(),jl=function(){function N(){this.chunks=[],this.dataLength=0}var R=N.prototype;return R.push=function(o){this.chunks.push(o),this.dataLength+=o.length},R.flush=function(){var o,c=this.chunks,b=this.dataLength;return c.length?(o=c.length===1?c[0]:function(k,M){for(var U=new Uint8Array(M),X=0,J=0;J<k.length;J++){var ee=k[J];U.set(ee,X),X+=ee.length}return U}(c,b),this.reset(),o):new Uint8Array(0)},R.reset=function(){this.chunks.length=0,this.dataLength=0},N}(),rl=function(N){function R(c,b,k){var M;return(M=N.call(this,c,b,k,"[audio-stream-controller]",Zi)||this).videoBuffer=null,M.videoTrackCC=-1,M.waitingVideoCC=-1,M.bufferedTrack=null,M.switchingTrack=null,M.trackId=-1,M.waitingData=null,M.mainDetails=null,M.bufferFlushed=!1,M.cachedTrackLoadedData=null,M._registerListeners(),M}i(R,N);var o=R.prototype;return o.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null},o._registerListeners=function(){var c=this.hls;c.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.on(w.MANIFEST_LOADING,this.onManifestLoading,this),c.on(w.LEVEL_LOADED,this.onLevelLoaded,this),c.on(w.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),c.on(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),c.on(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),c.on(w.ERROR,this.onError,this),c.on(w.BUFFER_RESET,this.onBufferReset,this),c.on(w.BUFFER_CREATED,this.onBufferCreated,this),c.on(w.BUFFER_FLUSHED,this.onBufferFlushed,this),c.on(w.INIT_PTS_FOUND,this.onInitPtsFound,this),c.on(w.FRAG_BUFFERED,this.onFragBuffered,this)},o._unregisterListeners=function(){var c=this.hls;c.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.off(w.MANIFEST_LOADING,this.onManifestLoading,this),c.off(w.LEVEL_LOADED,this.onLevelLoaded,this),c.off(w.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),c.off(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),c.off(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),c.off(w.ERROR,this.onError,this),c.off(w.BUFFER_RESET,this.onBufferReset,this),c.off(w.BUFFER_CREATED,this.onBufferCreated,this),c.off(w.BUFFER_FLUSHED,this.onBufferFlushed,this),c.off(w.INIT_PTS_FOUND,this.onInitPtsFound,this),c.off(w.FRAG_BUFFERED,this.onFragBuffered,this)},o.onInitPtsFound=function(c,b){var k=b.frag,M=b.id,U=b.initPTS,X=b.timescale;if(M==="main"){var J=k.cc;this.initPTS[k.cc]={baseTime:U,timescale:X},this.log("InitPTS for cc: "+J+" found from main: "+U),this.videoTrackCC=J,this.state===Ga&&this.tick()}},o.startLoad=function(c){if(!this.levels)return this.startPosition=c,void(this.state=Ti);var b=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),b>0&&c===-1?(this.log("Override startPosition with lastCurrentTime @"+b.toFixed(3)),c=b,this.state=xr):(this.loadedmetadata=!1,this.state=Vs),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=c,this.tick()},o.doTick=function(){switch(this.state){case xr:this.doTickIdle();break;case Vs:var c,b=this.levels,k=this.trackId,M=b==null||(c=b[k])==null?void 0:c.details;if(M){if(this.waitForCdnTuneIn(M))break;this.state=Ga}break;case Li:var U,X=performance.now(),J=this.retryDate;(!J||X>=J||(U=this.media)!=null&&U.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=xr);break;case Ga:var ee=this.waitingData;if(ee){var oe=ee.frag,pe=ee.part,me=ee.cache,be=ee.complete;if(this.initPTS[oe.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=Ws;var Te={frag:oe,part:pe,payload:me.flush(),networkDetails:null};this._handleFragmentLoadProgress(Te),be&&N.prototype._handleFragmentLoadComplete.call(this,Te)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+oe.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var Re=this.getLoadPosition(),ye=fr.bufferInfo(this.mediaBuffer,Re,this.config.maxBufferHole);je(ye.end,this.config.maxFragLookUpTolerance,oe)<0&&(this.log("Waiting fragment cc ("+oe.cc+") @ "+oe.start+" cancelled because another fragment at "+ye.end+" is needed"),this.clearWaitingFragment())}}else this.state=xr}this.onTickEnd()},o.clearWaitingFragment=function(){var c=this.waitingData;c&&(this.fragmentTracker.removeFragment(c.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=xr)},o.resetLoadingState=function(){this.clearWaitingFragment(),N.prototype.resetLoadingState.call(this)},o.onTickEnd=function(){var c=this.media;c!=null&&c.readyState&&(this.lastCurrentTime=c.currentTime)},o.doTickIdle=function(){var c=this.hls,b=this.levels,k=this.media,M=this.trackId,U=c.config;if(b!=null&&b[M]&&(k||!this.startFragRequested&&U.startFragPrefetch)){var X=b[M],J=X.details;if(!J||J.live&&this.levelLastLoaded!==M||this.waitForCdnTuneIn(J))this.state=Vs;else{var ee=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&ee&&(this.bufferFlushed=!1,this.afterBufferFlushed(ee,Y,Zi));var oe=this.getFwdBufferInfo(ee,Zi);if(oe!==null){var pe=this.bufferedTrack,me=this.switchingTrack;if(!me&&this._streamEnded(oe,J))return c.trigger(w.BUFFER_EOS,{type:"audio"}),void(this.state=Ta);var be=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,vr),Te=oe.len,Re=this.getMaxBufferLength(be==null?void 0:be.len);if(!(Te>=Re)||me){var ye=J.fragments[0].start,ke=oe.end;if(me&&k){var $e=this.getLoadPosition();pe&&me.attrs!==pe.attrs&&(ke=$e),J.PTSKnown&&$e<ye&&(oe.end>ye||oe.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),k.currentTime=ye+.05)}var He=this.getNextFragment(ke,J),Ze=!1;if(He&&this.isLoopLoading(He,ke)&&(Ze=!!He.gap,He=this.getNextFragmentLoopLoading(He,J,oe,vr,Re)),He){var lt=be&&He.start>be.end+J.targetduration;if(lt||(be==null||!be.len)&&oe.len){var ct=this.getAppendedFrag(He.start,vr);if(ct===null||(Ze||(Ze=!!ct.gap||!!lt&&be.len===0),lt&&!Ze||Ze&&oe.nextStart&&oe.nextStart<ct.end))return}this.loadFragment(He,X,ke)}else this.bufferFlushed=!0}}}}},o.getMaxBufferLength=function(c){var b=N.prototype.getMaxBufferLength.call(this);return c?Math.min(Math.max(b,c),this.config.maxMaxBufferLength):b},o.onMediaDetaching=function(){this.videoBuffer=null,N.prototype.onMediaDetaching.call(this)},o.onAudioTracksUpdated=function(c,b){var k=b.audioTracks;this.resetTransmuxer(),this.levels=k.map(function(M){return new $i(M)})},o.onAudioTrackSwitching=function(c,b){var k=!!b.url;this.trackId=b.id;var M=this.fragCurrent;M&&(M.abortRequests(),this.removeUnbufferedFrags(M.start)),this.resetLoadingState(),k?this.setInterval(100):this.resetTransmuxer(),k?(this.switchingTrack=b,this.state=xr):(this.switchingTrack=null,this.bufferedTrack=b,this.state=Ti),this.tick()},o.onManifestLoading=function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1},o.onLevelLoaded=function(c,b){this.mainDetails=b.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(w.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},o.onAudioTrackLoaded=function(c,b){var k;if(this.mainDetails!=null){var M=this.levels,U=b.details,X=b.id;if(M){this.log("Track "+X+" loaded ["+U.startSN+","+U.endSN+"]"+(U.lastPartSn?"[part-"+U.lastPartSn+"-"+U.lastPartIndex+"]":"")+",duration:"+U.totalduration);var J=M[X],ee=0;if(U.live||(k=J.details)!=null&&k.live){this.checkLiveUpdate(U);var oe=this.mainDetails;if(U.deltaUpdateFailed||!oe)return;!J.details&&U.hasProgramDateTime&&oe.hasProgramDateTime?(Vi(U,oe),ee=U.fragments[0].start):ee=this.alignPlaylists(U,J.details)}J.details=U,this.levelLastLoaded=X,this.startFragRequested||!this.mainDetails&&U.live||this.setStartPosition(J.details,ee),this.state!==Vs||this.waitForCdnTuneIn(U)||(this.state=xr),this.tick()}else this.warn("Audio tracks were reset while loading level "+X)}else this.cachedTrackLoadedData=b},o._handleFragmentLoadProgress=function(c){var b,k=c.frag,M=c.part,U=c.payload,X=this.config,J=this.trackId,ee=this.levels;if(ee){var oe=ee[J];if(oe){var pe=oe.details;if(!pe)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(k.start);var me=X.defaultAudioCodec||oe.audioCodec||"mp4a.40.2",be=this.transmuxer;be||(be=this.transmuxer=new Bl(this.hls,Zi,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var Te=this.initPTS[k.cc],Re=(b=k.initSegment)==null?void 0:b.data;if(Te!==void 0){var ye=M?M.index:-1,ke=ye!==-1,$e=new hi(k.level,k.sn,k.stats.chunkCount,U.byteLength,ye,ke);be.push(U,Re,me,"",k,M,pe.totalduration,!1,$e,Te)}else this.log("Unknown video PTS for cc "+k.cc+", waiting for video PTS before demuxing audio frag "+k.sn+" of ["+pe.startSN+" ,"+pe.endSN+"],track "+J),(this.waitingData=this.waitingData||{frag:k,part:M,cache:new jl,complete:!1}).cache.push(new Uint8Array(U)),this.waitingVideoCC=this.videoTrackCC,this.state=Ga}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+k.sn+" of level "+k.level+" will not be buffered")},o._handleFragmentLoadComplete=function(c){this.waitingData?this.waitingData.complete=!0:N.prototype._handleFragmentLoadComplete.call(this,c)},o.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},o.onBufferCreated=function(c,b){var k=b.tracks.audio;k&&(this.mediaBuffer=k.buffer||null),b.tracks.video&&(this.videoBuffer=b.tracks.video.buffer||null)},o.onFragBuffered=function(c,b){var k=b.frag,M=b.part;if(k.type===Zi)if(this.fragContextChanged(k))this.warn("Fragment "+k.sn+(M?" p: "+M.index:"")+" of level "+k.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:"false"));else{if(k.sn!=="initSegment"){this.fragPrevious=k;var U=this.switchingTrack;U&&(this.bufferedTrack=U,this.switchingTrack=null,this.hls.trigger(w.AUDIO_TRACK_SWITCHED,f({},U)))}this.fragBufferedComplete(k,M)}else if(!this.loadedmetadata&&k.type===vr){var X=this.videoBuffer||this.media;X&&fr.getBuffered(X).length&&(this.loadedmetadata=!0)}},o.onError=function(c,b){var k;if(b.fatal)this.state=Sa;else switch(b.details){case D.FRAG_GAP:case D.FRAG_PARSING_ERROR:case D.FRAG_DECRYPT_ERROR:case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Zi,b);break;case D.AUDIO_TRACK_LOAD_ERROR:case D.AUDIO_TRACK_LOAD_TIMEOUT:case D.LEVEL_PARSING_ERROR:b.levelRetry||this.state!==Vs||((k=b.context)==null?void 0:k.type)!==Di||(this.state=xr);break;case D.BUFFER_FULL_ERROR:if(!b.parent||b.parent!=="audio")return;this.reduceLengthAndFlushBuffer(b)&&(this.bufferedTrack=null,N.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case D.INTERNAL_EXCEPTION:this.recoverWorkerError(b)}},o.onBufferFlushed=function(c,b){b.type===Y&&(this.bufferFlushed=!0,this.state===Ta&&(this.state=xr))},o._handleTransmuxComplete=function(c){var b,k="audio",M=this.hls,U=c.remuxResult,X=c.chunkMeta,J=this.getCurrentContext(X);if(J){var ee=J.frag,oe=J.part,pe=J.level.details,me=U.audio,be=U.text,Te=U.id3,Re=U.initSegment;if(!this.fragContextChanged(ee)&&pe){if(this.state=gn,this.switchingTrack&&me&&this.completeAudioSwitch(this.switchingTrack),Re!=null&&Re.tracks){var ye=ee.initSegment||ee;this._bufferInitSegment(Re.tracks,ye,X),M.trigger(w.FRAG_PARSING_INIT_SEGMENT,{frag:ye,id:k,tracks:Re.tracks})}if(me){var ke=me.startPTS,$e=me.endPTS,He=me.startDTS,Ze=me.endDTS;oe&&(oe.elementaryStreams[Y]={startPTS:ke,endPTS:$e,startDTS:He,endDTS:Ze}),ee.setElementaryStreamInfo(Y,ke,$e,He,Ze),this.bufferFragmentData(me,ee,oe,X)}if(Te!=null&&(b=Te.samples)!=null&&b.length){var lt=t({id:k,frag:ee,details:pe},Te);M.trigger(w.FRAG_PARSING_METADATA,lt)}if(be){var ct=t({id:k,frag:ee,details:pe},be);M.trigger(w.FRAG_PARSING_USERDATA,ct)}}else this.fragmentTracker.removeFragment(ee)}else this.resetWhenMissingContext(X)},o._bufferInitSegment=function(c,b,k){if(this.state===gn){c.video&&delete c.video;var M=c.audio;if(M){M.levelCodec=M.codec,M.id="audio",this.log("Init audio buffer, container:"+M.container+", codecs[parsed]=["+M.codec+"]"),this.hls.trigger(w.BUFFER_CODECS,c);var U=M.initSegment;if(U!=null&&U.byteLength){var X={type:"audio",frag:b,part:null,chunkMeta:k,parent:b.type,data:U};this.hls.trigger(w.BUFFER_APPENDING,X)}this.tick()}}},o.loadFragment=function(c,b,k){var M,U=this.fragmentTracker.getState(c);this.fragCurrent=c,this.switchingTrack||U===Bi||U===Wi?c.sn==="initSegment"?this._loadInitSegment(c,b):(M=b.details)!=null&&M.live&&!this.initPTS[c.cc]?(this.log("Waiting for video PTS in continuity counter "+c.cc+" of live stream before loading audio fragment "+c.sn+" of level "+this.trackId),this.state=Ga):(this.startFragRequested=!0,N.prototype.loadFragment.call(this,c,b,k)):this.clearTrackerIfNeeded(c)},o.completeAudioSwitch=function(c){var b=this.hls,k=this.media,M=this.bufferedTrack,U=M==null?void 0:M.attrs,X=c.attrs;k&&U&&(U.CHANNELS!==X.CHANNELS||U.NAME!==X.NAME||U.LANGUAGE!==X.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),N.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=c,this.switchingTrack=null,b.trigger(w.AUDIO_TRACK_SWITCHED,f({},c))},R}(Go),Ja=function(N){function R(c){var b;return(b=N.call(this,c,"[audio-track-controller]")||this).tracks=[],b.groupId=null,b.tracksInGroup=[],b.trackId=-1,b.currentTrack=null,b.selectDefaultTrack=!0,b.registerListeners(),b}i(R,N);var o=R.prototype;return o.registerListeners=function(){var c=this.hls;c.on(w.MANIFEST_LOADING,this.onManifestLoading,this),c.on(w.MANIFEST_PARSED,this.onManifestParsed,this),c.on(w.LEVEL_LOADING,this.onLevelLoading,this),c.on(w.LEVEL_SWITCHING,this.onLevelSwitching,this),c.on(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),c.on(w.ERROR,this.onError,this)},o.unregisterListeners=function(){var c=this.hls;c.off(w.MANIFEST_LOADING,this.onManifestLoading,this),c.off(w.MANIFEST_PARSED,this.onManifestParsed,this),c.off(w.LEVEL_LOADING,this.onLevelLoading,this),c.off(w.LEVEL_SWITCHING,this.onLevelSwitching,this),c.off(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),c.off(w.ERROR,this.onError,this)},o.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,N.prototype.destroy.call(this)},o.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0},o.onManifestParsed=function(c,b){this.tracks=b.audioTracks||[]},o.onAudioTrackLoaded=function(c,b){var k=b.id,M=b.groupId,U=b.details,X=this.tracksInGroup[k];if(X&&X.groupId===M){var J=X.details;X.details=b.details,this.log("audio-track "+k+' "'+X.name+'" lang:'+X.lang+" group:"+M+" loaded ["+U.startSN+"-"+U.endSN+"]"),k===this.trackId&&this.playlistLoaded(k,b,J)}else this.warn("Track with id:"+k+" and group:"+M+" not found in active group "+X.groupId)},o.onLevelLoading=function(c,b){this.switchLevel(b.level)},o.onLevelSwitching=function(c,b){this.switchLevel(b.level)},o.switchLevel=function(c){var b=this.hls.levels[c];if(b!=null&&b.audioGroupIds){var k=b.audioGroupIds[b.urlId];if(this.groupId!==k){this.groupId=k||null;var M=this.tracks.filter(function(X){return!k||X.groupId===k});this.selectDefaultTrack&&!M.some(function(X){return X.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=M;var U={audioTracks:M};this.log("Updating audio tracks, "+M.length+" track(s) found in group:"+k),this.hls.trigger(w.AUDIO_TRACKS_UPDATED,U),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}},o.onError=function(c,b){!b.fatal&&b.context&&b.context.type===Di&&b.context.id===this.trackId&&b.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(b))},o.setAudioTrack=function(c){var b=this.tracksInGroup;if(c<0||c>=b.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var k=this.currentTrack;b[this.trackId];var M=b[c],U=M.groupId,X=M.name;if(this.log("Switching to audio-track "+c+' "'+X+'" lang:'+M.lang+" group:"+U),this.trackId=c,this.currentTrack=M,this.selectDefaultTrack=!1,this.hls.trigger(w.AUDIO_TRACK_SWITCHING,f({},M)),!M.details||M.details.live){var J=this.switchParams(M.url,k==null?void 0:k.details);this.loadPlaylist(J)}}},o.selectInitialTrack=function(){var c=this.tracksInGroup,b=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(b!==-1)this.setAudioTrack(b);else{var k=new Error("No track found for running audio group-ID: "+this.groupId+" track count: "+c.length);this.warn(k.message),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:k})}},o.findTrackId=function(c){for(var b=this.tracksInGroup,k=0;k<b.length;k++){var M=b[k];if((!this.selectDefaultTrack||M.default)&&(!c||c.attrs["STABLE-RENDITION-ID"]!==void 0&&c.attrs["STABLE-RENDITION-ID"]===M.attrs["STABLE-RENDITION-ID"]||c.name===M.name&&c.lang===M.lang))return M.id}return-1},o.loadPlaylist=function(c){N.prototype.loadPlaylist.call(this);var b=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(b)){var k=b.id,M=b.groupId,U=b.url;if(c)try{U=c.addDirectives(U)}catch(X){this.warn("Could not construct new URL with HLS Delivery Directives: "+X)}this.log("loading audio-track playlist "+k+' "'+b.name+'" lang:'+b.lang+" group:"+M),this.clearTimer(),this.hls.trigger(w.AUDIO_TRACK_LOADING,{url:U,id:k,groupId:M,deliveryDirectives:c||null})}},h(R,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(c){this.selectDefaultTrack=!1,this.setAudioTrack(c)}}]),R}(vi);function Eo(N,R){if(N.length!==R.length)return!1;for(var o=0;o<N.length;o++)if(!Ma(N[o].attrs,R[o].attrs))return!1;return!0}function Ma(N,R){var o=N["STABLE-RENDITION-ID"];return o?o===R["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(function(c){return N[c]!==R[c]})}var qa=function(N){function R(c,b,k){var M;return(M=N.call(this,c,b,k,"[subtitle-stream-controller]",Hi)||this).levels=[],M.currentTrackId=-1,M.tracksBuffered=[],M.mainDetails=null,M._registerListeners(),M}i(R,N);var o=R.prototype;return o.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},o._registerListeners=function(){var c=this.hls;c.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.on(w.MANIFEST_LOADING,this.onManifestLoading,this),c.on(w.LEVEL_LOADED,this.onLevelLoaded,this),c.on(w.ERROR,this.onError,this),c.on(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),c.on(w.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),c.on(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),c.on(w.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),c.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this),c.on(w.FRAG_BUFFERED,this.onFragBuffered,this)},o._unregisterListeners=function(){var c=this.hls;c.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.off(w.MANIFEST_LOADING,this.onManifestLoading,this),c.off(w.LEVEL_LOADED,this.onLevelLoaded,this),c.off(w.ERROR,this.onError,this),c.off(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),c.off(w.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),c.off(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),c.off(w.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),c.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),c.off(w.FRAG_BUFFERED,this.onFragBuffered,this)},o.startLoad=function(c){this.stopLoad(),this.state=xr,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=c,this.tick()},o.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},o.onMediaDetaching=function(){this.tracksBuffered=[],N.prototype.onMediaDetaching.call(this)},o.onLevelLoaded=function(c,b){this.mainDetails=b.details},o.onSubtitleFragProcessed=function(c,b){var k=b.frag,M=b.success;if(this.fragPrevious=k,this.state=xr,M){var U=this.tracksBuffered[this.currentTrackId];if(U){for(var X,J=k.start,ee=0;ee<U.length;ee++)if(J>=U[ee].start&&J<=U[ee].end){X=U[ee];break}var oe=k.start+k.duration;X?X.end=oe:(X={start:J,end:oe},U.push(X)),this.fragmentTracker.fragBuffered(k)}}},o.onBufferFlushing=function(c,b){var k=b.startOffset,M=b.endOffset;if(k===0&&M!==Number.POSITIVE_INFINITY){var U=M-1;if(U<=0)return;b.endOffsetSubtitles=Math.max(0,U),this.tracksBuffered.forEach(function(X){for(var J=0;J<X.length;)if(X[J].end<=U)X.shift();else{if(!(X[J].start<U))break;X[J].start=U,J++}}),this.fragmentTracker.removeFragmentsInRange(k,U,Hi)}},o.onFragBuffered=function(c,b){var k;this.loadedmetadata||b.frag.type!==vr||(k=this.media)!=null&&k.buffered.length&&(this.loadedmetadata=!0)},o.onError=function(c,b){var k=b.frag;(k==null?void 0:k.type)===Hi&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Ti&&(this.state=xr))},o.onSubtitleTracksUpdated=function(c,b){var k=this,M=b.subtitleTracks;Eo(this.levels,M)?this.levels=M.map(function(U){return new $i(U)}):(this.tracksBuffered=[],this.levels=M.map(function(U){var X=new $i(U);return k.tracksBuffered[X.id]=[],X}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Hi),this.fragPrevious=null,this.mediaBuffer=null)},o.onSubtitleTrackSwitch=function(c,b){if(this.currentTrackId=b.id,this.levels.length&&this.currentTrackId!==-1){var k=this.levels[this.currentTrackId];k!=null&&k.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,k&&this.setInterval(500)}else this.clearInterval()},o.onSubtitleTrackLoaded=function(c,b){var k,M=b.details,U=b.id,X=this.currentTrackId,J=this.levels;if(J.length){var ee=J[X];if(!(U>=J.length||U!==X)&&ee){this.mediaBuffer=this.mediaBufferTimeRanges;var oe=0;if(M.live||(k=ee.details)!=null&&k.live){var pe=this.mainDetails;if(M.deltaUpdateFailed||!pe)return;var me=pe.fragments[0];ee.details?(oe=this.alignPlaylists(M,ee.details))===0&&me&&an(M,oe=me.start):M.hasProgramDateTime&&pe.hasProgramDateTime?(Vi(M,pe),oe=M.fragments[0].start):me&&an(M,oe=me.start)}ee.details=M,this.levelLastLoaded=U,this.startFragRequested||!this.mainDetails&&M.live||this.setStartPosition(ee.details,oe),this.tick(),M.live&&!this.fragCurrent&&this.media&&this.state===xr&&(Zn(null,M.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),ee.details=void 0))}}},o._handleFragmentLoadComplete=function(c){var b=this,k=c.frag,M=c.payload,U=k.decryptdata,X=this.hls;if(!this.fragContextChanged(k)&&M&&M.byteLength>0&&U&&U.key&&U.iv&&U.method==="AES-128"){var J=performance.now();this.decrypter.decrypt(new Uint8Array(M),U.key.buffer,U.iv.buffer).catch(function(ee){throw X.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_DECRYPT_ERROR,fatal:!1,error:ee,reason:ee.message,frag:k}),ee}).then(function(ee){var oe=performance.now();X.trigger(w.FRAG_DECRYPTED,{frag:k,payload:ee,stats:{tstart:J,tdecrypt:oe}})}).catch(function(ee){b.warn(ee.name+": "+ee.message),b.state=xr})}},o.doTick=function(){if(this.media){if(this.state===xr){var c=this.currentTrackId,b=this.levels,k=b[c];if(!b.length||!k||!k.details)return;var M=this.config,U=this.getLoadPosition(),X=fr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],U,M.maxBufferHole),J=X.end,ee=X.len,oe=this.getFwdBufferInfo(this.media,vr),pe=k.details;if(ee>this.getMaxBufferLength(oe==null?void 0:oe.len)+pe.levelTargetDuration)return;var me=pe.fragments,be=me.length,Te=pe.edge,Re=null,ye=this.fragPrevious;if(J<Te){var ke=M.maxFragLookUpTolerance,$e=J>Te-ke?0:ke;!(Re=Zn(ye,me,Math.max(me[0].start,J),$e))&&ye&&ye.start<me[0].start&&(Re=me[0])}else Re=me[be-1];if(!Re)return;if((Re=this.mapToInitFragWhenRequired(Re)).sn!=="initSegment"){var He=me[Re.sn-pe.startSN-1];He&&He.cc===Re.cc&&this.fragmentTracker.getState(He)===Bi&&(Re=He)}this.fragmentTracker.getState(Re)===Bi&&this.loadFragment(Re,k,J)}}else this.state=xr},o.getMaxBufferLength=function(c){var b=N.prototype.getMaxBufferLength.call(this);return c?Math.max(b,c):b},o.loadFragment=function(c,b,k){this.fragCurrent=c,c.sn==="initSegment"?this._loadInitSegment(c,b):(this.startFragRequested=!0,N.prototype.loadFragment.call(this,c,b,k))},h(R,[{key:"mediaBufferTimeRanges",get:function(){return new eo(this.tracksBuffered[this.currentTrackId]||[])}}]),R}(Go),eo=function(N){this.buffered=void 0;var R=function(o,c,b){if((c>>>=0)>b-1)throw new DOMException("Failed to execute '"+o+"' on 'TimeRanges': The index provided ("+c+") is greater than the maximum bound ("+b+")");return N[c][o]};this.buffered={get length(){return N.length},end:function(o){return R("end",o,N.length)},start:function(o){return R("start",o,N.length)}}},To=function(N){function R(c){var b;return(b=N.call(this,c,"[subtitle-track-controller]")||this).media=null,b.tracks=[],b.groupId=null,b.tracksInGroup=[],b.trackId=-1,b.selectDefaultTrack=!0,b.queuedDefaultTrack=-1,b.trackChangeListener=function(){return b.onTextTracksChanged()},b.asyncPollTrackChange=function(){return b.pollTrackChange(0)},b.useTextTrackPolling=!1,b.subtitlePollingInterval=-1,b._subtitleDisplay=!0,b.registerListeners(),b}i(R,N);var o=R.prototype;return o.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,N.prototype.destroy.call(this)},o.registerListeners=function(){var c=this.hls;c.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.on(w.MANIFEST_LOADING,this.onManifestLoading,this),c.on(w.MANIFEST_PARSED,this.onManifestParsed,this),c.on(w.LEVEL_LOADING,this.onLevelLoading,this),c.on(w.LEVEL_SWITCHING,this.onLevelSwitching,this),c.on(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),c.on(w.ERROR,this.onError,this)},o.unregisterListeners=function(){var c=this.hls;c.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),c.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),c.off(w.MANIFEST_LOADING,this.onManifestLoading,this),c.off(w.MANIFEST_PARSED,this.onManifestParsed,this),c.off(w.LEVEL_LOADING,this.onLevelLoading,this),c.off(w.LEVEL_SWITCHING,this.onLevelSwitching,this),c.off(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),c.off(w.ERROR,this.onError,this)},o.onMediaAttached=function(c,b){this.media=b.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},o.pollTrackChange=function(c){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,c)},o.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),ks(this.media.textTracks).forEach(function(c){rn(c)}),this.subtitleTrack=-1,this.media=null)},o.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},o.onManifestParsed=function(c,b){this.tracks=b.subtitleTracks},o.onSubtitleTrackLoaded=function(c,b){var k=b.id,M=b.details,U=this.trackId,X=this.tracksInGroup[U];if(X){var J=X.details;X.details=b.details,this.log("subtitle track "+k+" loaded ["+M.startSN+"-"+M.endSN+"]"),k===this.trackId&&this.playlistLoaded(k,b,J)}else this.warn("Invalid subtitle track id "+k)},o.onLevelLoading=function(c,b){this.switchLevel(b.level)},o.onLevelSwitching=function(c,b){this.switchLevel(b.level)},o.switchLevel=function(c){var b=this.hls.levels[c];if(b!=null&&b.textGroupIds){var k=b.textGroupIds[b.urlId],M=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==k){var U=this.tracks.filter(function(ee){return!k||ee.groupId===k});this.tracksInGroup=U;var X=this.findTrackId(M==null?void 0:M.name)||this.findTrackId();this.groupId=k||null;var J={subtitleTracks:U};this.log("Updating subtitle tracks, "+U.length+' track(s) found in "'+k+'" group-id'),this.hls.trigger(w.SUBTITLE_TRACKS_UPDATED,J),X!==-1&&this.setSubtitleTrack(X,M)}else this.shouldReloadPlaylist(M)&&this.setSubtitleTrack(this.trackId,M)}},o.findTrackId=function(c){for(var b=this.tracksInGroup,k=0;k<b.length;k++){var M=b[k];if((!this.selectDefaultTrack||M.default)&&(!c||c===M.name))return M.id}return-1},o.onError=function(c,b){!b.fatal&&b.context&&b.context.type===tn&&b.context.id===this.trackId&&b.context.groupId===this.groupId&&this.checkRetry(b)},o.loadPlaylist=function(c){N.prototype.loadPlaylist.call(this);var b=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(b)){var k=b.id,M=b.groupId,U=b.url;if(c)try{U=c.addDirectives(U)}catch(X){this.warn("Could not construct new URL with HLS Delivery Directives: "+X)}this.log("Loading subtitle playlist for id "+k),this.hls.trigger(w.SUBTITLE_TRACK_LOADING,{url:U,id:k,groupId:M,deliveryDirectives:c||null})}},o.toggleTrackModes=function(c){var b=this,k=this.media,M=this.trackId;if(k){var U=ks(k.textTracks),X=U.filter(function(oe){return oe.groupId===b.groupId});if(c===-1)[].slice.call(U).forEach(function(oe){oe.mode="disabled"});else{var J=X[M];J&&(J.mode="disabled")}var ee=X[c];ee&&(ee.mode=this.subtitleDisplay?"showing":"hidden")}},o.setSubtitleTrack=function(c,b){var k,M=this.tracksInGroup;if(this.media){if(this.trackId!==c&&this.toggleTrackModes(c),!(this.trackId===c&&(c===-1||(k=M[c])!=null&&k.details)||c<-1||c>=M.length)){this.clearTimer();var U=M[c];if(this.log("Switching to subtitle-track "+c+(U?' "'+U.name+'" lang:'+U.lang+" group:"+U.groupId:"")),this.trackId=c,U){var X=U.id,J=U.groupId,ee=J===void 0?"":J,oe=U.name,pe=U.type,me=U.url;this.hls.trigger(w.SUBTITLE_TRACK_SWITCH,{id:X,groupId:ee,name:oe,type:pe,url:me});var be=this.switchParams(U.url,b==null?void 0:b.details);this.loadPlaylist(be)}else this.hls.trigger(w.SUBTITLE_TRACK_SWITCH,{id:c})}}else this.queuedDefaultTrack=c},o.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var c=-1,b=ks(this.media.textTracks),k=0;k<b.length;k++)if(b[k].mode==="hidden")c=k;else if(b[k].mode==="showing"){c=k;break}this.subtitleTrack!==c&&(this.subtitleTrack=c)}},h(R,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(c){this._subtitleDisplay=c,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(c){this.selectDefaultTrack=!1;var b=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(c,b)}}]),R}(vi);function ks(N){for(var R=[],o=0;o<N.length;o++){var c=N[o];c.kind!=="subtitles"&&c.kind!=="captions"||!c.label||R.push(N[o])}return R}var ih=function(){function N(o){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=o}var R=N.prototype;return R.append=function(o,c){var b=this.queues[c];b.push(o),b.length===1&&this.buffers[c]&&this.executeNext(c)},R.insertAbort=function(o,c){this.queues[c].unshift(o),this.executeNext(c)},R.appendBlocker=function(o){var c,b=new Promise(function(M){c=M}),k={execute:c,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(k,o),b},R.executeNext=function(o){var c=this.buffers,b=this.queues,k=c[o],M=b[o];if(M.length){var U=M[0];try{U.execute()}catch(X){W.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),U.onError(X),k!=null&&k.updating||(M.shift(),this.executeNext(o))}}},R.shiftAndExecuteNext=function(o){this.queues[o].shift(),this.executeNext(o)},R.current=function(o){return this.queues[o][0]},N}(),zl=nr(),Hl=/([ha]vc.)(?:\.[^.,]+)+/,nh=function(){function N(o){var c=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var b=c.media,k=c.mediaSource;W.log("[buffer-controller]: Media source opened"),b&&(b.removeEventListener("emptied",c._onMediaEmptied),c.updateMediaElementDuration(),c.hls.trigger(w.MEDIA_ATTACHED,{media:b})),k&&k.removeEventListener("sourceopen",c._onMediaSourceOpen),c.checkPendingTracks()},this._onMediaSourceClose=function(){W.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){W.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var b=c.media,k=c._objectUrl;b&&b.src!==k&&W.error("Media element src was set while attaching MediaSource ("+k+" > "+b.src+")")},this.hls=o,this._initSourceBuffer(),this.registerListeners()}var R=N.prototype;return R.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},R.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},R.registerListeners=function(){var o=this.hls;o.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this),o.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),o.on(w.MANIFEST_LOADING,this.onManifestLoading,this),o.on(w.MANIFEST_PARSED,this.onManifestParsed,this),o.on(w.BUFFER_RESET,this.onBufferReset,this),o.on(w.BUFFER_APPENDING,this.onBufferAppending,this),o.on(w.BUFFER_CODECS,this.onBufferCodecs,this),o.on(w.BUFFER_EOS,this.onBufferEos,this),o.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this),o.on(w.LEVEL_UPDATED,this.onLevelUpdated,this),o.on(w.FRAG_PARSED,this.onFragParsed,this),o.on(w.FRAG_CHANGED,this.onFragChanged,this)},R.unregisterListeners=function(){var o=this.hls;o.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this),o.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),o.off(w.MANIFEST_LOADING,this.onManifestLoading,this),o.off(w.MANIFEST_PARSED,this.onManifestParsed,this),o.off(w.BUFFER_RESET,this.onBufferReset,this),o.off(w.BUFFER_APPENDING,this.onBufferAppending,this),o.off(w.BUFFER_CODECS,this.onBufferCodecs,this),o.off(w.BUFFER_EOS,this.onBufferEos,this),o.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),o.off(w.LEVEL_UPDATED,this.onLevelUpdated,this),o.off(w.FRAG_PARSED,this.onFragParsed,this),o.off(w.FRAG_CHANGED,this.onFragChanged,this)},R._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new ih(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},R.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},R.onManifestParsed=function(o,c){var b=2;(c.audio&&!c.video||!c.altAudio)&&(b=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=b,W.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},R.onMediaAttaching=function(o,c){var b=this.media=c.media;if(b&&zl){var k=this.mediaSource=new zl;k.addEventListener("sourceopen",this._onMediaSourceOpen),k.addEventListener("sourceended",this._onMediaSourceEnded),k.addEventListener("sourceclose",this._onMediaSourceClose),b.src=self.URL.createObjectURL(k),this._objectUrl=b.src,b.addEventListener("emptied",this._onMediaEmptied)}},R.onMediaDetaching=function(){var o=this.media,c=this.mediaSource,b=this._objectUrl;if(c){if(W.log("[buffer-controller]: media source detaching"),c.readyState==="open")try{c.endOfStream()}catch(k){W.warn("[buffer-controller]: onMediaDetaching: "+k.message+" while calling endOfStream")}this.onBufferReset(),c.removeEventListener("sourceopen",this._onMediaSourceOpen),c.removeEventListener("sourceended",this._onMediaSourceEnded),c.removeEventListener("sourceclose",this._onMediaSourceClose),o&&(o.removeEventListener("emptied",this._onMediaEmptied),b&&self.URL.revokeObjectURL(b),o.src===b?(o.removeAttribute("src"),o.load()):W.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(w.MEDIA_DETACHED,void 0)},R.onBufferReset=function(){var o=this;this.getSourceBufferTypes().forEach(function(c){var b=o.sourceBuffer[c];try{b&&(o.removeBufferListeners(c),o.mediaSource&&o.mediaSource.removeSourceBuffer(b),o.sourceBuffer[c]=void 0)}catch(k){W.warn("[buffer-controller]: Failed to reset the "+c+" buffer",k)}}),this._initSourceBuffer()},R.onBufferCodecs=function(o,c){var b=this,k=this.getSourceBufferTypes().length;Object.keys(c).forEach(function(M){if(k){var U=b.tracks[M];if(U&&typeof U.buffer.changeType=="function"){var X=c[M],J=X.id,ee=X.codec,oe=X.levelCodec,pe=X.container,me=X.metadata,be=(U.levelCodec||U.codec).replace(Hl,"$1"),Te=(oe||ee).replace(Hl,"$1");if(be!==Te){var Re=pe+";codecs="+(oe||ee);b.appendChangeType(M,Re),W.log("[buffer-controller]: switching codec "+be+" to "+Te),b.tracks[M]={buffer:U.buffer,codec:ee,container:pe,levelCodec:oe,metadata:me,id:J}}}}else b.pendingTracks[M]=c[M]}),k||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},R.appendChangeType=function(o,c){var b=this,k=this.operationQueue,M={execute:function(){var U=b.sourceBuffer[o];U&&(W.log("[buffer-controller]: changing "+o+" sourceBuffer type to "+c),U.changeType(c)),k.shiftAndExecuteNext(o)},onStart:function(){},onComplete:function(){},onError:function(U){W.warn("[buffer-controller]: Failed to change "+o+" SourceBuffer type",U)}};k.append(M,o)},R.onBufferAppending=function(o,c){var b=this,k=this.hls,M=this.operationQueue,U=this.tracks,X=c.data,J=c.type,ee=c.frag,oe=c.part,pe=c.chunkMeta,me=pe.buffering[J],be=self.performance.now();me.start=be;var Te=ee.stats.buffering,Re=oe?oe.stats.buffering:null;Te.start===0&&(Te.start=be),Re&&Re.start===0&&(Re.start=be);var ye=U.audio,ke=!1;J==="audio"&&(ye==null?void 0:ye.container)==="audio/mpeg"&&(ke=!this.lastMpegAudioChunk||pe.id===1||this.lastMpegAudioChunk.sn!==pe.sn,this.lastMpegAudioChunk=pe);var $e=ee.start,He={execute:function(){if(me.executeStart=self.performance.now(),ke){var Ze=b.sourceBuffer[J];if(Ze){var lt=$e-Ze.timestampOffset;Math.abs(lt)>=.1&&(W.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+$e+" (delta: "+lt+") sn: "+ee.sn+")"),Ze.timestampOffset=$e)}}b.appendExecutor(X,J)},onStart:function(){},onComplete:function(){var Ze=self.performance.now();me.executeEnd=me.end=Ze,Te.first===0&&(Te.first=Ze),Re&&Re.first===0&&(Re.first=Ze);var lt=b.sourceBuffer,ct={};for(var wt in lt)ct[wt]=fr.getBuffered(lt[wt]);b.appendError=0,b.hls.trigger(w.BUFFER_APPENDED,{type:J,frag:ee,part:oe,chunkMeta:pe,parent:ee.type,timeRanges:ct})},onError:function(Ze){W.error("[buffer-controller]: Error encountered while trying to append to the "+J+" SourceBuffer",Ze);var lt={type:I.MEDIA_ERROR,parent:ee.type,details:D.BUFFER_APPEND_ERROR,frag:ee,part:oe,chunkMeta:pe,error:Ze,err:Ze,fatal:!1};Ze.code===DOMException.QUOTA_EXCEEDED_ERR?lt.details=D.BUFFER_FULL_ERROR:(b.appendError++,lt.details=D.BUFFER_APPEND_ERROR,b.appendError>k.config.appendErrorMaxRetry&&(W.error("[buffer-controller]: Failed "+k.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),lt.fatal=!0)),k.trigger(w.ERROR,lt)}};M.append(He,J)},R.onBufferFlushing=function(o,c){var b=this,k=this.operationQueue,M=function(U){return{execute:b.removeExecutor.bind(b,U,c.startOffset,c.endOffset),onStart:function(){},onComplete:function(){b.hls.trigger(w.BUFFER_FLUSHED,{type:U})},onError:function(X){W.warn("[buffer-controller]: Failed to remove from "+U+" SourceBuffer",X)}}};c.type?k.append(M(c.type),c.type):this.getSourceBufferTypes().forEach(function(U){k.append(M(U),U)})},R.onFragParsed=function(o,c){var b=this,k=c.frag,M=c.part,U=[],X=M?M.elementaryStreams:k.elementaryStreams;X[B]?U.push("audiovideo"):(X[Y]&&U.push("audio"),X[z]&&U.push("video")),U.length===0&&W.warn("Fragments must have at least one ElementaryStreamType set. type: "+k.type+" level: "+k.level+" sn: "+k.sn),this.blockBuffers(function(){var J=self.performance.now();k.stats.buffering.end=J,M&&(M.stats.buffering.end=J);var ee=M?M.stats:k.stats;b.hls.trigger(w.FRAG_BUFFERED,{frag:k,part:M,stats:ee,id:k.type})},U)},R.onFragChanged=function(o,c){this.flushBackBuffer()},R.onBufferEos=function(o,c){var b=this;this.getSourceBufferTypes().reduce(function(k,M){var U=b.sourceBuffer[M];return!U||c.type&&c.type!==M||(U.ending=!0,U.ended||(U.ended=!0,W.log("[buffer-controller]: "+M+" sourceBuffer now EOS"))),k&&!(U&&!U.ended)},!0)&&(W.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){b.getSourceBufferTypes().forEach(function(M){var U=b.sourceBuffer[M];U&&(U.ending=!1)});var k=b.mediaSource;k&&k.readyState==="open"?(W.log("[buffer-controller]: Calling mediaSource.endOfStream()"),k.endOfStream()):k&&W.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+k.readyState)}))},R.onLevelUpdated=function(o,c){var b=c.details;b.fragments.length&&(this.details=b,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},R.flushBackBuffer=function(){var o=this.hls,c=this.details,b=this.media,k=this.sourceBuffer;if(b&&c!==null){var M=this.getSourceBufferTypes();if(M.length){var U=c.live&&o.config.liveBackBufferLength!==null?o.config.liveBackBufferLength:o.config.backBufferLength;if(A(U)&&!(U<0)){var X=b.currentTime,J=c.levelTargetDuration,ee=Math.max(U,J),oe=Math.floor(X/J)*J-ee;M.forEach(function(pe){var me=k[pe];if(me){var be=fr.getBuffered(me);if(be.length>0&&oe>be.start(0)){if(o.trigger(w.BACK_BUFFER_REACHED,{bufferEnd:oe}),c.live)o.trigger(w.LIVE_BACK_BUFFER_REACHED,{bufferEnd:oe});else if(me.ended&&be.end(be.length-1)-X<2*J)return void W.info("[buffer-controller]: Cannot flush "+pe+" back buffer while SourceBuffer is in ended state");o.trigger(w.BUFFER_FLUSHING,{startOffset:0,endOffset:oe,type:pe})}}})}}}},R.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var o=this.details,c=this.hls,b=this.media,k=this.mediaSource,M=o.fragments[0].start+o.totalduration,U=b.duration,X=A(k.duration)?k.duration:0;o.live&&c.config.liveDurationInfinity?(W.log("[buffer-controller]: Media Source duration is set to Infinity"),k.duration=1/0,this.updateSeekableRange(o)):(M>X&&M>U||!A(U))&&(W.log("[buffer-controller]: Updating Media Source duration to "+M.toFixed(3)),k.duration=M)}},R.updateSeekableRange=function(o){var c=this.mediaSource,b=o.fragments;if(b.length&&o.live&&c!=null&&c.setLiveSeekableRange){var k=Math.max(0,b[0].start),M=Math.max(k,k+o.totalduration);c.setLiveSeekableRange(k,M)}},R.checkPendingTracks=function(){var o=this.bufferCodecEventsExpected,c=this.operationQueue,b=this.pendingTracks,k=Object.keys(b).length;if(k&&!o||k===2){this.createSourceBuffers(b),this.pendingTracks={};var M=this.getSourceBufferTypes();if(M.length)this.hls.trigger(w.BUFFER_CREATED,{tracks:this.tracks}),M.forEach(function(X){c.executeNext(X)});else{var U=new Error("could not create source buffer for media codec(s)");this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:U,reason:U.message})}}},R.createSourceBuffers=function(o){var c=this.sourceBuffer,b=this.mediaSource;if(!b)throw Error("createSourceBuffers called when mediaSource was null");for(var k in o)if(!c[k]){var M=o[k];if(!M)throw Error("source buffer exists for track "+k+", however track does not");var U=M.levelCodec||M.codec,X=M.container+";codecs="+U;W.log("[buffer-controller]: creating sourceBuffer("+X+")");try{var J=c[k]=b.addSourceBuffer(X),ee=k;this.addBufferListener(ee,"updatestart",this._onSBUpdateStart),this.addBufferListener(ee,"updateend",this._onSBUpdateEnd),this.addBufferListener(ee,"error",this._onSBUpdateError),this.tracks[k]={buffer:J,codec:U,container:M.container,levelCodec:M.levelCodec,metadata:M.metadata,id:M.id}}catch(oe){W.error("[buffer-controller]: error while trying to add sourceBuffer: "+oe.message),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:oe,mimeType:X})}}},R._onSBUpdateStart=function(o){this.operationQueue.current(o).onStart()},R._onSBUpdateEnd=function(o){var c=this.operationQueue;c.current(o).onComplete(),c.shiftAndExecuteNext(o)},R._onSBUpdateError=function(o,c){var b=new Error(o+" SourceBuffer error");W.error("[buffer-controller]: "+b,c),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_APPENDING_ERROR,error:b,fatal:!1});var k=this.operationQueue.current(o);k&&k.onError(c)},R.removeExecutor=function(o,c,b){var k=this.media,M=this.mediaSource,U=this.operationQueue,X=this.sourceBuffer[o];if(!k||!M||!X)return W.warn("[buffer-controller]: Attempting to remove from the "+o+" SourceBuffer, but it does not exist"),void U.shiftAndExecuteNext(o);var J=A(k.duration)?k.duration:1/0,ee=A(M.duration)?M.duration:1/0,oe=Math.max(0,c),pe=Math.min(b,J,ee);pe>oe&&!X.ending?(X.ended=!1,W.log("[buffer-controller]: Removing ["+oe+","+pe+"] from the "+o+" SourceBuffer"),X.remove(oe,pe)):U.shiftAndExecuteNext(o)},R.appendExecutor=function(o,c){var b=this.operationQueue,k=this.sourceBuffer[c];if(!k)return W.warn("[buffer-controller]: Attempting to append to the "+c+" SourceBuffer, but it does not exist"),void b.shiftAndExecuteNext(c);k.ended=!1,k.appendBuffer(o)},R.blockBuffers=function(o,c){var b=this;if(c===void 0&&(c=this.getSourceBufferTypes()),!c.length)return W.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(o);var k=this.operationQueue,M=c.map(function(U){return k.appendBlocker(U)});Promise.all(M).then(function(){o(),c.forEach(function(U){var X=b.sourceBuffer[U];X!=null&&X.updating||k.shiftAndExecuteNext(U)})})},R.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},R.addBufferListener=function(o,c,b){var k=this.sourceBuffer[o];if(k){var M=b.bind(this,o);this.listeners[o].push({event:c,listener:M}),k.addEventListener(c,M)}},R.removeBufferListeners=function(o){var c=this.sourceBuffer[o];c&&this.listeners[o].forEach(function(b){c.removeEventListener(b.event,b.listener)})},N}(),$l={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},to=function(N){var R=N;return $l.hasOwnProperty(N)&&(R=$l[N]),String.fromCharCode(R)},Un=15,Jn=100,Me={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Pa={17:2,18:4,21:6,22:8,23:10,19:13,20:15},So={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},xn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Or=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],sh=function(){function N(){this.time=null,this.verboseLevel=0}return N.prototype.log=function(R,o){if(this.verboseLevel>=R){var c=typeof o=="function"?o():o;W.log(this.time+" ["+R+"] "+c)}},N}(),Js=function(N){for(var R=[],o=0;o<N.length;o++)R.push(N[o].toString(16));return R},Wl=function(){function N(o,c,b,k,M){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=o||"white",this.underline=c||!1,this.italics=b||!1,this.background=k||"black",this.flash=M||!1}var R=N.prototype;return R.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},R.setStyles=function(o){for(var c=["foreground","underline","italics","background","flash"],b=0;b<c.length;b++){var k=c[b];o.hasOwnProperty(k)&&(this[k]=o[k])}},R.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},R.equals=function(o){return this.foreground===o.foreground&&this.underline===o.underline&&this.italics===o.italics&&this.background===o.background&&this.flash===o.flash},R.copy=function(o){this.foreground=o.foreground,this.underline=o.underline,this.italics=o.italics,this.background=o.background,this.flash=o.flash},R.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},N}(),qs=function(){function N(o,c,b,k,M,U){this.uchar=void 0,this.penState=void 0,this.uchar=o||" ",this.penState=new Wl(c,b,k,M,U)}var R=N.prototype;return R.reset=function(){this.uchar=" ",this.penState.reset()},R.setChar=function(o,c){this.uchar=o,this.penState.copy(c)},R.setPenState=function(o){this.penState.copy(o)},R.equals=function(o){return this.uchar===o.uchar&&this.penState.equals(o.penState)},R.copy=function(o){this.uchar=o.uchar,this.penState.copy(o.penState)},R.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},N}(),ah=function(){function N(o){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var c=0;c<Jn;c++)this.chars.push(new qs);this.logger=o,this.pos=0,this.currPenState=new Wl}var R=N.prototype;return R.equals=function(o){for(var c=!0,b=0;b<Jn;b++)if(!this.chars[b].equals(o.chars[b])){c=!1;break}return c},R.copy=function(o){for(var c=0;c<Jn;c++)this.chars[c].copy(o.chars[c])},R.isEmpty=function(){for(var o=!0,c=0;c<Jn;c++)if(!this.chars[c].isEmpty()){o=!1;break}return o},R.setCursor=function(o){this.pos!==o&&(this.pos=o),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Jn&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Jn)},R.moveCursor=function(o){var c=this.pos+o;if(o>1)for(var b=this.pos+1;b<c+1;b++)this.chars[b].setPenState(this.currPenState);this.setCursor(c)},R.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},R.insertChar=function(o){var c=this;o>=144&&this.backSpace();var b=to(o);this.pos>=Jn?this.logger.log(0,function(){return"Cannot insert "+o.toString(16)+" ("+b+") at position "+c.pos+". Skipping it!"}):(this.chars[this.pos].setChar(b,this.currPenState),this.moveCursor(1))},R.clearFromPos=function(o){var c;for(c=o;c<Jn;c++)this.chars[c].reset()},R.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},R.clearToEndOfRow=function(){this.clearFromPos(this.pos)},R.getTextString=function(){for(var o=[],c=!0,b=0;b<Jn;b++){var k=this.chars[b].uchar;k!==" "&&(c=!1),o.push(k)}return c?"":o.join("")},R.setPenStyles=function(o){this.currPenState.setStyles(o),this.chars[this.pos].setPenState(this.currPenState)},N}(),il=function(){function N(o){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var c=0;c<Un;c++)this.rows.push(new ah(o));this.logger=o,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var R=N.prototype;return R.reset=function(){for(var o=0;o<Un;o++)this.rows[o].clear();this.currRow=14},R.equals=function(o){for(var c=!0,b=0;b<Un;b++)if(!this.rows[b].equals(o.rows[b])){c=!1;break}return c},R.copy=function(o){for(var c=0;c<Un;c++)this.rows[c].copy(o.rows[c])},R.isEmpty=function(){for(var o=!0,c=0;c<Un;c++)if(!this.rows[c].isEmpty()){o=!1;break}return o},R.backSpace=function(){this.rows[this.currRow].backSpace()},R.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},R.insertChar=function(o){this.rows[this.currRow].insertChar(o)},R.setPen=function(o){this.rows[this.currRow].setPenStyles(o)},R.moveCursor=function(o){this.rows[this.currRow].moveCursor(o)},R.setCursor=function(o){this.logger.log(2,"setCursor: "+o),this.rows[this.currRow].setCursor(o)},R.setPAC=function(o){this.logger.log(2,function(){return"pacData = "+JSON.stringify(o)});var c=o.row-1;if(this.nrRollUpRows&&c<this.nrRollUpRows-1&&(c=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==c){for(var b=0;b<Un;b++)this.rows[b].clear();var k=this.currRow+1-this.nrRollUpRows,M=this.lastOutputScreen;if(M){var U=M.rows[k].cueStartTime,X=this.logger.time;if(U&&X!==null&&U<X)for(var J=0;J<this.nrRollUpRows;J++)this.rows[c-this.nrRollUpRows+J+1].copy(M.rows[k+J])}}this.currRow=c;var ee=this.rows[this.currRow];if(o.indent!==null){var oe=o.indent,pe=Math.max(oe-1,0);ee.setCursor(o.indent),o.color=ee.chars[pe].penState.foreground}var me={foreground:o.color,underline:o.underline,italics:o.italics,background:"black",flash:!1};this.setPen(me)},R.setBkgData=function(o){this.logger.log(2,function(){return"bkgData = "+JSON.stringify(o)}),this.backSpace(),this.setPen(o),this.insertChar(32)},R.setRollUpRows=function(o){this.nrRollUpRows=o},R.rollUp=function(){var o=this;if(this.nrRollUpRows!==null){this.logger.log(1,function(){return o.getDisplayText()});var c=this.currRow+1-this.nrRollUpRows,b=this.rows.splice(c,1)[0];b.clear(),this.rows.splice(this.currRow,0,b),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")},R.getDisplayText=function(o){o=o||!1;for(var c=[],b="",k=-1,M=0;M<Un;M++){var U=this.rows[M].getTextString();U&&(k=M+1,o?c.push("Row "+k+": '"+U+"'"):c.push(U.trim()))}return c.length>0&&(b=o?"["+c.join(" | ")+"]":c.join(`
`)),b},R.getTextAndFormat=function(){return this.rows},N}(),Vl=function(){function N(o,c,b){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=o,this.outputFilter=c,this.mode=null,this.verbose=0,this.displayedMemory=new il(b),this.nonDisplayedMemory=new il(b),this.lastOutputScreen=new il(b),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=b}var R=N.prototype;return R.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},R.getHandler=function(){return this.outputFilter},R.setHandler=function(o){this.outputFilter=o},R.setPAC=function(o){this.writeScreen.setPAC(o)},R.setBkgData=function(o){this.writeScreen.setBkgData(o)},R.setMode=function(o){o!==this.mode&&(this.mode=o,this.logger.log(2,function(){return"MODE="+o}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=o)},R.insertChars=function(o){for(var c=this,b=0;b<o.length;b++)this.writeScreen.insertChar(o[b]);var k=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,function(){return k+": "+c.writeScreen.getDisplayText(!0)}),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(1,function(){return"DISPLAYED: "+c.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},R.ccRCL=function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},R.ccBS=function(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},R.ccAOF=function(){},R.ccAON=function(){},R.ccDER=function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},R.ccRU=function(o){this.logger.log(2,"RU("+o+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(o)},R.ccFON=function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},R.ccRDC=function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},R.ccTR=function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")},R.ccRTD=function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")},R.ccEDM=function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},R.ccCR=function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},R.ccENM=function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},R.ccEOC=function(){var o=this;if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var c=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=c,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,function(){return"DISP: "+o.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},R.ccTO=function(o){this.logger.log(2,"TO("+o+") - Tab Offset"),this.writeScreen.moveCursor(o)},R.ccMIDROW=function(o){var c={flash:!1};if(c.underline=o%2==1,c.italics=o>=46,c.italics)c.foreground="white";else{var b=Math.floor(o/2)-16;c.foreground=["white","green","blue","cyan","red","yellow","magenta"][b]}this.logger.log(2,"MIDROW: "+JSON.stringify(c)),this.writeScreen.setPen(c)},R.outputDataUpdate=function(o){o===void 0&&(o=!1);var c=this.logger.time;c!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,c,this.lastOutputScreen),o&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:c):this.cueStartTime=c,this.lastOutputScreen.copy(this.displayedMemory))},R.cueSplitAtTime=function(o){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,o,this.displayedMemory),this.cueStartTime=o))},N}(),Xl=function(){function N(o,c,b){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var k=new sh;this.channels=[null,new Vl(o,c,k),new Vl(o+1,b,k)],this.cmdHistory={a:null,b:null},this.logger=k}var R=N.prototype;return R.getHandler=function(o){return this.channels[o].getHandler()},R.setHandler=function(o,c){this.channels[o].setHandler(c)},R.addData=function(o,c){var b,k,M,U=!1;this.logger.time=o;for(var X=0;X<c.length;X+=2)if(k=127&c[X],M=127&c[X+1],k!==0||M!==0){if(this.logger.log(3,"["+Js([c[X],c[X+1]])+"] -> ("+Js([k,M])+")"),(b=this.parseCmd(k,M))||(b=this.parseMidrow(k,M)),b||(b=this.parsePAC(k,M)),b||(b=this.parseBackgroundAttributes(k,M)),!b&&(U=this.parseChars(k,M))){var J=this.currentChannel;J&&J>0?this.channels[J].insertChars(U):this.logger.log(2,"No channel found yet. TEXT-MODE?")}b||U||this.logger.log(2,"Couldn't parse cleaned data "+Js([k,M])+" orig: "+Js([c[X],c[X+1]]))}},R.parseCmd=function(o,c){var b=this.cmdHistory;if(!((o===20||o===28||o===21||o===29)&&c>=32&&c<=47||(o===23||o===31)&&c>=33&&c<=35))return!1;if(qn(o,c,b))return Da(null,null,b),this.logger.log(3,"Repeated command ("+Js([o,c])+") is dropped"),!0;var k=o===20||o===21||o===23?1:2,M=this.channels[k];return o===20||o===21||o===28||o===29?c===32?M.ccRCL():c===33?M.ccBS():c===34?M.ccAOF():c===35?M.ccAON():c===36?M.ccDER():c===37?M.ccRU(2):c===38?M.ccRU(3):c===39?M.ccRU(4):c===40?M.ccFON():c===41?M.ccRDC():c===42?M.ccTR():c===43?M.ccRTD():c===44?M.ccEDM():c===45?M.ccCR():c===46?M.ccENM():c===47&&M.ccEOC():M.ccTO(c-32),Da(o,c,b),this.currentChannel=k,!0},R.parseMidrow=function(o,c){var b=0;if((o===17||o===25)&&c>=32&&c<=47){if((b=o===17?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var k=this.channels[b];return!!k&&(k.ccMIDROW(c),this.logger.log(3,"MIDROW ("+Js([o,c])+")"),!0)}return!1},R.parsePAC=function(o,c){var b,k=this.cmdHistory;if(!((o>=17&&o<=23||o>=25&&o<=31)&&c>=64&&c<=127||(o===16||o===24)&&c>=64&&c<=95))return!1;if(qn(o,c,k))return Da(null,null,k),!0;var M=o<=23?1:2;b=c>=64&&c<=95?M===1?Me[o]:So[o]:M===1?Pa[o]:xn[o];var U=this.channels[M];return!!U&&(U.setPAC(this.interpretPAC(b,c)),Da(o,c,k),this.currentChannel=M,!0)},R.interpretPAC=function(o,c){var b,k={color:null,italics:!1,indent:null,underline:!1,row:o};return b=c>95?c-96:c-64,k.underline=(1&b)==1,b<=13?k.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(b/2)]:b<=15?(k.italics=!0,k.color="white"):k.indent=4*Math.floor((b-16)/2),k},R.parseChars=function(o,c){var b,k,M=null,U=null;if(o>=25?(b=2,U=o-8):(b=1,U=o),U>=17&&U<=19?(k=U===17?c+80:U===18?c+112:c+144,this.logger.log(2,"Special char '"+to(k)+"' in channel "+b),M=[k]):o>=32&&o<=127&&(M=c===0?[o]:[o,c]),M){var X=Js(M);this.logger.log(3,"Char codes =  "+X.join(",")),Da(o,c,this.cmdHistory)}return M},R.parseBackgroundAttributes=function(o,c){var b;if(!((o===16||o===24)&&c>=32&&c<=47||(o===23||o===31)&&c>=45&&c<=47))return!1;var k={};o===16||o===24?(b=Math.floor((c-32)/2),k.background=Or[b],c%2==1&&(k.background=k.background+"_semi")):c===45?k.background="transparent":(k.foreground="black",c===47&&(k.underline=!0));var M=o<=23?1:2;return this.channels[M].setBkgData(k),Da(o,c,this.cmdHistory),!0},R.reset=function(){for(var o=0;o<Object.keys(this.channels).length;o++){var c=this.channels[o];c&&c.reset()}this.cmdHistory={a:null,b:null}},R.cueSplitAtTime=function(o){for(var c=0;c<this.channels.length;c++){var b=this.channels[c];b&&b.cueSplitAtTime(o)}},N}();function Da(N,R,o){o.a=N,o.b=R}function qn(N,R,o){return o.a===N&&o.b===R}var Ao=function(){function N(o,c){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=o,this.trackName=c}var R=N.prototype;return R.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},R.newCue=function(o,c,b){(this.startTime===null||this.startTime>o)&&(this.startTime=o),this.endTime=c,this.screen=b,this.timelineController.createCaptionsTrack(this.trackName)},R.reset=function(){this.cueRanges=[],this.startTime=null},N}(),nl=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var N=["","lr","rl"],R=["start","middle","end","left","right"];function o(M,U){if(typeof U!="string"||!Array.isArray(M))return!1;var X=U.toLowerCase();return!!~M.indexOf(X)&&X}function c(M){return o(R,M)}function b(M){for(var U=arguments.length,X=new Array(U>1?U-1:0),J=1;J<U;J++)X[J-1]=arguments[J];for(var ee=1;ee<arguments.length;ee++){var oe=arguments[ee];for(var pe in oe)M[pe]=oe[pe]}return M}function k(M,U,X){var J=this,ee={enumerable:!0};J.hasBeenReset=!1;var oe="",pe=!1,me=M,be=U,Te=X,Re=null,ye="",ke=!0,$e="auto",He="start",Ze=50,lt="middle",ct=50,wt="middle";Object.defineProperty(J,"id",b({},ee,{get:function(){return oe},set:function(dt){oe=""+dt}})),Object.defineProperty(J,"pauseOnExit",b({},ee,{get:function(){return pe},set:function(dt){pe=!!dt}})),Object.defineProperty(J,"startTime",b({},ee,{get:function(){return me},set:function(dt){if(typeof dt!="number")throw new TypeError("Start time must be set to a number.");me=dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"endTime",b({},ee,{get:function(){return be},set:function(dt){if(typeof dt!="number")throw new TypeError("End time must be set to a number.");be=dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"text",b({},ee,{get:function(){return Te},set:function(dt){Te=""+dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"region",b({},ee,{get:function(){return Re},set:function(dt){Re=dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"vertical",b({},ee,{get:function(){return ye},set:function(dt){var gt=function(Pt){return o(N,Pt)}(dt);if(gt===!1)throw new SyntaxError("An invalid or illegal string was specified.");ye=gt,this.hasBeenReset=!0}})),Object.defineProperty(J,"snapToLines",b({},ee,{get:function(){return ke},set:function(dt){ke=!!dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"line",b({},ee,{get:function(){return $e},set:function(dt){if(typeof dt!="number"&&dt!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");$e=dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"lineAlign",b({},ee,{get:function(){return He},set:function(dt){var gt=c(dt);if(!gt)throw new SyntaxError("An invalid or illegal string was specified.");He=gt,this.hasBeenReset=!0}})),Object.defineProperty(J,"position",b({},ee,{get:function(){return Ze},set:function(dt){if(dt<0||dt>100)throw new Error("Position must be between 0 and 100.");Ze=dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"positionAlign",b({},ee,{get:function(){return lt},set:function(dt){var gt=c(dt);if(!gt)throw new SyntaxError("An invalid or illegal string was specified.");lt=gt,this.hasBeenReset=!0}})),Object.defineProperty(J,"size",b({},ee,{get:function(){return ct},set:function(dt){if(dt<0||dt>100)throw new Error("Size must be between 0 and 100.");ct=dt,this.hasBeenReset=!0}})),Object.defineProperty(J,"align",b({},ee,{get:function(){return wt},set:function(dt){var gt=c(dt);if(!gt)throw new SyntaxError("An invalid or illegal string was specified.");wt=gt,this.hasBeenReset=!0}})),J.displayState=void 0}return k.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},k}(),oh=function(){function N(){}return N.prototype.decode=function(R,o){if(!R)return"";if(typeof R!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(R))},N}();function Gl(N){function R(c,b,k,M){return 3600*(0|c)+60*(0|b)+(0|k)+parseFloat(M||0)}var o=N.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return o?parseFloat(o[2])>59?R(o[2],o[3],0,o[4]):R(o[1],o[2],o[3],o[4]):null}var lh=function(){function N(){this.values=Object.create(null)}var R=N.prototype;return R.set=function(o,c){this.get(o)||c===""||(this.values[o]=c)},R.get=function(o,c,b){return b?this.has(o)?this.values[o]:c[b]:this.has(o)?this.values[o]:c},R.has=function(o){return o in this.values},R.alt=function(o,c,b){for(var k=0;k<b.length;++k)if(c===b[k]){this.set(o,c);break}},R.integer=function(o,c){/^-?\d+$/.test(c)&&this.set(o,parseInt(c,10))},R.percent=function(o,c){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(c)){var b=parseFloat(c);if(b>=0&&b<=100)return this.set(o,b),!0}return!1},N}();function es(N,R,o,c){var b=c?N.split(c):[N];for(var k in b)if(typeof b[k]=="string"){var M=b[k].split(o);M.length===2&&R(M[0],M[1])}}var sl=new nl(0,0,""),ko=sl.align==="middle"?"middle":"center";function ch(N,R,o){var c=N;function b(){var M=Gl(N);if(M===null)throw new Error("Malformed timestamp: "+c);return N=N.replace(/^[^\sa-zA-Z-]+/,""),M}function k(){N=N.replace(/^\s+/,"")}if(k(),R.startTime=b(),k(),N.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+c);N=N.slice(3),k(),R.endTime=b(),k(),function(M,U){var X=new lh;es(M,function(oe,pe){var me;switch(oe){case"region":for(var be=o.length-1;be>=0;be--)if(o[be].id===pe){X.set(oe,o[be].region);break}break;case"vertical":X.alt(oe,pe,["rl","lr"]);break;case"line":me=pe.split(","),X.integer(oe,me[0]),X.percent(oe,me[0])&&X.set("snapToLines",!1),X.alt(oe,me[0],["auto"]),me.length===2&&X.alt("lineAlign",me[1],["start",ko,"end"]);break;case"position":me=pe.split(","),X.percent(oe,me[0]),me.length===2&&X.alt("positionAlign",me[1],["start",ko,"end","line-left","line-right","auto"]);break;case"size":X.percent(oe,pe);break;case"align":X.alt(oe,pe,["start",ko,"end","left","right"])}},/:/,/\s/),U.region=X.get("region",null),U.vertical=X.get("vertical","");var J=X.get("line","auto");J==="auto"&&sl.line===-1&&(J=-1),U.line=J,U.lineAlign=X.get("lineAlign","start"),U.snapToLines=X.get("snapToLines",!0),U.size=X.get("size",100),U.align=X.get("align",ko);var ee=X.get("position","auto");ee==="auto"&&sl.position===50&&(ee=U.align==="start"||U.align==="left"?0:U.align==="end"||U.align==="right"?100:50),U.position=ee}(N,R)}function Kl(N){return N.replace(/<br(?: \/)?>/gi,`
`)}var hh=function(){function N(){this.state="INITIAL",this.buffer="",this.decoder=new oh,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var R=N.prototype;return R.parse=function(o){var c=this;function b(){var J=c.buffer,ee=0;for(J=Kl(J);ee<J.length&&J[ee]!=="\r"&&J[ee]!==`
`;)++ee;var oe=J.slice(0,ee);return J[ee]==="\r"&&++ee,J[ee]===`
`&&++ee,c.buffer=J.slice(ee),oe}o&&(c.buffer+=c.decoder.decode(o,{stream:!0}));try{var k="";if(c.state==="INITIAL"){if(!/\r\n|\n/.test(c.buffer))return this;var M=(k=b()).match(/^()?WEBVTT([ \t].*)?$/);if(M==null||!M[0])throw new Error("Malformed WebVTT signature.");c.state="HEADER"}for(var U=!1;c.buffer;){if(!/\r\n|\n/.test(c.buffer))return this;switch(U?U=!1:k=b(),c.state){case"HEADER":/:/.test(k)?es(k,function(J,ee){},/:/):k||(c.state="ID");continue;case"NOTE":k||(c.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(k)){c.state="NOTE";break}if(!k)continue;if(c.cue=new nl(0,0,""),c.state="CUE",k.indexOf("-->")===-1){c.cue.id=k;continue}case"CUE":if(!c.cue){c.state="BADCUE";continue}try{ch(k,c.cue,c.regionList)}catch{c.cue=null,c.state="BADCUE";continue}c.state="CUETEXT";continue;case"CUETEXT":var X=k.indexOf("-->")!==-1;if(!k||X&&(U=!0)){c.oncue&&c.cue&&c.oncue(c.cue),c.cue=null,c.state="ID";continue}if(c.cue===null)continue;c.cue.text&&(c.cue.text+=`
`),c.cue.text+=k;continue;case"BADCUE":k||(c.state="ID")}}}catch{c.state==="CUETEXT"&&c.cue&&c.oncue&&c.oncue(c.cue),c.cue=null,c.state=c.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},R.flush=function(){var o=this;try{if((o.cue||o.state==="HEADER")&&(o.buffer+=`

`,o.parse()),o.state==="INITIAL"||o.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(c){o.onparsingerror&&o.onparsingerror(c)}return o.onflush&&o.onflush(),this},N}(),ea=/\r\n|\n\r|\n|\r/g,al=function(N,R,o){return o===void 0&&(o=0),N.slice(o,o+R.length)===R},ol=function(N){for(var R=5381,o=N.length;o;)R=33*R^N.charCodeAt(--o);return(R>>>0).toString()};function vn(N,R,o){return ol(N.toString())+ol(R.toString())+ol(o)}function fh(N,R,o,c,b,k,M){var U,X,J,ee=new hh,oe=Fe(new Uint8Array(N)).trim().replace(ea,`
`).split(`
`),pe=[],me=R?(U=R.baseTime,(X=R.timescale)===void 0&&(X=1),ka(U,9e4,1/X)):0,be="00:00.000",Te=0,Re=0,ye=!0;ee.oncue=function(ke){var $e=o[c],He=o.ccOffset,Ze=(Te-me)/9e4;if($e!=null&&$e.new&&(Re!==void 0?He=o.ccOffset=$e.start:function(dt,gt,Pt){var St=dt[gt],Wt=dt[St.prevCC];if(!Wt||!Wt.new&&St.new)return dt.ccOffset=dt.presentationOffset=St.start,void(St.new=!1);for(;(Qt=Wt)!=null&&Qt.new;){var Qt;dt.ccOffset+=St.start-Wt.start,St.new=!1,Wt=dt[(St=Wt).prevCC]}dt.presentationOffset=Pt}(o,c,Ze)),Ze){if(!R)return void(J=new Error("Missing initPTS for VTT MPEGTS"));He=Ze-o.presentationOffset}var lt=ke.endTime-ke.startTime,ct=Ai(9e4*(ke.startTime+He-Re),9e4*b)/9e4;ke.startTime=Math.max(ct,0),ke.endTime=Math.max(ct+lt,0);var wt=ke.text.trim();ke.text=decodeURIComponent(encodeURIComponent(wt)),ke.id||(ke.id=vn(ke.startTime,ke.endTime,wt)),ke.endTime>0&&pe.push(ke)},ee.onparsingerror=function(ke){J=ke},ee.onflush=function(){J?M(J):k(pe)},oe.forEach(function(ke){if(ye){if(al(ke,"X-TIMESTAMP-MAP=")){ye=!1,ke.slice(16).split(",").forEach(function($e){al($e,"LOCAL:")?be=$e.slice(6):al($e,"MPEGTS:")&&(Te=parseInt($e.slice(7)))});try{Re=function($e){var He=parseInt($e.slice(-3)),Ze=parseInt($e.slice(-6,-4)),lt=parseInt($e.slice(-9,-7)),ct=$e.length>9?parseInt($e.substring(0,$e.indexOf(":"))):0;if(!(A(He)&&A(Ze)&&A(lt)&&A(ct)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+$e);return He+=1e3*Ze,(He+=6e4*lt)+36e5*ct}(be)/1e3}catch($e){J=$e}return}ke===""&&(ye=!1)}ee.parse(ke+`
`)}),ee.flush()}var ll="stpp.ttml.im1t",Yl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Zl=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,uh={left:"start",center:"center",right:"end",start:"start",end:"end"};function cl(N,R,o,c){var b=It(new Uint8Array(N),["mdat"]);if(b.length!==0){var k,M,U,X,J=b.map(function(oe){return Fe(oe)}),ee=(k=R.baseTime,M=1,(U=R.timescale)===void 0&&(U=1),X===void 0&&(X=!1),ka(k,M,1/U,X));try{J.forEach(function(oe){return o(function(pe,me){var be=new DOMParser().parseFromString(pe,"text/xml").getElementsByTagName("tt")[0];if(!be)throw new Error("Invalid ttml");var Te={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},Re=Object.keys(Te).reduce(function(Ze,lt){return Ze[lt]=be.getAttribute("ttp:"+lt)||Te[lt],Ze},{}),ye=be.getAttribute("xml:space")!=="preserve",ke=Ql(Co(be,"styling","style")),$e=Ql(Co(be,"layout","region")),He=Co(be,"body","[begin]");return[].map.call(He,function(Ze){var lt=Jl(Ze,ye);if(!lt||!Ze.hasAttribute("begin"))return null;var ct=Oa(Ze.getAttribute("begin"),Re),wt=Oa(Ze.getAttribute("dur"),Re),dt=Oa(Ze.getAttribute("end"),Re);if(ct===null)throw La(Ze);if(dt===null){if(wt===null)throw La(Ze);dt=ct+wt}var gt=new nl(ct-me,dt-me,lt);gt.id=vn(gt.startTime,gt.endTime,gt.text);var Pt=function(Qt,Vt,Gt){var Jt="http://www.w3.org/ns/ttml#styling",Kt=null,Ct=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],wr=Qt!=null&&Qt.hasAttribute("style")?Qt.getAttribute("style"):null;return wr&&Gt.hasOwnProperty(wr)&&(Kt=Gt[wr]),Ct.reduce(function(Rr,$r){var qi=ro(Vt,Jt,$r)||ro(Qt,Jt,$r)||ro(Kt,Jt,$r);return qi&&(Rr[$r]=qi),Rr},{})}($e[Ze.getAttribute("region")],ke[Ze.getAttribute("style")],ke),St=Pt.textAlign;if(St){var Wt=uh[St];Wt&&(gt.lineAlign=Wt),gt.align=St}return t(gt,Pt),gt}).filter(function(Ze){return Ze!==null})}(oe,ee))})}catch(oe){c(oe)}}else c(new Error("Could not parse IMSC1 mdat"))}function Co(N,R,o){var c=N.getElementsByTagName(R)[0];return c?[].slice.call(c.querySelectorAll(o)):[]}function Ql(N){return N.reduce(function(R,o){var c=o.getAttribute("xml:id");return c&&(R[c]=o),R},{})}function Jl(N,R){return[].slice.call(N.childNodes).reduce(function(o,c,b){var k;return c.nodeName==="br"&&b?o+`
`:(k=c.childNodes)!=null&&k.length?Jl(c,R):R?o+c.textContent.trim().replace(/\s+/g," "):o+c.textContent},"")}function ro(N,R,o){return N&&N.hasAttributeNS(R,o)?N.getAttributeNS(R,o):null}function La(N){return new Error("Could not parse ttml timestamp "+N)}function Oa(N,R){if(!N)return null;var o=Gl(N);return o===null&&(Yl.test(N)?o=function(c,b){var k=Yl.exec(c),M=(0|k[4])+(0|k[5])/b.subFrameRate;return 3600*(0|k[1])+60*(0|k[2])+(0|k[3])+M/b.frameRate}(N,R):Zl.test(N)&&(o=function(c,b){var k=Zl.exec(c),M=Number(k[1]);switch(k[2]){case"h":return 3600*M;case"m":return 60*M;case"ms":return 1e3*M;case"f":return M/b.frameRate;case"t":return M/b.tickRate}return M}(N,R))),o}var dh=function(){function N(o){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=o,this.config=o.config,this.Cues=o.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var c=new Ao(this,"textTrack1"),b=new Ao(this,"textTrack2"),k=new Ao(this,"textTrack3"),M=new Ao(this,"textTrack4");this.cea608Parser1=new Xl(1,c,b),this.cea608Parser2=new Xl(3,k,M)}o.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this),o.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),o.on(w.MANIFEST_LOADING,this.onManifestLoading,this),o.on(w.MANIFEST_LOADED,this.onManifestLoaded,this),o.on(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),o.on(w.FRAG_LOADING,this.onFragLoading,this),o.on(w.FRAG_LOADED,this.onFragLoaded,this),o.on(w.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),o.on(w.FRAG_DECRYPTED,this.onFragDecrypted,this),o.on(w.INIT_PTS_FOUND,this.onInitPtsFound,this),o.on(w.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),o.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this)}var R=N.prototype;return R.destroy=function(){var o=this.hls;o.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this),o.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),o.off(w.MANIFEST_LOADING,this.onManifestLoading,this),o.off(w.MANIFEST_LOADED,this.onManifestLoaded,this),o.off(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),o.off(w.FRAG_LOADING,this.onFragLoading,this),o.off(w.FRAG_LOADED,this.onFragLoaded,this),o.off(w.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),o.off(w.FRAG_DECRYPTED,this.onFragDecrypted,this),o.off(w.INIT_PTS_FOUND,this.onInitPtsFound,this),o.off(w.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),o.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},R.addCues=function(o,c,b,k,M){for(var U,X,J,ee,oe=!1,pe=M.length;pe--;){var me=M[pe],be=(U=me[0],X=me[1],J=c,ee=b,Math.min(X,ee)-Math.max(U,J));if(be>=0&&(me[0]=Math.min(me[0],c),me[1]=Math.max(me[1],b),oe=!0,be/(b-c)>.5))return}if(oe||M.push([c,b]),this.config.renderTextTracksNatively){var Te=this.captionsTracks[o];this.Cues.newCue(Te,c,b,k)}else{var Re=this.Cues.newCue(null,c,b,k);this.hls.trigger(w.CUES_PARSED,{type:"captions",cues:Re,track:o})}},R.onInitPtsFound=function(o,c){var b=this,k=c.frag,M=c.id,U=c.initPTS,X=c.timescale,J=this.unparsedVttFrags;M==="main"&&(this.initPTS[k.cc]={baseTime:U,timescale:X}),J.length&&(this.unparsedVttFrags=[],J.forEach(function(ee){b.onFragLoaded(w.FRAG_LOADED,ee)}))},R.getExistingTrack=function(o){var c=this.media;if(c)for(var b=0;b<c.textTracks.length;b++){var k=c.textTracks[b];if(k[o])return k}return null},R.createCaptionsTrack=function(o){this.config.renderTextTracksNatively?this.createNativeTrack(o):this.createNonNativeTrack(o)},R.createNativeTrack=function(o){if(!this.captionsTracks[o]){var c=this.captionsProperties,b=this.captionsTracks,k=this.media,M=c[o],U=M.label,X=M.languageCode,J=this.getExistingTrack(o);if(J)b[o]=J,rn(b[o]),ga(b[o],k);else{var ee=this.createTextTrack("captions",U,X);ee&&(ee[o]=!0,b[o]=ee)}}},R.createNonNativeTrack=function(o){if(!this.nonNativeCaptionsTracks[o]){var c=this.captionsProperties[o];if(c){var b={_id:o,label:c.label,kind:"captions",default:!!c.media&&!!c.media.default,closedCaptions:c.media};this.nonNativeCaptionsTracks[o]=b,this.hls.trigger(w.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[b]})}}},R.createTextTrack=function(o,c,b){var k=this.media;if(k)return k.addTextTrack(o,c,b)},R.onMediaAttaching=function(o,c){this.media=c.media,this._cleanTracks()},R.onMediaDetaching=function(){var o=this.captionsTracks;Object.keys(o).forEach(function(c){rn(o[c]),delete o[c]}),this.nonNativeCaptionsTracks={}},R.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},R._cleanTracks=function(){var o=this.media;if(o){var c=o.textTracks;if(c)for(var b=0;b<c.length;b++)rn(c[b])}},R.onSubtitleTracksUpdated=function(o,c){var b=this,k=c.subtitleTracks||[],M=k.some(function(J){return J.textCodec===ll});if(this.config.enableWebVTT||M&&this.config.enableIMSC1){if(Eo(this.tracks,k))return void(this.tracks=k);if(this.textTracks=[],this.tracks=k,this.config.renderTextTracksNatively){var U=this.media?this.media.textTracks:null;this.tracks.forEach(function(J,ee){var oe;if(U&&ee<U.length){for(var pe=null,me=0;me<U.length;me++)if(ql(U[me],J)){pe=U[me];break}pe&&(oe=pe)}if(oe)rn(oe);else{var be=b._captionsOrSubtitlesFromCharacteristics(J);(oe=b.createTextTrack(be,J.name,J.lang))&&(oe.mode="disabled")}oe&&(oe.groupId=J.groupId,b.textTracks.push(oe))})}else if(this.tracks.length){var X=this.tracks.map(function(J){return{label:J.name,kind:J.type.toLowerCase(),default:J.default,subtitleTrack:J}});this.hls.trigger(w.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:X})}}},R._captionsOrSubtitlesFromCharacteristics=function(o){if(o.attrs.CHARACTERISTICS){var c=/transcribes-spoken-dialog/gi.test(o.attrs.CHARACTERISTICS),b=/describes-music-and-sound/gi.test(o.attrs.CHARACTERISTICS);if(c&&b)return"captions"}return"subtitles"},R.onManifestLoaded=function(o,c){var b=this;this.config.enableCEA708Captions&&c.captions&&c.captions.forEach(function(k){var M=/(?:CC|SERVICE)([1-4])/.exec(k.instreamId);if(M){var U="textTrack"+M[1],X=b.captionsProperties[U];X&&(X.label=k.name,k.lang&&(X.languageCode=k.lang),X.media=k)}})},R.closedCaptionsForLevel=function(o){var c=this.hls.levels[o.level];return c==null?void 0:c.attrs["CLOSED-CAPTIONS"]},R.onFragLoading=function(o,c){var b=this.cea608Parser1,k=this.cea608Parser2,M=this.lastSn,U=this.lastPartIndex;if(this.enabled&&b&&k&&c.frag.type===vr){var X,J,ee=c.frag.sn,oe=(X=c==null||(J=c.part)==null?void 0:J.index)!=null?X:-1;ee===M+1||ee===M&&oe===U+1||(b.reset(),k.reset()),this.lastSn=ee,this.lastPartIndex=oe}},R.onFragLoaded=function(o,c){var b=c.frag,k=c.payload;if(b.type===Hi)if(k.byteLength){var M=b.decryptdata,U="stats"in c;if(M==null||!M.encrypted||U){var X=this.tracks[b.level],J=this.vttCCs;J[b.cc]||(J[b.cc]={start:b.start,prevCC:this.prevCC,new:!0},this.prevCC=b.cc),X&&X.textCodec===ll?this._parseIMSC1(b,k):this._parseVTTs(c)}}else this.hls.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:b,error:new Error("Empty subtitle payload")})},R._parseIMSC1=function(o,c){var b=this,k=this.hls;cl(c,this.initPTS[o.cc],function(M){b._appendCues(M,o.level),k.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:o})},function(M){W.log("Failed to parse IMSC1: "+M),k.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:o,error:M})})},R._parseVTTs=function(o){var c,b=this,k=o.frag,M=o.payload,U=this.initPTS,X=this.unparsedVttFrags,J=U.length-1;if(U[k.cc]||J!==-1){var ee=this.hls;fh((c=k.initSegment)!=null&&c.data?hr(k.initSegment.data,new Uint8Array(M)):M,this.initPTS[k.cc],this.vttCCs,k.cc,k.start,function(oe){b._appendCues(oe,k.level),ee.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:k})},function(oe){var pe=oe.message==="Missing initPTS for VTT MPEGTS";pe?X.push(o):b._fallbackToIMSC1(k,M),W.log("Failed to parse VTT cue: "+oe),pe&&J>k.cc||ee.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:k,error:oe})})}else X.push(o)},R._fallbackToIMSC1=function(o,c){var b=this,k=this.tracks[o.level];k.textCodec||cl(c,this.initPTS[o.cc],function(){k.textCodec=ll,b._parseIMSC1(o,c)},function(){k.textCodec="wvtt"})},R._appendCues=function(o,c){var b=this.hls;if(this.config.renderTextTracksNatively){var k=this.textTracks[c];if(!k||k.mode==="disabled")return;o.forEach(function(X){return Bs(k,X)})}else{var M=this.tracks[c];if(!M)return;var U=M.default?"default":"subtitles"+c;b.trigger(w.CUES_PARSED,{type:"subtitles",cues:o,track:U})}},R.onFragDecrypted=function(o,c){c.frag.type===Hi&&this.onFragLoaded(w.FRAG_LOADED,c)},R.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},R.onFragParsingUserdata=function(o,c){var b=this.cea608Parser1,k=this.cea608Parser2;if(this.enabled&&b&&k){var M=c.frag,U=c.samples;if(M.type!==vr||this.closedCaptionsForLevel(M)!=="NONE")for(var X=0;X<U.length;X++){var J=U[X].bytes;if(J){var ee=this.extractCea608Data(J);b.addData(U[X].pts,ee[0]),k.addData(U[X].pts,ee[1])}}}},R.onBufferFlushing=function(o,c){var b=c.startOffset,k=c.endOffset,M=c.endOffsetSubtitles,U=c.type,X=this.media;if(X&&!(X.currentTime<k)){if(!U||U==="video"){var J=this.captionsTracks;Object.keys(J).forEach(function(oe){return Gn(J[oe],b,k)})}if(this.config.renderTextTracksNatively&&b===0&&M!==void 0){var ee=this.textTracks;Object.keys(ee).forEach(function(oe){return Gn(ee[oe],b,M)})}}},R.extractCea608Data=function(o){for(var c=[[],[]],b=31&o[0],k=2,M=0;M<b;M++){var U=o[k++],X=127&o[k++],J=127&o[k++];if((X!==0||J!==0)&&4&U){var ee=3&U;ee!==0&&ee!==1||(c[ee].push(X),c[ee].push(J))}}return c},N}();function ql(N,R){return!!N&&N.label===R.name&&!(N.textTrack1||N.textTrack2)}var ph=function(){function N(o){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=o,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var R=N.prototype;return R.setStreamController=function(o){this.streamController=o},R.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},R.registerListeners=function(){var o=this.hls;o.on(w.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),o.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this),o.on(w.MANIFEST_PARSED,this.onManifestParsed,this),o.on(w.BUFFER_CODECS,this.onBufferCodecs,this),o.on(w.MEDIA_DETACHING,this.onMediaDetaching,this)},R.unregisterListener=function(){var o=this.hls;o.off(w.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),o.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this),o.off(w.MANIFEST_PARSED,this.onManifestParsed,this),o.off(w.BUFFER_CODECS,this.onBufferCodecs,this),o.off(w.MEDIA_DETACHING,this.onMediaDetaching,this)},R.onFpsDropLevelCapping=function(o,c){var b=this.hls.levels[c.droppedLevel];this.isLevelAllowed(b)&&this.restrictedLevels.push({bitrate:b.bitrate,height:b.height,width:b.width})},R.onMediaAttaching=function(o,c){this.media=c.media instanceof HTMLVideoElement?c.media:null,this.clientRect=null},R.onManifestParsed=function(o,c){var b=this.hls;this.restrictedLevels=[],this.firstLevel=c.firstLevel,b.config.capLevelToPlayerSize&&c.video&&this.startCapping()},R.onBufferCodecs=function(o,c){this.hls.config.capLevelToPlayerSize&&c.video&&this.startCapping()},R.onMediaDetaching=function(){this.stopCapping()},R.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var o=this.hls.levels;if(o.length){var c=this.hls;c.autoLevelCapping=this.getMaxLevel(o.length-1),c.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=c.autoLevelCapping}}},R.getMaxLevel=function(o){var c=this,b=this.hls.levels;if(!b.length)return-1;var k=b.filter(function(M,U){return c.isLevelAllowed(M)&&U<=o});return this.clientRect=null,N.getMaxLevelByMediaSize(k,this.mediaWidth,this.mediaHeight)},R.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},R.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},R.getDimensions=function(){if(this.clientRect)return this.clientRect;var o=this.media,c={width:0,height:0};if(o){var b=o.getBoundingClientRect();c.width=b.width,c.height=b.height,c.width||c.height||(c.width=b.right-b.left||o.width||0,c.height=b.bottom-b.top||o.height||0)}return this.clientRect=c,c},R.isLevelAllowed=function(o){return!this.restrictedLevels.some(function(c){return o.bitrate===c.bitrate&&o.width===c.width&&o.height===c.height})},N.getMaxLevelByMediaSize=function(o,c,b){if(o==null||!o.length)return-1;for(var k,M,U=o.length-1,X=0;X<o.length;X+=1){var J=o[X];if((J.width>=c||J.height>=b)&&(k=J,!(M=o[X+1])||k.width!==M.width||k.height!==M.height)){U=X;break}}return U},h(N,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var o=1;if(!this.hls.config.ignoreDevicePixelRatio)try{o=self.devicePixelRatio}catch{}return o}}]),N}(),os=function(){function N(o){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=o,this.registerListeners()}var R=N.prototype;return R.setStreamController=function(o){this.streamController=o},R.registerListeners=function(){this.hls.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this)},R.unregisterListeners=function(){this.hls.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this)},R.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},R.onMediaAttaching=function(o,c){var b=this.hls.config;if(b.capLevelOnFPSDrop){var k=c.media instanceof self.HTMLVideoElement?c.media:null;this.media=k,k&&typeof k.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),b.fpsDroppedMonitoringPeriod)}},R.checkFPS=function(o,c,b){var k=performance.now();if(c){if(this.lastTime){var M=k-this.lastTime,U=b-this.lastDroppedFrames,X=c-this.lastDecodedFrames,J=1e3*U/M,ee=this.hls;if(ee.trigger(w.FPS_DROP,{currentDropped:U,currentDecoded:X,totalDroppedFrames:b}),J>0&&U>ee.config.fpsDroppedMonitoringThreshold*X){var oe=ee.currentLevel;W.warn("drop FPS ratio greater than max allowed value for currentLevel: "+oe),oe>0&&(ee.autoLevelCapping===-1||ee.autoLevelCapping>=oe)&&(oe-=1,ee.trigger(w.FPS_DROP_LEVEL_CAPPING,{level:oe,droppedLevel:ee.currentLevel}),ee.autoLevelCapping=oe,this.streamController.nextLevelSwitch())}}this.lastTime=k,this.lastDroppedFrames=b,this.lastDecodedFrames=c}},R.checkFPSInterval=function(){var o=this.media;if(o)if(this.isVideoPlaybackQualityAvailable){var c=o.getVideoPlaybackQuality();this.checkFPS(o,c.totalVideoFrames,c.droppedVideoFrames)}else this.checkFPS(o,o.webkitDecodedFrameCount,o.webkitDroppedFrameCount)},N}(),Na="[eme]",Cs=function(){function N(o){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=N.CDMCleanupPromise?[N.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=W.debug.bind(W,Na),this.log=W.log.bind(W,Na),this.warn=W.warn.bind(W,Na),this.error=W.error.bind(W,Na),this.hls=o,this.config=o.config,this.registerListeners()}var R=N.prototype;return R.destroy=function(){this.unregisterListeners(),this.onMediaDetached();var o=this.config;o.requestMediaKeySystemAccessFunc=null,o.licenseXhrSetup=o.licenseResponseCallback=void 0,o.drmSystems=o.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null},R.registerListeners=function(){this.hls.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(w.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(w.MANIFEST_LOADED,this.onManifestLoaded,this)},R.unregisterListeners=function(){this.hls.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(w.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(w.MANIFEST_LOADED,this.onManifestLoaded,this)},R.getLicenseServerUrl=function(o){var c=this.config,b=c.drmSystems,k=c.widevineLicenseUrl,M=b[o];if(M)return M.licenseUrl;if(o===De.WIDEVINE&&k)return k;throw new Error('no license server URL configured for key-system "'+o+'"')},R.getServerCertificateUrl=function(o){var c=this.config.drmSystems[o];if(c)return c.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+o+'"]')},R.attemptKeySystemAccess=function(o){var c=this,b=this.hls.levels,k=function(X,J,ee){return!!X&&ee.indexOf(X)===J},M=b.map(function(X){return X.audioCodec}).filter(k),U=b.map(function(X){return X.videoCodec}).filter(k);return M.length+U.length===0&&U.push("avc1.42e01e"),new Promise(function(X,J){(function ee(oe){var pe=oe.shift();c.getMediaKeysPromise(pe,M,U).then(function(me){return X({keySystem:pe,mediaKeys:me})}).catch(function(me){oe.length?ee(oe):J(me instanceof oi?me:new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_ACCESS,error:me,fatal:!0},me.message))})})(o)})},R.requestMediaKeySystemAccess=function(o,c){var b=this.config.requestMediaKeySystemAccessFunc;if(typeof b!="function"){var k="Configured requestMediaKeySystemAccess is not a function "+b;return se===null&&self.location.protocol==="http:"&&(k="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(k))}return b(o,c)},R.getMediaKeysPromise=function(o,c,b){var k=this,M=function(ee,oe,pe,me){var be;switch(ee){case De.FAIRPLAY:be=["cenc","sinf"];break;case De.WIDEVINE:case De.PLAYREADY:be=["cenc"];break;case De.CLEARKEY:be=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+ee)}return function(Te,Re,ye,ke){return[{initDataTypes:Te,persistentState:ke.persistentState||"not-allowed",distinctiveIdentifier:ke.distinctiveIdentifier||"not-allowed",sessionTypes:ke.sessionTypes||[ke.sessionType||"temporary"],audioCapabilities:Re.map(function($e){return{contentType:'audio/mp4; codecs="'+$e+'"',robustness:ke.audioRobustness||"",encryptionScheme:ke.audioEncryptionScheme||null}}),videoCapabilities:ye.map(function($e){return{contentType:'video/mp4; codecs="'+$e+'"',robustness:ke.videoRobustness||"",encryptionScheme:ke.videoEncryptionScheme||null}})}]}(be,oe,pe,me)}(o,c,b,this.config.drmSystemOptions),U=this.keySystemAccessPromises[o],X=U==null?void 0:U.keySystemAccess;if(!X){this.log('Requesting encrypted media "'+o+'" key-system access with config: '+JSON.stringify(M)),X=this.requestMediaKeySystemAccess(o,M);var J=this.keySystemAccessPromises[o]={keySystemAccess:X};return X.catch(function(ee){k.log('Failed to obtain access to key-system "'+o+'": '+ee)}),X.then(function(ee){k.log('Access for key-system "'+ee.keySystem+'" obtained');var oe=k.fetchServerCertificate(o);return k.log('Create media-keys for "'+o+'"'),J.mediaKeys=ee.createMediaKeys().then(function(pe){return k.log('Media-keys created for "'+o+'"'),oe.then(function(me){return me?k.setMediaKeysServerCertificate(pe,o,me):pe})}),J.mediaKeys.catch(function(pe){k.error('Failed to create media-keys for "'+o+'"}: '+pe)}),J.mediaKeys})}return X.then(function(){return U.mediaKeys})},R.createMediaKeySessionContext=function(o){var c=o.decryptdata,b=o.keySystem,k=o.mediaKeys;this.log('Creating key-system session "'+b+'" keyId: '+rt(c.keyId||[]));var M=k.createSession(),U={decryptdata:c,keySystem:b,mediaKeys:k,mediaKeysSession:M,keyStatus:"status-pending"};return this.mediaKeySessions.push(U),U},R.renewKeySession=function(o){var c=o.decryptdata;if(c.pssh){var b=this.createMediaKeySessionContext(o),k=this.getKeyIdString(c);this.keyIdToKeySessionPromise[k]=this.generateRequestWithPreferredKeySession(b,"cenc",c.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(o)},R.getKeyIdString=function(o){if(!o)throw new Error("Could not read keyId of undefined decryptdata");if(o.keyId===null)throw new Error("keyId is null");return rt(o.keyId)},R.updateKeySession=function(o,c){var b,k=o.mediaKeysSession;return this.log('Updating key-session "'+k.sessionId+'" for keyID '+rt(((b=o.decryptdata)==null?void 0:b.keyId)||[])+`
      } (data length: `+(c&&c.byteLength)+")"),k.update(c)},R.selectKeySystemFormat=function(o){var c=Object.keys(o.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+o.sn+" "+o.type+": "+o.level+") key formats "+c.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(c)),this.keyFormatPromise},R.getKeyFormatPromise=function(o){var c=this;return new Promise(function(b,k){var M=he(c.config),U=o.map(_e).filter(function(X){return!!X&&M.indexOf(X)!==-1});return c.getKeySystemSelectionPromise(U).then(function(X){var J=X.keySystem,ee=de(J);ee?b(ee):k(new Error('Unable to find format for key-system "'+J+'"'))}).catch(k)})},R.loadKey=function(o){var c=this,b=o.keyInfo.decryptdata,k=this.getKeyIdString(b),M="(keyId: "+k+' format: "'+b.keyFormat+'" method: '+b.method+" uri: "+b.uri+")";this.log("Starting session for key "+M);var U=this.keyIdToKeySessionPromise[k];return U||(U=this.keyIdToKeySessionPromise[k]=this.getKeySystemForKeyPromise(b).then(function(X){var J=X.keySystem,ee=X.mediaKeys;return c.throwIfDestroyed(),c.log("Handle encrypted media sn: "+o.frag.sn+" "+o.frag.type+": "+o.frag.level+" using key "+M),c.attemptSetMediaKeys(J,ee).then(function(){c.throwIfDestroyed();var oe=c.createMediaKeySessionContext({keySystem:J,mediaKeys:ee,decryptdata:b});return c.generateRequestWithPreferredKeySession(oe,"cenc",b.pssh,"playlist-key")})})).catch(function(X){return c.handleError(X)}),U},R.throwIfDestroyed=function(o){if(!this.hls)throw new Error("invalid state")},R.handleError=function(o){this.hls&&(this.error(o.message),o instanceof oi?this.hls.trigger(w.ERROR,o.data):this.hls.trigger(w.ERROR,{type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_KEYS,error:o,fatal:!0}))},R.getKeySystemForKeyPromise=function(o){var c=this.getKeyIdString(o),b=this.keyIdToKeySessionPromise[c];if(!b){var k=_e(o.keyFormat),M=k?[k]:he(this.config);return this.attemptKeySystemAccess(M)}return b},R.getKeySystemSelectionPromise=function(o){if(o.length||(o=he(this.config)),o.length===0)throw new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(o)},R._onMediaEncrypted=function(o){var c=this,b=o.initDataType,k=o.initData;if(this.debug('"'+o.type+'" event: init data type: "'+b+'"'),k!==null){var M,U;if(b==="sinf"&&this.config.drmSystems[De.FAIRPLAY]){var X=kt(new Uint8Array(k));try{var J=Ie(JSON.parse(X).sinf),ee=mr(new Uint8Array(J));if(!ee)return;M=ee.subarray(8,24),U=De.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var oe=function($e){if(!($e instanceof ArrayBuffer)||$e.byteLength<32)return null;var He={version:0,systemId:"",kids:null,data:null},Ze=new DataView($e),lt=Ze.getUint32(0);if($e.byteLength!==lt&&lt>44||Ze.getUint32(4)!==1886614376||(He.version=Ze.getUint32(8)>>>24,He.version>1))return null;He.systemId=rt(new Uint8Array($e,12,16));var ct=Ze.getUint32(28);if(He.version===0){if(lt-32<ct)return null;He.data=new Uint8Array($e,32,ct)}else if(He.version===1){He.kids=[];for(var wt=0;wt<ct;wt++)He.kids.push(new Uint8Array($e,32+16*wt,16))}return He}(k);if(oe===null)return;oe.version===0&&oe.systemId===ce&&oe.data&&(M=oe.data.subarray(8,24)),U=function($e){if($e===ce)return De.WIDEVINE}(oe.systemId)}if(U&&M){for(var pe=rt(M),me=this.keyIdToKeySessionPromise,be=this.mediaKeySessions,Te=me[pe],Re=function(){var $e=be[ye],He=$e.decryptdata;if(He.pssh||!He.keyId)return"continue";var Ze=rt(He.keyId);return pe===Ze||He.uri.replace(/-/g,"").indexOf(pe)!==-1?(Te=me[Ze],delete me[Ze],He.pssh=new Uint8Array(k),He.keyId=M,Te=me[pe]=Te.then(function(){return c.generateRequestWithPreferredKeySession($e,b,k,"encrypted-event-key-match")}),"break"):void 0},ye=0;ye<be.length;ye++){var ke=Re();if(ke!=="continue"&&ke==="break")break}Te||(Te=me[pe]=this.getKeySystemSelectionPromise([U]).then(function($e){var He,Ze=$e.keySystem,lt=$e.mediaKeys;c.throwIfDestroyed();var ct=new ur("ISO-23001-7",pe,(He=de(Ze))!=null?He:"");return ct.pssh=new Uint8Array(k),ct.keyId=M,c.attemptSetMediaKeys(Ze,lt).then(function(){c.throwIfDestroyed();var wt=c.createMediaKeySessionContext({decryptdata:ct,keySystem:Ze,mediaKeys:lt});return c.generateRequestWithPreferredKeySession(wt,b,k,"encrypted-event-no-match")})})),Te.catch(function($e){return c.handleError($e)})}}},R._onWaitingForKey=function(o){this.log('"'+o.type+'" event')},R.attemptSetMediaKeys=function(o,c){var b=this,k=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+o+'"');var M=Promise.all(k).then(function(){if(!b.media)throw new Error("Attempted to set mediaKeys without media element attached");return b.media.setMediaKeys(c)});return this.setMediaKeysQueue.push(M),M.then(function(){b.log('Media-keys set for "'+o+'"'),k.push(M),b.setMediaKeysQueue=b.setMediaKeysQueue.filter(function(U){return k.indexOf(U)===-1})})},R.generateRequestWithPreferredKeySession=function(o,c,b,k){var M,U,X=this,J=(M=this.config.drmSystems)==null||(U=M[o.keySystem])==null?void 0:U.generateRequest;if(J)try{var ee=J.call(this.hls,c,b,o);if(!ee)throw new Error("Invalid response from configured generateRequest filter");c=ee.initDataType,b=o.decryptdata.pssh=ee.initData?new Uint8Array(ee.initData):null}catch(Te){var oe;if(this.warn(Te.message),(oe=this.hls)!=null&&oe.config.debug)throw Te}if(b===null)return this.log('Skipping key-session request for "'+k+'" (no initData)'),Promise.resolve(o);var pe=this.getKeyIdString(o.decryptdata);this.log('Generating key-session request for "'+k+'": '+pe+" (init data type: "+c+" length: "+(b?b.byteLength:null)+")");var me=new Qs;o.mediaKeysSession.onmessage=function(Te){var Re=o.mediaKeysSession;if(Re){var ye=Te.messageType,ke=Te.message;X.log('"'+ye+'" message event for session "'+Re.sessionId+'" message size: '+ke.byteLength),ye==="license-request"||ye==="license-renewal"?X.renewLicense(o,ke).catch(function($e){X.handleError($e),me.emit("error",$e)}):ye==="license-release"?o.keySystem===De.FAIRPLAY&&(X.updateKeySession(o,Ke("acknowledged")),X.removeSession(o)):X.warn('unhandled media key message type "'+ye+'"')}else me.emit("error",new Error("invalid state"))},o.mediaKeysSession.onkeystatuseschange=function(Te){if(o.mediaKeysSession){X.onKeyStatusChange(o);var Re=o.keyStatus;me.emit("keyStatus",Re),Re==="expired"&&(X.warn(o.keySystem+" expired for key "+pe),X.renewKeySession(o))}else me.emit("error",new Error("invalid state"))};var be=new Promise(function(Te,Re){me.on("error",Re),me.on("keyStatus",function(ye){ye.startsWith("usable")?Te():ye==="output-restricted"?Re(new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):ye==="internal-error"?Re(new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+ye+'"')):ye==="expired"?Re(new Error("key expired while generating request")):X.warn('unhandled key status change "'+ye+'"')})});return o.mediaKeysSession.generateRequest(c,b).then(function(){var Te;X.log('Request generated for key-session "'+((Te=o.mediaKeysSession)==null?void 0:Te.sessionId)+'" keyId: '+pe)}).catch(function(Te){throw new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_SESSION,error:Te,fatal:!1},"Error generating key-session request: "+Te)}).then(function(){return be}).catch(function(Te){throw me.removeAllListeners(),X.removeSession(o),Te}).then(function(){return me.removeAllListeners(),o})},R.onKeyStatusChange=function(o){var c=this;o.mediaKeysSession.keyStatuses.forEach(function(b,k){c.log('key status change "'+b+'" for keyStatuses keyId: '+rt("buffer"in k?new Uint8Array(k.buffer,k.byteOffset,k.byteLength):new Uint8Array(k))+" session keyId: "+rt(new Uint8Array(o.decryptdata.keyId||[]))+" uri: "+o.decryptdata.uri),o.keyStatus=b})},R.fetchServerCertificate=function(o){var c=this.config,b=new c.loader(c),k=this.getServerCertificateUrl(o);return k?(this.log('Fetching serverCertificate for "'+o+'"'),new Promise(function(M,U){var X={responseType:"arraybuffer",url:k},J=c.certLoadPolicy.default,ee={loadPolicy:J,timeout:J.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},oe={onSuccess:function(pe,me,be,Te){M(pe.data)},onError:function(pe,me,be,Te){U(new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:be,response:f({url:X.url,data:void 0},pe)},'"'+o+'" certificate request failed ('+k+"). Status: "+pe.code+" ("+pe.text+")"))},onTimeout:function(pe,me,be){U(new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:be,response:{url:X.url,data:void 0}},'"'+o+'" certificate request timed out ('+k+")"))},onAbort:function(pe,me,be){U(new Error("aborted"))}};b.load(X,ee,oe)})):Promise.resolve()},R.setMediaKeysServerCertificate=function(o,c,b){var k=this;return new Promise(function(M,U){o.setServerCertificate(b).then(function(X){k.log("setServerCertificate "+(X?"success":"not supported by CDM")+" ("+(b==null?void 0:b.byteLength)+') on "'+c+'"'),M(o)}).catch(function(X){U(new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:X,fatal:!0},X.message))})})},R.renewLicense=function(o,c){var b=this;return this.requestLicense(o,new Uint8Array(c)).then(function(k){return b.updateKeySession(o,new Uint8Array(k)).catch(function(M){throw new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:M,fatal:!0},M.message)})})},R.setupLicenseXHR=function(o,c,b,k){var M=this,U=this.config.licenseXhrSetup;return U?Promise.resolve().then(function(){if(!b.decryptdata)throw new Error("Key removed");return U.call(M.hls,o,c,b,k)}).catch(function(X){if(!b.decryptdata)throw X;return o.open("POST",c,!0),U.call(M.hls,o,c,b,k)}).then(function(X){return o.readyState||o.open("POST",c,!0),{xhr:o,licenseChallenge:X||k}}):(o.open("POST",c,!0),Promise.resolve({xhr:o,licenseChallenge:k}))},R.requestLicense=function(o,c){var b=this,k=this.config.keyLoadPolicy.default;return new Promise(function(M,U){var X=b.getLicenseServerUrl(o.keySystem);b.log("Sending license request to URL: "+X);var J=new XMLHttpRequest;J.responseType="arraybuffer",J.onreadystatechange=function(){if(!b.hls||!o.mediaKeysSession)return U(new Error("invalid state"));if(J.readyState===4)if(J.status===200){b._requestLicenseFailureCount=0;var ee=J.response;b.log("License received "+(ee instanceof ArrayBuffer?ee.byteLength:ee));var oe=b.config.licenseResponseCallback;if(oe)try{ee=oe.call(b.hls,J,X,o)}catch(Te){b.error(Te)}M(ee)}else{var pe=k.errorRetry,me=pe?pe.maxNumRetry:0;if(b._requestLicenseFailureCount++,b._requestLicenseFailureCount>me||J.status>=400&&J.status<500)U(new oi({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:J,response:{url:X,data:void 0,code:J.status,text:J.statusText}},"License Request XHR failed ("+X+"). Status: "+J.status+" ("+J.statusText+")"));else{var be=me-b._requestLicenseFailureCount+1;b.warn("Retrying license request, "+be+" attempts left"),b.requestLicense(o,c).then(M,U)}}},o.licenseXhr&&o.licenseXhr.readyState!==XMLHttpRequest.DONE&&o.licenseXhr.abort(),o.licenseXhr=J,b.setupLicenseXHR(J,X,o,c).then(function(ee){var oe=ee.xhr,pe=ee.licenseChallenge;oe.send(pe)})})},R.onMediaAttached=function(o,c){if(this.config.emeEnabled){var b=c.media;this.media=b,b.addEventListener("encrypted",this.onMediaEncrypted),b.addEventListener("waitingforkey",this.onWaitingForKey)}},R.onMediaDetached=function(){var o=this,c=this.media,b=this.mediaKeySessions;c&&(c.removeEventListener("encrypted",this.onMediaEncrypted),c.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},ur.clearKeyUriToKeyIdMap();var k=b.length;N.CDMCleanupPromise=Promise.all(b.map(function(M){return o.removeSession(M)}).concat(c==null?void 0:c.setMediaKeys(null).catch(function(M){o.log("Could not clear media keys: "+M+". media.src: "+(c==null?void 0:c.src))}))).then(function(){k&&(o.log("finished closing key sessions and clearing media keys"),b.length=0)}).catch(function(M){o.log("Could not close sessions and clear media keys: "+M+". media.src: "+(c==null?void 0:c.src))})},R.onManifestLoading=function(){this.keyFormatPromise=null},R.onManifestLoaded=function(o,c){var b=c.sessionKeys;if(b&&this.config.emeEnabled&&!this.keyFormatPromise){var k=b.reduce(function(M,U){return M.indexOf(U.keyFormat)===-1&&M.push(U.keyFormat),M},[]);this.log("Selecting key-system from session-keys "+k.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(k)}},R.removeSession=function(o){var c=this,b=o.mediaKeysSession,k=o.licenseXhr;if(b){this.log("Remove licenses and keys and close session "+b.sessionId),b.onmessage=null,b.onkeystatuseschange=null,k&&k.readyState!==XMLHttpRequest.DONE&&k.abort(),o.mediaKeysSession=o.decryptdata=o.licenseXhr=void 0;var M=this.mediaKeySessions.indexOf(o);return M>-1&&this.mediaKeySessions.splice(M,1),b.remove().catch(function(U){c.log("Could not remove session: "+U)}).then(function(){return b.close()}).catch(function(U){c.log("Could not close session: "+U)})}},N}();Cs.CDMCleanupPromise=void 0;var oi=function(N){function R(o,c){var b;return(b=N.call(this,c)||this).data=void 0,o.error||(o.error=new Error(c)),b.data=o,o.err=o.error,b}return i(R,N),R}(a(Error)),mh="m",io="a",Ro="v",ta="av",ls="i",ec="tt",gh=function(){function N(o){var c=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){c.initialized&&(c.starved=!0),c.buffering=!0},this.onPlaying=function(){c.initialized||(c.initialized=!0),c.buffering=!1},this.applyPlaylistData=function(M){try{c.apply(M,{ot:mh,su:!c.initialized})}catch(U){W.warn("Could not generate manifest CMCD data.",U)}},this.applyFragmentData=function(M){try{var U=M.frag,X=c.hls.levels[U.level],J=c.getObjectType(U),ee={d:1e3*U.duration,ot:J};J!==Ro&&J!==io&&J!=ta||(ee.br=X.bitrate/1e3,ee.tb=c.getTopBandwidth(J)/1e3,ee.bl=c.getBufferLength(J)),c.apply(M,ee)}catch(oe){W.warn("Could not generate segment CMCD data.",oe)}},this.hls=o;var b=this.config=o.config,k=b.cmcd;k!=null&&(b.pLoader=this.createPlaylistLoader(),b.fLoader=this.createFragmentLoader(),this.sid=k.sessionId||N.uuid(),this.cid=k.contentId,this.useHeaders=k.useHeaders===!0,this.registerListeners())}var R=N.prototype;return R.registerListeners=function(){var o=this.hls;o.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),o.on(w.MEDIA_DETACHED,this.onMediaDetached,this),o.on(w.BUFFER_CREATED,this.onBufferCreated,this)},R.unregisterListeners=function(){var o=this.hls;o.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),o.off(w.MEDIA_DETACHED,this.onMediaDetached,this),o.off(w.BUFFER_CREATED,this.onBufferCreated,this)},R.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},R.onMediaAttached=function(o,c){this.media=c.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},R.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},R.onBufferCreated=function(o,c){var b,k;this.audioBuffer=(b=c.tracks.audio)==null?void 0:b.buffer,this.videoBuffer=(k=c.tracks.video)==null?void 0:k.buffer},R.createData=function(){var o;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:(o=this.media)==null?void 0:o.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},R.apply=function(o,c){c===void 0&&(c={}),t(c,this.createData());var b=c.ot===ls||c.ot===Ro||c.ot===ta;if(this.starved&&b&&(c.bs=!0,c.su=!0,this.starved=!1),c.su==null&&(c.su=this.buffering),this.useHeaders){var k=N.toHeaders(c);if(!Object.keys(k).length)return;o.headers||(o.headers={}),t(o.headers,k)}else{var M=N.toQuery(c);if(!M)return;o.url=N.appendQueryToUri(o.url,M)}},R.getObjectType=function(o){var c=o.type;return c==="subtitle"?ec:o.sn==="initSegment"?ls:c==="audio"?io:c==="main"?this.hls.audioTracks.length?Ro:ta:void 0},R.getTopBandwidth=function(o){var c,b=0,k=this.hls;if(o===io)c=k.audioTracks;else{var M=k.maxAutoLevel,U=M>-1?M+1:k.levels.length;c=k.levels.slice(0,U)}for(var X,J=y(c);!(X=J()).done;){var ee=X.value;ee.bitrate>b&&(b=ee.bitrate)}return b>0?b:NaN},R.getBufferLength=function(o){var c=this.hls.media,b=o===io?this.audioBuffer:this.videoBuffer;return b&&c?1e3*fr.bufferInfo(b,c.currentTime,this.config.maxBufferHole).len:NaN},R.createPlaylistLoader=function(){var o=this.config.pLoader,c=this.applyPlaylistData,b=o||this.config.loader;return function(){function k(U){this.loader=void 0,this.loader=new b(U)}var M=k.prototype;return M.destroy=function(){this.loader.destroy()},M.abort=function(){this.loader.abort()},M.load=function(U,X,J){c(U),this.loader.load(U,X,J)},h(k,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),k}()},R.createFragmentLoader=function(){var o=this.config.fLoader,c=this.applyFragmentData,b=o||this.config.loader;return function(){function k(U){this.loader=void 0,this.loader=new b(U)}var M=k.prototype;return M.destroy=function(){this.loader.destroy()},M.abort=function(){this.loader.abort()},M.load=function(U,X,J){c(U),this.loader.load(U,X,J)},h(k,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),k}()},N.uuid=function(){var o=URL.createObjectURL(new Blob),c=o.toString();return URL.revokeObjectURL(o),c.slice(c.lastIndexOf("/")+1)},N.serialize=function(o){for(var c,b=[],k=function(Te){return!Number.isNaN(Te)&&Te!=null&&Te!==""&&Te!==!1},M=function(Te){return Math.round(Te)},U=function(Te){return 100*M(Te/100)},X={br:M,d:M,bl:U,dl:U,mtp:U,nor:function(Te){return encodeURIComponent(Te)},rtp:U,tb:M},J=y(Object.keys(o||{}).sort());!(c=J()).done;){var ee=c.value,oe=o[ee];if(k(oe)&&!(ee==="v"&&oe===1||ee=="pr"&&oe===1)){var pe=X[ee];pe&&(oe=pe(oe));var me=typeof oe,be=void 0;be=ee==="ot"||ee==="sf"||ee==="st"?ee+"="+oe:me==="boolean"?ee:me==="number"?ee+"="+oe:ee+"="+JSON.stringify(oe),b.push(be)}}return b.join(",")},N.toHeaders=function(o){for(var c={},b=["Object","Request","Session","Status"],k=[{},{},{},{}],M={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},U=0,X=Object.keys(o);U<X.length;U++){var J=X[U];k[M[J]!=null?M[J]:1][J]=o[J]}for(var ee=0;ee<k.length;ee++){var oe=N.serialize(k[ee]);oe&&(c["CMCD-"+b[ee]]=oe)}return c},N.toQuery=function(o){return"CMCD="+encodeURIComponent(N.serialize(o))},N.appendQueryToUri=function(o,c){if(!c)return o;var b=o.includes("?")?"&":"?";return""+o+b+c},N}(),Io=function(){function N(o){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=o,this.log=W.log.bind(W,"[content-steering]:"),this.registerListeners()}var R=N.prototype;return R.registerListeners=function(){var o=this.hls;o.on(w.MANIFEST_LOADING,this.onManifestLoading,this),o.on(w.MANIFEST_LOADED,this.onManifestLoaded,this),o.on(w.MANIFEST_PARSED,this.onManifestParsed,this),o.on(w.ERROR,this.onError,this)},R.unregisterListeners=function(){var o=this.hls;o&&(o.off(w.MANIFEST_LOADING,this.onManifestLoading,this),o.off(w.MANIFEST_LOADED,this.onManifestLoaded,this),o.off(w.MANIFEST_PARSED,this.onManifestParsed,this),o.off(w.ERROR,this.onError,this))},R.startLoad=function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var o=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,o)}else this.loadSteeringManifest(this.uri)},R.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)},R.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},R.removeLevel=function(o){var c=this.levels;c&&(this.levels=c.filter(function(b){return b!==o}))},R.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},R.onManifestLoaded=function(o,c){var b=c.contentSteering;b!==null&&(this.pathwayId=b.pathwayId,this.uri=b.uri,this.started&&this.startLoad())},R.onManifestParsed=function(o,c){this.audioTracks=c.audioTracks,this.subtitleTracks=c.subtitleTracks},R.onError=function(o,c){var b=c.errorAction;if((b==null?void 0:b.action)===Zt&&b.flags===Zr){var k=this.pathwayPriority,M=this.pathwayId;this.penalizedPathways[M]||(this.penalizedPathways[M]=performance.now()),!k&&this.levels&&(k=this.levels.reduce(function(U,X){return U.indexOf(X.pathwayId)===-1&&U.push(X.pathwayId),U},[])),k&&k.length>1&&(this.updatePathwayPriority(k),b.resolved=this.pathwayId!==M)}},R.filterParsedLevels=function(o){this.levels=o;var c=this.getLevelsForPathway(this.pathwayId);if(c.length===0){var b=o[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+b+'"'),c=this.getLevelsForPathway(b),this.pathwayId=b}return c.length!==o.length?(this.log("Found "+c.length+"/"+o.length+' levels in Pathway "'+this.pathwayId+'"'),c):o},R.getLevelsForPathway=function(o){return this.levels===null?[]:this.levels.filter(function(c){return o===c.pathwayId})},R.updatePathwayPriority=function(o){var c;this.pathwayPriority=o;var b=this.penalizedPathways,k=performance.now();Object.keys(b).forEach(function(oe){k-b[oe]>3e5&&delete b[oe]});for(var M=0;M<o.length;M++){var U=o[M];if(!b[U]){if(U===this.pathwayId)return;var X=this.hls.nextLoadLevel,J=this.hls.levels[X];if((c=this.getLevelsForPathway(U)).length>0){this.log('Setting Pathway to "'+U+'"'),this.pathwayId=U,this.hls.trigger(w.LEVELS_UPDATED,{levels:c});var ee=this.hls.levels[X];J&&ee&&this.levels&&(ee.attrs["STABLE-VARIANT-ID"]!==J.attrs["STABLE-VARIANT-ID"]&&ee.bitrate!==J.bitrate&&this.log("Unstable Pathways change from bitrate "+J.bitrate+" to "+ee.bitrate),this.hls.nextLoadLevel=X);break}}}},R.clonePathways=function(o){var c=this,b=this.levels;if(b){var k={},M={};o.forEach(function(U){var X=U.ID,J=U["BASE-ID"],ee=U["URI-REPLACEMENT"];if(!b.some(function(pe){return pe.pathwayId===X})){var oe=c.getLevelsForPathway(J).map(function(pe){var me=t({},pe);me.details=void 0,me.url=hl(pe.uri,pe.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",ee);var be=new C(pe.attrs);be["PATHWAY-ID"]=X;var Te=be.AUDIO&&be.AUDIO+"_clone_"+X,Re=be.SUBTITLES&&be.SUBTITLES+"_clone_"+X;Te&&(k[be.AUDIO]=Te,be.AUDIO=Te),Re&&(M[be.SUBTITLES]=Re,be.SUBTITLES=Re),me.attrs=be;var ye=new $i(me);return ai(ye,"audio",Te),ai(ye,"text",Re),ye});b.push.apply(b,oe),tc(c.audioTracks,k,ee,X),tc(c.subtitleTracks,M,ee,X)}})}},R.loadSteeringManifest=function(o){var c,b=this,k=this.hls.config,M=k.loader;this.loader&&this.loader.destroy(),this.loader=new M(k);try{c=new self.URL(o)}catch{return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+o)}if(c.protocol!=="data:"){var U=0|(this.hls.bandwidthEstimate||k.abrEwmaDefaultEstimate);c.searchParams.set("_HLS_pathway",this.pathwayId),c.searchParams.set("_HLS_throughput",""+U)}var X={responseType:"json",url:c.href},J=k.steeringManifestLoadPolicy.default,ee=J.errorRetry||J.timeoutRetry||{},oe={loadPolicy:J,timeout:J.maxLoadTimeMs,maxRetry:ee.maxNumRetry||0,retryDelay:ee.retryDelayMs||0,maxRetryDelay:ee.maxRetryDelayMs||0},pe={onSuccess:function(me,be,Te,Re){b.log('Loaded steering manifest: "'+c+'"');var ye=me.data;if(ye.VERSION===1){b.updated=performance.now(),b.timeToLoad=ye.TTL;var ke=ye["RELOAD-URI"],$e=ye["PATHWAY-CLONES"],He=ye["PATHWAY-PRIORITY"];if(ke)try{b.uri=new self.URL(ke,c).href}catch{return b.enabled=!1,void b.log("Failed to parse Steering Manifest RELOAD-URI: "+ke)}b.scheduleRefresh(b.uri||Te.url),$e&&b.clonePathways($e),He&&b.updatePathwayPriority(He)}else b.log("Steering VERSION "+ye.VERSION+" not supported!")},onError:function(me,be,Te,Re){if(b.log("Error loading steering manifest: "+me.code+" "+me.text+" ("+be.url+")"),b.stopLoad(),me.code===410)return b.enabled=!1,void b.log("Steering manifest "+be.url+" no longer available");var ye=1e3*b.timeToLoad;if(me.code!==429)b.scheduleRefresh(b.uri||be.url,ye);else{var ke=b.loader;if(typeof(ke==null?void 0:ke.getResponseHeader)=="function"){var $e=ke.getResponseHeader("Retry-After");$e&&(ye=1e3*parseFloat($e))}b.log("Steering manifest "+be.url+" rate limited")}},onTimeout:function(me,be,Te){b.log("Timeout loading steering manifest ("+be.url+")"),b.scheduleRefresh(b.uri||be.url)}};this.log("Requesting steering manifest: "+c),this.loader.load(X,oe,pe)},R.scheduleRefresh=function(o,c){var b=this;c===void 0&&(c=1e3*this.timeToLoad),self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(function(){b.loadSteeringManifest(o)},c)},N}();function tc(N,R,o,c){N&&Object.keys(R).forEach(function(b){var k=N.filter(function(M){return M.groupId===b}).map(function(M){var U=t({},M);return U.details=void 0,U.attrs=new C(U.attrs),U.url=U.attrs.URI=hl(M.url,M.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",o),U.groupId=U.attrs["GROUP-ID"]=R[b],U.attrs["PATHWAY-ID"]=c,U});N.push.apply(N,k)})}function hl(N,R,o,c){var b,k=c.HOST,M=c.PARAMS,U=c[o];R&&(b=U==null?void 0:U[R])&&(N=b);var X=new self.URL(N);return k&&!b&&(X.host=k),M&&Object.keys(M).sort().forEach(function(J){J&&X.searchParams.set(J,M[J])}),X.href}var Ui=/^age:\s*[\d.]+\s*$/im,Mo=function(){function N(o){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=o&&o.xhrSetup||null,this.stats=new $,this.retryDelay=0}var R=N.prototype;return R.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},R.abortInternal=function(){var o=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),o&&(o.onreadystatechange=null,o.onprogress=null,o.readyState!==4&&(this.stats.aborted=!0,o.abort()))},R.abort=function(){var o;this.abortInternal(),(o=this.callbacks)!=null&&o.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},R.load=function(o,c,b){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=o,this.config=c,this.callbacks=b,this.loadInternal()},R.loadInternal=function(){var o=this,c=this.config,b=this.context;if(c){var k=this.loader=new self.XMLHttpRequest,M=this.stats;M.loading.first=0,M.loaded=0,M.aborted=!1;var U=this.xhrSetup;U?Promise.resolve().then(function(){if(!o.stats.aborted)return U(k,b.url)}).catch(function(X){return k.open("GET",b.url,!0),U(k,b.url)}).then(function(){o.stats.aborted||o.openAndSendXhr(k,b,c)}).catch(function(X){o.callbacks.onError({code:k.status,text:X.message},b,k,M)}):this.openAndSendXhr(k,b,c)}},R.openAndSendXhr=function(o,c,b){o.readyState||o.open("GET",c.url,!0);var k=this.context.headers,M=b.loadPolicy,U=M.maxTimeToFirstByteMs,X=M.maxLoadTimeMs;if(k)for(var J in k)o.setRequestHeader(J,k[J]);c.rangeEnd&&o.setRequestHeader("Range","bytes="+c.rangeStart+"-"+(c.rangeEnd-1)),o.onreadystatechange=this.readystatechange.bind(this),o.onprogress=this.loadprogress.bind(this),o.responseType=c.responseType,self.clearTimeout(this.requestTimeout),b.timeout=U&&A(U)?U:X,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),b.timeout),o.send()},R.readystatechange=function(){var o=this.context,c=this.loader,b=this.stats;if(o&&c){var k=c.readyState,M=this.config;if(!b.aborted&&k>=2&&(b.loading.first===0&&(b.loading.first=Math.max(self.performance.now(),b.loading.start),M.timeout!==M.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),M.timeout=M.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),M.loadPolicy.maxLoadTimeMs-(b.loading.first-b.loading.start)))),k===4)){self.clearTimeout(this.requestTimeout),c.onreadystatechange=null,c.onprogress=null;var U=c.status,X=c.responseType!=="text";if(U>=200&&U<300&&(X&&c.response||c.responseText!==null)){b.loading.end=Math.max(self.performance.now(),b.loading.first);var J=X?c.response:c.responseText,ee=c.responseType==="arraybuffer"?J.byteLength:J.length;if(b.loaded=b.total=ee,b.bwEstimate=8e3*b.total/(b.loading.end-b.loading.first),!this.callbacks)return;var oe=this.callbacks.onProgress;if(oe&&oe(b,o,J,c),!this.callbacks)return;var pe={url:c.responseURL,data:J,code:U};this.callbacks.onSuccess(pe,b,o,c)}else{var me=M.loadPolicy.errorRetry;Ts(me,b.retry,!1,U)?this.retry(me):(W.error(U+" while loading "+o.url),this.callbacks.onError({code:U,text:c.statusText},o,c,b))}}}},R.loadtimeout=function(){var o,c=(o=this.config)==null?void 0:o.loadPolicy.timeoutRetry;if(Ts(c,this.stats.retry,!0))this.retry(c);else{W.warn("timeout while loading "+this.context.url);var b=this.callbacks;b&&(this.abortInternal(),b.onTimeout(this.stats,this.context,this.loader))}},R.retry=function(o){var c=this.context,b=this.stats;this.retryDelay=Dr(o,b.retry),b.retry++,W.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+c.url+", retrying "+b.retry+"/"+o.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},R.loadprogress=function(o){var c=this.stats;c.loaded=o.loaded,o.lengthComputable&&(c.total=o.total)},R.getCacheAge=function(){var o=null;if(this.loader&&Ui.test(this.loader.getAllResponseHeaders())){var c=this.loader.getResponseHeader("age");o=c?parseFloat(c):null}return o},R.getResponseHeader=function(o){return this.loader&&new RegExp("^"+o+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(o):null},N}(),rc=/(\d+)-(\d+)\/(\d+)/,jn=function(){function N(o){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=o.fetchSetup||fl,this.controller=new self.AbortController,this.stats=new $}var R=N.prototype;return R.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},R.abortInternal=function(){var o=this.response;o!=null&&o.ok||(this.stats.aborted=!0,this.controller.abort())},R.abort=function(){var o;this.abortInternal(),(o=this.callbacks)!=null&&o.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},R.load=function(o,c,b){var k=this,M=this.stats;if(M.loading.start)throw new Error("Loader can only be used once.");M.loading.start=self.performance.now();var U=function(be,Te){var Re={method:"GET",mode:"cors",credentials:"same-origin",signal:Te,headers:new self.Headers(t({},be.headers))};return be.rangeEnd&&Re.headers.set("Range","bytes="+be.rangeStart+"-"+String(be.rangeEnd-1)),Re}(o,this.controller.signal),X=b.onProgress,J=o.responseType==="arraybuffer",ee=J?"byteLength":"length",oe=c.loadPolicy,pe=oe.maxTimeToFirstByteMs,me=oe.maxLoadTimeMs;this.context=o,this.config=c,this.callbacks=b,this.request=this.fetchSetup(o,U),self.clearTimeout(this.requestTimeout),c.timeout=pe&&A(pe)?pe:me,this.requestTimeout=self.setTimeout(function(){k.abortInternal(),b.onTimeout(M,o,k.response)},c.timeout),self.fetch(this.request).then(function(be){k.response=k.loader=be;var Te=Math.max(self.performance.now(),M.loading.start);if(self.clearTimeout(k.requestTimeout),c.timeout=me,k.requestTimeout=self.setTimeout(function(){k.abortInternal(),b.onTimeout(M,o,k.response)},me-(Te-M.loading.start)),!be.ok){var Re=be.status,ye=be.statusText;throw new Po(ye||"fetch, bad network response",Re,be)}return M.loading.first=Te,M.total=function(ke){var $e=ke.get("Content-Range");if($e){var He=function(lt){var ct=rc.exec(lt);if(ct)return parseInt(ct[2])-parseInt(ct[1])+1}($e);if(A(He))return He}var Ze=ke.get("Content-Length");if(Ze)return parseInt(Ze)}(be.headers)||M.total,X&&A(c.highWaterMark)?k.loadProgressively(be,M,o,c.highWaterMark,X):J?be.arrayBuffer():o.responseType==="json"?be.json():be.text()}).then(function(be){var Te=k.response;self.clearTimeout(k.requestTimeout),M.loading.end=Math.max(self.performance.now(),M.loading.first);var Re=be[ee];Re&&(M.loaded=M.total=Re);var ye={url:Te.url,data:be,code:Te.status};X&&!A(c.highWaterMark)&&X(M,o,be,Te),b.onSuccess(ye,M,o,Te)}).catch(function(be){if(self.clearTimeout(k.requestTimeout),!M.aborted){var Te=be&&be.code||0,Re=be?be.message:null;b.onError({code:Te,text:Re},o,be?be.details:null,M)}})},R.getCacheAge=function(){var o=null;if(this.response){var c=this.response.headers.get("age");o=c?parseFloat(c):null}return o},R.getResponseHeader=function(o){return this.response?this.response.headers.get(o):null},R.loadProgressively=function(o,c,b,k,M){k===void 0&&(k=0);var U=new jl,X=o.body.getReader();return function J(){return X.read().then(function(ee){if(ee.done)return U.dataLength&&M(c,b,U.flush(),o),Promise.resolve(new ArrayBuffer(0));var oe=ee.value,pe=oe.length;return c.loaded+=pe,pe<k||U.dataLength?(U.push(oe),U.dataLength>=k&&M(c,b,U.flush(),o)):M(c,b,oe,o),J()}).catch(function(){return Promise.reject()})}()},N}();function fl(N,R){return new self.Request(N.url,R)}var Po=function(N){function R(o,c,b){var k;return(k=N.call(this,o)||this).code=void 0,k.details=void 0,k.code=c,k.details=b,k}return i(R,N),R}(a(Error)),ra=/\s/,ic=f(f({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Mo,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Ul,bufferController:nh,capLevelController:ph,errorController:xi,fpsController:os,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:se,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:{newCue:function(N,R,o,c){for(var b,k,M,U,X,J=[],ee=self.VTTCue||self.TextTrackCue,oe=0;oe<c.rows.length;oe++)if(M=!0,U=0,X="",!(b=c.rows[oe]).isEmpty()){for(var pe,me=0;me<b.chars.length;me++)ra.test(b.chars[me].uchar)&&M?U++:(X+=b.chars[me].uchar,M=!1);b.cueStartTime=R,R===o&&(o+=1e-4),U>=16?U--:U++;var be=Kl(X.trim()),Te=vn(R,o,be);N!=null&&(pe=N.cues)!=null&&pe.getCueById(Te)||((k=new ee(R,o,be)).id=Te,k.line=oe+1,k.align="left",k.position=10+Math.min(80,10*Math.floor(8*U/32)),J.push(k))}return N&&J.length&&(J.sort(function(Re,ye){return Re.line==="auto"||ye.line==="auto"?0:Re.line>8&&ye.line>8?ye.line-Re.line:Re.line-ye.line}),J.forEach(function(Re){return Bs(N,Re)})),J}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:qa,subtitleTrackController:To,timelineController:dh,audioStreamController:rl,audioTrackController:Ja,emeController:Cs,cmcdController:gh,contentSteeringController:Io});function ji(N){return N&&typeof N=="object"?Array.isArray(N)?N.map(ji):Object.keys(N).reduce(function(R,o){return R[o]=ji(N[o]),R},{}):N}function ul(N){var R=N.loader;R!==jn&&R!==Mo?(W.log("[config]: Custom loader detected, cannot enable progressive streaming"),N.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(N.loader=jn,N.progressive=!0,N.enableSoftwareAES=!0,W.log("[config]: Progressive streaming enabled, using FetchLoader"))}var nc=function(){function N(o){o===void 0&&(o={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Qs,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,Z(o.debug||!1,"Hls instance");var c=this.config=function(Pt,St){if((St.liveSyncDurationCount||St.liveMaxLatencyDurationCount)&&(St.liveSyncDuration||St.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(St.liveMaxLatencyDurationCount!==void 0&&(St.liveSyncDurationCount===void 0||St.liveMaxLatencyDurationCount<=St.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(St.liveMaxLatencyDuration!==void 0&&(St.liveSyncDuration===void 0||St.liveMaxLatencyDuration<=St.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var Wt=ji(Pt),Qt=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(function(Vt){var Gt=(Vt==="level"?"playlist":Vt)+"LoadPolicy",Jt=St[Gt]===void 0,Kt=[];Qt.forEach(function(Ct){var wr=Vt+"Loading"+Ct,Rr=St[wr];if(Rr!==void 0&&Jt){Kt.push(wr);var $r=Wt[Gt].default;switch(St[Gt]={default:$r},Ct){case"TimeOut":$r.maxLoadTimeMs=Rr,$r.maxTimeToFirstByteMs=Rr;break;case"MaxRetry":$r.errorRetry.maxNumRetry=Rr,$r.timeoutRetry.maxNumRetry=Rr;break;case"RetryDelay":$r.errorRetry.retryDelayMs=Rr,$r.timeoutRetry.retryDelayMs=Rr;break;case"MaxRetryTimeout":$r.errorRetry.maxRetryDelayMs=Rr,$r.timeoutRetry.maxRetryDelayMs=Rr}}}),Kt.length&&W.warn('hls.js config: "'+Kt.join('", "')+'" setting(s) are deprecated, use "'+Gt+'": '+JSON.stringify(St[Gt]))}),f(f({},Wt),St)}(N.DefaultConfig,o);this.userConfig=o,this._autoLevelCapping=-1,c.progressive&&ul(c);var b=c.abrController,k=c.bufferController,M=c.capLevelController,U=c.errorController,X=c.fpsController,J=new U(this),ee=this.abrController=new b(this),oe=this.bufferController=new k(this),pe=this.capLevelController=new M(this),me=new X(this),be=new ws(this),Te=new ba(this),Re=c.contentSteeringController,ye=Re?new Re(this):null,ke=this.levelController=new si(this,ye),$e=new Ln(this),He=new Ft(this.config),Ze=this.streamController=new Xi(this,$e,He);pe.setStreamController(Ze),me.setStreamController(Ze);var lt=[be,ke,Ze];ye&&lt.splice(1,0,ye),this.networkControllers=lt;var ct=[ee,oe,pe,me,Te,$e];this.audioTrackController=this.createController(c.audioTrackController,lt);var wt=c.audioStreamController;wt&&lt.push(new wt(this,$e,He)),this.subtitleTrackController=this.createController(c.subtitleTrackController,lt);var dt=c.subtitleStreamController;dt&&lt.push(new dt(this,$e,He)),this.createController(c.timelineController,ct),He.emeController=this.emeController=this.createController(c.emeController,ct),this.cmcdController=this.createController(c.cmcdController,ct),this.latencyController=this.createController(un,ct),this.coreComponents=ct,lt.push(J);var gt=J.onErrorOut;typeof gt=="function"&&this.on(w.ERROR,gt,J)}N.isSupported=function(){return function(){var o=nr();if(!o)return!1;var c=Ml(),b=o&&typeof o.isTypeSupported=="function"&&o.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),k=!c||c.prototype&&typeof c.prototype.appendBuffer=="function"&&typeof c.prototype.remove=="function";return!!b&&!!k}()};var R=N.prototype;return R.createController=function(o,c){if(o){var b=new o(this);return c&&c.push(b),b}return null},R.on=function(o,c,b){b===void 0&&(b=this),this._emitter.on(o,c,b)},R.once=function(o,c,b){b===void 0&&(b=this),this._emitter.once(o,c,b)},R.removeAllListeners=function(o){this._emitter.removeAllListeners(o)},R.off=function(o,c,b,k){b===void 0&&(b=this),this._emitter.off(o,c,b,k)},R.listeners=function(o){return this._emitter.listeners(o)},R.emit=function(o,c,b){return this._emitter.emit(o,c,b)},R.trigger=function(o,c){if(this.config.debug)return this.emit(o,o,c);try{return this.emit(o,o,c)}catch(b){W.error("An internal error happened while handling event "+o+'. Error message: "'+b.message+'". Here is a stacktrace:',b),this.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,fatal:!1,event:o,error:b})}return!1},R.listenerCount=function(o){return this._emitter.listenerCount(o)},R.destroy=function(){W.log("destroy"),this.trigger(w.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(c){return c.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(c){return c.destroy()}),this.coreComponents.length=0;var o=this.config;o.xhrSetup=o.fetchSetup=void 0,this.userConfig=null},R.attachMedia=function(o){W.log("attachMedia"),this._media=o,this.trigger(w.MEDIA_ATTACHING,{media:o})},R.detachMedia=function(){W.log("detachMedia"),this.trigger(w.MEDIA_DETACHING,void 0),this._media=null},R.loadSource=function(o){this.stopLoad();var c=this.media,b=this.url,k=this.url=S.buildAbsoluteURL(self.location.href,o,{alwaysNormalize:!0});W.log("loadSource:"+k),c&&b&&(b!==k||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(c)),this.trigger(w.MANIFEST_LOADING,{url:o})},R.startLoad=function(o){o===void 0&&(o=-1),W.log("startLoad("+o+")"),this.networkControllers.forEach(function(c){c.startLoad(o)})},R.stopLoad=function(){W.log("stopLoad"),this.networkControllers.forEach(function(o){o.stopLoad()})},R.swapAudioCodec=function(){W.log("swapAudioCodec"),this.streamController.swapAudioCodec()},R.recoverMediaError=function(){W.log("recoverMediaError");var o=this._media;this.detachMedia(),o&&this.attachMedia(o)},R.removeLevel=function(o,c){c===void 0&&(c=0),this.levelController.removeLevel(o,c)},h(N,[{key:"levels",get:function(){var o=this.levelController.levels;return o||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(o){W.log("set currentLevel:"+o),this.loadLevel=o,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(o){W.log("set nextLevel:"+o),this.levelController.manualLevel=o,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(o){W.log("set loadLevel:"+o),this.levelController.manualLevel=o}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(o){this.levelController.nextLoadLevel=o}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(o){W.log("set firstLevel:"+o),this.levelController.firstLevel=o}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(o){W.log("set startLevel:"+o),o!==-1&&(o=Math.max(o,this.minAutoLevel)),this.levelController.startLevel=o}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(o){var c=!!o;c!==this.config.capLevelToPlayerSize&&(c?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=c)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(o){this._autoLevelCapping!==o&&(W.log("set autoLevelCapping:"+o),this._autoLevelCapping=o)}},{key:"bandwidthEstimate",get:function(){var o=this.abrController.bwEstimator;return o?o.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var o=this.abrController.bwEstimator;return o?o.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(o){Us.indexOf(o)>-1&&(this._maxHdcpLevel=o)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var o=this.levels,c=this.config.minAutoBitrate;if(!o)return 0;for(var b=o.length,k=0;k<b;k++)if(o[k].maxBitrate>=c)return k;return 0}},{key:"maxAutoLevel",get:function(){var o,c=this.levels,b=this.autoLevelCapping,k=this.maxHdcpLevel;if(o=b===-1&&c&&c.length?c.length-1:b,k)for(var M=o;M--;){var U=c[M].attrs["HDCP-LEVEL"];if(U&&U<=k)return M}return o}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(o){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,o)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var o=this.audioTrackController;return o?o.audioTracks:[]}},{key:"audioTrack",get:function(){var o=this.audioTrackController;return o?o.audioTrack:-1},set:function(o){var c=this.audioTrackController;c&&(c.audioTrack=o)}},{key:"subtitleTracks",get:function(){var o=this.subtitleTrackController;return o?o.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var o=this.subtitleTrackController;return o?o.subtitleTrack:-1},set:function(o){var c=this.subtitleTrackController;c&&(c.subtitleTrack=o)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var o=this.subtitleTrackController;return!!o&&o.subtitleDisplay},set:function(o){var c=this.subtitleTrackController;c&&(c.subtitleDisplay=o)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(o){this.config.lowLatencyMode=o}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.12"}},{key:"Events",get:function(){return w}},{key:"ErrorTypes",get:function(){return I}},{key:"ErrorDetails",get:function(){return D}},{key:"DefaultConfig",get:function(){return N.defaultConfig?N.defaultConfig:ic},set:function(o){N.defaultConfig=o}}]),N}();return nc.defaultConfig=void 0,nc},typeof exports=="object"&&typeof module<"u"?module.exports=m():typeof define=="function"&&define.amd?define(m):(e=typeof globalThis<"u"?globalThis:e||self).Hls=m()})(!1);const Dc=["play","playing","timeupdate"],T_=[{label:"2.0X",value:2},{label:"1.5X",value:1.5},{label:"1.0X",value:1},{label:"0.5X",value:.5}];function S_(){if(typeof document<"u"&&!customElements.get("r-player")){class K extends HTMLElement{constructor(){super(),_t(this,"ctx"),_t(this,"_player"),_t(this,"_container"),_t(this,"_slot"),_t(this,"_playerController"),_t(this,"_playerBtn"),_t(this,"_progress"),_t(this,"_progressDot"),_t(this,"_progressWrap"),_t(this,"_progressWrapValue"),_t(this,"requestAnimationFrameId"),_t(this,"moveProgress"),_t(this,"_playerControllerBottom"),_t(this,"_playerControllerBottomRight"),_t(this,"_playerControllerBottomLeft"),_t(this,"_playerControllerBottomPlayBtn"),_t(this,"_playerControllerBottomTimeCurrent"),_t(this,"_playerControllerBottomTimeDuration"),_t(this,"_playerControllerBottomTimeDivide"),_t(this,"_playControllerBottomClarity"),_t(this,"_playControllerBottomSpeed"),_t(this,"_playControllerBottomSpeedIcon"),_t(this,"_playControllerBottomVolumeProgress"),_t(this,"_playControllerBottomRightFullScreen"),_t(this,"_playControllerBottomVolume"),_t(this,"_playControllerBottomSpeedPopover"),_t(this,"controllerBarTimeId"),_t(this,"_playerTip"),_t(this,"_playerTipTime"),_t(this,"_playerTipText"),_t(this,"_volume"),_t(this,"_video"),_t(this,"_hls"),_t(this,"changeClarityToSetVideo",()=>{const{currentTime:m,playbackRate:g,volume:f,currentState:u}=this.ctx;this.setCurrentTime(m),this.setPlaybackRate(g),this.setVolume(f),Dc.includes(u)?this.play():this.pause()}),_t(this,"changeClarity",m=>{this.ctx.clarity=m.detail.value;const g=this.ctx.levelMap.get(m.detail.value);g&&this._hls&&(this._hls.loadSource(g),this._hls.startLoad(),this.changeClarityToSetVideo())}),_t(this,"createClaritySelect",()=>{const{levels:m,url:g}=this.ctx;if(this._playControllerBottomClarity.innerHTML="",m.length<=0)return;const f=document.createDocumentFragment();m.forEach(h=>{const{name:s,url:t}=h;if(!s||!t)return;this.ctx.levelMap.set(s,t);const i=document.createElement("r-option");i.setAttribute("value",s),i.innerHTML=s,f.appendChild(i)});const u=document.createElement("r-select");u.setAttribute("value",this.ctx.clarity||"Auto"),u.appendChild(f),u.setAttribute("type","text"),u.setAttribute("placement","top"),u.setAttribute("dropdownclass","video-clarity-dropdown"),u.addEventListener("change",this.changeClarity),this._playControllerBottomClarity.appendChild(u)}),_t(this,"manifestLoaded",(m,g)=>{if(m==="hlsManifestLoaded"){const{url:f,levels:u=[]}=g;if(u.length<=0)return;u.forEach(h=>{this.ctx.levelMap.get(h.name)!==h.url&&this.ctx.levels.push(h)}),this.ctx.levelMap.get("Auto")||(this.ctx.levels.push({name:"Auto",url:f}),this.ctx.levelMap.set("Auto",f)),this.ctx.url=f,this.createClaritySelect()}}),_t(this,"updatePlayer",()=>{var m;const{Hls:g}=window;this.contains(this._player)||this.appendChild(this._player),this._hls&&(this._hls.destroy(),this._hls=void 0),this._video=document.createElement("video"),this._video.setAttribute("class","ran-player-video"),this._video.setAttribute("preload","auto"),this._video.setAttribute("x5-video-player-type","h5"),this._video.setAttribute("x5-video-orientation","portrait"),this._video.setAttribute("webkit-playsinline","true"),this._video.setAttribute("playsinline","true"),this._video.setAttribute("controls","false"),this._video.controls=!1,this._video.setAttribute("initial-time","0.01"),g!=null&&g.isSupported()&&this.src&&(this._hls=new g,this._hls&&(this._hls.off(g.Events.MANIFEST_LOADED,this.manifestLoaded),this._hls.on(g.Events.MANIFEST_LOADED,this.manifestLoaded),this._hls.loadSource(this.src),this._hls.attachMedia(this._video)),this._container.appendChild(this._video),(m=this._video.parentElement)==null||m.setAttribute("class","ran-player-contain")),this.listenEvent()}),_t(this,"change",(m,g)=>{const f=this.getCurrentTime(),u=this.getTotalTime();this.dispatchEvent(new CustomEvent("change",{detail:{type:m,data:g,currentTime:f,duration:u,tag:this._video}}))}),_t(this,"onCanplay",m=>{this.ctx.currentState=m.type,ua(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),gs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),this.change("canplay",m),this.resize()}),_t(this,"onCanplaythrough",m=>{this.ctx.currentState=m.type,this.change("canplaythrough",m)}),_t(this,"onComplete",m=>{this.ctx.currentState=m.type,this.change("complete",m)}),_t(this,"onDurationchange",m=>{this.ctx.currentState=m.type,this.change("durationchange",m)}),_t(this,"onEmptied",m=>{this.ctx.currentState=m.type,this.change("emptied",m)}),_t(this,"onEnded",m=>{this.ctx.currentState=m.type,this.change("ended",m)}),_t(this,"onError",m=>{this.ctx.currentState=m.type,this.change("error",m)}),_t(this,"onLoadedmetadata",m=>{this.ctx.currentState=m.type,this.change("loadedmetadata",m)}),_t(this,"onLoadstart",m=>{this.ctx.currentState=m.type,this.change("loadstart",m)}),_t(this,"onProgress",m=>{this.ctx.currentState=m.type,this.change("progress",m)}),_t(this,"onRatechange",m=>{this.ctx.currentState=m.type,this.change("ratechange",m)}),_t(this,"onSeeked",m=>{this.ctx.currentState=m.type,this.change("seeked",m)}),_t(this,"onSeeking",m=>{this.ctx.currentState=m.type,this.change("seeking",m)}),_t(this,"onStalled",m=>{this.ctx.currentState=m.type,this.change("stalled",m)}),_t(this,"onSuspend",m=>{this.ctx.currentState=m.type,this.change("suspend",m)}),_t(this,"onLoadeddata",m=>{this.ctx.currentState=m.type;const g=this.getTotalTime();this.ctx.duration=g,this._playerControllerBottomTimeCurrent.innerText="00:00",this._playerControllerBottomTimeDivide.innerText="/",this._playerControllerBottomTimeDuration.innerText=Rc(this.ctx.duration),this.change("loadeddata",m)}),_t(this,"onTimeupdate",m=>{this.ctx.currentState=m.type,this.change("timeupdate",m)}),_t(this,"onVolumechange",m=>{this.ctx.currentState=m.type,this.change("volumechange",m)}),_t(this,"onWaiting",m=>{this.ctx.currentState=m.type,this.change("waiting",m)}),_t(this,"onPlay",m=>{this.ctx.currentState=m.type,this.requestAnimationFrame(this.updateCurrentProgress),ua(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),gs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),this.showControllerBar(),this.change("play",m)}),_t(this,"onPlaying",m=>{this.ctx.currentState=m.type,this._playerBtn.style.setProperty("display","none"),ua(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),gs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),this.requestAnimationFrame(this.updateCurrentProgress),this.showControllerBar(),this.change("playing",m)}),_t(this,"onPause",m=>{this.ctx.currentState=m.type,this._playerBtn.style.setProperty("display","block"),this.change("pause",m),ua(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),gs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),this.cancelAnimationFrame(),this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0)}),_t(this,"clearListenerEvent",()=>{this._video&&(this._video.removeEventListener("canplay",this.onCanplay),this._video.removeEventListener("canplaythrough",this.onCanplaythrough),this._video.removeEventListener("complete",this.onComplete),this._video.removeEventListener("durationchange",this.onDurationchange),this._video.removeEventListener("emptied",this.onEmptied),this._video.removeEventListener("ended",this.onEnded),this._video.removeEventListener("error",this.onError),this._video.removeEventListener("loadeddata",this.onLoadeddata),this._video.removeEventListener("loadedmetadata",this.onLoadedmetadata),this._video.removeEventListener("loadstart",this.onLoadstart),this._video.removeEventListener("pause",this.onPause),this._video.removeEventListener("play",this.onPlay),this._video.removeEventListener("playing",this.onPlaying),this._video.removeEventListener("progress",this.onProgress),this._video.removeEventListener("ratechange",this.onRatechange),this._video.removeEventListener("seeked",this.onSeeked),this._video.removeEventListener("seeking",this.onSeeking),this._video.removeEventListener("stalled",this.onStalled),this._video.removeEventListener("suspend",this.onSuspend),this._video.removeEventListener("timeupdate",this.onTimeupdate),this._video.removeEventListener("volumechange",this.onVolumechange),this._video.removeEventListener("waiting",this.onWaiting))}),_t(this,"listenEvent",()=>{this._video&&(this.clearListenerEvent(),this._video.addEventListener("canplay",this.onCanplay),this._video.addEventListener("canplaythrough",this.onCanplaythrough),this._video.addEventListener("complete",this.onComplete),this._video.addEventListener("durationchange",this.onDurationchange),this._video.addEventListener("emptied",this.onEmptied),this._video.addEventListener("ended",this.onEnded),this._video.addEventListener("error",this.onError),this._video.addEventListener("loadeddata",this.onLoadeddata),this._video.addEventListener("loadedmetadata",this.onLoadedmetadata),this._video.addEventListener("loadstart",this.onLoadstart),this._video.addEventListener("pause",this.onPause),this._video.addEventListener("play",this.onPlay),this._video.addEventListener("playing",this.onPlaying),this._video.addEventListener("progress",this.onProgress),this._video.addEventListener("ratechange",this.onRatechange),this._video.addEventListener("seeked",this.onSeeked),this._video.addEventListener("seeking",this.onSeeking),this._video.addEventListener("stalled",this.onStalled),this._video.addEventListener("suspend",this.onSuspend),this._video.addEventListener("timeupdate",this.onTimeupdate),this._video.addEventListener("volumechange",this.onVolumechange),this._video.addEventListener("waiting",this.onWaiting))}),_t(this,"showControllerBar",m=>{if(m&&m.target.classList.value.includes("ran-player-controller")){this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0);return}Dc.includes(this.ctx.currentState)?(this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0),this.controllerBarTimeId=setTimeout(()=>{this._playerController.style.setProperty("opacity","0"),clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0},2e3)):(this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0))}),_t(this,"progressClick",m=>{const g=this._progressWrap.getBoundingClientRect(),f=m.clientX-g.left,u=Ic(f/this._progress.offsetWidth);this.setCurrentTime(this.ctx.duration*u),this.updateCurrentProgress()}),_t(this,"progressDotMouseDown",m=>{this._playerBtn.style.setProperty("display","none"),this.moveProgress.mouseDown=!0,this.cancelAnimationFrame()}),_t(this,"progressDotMouseMove",m=>{if(this.showControllerBar(m),!this.moveProgress.mouseDown)return;const g=this._progress.getBoundingClientRect(),f=m.clientX-g.left-9,u=Ic(f/this._progress.offsetWidth);this._progressWrapValue.style.setProperty("transform",`scaleX(${u})`),this._progressDot.style.setProperty("transform",`translateX(${u*this._progress.offsetWidth}px)`),this.moveProgress.percentage=Math.floor(u*100)/100}),_t(this,"progressDotMouseUp",()=>{if(!this.moveProgress.mouseDown)return;const m=this.moveProgress.percentage;this.setCurrentTime(this.ctx.duration*m),this.play(),this.moveProgress.mouseDown=!1,this.requestAnimationFrame(this.updateCurrentProgress)}),_t(this,"requestAnimationFrame",m=>{this.requestAnimationFrameId||(this.requestAnimationFrameId=window.requestAnimationFrame(()=>{m(),this.requestAnimationFrameId&&cancelAnimationFrame(this.requestAnimationFrameId),this.requestAnimationFrameId=void 0,this.requestAnimationFrame(m)}))}),_t(this,"cancelAnimationFrame",()=>{this.requestAnimationFrameId&&(cancelAnimationFrame(this.requestAnimationFrameId),this.requestAnimationFrameId=void 0)}),_t(this,"updateCurrentProgress",()=>{const m=this.getCurrentTime();this.ctx.currentTime=m;const{duration:g}=this.ctx;this._progressWrapValue.style.setProperty("transform",`scaleX(${m/g})`),this._progressDot.style.setProperty("transform",`translateX(${m/g*this._progress.offsetWidth}px)`),m>=0&&(this._playerControllerBottomTimeCurrent.innerText=Rc(m))}),_t(this,"changeAttribute",(m,g,f,u,h)=>{m===u&&g!==f&&Fy(h)()}),_t(this,"dispatchClickPlayerContainerAction",m=>{m.stopPropagation(),m.preventDefault(),Dc.includes(this.ctx.currentState)?(this.pause(),this._playerBtn.style.setProperty("display","block")):(this.play(),this._playerBtn.style.setProperty("display","none"))}),_t(this,"SpaceKeyDown",m=>{m.stopPropagation(),m.preventDefault();const{currentTime:g,duration:f}=this.ctx;if(m.code==="Space"&&this.dispatchClickPlayerBtnAction(m),m.code==="Escape"&&document.exitFullscreen().then(()=>{this.ctx.fullScreen=!1}).catch(u=>{}),m.code==="ArrowLeft"){const u=Ic(g-5,0,f);this.setCurrentTime(u),this.play()}if(m.code==="ArrowRight"){const u=Ic(g+5,0,f);this.setCurrentTime(u),this.play()}}),_t(this,"dispatchClickPlayerBtnAction",m=>{m.stopPropagation(),m.preventDefault(),Dc.includes(this.ctx.currentState)?(this.pause(),this._playerBtn.style.setProperty("display","block")):(this.play(),this._playerBtn.style.setProperty("display","none"))}),_t(this,"changeVolumeProgress",m=>{this._video&&(this.setVolume(m.detail.value),this.change("volume",m.detail.value),m.detail.value>0&&(this._volume=m.detail.value))}),_t(this,"openFullScreen",()=>{this.ctx.fullScreen?document.exitFullscreen().then(()=>{this.resize(),this.ctx.fullScreen=!1}).catch(m=>{}):this._player.requestFullscreen().then(()=>{this.resize(),this.ctx.fullScreen=!0}).catch(m=>{})}),_t(this,"changeSpeed",m=>{this.change("speed",m.detail.value),this.setPlaybackRate(m.detail.value)}),_t(this,"progressMouseEnter",m=>{this._playerTip.style.setProperty("opacity","1");const g=this._progress.getBoundingClientRect(),f=m.clientX-g.left;this._playerTipText.innerText?this._playerTip.style.setProperty("transform",`translate(calc(${f}px - 50%),-20px)`):this._playerTip.style.setProperty("transform",`translateX(calc(${f}px - 50%))`),this._playerTipTime.innerText=Rc(f/this._progress.clientWidth*this.ctx.duration)}),_t(this,"progressMouseLeave",m=>{m.target.classList.contains("ran-player-controller-progress-wrap-dot")||this._playerTip.style.setProperty("opacity","0")}),_t(this,"progressMouseMove",m=>{const g=this._progress.getBoundingClientRect();this._playerTip.style.setProperty("opacity","1");const f=m.clientX-g.left;this._playerTipText.innerText?this._playerTip.style.setProperty("transform",`translate(calc(${f}px - 50%),-20px)`):this._playerTip.style.setProperty("transform",`translateX(calc(${f}px - 50%))`),this._playerTipTime.innerText=Rc(f/this._progress.clientWidth*this.ctx.duration)}),_t(this,"changePlayerVolume",()=>{if(!this._video)return;const{volume:m}=this.ctx;m>0?(gs(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-mute"),ua(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-volume"),this._playControllerBottomVolumeProgress.setAttribute("percent","0"),this.setVolume(0),this.change("volume",0)):(gs(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-volume"),ua(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-mute"),this._playControllerBottomVolumeProgress.setAttribute("percent",`${this._volume||.5}`),this.setVolume(.5),this.change("volume",this._volume||.5))}),_t(this,"resize",()=>{if(this._video){const{width:m,height:g}=this._player.getBoundingClientRect();this._video.style.setProperty("width",`${m}px`),this._video.style.setProperty("height",`${g}px`)}this.updateCurrentProgress()}),_t(this,"fullScreenChange",()=>{var m;(m=document.fullscreenElement)!=null&&m.classList.contains("ran-player")?(this.change("fullscreen",!0),this.ctx.fullScreen=!0):(this.change("fullscreen",!1),this.ctx.fullScreen=!1)}),_t(this,"getPlaybackRate",()=>(this._video&&(this.ctx.playbackRate=this._video.playbackRate||0),this.ctx.playbackRate)),_t(this,"setPlaybackRate",m=>(this._video&&(this.ctx.playbackRate=m,this._video.playbackRate=m),this.ctx.playbackRate)),_t(this,"setVolume",m=>(this._video&&(this.ctx.volume=m,this._video.volume=m),this.ctx.volume)),_t(this,"getVolume",()=>(this._video&&(this.ctx.volume=this._video.volume||0),this.ctx.volume)),_t(this,"setCurrentTime",m=>(this._video&&(this.ctx.currentTime=m,this._video.currentTime=m),this.ctx.currentTime)),_t(this,"getCurrentTime",()=>(this._video&&(this.ctx.currentTime=this._video.currentTime||0),this.ctx.currentTime)),_t(this,"getTotalTime",()=>(this._video&&(this.ctx.duration=this._video.duration||0),this.ctx.duration)),_t(this,"play",m=>{this._video&&(m!==void 0&&m>=0&&(this.ctx.currentTime=m,this._video.currentTime=m),this._video.play())}),_t(this,"pause",()=>{this._video&&this._video.pause()}),this._player=document.createElement("div"),this._container=document.createElement("div"),this._slot=document.createElement("slot"),this._playerBtn=document.createElement("div"),this._progress=document.createElement("div"),this._progressWrap=document.createElement("div"),this._progressWrapValue=document.createElement("div"),this._progressDot=document.createElement("div"),this._playerControllerBottom=document.createElement("div"),this._playerControllerBottomRight=document.createElement("div"),this._playerControllerBottomLeft=document.createElement("div"),this._player.setAttribute("class","ran-player"),this._player.setAttribute("data-growing-ignore","true"),this._playerBtn.setAttribute("class","ran-player-play-btn"),this._progress.setAttribute("class","ran-player-controller-progress"),this._progressWrap.setAttribute("class","ran-player-controller-progress-wrap"),this._progressWrapValue.setAttribute("class","ran-player-controller-progress-wrap-value"),this._progressDot.setAttribute("class","ran-player-controller-progress-dot"),this._playerControllerBottom.setAttribute("class","ran-player-controller-bottom"),this._playerControllerBottomRight.setAttribute("class","ran-player-controller-bottom-right"),this._playerControllerBottomLeft.setAttribute("class","ran-player-controller-bottom-left"),this._playerControllerBottomPlayBtn=document.createElement("div"),this._playerControllerBottomPlayBtn.setAttribute("class","ran-player-controller-bottom-left-btn"),this._playerControllerBottomTimeCurrent=document.createElement("div"),this._playerControllerBottomTimeCurrent.setAttribute("class","ran-player-controller-bottom-left-time-current"),this._playerControllerBottomTimeDivide=document.createElement("div"),this._playerControllerBottomTimeDivide.setAttribute("class","ran-player-controller-bottom-left-time-divide"),this._playerControllerBottomTimeDuration=document.createElement("div"),this._playerControllerBottomTimeDuration.setAttribute("class","ran-player-controller-bottom-left-time-duration"),this._playControllerBottomSpeed=document.createElement("div"),this._playControllerBottomSpeed.setAttribute("class","ran-player-controller-bottom-right-speed"),this._playControllerBottomSpeedPopover=document.createElement("r-select"),this._playControllerBottomSpeedPopover.setAttribute("value","1"),this._playControllerBottomSpeedPopover.setAttribute("type","text"),this._playControllerBottomSpeedPopover.setAttribute("placement","top"),this._playControllerBottomSpeedPopover.setAttribute("dropdownclass","video-speed-dropdown"),this._playControllerBottomSpeedPopover.addEventListener("change",this.changeSpeed);const e=document.createDocumentFragment();T_.forEach(m=>{const{label:g,value:f}=m,u=document.createElement("r-option");u.innerHTML=g,u.setAttribute("value",`${f}`),e.appendChild(u)}),this._playControllerBottomSpeedPopover.appendChild(e),this._playControllerBottomSpeed.appendChild(this._playControllerBottomSpeedPopover),this._playControllerBottomVolume=document.createElement("div"),this._playControllerBottomVolume.setAttribute("class","ran-player-controller-bottom-right-volume"),this._playControllerBottomVolumeProgress=document.createElement("r-progress"),this._playControllerBottomVolumeProgress.setAttribute("class","ran-player-controller-bottom-right-volume-progress"),this._playControllerBottomVolumeProgress.setAttribute("percent","0.5"),this._playControllerBottomVolumeProgress.setAttribute("type","drag"),this._playControllerBottomSpeedIcon=document.createElement("div"),this._playControllerBottomSpeedIcon.setAttribute("class","ran-player-controller-bottom-right-volume-icon ran-player-controller-bottom-right-volume-icon-volume"),this._playControllerBottomClarity=document.createElement("div"),this._playControllerBottomClarity.setAttribute("class","ran-player-controller-bottom-right-clarity"),this._playControllerBottomRightFullScreen=document.createElement("div"),this._playControllerBottomRightFullScreen.setAttribute("class","ran-player-controller-bottom-right-full"),this._playerController=document.createElement("div"),this._playerController.setAttribute("class","ran-player-controller"),this._playerTip=document.createElement("div"),this._playerTip.setAttribute("class","ran-player-controller-tip"),this._playerTipTime=document.createElement("div"),this._playerTipTime.setAttribute("class","ran-player-controller-tip-time"),this._playerTipText=document.createElement("div"),this._playerTipText.setAttribute("class","ran-player-controller-tip-text"),this._playerTip.appendChild(Ua([this._playerTipTime,this._playerTipText])),this._playerController.appendChild(Ua([this._playerTip,this._progress,this._playerControllerBottom])),this._player.appendChild(Ua([this._container,this._slot,this._playerBtn,this._playerController])),this._progressWrap.appendChild(this._progressWrapValue),this._progress.appendChild(Ua([this._progressWrap,this._progressDot])),this._playerControllerBottom.appendChild(Ua([this._playerControllerBottomLeft,this._playerControllerBottomRight])),this._playerControllerBottomLeft.appendChild(Ua([this._playerControllerBottomPlayBtn,this._playerControllerBottomTimeCurrent,this._playerControllerBottomTimeDivide,this._playerControllerBottomTimeDuration])),this._playControllerBottomVolume.appendChild(Ua([this._playControllerBottomSpeedIcon,this._playControllerBottomVolumeProgress])),this._playerControllerBottomRight.appendChild(Ua([this._playControllerBottomClarity,this._playControllerBottomSpeed,this._playControllerBottomVolume,this._playControllerBottomRightFullScreen])),this.ctx={currentTime:0,duration:0,currentState:"",action:new Ly,volume:.5,playbackRate:1,clarity:"",fullScreen:!1,levels:[],url:"",levelMap:new Map},this.moveProgress={percentage:0,mouseDown:!1}}static get observedAttributes(){return["src","volume","currentTime","playbackRate"]}get src(){return this.getAttribute("src")||""}set src(e){this.setAttribute("src",e||"")}get volume(){return this.getAttribute("volume")||""}set volume(e){this.setAttribute("volume",e||"")}get currentTime(){return this.getAttribute("currentTime")||""}set currentTime(e){this.setAttribute("currentTime",e||"")}get playbackRate(){return this.getAttribute("playbackRate")||""}set playbackRate(e){this.setAttribute("playbackRate",e||"")}connectedCallback(){this._container.addEventListener("click",this.dispatchClickPlayerContainerAction),this._playerBtn.addEventListener("click",this.dispatchClickPlayerBtnAction),document.body.addEventListener("keydown",this.SpaceKeyDown),this._progressDot.addEventListener("mousedown",this.progressDotMouseDown),this._playerControllerBottomPlayBtn.addEventListener("click",this.dispatchClickPlayerBtnAction),this._progress.addEventListener("click",this.progressClick),this._progress.addEventListener("mouseenter",this.progressMouseEnter),this._progress.addEventListener("mousemove",this.progressMouseMove),this._progress.addEventListener("mouseleave",this.progressMouseLeave),this._player.addEventListener("mousemove",this.progressDotMouseMove),this._player.addEventListener("mouseup",this.progressDotMouseUp),this._playControllerBottomVolumeProgress.addEventListener("change",this.changeVolumeProgress),this._playControllerBottomRightFullScreen.addEventListener("click",this.openFullScreen),this._playControllerBottomSpeedIcon.addEventListener("click",this.changePlayerVolume),document.addEventListener("fullscreenchange",this.fullScreenChange),window.addEventListener("resize",this.resize),this.updatePlayer()}disconnectCallback(){this._container.removeEventListener("click",this.dispatchClickPlayerContainerAction),this._playerBtn.removeEventListener("click",this.dispatchClickPlayerBtnAction),this._playerControllerBottomPlayBtn.removeEventListener("click",this.dispatchClickPlayerBtnAction),this.cancelAnimationFrame(),document.removeEventListener("keydown",this.SpaceKeyDown),this._progress.removeEventListener("click",this.progressClick),this._progress.removeEventListener("mouseenter",this.progressMouseEnter),this._progress.removeEventListener("mousemove",this.progressMouseMove),this._progress.removeEventListener("mouseleave",this.progressMouseLeave),this._progressDot.removeEventListener("mousedown",this.progressDotMouseDown),this._player.removeEventListener("mousemove",this.progressDotMouseMove),this._player.removeEventListener("mouseup",this.progressDotMouseUp),this._playControllerBottomVolumeProgress.removeEventListener("change",this.changeVolumeProgress),this._playControllerBottomRightFullScreen.removeEventListener("click",this.openFullScreen),window.removeEventListener("resize",this.resize),document.removeEventListener("fullscreenchange",this.fullScreenChange)}attributeChangedCallback(e,m,g){}}return customElements.define("r-player",K),K}}const A_=S_(),k_=Object.freeze(Object.defineProperty({__proto__:null,default:A_},Symbol.toStringTag,{value:"Module"})),C_=["percent","type","total","dot"];class Gd extends HTMLElement{constructor(){super(),_t(this,"_progress"),_t(this,"_progressWrap"),_t(this,"_progressWrapValue"),_t(this,"_progressDot"),_t(this,"moveProgress"),_t(this,"progressClick",_=>{const e=this._progress.getBoundingClientRect(),m=_.clientX-e.left,g=Math.min(1,Math.max(0,m/this._progress.offsetWidth));this.percent=g*this.total,this._progressWrapValue.style.setProperty("transform",`scaleX(${g})`),this._progressDot.style.setProperty("transform",`translateX(${g*this._progress.offsetWidth}px)`),this.change()}),_t(this,"progressDotMouseDown",()=>{this.moveProgress.mouseDown=!0}),_t(this,"progressDotMouseMove",_=>{if(!this.moveProgress.mouseDown)return;const e=this._progress.getBoundingClientRect(),m=_.clientX-e.left,g=Math.min(1,Math.max(0,m/this._progress.offsetWidth));this.percent=g*this.total,this._progressWrapValue.style.setProperty("transform",`scaleX(${g})`),this._progressDot.style.setProperty("transform",`translateX(${g*this._progress.offsetWidth}px)`),this.change()}),_t(this,"progressDotMouseUp",_=>{this.moveProgress.mouseDown&&(this.moveProgress.mouseDown=!1)}),_t(this,"change",()=>{this.dispatchEvent(new CustomEvent("change",{detail:{value:this.percent,percent:this.percent,total:this.total}}))}),_t(this,"appendProgressDot",()=>{this.dot==="true"&&!this._progress.contains(this._progressDot)&&this._progress.appendChild(this._progressDot),this.dot==="false"&&this._progress.contains(this._progressDot)&&this._progress.removeChild(this._progressDot)}),_t(this,"updateCurrentProgress",()=>{const _=this.percent/this.total;this._progressWrapValue.style.setProperty("transform",`scaleX(${_})`),this._progressDot.style.setProperty("transform",`translateX(${_*this._progress.offsetWidth}px)`)}),_t(this,"dragEvent",()=>{this.type==="drag"&&(this._progress.addEventListener("click",this.progressClick),this._progressDot.addEventListener("mousedown",this.progressDotMouseDown),document.addEventListener("mousemove",this.progressDotMouseMove),document.addEventListener("mouseup",this.progressDotMouseUp))}),_t(this,"createProgress",()=>{this.contains(this._progress)||(this.appendChild(this._progress),this._progress.appendChild(this._progressDot))}),_t(this,"resize",()=>{this.updateCurrentProgress()}),this._progress=document.createElement("div"),this._progress.setAttribute("class","ran-progress"),this._progressWrap=document.createElement("div"),this._progressWrap.setAttribute("class","ran-progress-wrap"),this._progress.appendChild(this._progressWrap),this._progressWrapValue=document.createElement("div"),this._progressWrapValue.setAttribute("class","ran-progress-wrap-value"),this._progressWrap.appendChild(this._progressWrapValue),this._progressDot=document.createElement("div"),this._progressDot.setAttribute("class","ran-progress-dot"),this.moveProgress={mouseDown:!1}}static get observedAttributes(){return C_}get percent(){const _=this.getAttribute("percent")||"";return qh(_)>this.total?(console.error("percent must be < total"),this.total):qh(_)}set percent(_){this.setAttribute("percent",`${_||0}`)}get total(){const _=this.getAttribute("total");return _?qh(_):1}set total(_){this.setAttribute("total",_||"")}get type(){const _=["primary","drag"],e=this.getAttribute("type")||"";return _.includes(e)?e:"primary"}set type(_){this.setAttribute("type",_||"primary")}get animation(){const _=["play","pause"],e=this.getAttribute("animation")||"";return _.includes(e)?e:"pause"}set animation(_){this.setAttribute("animation",_||"pause")}get dot(){const _=["true","false"],e=this.getAttribute("dot")||"";return _.includes(e)?e:"true"}set dot(_){this.setAttribute("dot",_||"true")}connectedCallback(){this.dragEvent(),this.updateCurrentProgress(),window.addEventListener("resize",this.resize)}disconnectCallback(){this._progress.removeEventListener("click",this.progressClick),this._progressDot.removeEventListener("mousedown",this.progressDotMouseDown),document.removeEventListener("mousemove",this.progressDotMouseMove),document.removeEventListener("mouseup",this.progressDotMouseUp),window.removeEventListener("resize",this.resize)}attributeChangedCallback(_,e,m){e!==m&&(_==="type"&&this.createProgress(),_==="dot"&&this.appendProgressDot(),_==="percent"&&this.updateCurrentProgress())}}function R_(){if(typeof document<"u"&&!customElements.get("r-progress"))customElements.define("r-progress",Gd);else return Vo("document is undefined or r-progress is exist")}const I_=R_(),M_=Object.freeze(Object.defineProperty({__proto__:null,Progress:Gd,default:I_},Symbol.toStringTag,{value:"Module"}));if(typeof document<"u"){const K=document.createElement("style");K.textContent=E_,document.body.appendChild(K)}const X_=Object.freeze(Object.defineProperty({__proto__:null,button:Yy,icon:iw,image:hw,input:gw,message:Ew,modal:w_,preview:Dw,progress:M_,radar:o_,select:v_,skeleton:jw,tab:Jw,tabpane:Xw,video:k_},Symbol.toStringTag,{value:"Module"}));export{D_ as J,ay as S,z_ as a,er as b,L_ as d,H_ as e,X_ as i,W_ as l,$_ as t};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/index-03fd2f35.H757tBu7.js","assets/chunks/colz-746223ab.65el2PIW.js","assets/chunks/framework.bu1i8zgF.js","assets/chunks/docx-ba84dcab.V0CAxxZG.js","assets/chunks/pdf-bdb7818a.7M7pl0-6.js","assets/chunks/index-07c4de10.aOARrxOi.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{a1 as ci}from"./framework.bu1i8zgF.js";var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu;function lv(){if(vu)return Fr;vu=1;var re=Symbol.for("react.element"),C=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),t=Symbol.for("react.memo"),i=Symbol.for("react.lazy"),r=Symbol.iterator;function n(H){return H===null||typeof H!="object"?null:(H=r&&H[r]||H["@@iterator"],typeof H=="function"?H:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,o={};function g(H,$,K){this.props=H,this.context=$,this.refs=o,this.updater=K||l}g.prototype.isReactComponent={},g.prototype.setState=function(H,$){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,$,"setState")},g.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function y(){}y.prototype=g.prototype;function p(H,$,K){this.props=H,this.context=$,this.refs=o,this.updater=K||l}var E=p.prototype=new y;E.constructor=p,d(E,g.prototype),E.isPureReactComponent=!0;var T=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function I(H,$,K){var z,F={},L=null,G=null;if($!=null)for(z in $.ref!==void 0&&(G=$.ref),$.key!==void 0&&(L=""+$.key),$)S.call($,z)&&!w.hasOwnProperty(z)&&(F[z]=$[z]);var le=arguments.length-2;if(le===1)F.children=K;else if(1<le){for(var ge=Array(le),Ie=0;Ie<le;Ie++)ge[Ie]=arguments[Ie+2];F.children=ge}if(H&&H.defaultProps)for(z in le=H.defaultProps,le)F[z]===void 0&&(F[z]=le[z]);return{$$typeof:re,type:H,key:L,ref:G,props:F,_owner:x.current}}function D(H,$){return{$$typeof:re,type:H.type,key:$,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===re}function ie(H){var $={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(K){return $[K]})}var ee=/\/+/g;function te(H,$){return typeof H=="object"&&H!==null&&H.key!=null?ie(""+H.key):$.toString(36)}function Y(H,$,K,z,F){var L=typeof H;(L==="undefined"||L==="boolean")&&(H=null);var G=!1;if(H===null)G=!0;else switch(L){case"string":case"number":G=!0;break;case"object":switch(H.$$typeof){case re:case C:G=!0}}if(G)return G=H,F=F(G),H=z===""?"."+te(G,0):z,T(F)?(K="",H!=null&&(K=H.replace(ee,"$&/")+"/"),Y(F,$,K,"",function(Ie){return Ie})):F!=null&&(V(F)&&(F=D(F,K+(!F.key||G&&G.key===F.key?"":(""+F.key).replace(ee,"$&/")+"/")+H)),$.push(F)),1;if(G=0,z=z===""?".":z+":",T(H))for(var le=0;le<H.length;le++){L=H[le];var ge=z+te(L,le);G+=Y(L,$,K,ge,F)}else if(ge=n(H),typeof ge=="function")for(H=ge.call(H),le=0;!(L=H.next()).done;)L=L.value,ge=z+te(L,le++),G+=Y(L,$,K,ge,F);else if(L==="object")throw $=String(H),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return G}function W(H,$,K){if(H==null)return H;var z=[],F=0;return Y(H,z,"","",function(L){return $.call(K,L,F++)}),z}function j(H){if(H._status===-1){var $=H._result;$=$(),$.then(function(K){(H._status===0||H._status===-1)&&(H._status=1,H._result=K)},function(K){(H._status===0||H._status===-1)&&(H._status=2,H._result=K)}),H._status===-1&&(H._status=0,H._result=$)}if(H._status===1)return H._result.default;throw H._result}var O={current:null},k={transition:null},B={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:k,ReactCurrentOwner:x};return Fr.Children={map:W,forEach:function(H,$,K){W(H,function(){$.apply(this,arguments)},K)},count:function(H){var $=0;return W(H,function(){$++}),$},toArray:function(H){return W(H,function($){return $})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Fr.Component=g,Fr.Fragment=e,Fr.Profiler=v,Fr.PureComponent=p,Fr.StrictMode=m,Fr.Suspense=s,Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Fr.cloneElement=function(H,$,K){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var z=d({},H.props),F=H.key,L=H.ref,G=H._owner;if($!=null){if($.ref!==void 0&&(L=$.ref,G=x.current),$.key!==void 0&&(F=""+$.key),H.type&&H.type.defaultProps)var le=H.type.defaultProps;for(ge in $)S.call($,ge)&&!w.hasOwnProperty(ge)&&(z[ge]=$[ge]===void 0&&le!==void 0?le[ge]:$[ge])}var ge=arguments.length-2;if(ge===1)z.children=K;else if(1<ge){le=Array(ge);for(var Ie=0;Ie<ge;Ie++)le[Ie]=arguments[Ie+2];z.children=le}return{$$typeof:re,type:H.type,key:F,ref:L,props:z,_owner:G}},Fr.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:f,_context:H},H.Consumer=H},Fr.createElement=I,Fr.createFactory=function(H){var $=I.bind(null,H);return $.type=H,$},Fr.createRef=function(){return{current:null}},Fr.forwardRef=function(H){return{$$typeof:c,render:H}},Fr.isValidElement=V,Fr.lazy=function(H){return{$$typeof:i,_payload:{_status:-1,_result:H},_init:j}},Fr.memo=function(H,$){return{$$typeof:t,type:H,compare:$===void 0?null:$}},Fr.startTransition=function(H){var $=k.transition;k.transition={};try{H()}finally{k.transition=$}},Fr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Fr.useCallback=function(H,$){return O.current.useCallback(H,$)},Fr.useContext=function(H){return O.current.useContext(H)},Fr.useDebugValue=function(){},Fr.useDeferredValue=function(H){return O.current.useDeferredValue(H)},Fr.useEffect=function(H,$){return O.current.useEffect(H,$)},Fr.useId=function(){return O.current.useId()},Fr.useImperativeHandle=function(H,$,K){return O.current.useImperativeHandle(H,$,K)},Fr.useInsertionEffect=function(H,$){return O.current.useInsertionEffect(H,$)},Fr.useLayoutEffect=function(H,$){return O.current.useLayoutEffect(H,$)},Fr.useMemo=function(H,$){return O.current.useMemo(H,$)},Fr.useReducer=function(H,$,K){return O.current.useReducer(H,$,K)},Fr.useRef=function(H){return O.current.useRef(H)},Fr.useState=function(H){return O.current.useState(H)},Fr.useSyncExternalStore=function(H,$,K){return O.current.useSyncExternalStore(H,$,K)},Fr.useTransition=function(){return O.current.useTransition()},Fr.version="18.2.0",Fr}lv();function Oa(re){throw new Error('Could not dynamically require "'+re+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bc={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var bu;function rd(){return bu||(bu=1,function(re,C){(function(e){re.exports=e()})(function(){return function e(m,v,f){function u(t,i){if(!v[t]){if(!m[t]){var r=typeof Oa=="function"&&Oa;if(!i&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var l=v[t]={exports:{}};m[t][0].call(l.exports,function(d){var o=m[t][1][d];return u(o||d)},l,l.exports,e,m,v,f)}return v[t].exports}for(var c=typeof Oa=="function"&&Oa,s=0;s<f.length;s++)u(f[s]);return u}({1:[function(e,m,v){var f=e("./utils"),u=e("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(s){for(var t,i,r,n,l,d,o,g=[],y=0,p=s.length,E=p,T=f.getTypeOf(s)!=="string";y<s.length;)E=p-y,r=T?(t=s[y++],i=y<p?s[y++]:0,y<p?s[y++]:0):(t=s.charCodeAt(y++),i=y<p?s.charCodeAt(y++):0,y<p?s.charCodeAt(y++):0),n=t>>2,l=(3&t)<<4|i>>4,d=1<E?(15&i)<<2|r>>6:64,o=2<E?63&r:64,g.push(c.charAt(n)+c.charAt(l)+c.charAt(d)+c.charAt(o));return g.join("")},v.decode=function(s){var t,i,r,n,l,d,o=0,g=0,y="data:";if(s.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var p,E=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===c.charAt(64)&&E--,s.charAt(s.length-2)===c.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=u.uint8array?new Uint8Array(0|E):new Array(0|E);o<s.length;)t=c.indexOf(s.charAt(o++))<<2|(n=c.indexOf(s.charAt(o++)))>>4,i=(15&n)<<4|(l=c.indexOf(s.charAt(o++)))>>2,r=(3&l)<<6|(d=c.indexOf(s.charAt(o++))),p[g++]=t,l!==64&&(p[g++]=i),d!==64&&(p[g++]=r);return p}},{"./support":30,"./utils":32}],2:[function(e,m,v){var f=e("./external"),u=e("./stream/DataWorker"),c=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function t(i,r,n,l,d){this.compressedSize=i,this.uncompressedSize=r,this.crc32=n,this.compression=l,this.compressedContent=d}t.prototype={getContentWorker:function(){var i=new u(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),r=this;return i.on("end",function(){if(this.streamInfo.data_length!==r.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),i},getCompressedWorker:function(){return new u(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},t.createWorkerFrom=function(i,r,n){return i.pipe(new c).pipe(new s("uncompressedSize")).pipe(r.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",r)},m.exports=t},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,m,v){var f=e("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},v.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,m,v){var f=e("./utils"),u=function(){for(var c,s=[],t=0;t<256;t++){c=t;for(var i=0;i<8;i++)c=1&c?3988292384^c>>>1:c>>>1;s[t]=c}return s}();m.exports=function(c,s){return c!==void 0&&c.length?f.getTypeOf(c)!=="string"?function(t,i,r,n){var l=u,d=n+r;t^=-1;for(var o=n;o<d;o++)t=t>>>8^l[255&(t^i[o])];return-1^t}(0|s,c,c.length,0):function(t,i,r,n){var l=u,d=n+r;t^=-1;for(var o=n;o<d;o++)t=t>>>8^l[255&(t^i.charCodeAt(o))];return-1^t}(0|s,c,c.length,0):0}},{"./utils":32}],5:[function(e,m,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(e,m,v){var f=null;f=typeof Promise<"u"?Promise:e("lie"),m.exports={Promise:f}},{lie:37}],7:[function(e,m,v){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=e("pako"),c=e("./utils"),s=e("./stream/GenericWorker"),t=f?"uint8array":"array";function i(r,n){s.call(this,"FlateWorker/"+r),this._pako=null,this._pakoAction=r,this._pakoOptions=n,this.meta={}}v.magic="\b\0",c.inherits(i,s),i.prototype.processChunk=function(r){this.meta=r.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(t,r.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var r=this;this._pako.onData=function(n){r.push({data:n,meta:r.meta})}},v.compressWorker=function(r){return new i("Deflate",r)},v.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,m,v){function f(l,d){var o,g="";for(o=0;o<d;o++)g+=String.fromCharCode(255&l),l>>>=8;return g}function u(l,d,o,g,y,p){var E,T,S=l.file,x=l.compression,w=p!==t.utf8encode,I=c.transformTo("string",p(S.name)),D=c.transformTo("string",t.utf8encode(S.name)),V=S.comment,ie=c.transformTo("string",p(V)),ee=c.transformTo("string",t.utf8encode(V)),te=D.length!==S.name.length,Y=ee.length!==V.length,W="",j="",O="",k=S.dir,B=S.date,H={crc32:0,compressedSize:0,uncompressedSize:0};d&&!o||(H.crc32=l.crc32,H.compressedSize=l.compressedSize,H.uncompressedSize=l.uncompressedSize);var $=0;d&&($|=8),w||!te&&!Y||($|=2048);var K=0,z=0;k&&(K|=16),y==="UNIX"?(z=798,K|=function(L,G){var le=L;return L||(le=G?16893:33204),(65535&le)<<16}(S.unixPermissions,k)):(z=20,K|=function(L){return 63&(L||0)}(S.dosPermissions)),E=B.getUTCHours(),E<<=6,E|=B.getUTCMinutes(),E<<=5,E|=B.getUTCSeconds()/2,T=B.getUTCFullYear()-1980,T<<=4,T|=B.getUTCMonth()+1,T<<=5,T|=B.getUTCDate(),te&&(j=f(1,1)+f(i(I),4)+D,W+="up"+f(j.length,2)+j),Y&&(O=f(1,1)+f(i(ie),4)+ee,W+="uc"+f(O.length,2)+O);var F="";return F+=`
\0`,F+=f($,2),F+=x.magic,F+=f(E,2),F+=f(T,2),F+=f(H.crc32,4),F+=f(H.compressedSize,4),F+=f(H.uncompressedSize,4),F+=f(I.length,2),F+=f(W.length,2),{fileRecord:r.LOCAL_FILE_HEADER+F+I+W,dirRecord:r.CENTRAL_FILE_HEADER+f(z,2)+F+f(ie.length,2)+"\0\0\0\0"+f(K,4)+f(g,4)+I+W+ie}}var c=e("../utils"),s=e("../stream/GenericWorker"),t=e("../utf8"),i=e("../crc32"),r=e("../signature");function n(l,d,o,g){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=o,this.encodeFileName=g,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(n,s),n.prototype.push=function(l){var d=l.meta.percent||0,o=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,s.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:o?(d+100*(o-g-1))/o:100}}))},n.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var d=this.streamFiles&&!l.file.dir;if(d){var o=u(l,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(l){this.accumulate=!1;var d=this.streamFiles&&!l.file.dir,o=u(l,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),d)this.push({data:function(g){return r.DATA_DESCRIPTOR+f(g.crc32,4)+f(g.compressedSize,4)+f(g.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var l=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var o=this.bytesWritten-l,g=function(y,p,E,T,S){var x=c.transformTo("string",S(T));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(y,2)+f(y,2)+f(p,4)+f(E,4)+f(x.length,2)+x}(this.dirRecords.length,o,l,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(l){this._sources.push(l);var d=this;return l.on("data",function(o){d.processChunk(o)}),l.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),l.on("error",function(o){d.error(o)}),this},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(l){var d=this._sources;if(!s.prototype.error.call(this,l))return!1;for(var o=0;o<d.length;o++)try{d[o].error(l)}catch{}return!0},n.prototype.lock=function(){s.prototype.lock.call(this);for(var l=this._sources,d=0;d<l.length;d++)l[d].lock()},m.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,m,v){var f=e("../compressions"),u=e("./ZipFileWorker");v.generateWorker=function(c,s,t){var i=new u(s.streamFiles,t,s.platform,s.encodeFileName),r=0;try{c.forEach(function(n,l){r++;var d=function(p,E){var T=p||E,S=f[T];if(!S)throw new Error(T+" is not a valid compression method !");return S}(l.options.compression,s.compression),o=l.options.compressionOptions||s.compressionOptions||{},g=l.dir,y=l.date;l._compressWorker(d,o).withStreamInfo("file",{name:n,dir:g,date:y,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(i)}),i.entriesCount=r}catch(n){i.error(n)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,m,v){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new f;for(var c in this)typeof this[c]!="function"&&(u[c]=this[c]);return u}}(f.prototype=e("./object")).loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(u,c){return new f().loadAsync(u,c)},f.external=e("./external"),m.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,m,v){var f=e("./utils"),u=e("./external"),c=e("./utf8"),s=e("./zipEntries"),t=e("./stream/Crc32Probe"),i=e("./nodejsUtils");function r(n){return new u.Promise(function(l,d){var o=n.decompressed.getContentWorker().pipe(new t);o.on("error",function(g){d(g)}).on("end",function(){o.streamInfo.crc32!==n.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}m.exports=function(n,l){var d=this;return l=f.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),i.isNode&&i.isStream(n)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",n,!0,l.optimizedBinaryString,l.base64).then(function(o){var g=new s(l);return g.load(o),g}).then(function(o){var g=[u.Promise.resolve(o)],y=o.files;if(l.checkCRC32)for(var p=0;p<y.length;p++)g.push(r(y[p]));return u.Promise.all(g)}).then(function(o){for(var g=o.shift(),y=g.files,p=0;p<y.length;p++){var E=y[p],T=E.fileNameStr,S=f.resolve(E.fileNameStr);d.file(S,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:l.createFolders}),E.dir||(d.file(S).unsafeOriginalName=T)}return g.zipComment.length&&(d.comment=g.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,m,v){var f=e("../utils"),u=e("../stream/GenericWorker");function c(s,t){u.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(t)}f.inherits(c,u),c.prototype._bindStream=function(s){var t=this;(this._stream=s).pause(),s.on("data",function(i){t.push({data:i,meta:{percent:0}})}).on("error",function(i){t.isPaused?this.generatedError=i:t.error(i)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},c.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,m,v){var f=e("readable-stream").Readable;function u(c,s,t){f.call(this,s),this._helper=c;var i=this;c.on("data",function(r,n){i.push(r)||i._helper.pause(),t&&t(n)}).on("error",function(r){i.emit("error",r)}).on("end",function(){i.push(null)})}e("../utils").inherits(u,f),u.prototype._read=function(){this._helper.resume()},m.exports=u},{"../utils":32,"readable-stream":16}],14:[function(e,m,v){m.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,u);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,u)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var u=new Buffer(f);return u.fill(0),u},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,m,v){function f(S,x,w){var I,D=c.getTypeOf(x),V=c.extend(w||{},i);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(S=y(S)),V.createFolders&&(I=g(S))&&p.call(this,I,!0);var ie=D==="string"&&V.binary===!1&&V.base64===!1;w&&w.binary!==void 0||(V.binary=!ie),(x instanceof r&&x.uncompressedSize===0||V.dir||!x||x.length===0)&&(V.base64=!1,V.binary=!0,x="",V.compression="STORE",D="string");var ee=null;ee=x instanceof r||x instanceof s?x:d.isNode&&d.isStream(x)?new o(S,x):c.prepareContent(S,x,V.binary,V.optimizedBinaryString,V.base64);var te=new n(S,ee,V);this.files[S]=te}var u=e("./utf8"),c=e("./utils"),s=e("./stream/GenericWorker"),t=e("./stream/StreamHelper"),i=e("./defaults"),r=e("./compressedObject"),n=e("./zipObject"),l=e("./generate"),d=e("./nodejsUtils"),o=e("./nodejs/NodejsStreamInputAdapter"),g=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var x=S.lastIndexOf("/");return 0<x?S.substring(0,x):""},y=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},p=function(S,x){return x=x!==void 0?x:i.createFolders,S=y(S),this.files[S]||f.call(this,S,null,{dir:!0,createFolders:x}),this.files[S]};function E(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var x,w,I;for(x in this.files)I=this.files[x],(w=x.slice(this.root.length,x.length))&&x.slice(0,this.root.length)===this.root&&S(w,I)},filter:function(S){var x=[];return this.forEach(function(w,I){S(w,I)&&x.push(I)}),x},file:function(S,x,w){if(arguments.length!==1)return S=this.root+S,f.call(this,S,x,w),this;if(E(S)){var I=S;return this.filter(function(V,ie){return!ie.dir&&I.test(V)})}var D=this.files[this.root+S];return D&&!D.dir?D:null},folder:function(S){if(!S)return this;if(E(S))return this.filter(function(D,V){return V.dir&&S.test(D)});var x=this.root+S,w=p.call(this,x),I=this.clone();return I.root=w.name,I},remove:function(S){S=this.root+S;var x=this.files[S];if(x||(S.slice(-1)!=="/"&&(S+="/"),x=this.files[S]),x&&!x.dir)delete this.files[S];else for(var w=this.filter(function(D,V){return V.name.slice(0,S.length)===S}),I=0;I<w.length;I++)delete this.files[w[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var x,w={};try{if((w=c.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");c.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var I=w.comment||this.comment||"";x=l.generateWorker(this,w,I)}catch(D){(x=new s("error")).error(D)}return new t(x,w.type||"string",w.mimeType)},generateAsync:function(S,x){return this.generateInternalStream(S).accumulate(x)},generateNodeStream:function(S,x){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(x)}};m.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,m,v){m.exports=e("stream")},{stream:void 0}],17:[function(e,m,v){var f=e("./DataReader");function u(c){f.call(this,c);for(var s=0;s<this.data.length;s++)c[s]=255&c[s]}e("../utils").inherits(u,f),u.prototype.byteAt=function(c){return this.data[this.zero+c]},u.prototype.lastIndexOfSignature=function(c){for(var s=c.charCodeAt(0),t=c.charCodeAt(1),i=c.charCodeAt(2),r=c.charCodeAt(3),n=this.length-4;0<=n;--n)if(this.data[n]===s&&this.data[n+1]===t&&this.data[n+2]===i&&this.data[n+3]===r)return n-this.zero;return-1},u.prototype.readAndCheckSignature=function(c){var s=c.charCodeAt(0),t=c.charCodeAt(1),i=c.charCodeAt(2),r=c.charCodeAt(3),n=this.readData(4);return s===n[0]&&t===n[1]&&i===n[2]&&r===n[3]},u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,s},m.exports=u},{"../utils":32,"./DataReader":18}],18:[function(e,m,v){var f=e("../utils");function u(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var s,t=0;for(this.checkOffset(c),s=this.index+c-1;s>=this.index;s--)t=(t<<8)+this.byteAt(s);return this.index+=c,t},readString:function(c){return f.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},m.exports=u},{"../utils":32}],19:[function(e,m,v){var f=e("./Uint8ArrayReader");function u(c){f.call(this,c)}e("../utils").inherits(u,f),u.prototype.readData=function(c){this.checkOffset(c);var s=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,s},m.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,m,v){var f=e("./DataReader");function u(c){f.call(this,c)}e("../utils").inherits(u,f),u.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},u.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},u.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},u.prototype.readData=function(c){this.checkOffset(c);var s=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,s},m.exports=u},{"../utils":32,"./DataReader":18}],21:[function(e,m,v){var f=e("./ArrayReader");function u(c){f.call(this,c)}e("../utils").inherits(u,f),u.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,s},m.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(e,m,v){var f=e("../utils"),u=e("../support"),c=e("./ArrayReader"),s=e("./StringReader"),t=e("./NodeBufferReader"),i=e("./Uint8ArrayReader");m.exports=function(r){var n=f.getTypeOf(r);return f.checkSupport(n),n!=="string"||u.uint8array?n==="nodebuffer"?new t(r):u.uint8array?new i(f.transformTo("uint8array",r)):new c(f.transformTo("array",r)):new s(r)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,m,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,m,v){var f=e("./GenericWorker"),u=e("../utils");function c(s){f.call(this,"ConvertWorker to "+s),this.destType=s}u.inherits(c,f),c.prototype.processChunk=function(s){this.push({data:u.transformTo(this.destType,s.data),meta:s.meta})},m.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(e,m,v){var f=e("./GenericWorker"),u=e("../crc32");function c(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(c,f),c.prototype.processChunk=function(s){this.streamInfo.crc32=u(s.data,this.streamInfo.crc32||0),this.push(s)},m.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,m,v){var f=e("../utils"),u=e("./GenericWorker");function c(s){u.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}f.inherits(c,u),c.prototype.processChunk=function(s){if(s){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+s.data.length}u.prototype.processChunk.call(this,s)},m.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(e,m,v){var f=e("../utils"),u=e("./GenericWorker");function c(s){u.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(i){t.dataIsReady=!0,t.data=i,t.max=i&&i.length||0,t.type=f.getTypeOf(i),t.isPaused||t._tickAndRepeat()},function(i){t.error(i)})}f.inherits(c,u),c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,t);break;case"uint8array":s=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":s=this.data.slice(this.index,t)}return this.index=t,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(e,m,v){function f(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,c){return this._listeners[u].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,c){if(this._listeners[u])for(var s=0;s<this._listeners[u].length;s++)this._listeners[u][s].call(this,c)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var c=this;return u.on("data",function(s){c.processChunk(s)}),u.on("end",function(){c.end()}),u.on("error",function(s){c.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,c){return this.extraStreamInfo[u]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},m.exports=f},{}],29:[function(e,m,v){var f=e("../utils"),u=e("./ConvertWorker"),c=e("./GenericWorker"),s=e("../base64"),t=e("../support"),i=e("../external"),r=null;if(t.nodestream)try{r=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function n(d,o){return new i.Promise(function(g,y){var p=[],E=d._internalType,T=d._outputType,S=d._mimeType;d.on("data",function(x,w){p.push(x),o&&o(w)}).on("error",function(x){p=[],y(x)}).on("end",function(){try{var x=function(w,I,D){switch(w){case"blob":return f.newBlob(f.transformTo("arraybuffer",I),D);case"base64":return s.encode(I);default:return f.transformTo(w,I)}}(T,function(w,I){var D,V=0,ie=null,ee=0;for(D=0;D<I.length;D++)ee+=I[D].length;switch(w){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(ie=new Uint8Array(ee),D=0;D<I.length;D++)ie.set(I[D],V),V+=I[D].length;return ie;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+w+"'")}}(E,p),S);g(x)}catch(w){y(w)}p=[]}).resume()})}function l(d,o,g){var y=o;switch(o){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=o,this._mimeType=g,f.checkSupport(y),this._worker=d.pipe(new u(y)),d.lock()}catch(p){this._worker=new c("error"),this._worker.error(p)}}l.prototype={accumulate:function(d){return n(this,d)},on:function(d,o){var g=this;return d==="data"?this._worker.on(d,function(y){o.call(g,y.data,y.meta)}):this._worker.on(d,function(){f.delay(o,arguments,g)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new r(this,{objectMode:this._outputType!=="nodebuffer"},d)}},m.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,m,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=typeof Buffer<"u",v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var f=new ArrayBuffer(0);try{v.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(f),v.blob=u.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!e("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(e,m,v){for(var f=e("./utils"),u=e("./support"),c=e("./nodejsUtils"),s=e("./stream/GenericWorker"),t=new Array(256),i=0;i<256;i++)t[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;t[254]=t[254]=1;function r(){s.call(this,"utf-8 decode"),this.leftOver=null}function n(){s.call(this,"utf-8 encode")}v.utf8encode=function(l){return u.nodebuffer?c.newBufferFrom(l,"utf-8"):function(d){var o,g,y,p,E,T=d.length,S=0;for(p=0;p<T;p++)(64512&(g=d.charCodeAt(p)))==55296&&p+1<T&&(64512&(y=d.charCodeAt(p+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),p++),S+=g<128?1:g<2048?2:g<65536?3:4;for(o=u.uint8array?new Uint8Array(S):new Array(S),p=E=0;E<S;p++)(64512&(g=d.charCodeAt(p)))==55296&&p+1<T&&(64512&(y=d.charCodeAt(p+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),p++),g<128?o[E++]=g:(g<2048?o[E++]=192|g>>>6:(g<65536?o[E++]=224|g>>>12:(o[E++]=240|g>>>18,o[E++]=128|g>>>12&63),o[E++]=128|g>>>6&63),o[E++]=128|63&g);return o}(l)},v.utf8decode=function(l){return u.nodebuffer?f.transformTo("nodebuffer",l).toString("utf-8"):function(d){var o,g,y,p,E=d.length,T=new Array(2*E);for(o=g=0;o<E;)if((y=d[o++])<128)T[g++]=y;else if(4<(p=t[y]))T[g++]=65533,o+=p-1;else{for(y&=p===2?31:p===3?15:7;1<p&&o<E;)y=y<<6|63&d[o++],p--;1<p?T[g++]=65533:y<65536?T[g++]=y:(y-=65536,T[g++]=55296|y>>10&1023,T[g++]=56320|1023&y)}return T.length!==g&&(T.subarray?T=T.subarray(0,g):T.length=g),f.applyFromCharCode(T)}(l=f.transformTo(u.uint8array?"uint8array":"array",l))},f.inherits(r,s),r.prototype.processChunk=function(l){var d=f.transformTo(u.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var o=d;(d=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),d.set(o,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var g=function(p,E){var T;for((E=E||p.length)>p.length&&(E=p.length),T=E-1;0<=T&&(192&p[T])==128;)T--;return T<0||T===0?E:T+t[p[T]]>E?T:E}(d),y=d;g!==d.length&&(u.uint8array?(y=d.subarray(0,g),this.leftOver=d.subarray(g,d.length)):(y=d.slice(0,g),this.leftOver=d.slice(g,d.length))),this.push({data:v.utf8decode(y),meta:l.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=r,f.inherits(n,s),n.prototype.processChunk=function(l){this.push({data:v.utf8encode(l.data),meta:l.meta})},v.Utf8EncodeWorker=n},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,m,v){var f=e("./support"),u=e("./base64"),c=e("./nodejsUtils"),s=e("./external");function t(o){return o}function i(o,g){for(var y=0;y<o.length;++y)g[y]=255&o.charCodeAt(y);return g}e("setimmediate"),v.newBlob=function(o,g){v.checkSupport("blob");try{return new Blob([o],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(o),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var r={stringifyByChunk:function(o,g,y){var p=[],E=0,T=o.length;if(T<=y)return String.fromCharCode.apply(null,o);for(;E<T;)g==="array"||g==="nodebuffer"?p.push(String.fromCharCode.apply(null,o.slice(E,Math.min(E+y,T)))):p.push(String.fromCharCode.apply(null,o.subarray(E,Math.min(E+y,T)))),E+=y;return p.join("")},stringifyByChar:function(o){for(var g="",y=0;y<o.length;y++)g+=String.fromCharCode(o[y]);return g},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function n(o){var g=65536,y=v.getTypeOf(o),p=!0;if(y==="uint8array"?p=r.applyCanBeUsed.uint8array:y==="nodebuffer"&&(p=r.applyCanBeUsed.nodebuffer),p)for(;1<g;)try{return r.stringifyByChunk(o,y,g)}catch{g=Math.floor(g/2)}return r.stringifyByChar(o)}function l(o,g){for(var y=0;y<o.length;y++)g[y]=o[y];return g}v.applyFromCharCode=n;var d={};d.string={string:t,array:function(o){return i(o,new Array(o.length))},arraybuffer:function(o){return d.string.uint8array(o).buffer},uint8array:function(o){return i(o,new Uint8Array(o.length))},nodebuffer:function(o){return i(o,c.allocBuffer(o.length))}},d.array={string:n,array:t,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return c.newBufferFrom(o)}},d.arraybuffer={string:function(o){return n(new Uint8Array(o))},array:function(o){return l(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:t,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return c.newBufferFrom(new Uint8Array(o))}},d.uint8array={string:n,array:function(o){return l(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:t,nodebuffer:function(o){return c.newBufferFrom(o)}},d.nodebuffer={string:n,array:function(o){return l(o,new Array(o.length))},arraybuffer:function(o){return d.nodebuffer.uint8array(o).buffer},uint8array:function(o){return l(o,new Uint8Array(o.length))},nodebuffer:t},v.transformTo=function(o,g){if(g=g||"",!o)return g;v.checkSupport(o);var y=v.getTypeOf(g);return d[y][o](g)},v.resolve=function(o){for(var g=o.split("/"),y=[],p=0;p<g.length;p++){var E=g[p];E==="."||E===""&&p!==0&&p!==g.length-1||(E===".."?y.pop():y.push(E))}return y.join("/")},v.getTypeOf=function(o){return typeof o=="string"?"string":Object.prototype.toString.call(o)==="[object Array]"?"array":f.nodebuffer&&c.isBuffer(o)?"nodebuffer":f.uint8array&&o instanceof Uint8Array?"uint8array":f.arraybuffer&&o instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(o){if(!f[o.toLowerCase()])throw new Error(o+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(o){var g,y,p="";for(y=0;y<(o||"").length;y++)p+="\\x"+((g=o.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return p},v.delay=function(o,g,y){setImmediate(function(){o.apply(y||null,g||[])})},v.inherits=function(o,g){function y(){}y.prototype=g.prototype,o.prototype=new y},v.extend=function(){var o,g,y={};for(o=0;o<arguments.length;o++)for(g in arguments[o])Object.prototype.hasOwnProperty.call(arguments[o],g)&&y[g]===void 0&&(y[g]=arguments[o][g]);return y},v.prepareContent=function(o,g,y,p,E){return s.Promise.resolve(g).then(function(T){return f.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new s.Promise(function(S,x){var w=new FileReader;w.onload=function(I){S(I.target.result)},w.onerror=function(I){x(I.target.error)},w.readAsArrayBuffer(T)}):T}).then(function(T){var S=v.getTypeOf(T);return S?(S==="arraybuffer"?T=v.transformTo("uint8array",T):S==="string"&&(E?T=u.decode(T):y&&p!==!0&&(T=function(x){return i(x,f.uint8array?new Uint8Array(x.length):new Array(x.length))}(T))),T):s.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,m,v){var f=e("./reader/readerFor"),u=e("./utils"),c=e("./signature"),s=e("./zipEntry"),t=e("./support");function i(r){this.files=[],this.loadOptions=r}i.prototype={checkSignature:function(r){if(!this.reader.readAndCheckSignature(r)){this.reader.index-=4;var n=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(n)+", expected "+u.pretty(r)+")")}},isSignature:function(r,n){var l=this.reader.index;this.reader.setIndex(r);var d=this.reader.readString(4)===n;return this.reader.setIndex(l),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var r=this.reader.readData(this.zipCommentLength),n=t.uint8array?"uint8array":"array",l=u.transformTo(n,r);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var r,n,l,d=this.zip64EndOfCentralSize-44;0<d;)r=this.reader.readInt(2),n=this.reader.readInt(4),l=this.reader.readData(n),this.zip64ExtensibleData[r]={id:r,length:n,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var r,n;for(r=0;r<this.files.length;r++)n=this.files[r],this.reader.setIndex(n.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(r=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var r=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(r<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(r);var n=r;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(r=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(r),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var d=n-l;if(0<d)this.isSignature(n,c.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(r){this.reader=f(r)},load:function(r){this.prepareReader(r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,m,v){var f=e("./reader/readerFor"),u=e("./utils"),c=e("./compressedObject"),s=e("./crc32"),t=e("./utf8"),i=e("./compressions"),r=e("./support");function n(l,d){this.options=l,this.loadOptions=d}n.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var d,o;if(l.skip(22),this.fileNameLength=l.readInt(2),o=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(g){for(var y in i)if(Object.prototype.hasOwnProperty.call(i,y)&&i[y].magic===g)return i[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,d,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var d=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(d),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=f(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var d,o,g,y=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<y;)d=l.readInt(2),o=l.readInt(2),g=l.readData(o),this.extraFields[d]={id:d,length:o,value:g};l.setIndex(y)},handleUTF8:function(){var l=r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=t.utf8decode(this.fileName),this.fileCommentStr=t.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var o=u.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=u.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var d=f(l.value);return d.readInt(1)!==1||s(this.fileName)!==d.readInt(4)?null:t.utf8decode(d.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var d=f(l.value);return d.readInt(1)!==1||s(this.fileComment)!==d.readInt(4)?null:t.utf8decode(d.readData(l.length-5))}return null}},m.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,m,v){function f(d,o,g){this.name=d,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=o,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var u=e("./stream/StreamHelper"),c=e("./stream/DataWorker"),s=e("./utf8"),t=e("./compressedObject"),i=e("./stream/GenericWorker");f.prototype={internalStream:function(d){var o=null,g="string";try{if(!d)throw new Error("No output type specified.");var y=(g=d.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),o=this._decompressWorker();var p=!this._dataBinary;p&&!y&&(o=o.pipe(new s.Utf8EncodeWorker)),!p&&y&&(o=o.pipe(new s.Utf8DecodeWorker))}catch(E){(o=new i("error")).error(E)}return new u(o,g,"")},async:function(d,o){return this.internalStream(d).accumulate(o)},nodeStream:function(d,o){return this.internalStream(d||"nodebuffer").toNodejsStream(o)},_compressWorker:function(d,o){if(this._data instanceof t&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new s.Utf8EncodeWorker)),t.createWorkerFrom(g,d,o)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof i?this._data:new c(this._data)}};for(var r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],n=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<r.length;l++)f.prototype[r[l]]=n;m.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,m,v){(function(f){var u,c,s=f.MutationObserver||f.WebKitMutationObserver;if(s){var t=0,i=new s(d),r=f.document.createTextNode("");i.observe(r,{characterData:!0}),u=function(){r.data=t=++t%2}}else if(f.setImmediate||f.MessageChannel===void 0)u="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var o=f.document.createElement("script");o.onreadystatechange=function(){d(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},f.document.documentElement.appendChild(o)}:function(){setTimeout(d,0)};else{var n=new f.MessageChannel;n.port1.onmessage=d,u=function(){n.port2.postMessage(0)}}var l=[];function d(){var o,g;c=!0;for(var y=l.length;y;){for(g=l,l=[],o=-1;++o<y;)g[o]();y=l.length}c=!1}m.exports=function(o){l.push(o)!==1||c||u()}}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,m,v){var f=e("immediate");function u(){}var c={},s=["REJECTED"],t=["FULFILLED"],i=["PENDING"];function r(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,y!==u&&o(this,y)}function n(y,p,E){this.promise=y,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function l(y,p,E){f(function(){var T;try{T=p(E)}catch(S){return c.reject(y,S)}T===y?c.reject(y,new TypeError("Cannot resolve promise with itself")):c.resolve(y,T)})}function d(y){var p=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof p=="function")return function(){p.apply(y,arguments)}}function o(y,p){var E=!1;function T(w){E||(E=!0,c.reject(y,w))}function S(w){E||(E=!0,c.resolve(y,w))}var x=g(function(){p(S,T)});x.status==="error"&&T(x.value)}function g(y,p){var E={};try{E.value=y(p),E.status="success"}catch(T){E.status="error",E.value=T}return E}(m.exports=r).prototype.finally=function(y){if(typeof y!="function")return this;var p=this.constructor;return this.then(function(E){return p.resolve(y()).then(function(){return E})},function(E){return p.resolve(y()).then(function(){throw E})})},r.prototype.catch=function(y){return this.then(null,y)},r.prototype.then=function(y,p){if(typeof y!="function"&&this.state===t||typeof p!="function"&&this.state===s)return this;var E=new this.constructor(u);return this.state!==i?l(E,this.state===t?y:p,this.outcome):this.queue.push(new n(E,y,p)),E},n.prototype.callFulfilled=function(y){c.resolve(this.promise,y)},n.prototype.otherCallFulfilled=function(y){l(this.promise,this.onFulfilled,y)},n.prototype.callRejected=function(y){c.reject(this.promise,y)},n.prototype.otherCallRejected=function(y){l(this.promise,this.onRejected,y)},c.resolve=function(y,p){var E=g(d,p);if(E.status==="error")return c.reject(y,E.value);var T=E.value;if(T)o(y,T);else{y.state=t,y.outcome=p;for(var S=-1,x=y.queue.length;++S<x;)y.queue[S].callFulfilled(p)}return y},c.reject=function(y,p){y.state=s,y.outcome=p;for(var E=-1,T=y.queue.length;++E<T;)y.queue[E].callRejected(p);return y},r.resolve=function(y){return y instanceof this?y:c.resolve(new this(u),y)},r.reject=function(y){var p=new this(u);return c.reject(p,y)},r.all=function(y){var p=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,T=!1;if(!E)return this.resolve([]);for(var S=new Array(E),x=0,w=-1,I=new this(u);++w<E;)D(y[w],w);return I;function D(V,ie){p.resolve(V).then(function(ee){S[ie]=ee,++x!==E||T||(T=!0,c.resolve(I,S))},function(ee){T||(T=!0,c.reject(I,ee))})}},r.race=function(y){var p=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,T=!1;if(!E)return this.resolve([]);for(var S=-1,x=new this(u);++S<E;)w=y[S],p.resolve(w).then(function(I){T||(T=!0,c.resolve(x,I))},function(I){T||(T=!0,c.reject(x,I))});var w;return x}},{immediate:36}],38:[function(e,m,v){var f={};(0,e("./lib/utils/common").assign)(f,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),m.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,m,v){var f=e("./zlib/deflate"),u=e("./utils/common"),c=e("./utils/strings"),s=e("./zlib/messages"),t=e("./zlib/zstream"),i=Object.prototype.toString,r=0,n=-1,l=0,d=8;function o(y){if(!(this instanceof o))return new o(y);this.options=u.assign({level:n,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},y||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var E=f.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(E!==r)throw new Error(s[E]);if(p.header&&f.deflateSetHeader(this.strm,p.header),p.dictionary){var T;if(T=typeof p.dictionary=="string"?c.string2buf(p.dictionary):i.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(E=f.deflateSetDictionary(this.strm,T))!==r)throw new Error(s[E]);this._dict_set=!0}}function g(y,p){var E=new o(p);if(E.push(y,!0),E.err)throw E.msg||s[E.err];return E.result}o.prototype.push=function(y,p){var E,T,S=this.strm,x=this.options.chunkSize;if(this.ended)return!1;T=p===~~p?p:p===!0?4:0,typeof y=="string"?S.input=c.string2buf(y):i.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new u.Buf8(x),S.next_out=0,S.avail_out=x),(E=f.deflate(S,T))!==1&&E!==r)return this.onEnd(E),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(u.shrinkBuf(S.output,S.next_out))):this.onData(u.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&E!==1);return T===4?(E=f.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===r):T!==2||(this.onEnd(r),!(S.avail_out=0))},o.prototype.onData=function(y){this.chunks.push(y)},o.prototype.onEnd=function(y){y===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},v.Deflate=o,v.deflate=g,v.deflateRaw=function(y,p){return(p=p||{}).raw=!0,g(y,p)},v.gzip=function(y,p){return(p=p||{}).gzip=!0,g(y,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,m,v){var f=e("./zlib/inflate"),u=e("./utils/common"),c=e("./utils/strings"),s=e("./zlib/constants"),t=e("./zlib/messages"),i=e("./zlib/zstream"),r=e("./zlib/gzheader"),n=Object.prototype.toString;function l(o){if(!(this instanceof l))return new l(o);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},o||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||o&&o.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var y=f.inflateInit2(this.strm,g.windowBits);if(y!==s.Z_OK)throw new Error(t[y]);this.header=new r,f.inflateGetHeader(this.strm,this.header)}function d(o,g){var y=new l(g);if(y.push(o,!0),y.err)throw y.msg||t[y.err];return y.result}l.prototype.push=function(o,g){var y,p,E,T,S,x,w=this.strm,I=this.options.chunkSize,D=this.options.dictionary,V=!1;if(this.ended)return!1;p=g===~~g?g:g===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof o=="string"?w.input=c.binstring2buf(o):n.call(o)==="[object ArrayBuffer]"?w.input=new Uint8Array(o):w.input=o,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new u.Buf8(I),w.next_out=0,w.avail_out=I),(y=f.inflate(w,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&D&&(x=typeof D=="string"?c.string2buf(D):n.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,y=f.inflateSetDictionary(this.strm,x)),y===s.Z_BUF_ERROR&&V===!0&&(y=s.Z_OK,V=!1),y!==s.Z_STREAM_END&&y!==s.Z_OK)return this.onEnd(y),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&y!==s.Z_STREAM_END&&(w.avail_in!==0||p!==s.Z_FINISH&&p!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=c.utf8border(w.output,w.next_out),T=w.next_out-E,S=c.buf2string(w.output,E),w.next_out=T,w.avail_out=I-T,T&&u.arraySet(w.output,w.output,E,T,0),this.onData(S)):this.onData(u.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(V=!0)}while((0<w.avail_in||w.avail_out===0)&&y!==s.Z_STREAM_END);return y===s.Z_STREAM_END&&(p=s.Z_FINISH),p===s.Z_FINISH?(y=f.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===s.Z_OK):p!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(w.avail_out=0))},l.prototype.onData=function(o){this.chunks.push(o)},l.prototype.onEnd=function(o){o===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},v.Inflate=l,v.inflate=d,v.inflateRaw=function(o,g){return(g=g||{}).raw=!0,d(o,g)},v.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,m,v){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(s){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(var r in i)i.hasOwnProperty(r)&&(s[r]=i[r])}}return s},v.shrinkBuf=function(s,t){return s.length===t?s:s.subarray?s.subarray(0,t):(s.length=t,s)};var u={arraySet:function(s,t,i,r,n){if(t.subarray&&s.subarray)s.set(t.subarray(i,i+r),n);else for(var l=0;l<r;l++)s[n+l]=t[i+l]},flattenChunks:function(s){var t,i,r,n,l,d;for(t=r=0,i=s.length;t<i;t++)r+=s[t].length;for(d=new Uint8Array(r),t=n=0,i=s.length;t<i;t++)l=s[t],d.set(l,n),n+=l.length;return d}},c={arraySet:function(s,t,i,r,n){for(var l=0;l<r;l++)s[n+l]=t[i+l]},flattenChunks:function(s){return[].concat.apply([],s)}};v.setTyped=function(s){s?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,u)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,c))},v.setTyped(f)},{}],42:[function(e,m,v){var f=e("./common"),u=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var s=new f.Buf8(256),t=0;t<256;t++)s[t]=252<=t?6:248<=t?5:240<=t?4:224<=t?3:192<=t?2:1;function i(r,n){if(n<65537&&(r.subarray&&c||!r.subarray&&u))return String.fromCharCode.apply(null,f.shrinkBuf(r,n));for(var l="",d=0;d<n;d++)l+=String.fromCharCode(r[d]);return l}s[254]=s[254]=1,v.string2buf=function(r){var n,l,d,o,g,y=r.length,p=0;for(o=0;o<y;o++)(64512&(l=r.charCodeAt(o)))==55296&&o+1<y&&(64512&(d=r.charCodeAt(o+1)))==56320&&(l=65536+(l-55296<<10)+(d-56320),o++),p+=l<128?1:l<2048?2:l<65536?3:4;for(n=new f.Buf8(p),o=g=0;g<p;o++)(64512&(l=r.charCodeAt(o)))==55296&&o+1<y&&(64512&(d=r.charCodeAt(o+1)))==56320&&(l=65536+(l-55296<<10)+(d-56320),o++),l<128?n[g++]=l:(l<2048?n[g++]=192|l>>>6:(l<65536?n[g++]=224|l>>>12:(n[g++]=240|l>>>18,n[g++]=128|l>>>12&63),n[g++]=128|l>>>6&63),n[g++]=128|63&l);return n},v.buf2binstring=function(r){return i(r,r.length)},v.binstring2buf=function(r){for(var n=new f.Buf8(r.length),l=0,d=n.length;l<d;l++)n[l]=r.charCodeAt(l);return n},v.buf2string=function(r,n){var l,d,o,g,y=n||r.length,p=new Array(2*y);for(l=d=0;l<y;)if((o=r[l++])<128)p[d++]=o;else if(4<(g=s[o]))p[d++]=65533,l+=g-1;else{for(o&=g===2?31:g===3?15:7;1<g&&l<y;)o=o<<6|63&r[l++],g--;1<g?p[d++]=65533:o<65536?p[d++]=o:(o-=65536,p[d++]=55296|o>>10&1023,p[d++]=56320|1023&o)}return i(p,d)},v.utf8border=function(r,n){var l;for((n=n||r.length)>r.length&&(n=r.length),l=n-1;0<=l&&(192&r[l])==128;)l--;return l<0||l===0?n:l+s[r[l]]>n?l:n}},{"./common":41}],43:[function(e,m,v){m.exports=function(f,u,c,s){for(var t=65535&f|0,i=f>>>16&65535|0,r=0;c!==0;){for(c-=r=2e3<c?2e3:c;i=i+(t=t+u[s++]|0)|0,--r;);t%=65521,i%=65521}return t|i<<16|0}},{}],44:[function(e,m,v){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,m,v){var f=function(){for(var u,c=[],s=0;s<256;s++){u=s;for(var t=0;t<8;t++)u=1&u?3988292384^u>>>1:u>>>1;c[s]=u}return c}();m.exports=function(u,c,s,t){var i=f,r=t+s;u^=-1;for(var n=t;n<r;n++)u=u>>>8^i[255&(u^c[n])];return-1^u}},{}],46:[function(e,m,v){var f,u=e("../utils/common"),c=e("./trees"),s=e("./adler32"),t=e("./crc32"),i=e("./messages"),r=0,n=4,l=0,d=-2,o=-1,g=4,y=2,p=8,E=9,T=286,S=30,x=19,w=2*T+1,I=15,D=3,V=258,ie=V+D+1,ee=42,te=113,Y=1,W=2,j=3,O=4;function k(Z,ue){return Z.msg=i[ue],ue}function B(Z){return(Z<<1)-(4<Z?9:0)}function H(Z){for(var ue=Z.length;0<=--ue;)Z[ue]=0}function $(Z){var ue=Z.state,Ee=ue.pending;Ee>Z.avail_out&&(Ee=Z.avail_out),Ee!==0&&(u.arraySet(Z.output,ue.pending_buf,ue.pending_out,Ee,Z.next_out),Z.next_out+=Ee,ue.pending_out+=Ee,Z.total_out+=Ee,Z.avail_out-=Ee,ue.pending-=Ee,ue.pending===0&&(ue.pending_out=0))}function K(Z,ue){c._tr_flush_block(Z,0<=Z.block_start?Z.block_start:-1,Z.strstart-Z.block_start,ue),Z.block_start=Z.strstart,$(Z.strm)}function z(Z,ue){Z.pending_buf[Z.pending++]=ue}function F(Z,ue){Z.pending_buf[Z.pending++]=ue>>>8&255,Z.pending_buf[Z.pending++]=255&ue}function L(Z,ue){var Ee,_e,he=Z.max_chain_length,de=Z.strstart,ce=Z.prev_length,se=Z.nice_match,ne=Z.strstart>Z.w_size-ie?Z.strstart-(Z.w_size-ie):0,we=Z.window,Ne=Z.w_mask,ae=Z.prev,Pe=Z.strstart+V,ze=we[de+ce-1],ve=we[de+ce];Z.prev_length>=Z.good_match&&(he>>=2),se>Z.lookahead&&(se=Z.lookahead);do if(we[(Ee=ue)+ce]===ve&&we[Ee+ce-1]===ze&&we[Ee]===we[de]&&we[++Ee]===we[de+1]){de+=2,Ee++;do;while(we[++de]===we[++Ee]&&we[++de]===we[++Ee]&&we[++de]===we[++Ee]&&we[++de]===we[++Ee]&&we[++de]===we[++Ee]&&we[++de]===we[++Ee]&&we[++de]===we[++Ee]&&we[++de]===we[++Ee]&&de<Pe);if(_e=V-(Pe-de),de=Pe-V,ce<_e){if(Z.match_start=ue,se<=(ce=_e))break;ze=we[de+ce-1],ve=we[de+ce]}}while((ue=ae[ue&Ne])>ne&&--he!=0);return ce<=Z.lookahead?ce:Z.lookahead}function G(Z){var ue,Ee,_e,he,de,ce,se,ne,we,Ne,ae=Z.w_size;do{if(he=Z.window_size-Z.lookahead-Z.strstart,Z.strstart>=ae+(ae-ie)){for(u.arraySet(Z.window,Z.window,ae,ae,0),Z.match_start-=ae,Z.strstart-=ae,Z.block_start-=ae,ue=Ee=Z.hash_size;_e=Z.head[--ue],Z.head[ue]=ae<=_e?_e-ae:0,--Ee;);for(ue=Ee=ae;_e=Z.prev[--ue],Z.prev[ue]=ae<=_e?_e-ae:0,--Ee;);he+=ae}if(Z.strm.avail_in===0)break;if(ce=Z.strm,se=Z.window,ne=Z.strstart+Z.lookahead,we=he,Ne=void 0,Ne=ce.avail_in,we<Ne&&(Ne=we),Ee=Ne===0?0:(ce.avail_in-=Ne,u.arraySet(se,ce.input,ce.next_in,Ne,ne),ce.state.wrap===1?ce.adler=s(ce.adler,se,Ne,ne):ce.state.wrap===2&&(ce.adler=t(ce.adler,se,Ne,ne)),ce.next_in+=Ne,ce.total_in+=Ne,Ne),Z.lookahead+=Ee,Z.lookahead+Z.insert>=D)for(de=Z.strstart-Z.insert,Z.ins_h=Z.window[de],Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[de+1])&Z.hash_mask;Z.insert&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[de+D-1])&Z.hash_mask,Z.prev[de&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=de,de++,Z.insert--,!(Z.lookahead+Z.insert<D)););}while(Z.lookahead<ie&&Z.strm.avail_in!==0)}function le(Z,ue){for(var Ee,_e;;){if(Z.lookahead<ie){if(G(Z),Z.lookahead<ie&&ue===r)return Y;if(Z.lookahead===0)break}if(Ee=0,Z.lookahead>=D&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+D-1])&Z.hash_mask,Ee=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),Ee!==0&&Z.strstart-Ee<=Z.w_size-ie&&(Z.match_length=L(Z,Ee)),Z.match_length>=D)if(_e=c._tr_tally(Z,Z.strstart-Z.match_start,Z.match_length-D),Z.lookahead-=Z.match_length,Z.match_length<=Z.max_lazy_match&&Z.lookahead>=D){for(Z.match_length--;Z.strstart++,Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+D-1])&Z.hash_mask,Ee=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart,--Z.match_length!=0;);Z.strstart++}else Z.strstart+=Z.match_length,Z.match_length=0,Z.ins_h=Z.window[Z.strstart],Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+1])&Z.hash_mask;else _e=c._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++;if(_e&&(K(Z,!1),Z.strm.avail_out===0))return Y}return Z.insert=Z.strstart<D-1?Z.strstart:D-1,ue===n?(K(Z,!0),Z.strm.avail_out===0?j:O):Z.last_lit&&(K(Z,!1),Z.strm.avail_out===0)?Y:W}function ge(Z,ue){for(var Ee,_e,he;;){if(Z.lookahead<ie){if(G(Z),Z.lookahead<ie&&ue===r)return Y;if(Z.lookahead===0)break}if(Ee=0,Z.lookahead>=D&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+D-1])&Z.hash_mask,Ee=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),Z.prev_length=Z.match_length,Z.prev_match=Z.match_start,Z.match_length=D-1,Ee!==0&&Z.prev_length<Z.max_lazy_match&&Z.strstart-Ee<=Z.w_size-ie&&(Z.match_length=L(Z,Ee),Z.match_length<=5&&(Z.strategy===1||Z.match_length===D&&4096<Z.strstart-Z.match_start)&&(Z.match_length=D-1)),Z.prev_length>=D&&Z.match_length<=Z.prev_length){for(he=Z.strstart+Z.lookahead-D,_e=c._tr_tally(Z,Z.strstart-1-Z.prev_match,Z.prev_length-D),Z.lookahead-=Z.prev_length-1,Z.prev_length-=2;++Z.strstart<=he&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+D-1])&Z.hash_mask,Ee=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),--Z.prev_length!=0;);if(Z.match_available=0,Z.match_length=D-1,Z.strstart++,_e&&(K(Z,!1),Z.strm.avail_out===0))return Y}else if(Z.match_available){if((_e=c._tr_tally(Z,0,Z.window[Z.strstart-1]))&&K(Z,!1),Z.strstart++,Z.lookahead--,Z.strm.avail_out===0)return Y}else Z.match_available=1,Z.strstart++,Z.lookahead--}return Z.match_available&&(_e=c._tr_tally(Z,0,Z.window[Z.strstart-1]),Z.match_available=0),Z.insert=Z.strstart<D-1?Z.strstart:D-1,ue===n?(K(Z,!0),Z.strm.avail_out===0?j:O):Z.last_lit&&(K(Z,!1),Z.strm.avail_out===0)?Y:W}function Ie(Z,ue,Ee,_e,he){this.good_length=Z,this.max_lazy=ue,this.nice_length=Ee,this.max_chain=_e,this.func=he}function Oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*w),this.dyn_dtree=new u.Buf16(2*(2*S+1)),this.bl_tree=new u.Buf16(2*(2*x+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(I+1),this.heap=new u.Buf16(2*T+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*T+1),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ke(Z){var ue;return Z&&Z.state?(Z.total_in=Z.total_out=0,Z.data_type=y,(ue=Z.state).pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?ee:te,Z.adler=ue.wrap===2?0:1,ue.last_flush=r,c._tr_init(ue),l):k(Z,d)}function De(Z){var ue=Ke(Z);return ue===l&&function(Ee){Ee.window_size=2*Ee.w_size,H(Ee.head),Ee.max_lazy_match=f[Ee.level].max_lazy,Ee.good_match=f[Ee.level].good_length,Ee.nice_match=f[Ee.level].nice_length,Ee.max_chain_length=f[Ee.level].max_chain,Ee.strstart=0,Ee.block_start=0,Ee.lookahead=0,Ee.insert=0,Ee.match_length=Ee.prev_length=D-1,Ee.match_available=0,Ee.ins_h=0}(Z.state),ue}function Te(Z,ue,Ee,_e,he,de){if(!Z)return d;var ce=1;if(ue===o&&(ue=6),_e<0?(ce=0,_e=-_e):15<_e&&(ce=2,_e-=16),he<1||E<he||Ee!==p||_e<8||15<_e||ue<0||9<ue||de<0||g<de)return k(Z,d);_e===8&&(_e=9);var se=new Oe;return(Z.state=se).strm=Z,se.wrap=ce,se.gzhead=null,se.w_bits=_e,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=he+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+D-1)/D),se.window=new u.Buf8(2*se.w_size),se.head=new u.Buf16(se.hash_size),se.prev=new u.Buf16(se.w_size),se.lit_bufsize=1<<he+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new u.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=ue,se.strategy=de,se.method=Ee,De(Z)}f=[new Ie(0,0,0,0,function(Z,ue){var Ee=65535;for(Ee>Z.pending_buf_size-5&&(Ee=Z.pending_buf_size-5);;){if(Z.lookahead<=1){if(G(Z),Z.lookahead===0&&ue===r)return Y;if(Z.lookahead===0)break}Z.strstart+=Z.lookahead,Z.lookahead=0;var _e=Z.block_start+Ee;if((Z.strstart===0||Z.strstart>=_e)&&(Z.lookahead=Z.strstart-_e,Z.strstart=_e,K(Z,!1),Z.strm.avail_out===0)||Z.strstart-Z.block_start>=Z.w_size-ie&&(K(Z,!1),Z.strm.avail_out===0))return Y}return Z.insert=0,ue===n?(K(Z,!0),Z.strm.avail_out===0?j:O):(Z.strstart>Z.block_start&&(K(Z,!1),Z.strm.avail_out),Y)}),new Ie(4,4,8,4,le),new Ie(4,5,16,8,le),new Ie(4,6,32,32,le),new Ie(4,4,16,16,ge),new Ie(8,16,32,32,ge),new Ie(8,16,128,128,ge),new Ie(8,32,128,256,ge),new Ie(32,128,258,1024,ge),new Ie(32,258,258,4096,ge)],v.deflateInit=function(Z,ue){return Te(Z,ue,p,15,8,0)},v.deflateInit2=Te,v.deflateReset=De,v.deflateResetKeep=Ke,v.deflateSetHeader=function(Z,ue){return Z&&Z.state?Z.state.wrap!==2?d:(Z.state.gzhead=ue,l):d},v.deflate=function(Z,ue){var Ee,_e,he,de;if(!Z||!Z.state||5<ue||ue<0)return Z?k(Z,d):d;if(_e=Z.state,!Z.output||!Z.input&&Z.avail_in!==0||_e.status===666&&ue!==n)return k(Z,Z.avail_out===0?-5:d);if(_e.strm=Z,Ee=_e.last_flush,_e.last_flush=ue,_e.status===ee)if(_e.wrap===2)Z.adler=0,z(_e,31),z(_e,139),z(_e,8),_e.gzhead?(z(_e,(_e.gzhead.text?1:0)+(_e.gzhead.hcrc?2:0)+(_e.gzhead.extra?4:0)+(_e.gzhead.name?8:0)+(_e.gzhead.comment?16:0)),z(_e,255&_e.gzhead.time),z(_e,_e.gzhead.time>>8&255),z(_e,_e.gzhead.time>>16&255),z(_e,_e.gzhead.time>>24&255),z(_e,_e.level===9?2:2<=_e.strategy||_e.level<2?4:0),z(_e,255&_e.gzhead.os),_e.gzhead.extra&&_e.gzhead.extra.length&&(z(_e,255&_e.gzhead.extra.length),z(_e,_e.gzhead.extra.length>>8&255)),_e.gzhead.hcrc&&(Z.adler=t(Z.adler,_e.pending_buf,_e.pending,0)),_e.gzindex=0,_e.status=69):(z(_e,0),z(_e,0),z(_e,0),z(_e,0),z(_e,0),z(_e,_e.level===9?2:2<=_e.strategy||_e.level<2?4:0),z(_e,3),_e.status=te);else{var ce=p+(_e.w_bits-8<<4)<<8;ce|=(2<=_e.strategy||_e.level<2?0:_e.level<6?1:_e.level===6?2:3)<<6,_e.strstart!==0&&(ce|=32),ce+=31-ce%31,_e.status=te,F(_e,ce),_e.strstart!==0&&(F(_e,Z.adler>>>16),F(_e,65535&Z.adler)),Z.adler=1}if(_e.status===69)if(_e.gzhead.extra){for(he=_e.pending;_e.gzindex<(65535&_e.gzhead.extra.length)&&(_e.pending!==_e.pending_buf_size||(_e.gzhead.hcrc&&_e.pending>he&&(Z.adler=t(Z.adler,_e.pending_buf,_e.pending-he,he)),$(Z),he=_e.pending,_e.pending!==_e.pending_buf_size));)z(_e,255&_e.gzhead.extra[_e.gzindex]),_e.gzindex++;_e.gzhead.hcrc&&_e.pending>he&&(Z.adler=t(Z.adler,_e.pending_buf,_e.pending-he,he)),_e.gzindex===_e.gzhead.extra.length&&(_e.gzindex=0,_e.status=73)}else _e.status=73;if(_e.status===73)if(_e.gzhead.name){he=_e.pending;do{if(_e.pending===_e.pending_buf_size&&(_e.gzhead.hcrc&&_e.pending>he&&(Z.adler=t(Z.adler,_e.pending_buf,_e.pending-he,he)),$(Z),he=_e.pending,_e.pending===_e.pending_buf_size)){de=1;break}de=_e.gzindex<_e.gzhead.name.length?255&_e.gzhead.name.charCodeAt(_e.gzindex++):0,z(_e,de)}while(de!==0);_e.gzhead.hcrc&&_e.pending>he&&(Z.adler=t(Z.adler,_e.pending_buf,_e.pending-he,he)),de===0&&(_e.gzindex=0,_e.status=91)}else _e.status=91;if(_e.status===91)if(_e.gzhead.comment){he=_e.pending;do{if(_e.pending===_e.pending_buf_size&&(_e.gzhead.hcrc&&_e.pending>he&&(Z.adler=t(Z.adler,_e.pending_buf,_e.pending-he,he)),$(Z),he=_e.pending,_e.pending===_e.pending_buf_size)){de=1;break}de=_e.gzindex<_e.gzhead.comment.length?255&_e.gzhead.comment.charCodeAt(_e.gzindex++):0,z(_e,de)}while(de!==0);_e.gzhead.hcrc&&_e.pending>he&&(Z.adler=t(Z.adler,_e.pending_buf,_e.pending-he,he)),de===0&&(_e.status=103)}else _e.status=103;if(_e.status===103&&(_e.gzhead.hcrc?(_e.pending+2>_e.pending_buf_size&&$(Z),_e.pending+2<=_e.pending_buf_size&&(z(_e,255&Z.adler),z(_e,Z.adler>>8&255),Z.adler=0,_e.status=te)):_e.status=te),_e.pending!==0){if($(Z),Z.avail_out===0)return _e.last_flush=-1,l}else if(Z.avail_in===0&&B(ue)<=B(Ee)&&ue!==n)return k(Z,-5);if(_e.status===666&&Z.avail_in!==0)return k(Z,-5);if(Z.avail_in!==0||_e.lookahead!==0||ue!==r&&_e.status!==666){var se=_e.strategy===2?function(ne,we){for(var Ne;;){if(ne.lookahead===0&&(G(ne),ne.lookahead===0)){if(we===r)return Y;break}if(ne.match_length=0,Ne=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,Ne&&(K(ne,!1),ne.strm.avail_out===0))return Y}return ne.insert=0,we===n?(K(ne,!0),ne.strm.avail_out===0?j:O):ne.last_lit&&(K(ne,!1),ne.strm.avail_out===0)?Y:W}(_e,ue):_e.strategy===3?function(ne,we){for(var Ne,ae,Pe,ze,ve=ne.window;;){if(ne.lookahead<=V){if(G(ne),ne.lookahead<=V&&we===r)return Y;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=D&&0<ne.strstart&&(ae=ve[Pe=ne.strstart-1])===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]){ze=ne.strstart+V;do;while(ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&ae===ve[++Pe]&&Pe<ze);ne.match_length=V-(ze-Pe),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=D?(Ne=c._tr_tally(ne,1,ne.match_length-D),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(Ne=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),Ne&&(K(ne,!1),ne.strm.avail_out===0))return Y}return ne.insert=0,we===n?(K(ne,!0),ne.strm.avail_out===0?j:O):ne.last_lit&&(K(ne,!1),ne.strm.avail_out===0)?Y:W}(_e,ue):f[_e.level].func(_e,ue);if(se!==j&&se!==O||(_e.status=666),se===Y||se===j)return Z.avail_out===0&&(_e.last_flush=-1),l;if(se===W&&(ue===1?c._tr_align(_e):ue!==5&&(c._tr_stored_block(_e,0,0,!1),ue===3&&(H(_e.head),_e.lookahead===0&&(_e.strstart=0,_e.block_start=0,_e.insert=0))),$(Z),Z.avail_out===0))return _e.last_flush=-1,l}return ue!==n?l:_e.wrap<=0?1:(_e.wrap===2?(z(_e,255&Z.adler),z(_e,Z.adler>>8&255),z(_e,Z.adler>>16&255),z(_e,Z.adler>>24&255),z(_e,255&Z.total_in),z(_e,Z.total_in>>8&255),z(_e,Z.total_in>>16&255),z(_e,Z.total_in>>24&255)):(F(_e,Z.adler>>>16),F(_e,65535&Z.adler)),$(Z),0<_e.wrap&&(_e.wrap=-_e.wrap),_e.pending!==0?l:1)},v.deflateEnd=function(Z){var ue;return Z&&Z.state?(ue=Z.state.status)!==ee&&ue!==69&&ue!==73&&ue!==91&&ue!==103&&ue!==te&&ue!==666?k(Z,d):(Z.state=null,ue===te?k(Z,-3):l):d},v.deflateSetDictionary=function(Z,ue){var Ee,_e,he,de,ce,se,ne,we,Ne=ue.length;if(!Z||!Z.state||(de=(Ee=Z.state).wrap)===2||de===1&&Ee.status!==ee||Ee.lookahead)return d;for(de===1&&(Z.adler=s(Z.adler,ue,Ne,0)),Ee.wrap=0,Ne>=Ee.w_size&&(de===0&&(H(Ee.head),Ee.strstart=0,Ee.block_start=0,Ee.insert=0),we=new u.Buf8(Ee.w_size),u.arraySet(we,ue,Ne-Ee.w_size,Ee.w_size,0),ue=we,Ne=Ee.w_size),ce=Z.avail_in,se=Z.next_in,ne=Z.input,Z.avail_in=Ne,Z.next_in=0,Z.input=ue,G(Ee);Ee.lookahead>=D;){for(_e=Ee.strstart,he=Ee.lookahead-(D-1);Ee.ins_h=(Ee.ins_h<<Ee.hash_shift^Ee.window[_e+D-1])&Ee.hash_mask,Ee.prev[_e&Ee.w_mask]=Ee.head[Ee.ins_h],Ee.head[Ee.ins_h]=_e,_e++,--he;);Ee.strstart=_e,Ee.lookahead=D-1,G(Ee)}return Ee.strstart+=Ee.lookahead,Ee.block_start=Ee.strstart,Ee.insert=Ee.lookahead,Ee.lookahead=0,Ee.match_length=Ee.prev_length=D-1,Ee.match_available=0,Z.next_in=se,Z.input=ne,Z.avail_in=ce,Ee.wrap=de,l},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,m,v){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,m,v){m.exports=function(f,u){var c,s,t,i,r,n,l,d,o,g,y,p,E,T,S,x,w,I,D,V,ie,ee,te,Y,W;c=f.state,s=f.next_in,Y=f.input,t=s+(f.avail_in-5),i=f.next_out,W=f.output,r=i-(u-f.avail_out),n=i+(f.avail_out-257),l=c.dmax,d=c.wsize,o=c.whave,g=c.wnext,y=c.window,p=c.hold,E=c.bits,T=c.lencode,S=c.distcode,x=(1<<c.lenbits)-1,w=(1<<c.distbits)-1;e:do{E<15&&(p+=Y[s++]<<E,E+=8,p+=Y[s++]<<E,E+=8),I=T[p&x];t:for(;;){if(p>>>=D=I>>>24,E-=D,(D=I>>>16&255)===0)W[i++]=65535&I;else{if(!(16&D)){if(!(64&D)){I=T[(65535&I)+(p&(1<<D)-1)];continue t}if(32&D){c.mode=12;break e}f.msg="invalid literal/length code",c.mode=30;break e}V=65535&I,(D&=15)&&(E<D&&(p+=Y[s++]<<E,E+=8),V+=p&(1<<D)-1,p>>>=D,E-=D),E<15&&(p+=Y[s++]<<E,E+=8,p+=Y[s++]<<E,E+=8),I=S[p&w];r:for(;;){if(p>>>=D=I>>>24,E-=D,!(16&(D=I>>>16&255))){if(!(64&D)){I=S[(65535&I)+(p&(1<<D)-1)];continue r}f.msg="invalid distance code",c.mode=30;break e}if(ie=65535&I,E<(D&=15)&&(p+=Y[s++]<<E,(E+=8)<D&&(p+=Y[s++]<<E,E+=8)),l<(ie+=p&(1<<D)-1)){f.msg="invalid distance too far back",c.mode=30;break e}if(p>>>=D,E-=D,(D=i-r)<ie){if(o<(D=ie-D)&&c.sane){f.msg="invalid distance too far back",c.mode=30;break e}if(te=y,(ee=0)===g){if(ee+=d-D,D<V){for(V-=D;W[i++]=y[ee++],--D;);ee=i-ie,te=W}}else if(g<D){if(ee+=d+g-D,(D-=g)<V){for(V-=D;W[i++]=y[ee++],--D;);if(ee=0,g<V){for(V-=D=g;W[i++]=y[ee++],--D;);ee=i-ie,te=W}}}else if(ee+=g-D,D<V){for(V-=D;W[i++]=y[ee++],--D;);ee=i-ie,te=W}for(;2<V;)W[i++]=te[ee++],W[i++]=te[ee++],W[i++]=te[ee++],V-=3;V&&(W[i++]=te[ee++],1<V&&(W[i++]=te[ee++]))}else{for(ee=i-ie;W[i++]=W[ee++],W[i++]=W[ee++],W[i++]=W[ee++],2<(V-=3););V&&(W[i++]=W[ee++],1<V&&(W[i++]=W[ee++]))}break}}break}}while(s<t&&i<n);s-=V=E>>3,p&=(1<<(E-=V<<3))-1,f.next_in=s,f.next_out=i,f.avail_in=s<t?t-s+5:5-(s-t),f.avail_out=i<n?n-i+257:257-(i-n),c.hold=p,c.bits=E}},{}],49:[function(e,m,v){var f=e("../utils/common"),u=e("./adler32"),c=e("./crc32"),s=e("./inffast"),t=e("./inftrees"),i=1,r=2,n=0,l=-2,d=1,o=852,g=592;function y(ee){return(ee>>>24&255)+(ee>>>8&65280)+((65280&ee)<<8)+((255&ee)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(ee){var te;return ee&&ee.state?(te=ee.state,ee.total_in=ee.total_out=te.total=0,ee.msg="",te.wrap&&(ee.adler=1&te.wrap),te.mode=d,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new f.Buf32(o),te.distcode=te.distdyn=new f.Buf32(g),te.sane=1,te.back=-1,n):l}function T(ee){var te;return ee&&ee.state?((te=ee.state).wsize=0,te.whave=0,te.wnext=0,E(ee)):l}function S(ee,te){var Y,W;return ee&&ee.state?(W=ee.state,te<0?(Y=0,te=-te):(Y=1+(te>>4),te<48&&(te&=15)),te&&(te<8||15<te)?l:(W.window!==null&&W.wbits!==te&&(W.window=null),W.wrap=Y,W.wbits=te,T(ee))):l}function x(ee,te){var Y,W;return ee?(W=new p,(ee.state=W).window=null,(Y=S(ee,te))!==n&&(ee.state=null),Y):l}var w,I,D=!0;function V(ee){if(D){var te;for(w=new f.Buf32(512),I=new f.Buf32(32),te=0;te<144;)ee.lens[te++]=8;for(;te<256;)ee.lens[te++]=9;for(;te<280;)ee.lens[te++]=7;for(;te<288;)ee.lens[te++]=8;for(t(i,ee.lens,0,288,w,0,ee.work,{bits:9}),te=0;te<32;)ee.lens[te++]=5;t(r,ee.lens,0,32,I,0,ee.work,{bits:5}),D=!1}ee.lencode=w,ee.lenbits=9,ee.distcode=I,ee.distbits=5}function ie(ee,te,Y,W){var j,O=ee.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new f.Buf8(O.wsize)),W>=O.wsize?(f.arraySet(O.window,te,Y-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(W<(j=O.wsize-O.wnext)&&(j=W),f.arraySet(O.window,te,Y-W,j,O.wnext),(W-=j)?(f.arraySet(O.window,te,Y-W,W,0),O.wnext=W,O.whave=O.wsize):(O.wnext+=j,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=j))),0}v.inflateReset=T,v.inflateReset2=S,v.inflateResetKeep=E,v.inflateInit=function(ee){return x(ee,15)},v.inflateInit2=x,v.inflate=function(ee,te){var Y,W,j,O,k,B,H,$,K,z,F,L,G,le,ge,Ie,Oe,Ke,De,Te,Z,ue,Ee,_e,he=0,de=new f.Buf8(4),ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ee||!ee.state||!ee.output||!ee.input&&ee.avail_in!==0)return l;(Y=ee.state).mode===12&&(Y.mode=13),k=ee.next_out,j=ee.output,H=ee.avail_out,O=ee.next_in,W=ee.input,B=ee.avail_in,$=Y.hold,K=Y.bits,z=B,F=H,ue=n;e:for(;;)switch(Y.mode){case d:if(Y.wrap===0){Y.mode=13;break}for(;K<16;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if(2&Y.wrap&&$===35615){de[Y.check=0]=255&$,de[1]=$>>>8&255,Y.check=c(Y.check,de,2,0),K=$=0,Y.mode=2;break}if(Y.flags=0,Y.head&&(Y.head.done=!1),!(1&Y.wrap)||(((255&$)<<8)+($>>8))%31){ee.msg="incorrect header check",Y.mode=30;break}if((15&$)!=8){ee.msg="unknown compression method",Y.mode=30;break}if(K-=4,Z=8+(15&($>>>=4)),Y.wbits===0)Y.wbits=Z;else if(Z>Y.wbits){ee.msg="invalid window size",Y.mode=30;break}Y.dmax=1<<Z,ee.adler=Y.check=1,Y.mode=512&$?10:12,K=$=0;break;case 2:for(;K<16;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if(Y.flags=$,(255&Y.flags)!=8){ee.msg="unknown compression method",Y.mode=30;break}if(57344&Y.flags){ee.msg="unknown header flags set",Y.mode=30;break}Y.head&&(Y.head.text=$>>8&1),512&Y.flags&&(de[0]=255&$,de[1]=$>>>8&255,Y.check=c(Y.check,de,2,0)),K=$=0,Y.mode=3;case 3:for(;K<32;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}Y.head&&(Y.head.time=$),512&Y.flags&&(de[0]=255&$,de[1]=$>>>8&255,de[2]=$>>>16&255,de[3]=$>>>24&255,Y.check=c(Y.check,de,4,0)),K=$=0,Y.mode=4;case 4:for(;K<16;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}Y.head&&(Y.head.xflags=255&$,Y.head.os=$>>8),512&Y.flags&&(de[0]=255&$,de[1]=$>>>8&255,Y.check=c(Y.check,de,2,0)),K=$=0,Y.mode=5;case 5:if(1024&Y.flags){for(;K<16;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}Y.length=$,Y.head&&(Y.head.extra_len=$),512&Y.flags&&(de[0]=255&$,de[1]=$>>>8&255,Y.check=c(Y.check,de,2,0)),K=$=0}else Y.head&&(Y.head.extra=null);Y.mode=6;case 6:if(1024&Y.flags&&(B<(L=Y.length)&&(L=B),L&&(Y.head&&(Z=Y.head.extra_len-Y.length,Y.head.extra||(Y.head.extra=new Array(Y.head.extra_len)),f.arraySet(Y.head.extra,W,O,L,Z)),512&Y.flags&&(Y.check=c(Y.check,W,L,O)),B-=L,O+=L,Y.length-=L),Y.length))break e;Y.length=0,Y.mode=7;case 7:if(2048&Y.flags){if(B===0)break e;for(L=0;Z=W[O+L++],Y.head&&Z&&Y.length<65536&&(Y.head.name+=String.fromCharCode(Z)),Z&&L<B;);if(512&Y.flags&&(Y.check=c(Y.check,W,L,O)),B-=L,O+=L,Z)break e}else Y.head&&(Y.head.name=null);Y.length=0,Y.mode=8;case 8:if(4096&Y.flags){if(B===0)break e;for(L=0;Z=W[O+L++],Y.head&&Z&&Y.length<65536&&(Y.head.comment+=String.fromCharCode(Z)),Z&&L<B;);if(512&Y.flags&&(Y.check=c(Y.check,W,L,O)),B-=L,O+=L,Z)break e}else Y.head&&(Y.head.comment=null);Y.mode=9;case 9:if(512&Y.flags){for(;K<16;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if($!==(65535&Y.check)){ee.msg="header crc mismatch",Y.mode=30;break}K=$=0}Y.head&&(Y.head.hcrc=Y.flags>>9&1,Y.head.done=!0),ee.adler=Y.check=0,Y.mode=12;break;case 10:for(;K<32;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}ee.adler=Y.check=y($),K=$=0,Y.mode=11;case 11:if(Y.havedict===0)return ee.next_out=k,ee.avail_out=H,ee.next_in=O,ee.avail_in=B,Y.hold=$,Y.bits=K,2;ee.adler=Y.check=1,Y.mode=12;case 12:if(te===5||te===6)break e;case 13:if(Y.last){$>>>=7&K,K-=7&K,Y.mode=27;break}for(;K<3;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}switch(Y.last=1&$,K-=1,3&($>>>=1)){case 0:Y.mode=14;break;case 1:if(V(Y),Y.mode=20,te!==6)break;$>>>=2,K-=2;break e;case 2:Y.mode=17;break;case 3:ee.msg="invalid block type",Y.mode=30}$>>>=2,K-=2;break;case 14:for($>>>=7&K,K-=7&K;K<32;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if((65535&$)!=($>>>16^65535)){ee.msg="invalid stored block lengths",Y.mode=30;break}if(Y.length=65535&$,K=$=0,Y.mode=15,te===6)break e;case 15:Y.mode=16;case 16:if(L=Y.length){if(B<L&&(L=B),H<L&&(L=H),L===0)break e;f.arraySet(j,W,O,L,k),B-=L,O+=L,H-=L,k+=L,Y.length-=L;break}Y.mode=12;break;case 17:for(;K<14;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if(Y.nlen=257+(31&$),$>>>=5,K-=5,Y.ndist=1+(31&$),$>>>=5,K-=5,Y.ncode=4+(15&$),$>>>=4,K-=4,286<Y.nlen||30<Y.ndist){ee.msg="too many length or distance symbols",Y.mode=30;break}Y.have=0,Y.mode=18;case 18:for(;Y.have<Y.ncode;){for(;K<3;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}Y.lens[ce[Y.have++]]=7&$,$>>>=3,K-=3}for(;Y.have<19;)Y.lens[ce[Y.have++]]=0;if(Y.lencode=Y.lendyn,Y.lenbits=7,Ee={bits:Y.lenbits},ue=t(0,Y.lens,0,19,Y.lencode,0,Y.work,Ee),Y.lenbits=Ee.bits,ue){ee.msg="invalid code lengths set",Y.mode=30;break}Y.have=0,Y.mode=19;case 19:for(;Y.have<Y.nlen+Y.ndist;){for(;Ie=(he=Y.lencode[$&(1<<Y.lenbits)-1])>>>16&255,Oe=65535&he,!((ge=he>>>24)<=K);){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if(Oe<16)$>>>=ge,K-=ge,Y.lens[Y.have++]=Oe;else{if(Oe===16){for(_e=ge+2;K<_e;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if($>>>=ge,K-=ge,Y.have===0){ee.msg="invalid bit length repeat",Y.mode=30;break}Z=Y.lens[Y.have-1],L=3+(3&$),$>>>=2,K-=2}else if(Oe===17){for(_e=ge+3;K<_e;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}K-=ge,Z=0,L=3+(7&($>>>=ge)),$>>>=3,K-=3}else{for(_e=ge+7;K<_e;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}K-=ge,Z=0,L=11+(127&($>>>=ge)),$>>>=7,K-=7}if(Y.have+L>Y.nlen+Y.ndist){ee.msg="invalid bit length repeat",Y.mode=30;break}for(;L--;)Y.lens[Y.have++]=Z}}if(Y.mode===30)break;if(Y.lens[256]===0){ee.msg="invalid code -- missing end-of-block",Y.mode=30;break}if(Y.lenbits=9,Ee={bits:Y.lenbits},ue=t(i,Y.lens,0,Y.nlen,Y.lencode,0,Y.work,Ee),Y.lenbits=Ee.bits,ue){ee.msg="invalid literal/lengths set",Y.mode=30;break}if(Y.distbits=6,Y.distcode=Y.distdyn,Ee={bits:Y.distbits},ue=t(r,Y.lens,Y.nlen,Y.ndist,Y.distcode,0,Y.work,Ee),Y.distbits=Ee.bits,ue){ee.msg="invalid distances set",Y.mode=30;break}if(Y.mode=20,te===6)break e;case 20:Y.mode=21;case 21:if(6<=B&&258<=H){ee.next_out=k,ee.avail_out=H,ee.next_in=O,ee.avail_in=B,Y.hold=$,Y.bits=K,s(ee,F),k=ee.next_out,j=ee.output,H=ee.avail_out,O=ee.next_in,W=ee.input,B=ee.avail_in,$=Y.hold,K=Y.bits,Y.mode===12&&(Y.back=-1);break}for(Y.back=0;Ie=(he=Y.lencode[$&(1<<Y.lenbits)-1])>>>16&255,Oe=65535&he,!((ge=he>>>24)<=K);){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if(Ie&&!(240&Ie)){for(Ke=ge,De=Ie,Te=Oe;Ie=(he=Y.lencode[Te+(($&(1<<Ke+De)-1)>>Ke)])>>>16&255,Oe=65535&he,!(Ke+(ge=he>>>24)<=K);){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}$>>>=Ke,K-=Ke,Y.back+=Ke}if($>>>=ge,K-=ge,Y.back+=ge,Y.length=Oe,Ie===0){Y.mode=26;break}if(32&Ie){Y.back=-1,Y.mode=12;break}if(64&Ie){ee.msg="invalid literal/length code",Y.mode=30;break}Y.extra=15&Ie,Y.mode=22;case 22:if(Y.extra){for(_e=Y.extra;K<_e;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}Y.length+=$&(1<<Y.extra)-1,$>>>=Y.extra,K-=Y.extra,Y.back+=Y.extra}Y.was=Y.length,Y.mode=23;case 23:for(;Ie=(he=Y.distcode[$&(1<<Y.distbits)-1])>>>16&255,Oe=65535&he,!((ge=he>>>24)<=K);){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if(!(240&Ie)){for(Ke=ge,De=Ie,Te=Oe;Ie=(he=Y.distcode[Te+(($&(1<<Ke+De)-1)>>Ke)])>>>16&255,Oe=65535&he,!(Ke+(ge=he>>>24)<=K);){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}$>>>=Ke,K-=Ke,Y.back+=Ke}if($>>>=ge,K-=ge,Y.back+=ge,64&Ie){ee.msg="invalid distance code",Y.mode=30;break}Y.offset=Oe,Y.extra=15&Ie,Y.mode=24;case 24:if(Y.extra){for(_e=Y.extra;K<_e;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}Y.offset+=$&(1<<Y.extra)-1,$>>>=Y.extra,K-=Y.extra,Y.back+=Y.extra}if(Y.offset>Y.dmax){ee.msg="invalid distance too far back",Y.mode=30;break}Y.mode=25;case 25:if(H===0)break e;if(L=F-H,Y.offset>L){if((L=Y.offset-L)>Y.whave&&Y.sane){ee.msg="invalid distance too far back",Y.mode=30;break}G=L>Y.wnext?(L-=Y.wnext,Y.wsize-L):Y.wnext-L,L>Y.length&&(L=Y.length),le=Y.window}else le=j,G=k-Y.offset,L=Y.length;for(H<L&&(L=H),H-=L,Y.length-=L;j[k++]=le[G++],--L;);Y.length===0&&(Y.mode=21);break;case 26:if(H===0)break e;j[k++]=Y.length,H--,Y.mode=21;break;case 27:if(Y.wrap){for(;K<32;){if(B===0)break e;B--,$|=W[O++]<<K,K+=8}if(F-=H,ee.total_out+=F,Y.total+=F,F&&(ee.adler=Y.check=Y.flags?c(Y.check,j,F,k-F):u(Y.check,j,F,k-F)),F=H,(Y.flags?$:y($))!==Y.check){ee.msg="incorrect data check",Y.mode=30;break}K=$=0}Y.mode=28;case 28:if(Y.wrap&&Y.flags){for(;K<32;){if(B===0)break e;B--,$+=W[O++]<<K,K+=8}if($!==(4294967295&Y.total)){ee.msg="incorrect length check",Y.mode=30;break}K=$=0}Y.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return l}return ee.next_out=k,ee.avail_out=H,ee.next_in=O,ee.avail_in=B,Y.hold=$,Y.bits=K,(Y.wsize||F!==ee.avail_out&&Y.mode<30&&(Y.mode<27||te!==4))&&ie(ee,ee.output,ee.next_out,F-ee.avail_out)?(Y.mode=31,-4):(z-=ee.avail_in,F-=ee.avail_out,ee.total_in+=z,ee.total_out+=F,Y.total+=F,Y.wrap&&F&&(ee.adler=Y.check=Y.flags?c(Y.check,j,F,ee.next_out-F):u(Y.check,j,F,ee.next_out-F)),ee.data_type=Y.bits+(Y.last?64:0)+(Y.mode===12?128:0)+(Y.mode===20||Y.mode===15?256:0),(z==0&&F===0||te===4)&&ue===n&&(ue=-5),ue)},v.inflateEnd=function(ee){if(!ee||!ee.state)return l;var te=ee.state;return te.window&&(te.window=null),ee.state=null,n},v.inflateGetHeader=function(ee,te){var Y;return ee&&ee.state&&2&(Y=ee.state).wrap?((Y.head=te).done=!1,n):l},v.inflateSetDictionary=function(ee,te){var Y,W=te.length;return ee&&ee.state?(Y=ee.state).wrap!==0&&Y.mode!==11?l:Y.mode===11&&u(1,te,W,0)!==Y.check?-3:ie(ee,te,W,W)?(Y.mode=31,-4):(Y.havedict=1,n):l},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,m,v){var f=e("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],t=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(i,r,n,l,d,o,g,y){var p,E,T,S,x,w,I,D,V,ie=y.bits,ee=0,te=0,Y=0,W=0,j=0,O=0,k=0,B=0,H=0,$=0,K=null,z=0,F=new f.Buf16(16),L=new f.Buf16(16),G=null,le=0;for(ee=0;ee<=15;ee++)F[ee]=0;for(te=0;te<l;te++)F[r[n+te]]++;for(j=ie,W=15;1<=W&&F[W]===0;W--);if(W<j&&(j=W),W===0)return d[o++]=20971520,d[o++]=20971520,y.bits=1,0;for(Y=1;Y<W&&F[Y]===0;Y++);for(j<Y&&(j=Y),ee=B=1;ee<=15;ee++)if(B<<=1,(B-=F[ee])<0)return-1;if(0<B&&(i===0||W!==1))return-1;for(L[1]=0,ee=1;ee<15;ee++)L[ee+1]=L[ee]+F[ee];for(te=0;te<l;te++)r[n+te]!==0&&(g[L[r[n+te]]++]=te);if(w=i===0?(K=G=g,19):i===1?(K=u,z-=257,G=c,le-=257,256):(K=s,G=t,-1),ee=Y,x=o,k=te=$=0,T=-1,S=(H=1<<(O=j))-1,i===1&&852<H||i===2&&592<H)return 1;for(;;){for(I=ee-k,V=g[te]<w?(D=0,g[te]):g[te]>w?(D=G[le+g[te]],K[z+g[te]]):(D=96,0),p=1<<ee-k,Y=E=1<<O;d[x+($>>k)+(E-=p)]=I<<24|D<<16|V|0,E!==0;);for(p=1<<ee-1;$&p;)p>>=1;if(p!==0?($&=p-1,$+=p):$=0,te++,--F[ee]==0){if(ee===W)break;ee=r[n+g[te]]}if(j<ee&&($&S)!==T){for(k===0&&(k=j),x+=Y,B=1<<(O=ee-k);O+k<W&&!((B-=F[O+k])<=0);)O++,B<<=1;if(H+=1<<O,i===1&&852<H||i===2&&592<H)return 1;d[T=$&S]=j<<24|O<<16|x-o|0}}return $!==0&&(d[x+$]=ee-k<<24|64<<16|0),y.bits=j,0}},{"../utils/common":41}],51:[function(e,m,v){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,m,v){var f=e("../utils/common"),u=0,c=1;function s(he){for(var de=he.length;0<=--de;)he[de]=0}var t=0,i=29,r=256,n=r+1+i,l=30,d=19,o=2*n+1,g=15,y=16,p=7,E=256,T=16,S=17,x=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=new Array(2*(n+2));s(ie);var ee=new Array(2*l);s(ee);var te=new Array(512);s(te);var Y=new Array(256);s(Y);var W=new Array(i);s(W);var j,O,k,B=new Array(l);function H(he,de,ce,se,ne){this.static_tree=he,this.extra_bits=de,this.extra_base=ce,this.elems=se,this.max_length=ne,this.has_stree=he&&he.length}function $(he,de){this.dyn_tree=he,this.max_code=0,this.stat_desc=de}function K(he){return he<256?te[he]:te[256+(he>>>7)]}function z(he,de){he.pending_buf[he.pending++]=255&de,he.pending_buf[he.pending++]=de>>>8&255}function F(he,de,ce){he.bi_valid>y-ce?(he.bi_buf|=de<<he.bi_valid&65535,z(he,he.bi_buf),he.bi_buf=de>>y-he.bi_valid,he.bi_valid+=ce-y):(he.bi_buf|=de<<he.bi_valid&65535,he.bi_valid+=ce)}function L(he,de,ce){F(he,ce[2*de],ce[2*de+1])}function G(he,de){for(var ce=0;ce|=1&he,he>>>=1,ce<<=1,0<--de;);return ce>>>1}function le(he,de,ce){var se,ne,we=new Array(g+1),Ne=0;for(se=1;se<=g;se++)we[se]=Ne=Ne+ce[se-1]<<1;for(ne=0;ne<=de;ne++){var ae=he[2*ne+1];ae!==0&&(he[2*ne]=G(we[ae]++,ae))}}function ge(he){var de;for(de=0;de<n;de++)he.dyn_ltree[2*de]=0;for(de=0;de<l;de++)he.dyn_dtree[2*de]=0;for(de=0;de<d;de++)he.bl_tree[2*de]=0;he.dyn_ltree[2*E]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function Ie(he){8<he.bi_valid?z(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function Oe(he,de,ce,se){var ne=2*de,we=2*ce;return he[ne]<he[we]||he[ne]===he[we]&&se[de]<=se[ce]}function Ke(he,de,ce){for(var se=he.heap[ce],ne=ce<<1;ne<=he.heap_len&&(ne<he.heap_len&&Oe(de,he.heap[ne+1],he.heap[ne],he.depth)&&ne++,!Oe(de,se,he.heap[ne],he.depth));)he.heap[ce]=he.heap[ne],ce=ne,ne<<=1;he.heap[ce]=se}function De(he,de,ce){var se,ne,we,Ne,ae=0;if(he.last_lit!==0)for(;se=he.pending_buf[he.d_buf+2*ae]<<8|he.pending_buf[he.d_buf+2*ae+1],ne=he.pending_buf[he.l_buf+ae],ae++,se===0?L(he,ne,de):(L(he,(we=Y[ne])+r+1,de),(Ne=w[we])!==0&&F(he,ne-=W[we],Ne),L(he,we=K(--se),ce),(Ne=I[we])!==0&&F(he,se-=B[we],Ne)),ae<he.last_lit;);L(he,E,de)}function Te(he,de){var ce,se,ne,we=de.dyn_tree,Ne=de.stat_desc.static_tree,ae=de.stat_desc.has_stree,Pe=de.stat_desc.elems,ze=-1;for(he.heap_len=0,he.heap_max=o,ce=0;ce<Pe;ce++)we[2*ce]!==0?(he.heap[++he.heap_len]=ze=ce,he.depth[ce]=0):we[2*ce+1]=0;for(;he.heap_len<2;)we[2*(ne=he.heap[++he.heap_len]=ze<2?++ze:0)]=1,he.depth[ne]=0,he.opt_len--,ae&&(he.static_len-=Ne[2*ne+1]);for(de.max_code=ze,ce=he.heap_len>>1;1<=ce;ce--)Ke(he,we,ce);for(ne=Pe;ce=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Ke(he,we,1),se=he.heap[1],he.heap[--he.heap_max]=ce,he.heap[--he.heap_max]=se,we[2*ne]=we[2*ce]+we[2*se],he.depth[ne]=(he.depth[ce]>=he.depth[se]?he.depth[ce]:he.depth[se])+1,we[2*ce+1]=we[2*se+1]=ne,he.heap[1]=ne++,Ke(he,we,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],function(ve,Ae){var Fe,We,Je,Ge,et,ut,at=Ae.dyn_tree,Be=Ae.max_code,Qe=Ae.stat_desc.static_tree,rt=Ae.stat_desc.has_stree,mt=Ae.stat_desc.extra_bits,Ut=Ae.stat_desc.extra_base,jt=Ae.stat_desc.max_length,Ct=0;for(Ge=0;Ge<=g;Ge++)ve.bl_count[Ge]=0;for(at[2*ve.heap[ve.heap_max]+1]=0,Fe=ve.heap_max+1;Fe<o;Fe++)jt<(Ge=at[2*at[2*(We=ve.heap[Fe])+1]+1]+1)&&(Ge=jt,Ct++),at[2*We+1]=Ge,Be<We||(ve.bl_count[Ge]++,et=0,Ut<=We&&(et=mt[We-Ut]),ut=at[2*We],ve.opt_len+=ut*(Ge+et),rt&&(ve.static_len+=ut*(Qe[2*We+1]+et)));if(Ct!==0){do{for(Ge=jt-1;ve.bl_count[Ge]===0;)Ge--;ve.bl_count[Ge]--,ve.bl_count[Ge+1]+=2,ve.bl_count[jt]--,Ct-=2}while(0<Ct);for(Ge=jt;Ge!==0;Ge--)for(We=ve.bl_count[Ge];We!==0;)Be<(Je=ve.heap[--Fe])||(at[2*Je+1]!==Ge&&(ve.opt_len+=(Ge-at[2*Je+1])*at[2*Je],at[2*Je+1]=Ge),We--)}}(he,de),le(we,ze,he.bl_count)}function Z(he,de,ce){var se,ne,we=-1,Ne=de[1],ae=0,Pe=7,ze=4;for(Ne===0&&(Pe=138,ze=3),de[2*(ce+1)+1]=65535,se=0;se<=ce;se++)ne=Ne,Ne=de[2*(se+1)+1],++ae<Pe&&ne===Ne||(ae<ze?he.bl_tree[2*ne]+=ae:ne!==0?(ne!==we&&he.bl_tree[2*ne]++,he.bl_tree[2*T]++):ae<=10?he.bl_tree[2*S]++:he.bl_tree[2*x]++,we=ne,ze=(ae=0)===Ne?(Pe=138,3):ne===Ne?(Pe=6,3):(Pe=7,4))}function ue(he,de,ce){var se,ne,we=-1,Ne=de[1],ae=0,Pe=7,ze=4;for(Ne===0&&(Pe=138,ze=3),se=0;se<=ce;se++)if(ne=Ne,Ne=de[2*(se+1)+1],!(++ae<Pe&&ne===Ne)){if(ae<ze)for(;L(he,ne,he.bl_tree),--ae!=0;);else ne!==0?(ne!==we&&(L(he,ne,he.bl_tree),ae--),L(he,T,he.bl_tree),F(he,ae-3,2)):ae<=10?(L(he,S,he.bl_tree),F(he,ae-3,3)):(L(he,x,he.bl_tree),F(he,ae-11,7));we=ne,ze=(ae=0)===Ne?(Pe=138,3):ne===Ne?(Pe=6,3):(Pe=7,4)}}s(B);var Ee=!1;function _e(he,de,ce,se){F(he,(t<<1)+(se?1:0),3),function(ne,we,Ne,ae){Ie(ne),ae&&(z(ne,Ne),z(ne,~Ne)),f.arraySet(ne.pending_buf,ne.window,we,Ne,ne.pending),ne.pending+=Ne}(he,de,ce,!0)}v._tr_init=function(he){Ee||(function(){var de,ce,se,ne,we,Ne=new Array(g+1);for(ne=se=0;ne<i-1;ne++)for(W[ne]=se,de=0;de<1<<w[ne];de++)Y[se++]=ne;for(Y[se-1]=ne,ne=we=0;ne<16;ne++)for(B[ne]=we,de=0;de<1<<I[ne];de++)te[we++]=ne;for(we>>=7;ne<l;ne++)for(B[ne]=we<<7,de=0;de<1<<I[ne]-7;de++)te[256+we++]=ne;for(ce=0;ce<=g;ce++)Ne[ce]=0;for(de=0;de<=143;)ie[2*de+1]=8,de++,Ne[8]++;for(;de<=255;)ie[2*de+1]=9,de++,Ne[9]++;for(;de<=279;)ie[2*de+1]=7,de++,Ne[7]++;for(;de<=287;)ie[2*de+1]=8,de++,Ne[8]++;for(le(ie,n+1,Ne),de=0;de<l;de++)ee[2*de+1]=5,ee[2*de]=G(de,5);j=new H(ie,w,r+1,n,g),O=new H(ee,I,0,l,g),k=new H(new Array(0),D,0,d,p)}(),Ee=!0),he.l_desc=new $(he.dyn_ltree,j),he.d_desc=new $(he.dyn_dtree,O),he.bl_desc=new $(he.bl_tree,k),he.bi_buf=0,he.bi_valid=0,ge(he)},v._tr_stored_block=_e,v._tr_flush_block=function(he,de,ce,se){var ne,we,Ne=0;0<he.level?(he.strm.data_type===2&&(he.strm.data_type=function(ae){var Pe,ze=4093624447;for(Pe=0;Pe<=31;Pe++,ze>>>=1)if(1&ze&&ae.dyn_ltree[2*Pe]!==0)return u;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return c;for(Pe=32;Pe<r;Pe++)if(ae.dyn_ltree[2*Pe]!==0)return c;return u}(he)),Te(he,he.l_desc),Te(he,he.d_desc),Ne=function(ae){var Pe;for(Z(ae,ae.dyn_ltree,ae.l_desc.max_code),Z(ae,ae.dyn_dtree,ae.d_desc.max_code),Te(ae,ae.bl_desc),Pe=d-1;3<=Pe&&ae.bl_tree[2*V[Pe]+1]===0;Pe--);return ae.opt_len+=3*(Pe+1)+5+5+4,Pe}(he),ne=he.opt_len+3+7>>>3,(we=he.static_len+3+7>>>3)<=ne&&(ne=we)):ne=we=ce+5,ce+4<=ne&&de!==-1?_e(he,de,ce,se):he.strategy===4||we===ne?(F(he,2+(se?1:0),3),De(he,ie,ee)):(F(he,4+(se?1:0),3),function(ae,Pe,ze,ve){var Ae;for(F(ae,Pe-257,5),F(ae,ze-1,5),F(ae,ve-4,4),Ae=0;Ae<ve;Ae++)F(ae,ae.bl_tree[2*V[Ae]+1],3);ue(ae,ae.dyn_ltree,Pe-1),ue(ae,ae.dyn_dtree,ze-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,Ne+1),De(he,he.dyn_ltree,he.dyn_dtree)),ge(he),se&&Ie(he)},v._tr_tally=function(he,de,ce){return he.pending_buf[he.d_buf+2*he.last_lit]=de>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&de,he.pending_buf[he.l_buf+he.last_lit]=255&ce,he.last_lit++,de===0?he.dyn_ltree[2*ce]++:(he.matches++,de--,he.dyn_ltree[2*(Y[ce]+r+1)]++,he.dyn_dtree[2*K(de)]++),he.last_lit===he.lit_bufsize-1},v._tr_align=function(he){F(he,2,3),L(he,E,ie),function(de){de.bi_valid===16?(z(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(he)}},{"../utils/common":41}],53:[function(e,m,v){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,m,v){(function(f){(function(u,c){if(!u.setImmediate){var s,t,i,r,n=1,l={},d=!1,o=u.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(u);g=g&&g.setTimeout?g:u,s={}.toString.call(u.process)==="[object process]"?function(T){process.nextTick(function(){p(T)})}:function(){if(u.postMessage&&!u.importScripts){var T=!0,S=u.onmessage;return u.onmessage=function(){T=!1},u.postMessage("","*"),u.onmessage=S,T}}()?(r="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",E,!1):u.attachEvent("onmessage",E),function(T){u.postMessage(r+T,"*")}):u.MessageChannel?((i=new MessageChannel).port1.onmessage=function(T){p(T.data)},function(T){i.port2.postMessage(T)}):o&&"onreadystatechange"in o.createElement("script")?(t=o.documentElement,function(T){var S=o.createElement("script");S.onreadystatechange=function(){p(T),S.onreadystatechange=null,t.removeChild(S),S=null},t.appendChild(S)}):function(T){setTimeout(p,0,T)},g.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var S=new Array(arguments.length-1),x=0;x<S.length;x++)S[x]=arguments[x+1];var w={callback:T,args:S};return l[n]=w,s(n),n++},g.clearImmediate=y}function y(T){delete l[T]}function p(T){if(d)setTimeout(p,0,T);else{var S=l[T];if(S){d=!0;try{(function(x){var w=x.callback,I=x.args;switch(I.length){case 0:w();break;case 1:w(I[0]);break;case 2:w(I[0],I[1]);break;case 3:w(I[0],I[1],I[2]);break;default:w.apply(c,I)}})(S)}finally{y(T),d=!1}}}}function E(T){T.source===u&&typeof T.data=="string"&&T.data.indexOf(r)===0&&p(+T.data.slice(r.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Bc)),Bc.exports}rd();var hv={exports:{}};(function(re,C){(function(e,m){re.exports=m(rd())})(globalThis,e=>(()=>{var m={438:(u,c,s)=>{s.r(c),s.d(c,{default:()=>p});var t=s(537),i=s.n(t),r=s(645),n=s.n(r),l=s(806),d=s.n(l),o=new URL(s(583),s.b),g=n()(i()),y=d()(o);g.push([u.id,`@namespace "http://www.w3.org/1998/Math/MathML";math{display:inline-block;line-height:initial}mfrac{display:inline-block;vertical-align:-50%;text-align:center}mfrac>:first-child{border-bottom:solid thin currentColor}mfrac>*{display:block}msub>:nth-child(2){font-size:smaller;vertical-align:sub}msup>:nth-child(2){font-size:smaller;vertical-align:super}munder,mover,munderover{display:inline-flex;flex-flow:column nowrap;vertical-align:middle;text-align:center}munder>:not(:first-child),mover>:not(:first-child),munderover>:not(:first-child){font-size:smaller}munderover>:last-child{order:-1}mroot,msqrt{position:relative;display:inline-block;border-top:solid thin currentColor;margin-top:.5px;vertical-align:middle;margin-left:1ch}mroot:before,msqrt:before{content:"";display:inline-block;position:absolute;width:1ch;left:-1ch;top:-1px;bottom:0;background-image:url(${y})}`,"",{version:3,sources:["webpack://./src/mathml.scss"],names:[],mappings:"AAAA,+CAAA,CAEA,KACI,oBAAA,CACA,mBAAA,CAGJ,MACI,oBAAA,CACA,mBAAA,CACA,iBAAA,CAEA,mBACI,qCAAA,CAGJ,QACI,aAAA,CAKJ,mBACI,iBAAA,CACA,kBAAA,CAKJ,mBACI,iBAAA,CACA,oBAAA,CAIR,wBACI,mBAAA,CACA,uBAAA,CACA,qBAAA,CACA,iBAAA,CAEA,iFACI,iBAAA,CAKJ,uBAAA,QAAA,CAGJ,YACI,iBAAA,CACA,oBAAA,CACA,kCAAA,CACA,eAAA,CACA,qBAAA,CACA,eAAA,CAEA,0BACI,UAAA,CACA,oBAAA,CACA,iBAAA,CACA,SAAA,CACA,SAAA,CACA,QAAA,CACA,QAAA,CACA,wDAAA",sourcesContent:[`@namespace "http://www.w3.org/1998/Math/MathML";\r
\r
math {\r
    display: inline-block;\r
    line-height: initial;\r
}\r
\r
mfrac {\r
    display: inline-block;\r
    vertical-align: -50%;\r
    text-align: center;\r
\r
    &>:first-child {\r
        border-bottom: solid thin currentColor;\r
    }\r
\r
    &>* {\r
        display: block;\r
    }\r
}\r
\r
msub {\r
    &>:nth-child(2) {\r
        font-size: smaller;\r
        vertical-align: sub;\r
    }\r
}\r
\r
msup {\r
    &>:nth-child(2) {\r
        font-size: smaller;\r
        vertical-align: super;\r
    }\r
}\r
\r
munder, mover, munderover {\r
    display: inline-flex;\r
    flex-flow: column nowrap;\r
    vertical-align: middle;\r
    text-align: center;\r
\r
    &>:not(:first-child) {\r
        font-size: smaller;\r
    }\r
}\r
\r
munderover {\r
    &>:last-child { order: -1; }\r
}\r
\r
mroot, msqrt {\r
    position: relative;\r
    display: inline-block;\r
    border-top: solid thin currentColor;  \r
    margin-top: 0.5px;\r
    vertical-align: middle;  \r
    margin-left: 1ch; \r
\r
    &:before {\r
        content: "";\r
        display: inline-block;\r
        position: absolute;\r
        width: 1ch;\r
        left: -1ch;\r
        top: -1px;\r
        bottom: 0;\r
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 100' preserveAspectRatio='none'%3E%3Cpath d='m0,75 l5,0 l5,25 l10,-100' stroke='black' fill='none' vector-effect='non-scaling-stroke'/%3E%3C/svg%3E");\r
    }\r
}`],sourceRoot:""}]);const p=g.toString()},645:u=>{u.exports=function(c){var s=[];return s.toString=function(){return this.map(function(t){var i="",r=t[5]!==void 0;return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),r&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=c(t),r&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i}).join("")},s.i=function(t,i,r,n,l){typeof t=="string"&&(t=[[null,t,void 0]]);var d={};if(r)for(var o=0;o<this.length;o++){var g=this[o][0];g!=null&&(d[g]=!0)}for(var y=0;y<t.length;y++){var p=[].concat(t[y]);r&&d[p[0]]||(l!==void 0&&(p[5]===void 0||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=l),i&&(p[2]&&(p[1]="@media ".concat(p[2]," {").concat(p[1],"}")),p[2]=i),n&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=n):p[4]="".concat(n)),s.push(p))}},s}},806:u=>{u.exports=function(c,s){return s||(s={}),c&&(c=String(c.__esModule?c.default:c),/^['"].*['"]$/.test(c)&&(c=c.slice(1,-1)),s.hash&&(c+=s.hash),/["'() \t\n]|(%20)/.test(c)||s.needQuotes?'"'.concat(c.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):c)}},537:u=>{u.exports=function(c){var s=c[1],t=c[3];if(!t)return s;if(typeof btoa=="function"){var i=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),n="/*# ".concat(r," */");return[s].concat([n]).join(`
`)}return[s].join(`
`)}},522:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OpenXmlPackage=void 0;const t=s(626),i=s(472),r=s(593),n=s(461);class l{constructor(o,g){this._zip=o,this.options=g,this.xmlParser=new i.XmlParser}get(o){return this._zip.files[function(g){return g.startsWith("/")?g.substr(1):g}(o)]}update(o,g){this._zip.file(o,g)}static async load(o,g){const y=await t.loadAsync(o);return new l(y,g)}save(o="blob"){return this._zip.generateAsync({type:o})}load(o,g="string"){var y,p;return(p=(y=this.get(o))===null||y===void 0?void 0:y.async(g))!==null&&p!==void 0?p:Promise.resolve(null)}async loadRelationships(o=null){let g="_rels/.rels";if(o!=null){const[p,E]=(0,r.splitPath)(o);g=`${p}_rels/${E}.rels`}const y=await this.load(g);return y?(0,n.parseRelationships)(this.parseXmlDocument(y).firstElementChild,this.xmlParser):null}parseXmlDocument(o){return(0,i.parseXmlString)(o,this.options.trimXmlDeclaration)}}c.OpenXmlPackage=l},530:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Part=void 0;const t=s(472);c.Part=class{constructor(i,r){this._package=i,this.path=r}async load(){this.rels=await this._package.loadRelationships(this.path);const i=await this._package.load(this.path),r=this._package.parseXmlDocument(i);this._package.options.keepOrigin&&(this._xmlDocument=r),this.parseXml(r.firstElementChild)}save(){this._package.update(this.path,(0,t.serializeXmlString)(this._xmlDocument))}parseXml(i){}}},461:(u,c)=>{var s;Object.defineProperty(c,"__esModule",{value:!0}),c.parseRelationships=c.RelationshipTypes=void 0,function(t){t.OfficeDocument="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",t.FontTable="http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable",t.Image="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",t.Numbering="http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering",t.Styles="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",t.StylesWithEffects="http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects",t.Theme="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",t.Settings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings",t.WebSettings="http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings",t.Hyperlink="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.Footnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes",t.Endnotes="http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes",t.Footer="http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",t.Header="http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",t.ExtendedProperties="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",t.CoreProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",t.CustomProperties="http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties"}(s||(c.RelationshipTypes=s={})),c.parseRelationships=function(t,i){return i.elements(t).map(r=>({id:i.attr(r,"Id"),type:i.attr(r,"Type"),target:i.attr(r,"Target"),targetMode:i.attr(r,"TargetMode")}))}},168:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DocumentParser=c.autos=void 0;const t=s(120),i=s(109),r=s(59),n=s(472),l=s(488),d=s(172),o=s(149),g=s(320);c.autos={shd:"inherit",color:"black",borderColor:"black",highlight:"transparent"};const y=[],p={oMath:t.DomType.MmlMath,oMathPara:t.DomType.MmlMathParagraph,f:t.DomType.MmlFraction,func:t.DomType.MmlFunction,fName:t.DomType.MmlFunctionName,num:t.DomType.MmlNumerator,den:t.DomType.MmlDenominator,rad:t.DomType.MmlRadical,deg:t.DomType.MmlDegree,e:t.DomType.MmlBase,sSup:t.DomType.MmlSuperscript,sSub:t.DomType.MmlSubscript,sPre:t.DomType.MmlPreSubSuper,sup:t.DomType.MmlSuperArgument,sub:t.DomType.MmlSubArgument,d:t.DomType.MmlDelimiter,nary:t.DomType.MmlNary,eqArr:t.DomType.MmlEquationArray,lim:t.DomType.MmlLimit,limLow:t.DomType.MmlLimitLower,m:t.DomType.MmlMatrix,mr:t.DomType.MmlMatrixRow,box:t.DomType.MmlBox,bar:t.DomType.MmlBar,groupChr:t.DomType.MmlGroupChar};c.DocumentParser=class{constructor(x){this.options=Object.assign({ignoreWidth:!1,debug:!1},x)}parseNotes(x,w,I){var D=[];for(let V of n.default.elements(x,w)){const ie=new I;ie.id=n.default.attr(V,"id"),ie.noteType=n.default.attr(V,"type"),ie.children=this.parseBodyElements(V),D.push(ie)}return D}parseDocumentFile(x){var w=n.default.element(x,"body"),I=n.default.element(x,"background"),D=n.default.element(w,"sectPr");return{type:t.DomType.Document,children:this.parseBodyElements(w),props:D?(0,r.parseSectionProperties)(D,n.default):{},cssStyle:I?this.parseBackground(I):{}}}parseBackground(x){var w={},I=T.colorAttr(x,"color");return I&&(w["background-color"]=I),w}parseBodyElements(x){var w=[];for(let I of n.default.elements(x))switch(I.localName){case"p":w.push(this.parseParagraph(I));break;case"tbl":w.push(this.parseTable(I));break;case"sdt":w.push(...this.parseSdt(I,D=>this.parseBodyElements(D)))}return w}parseStylesFile(x){var w=[];return T.foreach(x,I=>{switch(I.localName){case"style":w.push(this.parseStyle(I));break;case"docDefaults":w.push(this.parseDefaultStyles(I))}}),w}parseDefaultStyles(x){var w={id:null,name:null,target:null,basedOn:null,styles:[]};return T.foreach(x,I=>{switch(I.localName){case"rPrDefault":var D=n.default.element(I,"rPr");D&&w.styles.push({target:"span",values:this.parseDefaultProperties(D,{})});break;case"pPrDefault":var V=n.default.element(I,"pPr");V&&w.styles.push({target:"p",values:this.parseDefaultProperties(V,{})})}}),w}parseStyle(x){var w={id:n.default.attr(x,"styleId"),isDefault:n.default.boolAttr(x,"default"),name:null,target:null,basedOn:null,styles:[],linked:null};switch(n.default.attr(x,"type")){case"paragraph":w.target="p";break;case"table":w.target="table";break;case"character":w.target="span"}return T.foreach(x,I=>{switch(I.localName){case"basedOn":w.basedOn=n.default.attr(I,"val");break;case"name":w.name=n.default.attr(I,"val");break;case"link":w.linked=n.default.attr(I,"val");break;case"next":w.next=n.default.attr(I,"val");break;case"aliases":w.aliases=n.default.attr(I,"val").split(",");break;case"pPr":w.styles.push({target:"p",values:this.parseDefaultProperties(I,{})}),w.paragraphProps=(0,i.parseParagraphProperties)(I,n.default);break;case"rPr":w.styles.push({target:"span",values:this.parseDefaultProperties(I,{})}),w.runProps=(0,l.parseRunProperties)(I,n.default);break;case"tblPr":case"tcPr":w.styles.push({target:"td",values:this.parseDefaultProperties(I,{})});break;case"tblStylePr":for(let D of this.parseTableStyle(I))w.styles.push(D);break;case"rsid":case"qFormat":case"hidden":case"semiHidden":case"unhideWhenUsed":case"autoRedefine":case"uiPriority":break;default:this.options.debug&&console.warn(`DOCX: Unknown style element: ${I.localName}`)}}),w}parseTableStyle(x){var w=[],I=n.default.attr(x,"type"),D="",V="";switch(I){case"firstRow":V=".first-row",D="tr.first-row td";break;case"lastRow":V=".last-row",D="tr.last-row td";break;case"firstCol":V=".first-col",D="td.first-col";break;case"lastCol":V=".last-col",D="td.last-col";break;case"band1Vert":V=":not(.no-vband)",D="td.odd-col";break;case"band2Vert":V=":not(.no-vband)",D="td.even-col";break;case"band1Horz":V=":not(.no-hband)",D="tr.odd-row";break;case"band2Horz":V=":not(.no-hband)",D="tr.even-row";break;default:return[]}return T.foreach(x,ie=>{switch(ie.localName){case"pPr":w.push({target:`${D} p`,mod:V,values:this.parseDefaultProperties(ie,{})});break;case"rPr":w.push({target:`${D} span`,mod:V,values:this.parseDefaultProperties(ie,{})});break;case"tblPr":case"tcPr":w.push({target:D,mod:V,values:this.parseDefaultProperties(ie,{})})}}),w}parseNumberingFile(x){var w=[],I={},D=[];return T.foreach(x,V=>{switch(V.localName){case"abstractNum":this.parseAbstractNumbering(V,D).forEach(te=>w.push(te));break;case"numPicBullet":D.push(this.parseNumberingPicBullet(V));break;case"num":var ie=n.default.attr(V,"numId"),ee=n.default.elementAttr(V,"abstractNumId","val");I[ee]=ie}}),w.forEach(V=>V.id=I[V.id]),w}parseNumberingPicBullet(x){var w=n.default.element(x,"pict"),I=w&&n.default.element(w,"shape"),D=I&&n.default.element(I,"imagedata");return D?{id:n.default.intAttr(x,"numPicBulletId"),src:n.default.attr(D,"id"),style:n.default.attr(I,"style")}:null}parseAbstractNumbering(x,w){var I=[],D=n.default.attr(x,"abstractNumId");return T.foreach(x,V=>{V.localName==="lvl"&&I.push(this.parseNumberingLevel(D,V,w))}),I}parseNumberingLevel(x,w,I){var D={id:x,level:n.default.intAttr(w,"ilvl"),start:1,pStyleName:void 0,pStyle:{},rStyle:{},suff:"tab"};return T.foreach(w,V=>{switch(V.localName){case"start":D.start=n.default.intAttr(V,"val");break;case"pPr":this.parseDefaultProperties(V,D.pStyle);break;case"rPr":this.parseDefaultProperties(V,D.rStyle);break;case"lvlPicBulletId":var ie=n.default.intAttr(V,"val");D.bullet=I.find(ee=>ee.id==ie);break;case"lvlText":D.levelText=n.default.attr(V,"val");break;case"pStyle":D.pStyleName=n.default.attr(V,"val");break;case"numFmt":D.format=n.default.attr(V,"val");break;case"suff":D.suff=n.default.attr(V,"val")}}),D}parseSdt(x,w){const I=n.default.element(x,"sdtContent");return I?w(I):[]}parseInserted(x,w){var I,D;return{type:t.DomType.Inserted,children:(D=(I=w(x))===null||I===void 0?void 0:I.children)!==null&&D!==void 0?D:[]}}parseDeleted(x,w){var I,D;return{type:t.DomType.Deleted,children:(D=(I=w(x))===null||I===void 0?void 0:I.children)!==null&&D!==void 0?D:[]}}parseParagraph(x){var w={type:t.DomType.Paragraph,children:[]};for(let I of n.default.elements(x))switch(I.localName){case"pPr":this.parseParagraphProperties(I,w);break;case"r":w.children.push(this.parseRun(I,w));break;case"hyperlink":w.children.push(this.parseHyperlink(I,w));break;case"bookmarkStart":w.children.push((0,d.parseBookmarkStart)(I,n.default));break;case"bookmarkEnd":w.children.push((0,d.parseBookmarkEnd)(I,n.default));break;case"oMath":case"oMathPara":w.children.push(this.parseMathElement(I));break;case"sdt":w.children.push(...this.parseSdt(I,D=>this.parseParagraph(D).children));break;case"ins":w.children.push(this.parseInserted(I,D=>this.parseParagraph(D)));break;case"del":w.children.push(this.parseDeleted(I,D=>this.parseParagraph(D)))}return w}parseParagraphProperties(x,w){this.parseDefaultProperties(x,w.cssStyle={},null,I=>{if((0,i.parseParagraphProperty)(I,w,n.default))return!0;switch(I.localName){case"pStyle":w.styleName=n.default.attr(I,"val");break;case"cnfStyle":w.className=S.classNameOfCnfStyle(I);break;case"framePr":this.parseFrame(I,w);break;case"rPr":break;default:return!1}return!0})}parseFrame(x,w){n.default.attr(x,"dropCap")=="drop"&&(w.cssStyle.float="left")}parseHyperlink(x,w){var I={type:t.DomType.Hyperlink,parent:w,children:[]},D=n.default.attr(x,"anchor"),V=n.default.attr(x,"id");return D&&(I.href="#"+D),V&&(I.id=V),T.foreach(x,ie=>{ie.localName==="r"&&I.children.push(this.parseRun(ie,I))}),I}parseRun(x,w){var I={type:t.DomType.Run,parent:w,children:[]};return T.foreach(x,D=>{switch((D=this.checkAlternateContent(D)).localName){case"t":I.children.push({type:t.DomType.Text,text:D.textContent});break;case"delText":I.children.push({type:t.DomType.DeletedText,text:D.textContent});break;case"fldSimple":I.children.push({type:t.DomType.SimpleField,instruction:n.default.attr(D,"instr"),lock:n.default.boolAttr(D,"lock",!1),dirty:n.default.boolAttr(D,"dirty",!1)});break;case"instrText":I.fieldRun=!0,I.children.push({type:t.DomType.Instruction,text:D.textContent});break;case"fldChar":I.fieldRun=!0,I.children.push({type:t.DomType.ComplexField,charType:n.default.attr(D,"fldCharType"),lock:n.default.boolAttr(D,"lock",!1),dirty:n.default.boolAttr(D,"dirty",!1)});break;case"noBreakHyphen":I.children.push({type:t.DomType.NoBreakHyphen});break;case"br":I.children.push({type:t.DomType.Break,break:n.default.attr(D,"type")||"textWrapping"});break;case"lastRenderedPageBreak":I.children.push({type:t.DomType.Break,break:"lastRenderedPageBreak"});break;case"sym":I.children.push({type:t.DomType.Symbol,font:n.default.attr(D,"font"),char:n.default.attr(D,"char")});break;case"tab":I.children.push({type:t.DomType.Tab});break;case"footnoteReference":I.children.push({type:t.DomType.FootnoteReference,id:n.default.attr(D,"id")});break;case"endnoteReference":I.children.push({type:t.DomType.EndnoteReference,id:n.default.attr(D,"id")});break;case"drawing":let V=this.parseDrawing(D);V&&(I.children=[V]);break;case"pict":I.children.push(this.parseVmlPicture(D));break;case"rPr":this.parseRunProperties(D,I)}}),I}parseMathElement(x){const w=`${x.localName}Pr`,I={type:p[x.localName],children:[]};for(const V of n.default.elements(x))if(p[V.localName])I.children.push(this.parseMathElement(V));else if(V.localName=="r"){var D=this.parseRun(V);D.type=t.DomType.MmlRun,I.children.push(D)}else V.localName==w&&(I.props=this.parseMathProperies(V));return I}parseMathProperies(x){const w={};for(const I of n.default.elements(x))switch(I.localName){case"chr":w.char=n.default.attr(I,"val");break;case"vertJc":w.verticalJustification=n.default.attr(I,"val");break;case"pos":w.position=n.default.attr(I,"val");break;case"degHide":w.hideDegree=n.default.boolAttr(I,"val");break;case"begChr":w.beginChar=n.default.attr(I,"val");break;case"endChr":w.endChar=n.default.attr(I,"val")}return w}parseRunProperties(x,w){this.parseDefaultProperties(x,w.cssStyle={},null,I=>{switch(I.localName){case"rStyle":w.styleName=n.default.attr(I,"val");break;case"vertAlign":w.verticalAlign=S.valueOfVertAlign(I,!0);break;default:return!1}return!0})}parseVmlPicture(x){const w={type:t.DomType.VmlPicture,children:[]};for(const I of n.default.elements(x)){const D=(0,g.parseVmlElement)(I,this);D&&w.children.push(D)}return w}checkAlternateContent(x){var w;if(x.localName!="AlternateContent")return x;var I=n.default.element(x,"Choice");if(I){var D=n.default.attr(I,"Requires"),V=x.lookupNamespaceURI(D);if(y.includes(V))return I.firstElementChild}return(w=n.default.element(x,"Fallback"))===null||w===void 0?void 0:w.firstElementChild}parseDrawing(x){for(var w of n.default.elements(x))switch(w.localName){case"inline":case"anchor":return this.parseDrawingWrapper(w)}}parseDrawingWrapper(x){var w,I={type:t.DomType.Drawing,children:[],cssStyle:{}},D=x.localName=="anchor";let V=null,ie=n.default.boolAttr(x,"simplePos"),ee={relative:"page",align:"left",offset:"0"},te={relative:"page",align:"top",offset:"0"};for(var Y of n.default.elements(x))switch(Y.localName){case"simplePos":ie&&(ee.offset=n.default.lengthAttr(Y,"x",o.LengthUsage.Emu),te.offset=n.default.lengthAttr(Y,"y",o.LengthUsage.Emu));break;case"extent":I.cssStyle.width=n.default.lengthAttr(Y,"cx",o.LengthUsage.Emu),I.cssStyle.height=n.default.lengthAttr(Y,"cy",o.LengthUsage.Emu);break;case"positionH":case"positionV":if(!ie){let k=Y.localName=="positionH"?ee:te;var W=n.default.element(Y,"align"),j=n.default.element(Y,"posOffset");k.relative=(w=n.default.attr(Y,"relativeFrom"))!==null&&w!==void 0?w:k.relative,W&&(k.align=W.textContent),j&&(k.offset=T.sizeValue(j,o.LengthUsage.Emu))}break;case"wrapTopAndBottom":V="wrapTopAndBottom";break;case"wrapNone":V="wrapNone";break;case"graphic":var O=this.parseGraphic(Y);O&&I.children.push(O)}return V=="wrapTopAndBottom"?(I.cssStyle.display="block",ee.align&&(I.cssStyle["text-align"]=ee.align,I.cssStyle.width="100%")):V=="wrapNone"?(I.cssStyle.display="block",I.cssStyle.position="relative",I.cssStyle.width="0px",I.cssStyle.height="0px",ee.offset&&(I.cssStyle.left=ee.offset),te.offset&&(I.cssStyle.top=te.offset)):!D||ee.align!="left"&&ee.align!="right"||(I.cssStyle.float=ee.align),I}parseGraphic(x){var w=n.default.element(x,"graphicData");for(let I of n.default.elements(w))if(I.localName==="pic")return this.parsePicture(I);return null}parsePicture(x){var w={type:t.DomType.Image,src:"",cssStyle:{}},I=n.default.element(x,"blipFill"),D=n.default.element(I,"blip");w.src=n.default.attr(D,"embed");var V=n.default.element(x,"spPr"),ie=n.default.element(V,"xfrm");for(var ee of(w.cssStyle.position="relative",n.default.elements(ie)))switch(ee.localName){case"ext":w.cssStyle.width=n.default.lengthAttr(ee,"cx",o.LengthUsage.Emu),w.cssStyle.height=n.default.lengthAttr(ee,"cy",o.LengthUsage.Emu);break;case"off":w.cssStyle.left=n.default.lengthAttr(ee,"x",o.LengthUsage.Emu),w.cssStyle.top=n.default.lengthAttr(ee,"y",o.LengthUsage.Emu)}return w}parseTable(x){var w={type:t.DomType.Table,children:[]};return T.foreach(x,I=>{switch(I.localName){case"tr":w.children.push(this.parseTableRow(I));break;case"tblGrid":w.columns=this.parseTableColumns(I);break;case"tblPr":this.parseTableProperties(I,w)}}),w}parseTableColumns(x){var w=[];return T.foreach(x,I=>{I.localName==="gridCol"&&w.push({width:n.default.lengthAttr(I,"w")})}),w}parseTableProperties(x,w){switch(w.cssStyle={},w.cellStyle={},this.parseDefaultProperties(x,w.cssStyle,w.cellStyle,I=>{switch(I.localName){case"tblStyle":w.styleName=n.default.attr(I,"val");break;case"tblLook":w.className=S.classNameOftblLook(I);break;case"tblpPr":this.parseTablePosition(I,w);break;case"tblStyleColBandSize":w.colBandSize=n.default.intAttr(I,"val");break;case"tblStyleRowBandSize":w.rowBandSize=n.default.intAttr(I,"val");break;default:return!1}return!0}),w.cssStyle["text-align"]){case"center":delete w.cssStyle["text-align"],w.cssStyle["margin-left"]="auto",w.cssStyle["margin-right"]="auto";break;case"right":delete w.cssStyle["text-align"],w.cssStyle["margin-left"]="auto"}}parseTablePosition(x,w){var I=n.default.lengthAttr(x,"topFromText"),D=n.default.lengthAttr(x,"bottomFromText"),V=n.default.lengthAttr(x,"rightFromText"),ie=n.default.lengthAttr(x,"leftFromText");w.cssStyle.float="left",w.cssStyle["margin-bottom"]=S.addSize(w.cssStyle["margin-bottom"],D),w.cssStyle["margin-left"]=S.addSize(w.cssStyle["margin-left"],ie),w.cssStyle["margin-right"]=S.addSize(w.cssStyle["margin-right"],V),w.cssStyle["margin-top"]=S.addSize(w.cssStyle["margin-top"],I)}parseTableRow(x){var w={type:t.DomType.Row,children:[]};return T.foreach(x,I=>{switch(I.localName){case"tc":w.children.push(this.parseTableCell(I));break;case"trPr":this.parseTableRowProperties(I,w)}}),w}parseTableRowProperties(x,w){w.cssStyle=this.parseDefaultProperties(x,{},null,I=>{switch(I.localName){case"cnfStyle":w.className=S.classNameOfCnfStyle(I);break;case"tblHeader":w.isHeader=n.default.boolAttr(I,"val");break;default:return!1}return!0})}parseTableCell(x){var w={type:t.DomType.Cell,children:[]};return T.foreach(x,I=>{switch(I.localName){case"tbl":w.children.push(this.parseTable(I));break;case"p":w.children.push(this.parseParagraph(I));break;case"tcPr":this.parseTableCellProperties(I,w)}}),w}parseTableCellProperties(x,w){w.cssStyle=this.parseDefaultProperties(x,{},null,I=>{var D;switch(I.localName){case"gridSpan":w.span=n.default.intAttr(I,"val",null);break;case"vMerge":w.verticalMerge=(D=n.default.attr(I,"val"))!==null&&D!==void 0?D:"continue";break;case"cnfStyle":w.className=S.classNameOfCnfStyle(I);break;default:return!1}return!0})}parseDefaultProperties(x,w=null,I=null,D=null){return w=w||{},T.foreach(x,V=>{if(!(D!=null&&D(V)))switch(V.localName){case"jc":w["text-align"]=S.valueOfJc(V);break;case"textAlignment":w["vertical-align"]=S.valueOfTextAlignment(V);break;case"color":w.color=T.colorAttr(V,"val",null,c.autos.color);break;case"sz":w["font-size"]=w["min-height"]=n.default.lengthAttr(V,"val",o.LengthUsage.FontSize);break;case"shd":w["background-color"]=T.colorAttr(V,"fill",null,c.autos.shd);break;case"highlight":w["background-color"]=T.colorAttr(V,"val",null,c.autos.highlight);break;case"vertAlign":break;case"position":w.verticalAlign=n.default.lengthAttr(V,"val",o.LengthUsage.FontSize);break;case"tcW":if(this.options.ignoreWidth)break;case"tblW":w.width=S.valueOfSize(V,"w");break;case"trHeight":this.parseTrHeight(V,w);break;case"strike":w["text-decoration"]=n.default.boolAttr(V,"val",!0)?"line-through":"none";break;case"b":w["font-weight"]=n.default.boolAttr(V,"val",!0)?"bold":"normal";break;case"i":w["font-style"]=n.default.boolAttr(V,"val",!0)?"italic":"normal";break;case"caps":w["text-transform"]=n.default.boolAttr(V,"val",!0)?"uppercase":"none";break;case"smallCaps":w["text-transform"]=n.default.boolAttr(V,"val",!0)?"lowercase":"none";break;case"u":this.parseUnderline(V,w);break;case"ind":case"tblInd":this.parseIndentation(V,w);break;case"rFonts":this.parseFont(V,w);break;case"tblBorders":this.parseBorderProperties(V,I||w);break;case"tblCellSpacing":w["border-spacing"]=S.valueOfMargin(V),w["border-collapse"]="separate";break;case"pBdr":this.parseBorderProperties(V,w);break;case"bdr":w.border=S.valueOfBorder(V);break;case"tcBorders":this.parseBorderProperties(V,w);break;case"vanish":n.default.boolAttr(V,"val",!0)&&(w.display="none");break;case"kern":case"noWrap":break;case"tblCellMar":case"tcMar":this.parseMarginProperties(V,I||w);break;case"tblLayout":w["table-layout"]=S.valueOfTblLayout(V);break;case"vAlign":w["vertical-align"]=S.valueOfTextAlignment(V);break;case"spacing":x.localName=="pPr"&&this.parseSpacing(V,w);break;case"wordWrap":n.default.boolAttr(V,"val")&&(w["overflow-wrap"]="break-word");break;case"suppressAutoHyphens":w.hyphens=n.default.boolAttr(V,"val",!0)?"none":"auto";break;case"lang":w.$lang=n.default.attr(V,"val");break;case"bCs":case"iCs":case"szCs":case"tabs":case"outlineLvl":case"contextualSpacing":case"tblStyleColBandSize":case"tblStyleRowBandSize":case"webHidden":case"pageBreakBefore":case"suppressLineNumbers":case"keepLines":case"keepNext":case"widowControl":case"bidi":case"rtl":case"noProof":break;default:this.options.debug&&console.warn(`DOCX: Unknown document element: ${x.localName}.${V.localName}`)}}),w}parseUnderline(x,w){var I=n.default.attr(x,"val");if(I!=null){switch(I){case"dash":case"dashDotDotHeavy":case"dashDotHeavy":case"dashedHeavy":case"dashLong":case"dashLongHeavy":case"dotDash":case"dotDotDash":w["text-decoration-style"]="dashed";break;case"dotted":case"dottedHeavy":w["text-decoration-style"]="dotted";break;case"double":w["text-decoration-style"]="double";break;case"single":case"thick":case"words":w["text-decoration"]="underline";break;case"wave":case"wavyDouble":case"wavyHeavy":w["text-decoration-style"]="wavy";break;case"none":w["text-decoration"]="none"}var D=T.colorAttr(x,"color");D&&(w["text-decoration-color"]=D)}}parseFont(x,w){var I=[n.default.attr(x,"ascii"),S.themeValue(x,"asciiTheme")].filter(D=>D).join(", ");I.length>0&&(w["font-family"]=I)}parseIndentation(x,w){var I=n.default.lengthAttr(x,"firstLine"),D=n.default.lengthAttr(x,"hanging"),V=n.default.lengthAttr(x,"left"),ie=n.default.lengthAttr(x,"start"),ee=n.default.lengthAttr(x,"right"),te=n.default.lengthAttr(x,"end");I&&(w["text-indent"]=I),D&&(w["text-indent"]=`-${D}`),(V||ie)&&(w["margin-left"]=V||ie),(ee||te)&&(w["margin-right"]=ee||te)}parseSpacing(x,w){var I=n.default.lengthAttr(x,"before"),D=n.default.lengthAttr(x,"after"),V=n.default.intAttr(x,"line",null),ie=n.default.attr(x,"lineRule");if(I&&(w["margin-top"]=I),D&&(w["margin-bottom"]=D),V!==null)switch(ie){case"auto":w["line-height"]=`${(V/240).toFixed(2)}`;break;case"atLeast":w["line-height"]=`calc(100% + ${V/20}pt)`;break;default:w["line-height"]=w["min-height"]=V/20+"pt"}}parseMarginProperties(x,w){T.foreach(x,I=>{switch(I.localName){case"left":w["padding-left"]=S.valueOfMargin(I);break;case"right":w["padding-right"]=S.valueOfMargin(I);break;case"top":w["padding-top"]=S.valueOfMargin(I);break;case"bottom":w["padding-bottom"]=S.valueOfMargin(I)}})}parseTrHeight(x,w){n.default.attr(x,"hRule"),w.height=n.default.lengthAttr(x,"val")}parseBorderProperties(x,w){T.foreach(x,I=>{switch(I.localName){case"start":case"left":w["border-left"]=S.valueOfBorder(I);break;case"end":case"right":w["border-right"]=S.valueOfBorder(I);break;case"top":w["border-top"]=S.valueOfBorder(I);break;case"bottom":w["border-bottom"]=S.valueOfBorder(I)}})}};const E=["black","blue","cyan","darkBlue","darkCyan","darkGray","darkGreen","darkMagenta","darkRed","darkYellow","green","lightGray","magenta","none","red","white","yellow"];class T{static foreach(w,I){for(var D=0;D<w.childNodes.length;D++){let V=w.childNodes[D];V.nodeType==Node.ELEMENT_NODE&&I(V)}}static colorAttr(w,I,D=null,V="black"){var ie=n.default.attr(w,I);if(ie)return ie=="auto"?V:E.includes(ie)?ie:`#${ie}`;var ee=n.default.attr(w,"themeColor");return ee?`var(--docx-${ee}-color)`:D}static sizeValue(w,I=o.LengthUsage.Dxa){return(0,o.convertLength)(w.textContent,I)}}class S{static themeValue(w,I){var D=n.default.attr(w,I);return D?`var(--docx-${D}-font)`:null}static valueOfSize(w,I){var D=o.LengthUsage.Dxa;switch(n.default.attr(w,"type")){case"dxa":break;case"pct":D=o.LengthUsage.Percent;break;case"auto":return"auto"}return n.default.lengthAttr(w,I,D)}static valueOfMargin(w){return n.default.lengthAttr(w,"w")}static valueOfBorder(w){if(n.default.attr(w,"val")=="nil")return"none";var I=T.colorAttr(w,"color");return`${n.default.lengthAttr(w,"sz",o.LengthUsage.Border)} solid ${I=="auto"?c.autos.borderColor:I}`}static valueOfTblLayout(w){return n.default.attr(w,"val")=="fixed"?"fixed":"auto"}static classNameOfCnfStyle(w){const I=n.default.attr(w,"val");return["first-row","last-row","first-col","last-col","odd-col","even-col","odd-row","even-row","ne-cell","nw-cell","se-cell","sw-cell"].filter((D,V)=>I[V]=="1").join(" ")}static valueOfJc(w){var I=n.default.attr(w,"val");switch(I){case"start":case"left":return"left";case"center":return"center";case"end":case"right":return"right";case"both":return"justify"}return I}static valueOfVertAlign(w,I=!1){var D=n.default.attr(w,"val");switch(D){case"subscript":return"sub";case"superscript":return I?"sup":"super"}return I?null:D}static valueOfTextAlignment(w){var I=n.default.attr(w,"val");switch(I){case"auto":case"baseline":return"baseline";case"top":return"top";case"center":return"middle";case"bottom":return"bottom"}return I}static addSize(w,I){return w==null?I:I==null?w:`calc(${w} + ${I})`}static classNameOftblLook(w){const I=n.default.hexAttr(w,"val",0);let D="";return(n.default.boolAttr(w,"firstRow")||32&I)&&(D+=" first-row"),(n.default.boolAttr(w,"lastRow")||64&I)&&(D+=" last-row"),(n.default.boolAttr(w,"firstColumn")||128&I)&&(D+=" first-col"),(n.default.boolAttr(w,"lastColumn")||256&I)&&(D+=" last-col"),(n.default.boolAttr(w,"noHBand")||512&I)&&(D+=" no-hband"),(n.default.boolAttr(w,"noVBand")||1024&I)&&(D+=" no-vband"),D.trim()}}},162:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CorePropsPart=void 0;const t=s(530),i=s(614);class r extends t.Part{parseXml(l){this.props=(0,i.parseCoreProps)(l,this._package.xmlParser)}}c.CorePropsPart=r},614:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseCoreProps=void 0,c.parseCoreProps=function(s,t){const i={};for(let r of t.elements(s))switch(r.localName){case"title":i.title=r.textContent;break;case"description":i.description=r.textContent;break;case"subject":i.subject=r.textContent;break;case"creator":i.creator=r.textContent;break;case"keywords":i.keywords=r.textContent;break;case"language":i.language=r.textContent;break;case"lastModifiedBy":i.lastModifiedBy=r.textContent;break;case"revision":r.textContent&&(i.revision=parseInt(r.textContent))}return i}},177:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CustomPropsPart=void 0;const t=s(530),i=s(821);class r extends t.Part{parseXml(l){this.props=(0,i.parseCustomProps)(l,this._package.xmlParser)}}c.CustomPropsPart=r},821:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseCustomProps=void 0,c.parseCustomProps=function(s,t){return t.elements(s,"property").map(i=>{const r=i.firstChild;return{formatId:t.attr(i,"fmtid"),name:t.attr(i,"name"),type:r.nodeName,value:r.textContent}})}},665:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ExtendedPropsPart=void 0;const t=s(530),i=s(668);class r extends t.Part{parseXml(l){this.props=(0,i.parseExtendedProps)(l,this._package.xmlParser)}}c.ExtendedPropsPart=r},668:(u,c)=>{function s(t){if(t!==void 0)return parseInt(t)}Object.defineProperty(c,"__esModule",{value:!0}),c.parseExtendedProps=void 0,c.parseExtendedProps=function(t,i){const r={};for(let n of i.elements(t))switch(n.localName){case"Template":r.template=n.textContent;break;case"Pages":r.pages=s(n.textContent);break;case"Words":r.words=s(n.textContent);break;case"Characters":r.characters=s(n.textContent);break;case"Application":r.application=n.textContent;break;case"Lines":r.lines=s(n.textContent);break;case"Paragraphs":r.paragraphs=s(n.textContent);break;case"Company":r.company=n.textContent;break;case"AppVersion":r.appVersion=n.textContent}return r}},172:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseBookmarkEnd=c.parseBookmarkStart=void 0;const t=s(120);c.parseBookmarkStart=function(i,r){return{type:t.DomType.BookmarkStart,id:r.attr(i,"id"),name:r.attr(i,"name"),colFirst:r.intAttr(i,"colFirst"),colLast:r.intAttr(i,"colLast")}},c.parseBookmarkEnd=function(i,r){return{type:t.DomType.BookmarkEnd,id:r.attr(i,"id")}}},191:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseBorders=c.parseBorder=void 0;const t=s(149);function i(r,n){return{type:n.attr(r,"val"),color:n.attr(r,"color"),size:n.lengthAttr(r,"sz",t.LengthUsage.Border),offset:n.lengthAttr(r,"space",t.LengthUsage.Point),frame:n.boolAttr(r,"frame"),shadow:n.boolAttr(r,"shadow")}}c.parseBorder=i,c.parseBorders=function(r,n){var l={};for(let d of n.elements(r))switch(d.localName){case"left":l.left=i(d,n);break;case"top":l.top=i(d,n);break;case"right":l.right=i(d,n);break;case"bottom":l.bottom=i(d,n)}return l}},149:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseCommonProperty=c.convertPercentage=c.convertBoolean=c.convertLength=c.LengthUsage=c.ns=void 0,c.ns={wordml:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",drawingml:"http://schemas.openxmlformats.org/drawingml/2006/main",picture:"http://schemas.openxmlformats.org/drawingml/2006/picture",compatibility:"http://schemas.openxmlformats.org/markup-compatibility/2006",math:"http://schemas.openxmlformats.org/officeDocument/2006/math"},c.LengthUsage={Dxa:{mul:.05,unit:"pt"},Emu:{mul:7874015748031496e-20,unit:"pt"},FontSize:{mul:.5,unit:"pt"},Border:{mul:.125,unit:"pt"},Point:{mul:1,unit:"pt"},Percent:{mul:.02,unit:"%"},LineHeight:{mul:.004166666666666667,unit:""},VmlEmu:{mul:7874015748031496e-20,unit:""}},c.convertLength=function(s,t=c.LengthUsage.Dxa){return s==null||/.+(p[xt]|[%])$/.test(s)?s:`${(parseInt(s)*t.mul).toFixed(2)}${t.unit}`},c.convertBoolean=function(s,t=!1){switch(s){case"1":case"on":case"true":return!0;case"0":case"off":case"false":return!1;default:return t}},c.convertPercentage=function(s){return s?parseInt(s)/100:null},c.parseCommonProperty=function(s,t,i){if(s.namespaceURI!=c.ns.wordml)return!1;switch(s.localName){case"color":t.color=i.attr(s,"val");break;case"sz":t.fontSize=i.lengthAttr(s,"val",c.LengthUsage.FontSize);break;default:return!1}return!0}},448:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DocumentPart=void 0;const t=s(530);class i extends t.Part{constructor(n,l,d){super(n,l),this._documentParser=d}parseXml(n){this.body=this._documentParser.parseDocumentFile(n)}}c.DocumentPart=i},120:(u,c)=>{var s;Object.defineProperty(c,"__esModule",{value:!0}),c.OpenXmlElementBase=c.DomType=void 0,function(t){t.Document="document",t.Paragraph="paragraph",t.Run="run",t.Break="break",t.NoBreakHyphen="noBreakHyphen",t.Table="table",t.Row="row",t.Cell="cell",t.Hyperlink="hyperlink",t.Drawing="drawing",t.Image="image",t.Text="text",t.Tab="tab",t.Symbol="symbol",t.BookmarkStart="bookmarkStart",t.BookmarkEnd="bookmarkEnd",t.Footer="footer",t.Header="header",t.FootnoteReference="footnoteReference",t.EndnoteReference="endnoteReference",t.Footnote="footnote",t.Endnote="endnote",t.SimpleField="simpleField",t.ComplexField="complexField",t.Instruction="instruction",t.VmlPicture="vmlPicture",t.MmlMath="mmlMath",t.MmlMathParagraph="mmlMathParagraph",t.MmlFraction="mmlFraction",t.MmlFunction="mmlFunction",t.MmlFunctionName="mmlFunctionName",t.MmlNumerator="mmlNumerator",t.MmlDenominator="mmlDenominator",t.MmlRadical="mmlRadical",t.MmlBase="mmlBase",t.MmlDegree="mmlDegree",t.MmlSuperscript="mmlSuperscript",t.MmlSubscript="mmlSubscript",t.MmlPreSubSuper="mmlPreSubSuper",t.MmlSubArgument="mmlSubArgument",t.MmlSuperArgument="mmlSuperArgument",t.MmlNary="mmlNary",t.MmlDelimiter="mmlDelimiter",t.MmlRun="mmlRun",t.MmlEquationArray="mmlEquationArray",t.MmlLimit="mmlLimit",t.MmlLimitLower="mmlLimitLower",t.MmlMatrix="mmlMatrix",t.MmlMatrixRow="mmlMatrixRow",t.MmlBox="mmlBox",t.MmlBar="mmlBar",t.MmlGroupChar="mmlGroupChar",t.VmlElement="vmlElement",t.Inserted="inserted",t.Deleted="deleted",t.DeletedText="deletedText"}(s||(c.DomType=s={})),c.OpenXmlElementBase=class{constructor(){this.children=[],this.cssStyle={}}}},931:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseLineSpacing=void 0,c.parseLineSpacing=function(s,t){return{before:t.lengthAttr(s,"before"),after:t.lengthAttr(s,"after"),line:t.intAttr(s,"line"),lineRule:t.attr(s,"lineRule")}}},109:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseNumbering=c.parseTabs=c.parseParagraphProperty=c.parseParagraphProperties=void 0;const t=s(149),i=s(59),r=s(931),n=s(488);function l(g,y,p){if(g.namespaceURI!=t.ns.wordml)return!1;if((0,t.parseCommonProperty)(g,y,p))return!0;switch(g.localName){case"tabs":y.tabs=d(g,p);break;case"sectPr":y.sectionProps=(0,i.parseSectionProperties)(g,p);break;case"numPr":y.numbering=o(g,p);break;case"spacing":return y.lineSpacing=(0,r.parseLineSpacing)(g,p),!1;case"textAlignment":return y.textAlignment=p.attr(g,"val"),!1;case"keepNext":y.keepLines=p.boolAttr(g,"val",!0);break;case"keepNext":y.keepNext=p.boolAttr(g,"val",!0);break;case"pageBreakBefore":y.pageBreakBefore=p.boolAttr(g,"val",!0);break;case"outlineLvl":y.outlineLevel=p.intAttr(g,"val");break;case"pStyle":y.styleName=p.attr(g,"val");break;case"rPr":y.runProps=(0,n.parseRunProperties)(g,p);break;default:return!1}return!0}function d(g,y){return y.elements(g,"tab").map(p=>({position:y.lengthAttr(p,"pos"),leader:y.attr(p,"leader"),style:y.attr(p,"val")}))}function o(g,y){var p={};for(let E of y.elements(g))switch(E.localName){case"numId":p.id=y.attr(E,"val");break;case"ilvl":p.level=y.intAttr(E,"val")}return p}c.parseParagraphProperties=function(g,y){let p={};for(let E of y.elements(g))l(E,p,y);return p},c.parseParagraphProperty=l,c.parseTabs=d,c.parseNumbering=o},488:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseRunProperty=c.parseRunProperties=void 0;const t=s(149);function i(r,n,l){return!!(0,t.parseCommonProperty)(r,n,l)}c.parseRunProperties=function(r,n){let l={};for(let d of n.elements(r))i(d,l,n);return l},c.parseRunProperty=i},59:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseSectionProperties=c.SectionType=void 0;const t=s(472),i=s(191);var r;function n(o,g){return{numberOfColumns:g.intAttr(o,"num"),space:g.lengthAttr(o,"space"),separator:g.boolAttr(o,"sep"),equalWidth:g.boolAttr(o,"equalWidth",!0),columns:g.elements(o,"col").map(y=>({width:g.lengthAttr(y,"w"),space:g.lengthAttr(y,"space")}))}}function l(o,g){return{chapSep:g.attr(o,"chapSep"),chapStyle:g.attr(o,"chapStyle"),format:g.attr(o,"fmt"),start:g.intAttr(o,"start")}}function d(o,g){return{id:g.attr(o,"id"),type:g.attr(o,"type")}}(function(o){o.Continuous="continuous",o.NextPage="nextPage",o.NextColumn="nextColumn",o.EvenPage="evenPage",o.OddPage="oddPage"})(r||(c.SectionType=r={})),c.parseSectionProperties=function(o,g=t.default){var y,p,E={};for(let T of g.elements(o))switch(T.localName){case"pgSz":E.pageSize={width:g.lengthAttr(T,"w"),height:g.lengthAttr(T,"h"),orientation:g.attr(T,"orient")};break;case"type":E.type=g.attr(T,"val");break;case"pgMar":E.pageMargins={left:g.lengthAttr(T,"left"),right:g.lengthAttr(T,"right"),top:g.lengthAttr(T,"top"),bottom:g.lengthAttr(T,"bottom"),header:g.lengthAttr(T,"header"),footer:g.lengthAttr(T,"footer"),gutter:g.lengthAttr(T,"gutter")};break;case"cols":E.columns=n(T,g);break;case"headerReference":((y=E.headerRefs)!==null&&y!==void 0?y:E.headerRefs=[]).push(d(T,g));break;case"footerReference":((p=E.footerRefs)!==null&&p!==void 0?p:E.footerRefs=[]).push(d(T,g));break;case"titlePg":E.titlePage=g.boolAttr(T,"val",!0);break;case"pgBorders":E.pageBorders=(0,i.parseBorders)(T,g);break;case"pgNumType":E.pageNumber=l(T,g)}return E}},667:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.renderAsync=c.praseAsync=c.defaultOptions=void 0;const t=s(213),i=s(168),r=s(932);c.defaultOptions={ignoreHeight:!1,ignoreWidth:!1,ignoreFonts:!1,breakPages:!0,debug:!1,experimental:!1,className:"docx",inWrapper:!0,trimXmlDeclaration:!0,ignoreLastRenderedPageBreak:!0,renderHeaders:!0,renderFooters:!0,renderFootnotes:!0,renderEndnotes:!0,useBase64URL:!1,useMathMLPolyfill:!1,renderChanges:!1},c.praseAsync=function(n,l=null){const d=Object.assign(Object.assign({},c.defaultOptions),l);return t.WordDocument.load(n,new i.DocumentParser(d),d)},c.renderAsync=async function(n,l,d=null,o=null){const g=Object.assign(Object.assign({},c.defaultOptions),o),y=new r.HtmlRenderer(window.document),p=await t.WordDocument.load(n,new i.DocumentParser(g),g);return y.render(p,l,d,g),p}},380:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FontTablePart=void 0;const t=s(530),i=s(512);class r extends t.Part{parseXml(l){this.fonts=(0,i.parseFonts)(l,this._package.xmlParser)}}c.FontTablePart=r},512:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseEmbedFontRef=c.parseFont=c.parseFonts=void 0;const s={embedRegular:"regular",embedBold:"bold",embedItalic:"italic",embedBoldItalic:"boldItalic"};function t(r,n){let l={name:n.attr(r,"name"),embedFontRefs:[]};for(let d of n.elements(r))switch(d.localName){case"family":l.family=n.attr(d,"val");break;case"altName":l.altName=n.attr(d,"val");break;case"embedRegular":case"embedBold":case"embedItalic":case"embedBoldItalic":l.embedFontRefs.push(i(d,n))}return l}function i(r,n){return{id:n.attr(r,"id"),key:n.attr(r,"fontKey"),type:s[r.localName]}}c.parseFonts=function(r,n){return n.elements(r).map(l=>t(l,n))},c.parseFont=t,c.parseEmbedFontRef=i},984:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WmlFooter=c.WmlHeader=void 0;const t=s(120);class i extends t.OpenXmlElementBase{constructor(){super(...arguments),this.type=t.DomType.Header}}c.WmlHeader=i;class r extends t.OpenXmlElementBase{constructor(){super(...arguments),this.type=t.DomType.Footer}}c.WmlFooter=r},985:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FooterPart=c.HeaderPart=c.BaseHeaderFooterPart=void 0;const t=s(530),i=s(984);class r extends t.Part{constructor(l,d,o){super(l,d),this._documentParser=o}parseXml(l){this.rootElement=this.createRootElement(),this.rootElement.children=this._documentParser.parseBodyElements(l)}}c.BaseHeaderFooterPart=r,c.HeaderPart=class extends r{createRootElement(){return new i.WmlHeader}},c.FooterPart=class extends r{createRootElement(){return new i.WmlFooter}}},932:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.HtmlRenderer=void 0;const t=s(120),i=s(593),r=s(630),n=s(438),l="http://www.w3.org/1998/Math/MathML";function d(S,x,w){return g(void 0,S,x,w)}function o(S,x,w){return g("http://www.w3.org/2000/svg",S,x,w)}function g(S,x,w,I){var D=S?document.createElementNS(S,x):document.createElement(x);return Object.assign(D,w),I&&p(D,I),D}function y(S){S.innerHTML=""}function p(S,x){x.forEach(w=>S.appendChild((0,i.isString)(w)?document.createTextNode(w):w))}function E(S){return d("style",{innerHTML:S})}function T(S,x){S.appendChild(document.createComment(x))}c.HtmlRenderer=class{constructor(S){this.htmlDocument=S,this.className="docx",this.styleMap={},this.currentPart=null,this.tableVerticalMerges=[],this.currentVerticalMerge=null,this.tableCellPositions=[],this.currentCellPosition=null,this.footnoteMap={},this.endnoteMap={},this.currentEndnoteIds=[],this.usedHederFooterParts=[],this.currentTabs=[],this.tabsTimeout=0,this.createElement=d}render(S,x,w=null,I){var D;this.document=S,this.options=I,this.className=I.className,this.rootSelector=I.inWrapper?`.${this.className}-wrapper`:":root",this.styleMap=null,y(w=w||x),y(x),T(w,"docxjs library predefined styles"),w.appendChild(this.renderDefaultStyle()),!window.MathMLElement&&I.useMathMLPolyfill&&(T(w,"docxjs mathml polyfill styles"),w.appendChild(E(n.default))),S.themePart&&(T(w,"docxjs document theme values"),this.renderTheme(S.themePart,w)),S.stylesPart!=null&&(this.styleMap=this.processStyles(S.stylesPart.styles),T(w,"docxjs document styles"),w.appendChild(this.renderStyles(S.stylesPart.styles))),S.numberingPart&&(this.prodessNumberings(S.numberingPart.domNumberings),T(w,"docxjs document numbering styles"),w.appendChild(this.renderNumbering(S.numberingPart.domNumberings,w))),S.footnotesPart&&(this.footnoteMap=(0,i.keyBy)(S.footnotesPart.notes,ie=>ie.id)),S.endnotesPart&&(this.endnoteMap=(0,i.keyBy)(S.endnotesPart.notes,ie=>ie.id)),S.settingsPart&&(this.defaultTabSize=(D=S.settingsPart.settings)===null||D===void 0?void 0:D.defaultTabStop),!I.ignoreFonts&&S.fontTablePart&&this.renderFontTable(S.fontTablePart,w);var V=this.renderSections(S.documentPart.body);this.options.inWrapper?x.appendChild(this.renderWrapper(V)):p(x,V),this.refreshTabStops()}renderTheme(S,x){var w,I;const D={},V=(w=S.theme)===null||w===void 0?void 0:w.fontScheme;V&&(V.majorFont&&(D["--docx-majorHAnsi-font"]=V.majorFont.latinTypeface),V.minorFont&&(D["--docx-minorHAnsi-font"]=V.minorFont.latinTypeface));const ie=(I=S.theme)===null||I===void 0?void 0:I.colorScheme;if(ie)for(let[te,Y]of Object.entries(ie.colors))D[`--docx-${te}-color`]=`#${Y}`;const ee=this.styleToString(`.${this.className}`,D);x.appendChild(E(ee))}renderFontTable(S,x){for(let w of S.fonts)for(let I of w.embedFontRefs)this.document.loadFont(I.id,I.key).then(D=>{const V={"font-family":w.name,src:`url(${D})`};I.type!="bold"&&I.type!="boldItalic"||(V["font-weight"]="bold"),I.type!="italic"&&I.type!="boldItalic"||(V["font-style"]="italic"),T(x,`docxjs ${w.name} font`);const ie=this.styleToString("@font-face",V);x.appendChild(E(ie)),this.refreshTabStops()})}processStyleName(S){return S?`${this.className}_${(0,i.escapeClassName)(S)}`:this.className}processStyles(S){const x=(0,i.keyBy)(S.filter(I=>I.id!=null),I=>I.id);for(const I of S.filter(D=>D.basedOn)){var w=x[I.basedOn];if(w){I.paragraphProps=(0,i.mergeDeep)(I.paragraphProps,w.paragraphProps),I.runProps=(0,i.mergeDeep)(I.runProps,w.runProps);for(const D of w.styles){const V=I.styles.find(ie=>ie.target==D.target);V?this.copyStyleProperties(D.values,V.values):I.styles.push(Object.assign(Object.assign({},D),{values:Object.assign({},D.values)}))}}else this.options.debug&&console.warn(`Can't find base style ${I.basedOn}`)}for(let I of S)I.cssName=this.processStyleName(I.id);return x}prodessNumberings(S){var x;for(let w of S.filter(I=>I.pStyleName)){const I=this.findStyle(w.pStyleName);!((x=I==null?void 0:I.paragraphProps)===null||x===void 0)&&x.numbering&&(I.paragraphProps.numbering.level=w.level)}}processElement(S){if(S.children)for(var x of S.children)x.parent=S,x.type==t.DomType.Table?this.processTable(x):this.processElement(x)}processTable(S){for(var x of S.children)for(var w of x.children)w.cssStyle=this.copyStyleProperties(S.cellStyle,w.cssStyle,["border-left","border-right","border-top","border-bottom","padding-left","padding-right","padding-top","padding-bottom"]),this.processElement(w)}copyStyleProperties(S,x,w=null){if(!S)return x;for(var I of(x==null&&(x={}),w==null&&(w=Object.getOwnPropertyNames(S)),w))S.hasOwnProperty(I)&&!x.hasOwnProperty(I)&&(x[I]=S[I]);return x}createSection(S,x){var w=this.createElement("section",{className:S});return x&&(x.pageMargins&&(w.style.paddingLeft=x.pageMargins.left,w.style.paddingRight=x.pageMargins.right,w.style.paddingTop=x.pageMargins.top,w.style.paddingBottom=x.pageMargins.bottom),x.pageSize&&(this.options.ignoreWidth||(w.style.width=x.pageSize.width),this.options.ignoreHeight||(w.style.minHeight=x.pageSize.height)),x.columns&&x.columns.numberOfColumns&&(w.style.columnCount=`${x.columns.numberOfColumns}`,w.style.columnGap=x.columns.space,x.columns.separator&&(w.style.columnRule="1px solid black"))),w}renderSections(S){const x=[];this.processElement(S);const w=this.splitBySection(S.children);let I=null;for(let V=0,ie=w.length;V<ie;V++){this.currentFootnoteIds=[];const ee=w[V],te=ee.sectProps||S.props,Y=this.createSection(this.className,te);this.renderStyleValues(S.cssStyle,Y),this.options.renderHeaders&&this.renderHeaderFooter(te.headerRefs,te,x.length,I!=te,Y);var D=this.createElement("article");this.renderElements(ee.elements,D),Y.appendChild(D),this.options.renderFootnotes&&this.renderNotes(this.currentFootnoteIds,this.footnoteMap,Y),this.options.renderEndnotes&&V==ie-1&&this.renderNotes(this.currentEndnoteIds,this.endnoteMap,Y),this.options.renderFooters&&this.renderHeaderFooter(te.footerRefs,te,x.length,I!=te,Y),x.push(Y),I=te}return x}renderHeaderFooter(S,x,w,I,D){var V,ie;if(S){var ee=(ie=(V=x.titlePage&&I?S.find(Y=>Y.type=="first"):null)!==null&&V!==void 0?V:w%2==1?S.find(Y=>Y.type=="even"):null)!==null&&ie!==void 0?ie:S.find(Y=>Y.type=="default"),te=ee&&this.document.findPartByRelId(ee.id,this.document.documentPart);te&&(this.currentPart=te,this.usedHederFooterParts.includes(te.path)||(this.processElement(te.rootElement),this.usedHederFooterParts.push(te.path)),this.renderElements([te.rootElement],D),this.currentPart=null)}}isPageBreakElement(S){return S.type==t.DomType.Break&&(S.break=="lastRenderedPageBreak"?!this.options.ignoreLastRenderedPageBreak:S.break=="page")}splitBySection(S){var x,w={sectProps:null,elements:[]},I=[w];for(let W of S){if(W.type==t.DomType.Paragraph){const j=this.findStyle(W.styleName);!((x=j==null?void 0:j.paragraphProps)===null||x===void 0)&&x.pageBreakBefore&&(w.sectProps=D,w={sectProps:null,elements:[]},I.push(w))}if(w.elements.push(W),W.type==t.DomType.Paragraph){const j=W;var D=j.sectionProps,V=-1,ie=-1;if(this.options.breakPages&&j.children&&(V=j.children.findIndex(O=>{var k,B;return(ie=(B=(k=O.children)===null||k===void 0?void 0:k.findIndex(this.isPageBreakElement.bind(this)))!==null&&B!==void 0?B:-1)!=-1})),(D||V!=-1)&&(w.sectProps=D,w={sectProps:null,elements:[]},I.push(w)),V!=-1){let O=j.children[V],k=ie<O.children.length-1;if(V<j.children.length-1||k){var ee=W.children,te=Object.assign(Object.assign({},W),{children:ee.slice(V)});if(W.children=ee.slice(0,V),w.elements.push(te),k){let B=O.children,H=Object.assign(Object.assign({},O),{children:B.slice(0,ie)});W.children.push(H),O.children=B.slice(ie)}}}}}let Y=null;for(let W=I.length-1;W>=0;W--)I[W].sectProps==null?I[W].sectProps=Y:Y=I[W].sectProps;return I}renderWrapper(S){return this.createElement("div",{className:`${this.className}-wrapper`},S)}renderDefaultStyle(){var S=this.className;return E(`
.${S}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } 
.${S}-wrapper>section.${S} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }
.${S} { color: black; hyphens: auto; }
section.${S} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }
section.${S}>article { margin-bottom: auto; z-index: 1; }
section.${S}>footer { z-index: 1; }
.${S} table { border-collapse: collapse; }
.${S} table td, .${S} table th { vertical-align: top; }
.${S} p { margin: 0pt; min-height: 1em; }
.${S} span { white-space: pre-wrap; overflow-wrap: break-word; }
.${S} a { color: inherit; text-decoration: inherit; }
`)}renderNumbering(S,x){var w="",I=[];for(var D of S){var V=`p.${this.numberingClass(D.id,D.level)}`,ie="none";if(D.bullet){let ee=`--${this.className}-${D.bullet.src}`.toLowerCase();w+=this.styleToString(`${V}:before`,{content:"' '",display:"inline-block",background:`var(${ee})`},D.bullet.style),this.document.loadNumberingImage(D.bullet.src).then(te=>{var Y=`${this.rootSelector} { ${ee}: url(${te}) }`;x.appendChild(E(Y))})}else if(D.levelText){let ee=this.numberingCounter(D.id,D.level);const te=ee+" "+(D.start-1);D.level>0&&(w+=this.styleToString(`p.${this.numberingClass(D.id,D.level-1)}`,{"counter-reset":te})),I.push(te),w+=this.styleToString(`${V}:before`,Object.assign({content:this.levelTextToContent(D.levelText,D.suff,D.id,this.numFormatToCssValue(D.format)),"counter-increment":ee},D.rStyle))}else ie=this.numFormatToCssValue(D.format);w+=this.styleToString(V,Object.assign({display:"list-item","list-style-position":"inside","list-style-type":ie},D.pStyle))}return I.length>0&&(w+=this.styleToString(this.rootSelector,{"counter-reset":I.join(" ")})),E(w)}renderStyles(S){var x,w="";const I=this.styleMap,D=(0,i.keyBy)(S.filter(te=>te.isDefault),te=>te.target);for(const te of S){var V=te.styles;if(te.linked){var ie=te.linked&&I[te.linked];ie?V=V.concat(ie.styles):this.options.debug&&console.warn(`Can't find linked style ${te.linked}`)}for(const Y of V){var ee=`${(x=te.target)!==null&&x!==void 0?x:""}.${te.cssName}`;te.target!=Y.target&&(ee+=` ${Y.target}`),D[te.target]==te&&(ee=`.${this.className} ${te.target}, `+ee),w+=this.styleToString(ee,Y.values)}}return E(w)}renderNotes(S,x,w){var I=S.map(V=>x[V]).filter(V=>V);if(I.length>0){var D=this.createElement("ol",null,this.renderElements(I));w.appendChild(D)}}renderElement(S){switch(S.type){case t.DomType.Paragraph:return this.renderParagraph(S);case t.DomType.BookmarkStart:return this.renderBookmarkStart(S);case t.DomType.BookmarkEnd:return null;case t.DomType.Run:return this.renderRun(S);case t.DomType.Table:return this.renderTable(S);case t.DomType.Row:return this.renderTableRow(S);case t.DomType.Cell:return this.renderTableCell(S);case t.DomType.Hyperlink:return this.renderHyperlink(S);case t.DomType.Drawing:return this.renderDrawing(S);case t.DomType.Image:return this.renderImage(S);case t.DomType.Text:case t.DomType.Text:return this.renderText(S);case t.DomType.DeletedText:return this.renderDeletedText(S);case t.DomType.Tab:return this.renderTab(S);case t.DomType.Symbol:return this.renderSymbol(S);case t.DomType.Break:return this.renderBreak(S);case t.DomType.Footer:return this.renderContainer(S,"footer");case t.DomType.Header:return this.renderContainer(S,"header");case t.DomType.Footnote:case t.DomType.Endnote:return this.renderContainer(S,"li");case t.DomType.FootnoteReference:return this.renderFootnoteReference(S);case t.DomType.EndnoteReference:return this.renderEndnoteReference(S);case t.DomType.NoBreakHyphen:return this.createElement("wbr");case t.DomType.VmlPicture:return this.renderVmlPicture(S);case t.DomType.VmlElement:return this.renderVmlElement(S);case t.DomType.MmlMath:return this.renderContainerNS(S,l,"math",{xmlns:l});case t.DomType.MmlMathParagraph:return this.renderContainer(S,"span");case t.DomType.MmlFraction:return this.renderContainerNS(S,l,"mfrac");case t.DomType.MmlBase:return this.renderContainerNS(S,l,S.parent.type==t.DomType.MmlMatrixRow?"mtd":"mrow");case t.DomType.MmlNumerator:case t.DomType.MmlDenominator:case t.DomType.MmlFunction:case t.DomType.MmlLimit:case t.DomType.MmlBox:return this.renderContainerNS(S,l,"mrow");case t.DomType.MmlGroupChar:return this.renderMmlGroupChar(S);case t.DomType.MmlLimitLower:return this.renderContainerNS(S,l,"munder");case t.DomType.MmlMatrix:return this.renderContainerNS(S,l,"mtable");case t.DomType.MmlMatrixRow:return this.renderContainerNS(S,l,"mtr");case t.DomType.MmlRadical:return this.renderMmlRadical(S);case t.DomType.MmlSuperscript:return this.renderContainerNS(S,l,"msup");case t.DomType.MmlSubscript:return this.renderContainerNS(S,l,"msub");case t.DomType.MmlDegree:case t.DomType.MmlSuperArgument:case t.DomType.MmlSubArgument:return this.renderContainerNS(S,l,"mn");case t.DomType.MmlFunctionName:return this.renderContainerNS(S,l,"ms");case t.DomType.MmlDelimiter:return this.renderMmlDelimiter(S);case t.DomType.MmlRun:return this.renderMmlRun(S);case t.DomType.MmlNary:return this.renderMmlNary(S);case t.DomType.MmlPreSubSuper:return this.renderMmlPreSubSuper(S);case t.DomType.MmlBar:return this.renderMmlBar(S);case t.DomType.MmlEquationArray:return this.renderMllList(S);case t.DomType.Inserted:return this.renderInserted(S);case t.DomType.Deleted:return this.renderDeleted(S)}return null}renderChildren(S,x){return this.renderElements(S.children,x)}renderElements(S,x){if(S==null)return null;var w=S.flatMap(I=>this.renderElement(I)).filter(I=>I!=null);return x&&p(x,w),w}renderContainer(S,x,w){return this.createElement(x,w,this.renderChildren(S))}renderContainerNS(S,x,w,I){return g(x,w,I,this.renderChildren(S))}renderParagraph(S){var x,w,I,D,V=this.createElement("p");const ie=this.findStyle(S.styleName);(x=S.tabs)!==null&&x!==void 0||(S.tabs=(w=ie==null?void 0:ie.paragraphProps)===null||w===void 0?void 0:w.tabs),this.renderClass(S,V),this.renderChildren(S,V),this.renderStyleValues(S.cssStyle,V),this.renderCommonProperties(V.style,S);const ee=(I=S.numbering)!==null&&I!==void 0?I:(D=ie==null?void 0:ie.paragraphProps)===null||D===void 0?void 0:D.numbering;return ee&&V.classList.add(this.numberingClass(ee.id,ee.level)),V}renderRunProperties(S,x){this.renderCommonProperties(S,x)}renderCommonProperties(S,x){x!=null&&(x.color&&(S.color=x.color),x.fontSize&&(S["font-size"]=x.fontSize))}renderHyperlink(S){var x=this.createElement("a");if(this.renderChildren(S,x),this.renderStyleValues(S.cssStyle,x),S.href)x.href=S.href;else if(S.id){const w=this.document.documentPart.rels.find(I=>I.id==S.id&&I.targetMode==="External");x.href=w==null?void 0:w.target}return x}renderDrawing(S){var x=this.createElement("div");return x.style.display="inline-block",x.style.position="relative",x.style.textIndent="0px",this.renderChildren(S,x),this.renderStyleValues(S.cssStyle,x),x}renderImage(S){let x=this.createElement("img");return this.renderStyleValues(S.cssStyle,x),this.document&&this.document.loadDocumentImage(S.src,this.currentPart).then(w=>{x.src=w}),x}renderText(S){return this.htmlDocument.createTextNode(S.text)}renderDeletedText(S){return this.options.renderEndnotes?this.htmlDocument.createTextNode(S.text):null}renderBreak(S){return S.break=="textWrapping"?this.createElement("br"):null}renderInserted(S){return this.options.renderChanges?this.renderContainer(S,"ins"):this.renderChildren(S)}renderDeleted(S){return this.options.renderChanges?this.renderContainer(S,"del"):null}renderSymbol(S){var x=this.createElement("span");return x.style.fontFamily=S.font,x.innerHTML=`&#x${S.char};`,x}renderFootnoteReference(S){var x=this.createElement("sup");return this.currentFootnoteIds.push(S.id),x.textContent=`${this.currentFootnoteIds.length}`,x}renderEndnoteReference(S){var x=this.createElement("sup");return this.currentEndnoteIds.push(S.id),x.textContent=`${this.currentEndnoteIds.length}`,x}renderTab(S){var x,w=this.createElement("span");if(w.innerHTML="&emsp;",this.options.experimental){w.className=this.tabStopClass();var I=(x=function(D,V){for(var ie=D.parent;ie!=null&&ie.type!=V;)ie=ie.parent;return ie}(S,t.DomType.Paragraph))===null||x===void 0?void 0:x.tabs;this.currentTabs.push({stops:I,span:w})}return w}renderBookmarkStart(S){var x=this.createElement("span");return x.id=S.name,x}renderRun(S){if(S.fieldRun)return null;const x=this.createElement("span");if(S.id&&(x.id=S.id),this.renderClass(S,x),this.renderStyleValues(S.cssStyle,x),S.verticalAlign){const w=this.createElement(S.verticalAlign);this.renderChildren(S,w),x.appendChild(w)}else this.renderChildren(S,x);return x}renderTable(S){let x=this.createElement("table");return this.tableCellPositions.push(this.currentCellPosition),this.tableVerticalMerges.push(this.currentVerticalMerge),this.currentVerticalMerge={},this.currentCellPosition={col:0,row:0},S.columns&&x.appendChild(this.renderTableColumns(S.columns)),this.renderClass(S,x),this.renderChildren(S,x),this.renderStyleValues(S.cssStyle,x),this.currentVerticalMerge=this.tableVerticalMerges.pop(),this.currentCellPosition=this.tableCellPositions.pop(),x}renderTableColumns(S){let x=this.createElement("colgroup");for(let w of S){let I=this.createElement("col");w.width&&(I.style.width=w.width),x.appendChild(I)}return x}renderTableRow(S){let x=this.createElement("tr");return this.currentCellPosition.col=0,this.renderClass(S,x),this.renderChildren(S,x),this.renderStyleValues(S.cssStyle,x),this.currentCellPosition.row++,x}renderTableCell(S){let x=this.createElement("td");const w=this.currentCellPosition.col;return S.verticalMerge?S.verticalMerge=="restart"?(this.currentVerticalMerge[w]=x,x.rowSpan=1):this.currentVerticalMerge[w]&&(this.currentVerticalMerge[w].rowSpan+=1,x.style.display="none"):this.currentVerticalMerge[w]=null,this.renderClass(S,x),this.renderChildren(S,x),this.renderStyleValues(S.cssStyle,x),S.span&&(x.colSpan=S.span),this.currentCellPosition.col+=x.colSpan,x}renderVmlPicture(S){var x=d("div");return this.renderChildren(S,x),x}renderVmlElement(S){var x,w,I=o("svg");I.setAttribute("style",S.cssStyleText);const D=this.renderVmlChildElement(S);return!((x=S.imageHref)===null||x===void 0)&&x.id&&((w=this.document)===null||w===void 0||w.loadDocumentImage(S.imageHref.id,this.currentPart).then(V=>D.setAttribute("href",V))),I.appendChild(D),requestAnimationFrame(()=>{const V=I.firstElementChild.getBBox();I.setAttribute("width",`${Math.ceil(V.x+V.width)}`),I.setAttribute("height",`${Math.ceil(V.y+V.height)}`)}),I}renderVmlChildElement(S){const x=o(S.tagName);Object.entries(S.attrs).forEach(([w,I])=>x.setAttribute(w,I));for(let w of S.children)w.type==t.DomType.VmlElement?x.appendChild(this.renderVmlChildElement(w)):x.appendChild(...(0,i.asArray)(this.renderElement(w)));return x}renderMmlRadical(S){var x;const w=S.children.find(D=>D.type==t.DomType.MmlBase);if(!((x=S.props)===null||x===void 0)&&x.hideDegree)return g(l,"msqrt",null,this.renderElements([w]));const I=S.children.find(D=>D.type==t.DomType.MmlDegree);return g(l,"mroot",null,this.renderElements([w,I]))}renderMmlDelimiter(S){var x,w;const I=[];return I.push(g(l,"mo",null,[(x=S.props.beginChar)!==null&&x!==void 0?x:"("])),I.push(...this.renderElements(S.children)),I.push(g(l,"mo",null,[(w=S.props.endChar)!==null&&w!==void 0?w:")"])),g(l,"mrow",null,I)}renderMmlNary(S){var x,w;const I=[],D=(0,i.keyBy)(S.children,W=>W.type),V=D[t.DomType.MmlSuperArgument],ie=D[t.DomType.MmlSubArgument],ee=V?g(l,"mo",null,(0,i.asArray)(this.renderElement(V))):null,te=ie?g(l,"mo",null,(0,i.asArray)(this.renderElement(ie))):null,Y=g(l,"mo",null,[(w=(x=S.props)===null||x===void 0?void 0:x.char)!==null&&w!==void 0?w:"∫"]);return ee||te?I.push(g(l,"munderover",null,[Y,te,ee])):ee?I.push(g(l,"mover",null,[Y,ee])):te?I.push(g(l,"munder",null,[Y,te])):I.push(Y),I.push(...this.renderElements(D[t.DomType.MmlBase].children)),g(l,"mrow",null,I)}renderMmlPreSubSuper(S){const x=[],w=(0,i.keyBy)(S.children,te=>te.type),I=w[t.DomType.MmlSuperArgument],D=w[t.DomType.MmlSubArgument],V=I?g(l,"mo",null,(0,i.asArray)(this.renderElement(I))):null,ie=D?g(l,"mo",null,(0,i.asArray)(this.renderElement(D))):null,ee=g(l,"mo",null);return x.push(g(l,"msubsup",null,[ee,ie,V])),x.push(...this.renderElements(w[t.DomType.MmlBase].children)),g(l,"mrow",null,x)}renderMmlGroupChar(S){const x=S.props.verticalJustification==="bot"?"mover":"munder",w=this.renderContainerNS(S,l,x);return S.props.char&&w.appendChild(g(l,"mo",null,[S.props.char])),w}renderMmlBar(S){const x=this.renderContainerNS(S,l,"mrow");switch(S.props.position){case"top":x.style.textDecoration="overline";break;case"bottom":x.style.textDecoration="underline"}return x}renderMmlRun(S){const x=g(l,"ms");return this.renderClass(S,x),this.renderStyleValues(S.cssStyle,x),this.renderChildren(S,x),x}renderMllList(S){const x=g(l,"mtable");this.renderClass(S,x),this.renderStyleValues(S.cssStyle,x),this.renderChildren(S);for(let w of this.renderChildren(S))x.appendChild(g(l,"mtr",null,[g(l,"mtd",null,[w])]));return x}renderStyleValues(S,x){for(let w in S)w.startsWith("$")?x.setAttribute(w.slice(1),S[w]):x.style[w]=S[w]}renderClass(S,x){S.className&&(x.className=S.className),S.styleName&&x.classList.add(this.processStyleName(S.styleName))}findStyle(S){var x;return S&&((x=this.styleMap)===null||x===void 0?void 0:x[S])}numberingClass(S,x){return`${this.className}-num-${S}-${x}`}tabStopClass(){return`${this.className}-tab-stop`}styleToString(S,x,w=null){let I=`${S} {\r
`;for(const D in x)D.startsWith("$")||(I+=`  ${D}: ${x[D]};\r
`);return w&&(I+=w),I+`}\r
`}numberingCounter(S,x){return`${this.className}-num-${S}-${x}`}levelTextToContent(S,x,w,I){var D;return`"${S.replace(/%\d*/g,V=>{let ie=parseInt(V.substring(1),10)-1;return`"counter(${this.numberingCounter(w,ie)}, ${I})"`})}${(D={tab:"\\9",space:"\\a0"}[x])!==null&&D!==void 0?D:""}"`}numFormatToCssValue(S){var x;return(x={none:"none",bullet:"disc",decimal:"decimal",lowerLetter:"lower-alpha",upperLetter:"upper-alpha",lowerRoman:"lower-roman",upperRoman:"upper-roman",decimalZero:"decimal-leading-zero",aiueo:"katakana",aiueoFullWidth:"katakana",chineseCounting:"simp-chinese-informal",chineseCountingThousand:"simp-chinese-informal",chineseLegalSimplified:"simp-chinese-formal",chosung:"hangul-consonant",ideographDigital:"cjk-ideographic",ideographTraditional:"cjk-heavenly-stem",ideographLegalTraditional:"trad-chinese-formal",ideographZodiac:"cjk-earthly-branch",iroha:"katakana-iroha",irohaFullWidth:"katakana-iroha",japaneseCounting:"japanese-informal",japaneseDigitalTenThousand:"cjk-decimal",japaneseLegal:"japanese-formal",thaiNumbers:"thai",koreanCounting:"korean-hangul-formal",koreanDigital:"korean-hangul-formal",koreanDigital2:"korean-hanja-informal",hebrew1:"hebrew",hebrew2:"hebrew",hindiNumbers:"devanagari",ganada:"hangul",taiwaneseCounting:"cjk-ideographic",taiwaneseCountingThousand:"cjk-ideographic",taiwaneseDigital:"cjk-decimal"}[S])!==null&&x!==void 0?x:S}refreshTabStops(){this.options.experimental&&(clearTimeout(this.tabsTimeout),this.tabsTimeout=setTimeout(()=>{const S=(0,r.computePixelToPoint)();for(let x of this.currentTabs)(0,r.updateTabStop)(x.span,x.stops,this.defaultTabSize,S)},500))}}},630:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.updateTabStop=c.computePixelToPoint=void 0;const s={pos:0,leader:"none",style:"left"};function t(i){return parseFloat(i)}c.computePixelToPoint=function(i=document.body){const r=document.createElement("div");r.style.width="100pt",i.appendChild(r);const n=100/r.offsetWidth;return i.removeChild(r),n},c.updateTabStop=function(i,r,n,l=.75){const d=i.closest("p"),o=i.getBoundingClientRect(),g=d.getBoundingClientRect(),y=getComputedStyle(d),p=(r==null?void 0:r.length)>0?r.map(ee=>({pos:t(ee.position),leader:ee.leader,style:ee.style})).sort((ee,te)=>ee.pos-te.pos):[s],E=p[p.length-1],T=g.width*l,S=t(n);let x=E.pos+S;if(x<T)for(;x<T&&p.length<50;x+=S)p.push(Object.assign(Object.assign({},s),{pos:x}));const w=parseFloat(y.marginLeft),I=g.left+w,D=(o.left-I)*l,V=p.find(ee=>ee.style!="clear"&&ee.pos>D);if(V==null)return;let ie=1;if(V.style=="right"||V.style=="center"){const ee=Array.from(d.querySelectorAll(`.${i.className}`)),te=ee.indexOf(i)+1,Y=document.createRange();Y.setStart(i,1),te<ee.length?Y.setEndBefore(ee[te]):Y.setEndAfter(d);const W=V.style=="center"?.5:1,j=Y.getBoundingClientRect(),O=j.left+W*j.width-(g.left-w);ie=V.pos-O*l}else ie=V.pos-D;switch(i.innerHTML="&nbsp;",i.style.textDecoration="inherit",i.style.wordSpacing=`${ie.toFixed(0)}pt`,V.leader){case"dot":case"middleDot":i.style.textDecoration="underline",i.style.textDecorationStyle="dotted";break;case"hyphen":case"heavy":case"underscore":i.style.textDecoration="underline"}}},881:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WmlEndnote=c.WmlFootnote=c.WmlBaseNote=void 0;const t=s(120);class i{}c.WmlBaseNote=i,c.WmlFootnote=class extends i{constructor(){super(...arguments),this.type=t.DomType.Footnote}},c.WmlEndnote=class extends i{constructor(){super(...arguments),this.type=t.DomType.Endnote}}},735:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.EndnotesPart=c.FootnotesPart=c.BaseNotePart=void 0;const t=s(530),i=s(881);class r extends t.Part{constructor(l,d,o){super(l,d),this._documentParser=o}}c.BaseNotePart=r,c.FootnotesPart=class extends r{constructor(n,l,d){super(n,l,d)}parseXml(n){this.notes=this._documentParser.parseNotes(n,"footnote",i.WmlFootnote)}},c.EndnotesPart=class extends r{constructor(n,l,d){super(n,l,d)}parseXml(n){this.notes=this._documentParser.parseNotes(n,"endnote",i.WmlEndnote)}}},527:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NumberingPart=void 0;const t=s(530),i=s(682);class r extends t.Part{constructor(l,d,o){super(l,d),this._documentParser=o}parseXml(l){Object.assign(this,(0,i.parseNumberingPart)(l,this._package.xmlParser)),this.domNumberings=this._documentParser.parseNumberingFile(l)}}c.NumberingPart=r},682:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseNumberingBulletPicture=c.parseNumberingLevelOverrride=c.parseNumberingLevel=c.parseAbstractNumbering=c.parseNumbering=c.parseNumberingPart=void 0;const t=s(109),i=s(488);function r(g,y){let p={id:y.attr(g,"numId"),overrides:[]};for(let E of y.elements(g))switch(E.localName){case"abstractNumId":p.abstractId=y.attr(E,"val");break;case"lvlOverride":p.overrides.push(d(E,y))}return p}function n(g,y){let p={id:y.attr(g,"abstractNumId"),levels:[]};for(let E of y.elements(g))switch(E.localName){case"name":p.name=y.attr(E,"val");break;case"multiLevelType":p.multiLevelType=y.attr(E,"val");break;case"numStyleLink":p.numberingStyleLink=y.attr(E,"val");break;case"styleLink":p.styleLink=y.attr(E,"val");break;case"lvl":p.levels.push(l(E,y))}return p}function l(g,y){let p={level:y.intAttr(g,"ilvl")};for(let E of y.elements(g))switch(E.localName){case"start":p.start=y.attr(E,"val");break;case"lvlRestart":p.restart=y.intAttr(E,"val");break;case"numFmt":p.format=y.attr(E,"val");break;case"lvlText":p.text=y.attr(E,"val");break;case"lvlJc":p.justification=y.attr(E,"val");break;case"lvlPicBulletId":p.bulletPictureId=y.attr(E,"val");break;case"pStyle":p.paragraphStyle=y.attr(E,"val");break;case"pPr":p.paragraphProps=(0,t.parseParagraphProperties)(E,y);break;case"rPr":p.runProps=(0,i.parseRunProperties)(E,y)}return p}function d(g,y){let p={level:y.intAttr(g,"ilvl")};for(let E of y.elements(g))switch(E.localName){case"startOverride":p.start=y.intAttr(E,"val");break;case"lvl":p.numberingLevel=l(E,y)}return p}function o(g,y){var p=y.element(g,"pict"),E=p&&y.element(p,"shape"),T=E&&y.element(E,"imagedata");return T?{id:y.attr(g,"numPicBulletId"),referenceId:y.attr(T,"id"),style:y.attr(E,"style")}:null}c.parseNumberingPart=function(g,y){let p={numberings:[],abstractNumberings:[],bulletPictures:[]};for(let E of y.elements(g))switch(E.localName){case"num":p.numberings.push(r(E,y));break;case"abstractNum":p.abstractNumberings.push(n(E,y));break;case"numPicBullet":p.bulletPictures.push(o(E,y))}return p},c.parseNumbering=r,c.parseAbstractNumbering=n,c.parseNumberingLevel=l,c.parseNumberingLevelOverrride=d,c.parseNumberingBulletPicture=o},472:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XmlParser=c.serializeXmlString=c.parseXmlString=void 0;const t=s(149);c.parseXmlString=function(n,l=!1){var d;l&&(n=n.replace(/<[?].*[?]>/,"")),n=(d=n).charCodeAt(0)===65279?d.substring(1):d;const o=new DOMParser().parseFromString(n,"application/xml"),g=(y=o.getElementsByTagName("parsererror")[0])===null||y===void 0?void 0:y.textContent;var y;if(g)throw new Error(g);return o},c.serializeXmlString=function(n){return new XMLSerializer().serializeToString(n)};class i{elements(l,d=null){const o=[];for(let g=0,y=l.childNodes.length;g<y;g++){let p=l.childNodes.item(g);p.nodeType!=1||d!=null&&p.localName!=d||o.push(p)}return o}element(l,d){for(let o=0,g=l.childNodes.length;o<g;o++){let y=l.childNodes.item(o);if(y.nodeType==1&&y.localName==d)return y}return null}elementAttr(l,d,o){var g=this.element(l,d);return g?this.attr(g,o):void 0}attrs(l){return Array.from(l.attributes)}attr(l,d){for(let o=0,g=l.attributes.length;o<g;o++){let y=l.attributes.item(o);if(y.localName==d)return y.value}return null}intAttr(l,d,o=null){var g=this.attr(l,d);return g?parseInt(g):o}hexAttr(l,d,o=null){var g=this.attr(l,d);return g?parseInt(g,16):o}floatAttr(l,d,o=null){var g=this.attr(l,d);return g?parseFloat(g):o}boolAttr(l,d,o=null){return(0,t.convertBoolean)(this.attr(l,d),o)}lengthAttr(l,d,o=t.LengthUsage.Dxa){return(0,t.convertLength)(this.attr(l,d),o)}}c.XmlParser=i;const r=new i;c.default=r},287:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SettingsPart=void 0;const t=s(530),i=s(846);class r extends t.Part{constructor(l,d){super(l,d)}parseXml(l){this.settings=(0,i.parseSettings)(l,this._package.xmlParser)}}c.SettingsPart=r},846:(u,c)=>{function s(t,i){var r={defaultNoteIds:[]};for(let n of i.elements(t))switch(n.localName){case"numFmt":r.nummeringFormat=i.attr(n,"val");break;case"footnote":case"endnote":r.defaultNoteIds.push(i.attr(n,"id"))}return r}Object.defineProperty(c,"__esModule",{value:!0}),c.parseNoteProperties=c.parseSettings=void 0,c.parseSettings=function(t,i){var r={};for(let n of i.elements(t))switch(n.localName){case"defaultTabStop":r.defaultTabStop=i.lengthAttr(n,"val");break;case"footnotePr":r.footnoteProps=s(n,i);break;case"endnotePr":r.endnoteProps=s(n,i);break;case"autoHyphenation":r.autoHyphenation=i.boolAttr(n,"val")}return r},c.parseNoteProperties=s},240:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StylesPart=void 0;const t=s(530);class i extends t.Part{constructor(n,l,d){super(n,l),this._documentParser=d}parseXml(n){this.styles=this._documentParser.parseStylesFile(n)}}c.StylesPart=i},893:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ThemePart=void 0;const t=s(530),i=s(55);class r extends t.Part{constructor(l,d){super(l,d)}parseXml(l){this.theme=(0,i.parseTheme)(l,this._package.xmlParser)}}c.ThemePart=r},55:(u,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseFontInfo=c.parseFontScheme=c.parseColorScheme=c.parseTheme=c.DmlTheme=void 0;class s{}function t(n,l){var d={name:l.attr(n,"name"),colors:{}};for(let y of l.elements(n)){var o=l.element(y,"srgbClr"),g=l.element(y,"sysClr");o?d.colors[y.localName]=l.attr(o,"val"):g&&(d.colors[y.localName]=l.attr(g,"lastClr"))}return d}function i(n,l){var d={name:l.attr(n,"name")};for(let o of l.elements(n))switch(o.localName){case"majorFont":d.majorFont=r(o,l);break;case"minorFont":d.minorFont=r(o,l)}return d}function r(n,l){return{latinTypeface:l.elementAttr(n,"latin","typeface"),eaTypeface:l.elementAttr(n,"ea","typeface"),csTypeface:l.elementAttr(n,"cs","typeface")}}c.DmlTheme=s,c.parseTheme=function(n,l){var d=new s,o=l.element(n,"themeElements");for(let g of l.elements(o))switch(g.localName){case"clrScheme":d.colorScheme=t(g,l);break;case"fontScheme":d.fontScheme=i(g,l)}return d},c.parseColorScheme=t,c.parseFontScheme=i,c.parseFontInfo=r},593:(u,c)=>{function s(t){return t&&typeof t=="object"&&!Array.isArray(t)}Object.defineProperty(c,"__esModule",{value:!0}),c.asArray=c.formatCssRules=c.parseCssRules=c.mergeDeep=c.isString=c.isObject=c.blobToBase64=c.keyBy=c.resolvePath=c.splitPath=c.escapeClassName=void 0,c.escapeClassName=function(t){return t==null?void 0:t.replace(/[ .]+/g,"-").replace(/[&]+/g,"and").toLowerCase()},c.splitPath=function(t){let i=t.lastIndexOf("/")+1;return[i==0?"":t.substring(0,i),i==0?t:t.substring(i)]},c.resolvePath=function(t,i){try{const r="http://docx/";return new URL(t,r+i).toString().substring(r.length)}catch{return`${i}${t}`}},c.keyBy=function(t,i){return t.reduce((r,n)=>(r[i(n)]=n,r),{})},c.blobToBase64=function(t){return new Promise((i,r)=>{const n=new FileReader;n.onloadend=()=>i(n.result),n.onerror=()=>r(),n.readAsDataURL(t)})},c.isObject=s,c.isString=function(t){return typeof t=="string"||t instanceof String},c.mergeDeep=function t(i,...r){var n;if(!r.length)return i;const l=r.shift();if(s(i)&&s(l))for(const d in l)s(l[d])?t((n=i[d])!==null&&n!==void 0?n:i[d]={},l[d]):i[d]=l[d];return t(i,...r)},c.parseCssRules=function(t){const i={};for(const r of t.split(";")){const[n,l]=r.split(":");i[n]=l}return i},c.formatCssRules=function(t){return Object.entries(t).map((i,r)=>`${i}: ${r}`).join(";")},c.asArray=function(t){return Array.isArray(t)?t:[t]}},320:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.parseVmlElement=c.VmlElement=void 0;const t=s(149),i=s(120),r=s(472);class n extends i.OpenXmlElementBase{constructor(){super(...arguments),this.type=i.DomType.VmlElement,this.attrs={}}}function l(o){var g;return{stroke:r.default.attr(o,"color"),"stroke-width":(g=r.default.lengthAttr(o,"weight",t.LengthUsage.Emu))!==null&&g!==void 0?g:"1px"}}function d(o){return o.split(",")}c.VmlElement=n,c.parseVmlElement=function o(g,y){var p=new n;switch(g.localName){case"rect":p.tagName="rect",Object.assign(p.attrs,{width:"100%",height:"100%"});break;case"oval":p.tagName="ellipse",Object.assign(p.attrs,{cx:"50%",cy:"50%",rx:"50%",ry:"50%"});break;case"line":p.tagName="line";break;case"shape":p.tagName="g";break;case"textbox":p.tagName="foreignObject",Object.assign(p.attrs,{width:"100%",height:"100%"});break;default:return null}for(const E of r.default.attrs(g))switch(E.localName){case"style":p.cssStyleText=E.value;break;case"fillcolor":p.attrs.fill=E.value;break;case"from":const[T,S]=d(E.value);Object.assign(p.attrs,{x1:T,y1:S});break;case"to":const[x,w]=d(E.value);Object.assign(p.attrs,{x2:x,y2:w})}for(const E of r.default.elements(g))switch(E.localName){case"stroke":Object.assign(p.attrs,l(E));break;case"fill":Object.assign(p.attrs,{});break;case"imagedata":p.tagName="image",Object.assign(p.attrs,{width:"100%",height:"100%"}),p.imageHref={id:r.default.attr(E,"id"),title:r.default.attr(E,"title")};break;case"txbxContent":p.children.push(...y.parseBodyElements(E));break;default:const T=o(E,y);T&&p.children.push(T)}return p}},213:(u,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.deobfuscate=c.WordDocument=void 0;const t=s(461),i=s(380),r=s(522),n=s(448),l=s(593),d=s(527),o=s(240),g=s(985),y=s(665),p=s(162),E=s(893),T=s(735),S=s(287),x=s(177),w=[{type:t.RelationshipTypes.OfficeDocument,target:"word/document.xml"},{type:t.RelationshipTypes.ExtendedProperties,target:"docProps/app.xml"},{type:t.RelationshipTypes.CoreProperties,target:"docProps/core.xml"},{type:t.RelationshipTypes.CustomProperties,target:"docProps/custom.xml"}];class I{constructor(){this.parts=[],this.partsMap={}}static async load(ie,ee,te){var Y=new I;return Y._options=te,Y._parser=ee,Y._package=await r.OpenXmlPackage.load(ie,te),Y.rels=await Y._package.loadRelationships(),await Promise.all(w.map(W=>{var j;const O=(j=Y.rels.find(k=>k.type===W.type))!==null&&j!==void 0?j:W;return Y.loadRelationshipPart(O.target,O.type)})),Y}save(ie="blob"){return this._package.save(ie)}async loadRelationshipPart(ie,ee){var te;if(this.partsMap[ie])return this.partsMap[ie];if(!this._package.get(ie))return null;let Y=null;switch(ee){case t.RelationshipTypes.OfficeDocument:this.documentPart=Y=new n.DocumentPart(this._package,ie,this._parser);break;case t.RelationshipTypes.FontTable:this.fontTablePart=Y=new i.FontTablePart(this._package,ie);break;case t.RelationshipTypes.Numbering:this.numberingPart=Y=new d.NumberingPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Styles:this.stylesPart=Y=new o.StylesPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Theme:this.themePart=Y=new E.ThemePart(this._package,ie);break;case t.RelationshipTypes.Footnotes:this.footnotesPart=Y=new T.FootnotesPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Endnotes:this.endnotesPart=Y=new T.EndnotesPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Footer:Y=new g.FooterPart(this._package,ie,this._parser);break;case t.RelationshipTypes.Header:Y=new g.HeaderPart(this._package,ie,this._parser);break;case t.RelationshipTypes.CoreProperties:this.corePropsPart=Y=new p.CorePropsPart(this._package,ie);break;case t.RelationshipTypes.ExtendedProperties:this.extendedPropsPart=Y=new y.ExtendedPropsPart(this._package,ie);break;case t.RelationshipTypes.CustomProperties:Y=new x.CustomPropsPart(this._package,ie);break;case t.RelationshipTypes.Settings:this.settingsPart=Y=new S.SettingsPart(this._package,ie)}if(Y==null)return Promise.resolve(null);if(this.partsMap[ie]=Y,this.parts.push(Y),await Y.load(),((te=Y.rels)===null||te===void 0?void 0:te.length)>0){const[W]=(0,l.splitPath)(Y.path);await Promise.all(Y.rels.map(j=>this.loadRelationshipPart((0,l.resolvePath)(j.target,W),j.type)))}return Y}async loadDocumentImage(ie,ee){const te=await this.loadResource(ee??this.documentPart,ie,"blob");return this.blobToURL(te)}async loadNumberingImage(ie){const ee=await this.loadResource(this.numberingPart,ie,"blob");return this.blobToURL(ee)}async loadFont(ie,ee){const te=await this.loadResource(this.fontTablePart,ie,"uint8array");return te&&this.blobToURL(new Blob([D(te,ee)]))}blobToURL(ie){return ie?this._options.useBase64URL?(0,l.blobToBase64)(ie):URL.createObjectURL(ie):null}findPartByRelId(ie,ee=null){var te,Y=((te=ee.rels)!==null&&te!==void 0?te:this.rels).find(j=>j.id==ie);const W=ee?(0,l.splitPath)(ee.path)[0]:"";return Y?this.partsMap[(0,l.resolvePath)(Y.target,W)]:null}getPathById(ie,ee){const te=ie.rels.find(W=>W.id==ee),[Y]=(0,l.splitPath)(ie.path);return te?(0,l.resolvePath)(te.target,Y):null}loadResource(ie,ee,te){const Y=this.getPathById(ie,ee);return Y?this._package.load(Y,te):Promise.resolve(null)}}function D(V,ie){const ee=ie.replace(/{|}|-/g,""),te=new Array(16);for(let Y=0;Y<16;Y++)te[16-Y-1]=parseInt(ee.substr(2*Y,2),16);for(let Y=0;Y<32;Y++)V[Y]=V[Y]^te[Y%16];return V}c.WordDocument=I,c.deobfuscate=D},583:u=>{u.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 100%27 preserveAspectRatio=%27none%27%3E%3Cpath d=%27m0,75 l5,0 l5,25 l10,-100%27 stroke=%27black%27 fill=%27none%27 vector-effect=%27non-scaling-stroke%27/%3E%3C/svg%3E"},626:u=>{u.exports=e}},v={};function f(u){var c=v[u];if(c!==void 0)return c.exports;var s=v[u]={id:u,exports:{}};return m[u](s,s.exports,f),s.exports}return f.m=m,f.n=u=>{var c=u&&u.__esModule?()=>u.default:()=>u;return f.d(c,{a:c}),c},f.d=(u,c)=>{for(var s in c)f.o(c,s)&&!f.o(u,s)&&Object.defineProperty(u,s,{enumerable:!0,get:c[s]})},f.o=(u,c)=>Object.prototype.hasOwnProperty.call(u,c),f.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},f.b=document.baseURI||self.location.href,f(667)})())})(hv);class ao{constructor(C,e=""){typeof C=="string"?(this.el=document.createElement(C),this.el.className=e):this.el=C,this.data={}}data(C,e){return e!==void 0?(this.data[C]=e,this):this.data[C]}on(C,e){const[m,...v]=C.split(".");let f=m;return f==="mousewheel"&&/Firefox/i.test(window.navigator.userAgent)&&(f="DOMMouseScroll"),this.el.addEventListener(f,u=>{e(u);for(let c=0;c<v.length;c+=1){const s=v[c];if(s==="left"&&u.button!==0||s==="right"&&u.button!==2)return;s==="stop"&&u.stopPropagation()}}),this}offset(C){if(C!==void 0)return Object.keys(C).forEach(u=>{this.css(u,`${C[u]}px`)}),this;const{offsetTop:e,offsetLeft:m,offsetHeight:v,offsetWidth:f}=this.el;return{top:e,left:m,height:v,width:f}}scroll(C){const{el:e}=this;return C!==void 0&&(C.left!==void 0&&(e.scrollLeft=C.left),C.top!==void 0&&(e.scrollTop=C.top)),{left:e.scrollLeft,top:e.scrollTop}}box(){return this.el.getBoundingClientRect()}parent(){return new ao(this.el.parentNode)}children(...C){return arguments.length===0?this.el.childNodes:(C.forEach(e=>this.child(e)),this)}removeChild(C){this.el.removeChild(C)}child(C){let e=C;return typeof C=="string"?e=document.createTextNode(C):C instanceof ao&&(e=C.el),this.el.appendChild(e),this}contains(C){return this.el.contains(C)}className(C){return C!==void 0?(this.el.className=C,this):this.el.className}addClass(C){return this.el.classList.add(C),this}hasClass(C){return this.el.classList.contains(C)}removeClass(C){return this.el.classList.remove(C),this}toggle(C="active"){return this.toggleClass(C)}toggleClass(C){return this.el.classList.toggle(C)}active(C=!0,e="active"){return C?this.addClass(e):this.removeClass(e),this}checked(C=!0){return this.active(C,"checked"),this}disabled(C=!0){return C?this.addClass("disabled"):this.removeClass("disabled"),this}attr(C,e){if(e!==void 0)this.el.setAttribute(C,e);else{if(typeof C=="string")return this.el.getAttribute(C);Object.keys(C).forEach(m=>{this.el.setAttribute(m,C[m])})}return this}removeAttr(C){return this.el.removeAttribute(C),this}html(C){return C!==void 0?(this.el.innerHTML=C,this):this.el.innerHTML}val(C){return C!==void 0?(this.el.value=C,this):this.el.value}focus(){this.el.focus()}cssRemoveKeys(...C){return C.forEach(e=>this.el.style.removeProperty(e)),this}css(C,e){return e===void 0&&typeof C!="string"?(Object.keys(C).forEach(m=>{this.el.style[m]=C[m]}),this):e!==void 0?(this.el.style[C]=e,this):this.el.style[C]}computedStyle(){return window.getComputedStyle(this.el,null)}show(){return this.css("display","block"),this}hide(){return this.css("display","none"),this}}const ft=(re,C="")=>new ao(re,C),La=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function id(re){let C="",e=re;for(;e>=La.length;)e/=La.length,e-=1,C+=La[parseInt(e,10)%La.length];const m=re%La.length;return C+=La[m],C}function cv(re){let C=0;for(let e=0;e<re.length-1;e+=1){const m=re.charCodeAt(e)-65,v=re.length-1-e;C+=La.length**v+La.length*m}return C+=re.charCodeAt(re.length-1)-65,C}function Na(re){let C="",e="";for(let m=0;m<re.length;m+=1)re.charAt(m)>="0"&&re.charAt(m)<="9"?e+=re.charAt(m):C+=re.charAt(m);return[cv(C),parseInt(e,10)-1]}function aa(re,C){return`${id(re)}${C+1}`}function ul(re,C,e,m=()=>!0){if(C===0&&e===0)return re;const[v,f]=Na(re);return m(v,f)?aa(v+C,f+e):re}class Ii{constructor(C,e,m,v,f=0,u=0){this.sri=C,this.sci=e,this.eri=m,this.eci=v,this.w=f,this.h=u}set(C,e,m,v){this.sri=C,this.sci=e,this.eri=m,this.eci=v}multiple(){return this.eri-this.sri>0||this.eci-this.sci>0}includes(...C){let[e,m]=[0,0];C.length===1?[m,e]=Na(C[0]):C.length===2&&([e,m]=C);const{sri:v,sci:f,eri:u,eci:c}=this;return v<=e&&e<=u&&f<=m&&m<=c}each(C,e=()=>!0){const{sri:m,sci:v,eri:f,eci:u}=this;for(let c=m;c<=f;c+=1)if(e(c))for(let s=v;s<=u;s+=1)C(c,s)}contains(C){return this.sri<=C.sri&&this.sci<=C.sci&&this.eri>=C.eri&&this.eci>=C.eci}within(C){return this.sri>=C.sri&&this.sci>=C.sci&&this.eri<=C.eri&&this.eci<=C.eci}disjoint(C){return this.sri>C.eri||this.sci>C.eci||C.sri>this.eri||C.sci>this.eci}intersects(C){return this.sri<=C.eri&&this.sci<=C.eci&&C.sri<=this.eri&&C.sci<=this.eci}union(C){const{sri:e,sci:m,eri:v,eci:f}=this;return new Ii(C.sri<e?C.sri:e,C.sci<m?C.sci:m,C.eri>v?C.eri:v,C.eci>f?C.eci:f)}difference(C){const e=[],m=(n,l,d,o)=>{e.push(new Ii(n,l,d,o))},{sri:v,sci:f,eri:u,eci:c}=this,s=C.sri-v,t=C.sci-f,i=u-C.eri,r=c-C.eci;return s>0?(m(v,f,C.sri-1,c),i>0?(m(C.eri+1,f,u,c),t>0&&m(C.sri,f,C.eri,C.sci-1),r>0&&m(C.sri,C.eci+1,C.eri,c)):(t>0&&m(C.sri,f,u,C.sci-1),r>0&&m(C.sri,C.eci+1,u,c))):i>0&&(m(C.eri+1,f,u,c),t>0&&m(v,f,C.eri,C.sci-1),r>0&&m(v,C.eci+1,C.eri,c)),t>0?(m(v,f,u,C.sci-1),r>0?(m(v,C.eri+1,u,c),s>0&&m(v,C.sci,C.sri-1,C.eci),i>0&&m(C.sri+1,C.sci,u,C.eci)):(s>0&&m(v,C.sci,C.sri-1,c),i>0&&m(C.sri+1,C.sci,u,c))):r>0&&(m(u,C.eci+1,u,c),s>0&&m(v,f,C.sri-1,C.eci),i>0&&m(C.eri+1,f,u,C.eci)),e}size(){return[this.eri-this.sri+1,this.eci-this.sci+1]}toString(){const{sri:C,sci:e,eri:m,eci:v}=this;let f=aa(e,C);return this.multiple()&&(f=`${f}:${aa(v,m)}`),f}clone(){const{sri:C,sci:e,eri:m,eci:v,w:f,h:u}=this;return new Ii(C,e,m,v,f,u)}equals(C){return this.eri===C.eri&&this.eci===C.eci&&this.sri===C.sri&&this.sci===C.sci}static valueOf(C){const e=C.split(":"),[m,v]=Na(e[0]);let[f,u]=[v,m];return e.length>1&&([u,f]=Na(e[1])),new Ii(v,m,f,u)}}let fv=class{constructor(){this.range=new Ii(0,0,0,0),this.ri=0,this.ci=0}multiple(){return this.range.multiple()}setIndexes(C,e){this.ri=C,this.ci=e}size(){return this.range.size()}};class uv{constructor(){this.x=0,this.y=0,this.ri=0,this.ci=0}}class dv{constructor(){this.undoItems=[],this.redoItems=[]}add(C){this.undoItems.push(JSON.stringify(C)),this.redoItems=[]}canUndo(){return this.undoItems.length>0}canRedo(){return this.redoItems.length>0}undo(C,e){const{undoItems:m,redoItems:v}=this;this.canUndo()&&(v.push(JSON.stringify(C)),e(JSON.parse(m.pop())))}redo(C,e){const{undoItems:m,redoItems:v}=this;this.canRedo()&&(m.push(JSON.stringify(C)),e(JSON.parse(v.pop())))}}class pv{constructor(){this.range=null,this.state="clear"}copy(C){return this.range=C,this.state="copy",this}cut(C){return this.range=C,this.state="cut",this}isCopy(){return this.state==="copy"}isCut(){return this.state==="cut"}isClear(){return this.state==="clear"}clear(){this.range=null,this.state="clear"}}class yu{constructor(C,e,m){this.ci=C,this.operator=e,this.value=m}set(C,e){this.operator=C,this.value=e}includes(C){const{operator:e,value:m}=this;return e==="all"?!0:e==="in"?m.includes(C):!1}vlength(){const{operator:C,value:e}=this;return C==="in"?e.length:0}getData(){const{ci:C,operator:e,value:m}=this;return{ci:C,operator:e,value:m}}}class wu{constructor(C,e){this.ci=C,this.order=e}asc(){return this.order==="asc"}desc(){return this.order==="desc"}}class mv{constructor(){this.ref=null,this.filters=[],this.sort=null}setData({ref:C,filters:e,sort:m}){C!=null&&(this.ref=C,this.filters=e.map(v=>new yu(v.ci,v.operator,v.value)),m&&(this.sort=new wu(m.ci,m.order)))}getData(){if(this.active()){const{ref:C,filters:e,sort:m}=this;return{ref:C,filters:e.map(v=>v.getData()),sort:m}}return{}}addFilter(C,e,m){const v=this.getFilter(C);v==null?this.filters.push(new yu(C,e,m)):v.set(e,m)}setSort(C,e){this.sort=e?new wu(C,e):null}includes(C,e){return this.active()?this.hrange().includes(C,e):!1}getSort(C){const{sort:e}=this;return e&&e.ci===C?e:null}getFilter(C){const{filters:e}=this;for(let m=0;m<e.length;m+=1)if(e[m].ci===C)return e[m];return null}filteredRows(C){const e=new Set,m=new Set;if(this.active()){const{sri:v,eri:f}=this.range(),{filters:u}=this;for(let c=v+1;c<=f;c+=1)for(let s=0;s<u.length;s+=1){const t=u[s],i=C(c,t.ci),r=i?i.text:"";if(t.includes(r))m.add(c);else{e.add(c);break}}}return{rset:e,fset:m}}items(C,e){const m={};if(this.active()){const{sri:v,eri:f}=this.range();for(let u=v+1;u<=f;u+=1){const c=e(u,C);if(c!==null&&!/^\s*$/.test(c.text)){const s=c.text,t=(m[s]||0)+1;m[s]=t}else m[""]=(m[""]||0)+1}}return m}range(){return Ii.valueOf(this.ref)}hrange(){const C=this.range();return C.eri=C.sri,C}clear(){this.ref=null,this.filters=[],this.sort=null}active(){return this.ref!==null}}class tf{constructor(C=[]){this._=C}forEach(C){this._.forEach(C)}deleteWithin(C){this._=this._.filter(e=>!e.within(C))}getFirstIncludes(C,e){for(let m=0;m<this._.length;m+=1){const v=this._[m];if(v.includes(C,e))return v}return null}filterIntersects(C){return new tf(this._.filter(e=>e.intersects(C)))}intersects(C){for(let e=0;e<this._.length;e+=1)if(this._[e].intersects(C))return!0;return!1}union(C){let e=C;return this._.forEach(m=>{m.intersects(e)&&(e=m.union(e))}),e}add(C){this.deleteWithin(C),this._.push(C)}shift(C,e,m,v){this._.forEach(f=>{const{sri:u,sci:c,eri:s,eci:t}=f,i=f;C==="row"?u>=e?(i.sri+=m,i.eri+=m):u<e&&e<=s&&(i.eri+=m,v(u,c,m,0)):C==="column"&&(c>=e?(i.sci+=m,i.eci+=m):c<e&&e<=t&&(i.eci+=m,v(u,c,0,m)))})}move(C,e,m){this._.forEach(v=>{const f=v;f.within(C)&&(f.eri+=e,f.sri+=e,f.sci+=m,f.eci+=m)})}setData(C){return this._=C.map(e=>Ii.valueOf(e)),this}getData(){return this._.map(C=>C.toString())}}function gv(re){return JSON.parse(JSON.stringify(re))}const nd=(re={},...C)=>(C.forEach(e=>{Object.keys(e).forEach(m=>{const v=e[m];typeof v=="string"||typeof v=="number"||typeof v=="boolean"?re[m]=v:typeof v!="function"&&!Array.isArray(v)&&v instanceof Object?(re[m]=re[m]||{},nd(re[m],v)):re[m]=v})}),re);function Xc(re,C){const e=Object.keys(re);if(e.length!==Object.keys(C).length)return!1;for(let m=0;m<e.length;m+=1){const v=e[m],f=re[v],u=C[v];if(u===void 0)return!1;if(typeof f=="string"||typeof f=="number"||typeof f=="boolean"){if(f!==u)return!1}else if(Array.isArray(f)){if(f.length!==u.length)return!1;for(let c=0;c<f.length;c+=1)if(!Xc(f[c],u[c]))return!1}else if(typeof f!="function"&&!Array.isArray(f)&&f instanceof Object&&!Xc(f,u))return!1}return!0}const vv=(re,C=e=>e)=>{let e=0,m=0;return Object.keys(re).forEach(v=>{e+=C(re[v],v),m+=1}),[e,m]};function bv(re,C){const e=re[`${C}`];return delete re[`${C}`],e}function yv(re,C,e,m,v,f){let u=e,c=m,s=re;for(;s<C&&!(u>v);s+=1)c=f(s),u+=c;return[s,u-c,c]}function wv(re,C,e){let m=0;for(let v=re;v<C;v+=1)m+=e(v);return m}function _v(re,C,e){for(let m=re;m<C;m+=1)e(m)}function Ev(re,C){if(re.length===C.length){for(let e=0;e<re.length;e+=1)if(re[e]!==C[e])return!1}else return!1;return!0}function Fc(re){const C=`${re}`;let e=0,m=!1;for(let v=0;v<C.length;v+=1)m===!0&&(e+=1),C.charAt(v)==="."&&(m=!0);return e}function io(re,C,e){if(Number.isNaN(C)||Number.isNaN(e))return C+re+e;const m=Fc(C),v=Fc(e),f=Number(C),u=Number(e);let c=0;if(re==="-")c=f-u;else if(re==="+")c=f+u;else if(re==="*")c=f*u;else if(re==="/")return c=f/u,Fc(c)>5?c.toFixed(2):c;return c.toFixed(Math.max(m,v))}const kn={cloneDeep:gv,merge:(...re)=>nd({},...re),equals:Xc,arrayEquals:Ev,sum:vv,rangeEach:_v,rangeSum:wv,rangeReduceIf:yv,deleteProperty:bv,numberCalc:io};class Tv{constructor({len:C,height:e}){this._={},this.len=C,this.height=e}getHeight(C){if(this.isHide(C))return 0;const e=this.get(C);return e&&e.height?e.height:this.height}setHeight(C,e){const m=this.getOrNew(C);m.height=e}unhide(C){let e=C;for(;e>0&&(e-=1,this.isHide(e));)this.setHide(e,!1)}isHide(C){const e=this.get(C);return e&&e.hide}setHide(C,e){const m=this.getOrNew(C);e===!0?m.hide=!0:delete m.hide}setStyle(C,e){const m=this.getOrNew(C);m.style=e}sumHeight(C,e,m){return kn.rangeSum(C,e,v=>m&&m.has(v)?0:this.getHeight(v))}totalHeight(){return this.sumHeight(0,this.len)}get(C){return this._[C]}getOrNew(C){return this._[C]=this._[C]||{cells:{}},this._[C]}getCell(C,e){const m=this.get(C);return m!==void 0&&m.cells!==void 0&&m.cells[e]!==void 0?m.cells[e]:null}getCellMerge(C,e){const m=this.getCell(C,e);return m&&m.merge?m.merge:[0,0]}getCellOrNew(C,e){const m=this.getOrNew(C);return m.cells[e]=m.cells[e]||{},m.cells[e]}setCell(C,e,m,v="all"){const f=this.getOrNew(C);v==="all"?f.cells[e]=m:v==="text"?(f.cells[e]=f.cells[e]||{},f.cells[e].text=m.text):v==="format"&&(f.cells[e]=f.cells[e]||{},f.cells[e].style=m.style,m.merge&&(f.cells[e].merge=m.merge))}setCellText(C,e,m){const v=this.getCellOrNew(C,e);v.editable!==!1&&(v.text=m)}copyPaste(C,e,m,v=!1,f=()=>{}){const{sri:u,sci:c,eri:s,eci:t}=C,i=e.sri,r=e.sci,n=e.eri,l=e.eci,[d,o]=C.size(),[g,y]=e.size();let p=!0,E=0;(n<u||l<c)&&(p=!1,n<u?E=g:E=y);for(let T=u;T<=s;T+=1)if(this._[T]){for(let S=c;S<=t;S+=1)if(this._[T].cells&&this._[T].cells[S])for(let x=i;x<=n;x+=d)for(let w=r;w<=l;w+=o){const I=x+(T-u),D=w+(S-c),V=kn.cloneDeep(this._[T].cells[S]);if(v&&V&&V.text&&V.text.length>0){const{text:ie}=V;let ee=w-r+(x-i)+2;if(p||(ee-=E+1),ie[0]==="=")V.text=ie.replace(/[a-zA-Z]{1,3}\d+/g,te=>{let[Y,W]=[0,0];return u===i?Y=ee-1:W=ee-1,/^\d+$/.test(te)?te:ul(te,Y,W)});else if(d<=1&&o>1&&(i>s||n<u)||o<=1&&d>1&&(r>t||l<c)||d<=1&&o<=1){const te=/[\\.\d]+$/.exec(ie);if(te!==null){const Y=Number(te[0])+ee-1;V.text=ie.substring(0,te.index)+Y}}}this.setCell(I,D,V,m),f(I,D,V)}}}cutPaste(C,e){const m={};this.each(v=>{this.eachCells(v,f=>{let u=parseInt(v,10),c=parseInt(f,10);C.includes(v,f)&&(u=e.sri+(u-C.sri),c=e.sci+(c-C.sci)),m[u]=m[u]||{cells:{}},m[u].cells[c]=this._[v].cells[f]})}),this._=m}paste(C,e){if(C.length<=0)return;const{sri:m,sci:v}=e;C.forEach((f,u)=>{const c=m+u;f.forEach((s,t)=>{const i=v+t;this.setCellText(c,i,s)})})}insert(C,e=1){const m={};this.each((v,f)=>{let u=parseInt(v,10);u>=C&&(u+=e,this.eachCells(v,(c,s)=>{s.text&&s.text[0]==="="&&(s.text=s.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>ul(t,0,e,(i,r)=>r>=C)))})),m[u]=f}),this._=m,this.len+=e}delete(C,e){const m=e-C+1,v={};this.each((f,u)=>{const c=parseInt(f,10);c<C?v[c]=u:f>e&&(v[c-m]=u,this.eachCells(f,(s,t)=>{t.text&&t.text[0]==="="&&(t.text=t.text.replace(/[a-zA-Z]{1,3}\d+/g,i=>ul(i,0,-m,(r,n)=>n>e)))}))}),this._=v,this.len-=m}insertColumn(C,e=1){this.each((m,v)=>{const f={};this.eachCells(m,(u,c)=>{let s=parseInt(u,10);s>=C&&(s+=e,c.text&&c.text[0]==="="&&(c.text=c.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>ul(t,e,0,i=>i>=C)))),f[s]=c}),v.cells=f})}deleteColumn(C,e){const m=e-C+1;this.each((v,f)=>{const u={};this.eachCells(v,(c,s)=>{const t=parseInt(c,10);t<C?u[t]=s:t>e&&(u[t-m]=s,s.text&&s.text[0]==="="&&(s.text=s.text.replace(/[a-zA-Z]{1,3}\d+/g,i=>ul(i,-m,0,r=>r>e))))}),f.cells=u})}deleteCells(C,e="all"){C.each((m,v)=>{this.deleteCell(m,v,e)})}deleteCell(C,e,m="all"){const v=this.get(C);if(v!==null){const f=this.getCell(C,e);f!==null&&f.editable!==!1&&(m==="all"?delete v.cells[e]:m==="text"?(f.text&&delete f.text,f.value&&delete f.value):m==="format"?(f.style!==void 0&&delete f.style,f.merge&&delete f.merge):m==="merge"&&f.merge&&delete f.merge)}}maxCell(){const C=Object.keys(this._),e=C[C.length-1],m=this._[e];if(m){const{cells:v}=m,f=Object.keys(v),u=f[f.length-1];return[parseInt(e,10),parseInt(u,10)]}return[0,0]}each(C){Object.entries(this._).forEach(([e,m])=>{C(e,m)})}eachCells(C,e){this._[C]&&this._[C].cells&&Object.entries(this._[C].cells).forEach(([m,v])=>{e(m,v)})}setData(C){C.len&&(this.len=C.len,delete C.len),this._=C}getData(){const{len:C}=this;return Object.assign({len:C},this._)}}class Sv{constructor({len:C,width:e,indexWidth:m,minWidth:v}){this._={},this.len=C,this.width=e,this.indexWidth=m,this.minWidth=v}setData(C){C.len&&(this.len=C.len,delete C.len),this._=C}getData(){const{len:C}=this;return Object.assign({len:C},this._)}getWidth(C){if(this.isHide(C))return 0;const e=this._[C];return e&&e.width?e.width:this.width}getOrNew(C){return this._[C]=this._[C]||{},this._[C]}setWidth(C,e){const m=this.getOrNew(C);m.width=e}unhide(C){let e=C;for(;e>0&&(e-=1,this.isHide(e));)this.setHide(e,!1)}isHide(C){const e=this._[C];return e&&e.hide}setHide(C,e){const m=this.getOrNew(C);e===!0?m.hide=!0:delete m.hide}setStyle(C,e){const m=this.getOrNew(C);m.style=e}sumWidth(C,e){return kn.rangeSum(C,e,m=>this.getWidth(m))}totalWidth(){return this.sumWidth(0,this.len)}}const xv={toolbar:{undo:"Undo",redo:"Redo",print:"Print",paintformat:"Paint format",clearformat:"Clear format",format:"Format",fontName:"Font",fontSize:"Font size",fontBold:"Font bold",fontItalic:"Font italic",underline:"Underline",strike:"Strike",color:"Text color",bgcolor:"Fill color",border:"Borders",merge:"Merge cells",align:"Horizontal align",valign:"Vertical align",textwrap:"Text wrapping",freeze:"Freeze cell",autofilter:"Filter",formula:"Functions",more:"More"},contextmenu:{copy:"Copy",cut:"Cut",paste:"Paste",pasteValue:"Paste values only",pasteFormat:"Paste format only",hide:"Hide",insertRow:"Insert row",insertColumn:"Insert column",deleteSheet:"Delete",deleteRow:"Delete row",deleteColumn:"Delete column",deleteCell:"Delete cell",deleteCellText:"Delete cell text",validation:"Data validations",cellprintable:"Enable export",cellnonprintable:"Disable export",celleditable:"Enable editing",cellnoneditable:"Disable editing"},print:{size:"Paper size",orientation:"Page orientation",orientations:["Landscape","Portrait"]},format:{normal:"Normal",text:"Plain Text",number:"Number",percent:"Percent",rmb:"RMB",usd:"USD",eur:"EUR",date:"Date",time:"Time",datetime:"Date time",duration:"Duration"},formula:{sum:"Sum",average:"Average",max:"Max",min:"Min",_if:"IF",and:"AND",or:"OR",concat:"Concat"},validation:{required:"it must be required",notMatch:"it not match its validation rule",between:"it is between {} and {}",notBetween:"it is not between {} and {}",notIn:"it is not in list",equal:"it equal to {}",notEqual:"it not equal to {}",lessThan:"it less than {}",lessThanEqual:"it less than or equal to {}",greaterThan:"it greater than {}",greaterThanEqual:"it greater than or equal to {}"},error:{pasteForMergedCell:"Unable to do this for merged cells"},calendar:{weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},button:{next:"Next",cancel:"Cancel",remove:"Remove",save:"Save",ok:"OK"},sort:{desc:"Sort Z -> A",asc:"Sort A -> Z"},filter:{empty:"empty"},dataValidation:{mode:"Mode",range:"Cell Range",criteria:"Criteria",modeType:{cell:"Cell",column:"Colun",row:"Row"},type:{list:"List",number:"Number",date:"Date",phone:"Phone",email:"Email"},operator:{be:"between",nbe:"not betwwen",lt:"less than",lte:"less than or equal to",gt:"greater than",gte:"greater than or equal to",eq:"equal to",neq:"not equal to"}}};let Gc=["en"];const sd={en:xv};function _u(re,C){if(C)for(const e of Gc){if(!C[e])break;let m=C[e];const v=re.match(/(?:\\.|[^.])+/g);for(let f=0;f<v.length;f+=1){const u=v[f],c=m[u];if(!c)break;if(f===v.length-1)return c;m=c}}}function Li(re){let C=_u(re,sd);return!C&&window&&window.x_spreadsheet&&window.x_spreadsheet.$messages&&(C=_u(re,window.x_spreadsheet.$messages)),C||""}function jr(re){return()=>Li(re)}function ad(re,C,e=!1){e?Gc=[re]:Gc.unshift(re),C&&(sd[re]=C)}const Eu={phone:/^[1-9]\d{10}$/,email:/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/};function cs(re,C,...e){let m="";return re||(m=Li(`validation.${C}`,...e)),[re,m]}class od{constructor(C,e,m,v){this.required=e,this.value=m,this.type=C,this.operator=v,this.message=""}parseValue(C){const{type:e}=this;return e==="date"?new Date(C):e==="number"?Number(C):C}equals(C){let e=this.type===C.type&&this.required===C.required&&this.operator===C.operator;return e&&(Array.isArray(this.value)?e=kn.arrayEquals(this.value,C.value):e=this.value===C.value),e}values(){return this.value.split(",")}validate(C){const{required:e,operator:m,value:v,type:f}=this;if(e&&/^\s*$/.test(C))return cs(!1,"required");if(/^\s*$/.test(C))return[!0];if(Eu[f]&&!Eu[f].test(C))return cs(!1,"notMatch");if(f==="list")return cs(this.values().includes(C),"notIn");if(m){const u=this.parseValue(C);if(m==="be"){const[c,s]=v;return cs(u>=this.parseValue(c)&&u<=this.parseValue(s),"between",c,s)}if(m==="nbe"){const[c,s]=v;return cs(u<this.parseValue(c)||u>this.parseValue(s),"notBetween",c,s)}if(m==="eq")return cs(u===this.parseValue(v),"equal",v);if(m==="neq")return cs(u!==this.parseValue(v),"notEqual",v);if(m==="lt")return cs(u<this.parseValue(v),"lessThan",v);if(m==="lte")return cs(u<=this.parseValue(v),"lessThanEqual",v);if(m==="gt")return cs(u>this.parseValue(v),"greaterThan",v);if(m==="gte")return cs(u>=this.parseValue(v),"greaterThanEqual",v)}return[!0]}}class kh{constructor(C,e,m){this.refs=e,this.mode=C,this.validator=m}includes(C,e){const{refs:m}=this;for(let v=0;v<m.length;v+=1)if(Ii.valueOf(m[v]).includes(C,e))return!0;return!1}addRef(C){this.remove(Ii.valueOf(C)),this.refs.push(C)}remove(C){const e=[];this.refs.forEach(m=>{const v=Ii.valueOf(m);v.intersects(C)?v.difference(C).forEach(u=>e.push(u.toString())):e.push(m)}),this.refs=e}getData(){const{refs:C,mode:e,validator:m}=this,{type:v,required:f,operator:u,value:c}=m;return{refs:C,mode:e,type:v,required:f,operator:u,value:c}}static valueOf({refs:C,mode:e,type:m,required:v,operator:f,value:u}){return new kh(e,C,new od(m,v,u,f))}}class Av{constructor(){this._=[],this.errors=new Map}getError(C,e){return this.errors.get(`${C}_${e}`)}validate(C,e,m){const v=this.get(C,e),f=`${C}_${e}`,{errors:u}=this;if(v!==null){const[c,s]=v.validator.validate(m);c?u.delete(f):u.set(f,s)}else u.delete(f);return!0}add(C,e,{type:m,required:v,value:f,operator:u}){const c=new od(m,v,f,u),s=this.getByValidator(c);s!==null?s.addRef(e):this._.push(new kh(C,[e],c))}getByValidator(C){for(let e=0;e<this._.length;e+=1){const m=this._[e];if(m.validator.equals(C))return m}return null}get(C,e){for(let m=0;m<this._.length;m+=1){const v=this._[m];if(v.includes(C,e))return v}return null}remove(C){this.each(e=>{e.remove(C)})}each(C){this._.forEach(e=>C(e))}getData(){return this._.filter(C=>C.refs.length>0).map(C=>C.getData())}setData(C){this._=C.map(e=>kh.valueOf(e))}}const Cv={mode:"edit",view:{height:()=>document.documentElement.clientHeight,width:()=>document.documentElement.clientWidth},showGrid:!0,showToolbar:!0,showContextmenu:!0,showBottomBar:!0,row:{len:100,height:25},col:{len:26,width:100,indexWidth:60,minWidth:60},style:{bgcolor:"#ffffff",align:"left",valign:"middle",textwrap:!1,strike:!1,underline:!1,color:"#0a0a0a",font:{name:"Arial",size:10,bold:!1,italic:!1},format:"normal"}},kv=41,Rv=41,Tu=(re,C)=>Object.prototype.hasOwnProperty.call(re,C);function Su(re,C,e=()=>{}){const{merges:m}=this,v=C.clone(),[f,u]=re.size(),[c,s]=C.size();return f>c&&(v.eri=C.sri+f-1),u>s&&(v.eci=C.sci+u-1),m.intersects(v)?(e(Li("error.pasteForMergedCell")),!1):!0}function xu(re,C,e,m=!1){const{rows:v,merges:f}=this;(e==="all"||e==="format")&&(v.deleteCells(C,e),f.deleteWithin(C)),v.copyPaste(re,C,e,m,(u,c,s)=>{if(s&&s.merge){const[t,i]=s.merge;if(t<=0&&i<=0)return;f.add(new Ii(u,c,u+t,c+i))}})}function Iv(re,C){const{clipboard:e,rows:m,merges:v}=this;m.cutPaste(re,C),v.move(re,C.sri-re.sri,C.sci-re.sci),e.clear()}function Mo(re,C,e){const{styles:m,rows:v}=this,f=v.getCellOrNew(re,C);let u={};f.style!==void 0&&(u=kn.cloneDeep(m[f.style])),u=kn.merge(u,{border:e}),f.style=this.addStyle(u)}function Mv({mode:re,style:C,color:e}){const{styles:m,selector:v,rows:f}=this,{sri:u,sci:c,eri:s,eci:t}=v.range,i=!this.isSignleSelected();if(!(!i&&(re==="inside"||re==="horizontal"||re==="vertical"))){if(re==="outside"&&!i)Mo.call(this,u,c,{top:[C,e],bottom:[C,e],left:[C,e],right:[C,e]});else if(re==="none")v.range.each((r,n)=>{const l=f.getCell(r,n);if(l&&l.style!==void 0){const d=kn.cloneDeep(m[l.style]);delete d.border,l.style=this.addStyle(d)}});else if(re==="all"||re==="inside"||re==="outside"||re==="horizontal"||re==="vertical"){const r=[];for(let n=u;n<=s;n+=1)for(let l=c;l<=t;l+=1){const d=[];for(let S=0;S<r.length;S+=1){const[x,w,I,D]=r[S];if(n===x+I+1&&d.push(S),x<=n&&n<=x+I&&l===w){l+=D+1;break}}if(d.forEach(S=>r.splice(S,1)),l>t)break;const o=f.getCell(n,l);let[g,y]=[0,0];o&&o.merge&&([g,y]=o.merge,r.push([n,l,g,y]));const p=g>0&&n+g===s,E=y>0&&l+y===t;let T={};re==="all"?T={bottom:[C,e],top:[C,e],left:[C,e],right:[C,e]}:re==="inside"?(!E&&l<t&&(T.right=[C,e]),!p&&n<s&&(T.bottom=[C,e])):re==="horizontal"?!p&&n<s&&(T.bottom=[C,e]):re==="vertical"?!E&&l<t&&(T.right=[C,e]):re==="outside"&&i&&(u===n&&(T.top=[C,e]),(p||s===n)&&(T.bottom=[C,e]),c===l&&(T.left=[C,e]),(E||t===l)&&(T.right=[C,e])),Object.keys(T).length>0&&Mo.call(this,n,l,T),l+=y}}else if(re==="top"||re==="bottom")for(let r=c;r<=t;r+=1)re==="top"&&(Mo.call(this,u,r,{top:[C,e]}),r+=f.getCellMerge(u,r)[1]),re==="bottom"&&(Mo.call(this,s,r,{bottom:[C,e]}),r+=f.getCellMerge(s,r)[1]);else if(re==="left"||re==="right")for(let r=u;r<=s;r+=1)re==="left"&&(Mo.call(this,r,c,{left:[C,e]}),r+=f.getCellMerge(r,c)[0]),re==="right"&&(Mo.call(this,r,t,{right:[C,e]}),r+=f.getCellMerge(r,t)[0])}}function Pv(re,C){const{rows:e}=this,m=this.freezeTotalHeight();let v=e.height;m+e.height<re&&(v-=C);const f=this.exceptRowSet;let u=0,c=v,{height:s}=e;for(;u<e.len&&!(c>re);u+=1)f.has(u)||(s=e.getHeight(u),c+=s);return c-=s,c<=0?{ri:-1,top:0,height:s}:{ri:u-1,top:c,height:s}}function Dv(re,C){const{cols:e}=this,m=this.freezeTotalWidth();let v=e.indexWidth;m+e.indexWidth<re&&(v-=C);const[f,u,c]=kn.rangeReduceIf(0,e.len,v,e.indexWidth,re,s=>e.getWidth(s));return u<=0?{ci:-1,left:0,width:e.indexWidth}:{ci:f-1,left:u,width:c}}class Lv{constructor(C,e){this.settings=kn.merge(Cv,e||{}),this.name=C||"sheet",this.freeze=[0,0],this.styles=[],this.merges=new tf,this.rows=new Tv(this.settings.row),this.cols=new Sv(this.settings.col),this.validations=new Av,this.hyperlinks={},this.comments={},this.selector=new fv,this.scroll=new uv,this.history=new dv,this.clipboard=new pv,this.autoFilter=new mv,this.change=()=>{},this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map}addValidation(C,e,m){this.changeData(()=>{this.validations.add(C,e,m)})}removeValidation(){const{range:C}=this.selector;this.changeData(()=>{this.validations.remove(C)})}getSelectedValidator(){const{ri:C,ci:e}=this.selector,m=this.validations.get(C,e);return m?m.validator:null}getSelectedValidation(){const{ri:C,ci:e,range:m}=this.selector,v=this.validations.get(C,e),f={ref:m.toString()};return v!==null&&(f.mode=v.mode,f.validator=v.validator),f}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}undo(){this.history.undo(this.getData(),C=>{this.setData(C)})}redo(){this.history.redo(this.getData(),C=>{this.setData(C)})}copy(){this.clipboard.copy(this.selector.range)}copyToSystemClipboard(){if(navigator.clipboard===void 0)return;let C="";const e=this.rows.getData();for(let m=this.selector.range.sri;m<=this.selector.range.eri;m+=1){if(Tu(e,m)){for(let v=this.selector.range.sci;v<=this.selector.range.eci;v+=1)if(v>this.selector.range.sci&&(C+="	"),Tu(e[m].cells,v)){const f=String(e[m].cells[v].text);f.indexOf(`
`)===-1&&f.indexOf("	")===-1&&f.indexOf('"')===-1?C+=f:C+=`"${f}"`}}else for(let v=this.selector.range.sci;v<=this.selector.range.eci;v+=1)C+="	";C+=`
`}navigator.clipboard.writeText(C).then(()=>{},m=>{})}cut(){this.clipboard.cut(this.selector.range)}paste(C="all",e=()=>{}){const{clipboard:m,selector:v}=this;return m.isClear()||!Su.call(this,m.range,v.range,e)?!1:(this.changeData(()=>{m.isCopy()?xu.call(this,m.range,v.range,C):m.isCut()&&Iv.call(this,m.range,v.range)}),!0)}pasteFromText(C){const e=C.split(`\r
`).map(f=>f.replace(/"/g,"").split("	"));e.length>0&&(e.length-=1);const{rows:m,selector:v}=this;this.changeData(()=>{m.paste(e,v.range)})}autofill(C,e,m=()=>{}){const v=this.selector.range;return Su.call(this,v,C,m)?(this.changeData(()=>{xu.call(this,v,C,e,!0)}),!0):!1}clearClipboard(){this.clipboard.clear()}calSelectedRangeByEnd(C,e){const{selector:m,rows:v,cols:f,merges:u}=this;let{sri:c,sci:s,eri:t,eci:i}=m.range;const r=m.ri,n=m.ci;let[l,d]=[C,e];return C<0&&(l=v.len-1),e<0&&(d=f.len-1),l>r?[c,t]=[r,l]:[c,t]=[l,r],d>n?[s,i]=[n,d]:[s,i]=[d,n],m.range=u.union(new Ii(c,s,t,i)),m.range=u.union(m.range),m.range}calSelectedRangeByStart(C,e){const{selector:m,rows:v,cols:f,merges:u}=this;let c=u.getFirstIncludes(C,e);return c===null&&(c=new Ii(C,e,C,e),C===-1&&(c.sri=0,c.eri=v.len-1),e===-1&&(c.sci=0,c.eci=f.len-1)),m.range=c,c}setSelectedCellAttr(C,e){this.changeData(()=>{const{selector:m,styles:v,rows:f}=this;if(C==="merge")e?this.merge():this.unmerge();else if(C==="border")Mv.call(this,e);else if(C==="formula"){const{ri:u,ci:c,range:s}=m;if(m.multiple()){const[t,i]=m.size(),{sri:r,sci:n,eri:l,eci:d}=s;if(t>1)for(let o=n;o<=d;o+=1){const g=f.getCellOrNew(l+1,o);g.text=`=${e}(${aa(o,r)}:${aa(o,l)})`}else if(i>1){const o=f.getCellOrNew(u,d+1);o.text=`=${e}(${aa(n,u)}:${aa(d,u)})`}}else{const t=f.getCellOrNew(u,c);t.text=`=${e}()`}}else m.range.each((u,c)=>{const s=f.getCellOrNew(u,c);let t={};if(s.style!==void 0&&(t=kn.cloneDeep(v[s.style])),C==="format")t.format=e,s.style=this.addStyle(t);else if(C==="font-bold"||C==="font-italic"||C==="font-name"||C==="font-size"){const i={};i[C.split("-")[1]]=e,t.font=Object.assign(t.font||{},i),s.style=this.addStyle(t)}else C==="strike"||C==="textwrap"||C==="underline"||C==="align"||C==="valign"||C==="color"||C==="bgcolor"?(t[C]=e,s.style=this.addStyle(t)):s[C]=e})})}setSelectedCellText(C,e="input"){const{autoFilter:m,selector:v,rows:f}=this,{ri:u,ci:c}=v;let s=u;this.unsortedRowMap.has(u)&&(s=this.unsortedRowMap.get(u));const t=f.getCell(s,c),i=t?t.text:"";if(this.setCellText(s,c,C,e),m.active()){const r=m.getFilter(c);if(r){const n=r.value.findIndex(l=>l===i);n>=0&&r.value.splice(n,1,C)}}}getSelectedCell(){const{ri:C,ci:e}=this.selector;let m=C;return this.unsortedRowMap.has(C)&&(m=this.unsortedRowMap.get(C)),this.rows.getCell(m,e)}xyInSelectedRect(C,e){const{left:m,top:v,width:f,height:u}=this.getSelectedRect(),c=C-this.cols.indexWidth,s=e-this.rows.height;return c>m&&c<m+f&&s>v&&s<v+u}getSelectedRect(){return this.getRect(this.selector.range)}getClipboardRect(){const{clipboard:C}=this;return C.isClear()?{left:-100,top:-100}:this.getRect(C.range)}getRect(C){const{scroll:e,rows:m,cols:v,exceptRowSet:f}=this,{sri:u,sci:c,eri:s,eci:t}=C;if(u<0&&c<0)return{left:0,l:0,top:0,t:0,scroll:e};const i=v.sumWidth(0,c),r=m.sumHeight(0,u,f),n=m.sumHeight(u,s+1,f),l=v.sumWidth(c,t+1);let d=i-e.x,o=r-e.y;const g=this.freezeTotalHeight(),y=this.freezeTotalWidth();return y>0&&y>i&&(d=i),g>0&&g>r&&(o=r),{l:i,t:r,left:d,top:o,height:n,width:l,scroll:e}}getCellRectByXY(C,e){const{scroll:m,merges:v,rows:f,cols:u}=this;let{ri:c,top:s,height:t}=Pv.call(this,e,m.y),{ci:i,left:r,width:n}=Dv.call(this,C,m.x);if(i===-1&&(n=u.totalWidth()),c===-1&&(t=f.totalHeight()),c>=0||i>=0){const l=v.getFirstIncludes(c,i);l&&(c=l.sri,i=l.sci,{left:r,top:s,width:n,height:t}=this.cellRect(c,i))}return{ri:c,ci:i,left:r,top:s,width:n,height:t}}isSignleSelected(){const{sri:C,sci:e,eri:m,eci:v}=this.selector.range,f=this.getCell(C,e);if(f&&f.merge){const[u,c]=f.merge;if(C+u===m&&e+c===v)return!0}return!this.selector.multiple()}canUnmerge(){const{sri:C,sci:e,eri:m,eci:v}=this.selector.range,f=this.getCell(C,e);if(f&&f.merge){const[u,c]=f.merge;if(C+u===m&&e+c===v)return!0}return!1}merge(){const{selector:C,rows:e}=this;if(this.isSignleSelected())return;const[m,v]=C.size();if(m>1||v>1){const{sri:f,sci:u}=C.range;this.changeData(()=>{const c=e.getCellOrNew(f,u);c.merge=[m-1,v-1],this.merges.add(C.range),this.rows.deleteCells(C.range),this.rows.setCell(f,u,c)})}}unmerge(){const{selector:C}=this;if(!this.isSignleSelected())return;const{sri:e,sci:m}=C.range;this.changeData(()=>{this.rows.deleteCell(e,m,"merge"),this.merges.deleteWithin(C.range)})}canAutofilter(){return!this.autoFilter.active()}autofilter(){const{autoFilter:C,selector:e}=this;this.changeData(()=>{C.active()?(C.clear(),this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map):C.ref=e.range.toString()})}setAutoFilter(C,e,m,v){const{autoFilter:f}=this;f.addFilter(C,m,v),f.setSort(C,e),this.resetAutoFilter()}resetAutoFilter(){const{autoFilter:C,rows:e}=this;if(!C.active())return;const{sort:m}=C,{rset:v,fset:f}=C.filteredRows((s,t)=>e.getCell(s,t)),u=Array.from(f),c=Array.from(f);m&&u.sort((s,t)=>m.order==="asc"?s-t:m.order==="desc"?t-s:0),this.exceptRowSet=v,this.sortedRowMap=new Map,this.unsortedRowMap=new Map,u.forEach((s,t)=>{this.sortedRowMap.set(c[t],s),this.unsortedRowMap.set(s,c[t])})}deleteCell(C="all"){const{selector:e}=this;this.changeData(()=>{this.rows.deleteCells(e.range,C),(C==="all"||C==="format")&&this.merges.deleteWithin(e.range)})}insert(C,e=1){this.changeData(()=>{const{sri:m,sci:v}=this.selector.range,{rows:f,merges:u,cols:c}=this;let s=m;C==="row"?f.insert(m,e):C==="column"&&(f.insertColumn(v,e),s=v,c.len+=1),u.shift(C,s,e,(t,i,r,n)=>{const l=f.getCell(t,i);l.merge[0]+=r,l.merge[1]+=n})})}delete(C){this.changeData(()=>{const{rows:e,merges:m,selector:v,cols:f}=this,{range:u}=v,{sri:c,sci:s,eri:t,eci:i}=v.range,[r,n]=v.range.size();let l=c,d=r;C==="row"?e.delete(c,t):C==="column"&&(e.deleteColumn(s,i),l=u.sci,d=n,f.len-=1),m.shift(C,l,-d,(o,g,y,p)=>{const E=e.getCell(o,g);E.merge[0]+=y,E.merge[1]+=p,E.merge[0]===0&&E.merge[1]===0&&delete E.merge})})}scrollx(C,e){const{scroll:m,freeze:v,cols:f}=this,[,u]=v,[c,s,t]=kn.rangeReduceIf(u,f.len,0,0,C,r=>f.getWidth(r));let i=s;C>0&&(i+=t),m.x!==i&&(m.ci=C>0?c:0,m.x=i,e())}scrolly(C,e){const{scroll:m,freeze:v,rows:f}=this,[u]=v,[c,s,t]=kn.rangeReduceIf(u,f.len,0,0,C,r=>f.getHeight(r));let i=s;C>0&&(i+=t),m.y!==i&&(m.ri=C>0?c:0,m.y=i,e())}cellRect(C,e){const{rows:m,cols:v}=this,f=v.sumWidth(0,e),u=m.sumHeight(0,C),c=m.getCell(C,e);let s=v.getWidth(e),t=m.getHeight(C);if(c!==null&&c.merge){const[i,r]=c.merge;if(i>0)for(let n=1;n<=i;n+=1)t+=m.getHeight(C+n);if(r>0)for(let n=1;n<=r;n+=1)s+=v.getWidth(e+n)}return{left:f,top:u,width:s,height:t,cell:c}}getCell(C,e){return this.rows.getCell(C,e)}getCellTextOrDefault(C,e){const m=this.getCell(C,e);return m&&m.text?m.text:""}getCellStyle(C,e){const m=this.getCell(C,e);return m&&m.style!==void 0?this.styles[m.style]:null}getCellStyleOrDefault(C,e){const{styles:m,rows:v}=this,f=v.getCell(C,e),u=f&&f.style!==void 0?m[f.style]:{};return kn.merge(this.defaultStyle(),u)}getSelectedCellStyle(){const{ri:C,ci:e}=this.selector;return this.getCellStyleOrDefault(C,e)}setCellText(C,e,m,v){const{rows:f,history:u,validations:c}=this;v==="finished"?(f.setCellText(C,e,""),u.add(this.getData()),f.setCellText(C,e,m)):(f.setCellText(C,e,m),this.change(this.getData())),c.validate(C,e,m)}freezeIsActive(){const[C,e]=this.freeze;return C>0||e>0}setFreeze(C,e){this.changeData(()=>{this.freeze=[C,e]})}freezeTotalWidth(){return this.cols.sumWidth(0,this.freeze[1])}freezeTotalHeight(){return this.rows.sumHeight(0,this.freeze[0])}setRowHeight(C,e){this.changeData(()=>{this.rows.setHeight(C,e)})}setColWidth(C,e){this.changeData(()=>{this.cols.setWidth(C,e)})}viewHeight(){const{view:C,showToolbar:e,showBottomBar:m}=this.settings;let v=C.height();return m&&(v-=Rv),e&&(v-=kv),v}viewWidth(){return this.settings.view.width()}freezeViewRange(){const[C,e]=this.freeze;return new Ii(0,0,C-1,e-1,this.freezeTotalWidth(),this.freezeTotalHeight())}contentRange(){const{rows:C,cols:e}=this,[m,v]=C.maxCell(),f=C.sumHeight(0,m+1),u=e.sumWidth(0,v+1);return new Ii(0,0,m,v,u,f)}exceptRowTotalHeight(C,e){const{exceptRowSet:m,rows:v}=this,f=Array.from(m);let u=0;return f.forEach(c=>{if(c<C||c>e){const s=v.getHeight(c);u+=s}}),u}viewRange(){const{scroll:C,rows:e,cols:m,freeze:v,exceptRowSet:f}=this;let{ri:u,ci:c}=C;u<=0&&([u]=v),c<=0&&([,c]=v);let[s,t]=[0,0],[i,r]=[e.len,m.len];for(let n=u;n<e.len&&(f.has(n)||(t+=e.getHeight(n),i=n),!(t>this.viewHeight()));n+=1);for(let n=c;n<m.len&&(s+=m.getWidth(n),r=n,!(s>this.viewWidth()));n+=1);return new Ii(u,c,i,r,s,t)}eachMergesInView(C,e){this.merges.filterIntersects(C).forEach(m=>e(m))}hideRowsOrCols(){const{rows:C,cols:e,selector:m}=this,[v,f]=m.size(),{sri:u,sci:c,eri:s,eci:t}=m.range;if(v===C.len)for(let i=c;i<=t;i+=1)e.setHide(i,!0);else if(f===e.len)for(let i=u;i<=s;i+=1)C.setHide(i,!0)}unhideRowsOrCols(C,e){this[`${C}s`].unhide(e)}rowEach(C,e,m){let v=0;const{rows:f}=this,u=this.exceptRowSet,c=[...u];let s=0;for(let t=0;t<c.length;t+=1)c[t]<C&&(s+=1);for(let t=C+s;t<=e+s;t+=1)if(u.has(t))s+=1;else{const i=f.getHeight(t);if(i>0&&(m(t,v,i),v+=i,v>this.viewHeight()))break}}colEach(C,e,m){let v=0;const{cols:f}=this;for(let u=C;u<=e;u+=1){const c=f.getWidth(u);if(c>0&&(m(u,v,c),v+=c,v>this.viewWidth()))break}}defaultStyle(){return this.settings.style}addStyle(C){const{styles:e}=this;for(let m=0;m<e.length;m+=1){const v=e[m];if(kn.equals(v,C))return m}return e.push(C),e.length-1}changeData(C){this.history.add(this.getData()),C(),this.change(this.getData())}setData(C){return Object.keys(C).forEach(e=>{if(e==="merges"||e==="rows"||e==="cols"||e==="validations")this[e].setData(C[e]);else if(e==="freeze"){const[m,v]=Na(C[e]);this.freeze=[v,m]}else e==="autofilter"?this.autoFilter.setData(C[e]):C[e]!==void 0&&(this[e]=C[e])}),this}getData(){const{name:C,freeze:e,styles:m,merges:v,rows:f,cols:u,validations:c,autoFilter:s}=this;return{name:C,freeze:aa(e[1],e[0]),styles:m,merges:v.getData(),rows:f.getData(),cols:u.getData(),validations:c.getData(),autofilter:s.getData()}}}function In(re,C,e){re.addEventListener(C,e)}function Rh(re,C,e){re.removeEventListener(C,e)}function No(re){re.xclickoutside&&(Rh(window.document.body,"click",re.xclickoutside),delete re.xclickoutside)}function bl(re,C){re.xclickoutside=e=>{e.detail===2||re.contains(e.target)||(C?C(re):(re.hide(),No(re)))},In(window.document.body,"click",re.xclickoutside)}function ld(re,C,e){In(re,"mousemove",C);const m=re;m.xEvtUp=v=>{Rh(re,"mousemove",C),Rh(re,"mouseup",re.xEvtUp),e(v)},In(re,"mouseup",re.xEvtUp)}function Au(re,C,e,m){let v="";Math.abs(re)>Math.abs(C)?(v=re>0?"right":"left",m(v,re,e)):(v=C>0?"down":"up",m(v,C,e))}function Ov(re,{move:C,end:e}){let m=0,v=0;In(re,"touchstart",f=>{const{pageX:u,pageY:c}=f.touches[0];m=u,v=c}),In(re,"touchmove",f=>{if(!C)return;const{pageX:u,pageY:c}=f.changedTouches[0],s=u-m,t=c-v;(Math.abs(s)>10||Math.abs(t)>10)&&(Au(s,t,f,C),m=u,v=c),f.preventDefault()}),In(re,"touchend",f=>{if(!e)return;const{pageX:u,pageY:c}=f.changedTouches[0],s=u-m,t=c-v;Au(s,t,f,e)})}function Nv(){const re=new Map;function C(u,c){const s=()=>{const i=re.get(u);return Array.isArray(i)&&i.push(c)||!1},t=()=>re.set(u,[].concat(c));return re.has(u)&&s()||t()}function e(u,c){const s=()=>{const t=re.get(u);for(const i of t)i.call(null,...c)};return re.has(u)&&s()}function m(u,c){const s=()=>{const t=re.get(u),i=t.indexOf(c);return i>=0&&t.splice(i,1)&&re.get(u).length===0&&re.delete(u)};return re.has(u)&&s()}function v(u,c){const s=(...t)=>{c.call(null,...t),m(u,s)};return C(u,s)}function f(){re.clear()}return{get current(){return re},on:C,once:v,fire:e,removeListener:m,removeAllListeners:f}}const At="x-spreadsheet";class Cu{constructor(C=!1,e){this.moving=!1,this.vertical=C,this.el=ft("div",`${At}-resizer ${C?"vertical":"horizontal"}`).children(this.unhideHoverEl=ft("div",`${At}-resizer-hover`).on("dblclick.stop",m=>this.mousedblclickHandler(m)).css("position","absolute").hide(),this.hoverEl=ft("div",`${At}-resizer-hover`).on("mousedown.stop",m=>this.mousedownHandler(m)),this.lineEl=ft("div",`${At}-resizer-line`).hide()).hide(),this.cRect=null,this.finishedFn=null,this.minDistance=e,this.unhideFn=()=>{}}showUnhide(C){this.unhideIndex=C,this.unhideHoverEl.show()}hideUnhide(){this.unhideHoverEl.hide()}show(C,e){const{moving:m,vertical:v,hoverEl:f,lineEl:u,el:c,unhideHoverEl:s}=this;if(m)return;this.cRect=C;const{left:t,top:i,width:r,height:n}=C;c.offset({left:v?t+r-5:t,top:v?i:i+n-5}).show(),f.offset({width:v?5:r,height:v?n:5}),u.offset({width:v?0:e.width,height:v?e.height:0}),s.offset({left:v?5-r:t,top:v?i:5-n,width:v?5:r,height:v?n:5})}hide(){this.el.offset({left:0,top:0}).hide(),this.hideUnhide()}mousedblclickHandler(){this.unhideIndex&&this.unhideFn(this.unhideIndex)}mousedownHandler(C){let e=C;const{el:m,lineEl:v,cRect:f,vertical:u,minDistance:c}=this;let s=u?f.width:f.height;v.show(),ld(window,t=>{this.moving=!0,e!==null&&t.buttons===1&&(u?(s+=t.movementX,s>c&&m.css("left",`${f.left+s}px`)):(s+=t.movementY,s>c&&m.css("top",`${f.top+s}px`)),e=t)},()=>{e=null,v.hide(),this.moving=!1,this.hide(),this.finishedFn&&(s<c&&(s=c),this.finishedFn(f,s))})}}class ku{constructor(C){this.vertical=C,this.moveFn=null,this.el=ft("div",`${At}-scrollbar ${C?"vertical":"horizontal"}`).child(this.contentEl=ft("div","")).on("mousemove.stop",()=>{}).on("scroll.stop",e=>{const{scrollTop:m,scrollLeft:v}=e.target;this.moveFn&&this.moveFn(this.vertical?m:v,e)})}move(C){return this.el.scroll(C),this}scroll(){return this.el.scroll()}set(C,e){const m=C-1;if(e>m){const v=this.vertical?"height":"width";this.el.css(v,`${m-15}px`).show(),this.contentEl.css(this.vertical?"width":"height","1px").css(v,`${e}px`)}else this.el.hide();return this}}const dh=2*2-1;let Kc=10;class ph{constructor(C=!1){this.useHideInput=C,this.inputChange=()=>{},this.cornerEl=ft("div",`${At}-selector-corner`),this.areaEl=ft("div",`${At}-selector-area`).child(this.cornerEl).hide(),this.clipboardEl=ft("div",`${At}-selector-clipboard`).hide(),this.autofillEl=ft("div",`${At}-selector-autofill`).hide(),this.el=ft("div",`${At}-selector`).css("z-index",`${Kc}`).children(this.areaEl,this.clipboardEl,this.autofillEl).hide(),C&&(this.hideInput=ft("input","").on("compositionend",e=>{this.inputChange(e.target.value)}),this.el.child(this.hideInputDiv=ft("div","hide-input").child(this.hideInput)),this.el.child(this.hideInputDiv=ft("div","hide-input").child(this.hideInput))),Kc+=1}setOffset(C){return this.el.offset(C).show(),this}hide(){return this.el.hide(),this}setAreaOffset(C){const{left:e,top:m,width:v,height:f}=C,u={width:v-dh+.8,height:f-dh+.8,left:e-.8,top:m-.8};this.areaEl.offset(u).show(),this.useHideInput&&(this.hideInputDiv.offset(u),this.hideInput.val("").focus())}setClipboardOffset(C){const{left:e,top:m,width:v,height:f}=C;this.clipboardEl.offset({left:e,top:m,width:v-5,height:f-5})}showAutofill(C){const{left:e,top:m,width:v,height:f}=C;this.autofillEl.offset({width:v-dh,height:f-dh,left:e,top:m}).show()}hideAutofill(){this.autofillEl.hide()}showClipboard(){this.clipboardEl.show()}hideClipboard(){this.clipboardEl.hide()}}function rf(re){const{data:C}=this,{left:e,top:m,width:v,height:f,scroll:u,l:c,t:s}=re,t=C.freezeTotalWidth(),i=C.freezeTotalHeight();let r=e-t;t>c&&(r-=u.x);let n=m-i;return i>s&&(n-=u.y),{left:r,top:n,width:v,height:f}}function nf(re){const{data:C}=this,{left:e,width:m,height:v,l:f,t:u,scroll:c}=re,s=C.freezeTotalWidth();let t=e-s;return s>f&&(t-=c.x),{left:t,top:u,width:m,height:v}}function sf(re){const{data:C}=this,{top:e,width:m,height:v,l:f,t:u,scroll:c}=re,s=C.freezeTotalHeight();let t=e-s;return s>u&&(t-=c.y),{left:f,top:t,width:m,height:v}}function Yc(re){const{br:C}=this;C.setAreaOffset(rf.call(this,re))}function Bv(re){const{tl:C}=this;C.setAreaOffset(re)}function hd(re){const{t:C}=this;C.setAreaOffset(nf.call(this,re))}function cd(re){const{l:C}=this;C.setAreaOffset(sf.call(this,re))}function fd(re){const{l:C}=this;C.setClipboardOffset(sf.call(this,re))}function Zc(re){const{br:C}=this;C.setClipboardOffset(rf.call(this,re))}function Fv(re){const{tl:C}=this;C.setClipboardOffset(re)}function ud(re){const{t:C}=this;C.setClipboardOffset(nf.call(this,re))}function Ru(re){Yc.call(this,re),Bv.call(this,re),hd.call(this,re),cd.call(this,re)}function Iu(re){Zc.call(this,re),Fv.call(this,re),ud.call(this,re),fd.call(this,re)}class Uv{constructor(C){this.inputChange=()=>{},this.data=C,this.br=new ph(!0),this.t=new ph,this.l=new ph,this.tl=new ph,this.br.inputChange=e=>{this.inputChange(e)},this.br.el.show(),this.offset=null,this.areaOffset=null,this.indexes=null,this.range=null,this.arange=null,this.el=ft("div",`${At}-selectors`).children(this.tl.el,this.t.el,this.l.el,this.br.el).hide(),this.lastri=-1,this.lastci=-1,Kc+=1}resetData(C){this.data=C,this.range=C.selector.range,this.resetAreaOffset()}hide(){this.el.hide()}resetOffset(){const{data:C,tl:e,t:m,l:v,br:f}=this,u=C.freezeTotalHeight(),c=C.freezeTotalWidth();u>0||c>0?(e.setOffset({width:c,height:u}),m.setOffset({left:c,height:u}),v.setOffset({top:u,width:c}),f.setOffset({left:c,top:u})):(e.hide(),m.hide(),v.hide(),f.setOffset({left:0,top:0}))}resetAreaOffset(){const C=this.data.getSelectedRect(),e=this.data.getClipboardRect();Ru.call(this,C),Iu.call(this,e),this.resetOffset()}resetBRTAreaOffset(){const C=this.data.getSelectedRect(),e=this.data.getClipboardRect();Yc.call(this,C),hd.call(this,C),Zc.call(this,e),ud.call(this,e),this.resetOffset()}resetBRLAreaOffset(){const C=this.data.getSelectedRect(),e=this.data.getClipboardRect();Yc.call(this,C),cd.call(this,C),Zc.call(this,e),fd.call(this,e),this.resetOffset()}set(C,e,m=!0){const{data:v}=this,f=v.calSelectedRangeByStart(C,e),{sri:u,sci:c}=f;if(m){let[s,t]=[C,e];C<0&&(s=0),e<0&&(t=0),v.selector.setIndexes(s,t),this.indexes=[s,t]}this.moveIndexes=[u,c],this.range=f,this.resetAreaOffset(),this.el.show()}setEnd(C,e,m=!0){const{data:v,lastri:f,lastci:u}=this;if(m){if(C===f&&e===u)return;this.lastri=C,this.lastci=e}this.range=v.calSelectedRangeByEnd(C,e),Ru.call(this,this.data.getSelectedRect())}reset(){const{eri:C,eci:e}=this.data.selector.range;this.setEnd(C,e)}showAutofill(C,e){if(C===-1&&e===-1)return;const{sri:m,sci:v,eri:f,eci:u}=this.range,[c,s]=[C,e],t=m-C,i=v-e,r=f-C,n=u-e;if(i>0)this.arange=new Ii(m,s,f,v-1);else if(t>0)this.arange=new Ii(c,v,m-1,u);else if(n<0)this.arange=new Ii(m,u+1,f,s);else if(r<0)this.arange=new Ii(f+1,v,c,u);else{this.arange=null;return}if(this.arange!==null){const l=this.data.getRect(this.arange);l.width+=2,l.height+=2;const{br:d,l:o,t:g,tl:y}=this;d.showAutofill(rf.call(this,l)),o.showAutofill(sf.call(this,l)),g.showAutofill(nf.call(this,l)),y.showAutofill(l)}}hideAutofill(){["br","l","t","tl"].forEach(C=>{this[C].hideAutofill()})}showClipboard(){const C=this.data.getClipboardRect();Iu.call(this,C),["br","l","t","tl"].forEach(e=>{this[e].showClipboard()})}hideClipboard(){["br","l","t","tl"].forEach(C=>{this[C].hideClipboard()})}}function jv(re){re.preventDefault(),re.stopPropagation();const{filterItems:C}=this;C.length<=0||(this.itemIndex>=0&&C[this.itemIndex].toggle(),this.itemIndex-=1,this.itemIndex<0&&(this.itemIndex=C.length-1),C[this.itemIndex].toggle())}function zv(re){re.stopPropagation();const{filterItems:C}=this;C.length<=0||(this.itemIndex>=0&&C[this.itemIndex].toggle(),this.itemIndex+=1,this.itemIndex>C.length-1&&(this.itemIndex=0),C[this.itemIndex].toggle())}function Mu(re){re.preventDefault();const{filterItems:C}=this;C.length<=0||(re.stopPropagation(),this.itemIndex<0&&(this.itemIndex=0),C[this.itemIndex].el.click(),this.hide())}function Hv(re){const{keyCode:C}=re;switch(re.ctrlKey&&re.stopPropagation(),C){case 37:re.stopPropagation();break;case 38:jv.call(this,re);break;case 39:re.stopPropagation();break;case 40:zv.call(this,re);break;case 13:Mu.call(this,re);break;case 9:Mu.call(this,re);break;default:re.stopPropagation();break}}class dd{constructor(C,e,m="200px"){this.filterItems=[],this.items=C,this.el=ft("div",`${At}-suggest`).css("width",m).hide(),this.itemClick=e,this.itemIndex=-1}setOffset(C){this.el.cssRemoveKeys("top","bottom").offset(C)}hide(){const{el:C}=this;this.filterItems=[],this.itemIndex=-1,C.hide(),No(this.el.parent())}setItems(C){this.items=C}search(C){let{items:e}=this;if(/^\s*$/.test(C)||(e=e.filter(v=>(v.key||v).startsWith(C.toUpperCase()))),e=e.map(v=>{let{title:f}=v;f?typeof f=="function"&&(f=f()):f=v;const u=ft("div",`${At}-item`).child(f).on("click.stop",()=>{this.itemClick(v),this.hide()});return v.label&&u.child(ft("div","label").html(v.label)),u}),this.filterItems=e,e.length<=0)return;const{el:m}=this;m.html("").children(...e).show(),bl(m.parent(),()=>{this.hide()})}bindInputEvents(C){C.on("keydown",e=>Hv.call(this,e))}}class ln extends ao{constructor(C){super("div",`${At}-icon`),this.iconNameEl=ft("div",`${At}-icon-img ${C}`),this.child(this.iconNameEl)}setName(C){this.iconNameEl.className(`${At}-icon-img ${C}`)}}function Pu(re,C){re.setMonth(re.getMonth()+C)}function $v(re,C){const e=new Date(re);return e.setDate(C-re.getDay()+1),e}function Wv(re,C,e){const m=new Date(re,C,1,23,59,59),v=[[],[],[],[],[],[]];for(let f=0;f<6;f+=1)for(let u=0;u<7;u+=1){const c=f*7+u,s=$v(m,c),t=s.getMonth()!==C,i=s.getMonth()===e.getMonth()&&s.getDate()===e.getDate();v[f][u]={d:s,disabled:t,active:i}}return v}class Vv{constructor(C){this.value=C,this.cvalue=new Date(C),this.headerLeftEl=ft("div","calendar-header-left"),this.bodyEl=ft("tbody",""),this.buildAll(),this.el=ft("div","x-spreadsheet-calendar").children(ft("div","calendar-header").children(this.headerLeftEl,ft("div","calendar-header-right").children(ft("a","calendar-prev").on("click.stop",()=>this.prev()).child(new ln("chevron-left")),ft("a","calendar-next").on("click.stop",()=>this.next()).child(new ln("chevron-right")))),ft("table","calendar-body").children(ft("thead","").child(ft("tr","").children(...Li("calendar.weeks").map(e=>ft("th","cell").child(e)))),this.bodyEl)),this.selectChange=()=>{}}setValue(C){this.value=C,this.cvalue=new Date(C),this.buildAll()}prev(){const{value:C}=this;Pu(C,-1),this.buildAll()}next(){const{value:C}=this;Pu(C,1),this.buildAll()}buildAll(){this.buildHeaderLeft(),this.buildBody()}buildHeaderLeft(){const{value:C}=this;this.headerLeftEl.html(`${Li("calendar.months")[C.getMonth()]} ${C.getFullYear()}`)}buildBody(){const{value:C,cvalue:e,bodyEl:m}=this,f=Wv(C.getFullYear(),C.getMonth(),e).map(u=>{const c=u.map(s=>{let t="cell";return s.disabled&&(t+=" disabled"),s.active&&(t+=" active"),ft("td","").child(ft("div",t).on("click.stop",()=>{this.selectChange(s.d)}).child(s.d.getDate().toString()))});return ft("tr","").children(...c)});m.html("").children(...f)}}class Xv{constructor(){this.calendar=new Vv(new Date),this.el=ft("div",`${At}-datepicker`).child(this.calendar.el).hide()}setValue(C){const{calendar:e}=this;return typeof C=="string"?/^\d{4}-\d{1,2}-\d{1,2}$/.test(C)&&e.setValue(new Date(C.replace(new RegExp("-","g"),"/"))):C instanceof Date&&e.setValue(C),this}change(C){this.calendar.selectChange=e=>{C(e),this.hide()}}show(){this.el.show()}hide(){this.el.hide()}}function Ih(){const{inputText:re}=this;if(!/^\s*$/.test(re)){const{textlineEl:C,textEl:e,areaOffset:m}=this,v=re.split(`
`),f=Math.max(...v.map(r=>r.length)),c=C.offset().width/re.length,s=(f+1)*c+5,t=this.viewFn().width-m.left-c;let i=v.length;if(s>m.width){let r=s;s>t&&(r=t,i+=parseInt(s/t,10),i+=s%t>0?1:0),e.css("width",`${r}px`)}i*=this.rowHeight,i>m.height&&e.css("height",`${i}px`)}}function Gv({target:re},C){const{value:e,selectionEnd:m}=re,v=`${e.slice(0,m)}${C}${e.slice(m)}`;re.value=v,re.setSelectionRange(m+1,m+1),this.inputText=v,this.textlineEl.html(v),Ih.call(this)}function Kv(re){const{keyCode:C,altKey:e}=re;C!==13&&C!==9&&re.stopPropagation(),C===13&&e&&(Gv.call(this,re,`
`),re.stopPropagation()),C===13&&!e&&re.preventDefault()}function Yv(re){const C=re.target.value,{suggest:e,textlineEl:m,validator:v}=this,{cell:f}=this;if(f!==null)if("editable"in f&&f.editable===!0||f.editable===void 0){if(this.inputText=C,v)v.type==="list"?e.search(C):e.hide();else{const u=C.lastIndexOf("=");u!==-1?e.search(C.substring(u+1)):e.hide()}m.html(C),Ih.call(this),this.change("input",C)}else re.target.value=f.text;else{if(this.inputText=C,v)v.type==="list"?e.search(C):e.hide();else{const u=C.lastIndexOf("=");u!==-1?e.search(C.substring(u+1)):e.hide()}m.html(C),Ih.call(this),this.change("input",C)}}function Zv(re){const{el:C}=this.textEl;setTimeout(()=>{C.focus(),C.setSelectionRange(re,re)},0)}function pd(re,C){const{textEl:e,textlineEl:m}=this;e.el.blur(),e.val(re),m.html(re),Zv.call(this,C)}function Qv(re){const{inputText:C,validator:e}=this;let m=0;if(e&&e.type==="list")this.inputText=re,m=this.inputText.length;else{const v=C.lastIndexOf("="),f=C.substring(0,v+1);let u=C.substring(v+1);u.indexOf(")")!==-1?u=u.substring(u.indexOf(")")):u="",this.inputText=`${f+re.key}(`,m=this.inputText.length,this.inputText+=`)${u}`}pd.call(this,this.inputText,m)}function Jv(){this.suggest.setItems(this.formulas)}function qv(re){let C=re.getMonth()+1,e=re.getDate();return C<10&&(C=`0${C}`),e<10&&(e=`0${e}`),`${re.getFullYear()}-${C}-${e}`}class eb{constructor(C,e,m){this.viewFn=e,this.rowHeight=m,this.formulas=C,this.suggest=new dd(C,v=>{Qv.call(this,v)}),this.datepicker=new Xv,this.datepicker.change(v=>{this.setText(qv(v)),this.clear()}),this.areaEl=ft("div",`${At}-editor-area`).children(this.textEl=ft("textarea","").on("input",v=>Yv.call(this,v)).on("paste.stop",()=>{}).on("keydown",v=>Kv.call(this,v)),this.textlineEl=ft("div","textline"),this.suggest.el,this.datepicker.el).on("mousemove.stop",()=>{}).on("mousedown.stop",()=>{}),this.el=ft("div",`${At}-editor`).child(this.areaEl).hide(),this.suggest.bindInputEvents(this.textEl),this.areaOffset=null,this.freeze={w:0,h:0},this.cell=null,this.inputText="",this.change=()=>{}}setFreezeLengths(C,e){this.freeze.w=C,this.freeze.h=e}clear(){this.inputText!==""&&this.change("finished",this.inputText),this.cell=null,this.areaOffset=null,this.inputText="",this.el.hide(),this.textEl.val(""),this.textlineEl.html(""),Jv.call(this),this.datepicker.hide()}setOffset(C,e="top"){const{textEl:m,areaEl:v,suggest:f,freeze:u,el:c}=this;if(C){this.areaOffset=C;const{left:s,top:t,width:i,height:r,l:n,t:l}=C,d={left:0,top:0};u.w>n&&u.h>l||(u.w<n&&u.h<l?(d.left=u.w,d.top=u.h):u.w>n?d.top=u.h:u.h>l&&(d.left=u.w)),c.offset(d),v.offset({left:s-d.left-.8,top:t-d.top-.8}),m.offset({width:i-9+.8,height:r-3+.8});const o={left:0};o[e]=r,f.setOffset(o),f.hide()}}setCell(C,e){const{el:m,datepicker:v,suggest:f}=this;m.show(),this.cell=C;const u=C&&C.text||"";if(this.setText(u),this.validator=e,e){const{type:c}=e;c==="date"&&(v.show(),/^\s*$/.test(u)||v.setValue(u)),c==="list"&&(f.setItems(e.values()),f.search(""))}}setText(C){this.inputText=C,pd.call(this,C,C.length),Ih.call(this)}}class no extends ao{constructor(C,e=""){super("div",`${At}-button ${e}`),this.child(Li(`button.${C}`))}}function Mh(){return window.devicePixelRatio||1}function af(){return Mh()-.5}function Tr(re){return parseInt(re*Mh(),10)}function Po(re){const C=Tr(re);return C>0?C-.5:.5}class tb{constructor(C,e,m,v,f=0){this.x=C,this.y=e,this.width=m,this.height=v,this.padding=f,this.bgcolor="#ffffff",this.borderTop=null,this.borderRight=null,this.borderBottom=null,this.borderLeft=null}setBorders({top:C,bottom:e,left:m,right:v}){C&&(this.borderTop=C),v&&(this.borderRight=v),e&&(this.borderBottom=e),m&&(this.borderLeft=m)}innerWidth(){return this.width-this.padding*2-2}innerHeight(){return this.height-this.padding*2-2}textx(C){const{width:e,padding:m}=this;let{x:v}=this;return C==="left"?v+=m:C==="center"?v+=e/2:C==="right"&&(v+=e-m),v}texty(C,e){const{height:m,padding:v}=this;let{y:f}=this;return C==="top"?f+=v:C==="middle"?f+=m/2-e/2:C==="bottom"&&(f+=m-v-e),f}topxys(){const{x:C,y:e,width:m}=this;return[[C,e],[C+m,e]]}rightxys(){const{x:C,y:e,width:m,height:v}=this;return[[C+m,e],[C+m,e+v]]}bottomxys(){const{x:C,y:e,width:m,height:v}=this;return[[C,e+v],[C+m,e+v]]}leftxys(){const{x:C,y:e,height:m}=this;return[[C,e],[C,e+m]]}}function Du(re,C,e,m,v,f,u){const c={x:0,y:0};re==="underline"?v==="bottom"?c.y=0:v==="top"?c.y=-(f+2):c.y=-f/2:re==="strike"&&(v==="bottom"?c.y=f/2:v==="top"&&(c.y=-(f/2+2))),m==="center"?c.x=u/2:m==="right"&&(c.x=u),this.line([C-c.x,e-c.y],[C-c.x+u,e-c.y])}class md{constructor(C,e,m){this.el=C,this.ctx=C.getContext("2d"),this.resize(e,m),this.ctx.scale(Mh(),Mh())}resize(C,e){this.el.style.width=`${C}px`,this.el.style.height=`${e}px`,this.el.width=Tr(C),this.el.height=Tr(e)}clear(){const{width:C,height:e}=this.el;return this.ctx.clearRect(0,0,C,e),this}attr(C){return Object.assign(this.ctx,C),this}save(){return this.ctx.save(),this.ctx.beginPath(),this}restore(){return this.ctx.restore(),this}beginPath(){return this.ctx.beginPath(),this}translate(C,e){return this.ctx.translate(Tr(C),Tr(e)),this}scale(C,e){return this.ctx.scale(C,e),this}clearRect(C,e,m,v){return this.ctx.clearRect(C,e,m,v),this}fillRect(C,e,m,v){return this.ctx.fillRect(Tr(C)-.5,Tr(e)-.5,Tr(m),Tr(v)),this}fillText(C,e,m){return this.ctx.fillText(C,Tr(e),Tr(m)),this}text(C,e,m={},v=!0){const{ctx:f}=this,{align:u,valign:c,font:s,color:t,strike:i,underline:r}=m,n=e.textx(u);f.save(),f.beginPath(),this.attr({textAlign:u,textBaseline:c,font:`${s.italic?"italic":""} ${s.bold?"bold":""} ${Tr(s.size)}px ${s.name}`,fillStyle:t,strokeStyle:t});const l=`${C}`.split(`
`),d=e.innerWidth(),o=[];l.forEach(p=>{const E=f.measureText(p).width;if(v&&E>Tr(d)){let T={w:0,len:0,start:0};for(let S=0;S<p.length;S+=1)T.w>=Tr(d)&&(o.push(p.substr(T.start,T.len)),T={w:0,len:0,start:S}),T.len+=1,T.w+=f.measureText(p[S]).width+1;T.len>0&&o.push(p.substr(T.start,T.len))}else o.push(p)});const g=(o.length-1)*(s.size+2);let y=e.texty(c,g);return o.forEach(p=>{const E=f.measureText(p).width;this.fillText(p,n,y),i&&Du.call(this,"strike",n,y,u,c,s.size,E),r&&Du.call(this,"underline",n,y,u,c,s.size,E),y+=s.size+2}),f.restore(),this}border(C,e){const{ctx:m}=this;return m.lineWidth=af,m.strokeStyle=e,C==="medium"?m.lineWidth=Tr(2)-.5:C==="thick"?m.lineWidth=Tr(3):C==="dashed"?m.setLineDash([Tr(3),Tr(2)]):C==="dotted"?m.setLineDash([Tr(1),Tr(1)]):C==="double"&&m.setLineDash([Tr(2),0]),this}line(...C){const{ctx:e}=this;if(C.length>1){e.beginPath();const[m,v]=C[0];e.moveTo(Po(m),Po(v));for(let f=1;f<C.length;f+=1){const[u,c]=C[f];e.lineTo(Po(u),Po(c))}e.stroke()}return this}strokeBorders(C){const{ctx:e}=this;e.save();const{borderTop:m,borderRight:v,borderBottom:f,borderLeft:u}=C;m&&(this.border(...m),this.line(...C.topxys())),v&&(this.border(...v),this.line(...C.rightxys())),f&&(this.border(...f),this.line(...C.bottomxys())),u&&(this.border(...u),this.line(...C.leftxys())),e.restore()}dropdown(C){const{ctx:e}=this,{x:m,y:v,width:f,height:u}=C,c=m+f-15,s=v+u-15;e.save(),e.beginPath(),e.moveTo(Tr(c),Tr(s)),e.lineTo(Tr(c+8),Tr(s)),e.lineTo(Tr(c+4),Tr(s+6)),e.closePath(),e.fillStyle="rgba(0, 0, 0, .45)",e.fill(),e.restore()}error(C){const{ctx:e}=this,{x:m,y:v,width:f}=C,u=m+f-1;e.save(),e.beginPath(),e.moveTo(Tr(u-8),Tr(v-1)),e.lineTo(Tr(u),Tr(v-1)),e.lineTo(Tr(u),Tr(v+8)),e.closePath(),e.fillStyle="rgba(255, 0, 0, .65)",e.fill(),e.restore()}frozen(C){const{ctx:e}=this,{x:m,y:v,width:f}=C,u=m+f-1;e.save(),e.beginPath(),e.moveTo(Tr(u-8),Tr(v-1)),e.lineTo(Tr(u),Tr(v-1)),e.lineTo(Tr(u),Tr(v+8)),e.closePath(),e.fillStyle="rgba(0, 255, 0, .85)",e.fill(),e.restore()}rect(C,e){const{ctx:m}=this,{x:v,y:f,width:u,height:c,bgcolor:s}=C;m.save(),m.beginPath(),m.fillStyle=s||"#fff",m.rect(Po(v+1),Po(f+1),Tr(u-2),Tr(c-2)),m.clip(),m.fill(),e(),m.restore()}}const Lu=[{key:"Arial",title:"Arial"},{key:"Helvetica",title:"Helvetica"},{key:"Source Sans Pro",title:"Source Sans Pro"},{key:"Comic Sans MS",title:"Comic Sans MS"},{key:"Courier New",title:"Courier New"},{key:"Verdana",title:"Verdana"},{key:"Lato",title:"Lato"}],Qc=[{pt:7.5,px:10},{pt:8,px:11},{pt:9,px:12},{pt:10,px:13},{pt:10.5,px:14},{pt:11,px:15},{pt:12,px:16},{pt:14,px:18.7},{pt:15,px:20},{pt:16,px:21.3},{pt:18,px:24},{pt:22,px:29.3},{pt:24,px:32},{pt:26,px:34.7},{pt:36,px:48},{pt:42,px:56}];function rb(re){for(let C=0;C<Qc.length;C+=1){const e=Qc[C];if(e.pt===re)return e.px}return re}const ib=re=>{const C=[],e=[];let m=[],v=0,f="",u=1,c="";for(let s=0;s<re.length;s+=1){const t=re.charAt(s);if(t!==" "){if(t>="a"&&t<="z")m.push(t.toUpperCase());else if(t>="0"&&t<="9"||t>="A"&&t<="Z"||t===".")m.push(t);else if(t==='"'){for(s+=1;re.charAt(s)!=='"';)m.push(re.charAt(s)),s+=1;e.push(`"${m.join("")}`),m=[]}else if(t==="-"&&/[+\-*/,(]/.test(c))m.push(t);else{if(t!=="("&&m.length>0&&e.push(m.join("")),t===")"){let i=C.pop();if(v===2)try{const[r,n]=Na(e.pop()),[l,d]=Na(e.pop());let o=0;for(let g=l;g<=r;g+=1)for(let y=d;y<=n;y+=1)e.push(aa(g,y)),o+=1;e.push([i,o])}catch{}else if(v===1||v===3)v===3&&e.push(f),e.push([i,u]),u=1;else for(;i!=="("&&(e.push(i),!(C.length<=0));)i=C.pop();v=0}else if(t==="="||t===">"||t==="<"){const i=re.charAt(s+1);f=t,(i==="="||i==="-")&&(f+=i,s+=1),v=3}else if(t===":")v=2;else if(t===",")v===3&&e.push(f),v=1,u+=1;else if(t==="("&&m.length>0)C.push(m.join(""));else{if(C.length>0&&(t==="+"||t==="-")){let i=C[C.length-1];if(i!=="("&&e.push(C.pop()),i==="*"||i==="/")for(;C.length>0&&(i=C[C.length-1],i!=="(");)e.push(C.pop())}else if(C.length>0){const i=C[C.length-1];(i==="*"||i==="/")&&e.push(C.pop())}C.push(t)}m=[]}c=t}}for(m.length>0&&e.push(m.join(""));C.length>0;)e.push(C.pop());return e},nb=(re,C)=>{const[e]=re;let m=re;if(e==='"')return re.substring(1);let v=1;if(e==="-"&&(m=re.substring(1),v=-1),m[0]>="0"&&m[0]<="9")return v*Number(m);const[f,u]=Na(m);return v*C(f,u)},sb=(re,C,e,m)=>{const v=[];for(let f=0;f<re.length;f+=1){const u=re[f],c=u[0];if(u==="+"){const s=v.pop();v.push(io("+",v.pop(),s))}else if(u==="-")if(v.length===1){const s=v.pop();v.push(io("*",s,-1))}else{const s=v.pop();v.push(io("-",v.pop(),s))}else if(u==="*")v.push(io("*",v.pop(),v.pop()));else if(u==="/"){const s=v.pop();v.push(io("/",v.pop(),s))}else if(c==="="||c===">"||c==="<"){let s=v.pop();Number.isNaN(s)||(s=Number(s));let t=v.pop();Number.isNaN(t)||(t=Number(t));let i=!1;c==="="?i=t===s:u===">"?i=t>s:u===">="?i=t>=s:u==="<"?i=t<s:u==="<="&&(i=t<=s),v.push(i)}else if(Array.isArray(u)){const[s,t]=u,i=[];for(let r=0;r<t;r+=1)i.push(v.pop());v.push(C[s].render(i.reverse()))}else{if(m.includes(u))return 0;(c>="a"&&c<="z"||c>="A"&&c<="Z")&&m.push(u),v.push(nb(u,e)),m.pop()}}return v[0]},gd=(re,C,e,m=[])=>{if(re[0]==="="){const v=ib(re.substring(1));return v.length<=0?re:sb(v,C,(f,u)=>gd(e(f,u),C,e,m),m)}return re},ab={render:gd},of=[{key:"SUM",title:jr("formula.sum"),render:re=>re.reduce((C,e)=>io("+",C,e),0)},{key:"AVERAGE",title:jr("formula.average"),render:re=>re.reduce((C,e)=>Number(C)+Number(e),0)/re.length},{key:"MAX",title:jr("formula.max"),render:re=>Math.max(...re.map(C=>Number(C)))},{key:"MIN",title:jr("formula.min"),render:re=>Math.min(...re.map(C=>Number(C)))},{key:"IF",title:jr("formula._if"),render:([re,C,e])=>re?C:e},{key:"AND",title:jr("formula.and"),render:re=>re.every(C=>C)},{key:"OR",title:jr("formula.or"),render:re=>re.some(C=>C)},{key:"CONCAT",title:jr("formula.concat"),render:re=>re.join("")}],ob=of,vd={};of.forEach(re=>{vd[re.key]=re});const Do=re=>re,mh=re=>{if(/^(-?\d*.?\d*)$/.test(re)){const C=Number(re).toFixed(2).toString(),[e,...m]=C.split("\\.");return[e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),...m]}return re},ml=[{key:"normal",title:jr("format.normal"),type:"string",render:Do},{key:"text",title:jr("format.text"),type:"string",render:Do},{key:"number",title:jr("format.number"),type:"number",label:"1,000.12",render:mh},{key:"percent",title:jr("format.percent"),type:"number",label:"10.12%",render:re=>`${re}%`},{key:"rmb",title:jr("format.rmb"),type:"number",label:"￥10.00",render:re=>`￥${mh(re)}`},{key:"usd",title:jr("format.usd"),type:"number",label:"$10.00",render:re=>`$${mh(re)}`},{key:"eur",title:jr("format.eur"),type:"number",label:"€10.00",render:re=>`€${mh(re)}`},{key:"date",title:jr("format.date"),type:"date",label:"26/09/2008",render:Do},{key:"time",title:jr("format.time"),type:"date",label:"15:59:00",render:Do},{key:"datetime",title:jr("format.datetime"),type:"date",label:"26/09/2008 15:59:00",render:Do},{key:"duration",title:jr("format.duration"),type:"date",label:"24:01:00",render:Do}],bd={};ml.forEach(re=>{bd[re.key]=re});const lb=5,hb={fillStyle:"#f4f5f8"},cb={fillStyle:"#fff",lineWidth:af,strokeStyle:"#e6e6e6"};function fb(){return{textAlign:"center",textBaseline:"middle",font:`500 ${Tr(12)}px Source Sans Pro`,fillStyle:"#585757",lineWidth:af(),strokeStyle:"#e6e6e6"}}function yd(re,C,e,m=0){const{left:v,top:f,width:u,height:c}=re.cellRect(C,e);return new tb(v,f+m,u,c,lb)}function Ph(re,C,e,m,v=0){const{sortedRowMap:f,rows:u,cols:c}=C;if(u.isHide(e)||c.isHide(m))return;let s=e;f.has(e)&&(s=f.get(e));const t=C.getCell(s,m);if(t===null)return;let i=!1;"editable"in t&&t.editable===!1&&(i=!0);const r=C.getCellStyleOrDefault(s,m),n=yd(C,e,m,v);n.bgcolor=r.bgcolor,r.border!==void 0&&(n.setBorders(r.border),re.strokeBorders(n)),re.rect(n,()=>{let l="";C.settings.evalPaused?l=t.text||"":l=ab.render(t.text||"",vd,(g,y)=>C.getCellTextOrDefault(y,g)),r.format&&(l=bd[r.format].render(l));const d=Object.assign({},r.font);d.size=rb(d.size),re.text(l,n,{align:r.align,valign:r.valign,font:d,color:r.color,strike:r.strike,underline:r.underline},r.textwrap),C.validations.getError(e,m)&&re.error(n),i&&re.frozen(n)})}function ub(re){const{data:C,draw:e}=this;if(re){const{autoFilter:m}=C;if(!m.active())return;const v=m.hrange();re.intersects(v)&&v.each((f,u)=>{const c=yd(C,f,u);e.dropdown(c)})}}function gh(re,C,e,m,v){const{draw:f,data:u}=this;f.save(),f.translate(C,e).translate(m,v);const{exceptRowSet:c}=u,s=r=>{const n=c.has(r);if(n){const l=u.rows.getHeight(r);f.translate(0,-l)}return!n},t=u.exceptRowTotalHeight(re.sri,re.eri);f.save(),f.translate(0,-t),re.each((r,n)=>{Ph(f,u,r,n)},r=>s(r)),f.restore();const i=new Set;f.save(),f.translate(0,-t),u.eachMergesInView(re,({sri:r,sci:n,eri:l})=>{if(!c.has(r))Ph(f,u,r,n);else if(!i.has(r)){i.add(r);const d=u.rows.sumHeight(r,l+1);f.translate(0,-d)}}),f.restore(),ub.call(this,re),f.restore()}function Ou(re,C,e,m){const{draw:v}=this;v.save(),v.attr({fillStyle:"rgba(75, 137, 255, 0.08)"}).fillRect(re,C,e,m),v.restore()}function vh(re,C,e,m,v,f){const{draw:u,data:c}=this,s=C.h,t=C.w,i=f+m,r=v+e;u.save(),u.attr(hb),(re==="all"||re==="left")&&u.fillRect(0,i,e,s),(re==="all"||re==="top")&&u.fillRect(r,0,t,m);const{sri:n,sci:l,eri:d,eci:o}=c.selector.range;u.attr(fb()),(re==="all"||re==="left")&&(c.rowEach(C.sri,C.eri,(g,y,p)=>{const E=i+y,T=g;u.line([0,E],[e,E]),n<=T&&T<d+1&&Ou.call(this,0,E,e,p),u.fillText(T+1,e/2,E+p/2),g>0&&c.rows.isHide(g-1)&&(u.save(),u.attr({strokeStyle:"#c6c6c6"}),u.line([5,E+5],[e-5,E+5]),u.restore())}),u.line([0,s+i],[e,s+i]),u.line([e,i],[e,s+i])),(re==="all"||re==="top")&&(c.colEach(C.sci,C.eci,(g,y,p)=>{const E=r+y,T=g;u.line([E,0],[E,m]),l<=T&&T<o+1&&Ou.call(this,E,0,p,m),u.fillText(id(T),E+p/2,m/2),g>0&&c.cols.isHide(g-1)&&(u.save(),u.attr({strokeStyle:"#c6c6c6"}),u.line([E+5,5],[E+5,m-5]),u.restore())}),u.line([t+r,0],[t+r,m]),u.line([0,m],[t+r,m])),u.restore()}function db(re,C){const{draw:e}=this;e.save(),e.attr({fillStyle:"#f4f5f8"}).fillRect(0,0,re,C),e.restore()}function bh({sri:re,sci:C,eri:e,eci:m,w:v,h:f},u,c,s,t){const{draw:i,data:r}=this,{settings:n}=r;if(i.save(),i.attr(cb).translate(u+s,c+t),!n.showGrid){i.restore();return}r.rowEach(re,e,(l,d,o)=>{l!==re&&i.line([0,d],[v,d]),l===e&&i.line([0,d+o],[v,d+o])}),r.colEach(C,m,(l,d,o)=>{l!==C&&i.line([d,0],[d,f]),l===m&&i.line([d+o,0],[d+o,f])}),i.restore()}function pb(re,C,e,m){const{draw:v,data:f}=this,u=f.viewWidth()-re,c=f.viewHeight()-C;v.save().translate(re,C).attr({strokeStyle:"rgba(75, 137, 255, .6)"}),v.line([0,m],[u,m]),v.line([e,0],[e,c]),v.restore()}class mb{constructor(C,e){this.el=C,this.draw=new md(C,e.viewWidth(),e.viewHeight()),this.data=e}resetData(C){this.data=C,this.render()}render(){const{data:C}=this,{rows:e,cols:m}=C,v=m.indexWidth,f=e.height;this.draw.resize(C.viewWidth(),C.viewHeight()),this.clear();const u=C.viewRange(),c=C.freezeTotalWidth(),s=C.freezeTotalHeight(),{x:t,y:i}=C.scroll;bh.call(this,u,v,f,c,s),gh.call(this,u,v,f,-t,-i),vh.call(this,"all",u,v,f,c,s),db.call(this,v,f);const[r,n]=C.freeze;if(r>0||n>0){if(r>0){const d=u.clone();d.sri=0,d.eri=r-1,d.h=s,bh.call(this,d,v,f,c,0),gh.call(this,d,v,f,-t,0),vh.call(this,"top",d,v,f,c,0)}if(n>0){const d=u.clone();d.sci=0,d.eci=n-1,d.w=c,bh.call(this,d,v,f,0,s),vh.call(this,"left",d,v,f,0,s),gh.call(this,d,v,f,0,-i)}const l=C.freezeViewRange();bh.call(this,l,v,f,0,0),vh.call(this,"all",l,v,f,0,0),gh.call(this,l,v,f,0,0),pb.call(this,v,f,c,s)}}clear(){this.draw.clear()}}const xh=[["A3",11.69,16.54],["A4",8.27,11.69],["A5",5.83,8.27],["B4",9.84,13.9],["B5",6.93,9.84]],Jc=["landscape","portrait"];function Dh(re){return parseInt(96*re,10)}function Nu(re){re==="cancel"?this.el.hide():this.toPrint()}function gb(re){const{paper:C}=this,{value:e}=re.target,m=xh[e];C.w=Dh(m[1]),C.h=Dh(m[2]),this.preview()}function vb(re){const{paper:C}=this,{value:e}=re.target,m=Jc[e];C.orientation=m,this.preview()}let bb=class{constructor(C){this.paper={w:Dh(xh[0][1]),h:Dh(xh[0][2]),padding:50,orientation:Jc[0],get width(){return this.orientation==="landscape"?this.h:this.w},get height(){return this.orientation==="landscape"?this.w:this.h}},this.data=C,this.el=ft("div",`${At}-print`).children(ft("div",`${At}-print-bar`).children(ft("div","-title").child("Print settings"),ft("div","-right").children(ft("div",`${At}-buttons`).children(new no("cancel").on("click",Nu.bind(this,"cancel")),new no("next","primary").on("click",Nu.bind(this,"next"))))),ft("div",`${At}-print-content`).children(this.contentEl=ft("div","-content"),ft("div","-sider").child(ft("form","").children(ft("fieldset","").children(ft("label","").child(`${Li("print.size")}`),ft("select","").children(...xh.map((e,m)=>ft("option","").attr("value",m).child(`${e[0]} ( ${e[1]}''x${e[2]}'' )`))).on("change",gb.bind(this))),ft("fieldset","").children(ft("label","").child(`${Li("print.orientation")}`),ft("select","").children(...Jc.map((e,m)=>ft("option","").attr("value",m).child(`${Li("print.orientations")[m]}`))).on("change",vb.bind(this))))))).hide()}resetData(C){this.data=C}preview(){const{data:C,paper:e}=this,{width:m,height:v,padding:f}=e,u=m-f*2,c=v-f*2,s=C.contentRange(),t=parseInt(s.h/c,10)+1,i=u/s.w;let r=f;const n=f;i>1&&(r+=(u-s.w)/2);let l=0,d=0;this.contentEl.html(""),this.canvases=[];const o={sri:0,sci:0,eri:0,eci:0};for(let g=0;g<t;g+=1){let y=0,p=0;const E=ft("div",`${At}-canvas-card`),T=ft("canvas",`${At}-canvas`);this.canvases.push(T.el);const S=new md(T.el,m,v);for(S.save(),S.translate(r,n),i<1&&S.scale(i,i);l<=s.eri;l+=1){const w=C.rows.getHeight(l);if(y+=w,y<c)for(let I=0;I<=s.eci;I+=1)Ph(S,C,l,I,d),o.eci=I;else{p=-(y-w);break}}o.eri=l,S.restore(),S.save(),S.translate(r,n),i<1&&S.scale(i,i);const x=d;C.eachMergesInView(o,({sri:w,sci:I})=>{Ph(S,C,w,I,x)}),S.restore(),o.sri=o.eri,o.sci=o.eci,d+=p,this.contentEl.child(ft("div",`${At}-canvas-card-wraper`).child(E.child(T)))}this.el.show()}toPrint(){this.el.hide();const{paper:C}=this,e=ft("iframe","").hide(),{el:m}=e;window.document.body.appendChild(m);const{contentWindow:v}=m,f=v.document,u=document.createElement("style");u.innerHTML=`
      @page { size: ${C.width}px ${C.height}px; };
      canvas {
        page-break-before: auto;        
        page-break-after: always;
        image-rendering: pixelated;
      };
    `,f.head.appendChild(u),this.canvases.forEach(c=>{const s=c.cloneNode(!1);s.getContext("2d").drawImage(c,0,0),f.body.appendChild(s)}),v.print()}};const yb=[{key:"copy",title:jr("contextmenu.copy"),label:"Ctrl+C"},{key:"cut",title:jr("contextmenu.cut"),label:"Ctrl+X"},{key:"paste",title:jr("contextmenu.paste"),label:"Ctrl+V"},{key:"paste-value",title:jr("contextmenu.pasteValue"),label:"Ctrl+Shift+V"},{key:"paste-format",title:jr("contextmenu.pasteFormat"),label:"Ctrl+Alt+V"},{key:"divider"},{key:"insert-row",title:jr("contextmenu.insertRow")},{key:"insert-column",title:jr("contextmenu.insertColumn")},{key:"divider"},{key:"delete-row",title:jr("contextmenu.deleteRow")},{key:"delete-column",title:jr("contextmenu.deleteColumn")},{key:"delete-cell-text",title:jr("contextmenu.deleteCellText")},{key:"hide",title:jr("contextmenu.hide")},{key:"divider"},{key:"validation",title:jr("contextmenu.validation")},{key:"divider"},{key:"cell-printable",title:jr("contextmenu.cellprintable")},{key:"cell-non-printable",title:jr("contextmenu.cellnonprintable")},{key:"divider"},{key:"cell-editable",title:jr("contextmenu.celleditable")},{key:"cell-non-editable",title:jr("contextmenu.cellnoneditable")}];function wb(re){return re.key==="divider"?ft("div",`${At}-item divider`):ft("div",`${At}-item`).on("click",()=>{this.itemClick(re.key),this.hide()}).children(re.title(),ft("div","label").child(re.label||""))}function _b(){return yb.map(re=>wb.call(this,re))}let Eb=class{constructor(C,e=!1){this.menuItems=_b.call(this),this.el=ft("div",`${At}-contextmenu`).children(...this.menuItems).hide(),this.viewFn=C,this.itemClick=()=>{},this.isHide=e,this.setMode("range")}setMode(C){const e=this.menuItems[12];C==="row-col"?e.show():e.hide()}hide(){const{el:C}=this;C.hide(),No(C)}setPosition(C,e){if(this.isHide)return;const{el:m}=this,{width:v}=m.show().offset(),f=this.viewFn(),u=f.height/2;let c=C;f.width-C<=v&&(c-=v),m.css("left",`${c}px`),e>u?m.css("bottom",`${f.height-e}px`).css("max-height",`${e}px`).css("top","auto"):m.css("top",`${e}px`).css("max-height",`${f.height-e}px`).css("bottom","auto"),bl(m)}};function Tb(re,C){if(C.classList.contains("active"))return;const{left:e,top:m,width:v,height:f}=C.getBoundingClientRect(),u=ft("div",`${At}-tooltip`).html(re).show();document.body.appendChild(u.el);const c=u.box();u.css("left",`${e+v/2-c.width/2}px`).css("top",`${m+f+2}px`),In(C,"mouseleave",()=>{document.body.contains(u.el)&&document.body.removeChild(u.el)}),In(C,"click",()=>{document.body.contains(u.el)&&document.body.removeChild(u.el)})}class lf{constructor(C,e,m){this.tip=Li(`toolbar.${C.replace(/-[a-z]/g,v=>v[1].toUpperCase())}`),e&&(this.tip+=` (${e})`),this.tag=C,this.shortcut=e,this.value=m,this.el=this.element(),this.change=()=>{}}element(){const{tip:C}=this;return ft("div",`${At}-toolbar-btn`).on("mouseenter",e=>{Tb(C,e.target)}).attr("data-tooltip",C)}setState(){}}class Is extends lf{dropdown(){}getValue(C){return C}element(){const{tag:C}=this;return this.dd=this.dropdown(),this.dd.change=e=>this.change(C,this.getValue(e)),super.element().child(this.dd)}setState(C){C&&(this.value=C,this.dd.setTitle(C))}}class Ms extends ao{constructor(C,e,m,v,...f){super("div",`${At}-dropdown ${v}`),this.title=C,this.change=()=>{},this.headerClick=()=>{},typeof C=="string"?this.title=ft("div",`${At}-dropdown-title`).child(C):m&&this.title.addClass("arrow-left"),this.contentEl=ft("div",`${At}-dropdown-content`).css("width",e).hide(),this.setContentChildren(...f),this.headerEl=ft("div",`${At}-dropdown-header`),this.headerEl.on("click",()=>{this.contentEl.css("display")!=="block"?this.show():this.hide()}).children(this.title,m?ft("div",`${At}-icon arrow-right`).child(ft("div",`${At}-icon-img arrow-down`)):""),this.children(this.headerEl,this.contentEl)}setContentChildren(...C){this.contentEl.html(""),C.length>0&&this.contentEl.children(...C)}setTitle(C){this.title.html(C),this.hide()}show(){const{contentEl:C}=this;C.show(),this.parent().active(),bl(this.parent(),()=>{this.hide()})}hide(){this.parent().active(!1),this.contentEl.hide(),No(this.parent())}}function Sb(re){return ft("div",`${At}-item`).child(new ln(re))}class wd extends Ms{constructor(C,e){const m=new ln(`align-${e}`),v=C.map(f=>Sb(`align-${f}`).on("click",()=>{this.setTitle(f),this.change(f)}));super(m,"auto",!0,"bottom-left",...v)}setTitle(C){this.title.setName(`align-${C}`),this.hide()}}class xb extends Is{constructor(C){super("align","",C)}dropdown(){const{value:C}=this;return new wd(["left","center","right"],C)}}class Ab extends Is{constructor(C){super("valign","",C)}dropdown(){const{value:C}=this;return new wd(["top","middle","bottom"],C)}}class oa extends lf{element(){const{tag:C}=this;return super.element().child(new ln(C)).on("click",()=>this.click())}click(){this.change(this.tag,this.toggle())}setState(C){this.el.active(C)}toggle(){return this.el.toggle()}active(){return this.el.hasClass("active")}}class Cb extends oa{constructor(){super("autofilter")}setState(){}}class kb extends oa{constructor(){super("font-bold","Ctrl+B")}}class Rb extends oa{constructor(){super("font-italic","Ctrl+I")}}class Ib extends oa{constructor(){super("strike","Ctrl+U")}}class Mb extends oa{constructor(){super("underline","Ctrl+U")}}const Pb=["#ffffff","#000100","#e7e5e6","#445569","#5b9cd6","#ed7d31","#a5a5a5","#ffc001","#4371c6","#71ae47"],Db=[["#f2f2f2","#7f7f7f","#d0cecf","#d5dce4","#deeaf6","#fce5d5","#ededed","#fff2cd","#d9e2f3","#e3efd9"],["#d8d8d8","#595959","#afabac","#adb8ca","#bdd7ee","#f7ccac","#dbdbdb","#ffe59a","#b3c6e7","#c5e0b3"],["#bfbfbf","#3f3f3f","#756f6f","#8596b0","#9cc2e6","#f4b184","#c9c9c9","#fed964","#8eaada","#a7d08c"],["#a5a5a5","#262626","#3a3839","#333f4f","#2e75b5","#c45a10","#7b7b7b","#bf8e01","#2f5596","#538136"],["#7f7f7f","#0c0c0c","#171516","#222a35","#1f4e7a","#843c0a","#525252","#7e6000","#203864","#365624"]],Lb=["#c00000","#fe0000","#fdc101","#ffff01","#93d051","#00b04e","#01b0f1","#0170c1","#012060","#7030a0"];function Uc(re){return ft("td","").child(ft("div",`${At}-color-palette-cell`).on("click.stop",()=>this.change(re)).css("background-color",re))}class Ob{constructor(){this.el=ft("div",`${At}-color-palette`),this.change=()=>{};const C=ft("table","").children(ft("tbody","").children(ft("tr",`${At}-theme-color-placeholders`).children(...Pb.map(e=>Uc.call(this,e))),...Db.map(e=>ft("tr",`${At}-theme-colors`).children(...e.map(m=>Uc.call(this,m)))),ft("tr",`${At}-standard-colors`).children(...Lb.map(e=>Uc.call(this,e)))));this.el.child(C)}}class hf extends Ms{constructor(C,e){const m=new ln(C).css("height","16px").css("border-bottom",`3px solid ${e}`),v=new Ob;v.change=f=>{this.setTitle(f),this.change(f)},super(m,"auto",!1,"bottom-left",v.el)}setTitle(C){this.title.css("border-color",C),this.hide()}}const Nb=[["thin",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" style="user-select: none;"></line></svg>'],["medium",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="2" style="user-select: none;"><line x1="0" y1="1.0" x2="50" y2="1.0" stroke-width="2" stroke="black" style="user-select: none;"></line></svg>'],["thick",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="3" style="user-select: none;"><line x1="0" y1="1.5" x2="50" y2="1.5" stroke-width="3" stroke="black" style="user-select: none;"></line></svg>'],["dashed",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="2" style="user-select: none;"></line></svg>'],["dotted",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="1" style="user-select: none;"></line></svg>']];class Bb extends Ms{constructor(C){const e=new ln("line-type");let m=0;const v=Nb.map((f,u)=>ft("div",`${At}-item state ${C===f[0]?"checked":""}`).on("click",()=>{v[m].toggle("checked"),v[u].toggle("checked"),m=u,this.hide(),this.change(f)}).child(ft("div",`${At}-line-type`).html(f[1])));super(e,"auto",!1,"bottom-left",...v)}}function Bu(...re){return ft("table","").child(ft("tbody","").children(...re))}function Fu(re){return ft("td","").child(ft("div",`${At}-border-palette-cell`).child(new ln(`border-${re}`)).on("click",()=>{this.mode=re;const{mode:C,style:e,color:m}=this;this.change({mode:C,style:e,color:m})}))}class Fb{constructor(){this.color="#000",this.style="thin",this.mode="all",this.change=()=>{},this.ddColor=new hf("line-color",this.color),this.ddColor.change=e=>{this.color=e},this.ddType=new Bb(this.style),this.ddType.change=([e])=>{this.style=e},this.el=ft("div",`${At}-border-palette`);const C=Bu(ft("tr","").children(ft("td",`${At}-border-palette-left`).child(Bu(ft("tr","").children(...["all","inside","horizontal","vertical","outside"].map(e=>Fu.call(this,e))),ft("tr","").children(...["left","top","right","bottom","none"].map(e=>Fu.call(this,e))))),ft("td",`${At}-border-palette-right`).children(ft("div",`${At}-toolbar-btn`).child(this.ddColor.el),ft("div",`${At}-toolbar-btn`).child(this.ddType.el))));this.el.child(C)}}class Ub extends Ms{constructor(){const C=new ln("border-all"),e=new Fb;e.change=m=>{this.change(m),this.hide()},super(C,"auto",!1,"bottom-left",e.el)}}class jb extends Is{constructor(){super("border")}dropdown(){return new Ub}}class Nh extends lf{element(){return super.element().child(new ln(this.tag)).on("click",()=>this.change(this.tag))}setState(C){this.el.disabled(C)}}class zb extends Nh{constructor(){super("clearformat")}}class Hb extends oa{constructor(){super("paintformat")}setState(){}}class $b extends Is{constructor(C){super("color",void 0,C)}dropdown(){const{tag:C,value:e}=this;return new hf(C,e)}}class Wb extends Is{constructor(C){super("bgcolor",void 0,C)}dropdown(){const{tag:C,value:e}=this;return new hf(C,e)}}class Vb extends Ms{constructor(){const C=Qc.map(e=>ft("div",`${At}-item`).on("click",()=>{this.setTitle(`${e.pt}`),this.change(e)}).child(`${e.pt}`));super("10","60px",!0,"bottom-left",...C)}}let Xb=class extends Is{constructor(){super("font-size")}getValue(C){return C.pt}dropdown(){return new Vb}};class Gb extends Ms{constructor(){const C=Lu.map(e=>ft("div",`${At}-item`).on("click",()=>{this.setTitle(e.title),this.change(e)}).child(e.title));super(Lu[0].title,"160px",!0,"bottom-left",...C)}}class Kb extends Is{constructor(){super("font-name")}getValue(C){return C.key}dropdown(){return new Gb}}class Yb extends Ms{constructor(){let C=ml.slice(0);C.splice(2,0,{key:"divider"}),C.splice(8,0,{key:"divider"}),C=C.map(e=>{const m=ft("div",`${At}-item`);return e.key==="divider"?m.addClass("divider"):(m.child(e.title()).on("click",()=>{this.setTitle(e.title()),this.change(e)}),e.label&&m.child(ft("div","label").html(e.label))),m}),super("Normal","220px",!0,"bottom-left",...C)}setTitle(C){for(let e=0;e<ml.length;e+=1)ml[e].key===C&&this.title.html(ml[e].title());this.hide()}}let Zb=class extends Is{constructor(){super("format")}getValue(C){return C.key}dropdown(){return new Yb}};class Qb extends Ms{constructor(){const C=of.map(e=>ft("div",`${At}-item`).on("click",()=>{this.hide(),this.change(e)}).child(e.key));super(new ln("formula"),"180px",!0,"bottom-left",...C)}}class Jb extends Is{constructor(){super("formula")}getValue(C){return C.key}dropdown(){return new Qb}}class qb extends oa{constructor(){super("freeze")}}class e1 extends oa{constructor(){super("merge")}setState(C,e){this.el.active(C).disabled(e)}}class t1 extends Nh{constructor(){super("redo","Ctrl+Y")}}class r1 extends Nh{constructor(){super("undo","Ctrl+Z")}}class i1 extends Nh{constructor(){super("print","Ctrl+P")}}class n1 extends oa{constructor(){super("textwrap")}}let s1=class extends Ms{constructor(){const C=new ln("ellipsis"),e=ft("div",`${At}-toolbar-more`);super(C,"auto",!1,"bottom-right",e),this.moreBtns=e,this.contentEl.css("max-width","420px")}};class a1 extends Is{constructor(){super("more"),this.el.hide()}dropdown(){return new s1}show(){this.el.show()}hide(){this.el.hide()}}function Lo(){return ft("div",`${At}-toolbar-divider`)}function o1(){this.btns2=[],this.items.forEach(re=>{if(Array.isArray(re))re.forEach(({el:C})=>{const e=C.box(),{marginLeft:m,marginRight:v}=C.computedStyle();this.btns2.push([C,e.width+parseInt(m,10)+parseInt(v,10)])});else{const C=re.box(),{marginLeft:e,marginRight:m}=re.computedStyle();this.btns2.push([re,C.width+parseInt(e,10)+parseInt(m,10)])}})}function Uu(){const{el:re,btns:C,moreEl:e,btns2:m}=this,{moreBtns:v,contentEl:f}=e.dd;re.css("width",`${this.widthFn()-60}px`);const u=re.box();let c=160,s=12;const t=[],i=[];m.forEach(([r,n],l)=>{c+=n,l===m.length-1||c<u.width?t.push(r):(s+=n,i.push(r))}),C.html("").children(...t),v.html("").children(...i),f.css("width",`${s}px`),i.length>0?e.show():e.hide()}class l1{constructor(C,e,m=!1){this.data=C,this.change=()=>{},this.widthFn=e,this.isHide=m;const v=C.defaultStyle();this.items=[[this.undoEl=new r1,this.redoEl=new t1,new i1,this.paintformatEl=new Hb,this.clearformatEl=new zb],Lo(),[this.formatEl=new Zb],Lo(),[this.fontEl=new Kb,this.fontSizeEl=new Xb],Lo(),[this.boldEl=new kb,this.italicEl=new Rb,this.underlineEl=new Mb,this.strikeEl=new Ib,this.textColorEl=new $b(v.color)],Lo(),[this.fillColorEl=new Wb(v.bgcolor),this.borderEl=new jb,this.mergeEl=new e1],Lo(),[this.alignEl=new xb(v.align),this.valignEl=new Ab(v.valign),this.textwrapEl=new n1],Lo(),[this.freezeEl=new qb,this.autofilterEl=new Cb,this.formulaEl=new Jb,this.moreEl=new a1]],this.el=ft("div",`${At}-toolbar`),this.btns=ft("div",`${At}-toolbar-btns`),this.items.forEach(f=>{Array.isArray(f)?f.forEach(u=>{this.btns.child(u.el),u.change=(...c)=>{this.change(...c)}}):this.btns.child(f.el)}),this.el.child(this.btns),m?this.el.hide():(this.reset(),setTimeout(()=>{o1.call(this),Uu.call(this)},0),In(window,"resize",()=>{Uu.call(this)}))}paintformatActive(){return this.paintformatEl.active()}paintformatToggle(){this.paintformatEl.toggle()}trigger(C){this[`${C}El`].click()}resetData(C){this.data=C,this.reset()}reset(){if(this.isHide)return;const{data:C}=this,e=C.getSelectedCellStyle();this.undoEl.setState(!C.canUndo()),this.redoEl.setState(!C.canRedo()),this.mergeEl.setState(C.canUnmerge(),!C.selector.multiple()),this.autofilterEl.setState(!C.canAutofilter());const{font:m,format:v}=e;this.formatEl.setState(v),this.fontEl.setState(m.name),this.fontSizeEl.setState(m.size),this.boldEl.setState(m.bold),this.italicEl.setState(m.italic),this.underlineEl.setState(e.underline),this.strikeEl.setState(e.strike),this.textColorEl.setState(e.color),this.fillColorEl.setState(e.bgcolor),this.alignEl.setState(e.align),this.valignEl.setState(e.valign),this.textwrapEl.setState(e.textwrap),this.freezeEl.setState(C.freezeIsActive())}}class h1{constructor(C,e,m="600px"){this.title=C,this.el=ft("div",`${At}-modal`).css("width",m).children(ft("div",`${At}-modal-header`).children(new ln("close").on("click.stop",()=>this.hide()),this.title),ft("div",`${At}-modal-content`).children(...e)).hide()}show(){this.dimmer=ft("div",`${At}-dimmer active`),document.body.appendChild(this.dimmer.el);const{width:C,height:e}=this.el.show().box(),{clientHeight:m,clientWidth:v}=document.documentElement;this.el.offset({left:(v-C)/2,top:(m-e)/3}),window.xkeydownEsc=f=>{f.keyCode===27&&this.hide()},In(window,"keydown",window.xkeydownEsc)}hide(){this.el.hide(),document.body.removeChild(this.dimmer.el),Rh(window,"keydown",window.xkeydownEsc),delete window.xkeydownEsc}}class Oo{constructor(C,e){this.vchange=()=>{},this.el=ft("div",`${At}-form-input`),this.input=ft("input","").css("width",C).on("input",m=>this.vchange(m)).attr("placeholder",e),this.el.child(this.input)}focus(){setTimeout(()=>{this.input.el.focus()},10)}hint(C){this.input.attr("placeholder",C)}val(C){return this.input.val(C)}}class jc{constructor(C,e,m,v=u=>u,f=()=>{}){this.key=C,this.getTitle=v,this.vchange=()=>{},this.el=ft("div",`${At}-form-select`),this.suggest=new dd(e.map(u=>({key:u,title:this.getTitle(u)})),u=>{this.itemClick(u.key),f(u.key),this.vchange(u.key)},m,this.el),this.el.children(this.itemEl=ft("div","input-text").html(this.getTitle(C)),this.suggest.el).on("click",()=>this.show())}show(){this.suggest.search("")}itemClick(C){this.key=C,this.itemEl.html(this.getTitle(C))}val(C){return C!==void 0?(this.key=C,this.itemEl.html(this.getTitle(C)),this):this.key}}const c1={number:/(^\d+$)|(^\d+(\.\d{0,4})?$)/,date:/^\d{4}-\d{1,2}-\d{1,2}$/};class Ia{constructor(C,e,m,v){this.label="",this.rule=e,m&&(this.label=ft("label","label").css("width",`${v}px`).html(m)),this.tip=ft("div","tip").child("tip").hide(),this.input=C,this.input.vchange=()=>this.validate(),this.el=ft("div",`${At}-form-field`).children(this.label,C.el,this.tip)}isShow(){return this.el.css("display")!=="none"}show(){this.el.show()}hide(){return this.el.hide(),this}val(C){return this.input.val(C)}hint(C){this.input.hint(C)}validate(){const{input:C,rule:e,tip:m,el:v}=this,f=C.val();return e.required&&/^\s*$/.test(f)?(m.html(Li("validation.required")),v.addClass("error"),!1):(e.type||e.pattern)&&!(e.pattern||c1[e.type]).test(f)?(m.html(Li("validation.notMatch")),v.addClass("error"),!1):(v.removeClass("error"),!0)}}const ju=100;class f1 extends h1{constructor(){const C=new Ia(new jc("cell",["cell"],"100%",t=>Li(`dataValidation.modeType.${t}`)),{required:!0},`${Li("dataValidation.range")}:`,ju),e=new Ia(new Oo("120px","E3 or E3:F12"),{required:!0,pattern:/^([A-Z]{1,2}[1-9]\d*)(:[A-Z]{1,2}[1-9]\d*)?$/}),m=new Ia(new jc("list",["list","number","date","phone","email"],"100%",t=>Li(`dataValidation.type.${t}`),t=>this.criteriaSelected(t)),{required:!0},`${Li("dataValidation.criteria")}:`,ju),v=new Ia(new jc("be",["be","nbe","eq","neq","lt","lte","gt","gte"],"160px",t=>Li(`dataValidation.operator.${t}`),t=>this.criteriaOperatorSelected(t)),{required:!0}).hide(),f=new Ia(new Oo("70px","10"),{required:!0}).hide(),u=new Ia(new Oo("70px","100"),{required:!0,type:"number"}).hide(),c=new Ia(new Oo("120px","a,b,c"),{required:!0}),s=new Ia(new Oo("70px","10"),{required:!0,type:"number"}).hide();super(Li("contextmenu.validation"),[ft("div",`${At}-form-fields`).children(C.el,e.el),ft("div",`${At}-form-fields`).children(m.el,v.el,f.el,u.el,s.el,c.el),ft("div",`${At}-buttons`).children(new no("cancel").on("click",()=>this.btnClick("cancel")),new no("remove").on("click",()=>this.btnClick("remove")),new no("save","primary").on("click",()=>this.btnClick("save")))]),this.mf=C,this.rf=e,this.cf=m,this.of=v,this.minvf=f,this.maxvf=u,this.vf=s,this.svf=c,this.change=()=>{}}showVf(C){const e=C==="date"?"2018-11-12":"10",{vf:m}=this;m.input.hint(e),m.show()}criteriaSelected(C){const{of:e,minvf:m,maxvf:v,vf:f,svf:u}=this;C==="date"||C==="number"?(e.show(),m.rule.type=C,v.rule.type=C,C==="date"?(m.hint("2018-11-12"),v.hint("2019-11-12")):(m.hint("10"),v.hint("100")),m.show(),v.show(),f.hide(),u.hide()):(C==="list"?u.show():u.hide(),f.hide(),e.hide(),m.hide(),v.hide())}criteriaOperatorSelected(C){if(!C)return;const{minvf:e,maxvf:m,vf:v}=this;if(C==="be"||C==="nbe")e.show(),m.show(),v.hide();else{const f=this.cf.val();v.rule.type=f,f==="date"?v.hint("2018-11-12"):v.hint("10"),v.show(),e.hide(),m.hide()}}btnClick(C){if(C==="cancel")this.hide();else if(C==="remove")this.change("remove"),this.hide();else if(C==="save"){const e=["mf","rf","cf","of","svf","vf","minvf","maxvf"];for(let s=0;s<e.length;s+=1){const t=this[e[s]];if(t.isShow()&&!t.validate())return}const m=this.mf.val(),v=this.rf.val(),f=this.cf.val(),u=this.of.val();let c=this.svf.val();(f==="number"||f==="date")&&(u==="be"||u==="nbe"?c=[this.minvf.val(),this.maxvf.val()]:c=this.vf.val()),this.change("save",m,v,{type:f,operator:u,required:!1,value:c}),this.hide()}}setValue(C){if(C){const{mf:e,rf:m,cf:v,of:f,svf:u,vf:c,minvf:s,maxvf:t}=this,{mode:i,ref:r,validator:n}=C,{type:l,operator:d,value:o}=n||{type:"list"};e.val(i||"cell"),m.val(r),v.val(l),f.val(d),Array.isArray(o)?(s.val(o[0]),t.val(o[1])):(u.val(o||""),c.val(o||"")),this.criteriaSelected(l),this.criteriaOperatorSelected(d)}this.show()}}function _d(re){return ft("div",`${At}-item ${re}`)}function zu(re){return _d("state").child(Li(`sort.${re}`)).on("click.stop",()=>this.itemClick(re))}function u1(re){const{filterbEl:C,filterValues:e}=this;C.html(""),Object.keys(re).forEach((v,f)=>{const u=re[v],c=e.includes(v)?"checked":"";C.child(ft("div",`${At}-item state ${c}`).on("click.stop",()=>this.filterClick(f,v)).children(v===""?Li("filter.empty"):v,ft("div","label").html(`(${u})`)))})}function Hu(){const{filterhEl:re,filterValues:C,values:e}=this;re.html(`${C.length} / ${e.length}`),re.checked(C.length===e.length)}class d1{constructor(){this.filterbEl=ft("div",`${At}-body`),this.filterhEl=ft("div",`${At}-header state`).on("click.stop",()=>this.filterClick(0,"all")),this.el=ft("div",`${At}-sort-filter`).children(this.sortAscEl=zu.call(this,"asc"),this.sortDescEl=zu.call(this,"desc"),_d("divider"),ft("div",`${At}-filter`).children(this.filterhEl,this.filterbEl),ft("div",`${At}-buttons`).children(new no("cancel").on("click",()=>this.btnClick("cancel")),new no("ok","primary").on("click",()=>this.btnClick("ok")))).hide(),this.ci=null,this.sortDesc=null,this.values=null,this.filterValues=[]}btnClick(C){if(C==="ok"){const{ci:e,sort:m,filterValues:v}=this;this.ok&&this.ok(e,m,"in",v)}this.hide()}itemClick(C){this.sort=C;const{sortAscEl:e,sortDescEl:m}=this;e.checked(C==="asc"),m.checked(C==="desc")}filterClick(C,e){const{filterbEl:m,filterValues:v,values:f}=this,u=m.children();e==="all"?u.length===v.length?(this.filterValues=[],u.forEach(c=>ft(c).checked(!1))):(this.filterValues=Array.from(f),u.forEach(c=>ft(c).checked(!0))):ft(u[C]).toggle("checked")?v.push(e):v.splice(v.findIndex(s=>s===e),1),Hu.call(this)}set(C,e,m,v){this.ci=C;const{sortAscEl:f,sortDescEl:u}=this;v!==null?(this.sort=v.order,f.checked(v.asc()),u.checked(v.desc())):(this.sortDesc=null,f.checked(!1),u.checked(!1)),this.values=Object.keys(e),this.filterValues=m?Array.from(m.value):Object.keys(e),u1.call(this,e,m),Hu.call(this)}setOffset(C){this.el.offset(C).show();let e=1;bl(this.el,()=>{e<=0&&this.hide(),e-=1})}show(){this.el.show()}hide(){this.el.hide(),No(this.el)}}function Ed(re,C){const e=ft("div",`${At}-toast`),m=ft("div",`${At}-dimmer active`),v=()=>{document.body.removeChild(e.el),document.body.removeChild(m.el)};e.children(ft("div",`${At}-toast-header`).children(new ln("close").on("click.stop",()=>v()),re),ft("div",`${At}-toast-content`).html(C)),document.body.appendChild(e.el),document.body.appendChild(m.el);const{width:f,height:u}=e.box(),{clientHeight:c,clientWidth:s}=document.documentElement;e.offset({left:(s-f)/2,top:(c-u)/3})}function zc(re,C){let e;return(...m)=>{const v=this,f=m;e||(e=setTimeout(()=>{e=null,re.apply(v,f)},C))}}function p1(){const{data:re,verticalScrollbar:C,horizontalScrollbar:e}=this,{l:m,t:v,left:f,top:u,width:c,height:s}=re.getSelectedRect(),t=this.getTableOffset();if(Math.abs(f)+c>t.width)e.move({left:m+c-t.width});else{const i=re.freezeTotalWidth();f<i&&e.move({left:m-1-i})}if(Math.abs(u)+s>t.height)C.move({top:v+s-t.height-1});else{const i=re.freezeTotalHeight();u<i&&C.move({top:v-1-i})}}function so(re,C,e,m=!0,v=!1){if(C===-1&&e===-1)return;const{table:f,selector:u,toolbar:c,data:s,contextMenu:t}=this;t.setMode(C===-1||e===-1?"row-col":"range");const i=s.getCell(C,e);re?(u.setEnd(C,e,v),this.trigger("cells-selected",i,u.range)):(u.set(C,e,m),this.trigger("cell-selected",i,C,e)),c.reset(),f.render()}function Cs(re,C){const{selector:e,data:m}=this,{rows:v,cols:f}=m;let[u,c]=e.indexes;const{eri:s,eci:t}=e.range;re&&([u,c]=e.moveIndexes),C==="left"?c>0&&(c-=1):C==="right"?(t!==c&&(c=t),c<f.len-1&&(c+=1)):C==="up"?u>0&&(u-=1):C==="down"?(s!==u&&(u=s),u<v.len-1&&(u+=1)):C==="row-first"?c=0:C==="row-last"?c=f.len-1:C==="col-first"?u=0:C==="col-last"&&(u=v.len-1),re&&(e.moveIndexes=[u,c]),so.call(this,re,u,c),p1.call(this)}function m1(re){if(re.buttons!==0||re.target.className===`${At}-resizer-hover`)return;const{offsetX:C,offsetY:e}=re,{rowResizer:m,colResizer:v,tableEl:f,data:u}=this,{rows:c,cols:s}=u;if(C>s.indexWidth&&e>c.height){m.hide(),v.hide();return}const t=f.box(),i=u.getCellRectByXY(re.offsetX,re.offsetY);i.ri>=0&&i.ci===-1?(i.width=s.indexWidth,m.show(i,{width:t.width}),c.isHide(i.ri-1)?m.showUnhide(i.ri):m.hideUnhide()):m.hide(),i.ri===-1&&i.ci>=0?(i.height=c.height,v.show(i,{height:t.height}),s.isHide(i.ci-1)?v.showUnhide(i.ci):v.hideUnhide()):v.hide()}function g1(re){const{verticalScrollbar:C,horizontalScrollbar:e,data:m}=this,{top:v}=C.scroll(),{left:f}=e.scroll(),{rows:u,cols:c}=m,{deltaY:s,deltaX:t}=re,i=(g,y)=>{let p=g,E=0;do E=y(p),p+=1;while(E<=0);return E},r=g=>{if(g>0){const y=m.scroll.ri+1;if(y<u.len){const p=i(y,E=>u.getHeight(E));C.move({top:v+p-1})}}else{const y=m.scroll.ri-1;if(y>=0){const p=i(y,E=>u.getHeight(E));C.move({top:y===0?0:v-p})}}},n=g=>{if(g>0){const y=m.scroll.ci+1;if(y<c.len){const p=i(y,E=>c.getWidth(E));e.move({left:f+p-1})}}else{const y=m.scroll.ci-1;if(y>=0){const p=i(y,E=>c.getWidth(E));e.move({left:y===0?0:f-p})}}},l=Math.abs(s),d=Math.abs(t),o=Math.max(l,d);/Firefox/i.test(window.navigator.userAgent)&&zc(r(re.detail),50),o===d&&zc(n(t),50),o===l&&zc(r(s),50)}function v1(re,C){const{verticalScrollbar:e,horizontalScrollbar:m}=this,{top:v}=e.scroll(),{left:f}=m.scroll();re==="left"||re==="right"?m.move({left:f-C}):(re==="up"||re==="down")&&e.move({top:v-C})}function cf(){const{data:re,verticalScrollbar:C}=this,{height:e}=this.getTableOffset(),m=re.exceptRowTotalHeight(0,-1);C.set(e,re.rows.totalHeight()-m)}function ff(){const{data:re,horizontalScrollbar:C}=this,{width:e}=this.getTableOffset();re&&C.set(e,re.cols.totalWidth())}function b1(){const{selector:re,data:C,editor:e}=this,[m,v]=C.freeze;if(m>0||v>0){const f=C.freezeTotalWidth(),u=C.freezeTotalHeight();e.setFreezeLengths(f,u)}re.resetAreaOffset()}function Rn(){const{tableEl:re,overlayerEl:C,overlayerCEl:e,table:m,toolbar:v,selector:f,el:u}=this,c=this.getTableOffset(),s=this.getRect();re.attr(s),C.offset(s),e.offset(c),u.css("width",`${s.width}px`),cf.call(this),ff.call(this),b1.call(this),m.render(),v.reset(),f.reset()}function yl(){const{data:re,selector:C}=this;re.clearClipboard(),C.hideClipboard()}function qc(){const{data:re,selector:C}=this;re.copy(),re.copyToSystemClipboard(),C.showClipboard()}function $u(){const{data:re,selector:C}=this;re.cut(),C.showClipboard()}function gl(re,C){const{data:e}=this;if(e.settings.mode!=="read"){if(e.paste(re,m=>Ed("Tip",m)))Rn.call(this);else if(C){const m=C.clipboardData.getData("text/plain");this.data.pasteFromText(m),Rn.call(this)}}}function y1(){this.data.hideRowsOrCols(),Rn.call(this)}function Wu(re,C){this.data.unhideRowsOrCols(re,C),Rn.call(this)}function w1(){const{data:re}=this;re.autofilter(),Rn.call(this)}function _1(){const{toolbar:re}=this;re.paintformatActive()&&(gl.call(this,"format"),yl.call(this),re.paintformatToggle())}function Vu(re){const{selector:C,data:e,table:m,sortFilter:v}=this,{offsetX:f,offsetY:u}=re,c=re.target.className===`${At}-selector-corner`,s=e.getCellRectByXY(f,u),{left:t,top:i,width:r,height:n}=s;let{ri:l,ci:d}=s;const{autoFilter:o}=e;if(o.includes(l,d)&&t+r-20<f&&i+n-20<u){const g=o.items(d,(y,p)=>e.rows.getCell(y,p));v.hide(),v.set(d,g,o.getFilter(d),o.getSort(d)),v.setOffset({left:t,top:i+n+2});return}re.shiftKey||(c?C.showAutofill(l,d):so.call(this,!1,l,d),ld(window,g=>{({ri:l,ci:d}=e.getCellRectByXY(g.offsetX,g.offsetY)),c?C.showAutofill(l,d):g.buttons===1&&!g.shiftKey&&so.call(this,!0,l,d,!0,!0)},()=>{c&&C.arange&&e.settings.mode!=="read"&&e.autofill(C.arange,"all",g=>Ed("Tip",g))&&m.render(),C.hideAutofill(),_1.call(this)})),!c&&re.buttons===1&&re.shiftKey&&so.call(this,!0,l,d)}function wl(){const{editor:re,data:C}=this,e=C.getSelectedRect(),m=this.getTableOffset();let v="top";e.top>m.height/2&&(v="bottom"),re.setOffset(e,v)}function vl(){const{editor:re,data:C}=this;C.settings.mode!=="read"&&(wl.call(this),re.setCell(C.getSelectedCell(),C.getSelectedValidator()),yl.call(this))}function E1(re){const{data:C,table:e,selector:m}=this;C.scrolly(re,()=>{m.resetBRLAreaOffset(),wl.call(this),e.render()})}function T1(re){const{data:C,table:e,selector:m}=this;C.scrollx(re,()=>{m.resetBRTAreaOffset(),wl.call(this),e.render()})}function S1(re,C){const{ri:e}=re,{table:m,selector:v,data:f}=this;f.rows.setHeight(e,C),m.render(),v.resetAreaOffset(),cf.call(this),wl.call(this)}function x1(re,C){const{ci:e}=re,{table:m,selector:v,data:f}=this;f.cols.setWidth(e,C),m.render(),v.resetAreaOffset(),ff.call(this),wl.call(this)}function Hc(re,C="finished"){const{data:e,table:m}=this;if(e.settings.mode==="read")return;e.setSelectedCellText(re,C);const{ri:v,ci:f}=e.selector;C==="finished"?m.render():this.trigger("cell-edited",re,v,f)}function Ah(re){const{data:C}=this;C.settings.mode!=="read"&&(re==="insert-row"?C.insert("row"):re==="delete-row"?C.delete("row"):re==="insert-column"?C.insert("column"):re==="delete-column"?C.delete("column"):re==="delete-cell"?C.deleteCell():re==="delete-cell-format"?C.deleteCell("format"):re==="delete-cell-text"?C.deleteCell("text"):re==="cell-printable"?C.setSelectedCellAttr("printable",!0):re==="cell-non-printable"?C.setSelectedCellAttr("printable",!1):re==="cell-editable"?C.setSelectedCellAttr("editable",!0):re==="cell-non-editable"&&C.setSelectedCellAttr("editable",!1),yl.call(this),Rn.call(this))}function A1(re,C){const{data:e}=this;if(re==="undo")this.undo();else if(re==="redo")this.redo();else if(re==="print")this.print.preview();else if(re==="paintformat")C===!0?qc.call(this):yl.call(this);else if(re==="clearformat")Ah.call(this,"delete-cell-format");else if(re!=="link"){if(re!=="chart")if(re==="autofilter")w1.call(this);else if(re==="freeze")if(C){const{ri:m,ci:v}=e.selector;this.freeze(m,v)}else this.freeze(0,0);else e.setSelectedCellAttr(re,C),re==="formula"&&!e.selector.multiple()&&vl.call(this),Rn.call(this)}}function C1(re,C,e,m){this.data.setAutoFilter(re,C,e,m),Rn.call(this)}function k1(){const{selector:re,overlayerEl:C,rowResizer:e,colResizer:m,verticalScrollbar:v,horizontalScrollbar:f,editor:u,contextMenu:c,toolbar:s,modalValidation:t,sortFilter:i}=this;C.on("mousemove",r=>{m1.call(this,r)}).on("mousedown",r=>{u.clear(),c.hide(),r.buttons===2?(this.data.xyInSelectedRect(r.offsetX,r.offsetY)||Vu.call(this,r),c.setPosition(r.offsetX,r.offsetY),r.stopPropagation()):r.detail===2?vl.call(this):Vu.call(this,r)}).on("mousewheel.stop",r=>{g1.call(this,r)}).on("mouseout",r=>{const{offsetX:n,offsetY:l}=r;l<=0&&m.hide(),n<=0&&e.hide()}),re.inputChange=r=>{Hc.call(this,r,"input"),vl.call(this)},Ov(C.el,{move:(r,n)=>{v1.call(this,r,n)}}),s.change=(r,n)=>A1.call(this,r,n),i.ok=(r,n,l,d)=>C1.call(this,r,n,l,d),e.finishedFn=(r,n)=>{S1.call(this,r,n)},m.finishedFn=(r,n)=>{x1.call(this,r,n)},e.unhideFn=r=>{Wu.call(this,"row",r)},m.unhideFn=r=>{Wu.call(this,"col",r)},v.moveFn=(r,n)=>{E1.call(this,r,n)},f.moveFn=(r,n)=>{T1.call(this,r,n)},u.change=(r,n)=>{Hc.call(this,n,r)},t.change=(r,...n)=>{r==="save"?this.data.addValidation(...n):this.data.removeValidation()},c.itemClick=r=>{r==="validation"?t.setValue(this.data.getSelectedValidation()):r==="copy"?qc.call(this):r==="cut"?$u.call(this):r==="paste"?gl.call(this,"all"):r==="paste-value"?gl.call(this,"text"):r==="paste-format"?gl.call(this,"format"):r==="hide"?y1.call(this):Ah.call(this,r)},In(window,"resize",()=>{this.reload()}),In(window,"click",r=>{this.focusing=C.contains(r.target)}),In(window,"paste",r=>{this.focusing&&(gl.call(this,"all",r),r.preventDefault())}),In(window,"keydown",r=>{if(!this.focusing)return;const n=r.keyCode||r.which,{key:l,ctrlKey:d,shiftKey:o,metaKey:g}=r;if(d||g)switch(n){case 90:this.undo(),r.preventDefault();break;case 89:this.redo(),r.preventDefault();break;case 67:qc.call(this),r.preventDefault();break;case 88:$u.call(this),r.preventDefault();break;case 85:s.trigger("underline"),r.preventDefault();break;case 86:break;case 37:Cs.call(this,o,"row-first"),r.preventDefault();break;case 38:Cs.call(this,o,"col-first"),r.preventDefault();break;case 39:Cs.call(this,o,"row-last"),r.preventDefault();break;case 40:Cs.call(this,o,"col-last"),r.preventDefault();break;case 32:so.call(this,!1,-1,this.data.selector.ci,!1),r.preventDefault();break;case 66:s.trigger("bold");break;case 73:s.trigger("italic");break}else{switch(n){case 32:o&&so.call(this,!1,this.data.selector.ri,-1,!1);break;case 27:c.hide(),yl.call(this);break;case 37:Cs.call(this,o,"left"),r.preventDefault();break;case 38:Cs.call(this,o,"up"),r.preventDefault();break;case 39:Cs.call(this,o,"right"),r.preventDefault();break;case 40:Cs.call(this,o,"down"),r.preventDefault();break;case 9:u.clear(),Cs.call(this,!1,o?"left":"right"),r.preventDefault();break;case 13:u.clear(),Cs.call(this,!1,o?"up":"down"),r.preventDefault();break;case 8:Ah.call(this,"delete-cell-text"),r.preventDefault();break}l==="Delete"?(Ah.call(this,"delete-cell-text"),r.preventDefault()):n>=65&&n<=90||n>=48&&n<=57||n>=96&&n<=105||r.key==="="?(Hc.call(this,r.key,"input"),vl.call(this)):n===113&&vl.call(this)}})}class R1{constructor(C,e){this.eventMap=Nv();const{view:m,showToolbar:v,showContextmenu:f}=e.settings;this.el=ft("div",`${At}-sheet`),this.toolbar=new l1(e,m.width,!v),this.print=new bb(e),C.children(this.toolbar.el,this.el,this.print.el),this.data=e,this.tableEl=ft("canvas",`${At}-table`),this.rowResizer=new Cu(!1,e.rows.height),this.colResizer=new Cu(!0,e.cols.minWidth),this.verticalScrollbar=new ku(!0),this.horizontalScrollbar=new ku(!1),this.editor=new eb(ob,()=>this.getTableOffset(),e.rows.height),this.modalValidation=new f1,this.contextMenu=new Eb(()=>this.getRect(),!f),this.selector=new Uv(e),this.overlayerCEl=ft("div",`${At}-overlayer-content`).children(this.editor.el,this.selector.el),this.overlayerEl=ft("div",`${At}-overlayer`).child(this.overlayerCEl),this.sortFilter=new d1,this.el.children(this.tableEl,this.overlayerEl.el,this.rowResizer.el,this.colResizer.el,this.verticalScrollbar.el,this.horizontalScrollbar.el,this.contextMenu.el,this.modalValidation.el,this.sortFilter.el),this.table=new mb(this.tableEl.el,e),k1.call(this),Rn.call(this),so.call(this,!1,0,0)}on(C,e){return this.eventMap.on(C,e),this}trigger(C,...e){const{eventMap:m}=this;m.fire(C,e)}resetData(C){this.editor.clear(),this.data=C,cf.call(this),ff.call(this),this.toolbar.resetData(C),this.print.resetData(C),this.selector.resetData(C),this.table.resetData(C)}loadData(C){return this.data.setData(C),Rn.call(this),this}freeze(C,e){const{data:m}=this;return m.setFreeze(C,e),Rn.call(this),this}undo(){this.data.undo(),Rn.call(this)}redo(){this.data.redo(),Rn.call(this)}reload(){return Rn.call(this),this}getRect(){const{data:C}=this;return{width:C.viewWidth(),height:C.viewHeight()}}getTableOffset(){const{rows:C,cols:e}=this.data,{width:m,height:v}=this.getRect();return{width:m-e.indexWidth,height:v-C.height,left:e.indexWidth,top:C.height}}}class I1 extends Ms{constructor(C){const e=new ln("ellipsis");super(e,"auto",!1,"top-left"),this.contentClick=C}reset(C){const e=C.map((m,v)=>ft("div",`${At}-item`).css("width","150px").css("font-weight","normal").on("click",()=>{this.contentClick(v),this.hide()}).child(m));this.setContentChildren(...e)}setTitle(){}}const M1=[{key:"delete",title:jr("contextmenu.deleteSheet")}];function P1(re){return ft("div",`${At}-item`).child(re.title()).on("click",()=>{this.itemClick(re.key),this.hide()})}function D1(){return M1.map(re=>P1.call(this,re))}class L1{constructor(){this.el=ft("div",`${At}-contextmenu`).css("width","160px").children(...D1.call(this)).hide(),this.itemClick=()=>{}}hide(){const{el:C}=this;C.hide(),No(C)}setOffset(C){const{el:e}=this;e.offset(C),e.show(),bl(e)}}class O1{constructor(C=()=>{},e=()=>{},m=()=>{},v=()=>{}){this.swapFunc=e,this.updateFunc=v,this.dataNames=[],this.activeEl=null,this.deleteEl=null,this.items=[],this.moreEl=new I1(f=>{this.clickSwap2(this.items[f])}),this.contextMenu=new L1,this.contextMenu.itemClick=m,this.el=ft("div",`${At}-bottombar`).children(this.contextMenu.el,this.menuEl=ft("ul",`${At}-menu`).child(ft("li","").children(new ln("add").on("click",()=>{C()}),ft("span","").child(this.moreEl))))}addItem(C,e){this.dataNames.push(C);const m=ft("li",e?"active":"").child(C);m.on("click",()=>{this.clickSwap2(m)}).on("contextmenu",v=>{const{offsetLeft:f,offsetHeight:u}=v.target;this.contextMenu.setOffset({left:f,bottom:u+1}),this.deleteEl=m}).on("dblclick",()=>{const v=m.html(),f=new Oo("auto","");f.val(v),f.input.on("blur",({target:u})=>{const{value:c}=u,s=this.dataNames.findIndex(t=>t===v);this.renameItem(s,c)}),m.html("").child(f.el),f.focus()}),e&&this.clickSwap(m),this.items.push(m),this.menuEl.child(m),this.moreEl.reset(this.dataNames)}renameItem(C,e){this.dataNames.splice(C,1,e),this.moreEl.reset(this.dataNames),this.items[C].html("").child(e),this.updateFunc(C,e)}clear(){this.items.forEach(C=>{this.menuEl.removeChild(C.el)}),this.items=[],this.dataNames=[],this.moreEl.reset(this.dataNames)}deleteItem(){const{activeEl:C,deleteEl:e}=this;if(this.items.length>1){const m=this.items.findIndex(v=>v===e);if(this.items.splice(m,1),this.dataNames.splice(m,1),this.menuEl.removeChild(e.el),this.moreEl.reset(this.dataNames),C===e){const[v]=this.items;return this.activeEl=v,this.activeEl.toggle(),[m,0]}return[m,-1]}return[-1]}clickSwap2(C){const e=this.items.findIndex(m=>m===C);this.clickSwap(C),this.activeEl.toggle(),this.swapFunc(e)}clickSwap(C){this.activeEl!==null&&this.activeEl.toggle(),this.activeEl=C}}class N1{constructor(C,e={}){let m=C;this.options={showBottomBar:!0,...e},this.sheetIndex=1,this.datas=[],typeof C=="string"&&(m=document.querySelector(C)),this.bottombar=this.options.showBottomBar?new O1(()=>{const f=this.addSheet();this.sheet.resetData(f)},f=>{const u=this.datas[f];this.sheet.resetData(u)},()=>{this.deleteSheet()},(f,u)=>{this.datas[f].name=u}):null,this.data=this.addSheet();const v=ft("div",`${At}`).on("contextmenu",f=>f.preventDefault());m.appendChild(v.el),this.sheet=new R1(v,this.data),this.bottombar!==null&&v.child(this.bottombar.el)}addSheet(C,e=!0){const m=C||`sheet${this.sheetIndex}`,v=new Lv(m,this.options);return v.change=(...f)=>{this.sheet.trigger("change",...f)},this.datas.push(v),this.bottombar!==null&&this.bottombar.addItem(m,e),this.sheetIndex+=1,v}deleteSheet(){if(this.bottombar===null)return;const[C,e]=this.bottombar.deleteItem();C>=0&&(this.datas.splice(C,1),e>=0&&this.sheet.resetData(this.datas[e]))}loadData(C){const e=Array.isArray(C)?C:[C];if(this.bottombar!==null&&this.bottombar.clear(),this.datas=[],e.length>0)for(let m=0;m<e.length;m+=1){const v=e[m],f=this.addSheet(v.name,m===0);f.setData(v),m===0&&this.sheet.resetData(f)}return this}getData(){return this.datas.map(C=>C.getData())}cellText(C,e,m,v=0){return this.datas[v].setCellText(C,e,m,"finished"),this}cell(C,e,m=0){return this.datas[m].getCell(C,e)}cellStyle(C,e,m=0){return this.datas[m].getCellStyle(C,e)}reRender(){return this.sheet.table.render(),this}on(C,e){return this.sheet.on(C,e),this}validate(){const{validations:C}=this.data;return C.errors.size<=0}change(C){return this.sheet.on("change",C),this}static locale(C,e){ad(C,e)}}const B1=(re,C={})=>new N1(re,C);window&&(window.x_spreadsheet=B1,window.x_spreadsheet.locale=(re,C)=>ad(re,C));var Lh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Lh.exports;(function(re,C){(function(){var e,m="4.17.21",v=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",t=500,i="__lodash_placeholder__",r=1,n=2,l=4,d=1,o=2,g=1,y=2,p=4,E=8,T=16,S=32,x=64,w=128,I=256,D=512,V=30,ie="...",ee=800,te=16,Y=1,W=2,j=3,O=1/0,k=9007199254740991,B=17976931348623157e292,H=NaN,$=4294967295,K=$-1,z=$>>>1,F=[["ary",w],["bind",g],["bindKey",y],["curry",E],["curryRight",T],["flip",D],["partial",S],["partialRight",x],["rearg",I]],L="[object Arguments]",G="[object Array]",le="[object AsyncFunction]",ge="[object Boolean]",Ie="[object Date]",Oe="[object DOMException]",Ke="[object Error]",De="[object Function]",Te="[object GeneratorFunction]",Z="[object Map]",ue="[object Number]",Ee="[object Null]",_e="[object Object]",he="[object Promise]",de="[object Proxy]",ce="[object RegExp]",se="[object Set]",ne="[object String]",we="[object Symbol]",Ne="[object Undefined]",ae="[object WeakMap]",Pe="[object WeakSet]",ze="[object ArrayBuffer]",ve="[object DataView]",Ae="[object Float32Array]",Fe="[object Float64Array]",We="[object Int8Array]",Je="[object Int16Array]",Ge="[object Int32Array]",et="[object Uint8Array]",ut="[object Uint8ClampedArray]",at="[object Uint16Array]",Be="[object Uint32Array]",Qe=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ut=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&<>"']/g,Ct=RegExp(Ut.source),Nt=RegExp(jt.source),St=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$t=/^\w*$/,Sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pr=/[\\^$.*+?()[\]{}|]/g,Xt=RegExp(pr.source),hr=/^\s+/,Ir=/\s/,rr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wr=/\{\n\/\* \[wrapped with (.+)\] \*/,Or=/,? & /,qt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mr=/[()=,{}\[\]\/\s]/,fr=/\\(\\)?/g,tr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xr=/\w*$/,ur=/^[-+]0x[0-9a-f]+$/i,er=/^0b[01]+$/i,zr=/^\[object .+?Constructor\]$/,ar=/^0o[0-7]+$/i,ir=/^(?:0|[1-9]\d*)$/,Ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it=/($^)/,ot=/['\n\r\u2028\u2029\\]/g,Rt="\\ud800-\\udfff",zt="\\u0300-\\u036f",mr="\\ufe20-\\ufe2f",Xr="\\u20d0-\\u20ff",fi=zt+mr+Xr,pi="\\u2700-\\u27bf",oi="a-z\\xdf-\\xf6\\xf8-\\xff",ei="\\xac\\xb1\\xd7\\xf7",hn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ji="\\u2000-\\u206f",Kr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xi="A-Z\\xc0-\\xd6\\xd8-\\xde",Gi="\\ufe0e\\ufe0f",yi=ei+hn+Ji+Kr,Oi="['’]",Mi="["+Rt+"]",qi="["+yi+"]",gr="["+fi+"]",Ki="\\d+",ji="["+pi+"]",ds="["+oi+"]",rs="[^"+Rt+yi+Ki+pi+oi+Xi+"]",ps="\\ud83c[\\udffb-\\udfff]",la="(?:"+gr+"|"+ps+")",Ps="[^"+Rt+"]",en="(?:\\ud83c[\\udde6-\\uddff]){2}",Wn="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+Xi+"]",ha="\\u200d",Mn="(?:"+ds+"|"+rs+")",Vn="(?:"+tn+"|"+rs+")",rn="(?:"+Oi+"(?:d|ll|m|re|s|t|ve))?",ms="(?:"+Oi+"(?:D|LL|M|RE|S|T|VE))?",ca=la+"?",cn="["+Gi+"]?",Ds="(?:"+ha+"(?:"+[Ps,en,Wn].join("|")+")"+cn+ca+")*",gs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ba="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fa=cn+ca+Ds,ua="(?:"+[ji,en,Wn].join("|")+")"+fa,zi="(?:"+[Ps+gr+"?",gr,en,Wn,Mi].join("|")+")",vs=RegExp(Oi,"g"),da=RegExp(gr,"g"),fn=RegExp(ps+"(?="+ps+")|"+zi+fa,"g"),pa=RegExp([tn+"?"+ds+"+"+rn+"(?="+[qi,tn,"$"].join("|")+")",Vn+"+"+ms+"(?="+[qi,tn+Mn,"$"].join("|")+")",tn+"?"+Mn+"+"+rn,tn+"+"+ms,Ba,gs,Ki,ua].join("|"),"g"),nn=RegExp("["+ha+Rt+fi+Gi+"]"),un=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ls=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xn=-1,Ur={};Ur[Ae]=Ur[Fe]=Ur[We]=Ur[Je]=Ur[Ge]=Ur[et]=Ur[ut]=Ur[at]=Ur[Be]=!0,Ur[L]=Ur[G]=Ur[ze]=Ur[ge]=Ur[ve]=Ur[Ie]=Ur[Ke]=Ur[De]=Ur[Z]=Ur[ue]=Ur[_e]=Ur[ce]=Ur[se]=Ur[ne]=Ur[ae]=!1;var Pr={};Pr[L]=Pr[G]=Pr[ze]=Pr[ve]=Pr[ge]=Pr[Ie]=Pr[Ae]=Pr[Fe]=Pr[We]=Pr[Je]=Pr[Ge]=Pr[Z]=Pr[ue]=Pr[_e]=Pr[ce]=Pr[se]=Pr[ne]=Pr[we]=Pr[et]=Pr[ut]=Pr[at]=Pr[Be]=!0,Pr[Ke]=Pr[De]=Pr[ae]=!1;var Os={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},bs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ns={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,qe=parseInt,vt=typeof vr=="object"&&vr&&vr.Object===Object&&vr,Ot=typeof self=="object"&&self&&self.Object===Object&&self,nr=vt||Ot||Function("return this")(),Zt=C&&!C.nodeType&&C,Dr=Zt&&!0&&re&&!re.nodeType&&re,Nr=Dr&&Dr.exports===Zt,Yr=Nr&&vt.process,Ar=function(){try{var tt=Dr&&Dr.require&&Dr.require("util").types;return tt||Yr&&Yr.binding&&Yr.binding("util")}catch{}}(),wi=Ar&&Ar.isArrayBuffer,mi=Ar&&Ar.isDate,ii=Ar&&Ar.isMap,ni=Ar&&Ar.isRegExp,gi=Ar&&Ar.isSet,Ni=Ar&&Ar.isTypedArray;function ti(tt,pt,ct){switch(ct.length){case 0:return tt.call(pt);case 1:return tt.call(pt,ct[0]);case 2:return tt.call(pt,ct[0],ct[1]);case 3:return tt.call(pt,ct[0],ct[1],ct[2])}return tt.apply(pt,ct)}function Hi(tt,pt,ct,Ft){for(var dr=-1,Vr=tt==null?0:tt.length;++dr<Vr;){var Ti=tt[dr];pt(Ft,Ti,ct(Ti),tt)}return Ft}function ui(tt,pt){for(var ct=-1,Ft=tt==null?0:tt.length;++ct<Ft&&pt(tt[ct],ct,tt)!==!1;);return tt}function Pn(tt,pt){for(var ct=tt==null?0:tt.length;ct--&&pt(tt[ct],ct,tt)!==!1;);return tt}function bn(tt,pt){for(var ct=-1,Ft=tt==null?0:tt.length;++ct<Ft;)if(!pt(tt[ct],ct,tt))return!1;return!0}function Yi(tt,pt){for(var ct=-1,Ft=tt==null?0:tt.length,dr=0,Vr=[];++ct<Ft;){var Ti=tt[ct];pt(Ti,ct,tt)&&(Vr[dr++]=Ti)}return Vr}function ke(tt,pt){var ct=tt==null?0:tt.length;return!!ct&&qr(tt,pt,0)>-1}function Ve(tt,pt,ct){for(var Ft=-1,dr=tt==null?0:tt.length;++Ft<dr;)if(ct(pt,tt[Ft]))return!0;return!1}function st(tt,pt){for(var ct=-1,Ft=tt==null?0:tt.length,dr=Array(Ft);++ct<Ft;)dr[ct]=pt(tt[ct],ct,tt);return dr}function Et(tt,pt){for(var ct=-1,Ft=pt.length,dr=tt.length;++ct<Ft;)tt[dr+ct]=pt[ct];return tt}function Ht(tt,pt,ct,Ft){var dr=-1,Vr=tt==null?0:tt.length;for(Ft&&Vr&&(ct=tt[++dr]);++dr<Vr;)ct=pt(ct,tt[dr],dr,tt);return ct}function Bt(tt,pt,ct,Ft){var dr=tt==null?0:tt.length;for(Ft&&dr&&(ct=tt[--dr]);dr--;)ct=pt(ct,tt[dr],dr,tt);return ct}function br(tt,pt){for(var ct=-1,Ft=tt==null?0:tt.length;++ct<Ft;)if(pt(tt[ct],ct,tt))return!0;return!1}var Zr=dn("length");function cr(tt){return tt.split("")}function li(tt){return tt.match(qt)||[]}function _i(tt,pt,ct){var Ft;return ct(tt,function(dr,Vr,Ti){if(pt(dr,Vr,Ti))return Ft=Vr,!1}),Ft}function vi(tt,pt,ct,Ft){for(var dr=tt.length,Vr=ct+(Ft?1:-1);Ft?Vr--:++Vr<dr;)if(pt(tt[Vr],Vr,tt))return Vr;return-1}function qr(tt,pt,ct){return pt===pt?Tl(tt,pt,ct):vi(tt,$i,ct)}function sn(tt,pt,ct,Ft){for(var dr=ct-1,Vr=tt.length;++dr<Vr;)if(Ft(tt[dr],pt))return dr;return-1}function $i(tt){return tt!==tt}function Dn(tt,pt){var ct=tt==null?0:tt.length;return ct?Ei(tt,pt)/ct:H}function dn(tt){return function(pt){return pt==null?e:pt[tt]}}function Ln(tt){return function(pt){return tt==null?e:tt[pt]}}function Bs(tt,pt,ct,Ft,dr){return dr(tt,function(Vr,Ti,Er){ct=Ft?(Ft=!1,Vr):pt(ct,Vr,Ti,Er)}),ct}function ma(tt,pt){var ct=tt.length;for(tt.sort(pt);ct--;)tt[ct]=tt[ct].value;return tt}function Ei(tt,pt){for(var ct,Ft=-1,dr=tt.length;++Ft<dr;){var Vr=pt(tt[Ft]);Vr!==e&&(ct=ct===e?Vr:ct+Vr)}return ct}function _r(tt,pt){for(var ct=-1,Ft=Array(tt);++ct<tt;)Ft[ct]=pt(ct);return Ft}function Fo(tt,pt){return st(pt,function(ct){return[ct,tt[ct]]})}function Fs(tt){return tt&&tt.slice(0,xl(tt)+1).replace(hr,"")}function Pi(tt){return function(pt){return tt(pt)}}function Us(tt,pt){return st(pt,function(ct){return tt[ct]})}function pn(tt,pt){return tt.has(pt)}function Fa(tt,pt){for(var ct=-1,Ft=tt.length;++ct<Ft&&qr(pt,tt[ct],0)>-1;);return ct}function ga(tt,pt){for(var ct=tt.length;ct--&&qr(pt,tt[ct],0)>-1;);return ct}function va(tt,pt){for(var ct=tt.length,Ft=0;ct--;)tt[ct]===pt&&++Ft;return Ft}var Ua=Ln(Os),js=Ln(bs);function Uo(tt){return"\\"+Gn[tt]}function _l(tt,pt){return tt==null?e:tt[pt]}function Zi(tt){return nn.test(tt)}function El(tt){return un.test(tt)}function Bh(tt){for(var pt,ct=[];!(pt=tt.next()).done;)ct.push(pt.value);return ct}function oo(tt){var pt=-1,ct=Array(tt.size);return tt.forEach(function(Ft,dr){ct[++pt]=[dr,Ft]}),ct}function jo(tt,pt){return function(ct){return tt(pt(ct))}}function Kn(tt,pt){for(var ct=-1,Ft=tt.length,dr=0,Vr=[];++ct<Ft;){var Ti=tt[ct];(Ti===pt||Ti===i)&&(tt[ct]=i,Vr[dr++]=ct)}return Vr}function zs(tt){var pt=-1,ct=Array(tt.size);return tt.forEach(function(Ft){ct[++pt]=Ft}),ct}function Fh(tt){var pt=-1,ct=Array(tt.size);return tt.forEach(function(Ft){ct[++pt]=[Ft,Ft]}),ct}function Tl(tt,pt,ct){for(var Ft=ct-1,dr=tt.length;++Ft<dr;)if(tt[Ft]===pt)return Ft;return-1}function Sl(tt,pt,ct){for(var Ft=ct+1;Ft--;)if(tt[Ft]===pt)return Ft;return Ft}function Hs(tt){return Zi(tt)?lo(tt):Zr(tt)}function On(tt){return Zi(tt)?jh(tt):cr(tt)}function xl(tt){for(var pt=tt.length;pt--&&Ir.test(tt.charAt(pt)););return pt}var Uh=Ln(Ns);function lo(tt){for(var pt=fn.lastIndex=0;fn.test(tt);)++pt;return pt}function jh(tt){return tt.match(fn)||[]}function zh(tt){return tt.match(pa)||[]}var Hh=function tt(pt){pt=pt==null?nr:ba.defaults(nr.Object(),pt,ba.pick(nr,Ls));var ct=pt.Array,Ft=pt.Date,dr=pt.Error,Vr=pt.Function,Ti=pt.Math,Er=pt.Object,zo=pt.RegExp,ho=pt.String,an=pt.TypeError,co=ct.prototype,$h=Vr.prototype,Nn=Er.prototype,ys=pt["__core-js_shared__"],fo=$h.toString,Gr=Nn.hasOwnProperty,ws=0,Di=function(){var _=/[^.]+$/.exec(ys&&ys.keys&&ys.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),ya=Nn.toString,ja=fo.call(Er),uo=nr._,Ho=zo("^"+fo.call(Gr).replace(pr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wa=Nr?pt.Buffer:e,Si=pt.Symbol,za=pt.Uint8Array,$o=wa?wa.allocUnsafe:e,yn=jo(Er.getPrototypeOf,Er),Wo=Er.create,Al=Nn.propertyIsEnumerable,po=co.splice,Vo=Si?Si.isConcatSpreadable:e,$s=Si?Si.iterator:e,is=Si?Si.toStringTag:e,_a=function(){try{var _=qa(Er,"defineProperty");return _({},"",{}),_}catch{}}(),Ws=pt.clearTimeout!==nr.clearTimeout&&pt.clearTimeout,Wh=Ft&&Ft.now!==nr.Date.now&&Ft.now,Vh=pt.setTimeout!==nr.setTimeout&&pt.setTimeout,Ha=Ti.ceil,Vs=Ti.floor,$a=Er.getOwnPropertySymbols,Cl=wa?wa.isBuffer:e,Xo=pt.isFinite,Go=co.join,kl=jo(Er.keys,Er),xi=Ti.max,Wi=Ti.min,Ea=Ft.now,Xh=pt.parseInt,Rl=Ti.random,Il=co.reverse,Ko=qa(pt,"DataView"),Wa=qa(pt,"Map"),mo=qa(pt,"Promise"),Ta=qa(pt,"Set"),Va=qa(pt,"WeakMap"),Xa=qa(Er,"create"),go=Va&&new Va,_s={},Gh=eo(Ko),Ml=eo(Wa),Pl=eo(mo),Kh=eo(Ta),Dl=eo(Va),Ga=Si?Si.prototype:e,Bn=Ga?Ga.valueOf:e,Yn=Ga?Ga.toString:e;function Me(_){if(bi(_)&&!wr(_)&&!(_ instanceof Lr)){if(_ instanceof wn)return _;if(Gr.call(_,"__wrapped__"))return Nf(_)}return new wn(_)}var Sa=function(){function _(){}return function(P){if(!di(P))return{};if(Wo)return Wo(P);_.prototype=P;var J=new _;return _.prototype=e,J}}();function vo(){}function wn(_,P){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!P,this.__index__=0,this.__values__=e}Me.templateSettings={escape:St,evaluate:Mt,interpolate:Dt,variable:"",imports:{_:Me}},Me.prototype=vo.prototype,Me.prototype.constructor=Me,wn.prototype=Sa(vo.prototype),wn.prototype.constructor=wn;function Lr(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function Yh(){var _=new Lr(this.__wrapped__);return _.__actions__=Sn(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=Sn(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=Sn(this.__views__),_}function Xs(){if(this.__filtered__){var _=new Lr(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Ll(){var _=this.__wrapped__.value(),P=this.__dir__,J=wr(_),fe=P<0,xe=J?_.length:0,Le=Od(0,xe,this.__views__),Xe=Le.start,Ye=Le.end,nt=Ye-Xe,bt=fe?Ye:Xe-1,yt=this.__iteratees__,Tt=yt.length,Lt=0,Yt=Wi(nt,this.__takeCount__);if(!J||!fe&&xe==nt&&Yt==nt)return Ts(_,this.__actions__);var or=[];e:for(;nt--&&Lt<Yt;){bt+=P;for(var Rr=-1,lr=_[bt];++Rr<Tt;){var Br=yt[Rr],$r=Br.iteratee,Hn=Br.type,vn=$r(lr);if(Hn==W)lr=vn;else if(!vn){if(Hn==Y)continue e;break e}}or[Lt++]=lr}return or}Lr.prototype=Sa(vo.prototype),Lr.prototype.constructor=Lr;function Gs(_){var P=-1,J=_==null?0:_.length;for(this.clear();++P<J;){var fe=_[P];this.set(fe[0],fe[1])}}function Zh(){this.__data__=Xa?Xa(null):{},this.size=0}function Yo(_){var P=this.has(_)&&delete this.__data__[_];return this.size-=P?1:0,P}function Ol(_){var P=this.__data__;if(Xa){var J=P[_];return J===s?e:J}return Gr.call(P,_)?P[_]:e}function Nl(_){var P=this.__data__;return Xa?P[_]!==e:Gr.call(P,_)}function xa(_,P){var J=this.__data__;return this.size+=this.has(_)?0:1,J[_]=Xa&&P===e?s:P,this}Gs.prototype.clear=Zh,Gs.prototype.delete=Yo,Gs.prototype.get=Ol,Gs.prototype.has=Nl,Gs.prototype.set=xa;function Zn(_){var P=-1,J=_==null?0:_.length;for(this.clear();++P<J;){var fe=_[P];this.set(fe[0],fe[1])}}function bo(){this.__data__=[],this.size=0}function Zo(_){var P=this.__data__,J=Ca(P,_);if(J<0)return!1;var fe=P.length-1;return J==fe?P.pop():po.call(P,J,1),--this.size,!0}function Qh(_){var P=this.__data__,J=Ca(P,_);return J<0?e:P[J][1]}function Bl(_){return Ca(this.__data__,_)>-1}function Jh(_,P){var J=this.__data__,fe=Ca(J,_);return fe<0?(++this.size,J.push([_,P])):J[fe][1]=P,this}Zn.prototype.clear=bo,Zn.prototype.delete=Zo,Zn.prototype.get=Qh,Zn.prototype.has=Bl,Zn.prototype.set=Jh;function Qn(_){var P=-1,J=_==null?0:_.length;for(this.clear();++P<J;){var fe=_[P];this.set(fe[0],fe[1])}}function Qo(){this.size=0,this.__data__={hash:new Gs,map:new(Wa||Zn),string:new Gs}}function yo(_){var P=ih(this,_).delete(_);return this.size-=P?1:0,P}function qh(_){return ih(this,_).get(_)}function Fl(_){return ih(this,_).has(_)}function ec(_,P){var J=ih(this,_),fe=J.size;return J.set(_,P),this.size+=J.size==fe?0:1,this}Qn.prototype.clear=Qo,Qn.prototype.delete=yo,Qn.prototype.get=qh,Qn.prototype.has=Fl,Qn.prototype.set=ec;function Ks(_){var P=-1,J=_==null?0:_.length;for(this.__data__=new Qn;++P<J;)this.add(_[P])}function Jo(_){return this.__data__.set(_,s),this}function qo(_){return this.__data__.has(_)}Ks.prototype.add=Ks.prototype.push=Jo,Ks.prototype.has=qo;function mn(_){var P=this.__data__=new Zn(_);this.size=P.size}function tc(){this.__data__=new Zn,this.size=0}function el(_){var P=this.__data__,J=P.delete(_);return this.size=P.size,J}function Ul(_){return this.__data__.get(_)}function jl(_){return this.__data__.has(_)}function rc(_,P){var J=this.__data__;if(J instanceof Zn){var fe=J.__data__;if(!Wa||fe.length<v-1)return fe.push([_,P]),this.size=++J.size,this;J=this.__data__=new Qn(fe)}return J.set(_,P),this.size=J.size,this}mn.prototype.clear=tc,mn.prototype.delete=el,mn.prototype.get=Ul,mn.prototype.has=jl,mn.prototype.set=rc;function tl(_,P){var J=wr(_),fe=!J&&to(_),xe=!J&&!fe&&Ra(_),Le=!J&&!fe&&!xe&&Ro(_),Xe=J||fe||xe||Le,Ye=Xe?_r(_.length,ho):[],nt=Ye.length;for(var bt in _)(P||Gr.call(_,bt))&&!(Xe&&(bt=="length"||xe&&(bt=="offset"||bt=="parent")||Le&&(bt=="buffer"||bt=="byteLength"||bt=="byteOffset")||ta(bt,nt)))&&Ye.push(bt);return Ye}function wo(_){var P=_.length;return P?_[Gt(0,P-1)]:e}function zl(_,P){return nh(Sn(_),Es(P,0,_.length))}function Hl(_){return nh(Sn(_))}function Ka(_,P,J){(J!==e&&!ls(_[P],J)||J===e&&!(P in _))&&ns(_,P,J)}function Aa(_,P,J){var fe=_[P];(!(Gr.call(_,P)&&ls(fe,J))||J===e&&!(P in _))&&ns(_,P,J)}function Ca(_,P){for(var J=_.length;J--;)if(ls(_[J][0],P))return J;return-1}function ic(_,P,J,fe){return ss(_,function(xe,Le,Xe){P(fe,xe,J(xe),Xe)}),fe}function $l(_,P){return _&&xs(P,Vi(P),_)}function nc(_,P){return _&&xs(P,An(P),_)}function ns(_,P,J){P=="__proto__"&&_a?_a(_,P,{configurable:!0,enumerable:!0,value:J,writable:!0}):_[P]=J}function ka(_,P){for(var J=-1,fe=P.length,xe=ct(fe),Le=_==null;++J<fe;)xe[J]=Le?e:kc(_,P[J]);return xe}function Es(_,P,J){return _===_&&(J!==e&&(_=_<=J?_:J),P!==e&&(_=_>=P?_:P)),_}function si(_,P,J,fe,xe,Le){var Xe,Ye=P&r,nt=P&n,bt=P&l;if(J&&(Xe=xe?J(_,fe,xe,Le):J(_)),Xe!==e)return Xe;if(!di(_))return _;var yt=wr(_);if(yt){if(Xe=Bd(_),!Ye)return Sn(_,Xe)}else{var Tt=on(_),Lt=Tt==De||Tt==Te;if(Ra(_))return al(_,Ye);if(Tt==_e||Tt==L||Lt&&!xe){if(Xe=nt||Lt?{}:Cf(_),!Ye)return nt?Ad(_,nc(Xe,_)):xd(_,$l(Xe,_))}else{if(!Pr[Tt])return xe?_:{};Xe=Fd(_,Tt,Ye)}}Le||(Le=new mn);var Yt=Le.get(_);if(Yt)return Yt;Le.set(_,Xe),ru(_)?_.forEach(function(lr){Xe.add(si(lr,P,J,lr,_,Le))}):eu(_)&&_.forEach(function(lr,Br){Xe.set(Br,si(lr,P,J,Br,_,Le))});var or=bt?nt?pc:dc:nt?An:Vi,Rr=yt?e:or(_);return ui(Rr||_,function(lr,Br){Rr&&(Br=lr,lr=_[Br]),Aa(Xe,Br,si(lr,P,J,Br,_,Le))}),Xe}function sc(_){var P=Vi(_);return function(J){return Ya(J,_,P)}}function Ya(_,P,J){var fe=J.length;if(_==null)return!fe;for(_=Er(_);fe--;){var xe=J[fe],Le=P[xe],Xe=_[xe];if(Xe===e&&!(xe in _)||!Le(Xe))return!1}return!0}function _o(_,P,J){if(typeof _!="function")throw new an(u);return cl(function(){_.apply(e,J)},P)}function Ys(_,P,J,fe){var xe=-1,Le=ke,Xe=!0,Ye=_.length,nt=[],bt=P.length;if(!Ye)return nt;J&&(P=st(P,Pi(J))),fe?(Le=Ve,Xe=!1):P.length>=v&&(Le=pn,Xe=!1,P=new Ks(P));e:for(;++xe<Ye;){var yt=_[xe],Tt=J==null?yt:J(yt);if(yt=fe||yt!==0?yt:0,Xe&&Tt===Tt){for(var Lt=bt;Lt--;)if(P[Lt]===Tt)continue e;nt.push(yt)}else Le(P,Tt,fe)||nt.push(yt)}return nt}var ss=df(Fn),Wl=df(il,!0);function ac(_,P){var J=!0;return ss(_,function(fe,xe,Le){return J=!!P(fe,xe,Le),J}),J}function Eo(_,P,J){for(var fe=-1,xe=_.length;++fe<xe;){var Le=_[fe],Xe=P(Le);if(Xe!=null&&(Ye===e?Xe===Xe&&!zn(Xe):J(Xe,Ye)))var Ye=Xe,nt=Le}return nt}function Vl(_,P,J,fe){var xe=_.length;for(J=Cr(J),J<0&&(J=-J>xe?0:xe+J),fe=fe===e||fe>xe?xe:Cr(fe),fe<0&&(fe+=xe),fe=J>fe?0:nu(fe);J<fe;)_[J++]=P;return _}function rl(_,P){var J=[];return ss(_,function(fe,xe,Le){P(fe,xe,Le)&&J.push(fe)}),J}function Bi(_,P,J,fe,xe){var Le=-1,Xe=_.length;for(J||(J=jd),xe||(xe=[]);++Le<Xe;){var Ye=_[Le];P>0&&J(Ye)?P>1?Bi(Ye,P-1,J,fe,xe):Et(xe,Ye):fe||(xe[xe.length]=Ye)}return xe}var To=pf(),Xl=pf(!0);function Fn(_,P){return _&&To(_,P,Vi)}function il(_,P){return _&&Xl(_,P,Vi)}function So(_,P){return Yi(P,function(J){return ra(_[J])})}function Zs(_,P){P=Ss(P,_);for(var J=0,fe=P.length;_!=null&&J<fe;)_=_[As(P[J++])];return J&&J==fe?_:e}function Gl(_,P,J){var fe=P(_);return wr(_)?fe:Et(fe,J(_))}function Fi(_){return _==null?_===e?Ne:Ee:is&&is in Er(_)?Ld(_):Gd(_)}function nl(_,P){return _>P}function Kl(_,P){return _!=null&&Gr.call(_,P)}function N(_,P){return _!=null&&P in Er(_)}function R(_,P,J){return _>=Wi(P,J)&&_<xi(P,J)}function a(_,P,J){for(var fe=J?Ve:ke,xe=_[0].length,Le=_.length,Xe=Le,Ye=ct(Le),nt=1/0,bt=[];Xe--;){var yt=_[Xe];Xe&&P&&(yt=st(yt,Pi(P))),nt=Wi(yt.length,nt),Ye[Xe]=!J&&(P||xe>=120&&yt.length>=120)?new Ks(Xe&&yt):e}yt=_[0];var Tt=-1,Lt=Ye[0];e:for(;++Tt<xe&&bt.length<nt;){var Yt=yt[Tt],or=P?P(Yt):Yt;if(Yt=J||Yt!==0?Yt:0,!(Lt?pn(Lt,or):fe(bt,or,J))){for(Xe=Le;--Xe;){var Rr=Ye[Xe];if(!(Rr?pn(Rr,or):fe(_[Xe],or,J)))continue e}Lt&&Lt.push(or),bt.push(Yt)}}return bt}function h(_,P,J,fe){return Fn(_,function(xe,Le,Xe){P(fe,J(xe),Le,Xe)}),fe}function b(_,P,J){P=Ss(P,_),_=Mf(_,P);var fe=_==null?_:_[As(es(P))];return fe==null?e:ti(fe,_,J)}function A(_){return bi(_)&&Fi(_)==L}function M(_){return bi(_)&&Fi(_)==ze}function U(_){return bi(_)&&Fi(_)==Ie}function X(_,P,J,fe,xe){return _===P?!0:_==null||P==null||!bi(_)&&!bi(P)?_!==_&&P!==P:Q(_,P,J,fe,X,xe)}function Q(_,P,J,fe,xe,Le){var Xe=wr(_),Ye=wr(P),nt=Xe?G:on(_),bt=Ye?G:on(P);nt=nt==L?_e:nt,bt=bt==L?_e:bt;var yt=nt==_e,Tt=bt==_e,Lt=nt==bt;if(Lt&&Ra(_)){if(!Ra(P))return!1;Xe=!0,yt=!1}if(Lt&&!yt)return Le||(Le=new mn),Xe||Ro(_)?Sf(_,P,J,fe,xe,Le):Pd(_,P,nt,J,fe,xe,Le);if(!(J&d)){var Yt=yt&&Gr.call(_,"__wrapped__"),or=Tt&&Gr.call(P,"__wrapped__");if(Yt||or){var Rr=Yt?_.value():_,lr=or?P.value():P;return Le||(Le=new mn),xe(Rr,lr,J,fe,Le)}}return Lt?(Le||(Le=new mn),Dd(_,P,J,fe,xe,Le)):!1}function q(_){return bi(_)&&on(_)==Z}function oe(_,P,J,fe){var xe=J.length,Le=xe,Xe=!fe;if(_==null)return!Le;for(_=Er(_);xe--;){var Ye=J[xe];if(Xe&&Ye[2]?Ye[1]!==_[Ye[0]]:!(Ye[0]in _))return!1}for(;++xe<Le;){Ye=J[xe];var nt=Ye[0],bt=_[nt],yt=Ye[1];if(Xe&&Ye[2]){if(bt===e&&!(nt in _))return!1}else{var Tt=new mn;if(fe)var Lt=fe(bt,yt,nt,_,P,Tt);if(!(Lt===e?X(yt,bt,d|o,fe,Tt):Lt))return!1}}return!0}function pe(_){if(!di(_)||Hd(_))return!1;var P=ra(_)?Ho:zr;return P.test(eo(_))}function me(_){return bi(_)&&Fi(_)==ce}function be(_){return bi(_)&&on(_)==se}function Se(_){return bi(_)&&ch(_.length)&&!!Ur[Fi(_)]}function Re(_){return typeof _=="function"?_:_==null?Cn:typeof _=="object"?wr(_)?lt(_[0],_[1]):Ze(_):mu(_)}function ye(_){if(!hl(_))return kl(_);var P=[];for(var J in Er(_))Gr.call(_,J)&&J!="constructor"&&P.push(J);return P}function Ce(_){if(!di(_))return Xd(_);var P=hl(_),J=[];for(var fe in _)fe=="constructor"&&(P||!Gr.call(_,fe))||J.push(fe);return J}function $e(_,P){return _<P}function He(_,P){var J=-1,fe=xn(_)?ct(_.length):[];return ss(_,function(xe,Le,Xe){fe[++J]=P(xe,Le,Xe)}),fe}function Ze(_){var P=gc(_);return P.length==1&&P[0][2]?Rf(P[0][0],P[0][1]):function(J){return J===_||oe(J,_,P)}}function lt(_,P){return bc(_)&&kf(P)?Rf(As(_),P):function(J){var fe=kc(J,_);return fe===e&&fe===P?Rc(J,_):X(P,fe,d|o)}}function ht(_,P,J,fe,xe){_!==P&&To(P,function(Le,Xe){if(xe||(xe=new mn),di(Le))wt(_,P,Xe,J,ht,fe,xe);else{var Ye=fe?fe(wc(_,Xe),Le,Xe+"",_,P,xe):e;Ye===e&&(Ye=Le),Ka(_,Xe,Ye)}},An)}function wt(_,P,J,fe,xe,Le,Xe){var Ye=wc(_,J),nt=wc(P,J),bt=Xe.get(nt);if(bt){Ka(_,J,bt);return}var yt=Le?Le(Ye,nt,J+"",_,P,Xe):e,Tt=yt===e;if(Tt){var Lt=wr(nt),Yt=!Lt&&Ra(nt),or=!Lt&&!Yt&&Ro(nt);yt=nt,Lt||Yt||or?wr(Ye)?yt=Ye:ki(Ye)?yt=Sn(Ye):Yt?(Tt=!1,yt=al(nt,!0)):or?(Tt=!1,yt=Ja(nt,!0)):yt=[]:fl(nt)||to(nt)?(yt=Ye,to(Ye)?yt=su(Ye):(!di(Ye)||ra(Ye))&&(yt=Cf(nt))):Tt=!1}Tt&&(Xe.set(nt,yt),xe(yt,nt,fe,Le,Xe),Xe.delete(nt)),Ka(_,J,yt)}function dt(_,P){var J=_.length;if(J)return P+=P<0?J:0,ta(P,J)?_[P]:e}function gt(_,P,J){P.length?P=st(P,function(Le){return wr(Le)?function(Xe){return Zs(Xe,Le.length===1?Le[0]:Le)}:Le}):P=[Cn];var fe=-1;P=st(P,Pi(sr()));var xe=He(_,function(Le,Xe,Ye){var nt=st(P,function(bt){return bt(Le)});return{criteria:nt,index:++fe,value:Le}});return ma(xe,function(Le,Xe){return cc(Le,Xe,J)})}function Pt(_,P){return xt(_,P,function(J,fe){return Rc(_,fe)})}function xt(_,P,J){for(var fe=-1,xe=P.length,Le={};++fe<xe;){var Xe=P[fe],Ye=Zs(_,Xe);J(Ye,Xe)&&Hr(Le,Ss(Xe,_),Ye)}return Le}function Wt(_){return function(P){return Zs(P,_)}}function Qt(_,P,J,fe){var xe=fe?sn:qr,Le=-1,Xe=P.length,Ye=_;for(_===P&&(P=Sn(P)),J&&(Ye=st(_,Pi(J)));++Le<Xe;)for(var nt=0,bt=P[Le],yt=J?J(bt):bt;(nt=xe(Ye,yt,nt,fe))>-1;)Ye!==_&&po.call(Ye,nt,1),po.call(_,nt,1);return _}function Vt(_,P){for(var J=_?P.length:0,fe=J-1;J--;){var xe=P[J];if(J==fe||xe!==Le){var Le=xe;ta(xe)?po.call(_,xe,1):Qs(_,xe)}}return _}function Gt(_,P){return _+Vs(Rl()*(P-_+1))}function Jt(_,P,J,fe){for(var xe=-1,Le=xi(Ha((P-_)/(J||1)),0),Xe=ct(Le);Le--;)Xe[fe?Le:++xe]=_,_+=J;return Xe}function Kt(_,P){var J="";if(!_||P<1||P>k)return J;do P%2&&(J+=_),P=Vs(P/2),P&&(_+=_);while(P);return J}function kt(_,P){return _c(If(_,P,Cn),_+"")}function yr(_){return wo(Io(_))}function kr(_,P){var J=Io(_);return nh(J,Es(P,0,J.length))}function Hr(_,P,J,fe){if(!di(_))return _;P=Ss(P,_);for(var xe=-1,Le=P.length,Xe=Le-1,Ye=_;Ye!=null&&++xe<Le;){var nt=As(P[xe]),bt=J;if(nt==="__proto__"||nt==="constructor"||nt==="prototype")return _;if(xe!=Xe){var yt=Ye[nt];bt=fe?fe(yt,nt,Ye):e,bt===e&&(bt=di(yt)?yt:ta(P[xe+1])?[]:{})}Aa(Ye,nt,bt),Ye=Ye[nt]}return _}var Qi=go?function(_,P){return go.set(_,P),_}:Cn,Ai=_a?function(_,P){return _a(_,"toString",{configurable:!0,enumerable:!1,value:Mc(P),writable:!0})}:Cn;function Un(_){return nh(Io(_))}function ai(_,P,J){var fe=-1,xe=_.length;P<0&&(P=-P>xe?0:xe+P),J=J>xe?xe:J,J<0&&(J+=xe),xe=P>J?0:J-P>>>0,P>>>=0;for(var Le=ct(xe);++fe<xe;)Le[fe]=_[fe+P];return Le}function _n(_,P){var J;return ss(_,function(fe,xe,Le){return J=P(fe,xe,Le),!J}),!!J}function hi(_,P,J){var fe=0,xe=_==null?fe:_.length;if(typeof P=="number"&&P===P&&xe<=z){for(;fe<xe;){var Le=fe+xe>>>1,Xe=_[Le];Xe!==null&&!zn(Xe)&&(J?Xe<=P:Xe<P)?fe=Le+1:xe=Le}return xe}return Ci(_,P,Cn,J)}function Ci(_,P,J,fe){var xe=0,Le=_==null?0:_.length;if(Le===0)return 0;P=J(P);for(var Xe=P!==P,Ye=P===null,nt=zn(P),bt=P===e;xe<Le;){var yt=Vs((xe+Le)/2),Tt=J(_[yt]),Lt=Tt!==e,Yt=Tt===null,or=Tt===Tt,Rr=zn(Tt);if(Xe)var lr=fe||or;else bt?lr=or&&(fe||Lt):Ye?lr=or&&Lt&&(fe||!Yt):nt?lr=or&&Lt&&!Yt&&(fe||!Rr):Yt||Rr?lr=!1:lr=fe?Tt<=P:Tt<P;lr?xe=yt+1:Le=yt}return Wi(Le,K)}function jn(_,P){for(var J=-1,fe=_.length,xe=0,Le=[];++J<fe;){var Xe=_[J],Ye=P?P(Xe):Xe;if(!J||!ls(Ye,nt)){var nt=Ye;Le[xe++]=Xe===0?0:Xe}}return Le}function as(_){return typeof _=="number"?_:zn(_)?H:+_}function ri(_){if(typeof _=="string")return _;if(wr(_))return st(_,ri)+"";if(zn(_))return Yn?Yn.call(_):"";var P=_+"";return P=="0"&&1/_==-O?"-0":P}function En(_,P,J){var fe=-1,xe=ke,Le=_.length,Xe=!0,Ye=[],nt=Ye;if(J)Xe=!1,xe=Ve;else if(Le>=v){var bt=P?null:Id(_);if(bt)return zs(bt);Xe=!1,xe=pn,nt=new Ks}else nt=P?[]:Ye;e:for(;++fe<Le;){var yt=_[fe],Tt=P?P(yt):yt;if(yt=J||yt!==0?yt:0,Xe&&Tt===Tt){for(var Lt=nt.length;Lt--;)if(nt[Lt]===Tt)continue e;P&&nt.push(Tt),Ye.push(yt)}else xe(nt,Tt,J)||(nt!==Ye&&nt.push(Tt),Ye.push(yt))}return Ye}function Qs(_,P){return P=Ss(P,_),_=Mf(_,P),_==null||delete _[As(es(P))]}function Za(_,P,J,fe){return Hr(_,P,J(Zs(_,P)),fe)}function os(_,P,J,fe){for(var xe=_.length,Le=fe?xe:-1;(fe?Le--:++Le<xe)&&P(_[Le],Le,_););return J?ai(_,fe?0:Le,fe?Le+1:xe):ai(_,fe?Le+1:0,fe?xe:Le)}function Ts(_,P){var J=_;return J instanceof Lr&&(J=J.value()),Ht(P,function(fe,xe){return xe.func.apply(xe.thisArg,Et([fe],xe.args))},J)}function Js(_,P,J){var fe=_.length;if(fe<2)return fe?En(_[0]):[];for(var xe=-1,Le=ct(fe);++xe<fe;)for(var Xe=_[xe],Ye=-1;++Ye<fe;)Ye!=xe&&(Le[xe]=Ys(Le[xe]||Xe,_[Ye],P,J));return En(Bi(Le,1),P,J)}function Jn(_,P,J){for(var fe=-1,xe=_.length,Le=P.length,Xe={};++fe<xe;){var Ye=fe<Le?P[fe]:e;J(Xe,_[fe],Ye)}return Xe}function sl(_){return ki(_)?_:[]}function Qa(_){return typeof _=="function"?_:Cn}function Ss(_,P){return wr(_)?_:bc(_,P)?[_]:Of(Qr(_))}var Yl=kt;function qn(_,P,J){var fe=_.length;return J=J===e?fe:J,!P&&J>=fe?_:ai(_,P,J)}var Tn=Ws||function(_){return nr.clearTimeout(_)};function al(_,P){if(P)return _.slice();var J=_.length,fe=$o?$o(J):new _.constructor(J);return _.copy(fe),fe}function xo(_){var P=new _.constructor(_.byteLength);return new za(P).set(new za(_)),P}function oc(_,P){var J=P?xo(_.buffer):_.buffer;return new _.constructor(J,_.byteOffset,_.byteLength)}function lc(_){var P=new _.constructor(_.source,xr.exec(_));return P.lastIndex=_.lastIndex,P}function hc(_){return Bn?Er(Bn.call(_)):{}}function Ja(_,P){var J=P?xo(_.buffer):_.buffer;return new _.constructor(J,_.byteOffset,_.length)}function ol(_,P){if(_!==P){var J=_!==e,fe=_===null,xe=_===_,Le=zn(_),Xe=P!==e,Ye=P===null,nt=P===P,bt=zn(P);if(!Ye&&!bt&&!Le&&_>P||Le&&Xe&&nt&&!Ye&&!bt||fe&&Xe&&nt||!J&&nt||!xe)return 1;if(!fe&&!Le&&!bt&&_<P||bt&&J&&xe&&!fe&&!Le||Ye&&J&&xe||!Xe&&xe||!nt)return-1}return 0}function cc(_,P,J){for(var fe=-1,xe=_.criteria,Le=P.criteria,Xe=xe.length,Ye=J.length;++fe<Xe;){var nt=ol(xe[fe],Le[fe]);if(nt){if(fe>=Ye)return nt;var bt=J[fe];return nt*(bt=="desc"?-1:1)}}return _.index-P.index}function Zl(_,P,J,fe){for(var xe=-1,Le=_.length,Xe=J.length,Ye=-1,nt=P.length,bt=xi(Le-Xe,0),yt=ct(nt+bt),Tt=!fe;++Ye<nt;)yt[Ye]=P[Ye];for(;++xe<Xe;)(Tt||xe<Le)&&(yt[J[xe]]=_[xe]);for(;bt--;)yt[Ye++]=_[xe++];return yt}function uf(_,P,J,fe){for(var xe=-1,Le=_.length,Xe=-1,Ye=J.length,nt=-1,bt=P.length,yt=xi(Le-Ye,0),Tt=ct(yt+bt),Lt=!fe;++xe<yt;)Tt[xe]=_[xe];for(var Yt=xe;++nt<bt;)Tt[Yt+nt]=P[nt];for(;++Xe<Ye;)(Lt||xe<Le)&&(Tt[Yt+J[Xe]]=_[xe++]);return Tt}function Sn(_,P){var J=-1,fe=_.length;for(P||(P=ct(fe));++J<fe;)P[J]=_[J];return P}function xs(_,P,J,fe){var xe=!J;J||(J={});for(var Le=-1,Xe=P.length;++Le<Xe;){var Ye=P[Le],nt=fe?fe(J[Ye],_[Ye],Ye,J,_):e;nt===e&&(nt=_[Ye]),xe?ns(J,Ye,nt):Aa(J,Ye,nt)}return J}function xd(_,P){return xs(_,vc(_),P)}function Ad(_,P){return xs(_,xf(_),P)}function Ql(_,P){return function(J,fe){var xe=wr(J)?Hi:ic,Le=P?P():{};return xe(J,_,sr(fe,2),Le)}}function Ao(_){return kt(function(P,J){var fe=-1,xe=J.length,Le=xe>1?J[xe-1]:e,Xe=xe>2?J[2]:e;for(Le=_.length>3&&typeof Le=="function"?(xe--,Le):e,Xe&&gn(J[0],J[1],Xe)&&(Le=xe<3?e:Le,xe=1),P=Er(P);++fe<xe;){var Ye=J[fe];Ye&&_(P,Ye,fe,Le)}return P})}function df(_,P){return function(J,fe){if(J==null)return J;if(!xn(J))return _(J,fe);for(var xe=J.length,Le=P?xe:-1,Xe=Er(J);(P?Le--:++Le<xe)&&fe(Xe[Le],Le,Xe)!==!1;);return J}}function pf(_){return function(P,J,fe){for(var xe=-1,Le=Er(P),Xe=fe(P),Ye=Xe.length;Ye--;){var nt=Xe[_?Ye:++xe];if(J(Le[nt],nt,Le)===!1)break}return P}}function Cd(_,P,J){var fe=P&g,xe=ll(_);function Le(){var Xe=this&&this!==nr&&this instanceof Le?xe:_;return Xe.apply(fe?J:this,arguments)}return Le}function mf(_){return function(P){P=Qr(P);var J=Zi(P)?On(P):e,fe=J?J[0]:P.charAt(0),xe=J?qn(J,1).join(""):P.slice(1);return fe[_]()+xe}}function Co(_){return function(P){return Ht(du(uu(P).replace(vs,"")),_,"")}}function ll(_){return function(){var P=arguments;switch(P.length){case 0:return new _;case 1:return new _(P[0]);case 2:return new _(P[0],P[1]);case 3:return new _(P[0],P[1],P[2]);case 4:return new _(P[0],P[1],P[2],P[3]);case 5:return new _(P[0],P[1],P[2],P[3],P[4]);case 6:return new _(P[0],P[1],P[2],P[3],P[4],P[5]);case 7:return new _(P[0],P[1],P[2],P[3],P[4],P[5],P[6])}var J=Sa(_.prototype),fe=_.apply(J,P);return di(fe)?fe:J}}function kd(_,P,J){var fe=ll(_);function xe(){for(var Le=arguments.length,Xe=ct(Le),Ye=Le,nt=ko(xe);Ye--;)Xe[Ye]=arguments[Ye];var bt=Le<3&&Xe[0]!==nt&&Xe[Le-1]!==nt?[]:Kn(Xe,nt);if(Le-=bt.length,Le<J)return wf(_,P,Jl,xe.placeholder,e,Xe,bt,e,e,J-Le);var yt=this&&this!==nr&&this instanceof xe?fe:_;return ti(yt,this,Xe)}return xe}function gf(_){return function(P,J,fe){var xe=Er(P);if(!xn(P)){var Le=sr(J,3);P=Vi(P),J=function(Ye){return Le(xe[Ye],Ye,xe)}}var Xe=_(P,J,fe);return Xe>-1?xe[Le?P[Xe]:Xe]:e}}function vf(_){return ea(function(P){var J=P.length,fe=J,xe=wn.prototype.thru;for(_&&P.reverse();fe--;){var Le=P[fe];if(typeof Le!="function")throw new an(u);if(xe&&!Xe&&rh(Le)=="wrapper")var Xe=new wn([],!0)}for(fe=Xe?fe:J;++fe<J;){Le=P[fe];var Ye=rh(Le),nt=Ye=="wrapper"?mc(Le):e;nt&&yc(nt[0])&&nt[1]==(w|E|S|I)&&!nt[4].length&&nt[9]==1?Xe=Xe[rh(nt[0])].apply(Xe,nt[3]):Xe=Le.length==1&&yc(Le)?Xe[Ye]():Xe.thru(Le)}return function(){var bt=arguments,yt=bt[0];if(Xe&&bt.length==1&&wr(yt))return Xe.plant(yt).value();for(var Tt=0,Lt=J?P[Tt].apply(this,bt):yt;++Tt<J;)Lt=P[Tt].call(this,Lt);return Lt}})}function Jl(_,P,J,fe,xe,Le,Xe,Ye,nt,bt){var yt=P&w,Tt=P&g,Lt=P&y,Yt=P&(E|T),or=P&D,Rr=Lt?e:ll(_);function lr(){for(var Br=arguments.length,$r=ct(Br),Hn=Br;Hn--;)$r[Hn]=arguments[Hn];if(Yt)var vn=ko(lr),$n=va($r,vn);if(fe&&($r=Zl($r,fe,xe,Yt)),Le&&($r=uf($r,Le,Xe,Yt)),Br-=$n,Yt&&Br<bt){var Ri=Kn($r,vn);return wf(_,P,Jl,lr.placeholder,J,$r,Ri,Ye,nt,bt-Br)}var hs=Tt?J:this,na=Lt?hs[_]:_;return Br=$r.length,Ye?$r=Kd($r,Ye):or&&Br>1&&$r.reverse(),yt&&nt<Br&&($r.length=nt),this&&this!==nr&&this instanceof lr&&(na=Rr||ll(na)),na.apply(hs,$r)}return lr}function bf(_,P){return function(J,fe){return h(J,_,P(fe),{})}}function ql(_,P){return function(J,fe){var xe;if(J===e&&fe===e)return P;if(J!==e&&(xe=J),fe!==e){if(xe===e)return fe;typeof J=="string"||typeof fe=="string"?(J=ri(J),fe=ri(fe)):(J=as(J),fe=as(fe)),xe=_(J,fe)}return xe}}function fc(_){return ea(function(P){return P=st(P,Pi(sr())),kt(function(J){var fe=this;return _(P,function(xe){return ti(xe,fe,J)})})})}function eh(_,P){P=P===e?" ":ri(P);var J=P.length;if(J<2)return J?Kt(P,_):P;var fe=Kt(P,Ha(_/Hs(P)));return Zi(P)?qn(On(fe),0,_).join(""):fe.slice(0,_)}function Rd(_,P,J,fe){var xe=P&g,Le=ll(_);function Xe(){for(var Ye=-1,nt=arguments.length,bt=-1,yt=fe.length,Tt=ct(yt+nt),Lt=this&&this!==nr&&this instanceof Xe?Le:_;++bt<yt;)Tt[bt]=fe[bt];for(;nt--;)Tt[bt++]=arguments[++Ye];return ti(Lt,xe?J:this,Tt)}return Xe}function yf(_){return function(P,J,fe){return fe&&typeof fe!="number"&&gn(P,J,fe)&&(J=fe=e),P=ia(P),J===e?(J=P,P=0):J=ia(J),fe=fe===e?P<J?1:-1:ia(fe),Jt(P,J,fe,_)}}function th(_){return function(P,J){return typeof P=="string"&&typeof J=="string"||(P=ts(P),J=ts(J)),_(P,J)}}function wf(_,P,J,fe,xe,Le,Xe,Ye,nt,bt){var yt=P&E,Tt=yt?Xe:e,Lt=yt?e:Xe,Yt=yt?Le:e,or=yt?e:Le;P|=yt?S:x,P&=~(yt?x:S),P&p||(P&=~(g|y));var Rr=[_,P,xe,Yt,Tt,or,Lt,Ye,nt,bt],lr=J.apply(e,Rr);return yc(_)&&Pf(lr,Rr),lr.placeholder=fe,Df(lr,_,P)}function uc(_){var P=Ti[_];return function(J,fe){if(J=ts(J),fe=fe==null?0:Wi(Cr(fe),292),fe&&Xo(J)){var xe=(Qr(J)+"e").split("e"),Le=P(xe[0]+"e"+(+xe[1]+fe));return xe=(Qr(Le)+"e").split("e"),+(xe[0]+"e"+(+xe[1]-fe))}return P(J)}}var Id=Ta&&1/zs(new Ta([,-0]))[1]==O?function(_){return new Ta(_)}:Lc;function _f(_){return function(P){var J=on(P);return J==Z?oo(P):J==se?Fh(P):Fo(P,_(P))}}function qs(_,P,J,fe,xe,Le,Xe,Ye){var nt=P&y;if(!nt&&typeof _!="function")throw new an(u);var bt=fe?fe.length:0;if(bt||(P&=~(S|x),fe=xe=e),Xe=Xe===e?Xe:xi(Cr(Xe),0),Ye=Ye===e?Ye:Cr(Ye),bt-=xe?xe.length:0,P&x){var yt=fe,Tt=xe;fe=xe=e}var Lt=nt?e:mc(_),Yt=[_,P,J,fe,xe,yt,Tt,Le,Xe,Ye];if(Lt&&Vd(Yt,Lt),_=Yt[0],P=Yt[1],J=Yt[2],fe=Yt[3],xe=Yt[4],Ye=Yt[9]=Yt[9]===e?nt?0:_.length:xi(Yt[9]-bt,0),!Ye&&P&(E|T)&&(P&=~(E|T)),!P||P==g)var or=Cd(_,P,J);else P==E||P==T?or=kd(_,P,Ye):(P==S||P==(g|S))&&!xe.length?or=Rd(_,P,J,fe):or=Jl.apply(e,Yt);var Rr=Lt?Qi:Pf;return Df(Rr(or,Yt),_,P)}function Ef(_,P,J,fe){return _===e||ls(_,Nn[J])&&!Gr.call(fe,J)?P:_}function Tf(_,P,J,fe,xe,Le){return di(_)&&di(P)&&(Le.set(P,_),ht(_,P,e,Tf,Le),Le.delete(P)),_}function Md(_){return fl(_)?e:_}function Sf(_,P,J,fe,xe,Le){var Xe=J&d,Ye=_.length,nt=P.length;if(Ye!=nt&&!(Xe&&nt>Ye))return!1;var bt=Le.get(_),yt=Le.get(P);if(bt&&yt)return bt==P&&yt==_;var Tt=-1,Lt=!0,Yt=J&o?new Ks:e;for(Le.set(_,P),Le.set(P,_);++Tt<Ye;){var or=_[Tt],Rr=P[Tt];if(fe)var lr=Xe?fe(Rr,or,Tt,P,_,Le):fe(or,Rr,Tt,_,P,Le);if(lr!==e){if(lr)continue;Lt=!1;break}if(Yt){if(!br(P,function(Br,$r){if(!pn(Yt,$r)&&(or===Br||xe(or,Br,J,fe,Le)))return Yt.push($r)})){Lt=!1;break}}else if(!(or===Rr||xe(or,Rr,J,fe,Le))){Lt=!1;break}}return Le.delete(_),Le.delete(P),Lt}function Pd(_,P,J,fe,xe,Le,Xe){switch(J){case ve:if(_.byteLength!=P.byteLength||_.byteOffset!=P.byteOffset)return!1;_=_.buffer,P=P.buffer;case ze:return!(_.byteLength!=P.byteLength||!Le(new za(_),new za(P)));case ge:case Ie:case ue:return ls(+_,+P);case Ke:return _.name==P.name&&_.message==P.message;case ce:case ne:return _==P+"";case Z:var Ye=oo;case se:var nt=fe&d;if(Ye||(Ye=zs),_.size!=P.size&&!nt)return!1;var bt=Xe.get(_);if(bt)return bt==P;fe|=o,Xe.set(_,P);var yt=Sf(Ye(_),Ye(P),fe,xe,Le,Xe);return Xe.delete(_),yt;case we:if(Bn)return Bn.call(_)==Bn.call(P)}return!1}function Dd(_,P,J,fe,xe,Le){var Xe=J&d,Ye=dc(_),nt=Ye.length,bt=dc(P),yt=bt.length;if(nt!=yt&&!Xe)return!1;for(var Tt=nt;Tt--;){var Lt=Ye[Tt];if(!(Xe?Lt in P:Gr.call(P,Lt)))return!1}var Yt=Le.get(_),or=Le.get(P);if(Yt&&or)return Yt==P&&or==_;var Rr=!0;Le.set(_,P),Le.set(P,_);for(var lr=Xe;++Tt<nt;){Lt=Ye[Tt];var Br=_[Lt],$r=P[Lt];if(fe)var Hn=Xe?fe($r,Br,Lt,P,_,Le):fe(Br,$r,Lt,_,P,Le);if(!(Hn===e?Br===$r||xe(Br,$r,J,fe,Le):Hn)){Rr=!1;break}lr||(lr=Lt=="constructor")}if(Rr&&!lr){var vn=_.constructor,$n=P.constructor;vn!=$n&&"constructor"in _&&"constructor"in P&&!(typeof vn=="function"&&vn instanceof vn&&typeof $n=="function"&&$n instanceof $n)&&(Rr=!1)}return Le.delete(_),Le.delete(P),Rr}function ea(_){return _c(If(_,e,Uf),_+"")}function dc(_){return Gl(_,Vi,vc)}function pc(_){return Gl(_,An,xf)}var mc=go?function(_){return go.get(_)}:Lc;function rh(_){for(var P=_.name+"",J=_s[P],fe=Gr.call(_s,P)?J.length:0;fe--;){var xe=J[fe],Le=xe.func;if(Le==null||Le==_)return xe.name}return P}function ko(_){var P=Gr.call(Me,"placeholder")?Me:_;return P.placeholder}function sr(){var _=Me.iteratee||Pc;return _=_===Pc?Re:_,arguments.length?_(arguments[0],arguments[1]):_}function ih(_,P){var J=_.__data__;return zd(P)?J[typeof P=="string"?"string":"hash"]:J.map}function gc(_){for(var P=Vi(_),J=P.length;J--;){var fe=P[J],xe=_[fe];P[J]=[fe,xe,kf(xe)]}return P}function qa(_,P){var J=_l(_,P);return pe(J)?J:e}function Ld(_){var P=Gr.call(_,is),J=_[is];try{_[is]=e;var fe=!0}catch{}var xe=ya.call(_);return fe&&(P?_[is]=J:delete _[is]),xe}var vc=$a?function(_){return _==null?[]:(_=Er(_),Yi($a(_),function(P){return Al.call(_,P)}))}:Oc,xf=$a?function(_){for(var P=[];_;)Et(P,vc(_)),_=yn(_);return P}:Oc,on=Fi;(Ko&&on(new Ko(new ArrayBuffer(1)))!=ve||Wa&&on(new Wa)!=Z||mo&&on(mo.resolve())!=he||Ta&&on(new Ta)!=se||Va&&on(new Va)!=ae)&&(on=function(_){var P=Fi(_),J=P==_e?_.constructor:e,fe=J?eo(J):"";if(fe)switch(fe){case Gh:return ve;case Ml:return Z;case Pl:return he;case Kh:return se;case Dl:return ae}return P});function Od(_,P,J){for(var fe=-1,xe=J.length;++fe<xe;){var Le=J[fe],Xe=Le.size;switch(Le.type){case"drop":_+=Xe;break;case"dropRight":P-=Xe;break;case"take":P=Wi(P,_+Xe);break;case"takeRight":_=xi(_,P-Xe);break}}return{start:_,end:P}}function Nd(_){var P=_.match(Wr);return P?P[1].split(Or):[]}function Af(_,P,J){P=Ss(P,_);for(var fe=-1,xe=P.length,Le=!1;++fe<xe;){var Xe=As(P[fe]);if(!(Le=_!=null&&J(_,Xe)))break;_=_[Xe]}return Le||++fe!=xe?Le:(xe=_==null?0:_.length,!!xe&&ch(xe)&&ta(Xe,xe)&&(wr(_)||to(_)))}function Bd(_){var P=_.length,J=new _.constructor(P);return P&&typeof _[0]=="string"&&Gr.call(_,"index")&&(J.index=_.index,J.input=_.input),J}function Cf(_){return typeof _.constructor=="function"&&!hl(_)?Sa(yn(_)):{}}function Fd(_,P,J){var fe=_.constructor;switch(P){case ze:return xo(_);case ge:case Ie:return new fe(+_);case ve:return oc(_,J);case Ae:case Fe:case We:case Je:case Ge:case et:case ut:case at:case Be:return Ja(_,J);case Z:return new fe;case ue:case ne:return new fe(_);case ce:return lc(_);case se:return new fe;case we:return hc(_)}}function Ud(_,P){var J=P.length;if(!J)return _;var fe=J-1;return P[fe]=(J>1?"& ":"")+P[fe],P=P.join(J>2?", ":" "),_.replace(rr,`{
/* [wrapped with `+P+`] */
`)}function jd(_){return wr(_)||to(_)||!!(Vo&&_&&_[Vo])}function ta(_,P){var J=typeof _;return P=P??k,!!P&&(J=="number"||J!="symbol"&&ir.test(_))&&_>-1&&_%1==0&&_<P}function gn(_,P,J){if(!di(J))return!1;var fe=typeof P;return(fe=="number"?xn(J)&&ta(P,J.length):fe=="string"&&P in J)?ls(J[P],_):!1}function bc(_,P){if(wr(_))return!1;var J=typeof _;return J=="number"||J=="symbol"||J=="boolean"||_==null||zn(_)?!0:$t.test(_)||!It.test(_)||P!=null&&_ in Er(P)}function zd(_){var P=typeof _;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?_!=="__proto__":_===null}function yc(_){var P=rh(_),J=Me[P];if(typeof J!="function"||!(P in Lr.prototype))return!1;if(_===J)return!0;var fe=mc(J);return!!fe&&_===fe[0]}function Hd(_){return!!Di&&Di in _}var $d=ys?ra:Nc;function hl(_){var P=_&&_.constructor,J=typeof P=="function"&&P.prototype||Nn;return _===J}function kf(_){return _===_&&!di(_)}function Rf(_,P){return function(J){return J==null?!1:J[_]===P&&(P!==e||_ in Er(J))}}function Wd(_){var P=lh(_,function(fe){return J.size===t&&J.clear(),fe}),J=P.cache;return P}function Vd(_,P){var J=_[1],fe=P[1],xe=J|fe,Le=xe<(g|y|w),Xe=fe==w&&J==E||fe==w&&J==I&&_[7].length<=P[8]||fe==(w|I)&&P[7].length<=P[8]&&J==E;if(!(Le||Xe))return _;fe&g&&(_[2]=P[2],xe|=J&g?0:p);var Ye=P[3];if(Ye){var nt=_[3];_[3]=nt?Zl(nt,Ye,P[4]):Ye,_[4]=nt?Kn(_[3],i):P[4]}return Ye=P[5],Ye&&(nt=_[5],_[5]=nt?uf(nt,Ye,P[6]):Ye,_[6]=nt?Kn(_[5],i):P[6]),Ye=P[7],Ye&&(_[7]=Ye),fe&w&&(_[8]=_[8]==null?P[8]:Wi(_[8],P[8])),_[9]==null&&(_[9]=P[9]),_[0]=P[0],_[1]=xe,_}function Xd(_){var P=[];if(_!=null)for(var J in Er(_))P.push(J);return P}function Gd(_){return ya.call(_)}function If(_,P,J){return P=xi(P===e?_.length-1:P,0),function(){for(var fe=arguments,xe=-1,Le=xi(fe.length-P,0),Xe=ct(Le);++xe<Le;)Xe[xe]=fe[P+xe];xe=-1;for(var Ye=ct(P+1);++xe<P;)Ye[xe]=fe[xe];return Ye[P]=J(Xe),ti(_,this,Ye)}}function Mf(_,P){return P.length<2?_:Zs(_,ai(P,0,-1))}function Kd(_,P){for(var J=_.length,fe=Wi(P.length,J),xe=Sn(_);fe--;){var Le=P[fe];_[fe]=ta(Le,J)?xe[Le]:e}return _}function wc(_,P){if(!(P==="constructor"&&typeof _[P]=="function")&&P!="__proto__")return _[P]}var Pf=Lf(Qi),cl=Vh||function(_,P){return nr.setTimeout(_,P)},_c=Lf(Ai);function Df(_,P,J){var fe=P+"";return _c(_,Ud(fe,Yd(Nd(fe),J)))}function Lf(_){var P=0,J=0;return function(){var fe=Ea(),xe=te-(fe-J);if(J=fe,xe>0){if(++P>=ee)return arguments[0]}else P=0;return _.apply(e,arguments)}}function nh(_,P){var J=-1,fe=_.length,xe=fe-1;for(P=P===e?fe:P;++J<P;){var Le=Gt(J,xe),Xe=_[Le];_[Le]=_[J],_[J]=Xe}return _.length=P,_}var Of=Wd(function(_){var P=[];return _.charCodeAt(0)===46&&P.push(""),_.replace(Sr,function(J,fe,xe,Le){P.push(xe?Le.replace(fr,"$1"):fe||J)}),P});function As(_){if(typeof _=="string"||zn(_))return _;var P=_+"";return P=="0"&&1/_==-O?"-0":P}function eo(_){if(_!=null){try{return fo.call(_)}catch{}try{return _+""}catch{}}return""}function Yd(_,P){return ui(F,function(J){var fe="_."+J[0];P&J[1]&&!ke(_,fe)&&_.push(fe)}),_.sort()}function Nf(_){if(_ instanceof Lr)return _.clone();var P=new wn(_.__wrapped__,_.__chain__);return P.__actions__=Sn(_.__actions__),P.__index__=_.__index__,P.__values__=_.__values__,P}function Zd(_,P,J){(J?gn(_,P,J):P===e)?P=1:P=xi(Cr(P),0);var fe=_==null?0:_.length;if(!fe||P<1)return[];for(var xe=0,Le=0,Xe=ct(Ha(fe/P));xe<fe;)Xe[Le++]=ai(_,xe,xe+=P);return Xe}function Qd(_){for(var P=-1,J=_==null?0:_.length,fe=0,xe=[];++P<J;){var Le=_[P];Le&&(xe[fe++]=Le)}return xe}function Jd(){var _=arguments.length;if(!_)return[];for(var P=ct(_-1),J=arguments[0],fe=_;fe--;)P[fe-1]=arguments[fe];return Et(wr(J)?Sn(J):[J],Bi(P,1))}var qd=kt(function(_,P){return ki(_)?Ys(_,Bi(P,1,ki,!0)):[]}),ep=kt(function(_,P){var J=es(P);return ki(J)&&(J=e),ki(_)?Ys(_,Bi(P,1,ki,!0),sr(J,2)):[]}),tp=kt(function(_,P){var J=es(P);return ki(J)&&(J=e),ki(_)?Ys(_,Bi(P,1,ki,!0),e,J):[]});function rp(_,P,J){var fe=_==null?0:_.length;return fe?(P=J||P===e?1:Cr(P),ai(_,P<0?0:P,fe)):[]}function ip(_,P,J){var fe=_==null?0:_.length;return fe?(P=J||P===e?1:Cr(P),P=fe-P,ai(_,0,P<0?0:P)):[]}function np(_,P){return _&&_.length?os(_,sr(P,3),!0,!0):[]}function sp(_,P){return _&&_.length?os(_,sr(P,3),!0):[]}function ap(_,P,J,fe){var xe=_==null?0:_.length;return xe?(J&&typeof J!="number"&&gn(_,P,J)&&(J=0,fe=xe),Vl(_,P,J,fe)):[]}function Bf(_,P,J){var fe=_==null?0:_.length;if(!fe)return-1;var xe=J==null?0:Cr(J);return xe<0&&(xe=xi(fe+xe,0)),vi(_,sr(P,3),xe)}function Ff(_,P,J){var fe=_==null?0:_.length;if(!fe)return-1;var xe=fe-1;return J!==e&&(xe=Cr(J),xe=J<0?xi(fe+xe,0):Wi(xe,fe-1)),vi(_,sr(P,3),xe,!0)}function Uf(_){var P=_==null?0:_.length;return P?Bi(_,1):[]}function op(_){var P=_==null?0:_.length;return P?Bi(_,O):[]}function lp(_,P){var J=_==null?0:_.length;return J?(P=P===e?1:Cr(P),Bi(_,P)):[]}function hp(_){for(var P=-1,J=_==null?0:_.length,fe={};++P<J;){var xe=_[P];fe[xe[0]]=xe[1]}return fe}function jf(_){return _&&_.length?_[0]:e}function cp(_,P,J){var fe=_==null?0:_.length;if(!fe)return-1;var xe=J==null?0:Cr(J);return xe<0&&(xe=xi(fe+xe,0)),qr(_,P,xe)}function fp(_){var P=_==null?0:_.length;return P?ai(_,0,-1):[]}var up=kt(function(_){var P=st(_,sl);return P.length&&P[0]===_[0]?a(P):[]}),dp=kt(function(_){var P=es(_),J=st(_,sl);return P===es(J)?P=e:J.pop(),J.length&&J[0]===_[0]?a(J,sr(P,2)):[]}),pp=kt(function(_){var P=es(_),J=st(_,sl);return P=typeof P=="function"?P:e,P&&J.pop(),J.length&&J[0]===_[0]?a(J,e,P):[]});function mp(_,P){return _==null?"":Go.call(_,P)}function es(_){var P=_==null?0:_.length;return P?_[P-1]:e}function gp(_,P,J){var fe=_==null?0:_.length;if(!fe)return-1;var xe=fe;return J!==e&&(xe=Cr(J),xe=xe<0?xi(fe+xe,0):Wi(xe,fe-1)),P===P?Sl(_,P,xe):vi(_,$i,xe,!0)}function vp(_,P){return _&&_.length?dt(_,Cr(P)):e}var bp=kt(zf);function zf(_,P){return _&&_.length&&P&&P.length?Qt(_,P):_}function yp(_,P,J){return _&&_.length&&P&&P.length?Qt(_,P,sr(J,2)):_}function wp(_,P,J){return _&&_.length&&P&&P.length?Qt(_,P,e,J):_}var _p=ea(function(_,P){var J=_==null?0:_.length,fe=ka(_,P);return Vt(_,st(P,function(xe){return ta(xe,J)?+xe:xe}).sort(ol)),fe});function Ep(_,P){var J=[];if(!(_&&_.length))return J;var fe=-1,xe=[],Le=_.length;for(P=sr(P,3);++fe<Le;){var Xe=_[fe];P(Xe,fe,_)&&(J.push(Xe),xe.push(fe))}return Vt(_,xe),J}function Ec(_){return _==null?_:Il.call(_)}function Tp(_,P,J){var fe=_==null?0:_.length;return fe?(J&&typeof J!="number"&&gn(_,P,J)?(P=0,J=fe):(P=P==null?0:Cr(P),J=J===e?fe:Cr(J)),ai(_,P,J)):[]}function Sp(_,P){return hi(_,P)}function xp(_,P,J){return Ci(_,P,sr(J,2))}function Ap(_,P){var J=_==null?0:_.length;if(J){var fe=hi(_,P);if(fe<J&&ls(_[fe],P))return fe}return-1}function Cp(_,P){return hi(_,P,!0)}function kp(_,P,J){return Ci(_,P,sr(J,2),!0)}function Rp(_,P){var J=_==null?0:_.length;if(J){var fe=hi(_,P,!0)-1;if(ls(_[fe],P))return fe}return-1}function Ip(_){return _&&_.length?jn(_):[]}function Mp(_,P){return _&&_.length?jn(_,sr(P,2)):[]}function Pp(_){var P=_==null?0:_.length;return P?ai(_,1,P):[]}function Dp(_,P,J){return _&&_.length?(P=J||P===e?1:Cr(P),ai(_,0,P<0?0:P)):[]}function Lp(_,P,J){var fe=_==null?0:_.length;return fe?(P=J||P===e?1:Cr(P),P=fe-P,ai(_,P<0?0:P,fe)):[]}function Op(_,P){return _&&_.length?os(_,sr(P,3),!1,!0):[]}function Np(_,P){return _&&_.length?os(_,sr(P,3)):[]}var Bp=kt(function(_){return En(Bi(_,1,ki,!0))}),Fp=kt(function(_){var P=es(_);return ki(P)&&(P=e),En(Bi(_,1,ki,!0),sr(P,2))}),Up=kt(function(_){var P=es(_);return P=typeof P=="function"?P:e,En(Bi(_,1,ki,!0),e,P)});function jp(_){return _&&_.length?En(_):[]}function zp(_,P){return _&&_.length?En(_,sr(P,2)):[]}function Hp(_,P){return P=typeof P=="function"?P:e,_&&_.length?En(_,e,P):[]}function Tc(_){if(!(_&&_.length))return[];var P=0;return _=Yi(_,function(J){if(ki(J))return P=xi(J.length,P),!0}),_r(P,function(J){return st(_,dn(J))})}function Hf(_,P){if(!(_&&_.length))return[];var J=Tc(_);return P==null?J:st(J,function(fe){return ti(P,e,fe)})}var $p=kt(function(_,P){return ki(_)?Ys(_,P):[]}),Wp=kt(function(_){return Js(Yi(_,ki))}),Vp=kt(function(_){var P=es(_);return ki(P)&&(P=e),Js(Yi(_,ki),sr(P,2))}),Xp=kt(function(_){var P=es(_);return P=typeof P=="function"?P:e,Js(Yi(_,ki),e,P)}),Gp=kt(Tc);function Kp(_,P){return Jn(_||[],P||[],Aa)}function Yp(_,P){return Jn(_||[],P||[],Hr)}var Zp=kt(function(_){var P=_.length,J=P>1?_[P-1]:e;return J=typeof J=="function"?(_.pop(),J):e,Hf(_,J)});function $f(_){var P=Me(_);return P.__chain__=!0,P}function Qp(_,P){return P(_),_}function sh(_,P){return P(_)}var Jp=ea(function(_){var P=_.length,J=P?_[0]:0,fe=this.__wrapped__,xe=function(Le){return ka(Le,_)};return P>1||this.__actions__.length||!(fe instanceof Lr)||!ta(J)?this.thru(xe):(fe=fe.slice(J,+J+(P?1:0)),fe.__actions__.push({func:sh,args:[xe],thisArg:e}),new wn(fe,this.__chain__).thru(function(Le){return P&&!Le.length&&Le.push(e),Le}))});function qp(){return $f(this)}function em(){return new wn(this.value(),this.__chain__)}function tm(){this.__values__===e&&(this.__values__=iu(this.value()));var _=this.__index__>=this.__values__.length,P=_?e:this.__values__[this.__index__++];return{done:_,value:P}}function rm(){return this}function im(_){for(var P,J=this;J instanceof vo;){var fe=Nf(J);fe.__index__=0,fe.__values__=e,P?xe.__wrapped__=fe:P=fe;var xe=fe;J=J.__wrapped__}return xe.__wrapped__=_,P}function nm(){var _=this.__wrapped__;if(_ instanceof Lr){var P=_;return this.__actions__.length&&(P=new Lr(this)),P=P.reverse(),P.__actions__.push({func:sh,args:[Ec],thisArg:e}),new wn(P,this.__chain__)}return this.thru(Ec)}function sm(){return Ts(this.__wrapped__,this.__actions__)}var am=Ql(function(_,P,J){Gr.call(_,J)?++_[J]:ns(_,J,1)});function om(_,P,J){var fe=wr(_)?bn:ac;return J&&gn(_,P,J)&&(P=e),fe(_,sr(P,3))}function lm(_,P){var J=wr(_)?Yi:rl;return J(_,sr(P,3))}var hm=gf(Bf),cm=gf(Ff);function fm(_,P){return Bi(ah(_,P),1)}function um(_,P){return Bi(ah(_,P),O)}function dm(_,P,J){return J=J===e?1:Cr(J),Bi(ah(_,P),J)}function Wf(_,P){var J=wr(_)?ui:ss;return J(_,sr(P,3))}function Vf(_,P){var J=wr(_)?Pn:Wl;return J(_,sr(P,3))}var pm=Ql(function(_,P,J){Gr.call(_,J)?_[J].push(P):ns(_,J,[P])});function mm(_,P,J,fe){_=xn(_)?_:Io(_),J=J&&!fe?Cr(J):0;var xe=_.length;return J<0&&(J=xi(xe+J,0)),fh(_)?J<=xe&&_.indexOf(P,J)>-1:!!xe&&qr(_,P,J)>-1}var gm=kt(function(_,P,J){var fe=-1,xe=typeof P=="function",Le=xn(_)?ct(_.length):[];return ss(_,function(Xe){Le[++fe]=xe?ti(P,Xe,J):b(Xe,P,J)}),Le}),vm=Ql(function(_,P,J){ns(_,J,P)});function ah(_,P){var J=wr(_)?st:He;return J(_,sr(P,3))}function bm(_,P,J,fe){return _==null?[]:(wr(P)||(P=P==null?[]:[P]),J=fe?e:J,wr(J)||(J=J==null?[]:[J]),gt(_,P,J))}var ym=Ql(function(_,P,J){_[J?0:1].push(P)},function(){return[[],[]]});function wm(_,P,J){var fe=wr(_)?Ht:Bs,xe=arguments.length<3;return fe(_,sr(P,4),J,xe,ss)}function _m(_,P,J){var fe=wr(_)?Bt:Bs,xe=arguments.length<3;return fe(_,sr(P,4),J,xe,Wl)}function Em(_,P){var J=wr(_)?Yi:rl;return J(_,hh(sr(P,3)))}function Tm(_){var P=wr(_)?wo:yr;return P(_)}function Sm(_,P,J){(J?gn(_,P,J):P===e)?P=1:P=Cr(P);var fe=wr(_)?zl:kr;return fe(_,P)}function xm(_){var P=wr(_)?Hl:Un;return P(_)}function Am(_){if(_==null)return 0;if(xn(_))return fh(_)?Hs(_):_.length;var P=on(_);return P==Z||P==se?_.size:ye(_).length}function Cm(_,P,J){var fe=wr(_)?br:_n;return J&&gn(_,P,J)&&(P=e),fe(_,sr(P,3))}var km=kt(function(_,P){if(_==null)return[];var J=P.length;return J>1&&gn(_,P[0],P[1])?P=[]:J>2&&gn(P[0],P[1],P[2])&&(P=[P[0]]),gt(_,Bi(P,1),[])}),oh=Wh||function(){return nr.Date.now()};function Rm(_,P){if(typeof P!="function")throw new an(u);return _=Cr(_),function(){if(--_<1)return P.apply(this,arguments)}}function Xf(_,P,J){return P=J?e:P,P=_&&P==null?_.length:P,qs(_,w,e,e,e,e,P)}function Gf(_,P){var J;if(typeof P!="function")throw new an(u);return _=Cr(_),function(){return--_>0&&(J=P.apply(this,arguments)),_<=1&&(P=e),J}}var Sc=kt(function(_,P,J){var fe=g;if(J.length){var xe=Kn(J,ko(Sc));fe|=S}return qs(_,fe,P,J,xe)}),Kf=kt(function(_,P,J){var fe=g|y;if(J.length){var xe=Kn(J,ko(Kf));fe|=S}return qs(P,fe,_,J,xe)});function Yf(_,P,J){P=J?e:P;var fe=qs(_,E,e,e,e,e,e,P);return fe.placeholder=Yf.placeholder,fe}function Zf(_,P,J){P=J?e:P;var fe=qs(_,T,e,e,e,e,e,P);return fe.placeholder=Zf.placeholder,fe}function Qf(_,P,J){var fe,xe,Le,Xe,Ye,nt,bt=0,yt=!1,Tt=!1,Lt=!0;if(typeof _!="function")throw new an(u);P=ts(P)||0,di(J)&&(yt=!!J.leading,Tt="maxWait"in J,Le=Tt?xi(ts(J.maxWait)||0,P):Le,Lt="trailing"in J?!!J.trailing:Lt);function Yt(Ri){var hs=fe,na=xe;return fe=xe=e,bt=Ri,Xe=_.apply(na,hs),Xe}function or(Ri){return bt=Ri,Ye=cl(Br,P),yt?Yt(Ri):Xe}function Rr(Ri){var hs=Ri-nt,na=Ri-bt,gu=P-hs;return Tt?Wi(gu,Le-na):gu}function lr(Ri){var hs=Ri-nt,na=Ri-bt;return nt===e||hs>=P||hs<0||Tt&&na>=Le}function Br(){var Ri=oh();if(lr(Ri))return $r(Ri);Ye=cl(Br,Rr(Ri))}function $r(Ri){return Ye=e,Lt&&fe?Yt(Ri):(fe=xe=e,Xe)}function Hn(){Ye!==e&&Tn(Ye),bt=0,fe=nt=xe=Ye=e}function vn(){return Ye===e?Xe:$r(oh())}function $n(){var Ri=oh(),hs=lr(Ri);if(fe=arguments,xe=this,nt=Ri,hs){if(Ye===e)return or(nt);if(Tt)return Tn(Ye),Ye=cl(Br,P),Yt(nt)}return Ye===e&&(Ye=cl(Br,P)),Xe}return $n.cancel=Hn,$n.flush=vn,$n}var Im=kt(function(_,P){return _o(_,1,P)}),Mm=kt(function(_,P,J){return _o(_,ts(P)||0,J)});function Pm(_){return qs(_,D)}function lh(_,P){if(typeof _!="function"||P!=null&&typeof P!="function")throw new an(u);var J=function(){var fe=arguments,xe=P?P.apply(this,fe):fe[0],Le=J.cache;if(Le.has(xe))return Le.get(xe);var Xe=_.apply(this,fe);return J.cache=Le.set(xe,Xe)||Le,Xe};return J.cache=new(lh.Cache||Qn),J}lh.Cache=Qn;function hh(_){if(typeof _!="function")throw new an(u);return function(){var P=arguments;switch(P.length){case 0:return!_.call(this);case 1:return!_.call(this,P[0]);case 2:return!_.call(this,P[0],P[1]);case 3:return!_.call(this,P[0],P[1],P[2])}return!_.apply(this,P)}}function Dm(_){return Gf(2,_)}var Lm=Yl(function(_,P){P=P.length==1&&wr(P[0])?st(P[0],Pi(sr())):st(Bi(P,1),Pi(sr()));var J=P.length;return kt(function(fe){for(var xe=-1,Le=Wi(fe.length,J);++xe<Le;)fe[xe]=P[xe].call(this,fe[xe]);return ti(_,this,fe)})}),xc=kt(function(_,P){var J=Kn(P,ko(xc));return qs(_,S,e,P,J)}),Jf=kt(function(_,P){var J=Kn(P,ko(Jf));return qs(_,x,e,P,J)}),Om=ea(function(_,P){return qs(_,I,e,e,e,P)});function Nm(_,P){if(typeof _!="function")throw new an(u);return P=P===e?P:Cr(P),kt(_,P)}function Bm(_,P){if(typeof _!="function")throw new an(u);return P=P==null?0:xi(Cr(P),0),kt(function(J){var fe=J[P],xe=qn(J,0,P);return fe&&Et(xe,fe),ti(_,this,xe)})}function Fm(_,P,J){var fe=!0,xe=!0;if(typeof _!="function")throw new an(u);return di(J)&&(fe="leading"in J?!!J.leading:fe,xe="trailing"in J?!!J.trailing:xe),Qf(_,P,{leading:fe,maxWait:P,trailing:xe})}function Um(_){return Xf(_,1)}function jm(_,P){return xc(Qa(P),_)}function zm(){if(!arguments.length)return[];var _=arguments[0];return wr(_)?_:[_]}function Hm(_){return si(_,l)}function $m(_,P){return P=typeof P=="function"?P:e,si(_,l,P)}function Wm(_){return si(_,r|l)}function Vm(_,P){return P=typeof P=="function"?P:e,si(_,r|l,P)}function Xm(_,P){return P==null||Ya(_,P,Vi(P))}function ls(_,P){return _===P||_!==_&&P!==P}var Gm=th(nl),Km=th(function(_,P){return _>=P}),to=A(function(){return arguments}())?A:function(_){return bi(_)&&Gr.call(_,"callee")&&!Al.call(_,"callee")},wr=ct.isArray,Ym=wi?Pi(wi):M;function xn(_){return _!=null&&ch(_.length)&&!ra(_)}function ki(_){return bi(_)&&xn(_)}function Zm(_){return _===!0||_===!1||bi(_)&&Fi(_)==ge}var Ra=Cl||Nc,Qm=mi?Pi(mi):U;function Jm(_){return bi(_)&&_.nodeType===1&&!fl(_)}function qm(_){if(_==null)return!0;if(xn(_)&&(wr(_)||typeof _=="string"||typeof _.splice=="function"||Ra(_)||Ro(_)||to(_)))return!_.length;var P=on(_);if(P==Z||P==se)return!_.size;if(hl(_))return!ye(_).length;for(var J in _)if(Gr.call(_,J))return!1;return!0}function e0(_,P){return X(_,P)}function t0(_,P,J){J=typeof J=="function"?J:e;var fe=J?J(_,P):e;return fe===e?X(_,P,e,J):!!fe}function Ac(_){if(!bi(_))return!1;var P=Fi(_);return P==Ke||P==Oe||typeof _.message=="string"&&typeof _.name=="string"&&!fl(_)}function r0(_){return typeof _=="number"&&Xo(_)}function ra(_){if(!di(_))return!1;var P=Fi(_);return P==De||P==Te||P==le||P==de}function qf(_){return typeof _=="number"&&_==Cr(_)}function ch(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=k}function di(_){var P=typeof _;return _!=null&&(P=="object"||P=="function")}function bi(_){return _!=null&&typeof _=="object"}var eu=ii?Pi(ii):q;function i0(_,P){return _===P||oe(_,P,gc(P))}function n0(_,P,J){return J=typeof J=="function"?J:e,oe(_,P,gc(P),J)}function s0(_){return tu(_)&&_!=+_}function a0(_){if($d(_))throw new dr(f);return pe(_)}function o0(_){return _===null}function l0(_){return _==null}function tu(_){return typeof _=="number"||bi(_)&&Fi(_)==ue}function fl(_){if(!bi(_)||Fi(_)!=_e)return!1;var P=yn(_);if(P===null)return!0;var J=Gr.call(P,"constructor")&&P.constructor;return typeof J=="function"&&J instanceof J&&fo.call(J)==ja}var Cc=ni?Pi(ni):me;function h0(_){return qf(_)&&_>=-k&&_<=k}var ru=gi?Pi(gi):be;function fh(_){return typeof _=="string"||!wr(_)&&bi(_)&&Fi(_)==ne}function zn(_){return typeof _=="symbol"||bi(_)&&Fi(_)==we}var Ro=Ni?Pi(Ni):Se;function c0(_){return _===e}function f0(_){return bi(_)&&on(_)==ae}function u0(_){return bi(_)&&Fi(_)==Pe}var d0=th($e),p0=th(function(_,P){return _<=P});function iu(_){if(!_)return[];if(xn(_))return fh(_)?On(_):Sn(_);if($s&&_[$s])return Bh(_[$s]());var P=on(_),J=P==Z?oo:P==se?zs:Io;return J(_)}function ia(_){if(!_)return _===0?_:0;if(_=ts(_),_===O||_===-O){var P=_<0?-1:1;return P*B}return _===_?_:0}function Cr(_){var P=ia(_),J=P%1;return P===P?J?P-J:P:0}function nu(_){return _?Es(Cr(_),0,$):0}function ts(_){if(typeof _=="number")return _;if(zn(_))return H;if(di(_)){var P=typeof _.valueOf=="function"?_.valueOf():_;_=di(P)?P+"":P}if(typeof _!="string")return _===0?_:+_;_=Fs(_);var J=er.test(_);return J||ar.test(_)?qe(_.slice(2),J?2:8):ur.test(_)?H:+_}function su(_){return xs(_,An(_))}function m0(_){return _?Es(Cr(_),-k,k):_===0?_:0}function Qr(_){return _==null?"":ri(_)}var g0=Ao(function(_,P){if(hl(P)||xn(P)){xs(P,Vi(P),_);return}for(var J in P)Gr.call(P,J)&&Aa(_,J,P[J])}),au=Ao(function(_,P){xs(P,An(P),_)}),uh=Ao(function(_,P,J,fe){xs(P,An(P),_,fe)}),v0=Ao(function(_,P,J,fe){xs(P,Vi(P),_,fe)}),b0=ea(ka);function y0(_,P){var J=Sa(_);return P==null?J:$l(J,P)}var w0=kt(function(_,P){_=Er(_);var J=-1,fe=P.length,xe=fe>2?P[2]:e;for(xe&&gn(P[0],P[1],xe)&&(fe=1);++J<fe;)for(var Le=P[J],Xe=An(Le),Ye=-1,nt=Xe.length;++Ye<nt;){var bt=Xe[Ye],yt=_[bt];(yt===e||ls(yt,Nn[bt])&&!Gr.call(_,bt))&&(_[bt]=Le[bt])}return _}),_0=kt(function(_){return _.push(e,Tf),ti(ou,e,_)});function E0(_,P){return _i(_,sr(P,3),Fn)}function T0(_,P){return _i(_,sr(P,3),il)}function S0(_,P){return _==null?_:To(_,sr(P,3),An)}function x0(_,P){return _==null?_:Xl(_,sr(P,3),An)}function A0(_,P){return _&&Fn(_,sr(P,3))}function C0(_,P){return _&&il(_,sr(P,3))}function k0(_){return _==null?[]:So(_,Vi(_))}function R0(_){return _==null?[]:So(_,An(_))}function kc(_,P,J){var fe=_==null?e:Zs(_,P);return fe===e?J:fe}function I0(_,P){return _!=null&&Af(_,P,Kl)}function Rc(_,P){return _!=null&&Af(_,P,N)}var M0=bf(function(_,P,J){P!=null&&typeof P.toString!="function"&&(P=ya.call(P)),_[P]=J},Mc(Cn)),P0=bf(function(_,P,J){P!=null&&typeof P.toString!="function"&&(P=ya.call(P)),Gr.call(_,P)?_[P].push(J):_[P]=[J]},sr),D0=kt(b);function Vi(_){return xn(_)?tl(_):ye(_)}function An(_){return xn(_)?tl(_,!0):Ce(_)}function L0(_,P){var J={};return P=sr(P,3),Fn(_,function(fe,xe,Le){ns(J,P(fe,xe,Le),fe)}),J}function O0(_,P){var J={};return P=sr(P,3),Fn(_,function(fe,xe,Le){ns(J,xe,P(fe,xe,Le))}),J}var N0=Ao(function(_,P,J){ht(_,P,J)}),ou=Ao(function(_,P,J,fe){ht(_,P,J,fe)}),B0=ea(function(_,P){var J={};if(_==null)return J;var fe=!1;P=st(P,function(Le){return Le=Ss(Le,_),fe||(fe=Le.length>1),Le}),xs(_,pc(_),J),fe&&(J=si(J,r|n|l,Md));for(var xe=P.length;xe--;)Qs(J,P[xe]);return J});function F0(_,P){return lu(_,hh(sr(P)))}var U0=ea(function(_,P){return _==null?{}:Pt(_,P)});function lu(_,P){if(_==null)return{};var J=st(pc(_),function(fe){return[fe]});return P=sr(P),xt(_,J,function(fe,xe){return P(fe,xe[0])})}function j0(_,P,J){P=Ss(P,_);var fe=-1,xe=P.length;for(xe||(xe=1,_=e);++fe<xe;){var Le=_==null?e:_[As(P[fe])];Le===e&&(fe=xe,Le=J),_=ra(Le)?Le.call(_):Le}return _}function z0(_,P,J){return _==null?_:Hr(_,P,J)}function H0(_,P,J,fe){return fe=typeof fe=="function"?fe:e,_==null?_:Hr(_,P,J,fe)}var hu=_f(Vi),cu=_f(An);function $0(_,P,J){var fe=wr(_),xe=fe||Ra(_)||Ro(_);if(P=sr(P,4),J==null){var Le=_&&_.constructor;xe?J=fe?new Le:[]:di(_)?J=ra(Le)?Sa(yn(_)):{}:J={}}return(xe?ui:Fn)(_,function(Xe,Ye,nt){return P(J,Xe,Ye,nt)}),J}function W0(_,P){return _==null?!0:Qs(_,P)}function V0(_,P,J){return _==null?_:Za(_,P,Qa(J))}function X0(_,P,J,fe){return fe=typeof fe=="function"?fe:e,_==null?_:Za(_,P,Qa(J),fe)}function Io(_){return _==null?[]:Us(_,Vi(_))}function G0(_){return _==null?[]:Us(_,An(_))}function K0(_,P,J){return J===e&&(J=P,P=e),J!==e&&(J=ts(J),J=J===J?J:0),P!==e&&(P=ts(P),P=P===P?P:0),Es(ts(_),P,J)}function Y0(_,P,J){return P=ia(P),J===e?(J=P,P=0):J=ia(J),_=ts(_),R(_,P,J)}function Z0(_,P,J){if(J&&typeof J!="boolean"&&gn(_,P,J)&&(P=J=e),J===e&&(typeof P=="boolean"?(J=P,P=e):typeof _=="boolean"&&(J=_,_=e)),_===e&&P===e?(_=0,P=1):(_=ia(_),P===e?(P=_,_=0):P=ia(P)),_>P){var fe=_;_=P,P=fe}if(J||_%1||P%1){var xe=Rl();return Wi(_+xe*(P-_+je("1e-"+((xe+"").length-1))),P)}return Gt(_,P)}var Q0=Co(function(_,P,J){return P=P.toLowerCase(),_+(J?fu(P):P)});function fu(_){return Ic(Qr(_).toLowerCase())}function uu(_){return _=Qr(_),_&&_.replace(Ue,Ua).replace(da,"")}function J0(_,P,J){_=Qr(_),P=ri(P);var fe=_.length;J=J===e?fe:Es(Cr(J),0,fe);var xe=J;return J-=P.length,J>=0&&_.slice(J,xe)==P}function q0(_){return _=Qr(_),_&&Nt.test(_)?_.replace(jt,js):_}function eg(_){return _=Qr(_),_&&Xt.test(_)?_.replace(pr,"\\$&"):_}var tg=Co(function(_,P,J){return _+(J?"-":"")+P.toLowerCase()}),rg=Co(function(_,P,J){return _+(J?" ":"")+P.toLowerCase()}),ig=mf("toLowerCase");function ng(_,P,J){_=Qr(_),P=Cr(P);var fe=P?Hs(_):0;if(!P||fe>=P)return _;var xe=(P-fe)/2;return eh(Vs(xe),J)+_+eh(Ha(xe),J)}function sg(_,P,J){_=Qr(_),P=Cr(P);var fe=P?Hs(_):0;return P&&fe<P?_+eh(P-fe,J):_}function ag(_,P,J){_=Qr(_),P=Cr(P);var fe=P?Hs(_):0;return P&&fe<P?eh(P-fe,J)+_:_}function og(_,P,J){return J||P==null?P=0:P&&(P=+P),Xh(Qr(_).replace(hr,""),P||0)}function lg(_,P,J){return(J?gn(_,P,J):P===e)?P=1:P=Cr(P),Kt(Qr(_),P)}function hg(){var _=arguments,P=Qr(_[0]);return _.length<3?P:P.replace(_[1],_[2])}var cg=Co(function(_,P,J){return _+(J?"_":"")+P.toLowerCase()});function fg(_,P,J){return J&&typeof J!="number"&&gn(_,P,J)&&(P=J=e),J=J===e?$:J>>>0,J?(_=Qr(_),_&&(typeof P=="string"||P!=null&&!Cc(P))&&(P=ri(P),!P&&Zi(_))?qn(On(_),0,J):_.split(P,J)):[]}var ug=Co(function(_,P,J){return _+(J?" ":"")+Ic(P)});function dg(_,P,J){return _=Qr(_),J=J==null?0:Es(Cr(J),0,_.length),P=ri(P),_.slice(J,J+P.length)==P}function pg(_,P,J){var fe=Me.templateSettings;J&&gn(_,P,J)&&(P=e),_=Qr(_),P=uh({},P,fe,Ef);var xe=uh({},P.imports,fe.imports,Ef),Le=Vi(xe),Xe=Us(xe,Le),Ye,nt,bt=0,yt=P.interpolate||it,Tt="__p += '",Lt=zo((P.escape||it).source+"|"+yt.source+"|"+(yt===Dt?tr:it).source+"|"+(P.evaluate||it).source+"|$","g"),Yt="//# sourceURL="+(Gr.call(P,"sourceURL")?(P.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xn+"]")+`
`;_.replace(Lt,function(lr,Br,$r,Hn,vn,$n){return $r||($r=Hn),Tt+=_.slice(bt,$n).replace(ot,Uo),Br&&(Ye=!0,Tt+=`' +
__e(`+Br+`) +
'`),vn&&(nt=!0,Tt+=`';
`+vn+`;
__p += '`),$r&&(Tt+=`' +
((__t = (`+$r+`)) == null ? '' : __t) +
'`),bt=$n+lr.length,lr}),Tt+=`';
`;var or=Gr.call(P,"variable")&&P.variable;if(!or)Tt=`with (obj) {
`+Tt+`
}
`;else if(Mr.test(or))throw new dr(c);Tt=(nt?Tt.replace(Qe,""):Tt).replace(rt,"$1").replace(mt,"$1;"),Tt="function("+(or||"obj")+`) {
`+(or?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(nt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Tt+`return __p
}`;var Rr=pu(function(){return Vr(Le,Yt+"return "+Tt).apply(e,Xe)});if(Rr.source=Tt,Ac(Rr))throw Rr;return Rr}function mg(_){return Qr(_).toLowerCase()}function gg(_){return Qr(_).toUpperCase()}function vg(_,P,J){if(_=Qr(_),_&&(J||P===e))return Fs(_);if(!_||!(P=ri(P)))return _;var fe=On(_),xe=On(P),Le=Fa(fe,xe),Xe=ga(fe,xe)+1;return qn(fe,Le,Xe).join("")}function bg(_,P,J){if(_=Qr(_),_&&(J||P===e))return _.slice(0,xl(_)+1);if(!_||!(P=ri(P)))return _;var fe=On(_),xe=ga(fe,On(P))+1;return qn(fe,0,xe).join("")}function yg(_,P,J){if(_=Qr(_),_&&(J||P===e))return _.replace(hr,"");if(!_||!(P=ri(P)))return _;var fe=On(_),xe=Fa(fe,On(P));return qn(fe,xe).join("")}function wg(_,P){var J=V,fe=ie;if(di(P)){var xe="separator"in P?P.separator:xe;J="length"in P?Cr(P.length):J,fe="omission"in P?ri(P.omission):fe}_=Qr(_);var Le=_.length;if(Zi(_)){var Xe=On(_);Le=Xe.length}if(J>=Le)return _;var Ye=J-Hs(fe);if(Ye<1)return fe;var nt=Xe?qn(Xe,0,Ye).join(""):_.slice(0,Ye);if(xe===e)return nt+fe;if(Xe&&(Ye+=nt.length-Ye),Cc(xe)){if(_.slice(Ye).search(xe)){var bt,yt=nt;for(xe.global||(xe=zo(xe.source,Qr(xr.exec(xe))+"g")),xe.lastIndex=0;bt=xe.exec(yt);)var Tt=bt.index;nt=nt.slice(0,Tt===e?Ye:Tt)}}else if(_.indexOf(ri(xe),Ye)!=Ye){var Lt=nt.lastIndexOf(xe);Lt>-1&&(nt=nt.slice(0,Lt))}return nt+fe}function _g(_){return _=Qr(_),_&&Ct.test(_)?_.replace(Ut,Uh):_}var Eg=Co(function(_,P,J){return _+(J?" ":"")+P.toUpperCase()}),Ic=mf("toUpperCase");function du(_,P,J){return _=Qr(_),P=J?e:P,P===e?El(_)?zh(_):li(_):_.match(P)||[]}var pu=kt(function(_,P){try{return ti(_,e,P)}catch(J){return Ac(J)?J:new dr(J)}}),Tg=ea(function(_,P){return ui(P,function(J){J=As(J),ns(_,J,Sc(_[J],_))}),_});function Sg(_){var P=_==null?0:_.length,J=sr();return _=P?st(_,function(fe){if(typeof fe[1]!="function")throw new an(u);return[J(fe[0]),fe[1]]}):[],kt(function(fe){for(var xe=-1;++xe<P;){var Le=_[xe];if(ti(Le[0],this,fe))return ti(Le[1],this,fe)}})}function xg(_){return sc(si(_,r))}function Mc(_){return function(){return _}}function Ag(_,P){return _==null||_!==_?P:_}var Cg=vf(),kg=vf(!0);function Cn(_){return _}function Pc(_){return Re(typeof _=="function"?_:si(_,r))}function Rg(_){return Ze(si(_,r))}function Ig(_,P){return lt(_,si(P,r))}var Mg=kt(function(_,P){return function(J){return b(J,_,P)}}),Pg=kt(function(_,P){return function(J){return b(_,J,P)}});function Dc(_,P,J){var fe=Vi(P),xe=So(P,fe);J==null&&!(di(P)&&(xe.length||!fe.length))&&(J=P,P=_,_=this,xe=So(P,Vi(P)));var Le=!(di(J)&&"chain"in J)||!!J.chain,Xe=ra(_);return ui(xe,function(Ye){var nt=P[Ye];_[Ye]=nt,Xe&&(_.prototype[Ye]=function(){var bt=this.__chain__;if(Le||bt){var yt=_(this.__wrapped__),Tt=yt.__actions__=Sn(this.__actions__);return Tt.push({func:nt,args:arguments,thisArg:_}),yt.__chain__=bt,yt}return nt.apply(_,Et([this.value()],arguments))})}),_}function Dg(){return nr._===this&&(nr._=uo),this}function Lc(){}function Lg(_){return _=Cr(_),kt(function(P){return dt(P,_)})}var Og=fc(st),Ng=fc(bn),Bg=fc(br);function mu(_){return bc(_)?dn(As(_)):Wt(_)}function Fg(_){return function(P){return _==null?e:Zs(_,P)}}var Ug=yf(),jg=yf(!0);function Oc(){return[]}function Nc(){return!1}function zg(){return{}}function Hg(){return""}function $g(){return!0}function Wg(_,P){if(_=Cr(_),_<1||_>k)return[];var J=$,fe=Wi(_,$);P=sr(P),_-=$;for(var xe=_r(fe,P);++J<_;)P(J);return xe}function Vg(_){return wr(_)?st(_,As):zn(_)?[_]:Sn(Of(Qr(_)))}function Xg(_){var P=++ws;return Qr(_)+P}var Gg=ql(function(_,P){return _+P},0),Kg=uc("ceil"),Yg=ql(function(_,P){return _/P},1),Zg=uc("floor");function Qg(_){return _&&_.length?Eo(_,Cn,nl):e}function Jg(_,P){return _&&_.length?Eo(_,sr(P,2),nl):e}function qg(_){return Dn(_,Cn)}function ev(_,P){return Dn(_,sr(P,2))}function tv(_){return _&&_.length?Eo(_,Cn,$e):e}function rv(_,P){return _&&_.length?Eo(_,sr(P,2),$e):e}var iv=ql(function(_,P){return _*P},1),nv=uc("round"),sv=ql(function(_,P){return _-P},0);function av(_){return _&&_.length?Ei(_,Cn):0}function ov(_,P){return _&&_.length?Ei(_,sr(P,2)):0}return Me.after=Rm,Me.ary=Xf,Me.assign=g0,Me.assignIn=au,Me.assignInWith=uh,Me.assignWith=v0,Me.at=b0,Me.before=Gf,Me.bind=Sc,Me.bindAll=Tg,Me.bindKey=Kf,Me.castArray=zm,Me.chain=$f,Me.chunk=Zd,Me.compact=Qd,Me.concat=Jd,Me.cond=Sg,Me.conforms=xg,Me.constant=Mc,Me.countBy=am,Me.create=y0,Me.curry=Yf,Me.curryRight=Zf,Me.debounce=Qf,Me.defaults=w0,Me.defaultsDeep=_0,Me.defer=Im,Me.delay=Mm,Me.difference=qd,Me.differenceBy=ep,Me.differenceWith=tp,Me.drop=rp,Me.dropRight=ip,Me.dropRightWhile=np,Me.dropWhile=sp,Me.fill=ap,Me.filter=lm,Me.flatMap=fm,Me.flatMapDeep=um,Me.flatMapDepth=dm,Me.flatten=Uf,Me.flattenDeep=op,Me.flattenDepth=lp,Me.flip=Pm,Me.flow=Cg,Me.flowRight=kg,Me.fromPairs=hp,Me.functions=k0,Me.functionsIn=R0,Me.groupBy=pm,Me.initial=fp,Me.intersection=up,Me.intersectionBy=dp,Me.intersectionWith=pp,Me.invert=M0,Me.invertBy=P0,Me.invokeMap=gm,Me.iteratee=Pc,Me.keyBy=vm,Me.keys=Vi,Me.keysIn=An,Me.map=ah,Me.mapKeys=L0,Me.mapValues=O0,Me.matches=Rg,Me.matchesProperty=Ig,Me.memoize=lh,Me.merge=N0,Me.mergeWith=ou,Me.method=Mg,Me.methodOf=Pg,Me.mixin=Dc,Me.negate=hh,Me.nthArg=Lg,Me.omit=B0,Me.omitBy=F0,Me.once=Dm,Me.orderBy=bm,Me.over=Og,Me.overArgs=Lm,Me.overEvery=Ng,Me.overSome=Bg,Me.partial=xc,Me.partialRight=Jf,Me.partition=ym,Me.pick=U0,Me.pickBy=lu,Me.property=mu,Me.propertyOf=Fg,Me.pull=bp,Me.pullAll=zf,Me.pullAllBy=yp,Me.pullAllWith=wp,Me.pullAt=_p,Me.range=Ug,Me.rangeRight=jg,Me.rearg=Om,Me.reject=Em,Me.remove=Ep,Me.rest=Nm,Me.reverse=Ec,Me.sampleSize=Sm,Me.set=z0,Me.setWith=H0,Me.shuffle=xm,Me.slice=Tp,Me.sortBy=km,Me.sortedUniq=Ip,Me.sortedUniqBy=Mp,Me.split=fg,Me.spread=Bm,Me.tail=Pp,Me.take=Dp,Me.takeRight=Lp,Me.takeRightWhile=Op,Me.takeWhile=Np,Me.tap=Qp,Me.throttle=Fm,Me.thru=sh,Me.toArray=iu,Me.toPairs=hu,Me.toPairsIn=cu,Me.toPath=Vg,Me.toPlainObject=su,Me.transform=$0,Me.unary=Um,Me.union=Bp,Me.unionBy=Fp,Me.unionWith=Up,Me.uniq=jp,Me.uniqBy=zp,Me.uniqWith=Hp,Me.unset=W0,Me.unzip=Tc,Me.unzipWith=Hf,Me.update=V0,Me.updateWith=X0,Me.values=Io,Me.valuesIn=G0,Me.without=$p,Me.words=du,Me.wrap=jm,Me.xor=Wp,Me.xorBy=Vp,Me.xorWith=Xp,Me.zip=Gp,Me.zipObject=Kp,Me.zipObjectDeep=Yp,Me.zipWith=Zp,Me.entries=hu,Me.entriesIn=cu,Me.extend=au,Me.extendWith=uh,Dc(Me,Me),Me.add=Gg,Me.attempt=pu,Me.camelCase=Q0,Me.capitalize=fu,Me.ceil=Kg,Me.clamp=K0,Me.clone=Hm,Me.cloneDeep=Wm,Me.cloneDeepWith=Vm,Me.cloneWith=$m,Me.conformsTo=Xm,Me.deburr=uu,Me.defaultTo=Ag,Me.divide=Yg,Me.endsWith=J0,Me.eq=ls,Me.escape=q0,Me.escapeRegExp=eg,Me.every=om,Me.find=hm,Me.findIndex=Bf,Me.findKey=E0,Me.findLast=cm,Me.findLastIndex=Ff,Me.findLastKey=T0,Me.floor=Zg,Me.forEach=Wf,Me.forEachRight=Vf,Me.forIn=S0,Me.forInRight=x0,Me.forOwn=A0,Me.forOwnRight=C0,Me.get=kc,Me.gt=Gm,Me.gte=Km,Me.has=I0,Me.hasIn=Rc,Me.head=jf,Me.identity=Cn,Me.includes=mm,Me.indexOf=cp,Me.inRange=Y0,Me.invoke=D0,Me.isArguments=to,Me.isArray=wr,Me.isArrayBuffer=Ym,Me.isArrayLike=xn,Me.isArrayLikeObject=ki,Me.isBoolean=Zm,Me.isBuffer=Ra,Me.isDate=Qm,Me.isElement=Jm,Me.isEmpty=qm,Me.isEqual=e0,Me.isEqualWith=t0,Me.isError=Ac,Me.isFinite=r0,Me.isFunction=ra,Me.isInteger=qf,Me.isLength=ch,Me.isMap=eu,Me.isMatch=i0,Me.isMatchWith=n0,Me.isNaN=s0,Me.isNative=a0,Me.isNil=l0,Me.isNull=o0,Me.isNumber=tu,Me.isObject=di,Me.isObjectLike=bi,Me.isPlainObject=fl,Me.isRegExp=Cc,Me.isSafeInteger=h0,Me.isSet=ru,Me.isString=fh,Me.isSymbol=zn,Me.isTypedArray=Ro,Me.isUndefined=c0,Me.isWeakMap=f0,Me.isWeakSet=u0,Me.join=mp,Me.kebabCase=tg,Me.last=es,Me.lastIndexOf=gp,Me.lowerCase=rg,Me.lowerFirst=ig,Me.lt=d0,Me.lte=p0,Me.max=Qg,Me.maxBy=Jg,Me.mean=qg,Me.meanBy=ev,Me.min=tv,Me.minBy=rv,Me.stubArray=Oc,Me.stubFalse=Nc,Me.stubObject=zg,Me.stubString=Hg,Me.stubTrue=$g,Me.multiply=iv,Me.nth=vp,Me.noConflict=Dg,Me.noop=Lc,Me.now=oh,Me.pad=ng,Me.padEnd=sg,Me.padStart=ag,Me.parseInt=og,Me.random=Z0,Me.reduce=wm,Me.reduceRight=_m,Me.repeat=lg,Me.replace=hg,Me.result=j0,Me.round=nv,Me.runInContext=tt,Me.sample=Tm,Me.size=Am,Me.snakeCase=cg,Me.some=Cm,Me.sortedIndex=Sp,Me.sortedIndexBy=xp,Me.sortedIndexOf=Ap,Me.sortedLastIndex=Cp,Me.sortedLastIndexBy=kp,Me.sortedLastIndexOf=Rp,Me.startCase=ug,Me.startsWith=dg,Me.subtract=sv,Me.sum=av,Me.sumBy=ov,Me.template=pg,Me.times=Wg,Me.toFinite=ia,Me.toInteger=Cr,Me.toLength=nu,Me.toLower=mg,Me.toNumber=ts,Me.toSafeInteger=m0,Me.toString=Qr,Me.toUpper=gg,Me.trim=vg,Me.trimEnd=bg,Me.trimStart=yg,Me.truncate=wg,Me.unescape=_g,Me.uniqueId=Xg,Me.upperCase=Eg,Me.upperFirst=Ic,Me.each=Wf,Me.eachRight=Vf,Me.first=jf,Dc(Me,function(){var _={};return Fn(Me,function(P,J){Gr.call(Me.prototype,J)||(_[J]=P)}),_}(),{chain:!1}),Me.VERSION=m,ui(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){Me[_].placeholder=Me}),ui(["drop","take"],function(_,P){Lr.prototype[_]=function(J){J=J===e?1:xi(Cr(J),0);var fe=this.__filtered__&&!P?new Lr(this):this.clone();return fe.__filtered__?fe.__takeCount__=Wi(J,fe.__takeCount__):fe.__views__.push({size:Wi(J,$),type:_+(fe.__dir__<0?"Right":"")}),fe},Lr.prototype[_+"Right"]=function(J){return this.reverse()[_](J).reverse()}}),ui(["filter","map","takeWhile"],function(_,P){var J=P+1,fe=J==Y||J==j;Lr.prototype[_]=function(xe){var Le=this.clone();return Le.__iteratees__.push({iteratee:sr(xe,3),type:J}),Le.__filtered__=Le.__filtered__||fe,Le}}),ui(["head","last"],function(_,P){var J="take"+(P?"Right":"");Lr.prototype[_]=function(){return this[J](1).value()[0]}}),ui(["initial","tail"],function(_,P){var J="drop"+(P?"":"Right");Lr.prototype[_]=function(){return this.__filtered__?new Lr(this):this[J](1)}}),Lr.prototype.compact=function(){return this.filter(Cn)},Lr.prototype.find=function(_){return this.filter(_).head()},Lr.prototype.findLast=function(_){return this.reverse().find(_)},Lr.prototype.invokeMap=kt(function(_,P){return typeof _=="function"?new Lr(this):this.map(function(J){return b(J,_,P)})}),Lr.prototype.reject=function(_){return this.filter(hh(sr(_)))},Lr.prototype.slice=function(_,P){_=Cr(_);var J=this;return J.__filtered__&&(_>0||P<0)?new Lr(J):(_<0?J=J.takeRight(-_):_&&(J=J.drop(_)),P!==e&&(P=Cr(P),J=P<0?J.dropRight(-P):J.take(P-_)),J)},Lr.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Lr.prototype.toArray=function(){return this.take($)},Fn(Lr.prototype,function(_,P){var J=/^(?:filter|find|map|reject)|While$/.test(P),fe=/^(?:head|last)$/.test(P),xe=Me[fe?"take"+(P=="last"?"Right":""):P],Le=fe||/^find/.test(P);xe&&(Me.prototype[P]=function(){var Xe=this.__wrapped__,Ye=fe?[1]:arguments,nt=Xe instanceof Lr,bt=Ye[0],yt=nt||wr(Xe),Tt=function(Br){var $r=xe.apply(Me,Et([Br],Ye));return fe&&Lt?$r[0]:$r};yt&&J&&typeof bt=="function"&&bt.length!=1&&(nt=yt=!1);var Lt=this.__chain__,Yt=!!this.__actions__.length,or=Le&&!Lt,Rr=nt&&!Yt;if(!Le&&yt){Xe=Rr?Xe:new Lr(this);var lr=_.apply(Xe,Ye);return lr.__actions__.push({func:sh,args:[Tt],thisArg:e}),new wn(lr,Lt)}return or&&Rr?_.apply(this,Ye):(lr=this.thru(Tt),or?fe?lr.value()[0]:lr.value():lr)})}),ui(["pop","push","shift","sort","splice","unshift"],function(_){var P=co[_],J=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",fe=/^(?:pop|shift)$/.test(_);Me.prototype[_]=function(){var xe=arguments;if(fe&&!this.__chain__){var Le=this.value();return P.apply(wr(Le)?Le:[],xe)}return this[J](function(Xe){return P.apply(wr(Xe)?Xe:[],xe)})}}),Fn(Lr.prototype,function(_,P){var J=Me[P];if(J){var fe=J.name+"";Gr.call(_s,fe)||(_s[fe]=[]),_s[fe].push({name:P,func:J})}}),_s[Jl(e,y).name]=[{name:"wrapper",func:e}],Lr.prototype.clone=Yh,Lr.prototype.reverse=Xs,Lr.prototype.value=Ll,Me.prototype.at=Jp,Me.prototype.chain=qp,Me.prototype.commit=em,Me.prototype.next=tm,Me.prototype.plant=im,Me.prototype.reverse=nm,Me.prototype.toJSON=Me.prototype.valueOf=Me.prototype.value=sm,Me.prototype.first=Me.prototype.head,$s&&(Me.prototype[$s]=rm),Me},ba=Hh();Dr?((Dr.exports=ba)._=ba,Zt._=ba):nr._=ba}).call(vr)})(Lh,Lh.exports);Lh.exports;var F1={exports:{}};(function(re,C){(function(e){re.exports=e()})(function(){return function(){function e(m,v,f){function u(t,i){if(!v[t]){if(!m[t]){var r=typeof Oa=="function"&&Oa;if(!i&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var l=v[t]={exports:{}};m[t][0].call(l.exports,function(d){var o=m[t][1][d];return u(o||d)},l,l.exports,e,m,v,f)}return v[t].exports}for(var c=typeof Oa=="function"&&Oa,s=0;s<f.length;s++)u(f[s]);return u}return e}()({1:[function(e,m,v){const f=e("fs"),u=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),s=e("dayjs/plugin/utc"),t=e("dayjs").extend(c).extend(s),i=e("../utils/stream-buf"),{fs:{exists:r}}=e("../utils/utils"),n={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};class l{constructor(o){this.workbook=o,this.worksheet=null}async readFile(o,g){if(g=g||{},!await r(o))throw new Error(`File not found: ${o}`);const y=f.createReadStream(o),p=await this.read(y,g);return y.close(),p}read(o,g){return g=g||{},new Promise((y,p)=>{const E=this.workbook.addWorksheet(g.sheetName),T=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],S=g.map||function(w){if(w==="")return null;const I=Number(w);if(!Number.isNaN(I)&&I!==1/0)return I;const D=T.reduce((ie,ee)=>{if(ie)return ie;const te=t(w,ee,!0);return te.isValid()?te:null},null);if(D)return new Date(D.valueOf());const V=n[w];return V!==void 0?V:w},x=u.parse(g.parserOptions).on("data",w=>{E.addRow(w.map(S))}).on("end",()=>{x.emit("worksheet",E)});x.on("worksheet",y).on("error",p),o.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(o,g){return new Promise((y,p)=>{g=g||{};const E=this.workbook.getWorksheet(g.sheetName||g.sheetId),T=u.format(g.formatterOptions);o.on("finish",()=>{y()}),T.on("error",p),T.pipe(o);const{dateFormat:S,dateUTC:x}=g,w=g.map||(V=>{if(V){if(V.text||V.hyperlink)return V.hyperlink||V.text||"";if(V.formula||V.result)return V.result||"";if(V instanceof Date)return S?x?t.utc(V).format(S):t(V).format(S):x?t.utc(V).format():t(V).format();if(V.error)return V.error;if(typeof V=="object")return JSON.stringify(V)}return V}),I=g.includeEmptyRows===void 0||g.includeEmptyRows;let D=1;E&&E.eachRow((V,ie)=>{if(I)for(;D++<ie-1;)T.write([]);const{values:ee}=V;ee.shift(),T.write(ee.map(w)),D=ie}),T.end()})}writeFile(o,g){g=g||{};const y={encoding:g.encoding||"utf8"},p=f.createWriteStream(o,y);return this.write(p,g)}async writeBuffer(o){const g=new i;return await this.write(g,o),g.read()}}m.exports=l},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,m,v){const f=e("../utils/col-cache");class u{constructor(s,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,!t)this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0;else if(typeof t=="string"){const r=f.decodeAddress(t);this.nativeCol=r.col+i,this.nativeColOff=0,this.nativeRow=r.row+i,this.nativeRowOff=0}else t.nativeCol!==void 0?(this.nativeCol=t.nativeCol||0,this.nativeColOff=t.nativeColOff||0,this.nativeRow=t.nativeRow||0,this.nativeRowOff=t.nativeRowOff||0):t.col!==void 0?(this.col=t.col+i,this.row=t.row+i):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0)}static asInstance(s){return s instanceof u||s==null?s:new u(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(this.worksheet.getColumn(this.nativeCol+1).width*1e4):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(this.worksheet.getRow(this.nativeRow+1).height*1e4):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}m.exports=u},{"../utils/col-cache":19}],3:[function(e,m,v){const f=e("../utils/col-cache"),u=e("../utils/under-dash"),c=e("./enums"),{slideFormula:s}=e("../utils/shared-formula"),t=e("./note");class i{constructor(D,V,ie){if(!D||!V)throw new Error("A Cell needs a Row");this._row=D,this._column=V,f.validateAddress(ie),this._address=ie,this._value=w.create(i.Types.Null,this),this.style=this._mergeStyle(D.style,V.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(D){this.style.numFmt=D}get font(){return this.style.font}set font(D){this.style.font=D}get alignment(){return this.style.alignment}set alignment(D){this.style.alignment=D}get border(){return this.style.border}set border(D){this.style.border=D}get fill(){return this.style.fill}set fill(D){this.style.fill=D}get protection(){return this.style.protection}set protection(D){this.style.protection=D}_mergeStyle(D,V,ie){const ee=D&&D.numFmt||V&&V.numFmt;ee&&(ie.numFmt=ee);const te=D&&D.font||V&&V.font;te&&(ie.font=te);const Y=D&&D.alignment||V&&V.alignment;Y&&(ie.alignment=Y);const W=D&&D.border||V&&V.border;W&&(ie.border=W);const j=D&&D.fill||V&&V.fill;j&&(ie.fill=j);const O=D&&D.protection||V&&V.protection;return O&&(ie.protection=O),ie}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===i.Types.Merge}merge(D,V){this._value.release(),this._value=w.create(i.Types.Merge,this,D),V||(this.style=D.style)}unmerge(){this.type===i.Types.Merge&&(this._value.release(),this._value=w.create(i.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(D){return this._value.type!==i.Types.Merge?!1:this._value.isMergedTo(D)}get master(){return this.type===i.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===i.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(D){if(this.type===i.Types.Merge){this._value.master.value=D;return}this._value.release(),this._value=w.create(w.getType(D),this,D)}get note(){return this._comment&&this._comment.note}set note(D){this._comment=new t(D)}get text(){return this._value.toString()}get html(){return u.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(D){this.type===i.Types.String&&(this._value=w.create(i.Types.Hyperlink,this,{text:this._value.value,hyperlink:D}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:D}=this._row;return{sheetName:D.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(D){this.names=[D]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(D){const{definedNames:V}=this.workbook;V.removeAllNames(this.fullAddress),D.forEach(ie=>{V.addEx(this.fullAddress,ie)})}addName(D){this.workbook.definedNames.addEx(this.fullAddress,D)}removeName(D){this.workbook.definedNames.removeEx(this.fullAddress,D)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(D){this._dataValidations.add(this.address,D)}get model(){const{model:D}=this._value;return D.style=this.style,this._comment&&(D.comment=this._comment.model),D}set model(D){if(this._value.release(),this._value=w.create(D.type,this),this._value.model=D,D.comment)switch(D.comment.type){case"note":this._comment=t.fromModel(D.comment);break}D.style?this.style=D.style:this.style={}}}i.Types=c.ValueType;class r{constructor(D){this.model={address:D.address,type:i.Types.Null}}get value(){return null}set value(D){}get type(){return i.Types.Null}get effectiveType(){return i.Types.Null}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return""}release(){}toString(){return""}}class n{constructor(D,V){this.model={address:D.address,type:i.Types.Number,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Number}get effectiveType(){return i.Types.Number}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class l{constructor(D,V){this.model={address:D.address,type:i.Types.String,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.String}get effectiveType(){return i.Types.String}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}class d{constructor(D,V){this.model={address:D.address,type:i.Types.String,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}toString(){return this.model.value.richText.map(D=>D.text).join("")}get type(){return i.Types.RichText}get effectiveType(){return i.Types.RichText}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}class o{constructor(D,V){this.model={address:D.address,type:i.Types.Date,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Date}get effectiveType(){return i.Types.Date}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}class g{constructor(D,V){this.model={address:D.address,type:i.Types.Hyperlink,text:V?V.text:void 0,hyperlink:V?V.hyperlink:void 0},V&&V.tooltip&&(this.model.tooltip=V.tooltip)}get value(){const D={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(D.tooltip=this.model.tooltip),D}set value(D){this.model={text:D.text,hyperlink:D.hyperlink},D.tooltip&&(this.model.tooltip=D.tooltip)}get text(){return this.model.text}set text(D){this.model.text=D}get hyperlink(){return this.model.hyperlink}set hyperlink(D){this.model.hyperlink=D}get type(){return i.Types.Hyperlink}get effectiveType(){return i.Types.Hyperlink}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}class y{constructor(D,V){this.model={address:D.address,type:i.Types.Merge,master:V?V.address:void 0},this._master=V,V&&V.addMergeRef()}get value(){return this._master.value}set value(D){D instanceof i?(this._master&&this._master.releaseMergeRef(),D.addMergeRef(),this._master=D):this._master.value=D}isMergedTo(D){return D===this._master}get master(){return this._master}get type(){return i.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}class p{constructor(D,V){this.cell=D,this.model={address:D.address,type:i.Types.Formula,shareType:V?V.shareType:void 0,ref:V?V.ref:void 0,formula:V?V.formula:void 0,sharedFormula:V?V.sharedFormula:void 0,result:V?V.result:void 0}}_copyModel(D){const V={},ie=ee=>{const te=D[ee];te&&(V[ee]=te)};return ie("formula"),ie("result"),ie("ref"),ie("shareType"),ie("sharedFormula"),V}get value(){return this._copyModel(this.model)}set value(D){this.model=this._copyModel(D)}validate(D){switch(w.getType(D)){case i.Types.Null:case i.Types.String:case i.Types.Number:case i.Types.Date:break;case i.Types.Hyperlink:case i.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){const D=this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),V=this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g);return{ranges:D,cells:V}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(D){this.model.formula=D}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(D){this.model.result=D}get type(){return i.Types.Formula}get effectiveType(){const D=this.model.result;return D==null?c.ValueType.Null:D instanceof String||typeof D=="string"?c.ValueType.String:typeof D=="number"?c.ValueType.Number:D instanceof Date?c.ValueType.Date:D.text&&D.hyperlink?c.ValueType.Hyperlink:D.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(D){this.model.address=D}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:D}=this.cell,V=D.findCell(this.model.sharedFormula);this._translatedFormula=V&&s(V.formula,V.address,this.model.address)}return this._translatedFormula}toCsvString(){return`${this.model.result||""}`}release(){}toString(){return this.model.result?this.model.result.toString():""}}class E{constructor(D,V){this.model={address:D.address,type:i.Types.SharedString,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.SharedString}get effectiveType(){return i.Types.SharedString}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class T{constructor(D,V){this.model={address:D.address,type:i.Types.Boolean,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Boolean}get effectiveType(){return i.Types.Boolean}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}class S{constructor(D,V){this.model={address:D.address,type:i.Types.Error,value:V}}get value(){return this.model.value}set value(D){this.model.value=D}get type(){return i.Types.Error}get effectiveType(){return i.Types.Error}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}class x{constructor(D,V){this.model={address:D.address,type:i.Types.String,value:JSON.stringify(V),rawValue:V}}get value(){return this.model.rawValue}set value(D){this.model.rawValue=D,this.model.value=JSON.stringify(D)}get type(){return i.Types.String}get effectiveType(){return i.Types.String}get address(){return this.model.address}set address(D){this.model.address=D}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}const w={getType(I){return I==null?i.Types.Null:I instanceof String||typeof I=="string"?i.Types.String:typeof I=="number"?i.Types.Number:typeof I=="boolean"?i.Types.Boolean:I instanceof Date?i.Types.Date:I.text&&I.hyperlink?i.Types.Hyperlink:I.formula||I.sharedFormula?i.Types.Formula:I.richText?i.Types.RichText:I.sharedString?i.Types.SharedString:I.error?i.Types.Error:i.Types.JSON},types:[{t:i.Types.Null,f:r},{t:i.Types.Number,f:n},{t:i.Types.String,f:l},{t:i.Types.Date,f:o},{t:i.Types.Hyperlink,f:g},{t:i.Types.Formula,f:p},{t:i.Types.Merge,f:y},{t:i.Types.JSON,f:x},{t:i.Types.SharedString,f:E},{t:i.Types.RichText,f:d},{t:i.Types.Boolean,f:T},{t:i.Types.Error,f:S}].reduce((I,D)=>(I[D.t]=D.f,I),[]),create(I,D,V){const ie=this.types[I];if(!ie)throw new Error(`Could not create Value of type ${I}`);return new ie(D,V)}};m.exports=i},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,m,v){const f=e("../utils/under-dash"),u=e("./enums"),c=e("../utils/col-cache"),s=9;class t{constructor(r,n,l){this._worksheet=r,this._number=n,l!==!1&&(this.defn=l)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==s}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(r){r?(this.key=r.key,this.width=r.width!==void 0?r.width:s,this.outlineLevel=r.outlineLevel,r.style?this.style=r.style:this.style={},this.header=r.header,this._hidden=!!r.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(r){r!==void 0?(this._header=r,this.headers.forEach((n,l)=>{this._worksheet.getCell(l+1,this.number).value=n})):this._header=void 0}get key(){return this._key}set key(r){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=r,r&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(r){return this.width===r.width&&this.hidden===r.hidden&&this.outlineLevel===r.outlineLevel&&f.isEqual(this.style,r.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const r=this.style;return!(r&&(r.font||r.numFmt||r.alignment||r.border||r.fill||r.protection))}get headerCount(){return this.headers.length}eachCell(r,n){const l=this.number;n||(n=r,r=null),this._worksheet.eachRow(r,(d,o)=>{n(d.getCell(l),o)})}get values(){const r=[];return this.eachCell((n,l)=>{n&&n.type!==u.ValueType.Null&&(r[l]=n.value)}),r}set values(r){if(!r)return;const n=this.number;let l=0;r.hasOwnProperty("0")&&(l=1),r.forEach((d,o)=>{this._worksheet.getCell(o+l,n).value=d})}_applyStyle(r,n){return this.style[r]=n,this.eachCell(l=>{l[r]=n}),n}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}static toModel(r){const n=[];let l=null;return r&&r.forEach((d,o)=>{d.isDefault?l&&(l=null):!l||!d.equivalentTo(l)?(l={min:o+1,max:o+1,width:d.width!==void 0?d.width:s,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},n.push(l)):l.max=o+1}),n.length?n:void 0}static fromModel(r,n){n=n||[];const l=[];let d=1,o=0;for(n=n.sort(function(g,y){return g.min-y.min});o<n.length;){const g=n[o++];for(;d<g.min;)l.push(new t(r,d++));for(;d<=g.max;)l.push(new t(r,d++,g))}return l.length?l:null}}m.exports=t},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,m,v){class f{constructor(c){this.model=c||{}}add(c,s){return this.model[c]=s}find(c){return this.model[c]}remove(c){this.model[c]=void 0}}m.exports=f},{}],6:[function(e,m,v){const f=e("../utils/under-dash"),u=e("../utils/col-cache"),c=e("../utils/cell-matrix"),s=e("./range"),t=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;class i{constructor(){this.matrixMap={}}getMatrix(n){return this.matrixMap[n]||(this.matrixMap[n]=new c)}add(n,l){const d=u.decodeEx(n);this.addEx(d,l)}addEx(n,l){const d=this.getMatrix(l);if(n.top)for(let o=n.left;o<=n.right;o++)for(let g=n.top;g<=n.bottom;g++){const y={sheetName:n.sheetName,address:u.n2l(o)+g,row:g,col:o};d.addCellEx(y)}else d.addCellEx(n)}remove(n,l){const d=u.decodeEx(n);this.removeEx(d,l)}removeEx(n,l){this.getMatrix(l).removeCellEx(n)}removeAllNames(n){f.each(this.matrixMap,l=>{l.removeCellEx(n)})}forEach(n){f.each(this.matrixMap,(l,d)=>{l.forEach(o=>{n(d,o)})})}getNames(n){return this.getNamesEx(u.decodeEx(n))}getNamesEx(n){return f.map(this.matrixMap,(l,d)=>l.findCellEx(n)&&d).filter(Boolean)}_explore(n,l){l.mark=!1;const{sheetName:d}=l,o=new s(l.row,l.col,l.row,l.col,d);let g,y;function p(T,S){const x=n.findCellAt(d,T,l.col);return!x||!x.mark?!1:(o[S]=T,x.mark=!1,!0)}for(y=l.row-1;p(y,"top");y--);for(y=l.row+1;p(y,"bottom");y++);function E(T,S){const x=[];for(y=o.top;y<=o.bottom;y++){const w=n.findCellAt(d,y,T);if(w&&w.mark)x.push(w);else return!1}o[S]=T;for(let w=0;w<x.length;w++)x[w].mark=!1;return!0}for(g=l.col-1;E(g,"left");g--);for(g=l.col+1;E(g,"right");g++);return o}getRanges(n,l){if(l=l||this.matrixMap[n],!l)return{name:n,ranges:[]};l.forEach(o=>{o.mark=!0});const d=l.map(o=>o.mark&&this._explore(l,o)).filter(Boolean).map(o=>o.$shortRange);return{name:n,ranges:d}}normaliseMatrix(n,l){n.forEachInSheet(l,(d,o,g)=>{d&&(d.row!==o||d.col!==g)&&(d.row=o,d.col=g,d.address=u.n2l(g)+o)})}spliceRows(n,l,d,o){f.each(this.matrixMap,g=>{g.spliceRows(n,l,d,o),this.normaliseMatrix(g,n)})}spliceColumns(n,l,d,o){f.each(this.matrixMap,g=>{g.spliceColumns(n,l,d,o),this.normaliseMatrix(g,n)})}get model(){return f.map(this.matrixMap,(n,l)=>this.getRanges(l,n)).filter(n=>n.ranges.length)}set model(n){const l=this.matrixMap={};n.forEach(d=>{const o=l[d.name]=new c;d.ranges.forEach(g=>{t.test(g.split("!").pop()||"")&&o.addCell(g)})})}}m.exports=i},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,m,v){m.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,m,v){const f=e("../utils/col-cache"),u=e("./anchor");class c{constructor(t,i){this.worksheet=t,this.model=i}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(t){let{type:i,imageId:r,range:n,hyperlinks:l}=t;if(this.type=i,this.imageId=r,i==="image")if(typeof n=="string"){const d=f.decode(n);this.range={tl:new u(this.worksheet,{col:d.left,row:d.top},-1),br:new u(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new u(this.worksheet,n.tl,0),br:n.br&&new u(this.worksheet,n.br,0),ext:n.ext,editAs:n.editAs,hyperlinks:l||n.hyperlinks}}}m.exports=c},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,m,v){const f=e("../utils/under-dash");class u{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note};break}return f.deepMerge({},u.DEFAULT_CONFIGS,s)}set model(s){const{note:t}=s,{texts:i}=t;i.length===1&&Object.keys(i[0]).length===1?this.note=i[0].text:this.note=t}static fromModel(s){const t=new u;return t.model=s,t}}u.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},m.exports=u},{"../utils/under-dash":26}],10:[function(e,m,v){const f=e("../utils/col-cache");class u{constructor(){this.decode(arguments)}setTLBR(s,t,i,r,n){if(arguments.length<4){const l=f.decodeAddress(s),d=f.decodeAddress(t);this.model={top:Math.min(l.row,d.row),left:Math.min(l.col,d.col),bottom:Math.max(l.row,d.row),right:Math.max(l.col,d.col),sheetName:i},this.setTLBR(l.row,l.col,d.row,d.col,n)}else this.model={top:Math.min(s,i),left:Math.min(t,r),bottom:Math.max(s,i),right:Math.max(t,r),sheetName:n}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{const t=s[0];if(t instanceof u)this.model={top:t.model.top,left:t.model.left,bottom:t.model.bottom,right:t.model.right,sheetName:t.sheetName};else if(t instanceof Array)this.decode(t);else if(t.top&&t.left&&t.bottom&&t.right)this.model={top:t.top,left:t.left,bottom:t.bottom,right:t.right,sheetName:t.sheetName};else{const i=f.decodeEx(t);i.top?this.model={top:i.top,left:i.left,bottom:i.bottom,right:i.right,sheetName:i.sheetName}:this.model={top:i.row,left:i.col,bottom:i.row,right:i.col,sheetName:i.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error(`Invalid number of arguments to _getDimensions() - ${s.length}`)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){const{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?`${s}!`:`'${s}'!`:""}expand(s,t,i,r){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||t<this.left)&&(this.left=t),(!this.model.bottom||i>this.bottom)&&(this.bottom=i),(!this.model.right||r>this.right)&&(this.right=r)}expandRow(s){if(s){const{dimensions:t,number:i}=s;t&&this.expand(i,t.min,i,t.max)}}expandToAddress(s){const t=f.decodeEx(s);this.expand(t.row,t.col,t.row,t.col)}get tl(){return f.n2l(this.left)+this.top}get $t$l(){return`$${f.n2l(this.left)}$${this.top}`}get br(){return f.n2l(this.right)+this.bottom}get $b$r(){return`$${f.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return!(s.sheetName&&this.sheetName&&s.sheetName!==this.sheetName||s.bottom<this.top||s.top>this.bottom||s.right<this.left||s.left>this.right)}contains(s){const t=f.decodeEx(s);return this.containsEx(t)}containsEx(s){return s.sheetName&&this.sheetName&&s.sheetName!==this.sheetName?!1:s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let t=this.left;t<=this.right;t++)for(let i=this.top;i<=this.bottom;i++)s(f.encodeAddress(i,t),i,t)}}m.exports=u},{"../utils/col-cache":19}],11:[function(e,m,v){const f=e("../utils/under-dash"),u=e("./enums"),c=e("../utils/col-cache"),s=e("./cell");class t{constructor(r,n){this._worksheet=r,this._number=n,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(r){return this._cells[r-1]}getCellEx(r){let n=this._cells[r.col-1];if(!n){const l=this._worksheet.getColumn(r.col);n=new s(this,l,r.address),this._cells[r.col-1]=n}return n}getCell(r){if(typeof r=="string"){const n=this._worksheet.getColumnKey(r);n?r=n.number:r=c.l2n(r)}return this._cells[r-1]||this.getCellEx({address:c.encodeAddress(this._number,r),row:this._number,col:r})}splice(r,n){const l=r+n;for(var d=arguments.length,o=new Array(d>2?d-2:0),g=2;g<d;g++)o[g-2]=arguments[g];const y=o.length-n,p=this._cells.length;let E,T,S;if(y<0)for(E=r+o.length;E<=p;E++)S=this._cells[E-1],T=this._cells[E-y-1],T?(S=this.getCell(E),S.value=T.value,S.style=T.style,S._comment=T._comment):S&&(S.value=null,S.style={},S._comment=void 0);else if(y>0)for(E=p;E>=l;E--)T=this._cells[E-1],T?(S=this.getCell(E+y),S.value=T.value,S.style=T.style,S._comment=T._comment):this._cells[E+y-1]=void 0;for(E=0;E<o.length;E++)S=this.getCell(r+E),S.value=o[E],S.style={},S._comment=void 0}eachCell(r,n){if(n||(n=r,r=null),r&&r.includeEmpty){const l=this._cells.length;for(let d=1;d<=l;d++)n(this.getCell(d),d)}else this._cells.forEach((l,d)=>{l&&l.type!==u.ValueType.Null&&n(l,d+1)})}addPageBreak(r,n){const l=this._worksheet,d=Math.max(0,r-1)||0,o=Math.max(0,n-1)||16838,g={id:this._number,max:o,man:1};d&&(g.min=d),l.rowBreaks.push(g)}get values(){const r=[];return this._cells.forEach(n=>{n&&n.type!==u.ValueType.Null&&(r[n.col]=n.value)}),r}set values(r){if(this._cells=[],r)if(r instanceof Array){let n=0;r.hasOwnProperty("0")&&(n=1),r.forEach((l,d)=>{l!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d+n),row:this._number,col:d+n}).value=l)})}else this._worksheet.eachColumnKey((n,l)=>{r[l]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,n.number),row:this._number,col:n.number}).value=r[l])})}get hasValues(){return f.some(this._cells,r=>r&&r.type!==u.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let r=0;return this.eachCell(()=>{r++}),r}get dimensions(){let r=0,n=0;return this._cells.forEach(l=>{l&&l.type!==u.ValueType.Null&&((!r||r>l.col)&&(r=l.col),n<l.col&&(n=l.col))}),r>0?{min:r,max:n}:null}_applyStyle(r,n){return this.style[r]=n,this._cells.forEach(l=>{l&&(l[r]=n)}),n}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const r=[];let n=0,l=0;return this._cells.forEach(d=>{if(d){const o=d.model;o&&((!n||n>d.col)&&(n=d.col),l<d.col&&(l=d.col),r.push(o))}}),this.height||r.length?{cells:r,number:this.number,min:n,max:l,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(r){if(r.number!==this._number)throw new Error("Invalid row number in model");this._cells=[];let n;r.cells.forEach(l=>{switch(l.type){case s.Types.Merge:break;default:{let d;if(l.address)d=c.decodeAddress(l.address);else if(n){const{row:g}=n,y=n.col+1;d={row:g,col:y,address:c.encodeAddress(g,y),$col$row:`$${c.n2l(y)}$${g}`}}n=d;const o=this.getCellEx(d);o.model=l;break}}}),r.height?this.height=r.height:delete this.height,this.hidden=r.hidden,this.outlineLevel=r.outlineLevel||0,this.style=r.style&&JSON.parse(JSON.stringify(r.style))||{}}}m.exports=t},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,m,v){const f=e("../utils/col-cache");class u{constructor(t,i,r){this.table=t,this.column=i,this.index=r}_set(t,i){this.table.cacheState(),this.column[t]=i}get name(){return this.column.name}set name(t){this._set("name",t)}get filterButton(){return this.column.filterButton}set filterButton(t){this.column.filterButton=t}get style(){return this.column.style}set style(t){this.column.style=t}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(t){this._set("totalsRowLabel",t)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(t){this._set("totalsRowFunction",t)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(t){this._set("totalsRowResult",t)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(t){this._set("totalsRowFormula",t)}}class c{constructor(t,i){this.worksheet=t,i&&(this.table=i,this.validate(),this.store())}getFormula(t){switch(t.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${t.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${t.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${t.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${t.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${t.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${t.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${t.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${t.name}])`;case"custom":return t.totalsRowFormula;default:throw new Error(`Invalid Totals Row Function: ${t.totalsRowFunction}`)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:t}=this,i=(y,p,E)=>{y[p]===void 0&&(y[p]=E)};i(t,"headerRow",!0),i(t,"totalsRow",!1),i(t,"style",{}),i(t.style,"theme","TableStyleMedium2"),i(t.style,"showFirstColumn",!1),i(t.style,"showLastColumn",!1),i(t.style,"showRowStripes",!1),i(t.style,"showColumnStripes",!1);const r=(y,p)=>{if(!y)throw new Error(p)};r(t.ref,"Table must have ref"),r(t.columns,"Table must have column definitions"),r(t.rows,"Table must have row definitions"),t.tl=f.decodeAddress(t.ref);const{row:n,col:l}=t.tl;r(n>0,"Table must be on valid row"),r(l>0,"Table must be on valid col");const{width:d,filterHeight:o,tableHeight:g}=this;t.autoFilterRef=f.encode(n,l,n+o-1,l+d-1),t.tableRef=f.encode(n,l,n+g-1,l+d-1),t.columns.forEach((y,p)=>{r(y.name,`Column ${p} must have a name`),p===0?i(y,"totalsRowLabel","Total"):(i(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const t=(o,g)=>{g&&Object.keys(g).forEach(y=>{o[y]=g[y]})},{worksheet:i,table:r}=this,{row:n,col:l}=r.tl;let d=0;if(r.headerRow){const o=i.getRow(n+d++);r.columns.forEach((g,y)=>{const{style:p,name:E}=g,T=o.getCell(l+y);T.value=E,t(T,p)})}if(r.rows.forEach(o=>{const g=i.getRow(n+d++);o.forEach((y,p)=>{const E=g.getCell(l+p);E.value=y,t(E,r.columns[p].style)})}),r.totalsRow){const o=i.getRow(n+d++);r.columns.forEach((g,y)=>{const p=o.getCell(l+y);y===0?p.value=g.totalsRowLabel:this.getFormula(g)?p.value={formula:g.totalsRowFormula,result:g.totalsRowResult}:p.value=null,t(p,g.style)})}}load(t){const{table:i}=this,{row:r,col:n}=i.tl;let l=0;if(i.headerRow){const d=t.getRow(r+l++);i.columns.forEach((o,g)=>{const y=d.getCell(n+g);y.value=o.name})}if(i.rows.forEach(d=>{const o=t.getRow(r+l++);d.forEach((g,y)=>{const p=o.getCell(n+y);p.value=g})}),i.totalsRow){const d=t.getRow(r+l++);i.columns.forEach((o,g)=>{const y=d.getCell(n+g);g===0?y.value=o.totalsRowLabel:this.getFormula(o)&&(y.value={formula:o.totalsRowFormula,result:o.totalsRowResult})})}}get model(){return this.table}set model(t){this.table=t}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const t=f.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let i=0;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(t.row+i);for(let n=0;n<this._cache.width;n++){const l=r.getCell(t.col+n);l.value=null}}else{for(let i=this.tableHeight;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(t.row+i);for(let n=0;n<this._cache.width;n++){const l=r.getCell(t.col+n);l.value=null}}for(let i=0;i<this.tableHeight;i++){const r=this.worksheet.getRow(t.row+i);for(let n=this.width;n<this._cache.width;n++){const l=r.getCell(t.col+n);l.value=null}}}this.store()}addRow(t,i){this.cacheState(),i===void 0?this.table.rows.push(t):this.table.rows.splice(i,0,t)}removeRows(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(t,i)}getColumn(t){const i=this.table.columns[t];return new u(this,i,t)}addColumn(t,i,r){this.cacheState(),r===void 0?(this.table.columns.push(t),this.table.rows.forEach((n,l)=>{n.push(i[l])})):(this.table.columns.splice(r,0,t),this.table.rows.forEach((n,l)=>{n.splice(r,0,i[l])}))}removeColumns(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(t,i),this.table.rows.forEach(r=>{r.splice(t,i)})}_assign(t,i,r){this.cacheState(),t[i]=r}get ref(){return this.table.ref}set ref(t){this._assign(this.table,"ref",t)}get name(){return this.table.name}set name(t){this.table.name=t}get displayName(){return this.table.displyName||this.table.name}set displayNamename(t){this.table.displayName=t}get headerRow(){return this.table.headerRow}set headerRow(t){this._assign(this.table,"headerRow",t)}get totalsRow(){return this.table.totalsRow}set totalsRow(t){this._assign(this.table,"totalsRow",t)}get theme(){return this.table.style.name}set theme(t){this.table.style.name=t}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(t){this.table.style.showFirstColumn=t}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(t){this.table.style.showLastColumn=t}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(t){this.table.style.showRowStripes=t}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(t){this.table.style.showColumnStripes=t}}m.exports=c},{"../utils/col-cache":19}],13:[function(e,m,v){const f=e("./worksheet"),u=e("./defined-names"),c=e("../xlsx/xlsx"),s=e("../csv/csv");class t{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new u}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let r=1;r<this._worksheets.length;r++)if(!this._worksheets[r])return r;return this._worksheets.length||1}addWorksheet(r,n){const l=this.nextId;n&&(typeof n=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),n={properties:{tabColor:{argb:n}}}):(n.argb||n.theme||n.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),n={properties:{tabColor:n}}));const d=this._worksheets.reduce((y,p)=>(p&&p.orderNo)>y?p.orderNo:y,0),o=Object.assign({},n,{id:l,name:r,orderNo:d+1,workbook:this}),g=new f(o);return this._worksheets[l]=g,g}removeWorksheetEx(r){delete this._worksheets[r.id]}removeWorksheet(r){const n=this.getWorksheet(r);n&&n.destroy()}getWorksheet(r){if(r===void 0)return this._worksheets.find(Boolean);if(typeof r=="number")return this._worksheets[r];if(typeof r=="string")return this._worksheets.find(n=>n&&n.name===r)}get worksheets(){return this._worksheets.slice(1).sort((r,n)=>r.orderNo-n.orderNo).filter(Boolean)}eachSheet(r){this.worksheets.forEach(n=>{r(n,n.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(r){const n=this.media.length;return this.media.push(Object.assign({},r,{type:"image"})),n}getImage(r){return this.media[r]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(r=>r.model),sheets:this.worksheets.map(r=>r.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(r){this.creator=r.creator,this.lastModifiedBy=r.lastModifiedBy,this.lastPrinted=r.lastPrinted,this.created=r.created,this.modified=r.modified,this.company=r.company,this.manager=r.manager,this.title=r.title,this.subject=r.subject,this.keywords=r.keywords,this.category=r.category,this.description=r.description,this.language=r.language,this.revision=r.revision,this.contentStatus=r.contentStatus,this.properties=r.properties,this.calcProperties=r.calcProperties,this._worksheets=[],r.worksheets.forEach(n=>{const{id:l,name:d,state:o}=n,g=r.sheets&&r.sheets.findIndex(p=>p.id===l),y=this._worksheets[l]=new f({id:l,name:d,orderNo:g,state:o,workbook:this});y.model=n}),this._definedNames.model=r.definedNames,this.views=r.views,this._themes=r.themes,this.media=r.media||[]}}m.exports=t},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,m,v){const f=e("../utils/under-dash"),u=e("../utils/col-cache"),c=e("./range"),s=e("./row"),t=e("./column"),i=e("./enums"),r=e("./image"),n=e("./table"),l=e("./data-validations"),d=e("../utils/encryptor"),{copyStyle:o}=e("../utils/copy-style");class g{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!!(p.pageSetup&&(p.pageSetup.fitToWidth||p.pageSetup.fitToHeight)&&!p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new l,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p=`sheet${this.id}`),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error(`The first or last character of worksheet name cannot be a single quotation mark: ${p}`);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(E=>E&&E.name.toLowerCase()===p.toLowerCase()))throw new Error(`Worksheet name already exists: ${p}`);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new c;return this._rows.forEach(E=>{if(E){const T=E.dimensions;T&&p.expand(E.number,T.min,E.number,T.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((S,x)=>{const w=x.header&&1||x.headers&&x.headers.length||0;return Math.max(S,w)},0);let E=1;const T=this._columns=[];p.forEach(S=>{const x=new t(this,E++,!1);T.push(x),x.defn=S})}getColumnKey(p){return this._keys[p]}setColumnKey(p,E){this._keys[p]=E}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){f.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const E=this._keys[p];if(E)return E;p=u.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let E=this._columns.length+1;for(;E<=p;)this._columns.push(new t(this,E++))}return this._columns[p-1]}spliceColumns(p,E){const S=this._rows.length;for(var x=arguments.length,w=new Array(x>2?x-2:0),I=2;I<x;I++)w[I-2]=arguments[I];if(w.length>0)for(let ee=0;ee<S;ee++){const te=[p,E];w.forEach(W=>{te.push(W[ee]||null)});const Y=this.getRow(ee+1);Y.splice.apply(Y,te)}else this._rows.forEach(ee=>{ee&&ee.splice(p,E)});const D=w.length-E,V=p+E,ie=this._columns.length;if(D<0)for(let ee=p+w.length;ee<=ie;ee++)this.getColumn(ee).defn=this.getColumn(ee-D).defn;else if(D>0)for(let ee=ie;ee>=V;ee--)this.getColumn(ee+D).defn=this.getColumn(ee).defn;for(let ee=p;ee<p+w.length;ee++)this.getColumn(ee).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,E,w.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(E=>{p=Math.max(p,E.cellCount)}),p}get actualColumnCount(){const p=[];let E=0;return this.eachRow(T=>{T.eachCell(S=>{let{col:x}=S;p[x]||(p[x]=!0,E++)})}),E}_commitRow(){}get _lastRowNumber(){const p=this._rows;let E=p.length;for(;E>0&&p[E-1]===void 0;)E--;return E}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,E){return this._rows.slice(p-1,p-1+E)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let E=this._rows[p-1];return E||(E=this._rows[p-1]=new s(this,p)),E}getRows(p,E){if(E<1)return;const T=[];for(let S=p;S<p+E;S++)T.push(this.getRow(S));return T}addRow(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const T=this._nextRow,S=this.getRow(T);return S.values=p,this._setStyleOption(T,E[0]==="i"?E:"n"),S}addRows(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const T=[];return p.forEach(S=>{T.push(this.addRow(S,E))}),T}insertRow(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,E),this._setStyleOption(p,T),this.getRow(p)}insertRows(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...E),T!=="n")for(let S=0;S<E.length;S++)T[0]==="o"&&this.findRow(E.length+p+S)!==void 0?this._copyStyle(E.length+p+S,p+S,T[1]==="+"):T[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+S,T[1]==="+");return this.getRows(p,E.length)}_setStyleOption(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";E[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,E[1]==="+"):E[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,E[1]==="+")}_copyStyle(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const S=this.getRow(p),x=this.getRow(E);x.style=o(S.style),S.eachCell({includeEmpty:T},(w,I)=>{x.getCell(I).style=o(w.style)}),x.height=S.height}duplicateRow(p,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const S=this._rows[p-1],x=new Array(E).fill(S.values);this.spliceRows(p+1,T?0:E,...x);for(let w=0;w<E;w++){const I=this._rows[p+w];I.style=S.style,I.height=S.height,S.eachCell({includeEmpty:!0},(D,V)=>{I.getCell(V).style=D.style})}}spliceRows(p,E){const T=p+E;for(var S=arguments.length,x=new Array(S>2?S-2:0),w=2;w<S;w++)x[w-2]=arguments[w];const I=x.length,D=I-E,V=this._rows.length;let ie,ee;if(D<0)for(p===V&&(this._rows[V-1]=void 0),ie=T;ie<=V;ie++)if(ee=this._rows[ie-1],ee){const te=this.getRow(ie+D);te.values=ee.values,te.style=ee.style,te.height=ee.height,ee.eachCell({includeEmpty:!0},(Y,W)=>{te.getCell(W).style=Y.style}),this._rows[ie-1]=void 0}else this._rows[ie+D-1]=void 0;else if(D>0)for(ie=V;ie>=T;ie--)if(ee=this._rows[ie-1],ee){const te=this.getRow(ie+D);te.values=ee.values,te.style=ee.style,te.height=ee.height,ee.eachCell({includeEmpty:!0},(Y,W)=>{if(te.getCell(W).style=Y.style,Y._value.constructor.name==="MergeValue"){const j=this.getRow(Y._row._number+I).getCell(W),O=Y._value._master,k=this.getRow(O._row._number+I).getCell(O._column._number);j.merge(k)}})}else this._rows[ie+D-1]=void 0;for(ie=0;ie<I;ie++){const te=this.getRow(p+ie);te.style={},te.values=x[ie]}this.workbook.definedNames.spliceRows(this.name,p,E,I)}eachRow(p,E){if(E||(E=p,p=void 0),p&&p.includeEmpty){const T=this._rows.length;for(let S=1;S<=T;S++)E(this.getRow(S),S)}else this._rows.forEach(T=>{T&&T.hasValues&&E(T,T.number)})}getSheetValues(){const p=[];return this._rows.forEach(E=>{E&&(p[E.number]=E.values)}),p}findCell(p,E){const T=u.getAddress(p,E),S=this._rows[T.row-1];return S?S.findCell(T.col):void 0}getCell(p,E){const T=u.getAddress(p,E);return this.getRow(T.row).getCellEx(T)}mergeCells(){for(var p=arguments.length,E=new Array(p),T=0;T<p;T++)E[T]=arguments[T];const S=new c(E);this._mergeCellsInternal(S)}mergeCellsWithoutStyle(){for(var p=arguments.length,E=new Array(p),T=0;T<p;T++)E[T]=arguments[T];const S=new c(E);this._mergeCellsInternal(S,!0)}_mergeCellsInternal(p,E){f.each(this._merges,S=>{if(S.intersects(p))throw new Error("Cannot merge already merged cells")});const T=this.getCell(p.top,p.left);for(let S=p.top;S<=p.bottom;S++)for(let x=p.left;x<=p.right;x++)(S>p.top||x>p.left)&&this.getCell(S,x).merge(T,E);this._merges[T.address]=p}_unMergeMaster(p){const E=this._merges[p.address];if(E){for(let T=E.top;T<=E.bottom;T++)for(let S=E.left;S<=E.right;S++)this.getCell(T,S).unmerge();delete this._merges[p.address]}}get hasMerges(){return f.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,E=new Array(p),T=0;T<p;T++)E[T]=arguments[T];const S=new c(E);for(let x=S.top;x<=S.bottom;x++)for(let w=S.left;w<=S.right;w++){const I=this.findCell(x,w);I&&(I.type===i.ValueType.Merge?this._unMergeMaster(I.master):this._merges[I.address]&&this._unMergeMaster(I))}}fillFormula(p,E,T){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const x=u.decode(p),{top:w,left:I,bottom:D,right:V}=x,ie=V-I+1,ee=u.encodeAddress(w,I),te=S==="shared";let Y;typeof T=="function"?Y=T:Array.isArray(T)?Array.isArray(T[0])?Y=(j,O)=>T[j-w][O-I]:Y=(j,O)=>T[(j-w)*ie+(O-I)]:Y=()=>{};let W=!0;for(let j=w;j<=D;j++)for(let O=I;O<=V;O++)W?(this.getCell(j,O).value={shareType:S,formula:E,ref:p,result:Y(j,O)},W=!1):this.getCell(j,O).value=te?{sharedFormula:ee,result:Y(j,O)}:Y(j,O)}addImage(p,E){const T={type:"image",imageId:p,range:E};this._media.push(new r(this,T))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const E={type:"background",imageId:p};this._media.push(new r(this,E))}getBackgroundImageId(){const p=this._media.find(E=>E.type==="background");return p&&p.imageId}protect(p,E){return new Promise(T=>{this.sheetProtection={sheet:!0},E&&"spinCount"in E&&(E.spinCount=Number.isFinite(E.spinCount)?Math.round(Math.max(0,E.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=d.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=E&&"spinCount"in E?E.spinCount:1e5,this.sheetProtection.hashValue=d.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),E&&(this.sheetProtection=Object.assign(this.sheetProtection,E),!p&&"spinCount"in E&&delete this.sheetProtection.spinCount),T()})}unprotect(){this.sheetProtection=null}addTable(p){const E=new n(this,p);return this.tables[p.name]=E,E}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):p instanceof Function?this.conditionalFormattings=this.conditionalFormattings.filter(p):this.conditionalFormattings=[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(S=>S.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(S=>S.model),conditionalFormattings:this.conditionalFormattings};p.cols=t.toModel(this.columns);const E=p.rows=[],T=p.dimensions=new c;return this._rows.forEach(S=>{const x=S&&S.model;x&&(T.expand(x.number,x.min,x.number,x.max),E.push(x))}),p.merges=[],f.each(this._merges,S=>{p.merges.push(S.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(E=>{const T=new s(this,E.number);this._rows[T.number-1]=T,T.model=E})}_parseMergeCells(p){f.each(p.mergeCells,E=>{this.mergeCellsWithoutStyle(E)})}set model(p){this.name=p.name,this._columns=t.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new l(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(E=>new r(this,E)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((E,T)=>{const S=new n;return S.model=T,E[T.name]=S,E},{}),this.conditionalFormattings=p.conditionalFormattings}}m.exports=g},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,m,v){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const f={Workbook:e("./doc/workbook")},u=e("./doc/enums");Object.keys(u).forEach(c=>{f[c]=u[c]}),m.exports=f},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,m,v){const f=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function u(c){return typeof c=="string"?c:f?f.decode(c):c.toString()}v.bufferToString=u},{}],17:[function(e,m,v){const f=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:u}=e("buffer");function c(s){return typeof s!="string"?s:f?u.from(f.encode(s).buffer):u.from(s)}v.stringToBuffer=c},{buffer:220}],18:[function(e,m,v){const f=e("./under-dash"),u=e("./col-cache");class c{constructor(t){this.template=t,this.sheets={}}addCell(t){this.addCellEx(u.decodeEx(t))}getCell(t){return this.findCellEx(u.decodeEx(t),!0)}findCell(t){return this.findCellEx(u.decodeEx(t),!1)}findCellAt(t,i,r){const n=this.sheets[t],l=n&&n[i];return l&&l[r]}addCellEx(t){if(t.top)for(let i=t.top;i<=t.bottom;i++)for(let r=t.left;r<=t.right;r++)this.getCellAt(t.sheetName,i,r);else this.findCellEx(t,!0)}getCellEx(t){return this.findCellEx(t,!0)}findCellEx(t,i){const r=this.findSheet(t,i),n=this.findSheetRow(r,t,i);return this.findRowCell(n,t,i)}getCellAt(t,i,r){const n=this.sheets[t]||(this.sheets[t]=[]),l=n[i]||(n[i]=[]);return l[r]||(l[r]={sheetName:t,address:u.n2l(r)+i,row:i,col:r})}removeCellEx(t){const i=this.findSheet(t);if(!i)return;const r=this.findSheetRow(i,t);r&&delete r[t.col]}forEachInSheet(t,i){const r=this.sheets[t];r&&r.forEach((n,l)=>{n&&n.forEach((d,o)=>{d&&i(d,l,o)})})}forEach(t){f.each(this.sheets,(i,r)=>{this.forEachInSheet(r,t)})}map(t){const i=[];return this.forEach(r=>{i.push(t(r))}),i}findSheet(t,i){const r=t.sheetName;if(this.sheets[r])return this.sheets[r];if(i)return this.sheets[r]=[]}findSheetRow(t,i,r){const{row:n}=i;if(t&&t[n])return t[n];if(r)return t[n]=[]}findRowCell(t,i,r){const{col:n}=i;if(t&&t[n])return t[n];if(r)return t[n]=this.template?Object.assign(i,JSON.parse(JSON.stringify(this.template))):i}spliceRows(t,i,r,n){const l=this.sheets[t];if(l){const d=[];for(let o=0;o<n;o++)d.push([]);l.splice(i,r,...d)}}spliceColumns(t,i,r,n){const l=this.sheets[t];if(l){const d=[];for(let o=0;o<n;o++)d.push(null);f.each(l,o=>{o.splice(i,r,...d)})}}}m.exports=c},{"./col-cache":19,"./under-dash":26}],19:[function(e,m,v){const f=/^[A-Z]+\d+$/,u={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level(c){return c<=26?1:c<=676?2:3},_fill(c){let s,t,i,r,n,l=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;l<=26;)s=this._dictionary[l-1],this._n2l[l]=s,this._l2n[s]=l,l++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(l=27;l<=702;)t=l-27,i=t%26,r=Math.floor(t/26),s=this._dictionary[r]+this._dictionary[i],this._n2l[l]=s,this._l2n[s]=l,l++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(l=703;l<=16384;)t=l-703,i=t%26,r=Math.floor(t/26)%26,n=Math.floor(t/676),s=this._dictionary[n]+this._dictionary[r]+this._dictionary[i],this._n2l[l]=s,this._l2n[s]=l,l++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error(`Out of bounds. Invalid column letter: ${c}`);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(`${c} is out of bounds. Excel supports columns from 1 to 16384`);return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!f.test(c))throw new Error(`Invalid Address: ${c}`);return!0},decodeAddress(c){const s=c.length<5&&this._hash[c];if(s)return s;let t=!1,i="",r=0,n=!1,l="",d=0;for(let g=0,y;g<c.length;g++)if(y=c.charCodeAt(g),!n&&y>=65&&y<=90)t=!0,i+=c[g],r=r*26+y-64;else if(y>=48&&y<=57)n=!0,l+=c[g],d=d*10+y-48;else if(n&&t&&y!==36)break;if(!t)r=void 0;else if(r>16384)throw new Error(`Out of bounds. Invalid column letter: ${i}`);n||(d=void 0),c=i+l;const o={address:c,col:r,row:d,$col$row:`$${i}$${l}`};return r<=100&&d<=100&&(this._hash[c]=o,this._hash[o.$col$row]=o),o},getAddress(c,s){if(s){const t=this.n2l(s)+c;return this.decodeAddress(t)}return this.decodeAddress(c)},decode(c){const s=c.split(":");if(s.length===2){const t=this.decodeAddress(s[0]),i=this.decodeAddress(s[1]),r={top:Math.min(t.row,i.row),left:Math.min(t.col,i.col),bottom:Math.max(t.row,i.row),right:Math.max(t.col,i.col)};return r.tl=this.n2l(r.left)+r.top,r.br=this.n2l(r.right)+r.bottom,r.dimensions=`${r.tl}:${r.br}`,r}return this.decodeAddress(c)},decodeEx(c){const s=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),t=s[1]||s[2],i=s[3],r=i.split(":");if(r.length>1){let l=this.decodeAddress(r[0]),d=this.decodeAddress(r[1]);const o=Math.min(l.row,d.row),g=Math.min(l.col,d.col),y=Math.max(l.row,d.row),p=Math.max(l.col,d.col);return l=this.n2l(g)+o,d=this.n2l(p)+y,{top:o,left:g,bottom:y,right:p,sheetName:t,tl:{address:l,col:g,row:o,$col$row:`$${this.n2l(g)}$${o}`,sheetName:t},br:{address:d,col:p,row:y,$col$row:`$${this.n2l(p)}$${y}`,sheetName:t},dimensions:`${l}:${d}`}}if(i.startsWith("#"))return t?{sheetName:t,error:i}:{error:i};const n=this.decodeAddress(i);return t?{sheetName:t,...n}:n},encodeAddress(c,s){return u.n2l(s)+c},encode(){switch(arguments.length){case 2:return u.encodeAddress(arguments[0],arguments[1]);case 4:return`${u.encodeAddress(arguments[0],arguments[1])}:${u.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,s){const[t,i,,r,n]=c,[l,d]=s;return l>=t&&l<=r&&d>=i&&d<=n}};m.exports=u},{}],20:[function(e,m,v){const f=(t,i)=>({...t,...i.reduce((r,n)=>(t[n]&&(r[n]={...t[n]}),r),{})}),u=function(t,i,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];t[r]&&(i[r]=f(t[r],n))},c=t=>Object.keys(t).length===0,s=t=>{if(!t)return t;if(c(t))return{};const i={...t};return u(t,i,"font",["color"]),u(t,i,"alignment"),u(t,i,"protection"),t.border&&(u(t,i,"border"),u(t.border,i.border,"top",["color"]),u(t.border,i.border,"left",["color"]),u(t.border,i.border,"bottom",["color"]),u(t.border,i.border,"right",["color"]),u(t.border,i.border,"diagonal",["color"])),t.fill&&(u(t,i,"fill",["fgColor","bgColor","center"]),t.fill.stops&&(i.fill.stops=t.fill.stops.map(r=>f(r,["color"])))),i};v.copyStyle=s},{}],21:[function(e,m,v){(function(f){(function(){const u=e("crypto"),c={hash(s){const t=u.createHash(s);for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return t.update(f.concat(r)),t.digest()},convertPasswordToHash(s,t,i,r){if(t=t.toLowerCase(),u.getHashes().indexOf(t)<0)throw new Error(`Hash algorithm '${t}' not supported!`);const l=f.from(s,"utf16le");let d=this.hash(t,f.from(i,"base64"),l);for(let o=0;o<r;o++){const g=f.alloc(4);g.writeUInt32LE(o,0),d=this.hash(t,d,g)}return d.toString("base64")},randomBytes(s){return u.randomBytes(s)}};m.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,m,v){const{SaxesParser:f}=e("saxes"),{PassThrough:u}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");m.exports=async function*(s){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new u));const t=new f;let i;t.on("error",n=>{i=n});let r=[];t.on("opentag",n=>r.push({eventType:"opentag",value:n})),t.on("text",n=>r.push({eventType:"text",value:n})),t.on("closetag",n=>r.push({eventType:"closetag",value:n}));for await(const n of s){if(t.write(c(n)),i)throw i;yield r,r=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,m,v){const f=e("./col-cache"),u=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;function s(t,i,r){const n=f.decode(i),l=f.decode(r);return t.replace(u,(d,o,g,y,p)=>{if(p)return d;const E=c.exec(y);if(E){const T=E[1],S=E[2].toUpperCase(),x=E[3],w=E[4];if(S.length>3||S.length===3&&S>"XFD")return d;let I=f.l2n(S),D=parseInt(w,10);return T||(I+=l.col-n.col),x||(D+=l.row-n.row),(o||"")+(T||"")+f.n2l(I)+(x||"")+D}return d})}m.exports={slideFormula:s}},{"./col-cache":19}],24:[function(e,m,v){(function(f,u){(function(){const c=e("readable-stream"),s=e("./utils"),t=e("./string-buf");class i{constructor(g,y){this._data=g,this._encoding=y}get length(){return this.toBuffer().length}copy(g,y,p,E){return this.toBuffer().copy(g,y,p,E)}toBuffer(){return this._buffer||(this._buffer=u.from(this._data,this._encoding)),this._buffer}}class r{constructor(g){this._data=g}get length(){return this._data.length}copy(g,y,p,E){return this._data._buf.copy(g,y,p,E)}toBuffer(){return this._data.toBuffer()}}class n{constructor(g){this._data=g}get length(){return this._data.length}copy(g,y,p,E){this._data.copy(g,y,p,E)}toBuffer(){return this._data}}class l{constructor(g){this.size=g,this.buffer=u.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=u.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let y;return g===0?null:g===void 0||g>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=u.alloc(g),this.buffer.copy(y,0,this.iRead,g),this.iRead+=g,y)}write(g,y,p){const E=Math.min(p,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,y,y+E),this.iWrite+=E,E}}const d=function(o){o=o||{},this.bufSize=o.bufSize||1024*1024,this.buffers=[],this.batch=o.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(d,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return u.concat(this.buffers.map(o=>o.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const o=new l(this.bufSize);return this.buffers.push(o),o},async _pipe(o){const g=function(y){return new Promise(p=>{y.write(o.toBuffer(),()=>{p()})})};await Promise.all(this.pipes.map(g))},_writeToBuffers(o){let g=0;const y=o.length;for(;g<y;){const p=this._getWritableBuffer();g+=p.write(o,g,y-g)}},async write(o,g,y){g instanceof Function&&(y=g,g="utf8"),y=y||s.nop;let p;if(o instanceof t)p=new r(o);else if(o instanceof u)p=new n(o);else if(typeof o=="string"||o instanceof String||o instanceof ArrayBuffer)p=new i(o,g);else throw new Error("Chunk must be one of type String, Buffer or StringBuf.");if(this.pipes.length)if(this.batch)for(this._writeToBuffers(p);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(p),f.nextTick(y)):(await this._pipe(p),y());else this.paused||this.emit("data",p.toBuffer()),this._writeToBuffers(p),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(o,g,y){const p=E=>{E?y(E):(this._flush(),this.pipes.forEach(T=>{T.end()}),this.emit("finish"))};o?this.write(o,g,p):p()},read(o){let g;if(o){for(g=[];o&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],p=y.read(o);o-=p.length,g.push(p),y.eod&&y.full&&this.buffers.shift()}return u.concat(g)}return g=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],u.concat(g)},setEncoding(o){this.encoding=o},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(o){this.pipes.push(o),!this.paused&&this.buffers.length&&this.end()},unpipe(o){this.pipes=this.pipes.filter(g=>g!==o)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),m.exports=d}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,m,v){(function(f){(function(){class u{constructor(s){this._buf=f.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=f.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let t=this._buf.length*2;for(;t<s;)t*=2;const i=f.alloc(t);this._buf.copy(i,0),this._buf=i}addText(s){this._buffer=void 0;let t=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;t>=this._buf.length-4;)this._grow(this._inPos+s.length),t=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=t}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}m.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,m,v){const{toString:f}=Object.prototype,u=/["&<>]/,c={each:function(t,i){t&&(Array.isArray(t)?t.forEach(i):Object.keys(t).forEach(r=>{i(t[r],r)}))},some:function(t,i){return t?Array.isArray(t)?t.some(i):Object.keys(t).some(r=>i(t[r],r)):!1},every:function(t,i){return t?Array.isArray(t)?t.every(i):Object.keys(t).every(r=>i(t[r],r)):!0},map:function(t,i){return t?Array.isArray(t)?t.map(i):Object.keys(t).map(r=>i(t[r],r)):[]},keyBy(s,t){return s.reduce((i,r)=>(i[r[t]]=r,i),{})},isEqual:function(t,i){const r=typeof t,n=typeof i,l=Array.isArray(t),d=Array.isArray(i);let o;if(r!==n)return!1;switch(typeof t){case"object":if(l||d)return l&&d?t.length===i.length&&t.every((g,y)=>{const p=i[y];return c.isEqual(g,p)}):!1;if(t===null||i===null)return t===i;if(o=Object.keys(t),Object.keys(i).length!==o.length)return!1;for(const g of o)if(!i.hasOwnProperty(g))return!1;return c.every(t,(g,y)=>{const p=i[y];return c.isEqual(g,p)});default:return t===i}},escapeHtml(s){const t=u.exec(s);if(!t)return s;let i="",r="",n=0,l=t.index;for(;l<s.length;l++){switch(s.charAt(l)){case'"':r="&quot;";break;case"&":r="&amp;";break;case"'":r="&apos;";break;case"<":r="&lt;";break;case">":r="&gt;";break;default:continue}n!==l&&(i+=s.substring(n,l)),n=l+1,i+=r}return n!==l?i+s.substring(n,l):i},strcmp(s,t){return s<t?-1:s>t?1:0},isUndefined(s){return f.call(s)==="[object Undefined]"},isObject(s){return f.call(s)==="[object Object]"},deepMerge(){const s=arguments[0]||{},{length:t}=arguments;let i,r,n;function l(d,o){i=s[o],n=Array.isArray(d),c.isObject(d)||n?(n?(n=!1,r=i&&Array.isArray(i)?i:[]):r=i&&c.isObject(i)?i:{},s[o]=c.deepMerge(r,d)):c.isUndefined(d)||(s[o]=d)}for(let d=0;d<t;d++)c.each(arguments[d],l);return s}};m.exports=c},{}],27:[function(e,m,v){(function(f,u){(function(){const c=e("fs"),s=function(r,n,l,d){r.super_=n,d||(d=l,l=null),l&&Object.keys(l).forEach(g=>{Object.defineProperty(r,g,Object.getOwnPropertyDescriptor(l,g))});const o={constructor:{value:r,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(g=>{o[g]=Object.getOwnPropertyDescriptor(d,g)}),r.prototype=Object.create(n.prototype,o)},t=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,i={nop(){},promiseImmediate(r){return new Promise(n=>{f.setImmediate?u(()=>{n(r)}):setTimeout(()=>{n(r)},1)})},inherits:s,dateToExcel(r,n){return 25569+r.getTime()/(24*3600*1e3)-(n?1462:0)},excelToDate(r,n){const l=Math.round((r-25569+(n?1462:0))*24*3600*1e3);return new Date(l)},parsePath(r){const n=r.lastIndexOf("/");return{path:r.substring(0,n),name:r.substring(n+1)}},getRelsPath(r){const n=i.parsePath(r);return`${n.path}/_rels/${n.name}.rels`},xmlEncode(r){const n=t.exec(r);if(!n)return r;let l="",d="",o=0,g=n.index;for(;g<r.length;g++){const y=r.charCodeAt(g);switch(y){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:{if(y<=31&&(y<=8||y>=11&&y!==13)){d="";break}continue}}o!==g&&(l+=r.substring(o,g)),o=g+1,d&&(l+=d)}return o!==g?l+r.substring(o,g):l},xmlDecode(r){return r.replace(/&([a-z]*);/g,n=>{switch(n){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return n}})},validInt(r){const n=parseInt(r,10);return Number.isNaN(n)?0:n},isDateFmt(r){return r?(r=r.replace(/\[[^\]]*]/g,""),r=r.replace(/"[^"]*"/g,""),r.match(/[ymdhMsb]+/)!==null):!1},fs:{exists(r){return new Promise(n=>{c.access(r,c.constants.F_OK,l=>{n(!l)})})}},toIsoDateString(r){return r.toIsoString().subsstr(0,10)},parseBoolean(r){return r===!0||r==="true"||r===1||r==="1"}};m.exports=i}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,m,v){const f=e("./under-dash"),u=e("./utils"),c="<",s=">",t="</",i="/>";function r(d,o,g){d.push(` ${o}="${u.xmlEncode(g.toString())}"`)}function n(d,o){if(o){const g=[];f.each(o,(y,p)=>{y!==void 0&&r(g,p,y)}),d.push(g.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(o){const g=this._xml;g.push("<?xml"),n(g,o),g.push(`?>
`)}openNode(o,g){const y=this.tos,p=this._xml;y&&this.open&&p.push(s),this._stack.push(o),p.push(c),p.push(o),n(p,g),this.leaf=!0,this.open=!0}addAttribute(o,g){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");g!==void 0&&r(this._xml,o,g)}addAttributes(o){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");n(this._xml,o)}writeText(o){const g=this._xml;this.open&&(g.push(s),this.open=!1),this.leaf=!1,g.push(u.xmlEncode(o.toString()))}writeXml(o){this.open&&(this._xml.push(s),this.open=!1),this.leaf=!1,this._xml.push(o)}closeNode(){const o=this._stack.pop(),g=this._xml;this.leaf?g.push(i):(g.push(t),g.push(o),g.push(s)),this.open=!1,this.leaf=!1}leafNode(o,g,y){this.openNode(o,g),y!==void 0&&this.writeText(y),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const o=this._rollbacks.pop();this._xml.length>o.xml&&this._xml.splice(o.xml,this._xml.length-o.xml),this._stack.length>o.stack&&this._stack.splice(o.stack,this._stack.length-o.stack),this.leaf=o.leaf,this.open=o.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},m.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,m,v){(function(f){(function(){const u=e("events"),c=e("jszip"),s=e("./stream-buf"),{stringToBuffer:t}=e("./browser-buffer-encode");class i extends u.EventEmitter{constructor(n){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},n),this.zip=new c,this.stream=new s}append(n,l){l.hasOwnProperty("base64")&&l.base64?this.zip.file(l.name,n,{base64:!0}):(f.browser&&typeof n=="string"&&(n=t(n)),this.zip.file(l.name,n))}async finalize(){const n=await this.zip.generateAsync(this.options);this.stream.end(n),this.emit("finish")}read(n){return this.stream.read(n)}setEncoding(n){return this.stream.setEncoding(n)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(n,l){return this.stream.pipe(n,l)}unpipe(n){return this.stream.unpipe(n)}unshift(n){return this.stream.unshift(n)}wrap(n){return this.stream.wrap(n)}}m.exports={ZipWriter:i}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,m,v){m.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,m,v){m.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,m,v){const f=e("../../utils/parse-sax"),u=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(t){}parseText(t){}parseClose(t){}reconcile(t,i){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(t=>{t instanceof c?t.reset():t.xform&&t.xform.reset()})}mergeModel(t){this.model=Object.assign(this.model||{},t)}async parse(t){for await(const i of t)for(const{eventType:r,value:n}of i)if(r==="opentag")this.parseOpen(n);else if(r==="text")this.parseText(n);else if(r==="closetag"&&!this.parseClose(n.name))return this.model;return this.model}async parseStream(t){return this.parse(f(t))}get xml(){return this.toXml(this.model)}toXml(t){const i=new u;return this.render(i,t),i.xml}static toAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===void 0){if(r)return i}else if(r||t!==i)return t.toString()}static toStringAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return c.toAttribute(t,i,r)}static toStringValue(t,i){return t===void 0?i:t}static toBoolAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===void 0){if(r)return i}else if(r||t!==i)return t?"1":"0"}static toBoolValue(t,i){return t===void 0?i:t==="1"}static toIntAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return c.toAttribute(t,i,r)}static toIntValue(t,i){return t===void 0?i:parseInt(t,10)}static toFloatAttribute(t,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return c.toAttribute(t,i,r)}static toFloatValue(t,i){return t===void 0?i:parseFloat(t)}}m.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,m,v){const f=e("../base-xform"),u=e("../../../utils/col-cache");class c extends f{render(r,n){r.openNode("definedName",{name:n.name,localSheetId:n.localSheetId}),r.writeText(n.ranges.join(",")),r.closeNode()}parseOpen(r){switch(r.name){case"definedName":return this._parsedName=r.attributes.name,this._parsedLocalSheetId=r.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(r){this._parsedText.push(r)}parseClose(){return this.model={name:this._parsedName,ranges:t(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}function s(i){try{return u.decodeEx(i),!0}catch{return!1}}function t(i){const r=[];let n=!1,l="";return i.split(",").forEach(d=>{if(!d)return;const o=(d.match(/'/g)||[]).length;if(!o){n?l+=`${d},`:s(d)&&r.push(d);return}const g=o%2===0;!n&&g&&s(d)?r.push(d):n&&!g?(n=!1,s(l+d)&&r.push(l+d),l=""):(n=!0,l+=`${d},`)}),r}m.exports=c},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,m,v){const f=e("../../../utils/utils"),u=e("../base-xform");class c extends u{render(t,i){t.leafNode("sheet",{sheetId:i.id,name:i.name,state:i.state,"r:id":i.rId})}parseOpen(t){return t.name==="sheet"?(this.model={name:f.xmlDecode(t.attributes.name),id:parseInt(t.attributes.sheetId,10),state:t.attributes.state,rId:t.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}m.exports=c},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,m,v){const f=e("../base-xform");class u extends f{render(s,t){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:t.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"?(this.model={},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],36:[function(e,m,v){const f=e("../base-xform");class u extends f{render(s,t){s.leafNode("workbookPr",{date1904:t.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"?(this.model={date1904:s.attributes.date1904==="1"},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],37:[function(e,m,v){const f=e("../base-xform");class u extends f{render(s,t){const i={xWindow:t.x||0,yWindow:t.y||0,windowWidth:t.width||12e3,windowHeight:t.height||24e3,firstSheet:t.firstSheet,activeTab:t.activeTab};t.visibility&&t.visibility!=="visible"&&(i.visibility=t.visibility),s.leafNode("workbookView",i)}parseOpen(s){if(s.name==="workbookView"){const t=this.model={},i=function(n,l,d){const o=l!==void 0?t[n]=l:d;o!==void 0&&(t[n]=o)},r=function(n,l,d){const o=l!==void 0?t[n]=parseInt(l,10):d;o!==void 0&&(t[n]=o)};return r("x",s.attributes.xWindow,0),r("y",s.attributes.yWindow,0),r("width",s.attributes.windowWidth,25e3),r("height",s.attributes.windowHeight,1e4),i("visibility",s.attributes.visibility,"visible"),r("activeTab",s.attributes.activeTab,void 0),r("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],38:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),s=e("../base-xform"),t=e("../static-xform"),i=e("../list-xform"),r=e("./defined-name-xform"),n=e("./sheet-xform"),l=e("./workbook-view-xform"),d=e("./workbook-properties-xform"),o=e("./workbook-calc-properties-xform");class g extends s{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new d,bookViews:new i({tag:"bookViews",count:!1,childXform:new l}),sheets:new i({tag:"sheets",count:!1,childXform:new n}),definedNames:new i({tag:"definedNames",count:!1,childXform:new r}),calcPr:new o}}prepare(p){p.sheets=p.worksheets;const E=[];let T=0;p.sheets.forEach(S=>{if(S.pageSetup&&S.pageSetup.printArea&&S.pageSetup.printArea.split("&&").forEach(x=>{const w=x.split(":"),I={name:"_xlnm.Print_Area",ranges:[`'${S.name}'!$${w[0]}:$${w[1]}`],localSheetId:T};E.push(I)}),S.pageSetup&&(S.pageSetup.printTitlesRow||S.pageSetup.printTitlesColumn)){const x=[];if(S.pageSetup.printTitlesColumn){const I=S.pageSetup.printTitlesColumn.split(":");x.push(`'${S.name}'!$${I[0]}:$${I[1]}`)}if(S.pageSetup.printTitlesRow){const I=S.pageSetup.printTitlesRow.split(":");x.push(`'${S.name}'!$${I[0]}:$${I[1]}`)}const w={name:"_xlnm.Print_Titles",ranges:x,localSheetId:T};E.push(w)}T++}),E.length&&(p.definedNames=p.definedNames.concat(E)),(p.media||[]).forEach((S,x)=>{S.name=S.type+(x+1)})}render(p,E){p.openXml(c.StdDocAttributes),p.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(p),this.map.workbookPr.render(p,E.properties),this.map.bookViews.render(p,E.views),this.map.sheets.render(p,E.sheets),this.map.definedNames.render(p,E.definedNames),this.map.calcPr.render(p,E.calcProperties),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"workbook":return!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(p){const E=(p.workbookRels||[]).reduce((I,D)=>(I[D.Id]=D,I),{}),T=[];let S,x=0;(p.sheets||[]).forEach(I=>{const D=E[I.rId];D&&(S=p.worksheetHash[`xl/${D.Target.replace(/^(\s|\/xl\/)+/,"")}`],S&&(S.name=I.name,S.id=I.id,S.state=I.state,T[x++]=S))});const w=[];f.each(p.definedNames,I=>{if(I.name==="_xlnm.Print_Area"){if(S=T[I.localSheetId],S){S.pageSetup||(S.pageSetup={});const D=u.decodeEx(I.ranges[0]);S.pageSetup.printArea=S.pageSetup.printArea?`${S.pageSetup.printArea}&&${D.dimensions}`:D.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(S=T[I.localSheetId],S){S.pageSetup||(S.pageSetup={});const D=I.ranges.join(","),V=/\$/g,ie=/\$\d+:\$\d+/,ee=D.match(ie);if(ee&&ee.length){const W=ee[0];S.pageSetup.printTitlesRow=W.replace(V,"")}const te=/\$[A-Z]+:\$[A-Z]+/,Y=D.match(te);if(Y&&Y.length){const W=Y[0];S.pageSetup.printTitlesColumn=W.replace(V,"")}}}else w.push(I)}),p.definedNames=w,p.media.forEach((I,D)=>{I.index=D})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new t({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},m.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,m,v){const f=e("../strings/rich-text-xform"),u=e("../../../utils/utils"),c=e("../base-xform"),s=m.exports=function(t){this.model=t};u.inherits(s,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new f),this._richTextXform},render(t,i){i=i||this.model,t.openNode("comment",{ref:i.ref,authorId:0}),t.openNode("text"),i&&i.note&&i.note.texts&&i.note.texts.forEach(r=>{this.richTextXform.render(t,r)}),t.closeNode(),t.closeNode()},parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"comment":return this.model={type:"note",note:{texts:[]},...t.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(t),!0;default:return!1}},parseText(t){this.parser&&this.parser.parseText(t)},parseClose(t){switch(t){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../../../utils/utils"),c=e("../base-xform"),s=e("./comment-xform"),t=m.exports=function(){this.map={comment:new s}};u.inherits(t,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(i,r){r=r||this.model,i.openXml(f.StdDocAttributes),i.openNode("comments",t.COMMENTS_ATTRIBUTES),i.openNode("authors"),i.leafNode("author",null,"Author"),i.closeNode(),i.openNode("commentList"),r.comments.forEach(n=>{this.map.comment.render(i,n)}),i.closeNode(),i.closeNode()},parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(i),!0;default:return!1}},parseText(i){this.parser&&this.parser.parseText(i)},parseClose(i){switch(i){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,m,v){const f=e("../../base-xform");class u extends f{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,t,i){t===i[2]?s.leafNode(this.tag):this.tag==="x:SizeWithCells"&&t===i[1]&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../../base-xform":32}],42:[function(e,m,v){const f=e("../../base-xform");class u extends f{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}m.exports=u},{"../../base-xform":32}],43:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"x:Anchor"}getAnchorRect(s){const t=Math.floor(s.left),i=Math.floor((s.left-t)*68),r=Math.floor(s.top),n=Math.floor((s.top-r)*18),l=Math.floor(s.right),d=Math.floor((s.right-l)*68),o=Math.floor(s.bottom),g=Math.floor((s.bottom-o)*18);return[t,i,r,n,l,d,o,g]}getDefaultRect(s){const t=s.col,i=6,r=Math.max(s.row-2,0),n=14,l=t+2,d=2,o=r+4;return[t,i,r,n,l,d,o,16]}render(s,t){const i=t.anchor?this.getAnchorRect(t.anchor):this.getDefaultRect(t.refAddress);s.leafNode("x:Anchor",null,i.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],44:[function(e,m,v){const f=e("../base-xform"),u=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),s=e("./style/vml-position-xform"),t=["twoCells","oneCells","absolute"];class i extends f{constructor(){super(),this.map={"x:Anchor":new u,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(n,l){const{protection:d,editAs:o}=l.note;n.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(n,o,t),this.map["x:SizeWithCells"].render(n,o,t),this.map["x:Anchor"].render(n,l),this.map["x:Locked"].render(n,d.locked),n.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(n,d.lockText),n.leafNode("x:Row",null,l.refAddress.row-1),n.leafNode("x:Column",null,l.refAddress.col-1),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n);break}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const n=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),l=Object.keys(n).length;this.model.editAs=t[l],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}m.exports=i},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("./vml-shape-xform");class s extends u{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(i,r){i.openXml(f.StdDocAttributes),i.openNode(this.tag,s.DRAWING_ATTRIBUTES),i.openNode("o:shapelayout",{"v:ext":"edit"}),i.leafNode("o:idmap",{"v:ext":"edit",data:1}),i.closeNode(),i.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),i.leafNode("v:stroke",{joinstyle:"miter"}),i.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),i.closeNode(),r.comments.forEach((n,l)=>{this.map["v:shape"].render(i,n,l)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(i){case this.tag:return!1;default:return!0}}reconcile(i,r){i.anchors.forEach(n=>{n.br?this.map["xdr:twoCellAnchor"].reconcile(n,r):this.map["xdr:oneCellAnchor"].reconcile(n,r)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},m.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,m,v){const f=e("../base-xform"),u=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class s extends f{constructor(){super(),this.map={"v:textbox":new u,"x:ClientData":new c}}get tag(){return"v:shape"}render(i,r,n){i.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(r,n)),i.leafNode("v:fill",{color2:"infoBackground [80]"}),i.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),i.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(i,r),this.map["x:ClientData"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset(),this.model={margins:{insetmode:i.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(t,i)=>({id:`_x0000_s${1025+i}`,type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":t.note.margins&&t.note.margins.insetmode}),m.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"v:textbox"}conversionUnit(s,t,i){return`${parseFloat(s)*t.toFixed(2)}${i}`}reverseConversionUnit(s){return(s||"").split(",").map(t=>Number(parseFloat(this.conversionUnit(parseFloat(t),.1,"")).toFixed(2)))}render(s,t){const i={style:"mso-direction-alt:auto"};if(t&&t.note){let{inset:r}=t.note&&t.note.margins;Array.isArray(r)&&(r=r.map(n=>this.conversionUnit(n,10,"mm")).join(",")),r&&(i.inset=r)}s.openNode("v:textbox",i),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],48:[function(e,m,v){const f=e("./base-xform");class u extends f{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag?(this.model=this.createNewModel(s),!0):!1}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,t){this.model[s]=t.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}m.exports=u},{"./base-xform":32}],49:[function(e,m,v){const f=e("../base-xform");class u extends f{render(s,t){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,t.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}m.exports=u},{"../base-xform":32}],50:[function(e,m,v){const f=e("../base-xform");class u extends f{render(s,t){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:t.length,baseType:"lpstr"}),t.forEach(i=>{s.leafNode("vt:lpstr",void 0,i.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}m.exports=u},{"../base-xform":32}],51:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("../simple/string-xform"),s=e("./app-heading-pairs-xform"),t=e("./app-titles-of-parts-xform");class i extends u{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new t}}render(n,l){n.openXml(f.StdDocAttributes),n.openNode("Properties",i.PROPERTY_ATTRIBUTES),n.leafNode("Application",void 0,"Microsoft Excel"),n.leafNode("DocSecurity",void 0,"0"),n.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(n,l.worksheets),this.map.TitleOfParts.render(n,l.worksheets),this.map.Company.render(n,l.company||""),this.map.Manager.render(n,l.manager),n.leafNode("LinksUpToDate",void 0,"false"),n.leafNode("SharedDoc",void 0,"false"),n.leafNode("HyperlinksChanged",void 0,"false"),n.leafNode("AppVersion",void 0,"16.0300"),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"Properties":return!0;default:return this.parser=this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}i.DateFormat=function(r){return r.toISOString().replace(/[.]\d{3,6}/,"")},i.DateAttrs={"xsi:type":"dcterms:W3CDTF"},i.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},m.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../base-xform");class c extends u{render(t,i){t.openXml(f.StdDocAttributes),t.openNode("Types",c.PROPERTY_ATTRIBUTES);const r={};(i.media||[]).forEach(l=>{if(l.type==="image"){const d=l.extension;r[d]||(r[d]=!0,t.leafNode("Default",{Extension:d,ContentType:`image/${d}`}))}}),t.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),t.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),t.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),i.worksheets.forEach(l=>{const d=`/xl/worksheets/sheet${l.id}.xml`;t.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),t.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),t.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),i.sharedStrings&&i.sharedStrings.count&&t.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),i.tables&&i.tables.forEach(l=>{t.leafNode("Override",{PartName:`/xl/tables/${l.target}`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),i.drawings&&i.drawings.forEach(l=>{t.leafNode("Override",{PartName:`/xl/drawings/${l.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),i.commentRefs&&(t.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),i.commentRefs.forEach(l=>{let{commentName:d}=l;t.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),t.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),t.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),t.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},m.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("../simple/date-xform"),s=e("../simple/string-xform"),t=e("../simple/integer-xform");class i extends u{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:i.DateFormat}),"cp:revision":new t({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:i.DateAttrs,format:i.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:i.DateAttrs,format:i.DateFormat})}}render(n,l){n.openXml(f.StdDocAttributes),n.openNode("cp:coreProperties",i.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(n,l.creator),this.map["dc:title"].render(n,l.title),this.map["dc:subject"].render(n,l.subject),this.map["dc:description"].render(n,l.description),this.map["dc:identifier"].render(n,l.identifier),this.map["dc:language"].render(n,l.language),this.map["cp:keywords"].render(n,l.keywords),this.map["cp:category"].render(n,l.category),this.map["cp:lastModifiedBy"].render(n,l.lastModifiedBy),this.map["cp:lastPrinted"].render(n,l.lastPrinted),this.map["cp:revision"].render(n,l.revision),this.map["cp:version"].render(n,l.version),this.map["cp:contentStatus"].render(n,l.contentStatus),this.map["cp:contentType"].render(n,l.contentType),this.map["dcterms:created"].render(n,l.created),this.map["dcterms:modified"].render(n,l.modified),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[n.name],this.parser)return this.parser.parseOpen(n),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(n)}`)}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error(`Unexpected xml node in parseClose: ${n}`)}}}i.DateFormat=function(r){return r.toISOString().replace(/[.]\d{3}/,"")},i.DateAttrs={"xsi:type":"dcterms:W3CDTF"},i.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},m.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,m,v){const f=e("../base-xform");class u extends f{render(s,t){s.leafNode("Relationship",t)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],55:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("./relationship-xform");class s extends u{constructor(){super(),this.map={Relationship:new c}}render(i,r){r=r||this._values,i.openXml(f.StdDocAttributes),i.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),r.forEach(n=>{this.map.Relationship.render(i,n)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[i.name],this.parser)return this.parser.parseOpen(i),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(i)}`)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(i){case"Relationships":return!1;default:throw new Error(`Unexpected xml node in parseClose: ${i}`)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},m.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,m,v){const f=e("../base-xform");class u extends f{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s);break}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,t){if(s&&s.rId){const r=t.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(r){const n=r[1],l=t.mediaIndex[n];return t.media[l]}}}}m.exports=u},{"../base-xform":32}],57:[function(e,m,v){const f=e("../base-xform"),u=e("./blip-xform");class c extends f{constructor(){super(),this.map={"a:blip":new u}}get tag(){return"xdr:blipFill"}render(t,i){t.openNode(this.tag),this.map["a:blip"].render(t,i),t.openNode("a:stretch"),t.leafNode("a:fillRect"),t.closeNode(),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:this.reset();break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t);break}return!0}parseText(){}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}m.exports=c},{"../base-xform":32,"./blip-xform":58}],58:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"a:blip"}render(s,t){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":t.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],59:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],60:[function(e,m,v){const f=e("../base-xform"),u=e("./hlink-click-xform"),c=e("./ext-lst-xform");class s extends f{constructor(){super(),this.map={"a:hlinkClick":new u,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(i,r){i.openNode(this.tag,{id:r.index,name:`Picture ${r.index}`}),this.map["a:hlinkClick"].render(i,r),this.map["a:extLst"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}m.exports=s},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,m,v){const f=e("../base-xform"),u=e("../simple/integer-xform");class c extends f{constructor(t){super(),this.tag=t.tag,this.map={"xdr:col":new u({tag:"xdr:col",zero:!0}),"xdr:colOff":new u({tag:"xdr:colOff",zero:!0}),"xdr:row":new u({tag:"xdr:row",zero:!0}),"xdr:rowOff":new u({tag:"xdr:rowOff",zero:!0})}}render(t,i){t.openNode(this.tag),this.map["xdr:col"].render(t,i.nativeCol),this.map["xdr:colOff"].render(t,i.nativeColOff),this.map["xdr:row"].render(t,i.nativeRow),this.map["xdr:rowOff"].render(t,i.nativeRowOff),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:this.reset();break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t);break}return!0}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}m.exports=c},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,m,v){const f=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),c=e("../base-xform"),s=e("./two-cell-anchor-xform"),t=e("./one-cell-anchor-xform");function i(n){return(typeof n.range=="string"?f.decode(n.range):n.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}class r extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new t}}prepare(l){l.anchors.forEach((d,o)=>{d.anchorType=i(d),this.map[d.anchorType].prepare(d,{index:o})})}get tag(){return"xdr:wsDr"}render(l,d){l.openXml(u.StdDocAttributes),l.openNode(this.tag,r.DRAWING_ATTRIBUTES),d.anchors.forEach(o=>{this.map[o.anchorType].render(l,o)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l);break}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,d){l.anchors.forEach(o=>{o.br?this.map["xdr:twoCellAnchor"].reconcile(o,d):this.map["xdr:oneCellAnchor"].reconcile(o,d)})}}r.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},m.exports=r},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}m.exports=u},{"../base-xform":32}],64:[function(e,m,v){const f=e("../base-xform"),u=9525;class c extends f{constructor(t){super(),this.tag=t.tag,this.map={}}render(t,i){t.openNode(this.tag);const r=Math.floor(i.width*u),n=Math.floor(i.height*u);t.addAttribute("cx",r),t.addAttribute("cy",n),t.closeNode()}parseOpen(t){return t.name===this.tag?(this.model={width:parseInt(t.attributes.cx||"0",10)/u,height:parseInt(t.attributes.cy||"0",10)/u},!0):!1}parseText(){}parseClose(){return!1}}m.exports=c},{"../base-xform":32}],65:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"a:hlinkClick"}render(s,t){t.hyperlinks&&t.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":t.hyperlinks.rId,tooltip:t.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],66:[function(e,m,v){const f=e("../base-xform"),u=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");class s extends f{constructor(){super(),this.map={"xdr:cNvPr":new u,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(i,r){i.openNode(this.tag),this.map["xdr:cNvPr"].render(i,r),this.map["xdr:cNvPicPr"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i);break}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}m.exports=s},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,m,v){const f=e("./base-cell-anchor-xform"),u=e("../static-xform"),c=e("./cell-position-xform"),s=e("./ext-xform"),t=e("./pic-xform");class i extends f{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new t,"xdr:clientData":new u({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(n,l){this.map["xdr:pic"].prepare(n.picture,l)}render(n,l){n.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,l.range.tl),this.map["xdr:ext"].render(n,l.range.ext),this.map["xdr:pic"].render(n,l.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(n,l){n.medium=this.reconcilePicture(n.picture,l)}}m.exports=i},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,m,v){const f=e("../base-xform"),u=e("../static-xform"),c=e("./blip-fill-xform"),s=e("./nv-pic-pr-xform"),t=e("./sp-pr");class i extends f{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new c,"xdr:spPr":new u(t)}}get tag(){return"xdr:pic"}prepare(n,l){n.index=l.index+1}render(n,l){n.openNode(this.tag),this.map["xdr:nvPicPr"].render(n,l),this.map["xdr:blipFill"].render(n,l),this.map["xdr:spPr"].render(n,l),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n);break}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}}m.exports=i},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,m,v){m.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,m,v){const f=e("./base-cell-anchor-xform"),u=e("../static-xform"),c=e("./cell-position-xform"),s=e("./pic-xform");class t extends f{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new u({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(r,n){this.map["xdr:pic"].prepare(r.picture,n)}render(r,n){r.openNode(this.tag,{editAs:n.range.editAs||"oneCell"}),this.map["xdr:from"].render(r,n.range.tl),this.map["xdr:to"].render(r,n.range.br),this.map["xdr:pic"].render(r,n.picture),this.map["xdr:clientData"].render(r,{}),r.closeNode()}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(r,n){r.medium=this.reconcilePicture(r.picture,n)}}m.exports=t},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,m,v){const f=e("./base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,t){const{childXform:i}=this;s&&s.forEach((r,n)=>{t.index=n,i.prepare(r,t)})}render(s,t){if(this.always||t&&t.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,t&&t.length||0);const{childXform:i}=this;(t||[]).forEach((r,n)=>{i.render(s,r,n)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return this.childXform.parseOpen(s)?(this.parser=this.childXform,!0):!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,t){if(s){const{childXform:i}=this;s.forEach(r=>{i.reconcile(r,t)})}}}m.exports=u},{"./base-xform":32}],72:[function(e,m,v){const f=e("../../../utils/col-cache"),u=e("../base-xform");class c extends u{get tag(){return"autoFilter"}render(t,i){if(i)if(typeof i=="string")t.leafNode("autoFilter",{ref:i});else{const r=function(d){return typeof d=="string"?d:f.getAddress(d.row,d.column).address},n=r(i.from),l=r(i.to);n&&l&&t.leafNode("autoFilter",{ref:`${n}:${l}`})}}parseOpen(t){t.name==="autoFilter"&&(this.model=t.attributes.ref)}}m.exports=c},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,m,v){const f=e("../../../utils/utils"),u=e("../base-xform"),c=e("../../../doc/range"),s=e("../../../doc/enums"),t=e("../strings/rich-text-xform");function i(l){if(l==null)return s.ValueType.Null;if(l instanceof String||typeof l=="string")return s.ValueType.String;if(typeof l=="number")return s.ValueType.Number;if(typeof l=="boolean")return s.ValueType.Boolean;if(l instanceof Date)return s.ValueType.Date;if(l.text&&l.hyperlink)return s.ValueType.Hyperlink;if(l.formula)return s.ValueType.Formula;if(l.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}function r(l){switch(l.type){case s.ValueType.Formula:return i(l.result);default:return l.type}}class n extends u{constructor(){super(),this.richTextXForm=new t}get tag(){return"c"}prepare(d,o){const g=o.styles.addStyleModel(d.style||{},r(d));switch(g&&(d.styleId=g),d.comment&&o.comments.push({...d.comment,ref:d.address}),d.type){case s.ValueType.String:case s.ValueType.RichText:o.sharedStrings&&(d.ssId=o.sharedStrings.add(d.value));break;case s.ValueType.Date:o.date1904&&(d.date1904=!0);break;case s.ValueType.Hyperlink:o.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=o.sharedStrings.add(d.text)),o.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case s.ValueType.Merge:o.merges.add(d);break;case s.ValueType.Formula:if(o.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=o.siFormulae++),d.formula)o.formulae[d.address]=d;else if(d.sharedFormula){const y=o.formulae[d.sharedFormula];if(!y)throw new Error(`Shared Formula master must exist above and or left of clone for cell ${d.address}`);y.si===void 0?(y.shareType="shared",y.si=o.siFormulae++,y.range=new c(y.address,d.address)):y.range&&y.range.expandToAddress(d.address),d.si=y.si}break}}renderFormula(d,o){let g=null;switch(o.shareType){case"shared":g={t:"shared",ref:o.ref||o.range.range,si:o.si};break;case"array":g={t:"array",ref:o.ref};break;default:o.si!==void 0&&(g={t:"shared",si:o.si});break}switch(i(o.result)){case s.ValueType.Null:d.leafNode("f",g,o.formula);break;case s.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",g,o.formula),d.leafNode("v",null,o.result);break;case s.ValueType.Number:d.leafNode("f",g,o.formula),d.leafNode("v",null,o.result);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",g,o.formula),d.leafNode("v",null,o.result?1:0);break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",g,o.formula),d.leafNode("v",null,o.result.error);break;case s.ValueType.Date:d.leafNode("f",g,o.formula),d.leafNode("v",null,f.dateToExcel(o.result,o.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,o){if(!(o.type===s.ValueType.Null&&!o.styleId)){switch(d.openNode("c"),d.addAttribute("r",o.address),o.styleId&&d.addAttribute("s",o.styleId),o.type){case s.ValueType.Null:break;case s.ValueType.Number:d.leafNode("v",null,o.value);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,o.value?"1":"0");break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,o.value.error);break;case s.ValueType.String:case s.ValueType.RichText:o.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,o.ssId)):o.value&&o.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),o.value.richText.forEach(g=>{this.richTextXForm.render(d,g)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,o.value));break;case s.ValueType.Date:d.leafNode("v",null,f.dateToExcel(o.value,o.date1904));break;case s.ValueType.Hyperlink:o.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,o.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,o.text));break;case s.ValueType.Formula:this.renderFormula(d,o);break;case s.ValueType.Merge:break}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser){this.parser.parseText(d);return}switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d;break}}parseClose(d){switch(d){case"c":{const{model:o}=this;if(o.formula||o.shareType)o.type=s.ValueType.Formula,o.value&&(this.t==="str"?o.result=f.xmlDecode(o.value):this.t==="b"?o.result=parseInt(o.value,10)!==0:this.t==="e"?o.result={error:o.value}:o.result=parseFloat(o.value),o.value=void 0);else if(o.value!==void 0)switch(this.t){case"s":o.type=s.ValueType.String,o.value=parseInt(o.value,10);break;case"str":o.type=s.ValueType.String,o.value=f.xmlDecode(o.value);break;case"inlineStr":o.type=s.ValueType.String;break;case"b":o.type=s.ValueType.Boolean,o.value=parseInt(o.value,10)!==0;break;case"e":o.type=s.ValueType.Error,o.value={error:o.value};break;default:o.type=s.ValueType.Number,o.value=parseFloat(o.value);break}else o.styleId?o.type=s.ValueType.Null:o.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return this.parser?(this.parser.parseClose(d),!0):!1}}reconcile(d,o){const g=d.styleId&&o.styles&&o.styles.getStyleModel(d.styleId);switch(g&&(d.style=g),d.styleId!==void 0&&(d.styleId=void 0),d.type){case s.ValueType.String:typeof d.value=="number"&&o.sharedStrings&&(d.value=o.sharedStrings.getString(d.value)),d.value.richText&&(d.type=s.ValueType.RichText);break;case s.ValueType.Number:g&&f.isDateFmt(g.numFmt)&&(d.type=s.ValueType.Date,d.value=f.excelToDate(d.value,o.date1904));break;case s.ValueType.Formula:d.result!==void 0&&g&&f.isDateFmt(g.numFmt)&&(d.result=f.excelToDate(d.result,o.date1904)),d.shareType==="shared"&&(d.ref?o.formulae[d.si]=d.address:(d.sharedFormula=o.formulae[d.si],delete d.shareType),delete d.si);break}const y=o.hyperlinkMap[d.address];y&&(d.type===s.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=s.ValueType.Hyperlink,d.hyperlink=y);const p=o.commentsMap&&o.commentsMap[d.address];p&&(d.comment=p)}}m.exports=n},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,m,v){const f=e("../../base-xform");class u extends f{get tag(){return"x14:cfIcon"}render(s,t){s.leafNode(this.tag,{iconSet:t.iconSet,iconId:t.iconId})}parseOpen(s){let{attributes:t}=s;this.model={iconSet:t.iconSet,iconId:f.toIntValue(t.iconId)}}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],75:[function(e,m,v){const{v4:f}=e("uuid"),u=e("../../base-xform"),c=e("../../composite-xform"),s=e("./databar-ext-xform"),t=e("./icon-set-ext-xform"),i={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class r extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new t}}get tag(){return"x14:cfRule"}static isExt(l){return l.type==="dataBar"?s.isExt(l):!!(l.type==="iconSet"&&(l.custom||i[l.iconSet]))}prepare(l){r.isExt(l)&&(l.x14Id=`{${f()}}`.toUpperCase())}render(l,d){if(r.isExt(d))switch(d.type){case"dataBar":this.renderDataBar(l,d);break;case"iconSet":this.renderIconSet(l,d);break}}renderDataBar(l,d){l.openNode(this.tag,{type:"dataBar",id:d.x14Id}),this.databarXform.render(l,d),l.closeNode()}renderIconSet(l,d){l.openNode(this.tag,{type:"iconSet",priority:d.priority,id:d.x14Id||`{${f()}}`}),this.iconSetXform.render(l,d),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{type:d.type,x14Id:d.id,priority:u.toIntValue(d.priority)}}onParserClose(l,d){Object.assign(this.model,d.model)}}m.exports=r},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,m,v){const f=e("../../composite-xform"),u=e("./f-ext-xform");class c extends f{constructor(){super(),this.map={"xm:f":this.fExtXform=new u}}get tag(){return"x14:cfvo"}render(t,i){t.openNode(this.tag,{type:i.type}),i.value!==void 0&&this.fExtXform.render(t,i.value),t.closeNode()}createNewModel(t){return{type:t.attributes.type}}onParserClose(t,i){switch(t){case"xm:f":this.model.value=i.model?parseFloat(i.model):0;break}}}m.exports=c},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,m,v){const f=e("../../composite-xform"),u=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");class s extends f{constructor(){super(),this.map={"xm:sqref":this.sqRef=new u,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(i,r){i.rules.forEach(n=>{this.cfRule.prepare(n,r)})}render(i,r){r.rules.some(c.isExt)&&(i.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),r.rules.filter(c.isExt).forEach(n=>this.cfRule.render(i,n)),this.sqRef.render(i,r.ref),i.closeNode())}createNewModel(){return{rules:[]}}onParserClose(i,r){switch(i){case"xm:sqref":this.model.ref=r.model;break;case"x14:cfRule":this.model.rules.push(r.model);break}}}m.exports=s},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,m,v){const f=e("../../composite-xform"),u=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");class s extends f{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(i){return i.hasExtContent===void 0&&(i.hasExtContent=i.some(r=>r.rules.some(u.isExt))),i.hasExtContent}prepare(i,r){i.forEach(n=>{this.cfXform.prepare(n,r)})}render(i,r){this.hasContent(r)&&(i.openNode(this.tag),r.forEach(n=>this.cfXform.render(i,n)),i.closeNode())}createNewModel(){return[]}onParserClose(i,r){this.model.push(r.model)}}m.exports=s},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,m,v){const f=e("../../base-xform"),u=e("../../composite-xform"),c=e("../../style/color-xform"),s=e("./cfvo-ext-xform");class t extends u{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(r){return!r.gradient}get tag(){return"x14:dataBar"}render(r,n){r.openNode(this.tag,{minLength:f.toIntAttribute(n.minLength,0,!0),maxLength:f.toIntAttribute(n.maxLength,100,!0),border:f.toBoolAttribute(n.border,!1),gradient:f.toBoolAttribute(n.gradient,!0),negativeBarColorSameAsPositive:f.toBoolAttribute(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolAttribute(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toAttribute(n.axisPosition,"auto"),direction:f.toAttribute(n.direction,"leftToRight")}),n.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),this.borderColorXform.render(r,n.borderColor),this.negativeBorderColorXform.render(r,n.negativeBorderColor),this.negativeFillColorXform.render(r,n.negativeFillColor),this.axisColorXform.render(r,n.axisColor),r.closeNode()}createNewModel(r){let{attributes:n}=r;return{cfvo:[],minLength:f.toIntValue(n.minLength,0),maxLength:f.toIntValue(n.maxLength,100),border:f.toBoolValue(n.border,!1),gradient:f.toBoolValue(n.gradient,!0),negativeBarColorSameAsPositive:f.toBoolValue(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolValue(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toStringValue(n.axisPosition,"auto"),direction:f.toStringValue(n.direction,"leftToRight")}}onParserClose(r,n){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;default:this.model[l]=n.model;break}}}m.exports=t},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,m,v){const f=e("../../base-xform");class u extends f{get tag(){return"xm:f"}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],81:[function(e,m,v){const f=e("../../base-xform"),u=e("../../composite-xform"),c=e("./cfvo-ext-xform"),s=e("./cf-icon-ext-xform");class t extends u{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(r,n){r.openNode(this.tag,{iconSet:f.toStringAttribute(n.iconSet),reverse:f.toBoolAttribute(n.reverse,!1),showValue:f.toBoolAttribute(n.showValue,!0),custom:f.toBoolAttribute(n.icons,!1)}),n.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),n.icons&&n.icons.forEach((l,d)=>{l.iconId=d,this.cfIconXform.render(r,l)}),r.closeNode()}createNewModel(r){let{attributes:n}=r;return{cfvo:[],iconSet:f.toStringValue(n.iconSet,"3TrafficLights"),reverse:f.toBoolValue(n.reverse,!1),showValue:f.toBoolValue(n.showValue,!0)}}onParserClose(r,n){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(n.model);break;default:this.model[l]=n.model;break}}}m.exports=t},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,m,v){const f=e("../../base-xform");class u extends f{get tag(){return"xm:sqref"}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],83:[function(e,m,v){const f=e("../../base-xform"),u=e("../../composite-xform"),c=e("../../../../doc/range"),s=e("./databar-xform"),t=e("./ext-lst-ref-xform"),i=e("./formula-xform"),r=e("./color-scale-xform"),n=e("./icon-set-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},d=p=>{if(p.formulae&&p.formulae[0])return p.formulae[0];const E=new c(p.ref),{tl:T}=E;switch(p.operator){case"containsText":return`NOT(ISERROR(SEARCH("${p.text}",${T})))`;case"containsBlanks":return`LEN(TRIM(${T}))=0`;case"notContainsBlanks":return`LEN(TRIM(${T}))>0`;case"containsErrors":return`ISERROR(${T})`;case"notContainsErrors":return`NOT(ISERROR(${T}))`;default:return}},o=p=>{if(p.formulae&&p.formulae[0])return p.formulae[0];const E=new c(p.ref),{tl:T}=E;switch(p.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${T},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${T},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${T},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${T},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${T},1)=TODAY()-1`;case"today":return`FLOOR(${T},1)=TODAY()`;case"tomorrow":return`FLOOR(${T},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${T},1)<=6,FLOOR(${T},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0-1)),YEAR(${T})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${T})=MONTH(TODAY()),YEAR(${T})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0+1)),YEAR(${T})=YEAR(EDATE(TODAY(),0+1)))`;default:return}},g=p=>{const{type:E,operator:T}=p;switch(E){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:E};default:return{type:E,operator:T}}};class y extends u{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new t,formula:this.formulaXform=new i,colorScale:this.colorScaleXform=new r,iconSet:this.iconSetXform=new n}}get tag(){return"cfRule"}static isPrimitive(E){return!(E.type==="iconSet"&&(E.custom||l[E.iconSet]))}render(E,T){switch(T.type){case"expression":this.renderExpression(E,T);break;case"cellIs":this.renderCellIs(E,T);break;case"top10":this.renderTop10(E,T);break;case"aboveAverage":this.renderAboveAverage(E,T);break;case"dataBar":this.renderDataBar(E,T);break;case"colorScale":this.renderColorScale(E,T);break;case"iconSet":this.renderIconSet(E,T);break;case"containsText":this.renderText(E,T);break;case"timePeriod":this.renderTimePeriod(E,T);break}}renderExpression(E,T){E.openNode(this.tag,{type:"expression",dxfId:T.dxfId,priority:T.priority}),this.formulaXform.render(E,T.formulae[0]),E.closeNode()}renderCellIs(E,T){E.openNode(this.tag,{type:"cellIs",dxfId:T.dxfId,priority:T.priority,operator:T.operator}),T.formulae.forEach(S=>{this.formulaXform.render(E,S)}),E.closeNode()}renderTop10(E,T){E.leafNode(this.tag,{type:"top10",dxfId:T.dxfId,priority:T.priority,percent:f.toBoolAttribute(T.percent,!1),bottom:f.toBoolAttribute(T.bottom,!1),rank:f.toIntValue(T.rank,10,!0)})}renderAboveAverage(E,T){E.leafNode(this.tag,{type:"aboveAverage",dxfId:T.dxfId,priority:T.priority,aboveAverage:f.toBoolAttribute(T.aboveAverage,!0)})}renderDataBar(E,T){E.openNode(this.tag,{type:"dataBar",priority:T.priority}),this.databarXform.render(E,T),this.extLstRefXform.render(E,T),E.closeNode()}renderColorScale(E,T){E.openNode(this.tag,{type:"colorScale",priority:T.priority}),this.colorScaleXform.render(E,T),E.closeNode()}renderIconSet(E,T){y.isPrimitive(T)&&(E.openNode(this.tag,{type:"iconSet",priority:T.priority}),this.iconSetXform.render(E,T),E.closeNode())}renderText(E,T){E.openNode(this.tag,{type:T.operator,dxfId:T.dxfId,priority:T.priority,operator:f.toStringAttribute(T.operator,"containsText")});const S=d(T);S&&this.formulaXform.render(E,S),E.closeNode()}renderTimePeriod(E,T){E.openNode(this.tag,{type:"timePeriod",dxfId:T.dxfId,priority:T.priority,timePeriod:T.timePeriod});const S=o(T);S&&this.formulaXform.render(E,S),E.closeNode()}createNewModel(E){let{attributes:T}=E;return{...g(T),dxfId:f.toIntValue(T.dxfId),priority:f.toIntValue(T.priority),timePeriod:T.timePeriod,percent:f.toBoolValue(T.percent),bottom:f.toBoolValue(T.bottom),rank:f.toIntValue(T.rank),aboveAverage:f.toBoolValue(T.aboveAverage)}}onParserClose(E,T){switch(E){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,T.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(T.model);break}}}m.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,m,v){const f=e("../../base-xform");class u extends f{get tag(){return"cfvo"}render(s,t){s.leafNode(this.tag,{type:t.type,val:t.value})}parseOpen(s){this.model={type:s.attributes.type,value:f.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],85:[function(e,m,v){const f=e("../../composite-xform"),u=e("../../style/color-xform"),c=e("./cfvo-xform");class s extends f{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new u}}get tag(){return"colorScale"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),r.color.forEach(n=>{this.colorXform.render(i,n)}),i.closeNode()}createNewModel(i){return{cfvo:[],color:[]}}onParserClose(i,r){this.model[i].push(r.model)}}m.exports=s},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,m,v){const f=e("../../composite-xform"),u=e("./cf-rule-xform");class c extends f{constructor(){super(),this.map={cfRule:new u}}get tag(){return"conditionalFormatting"}render(t,i){i.rules.some(u.isPrimitive)&&(t.openNode(this.tag,{sqref:i.ref}),i.rules.forEach(r=>{u.isPrimitive(r)&&(r.ref=i.ref,this.map.cfRule.render(t,r))}),t.closeNode())}createNewModel(t){let{attributes:i}=t;return{ref:i.sqref,rules:[]}}onParserClose(t,i){this.model.rules.push(i.model)}}m.exports=c},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,m,v){const f=e("../../base-xform"),u=e("./conditional-formatting-xform");class c extends f{constructor(){super(),this.cfXform=new u}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(t,i){let r=t.reduce((n,l)=>Math.max(n,...l.rules.map(d=>d.priority||0)),1);t.forEach(n=>{n.rules.forEach(l=>{l.priority||(l.priority=r++),l.style&&(l.dxfId=i.styles.addDxfStyle(l.style))})})}render(t,i){i.forEach(r=>{this.cfXform.render(t,r)})}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(t),!0;default:return!1}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){return this.parser?this.parser.parseClose(t)?!0:(this.model.push(this.parser.model),this.parser=void 0,!1):!1}reconcile(t,i){t.forEach(r=>{r.rules.forEach(n=>{n.dxfId!==void 0&&(n.style=i.styles.getDxfStyle(n.dxfId),delete n.dxfId)})})}}m.exports=c},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,m,v){const f=e("../../composite-xform"),u=e("../../style/color-xform"),c=e("./cfvo-xform");class s extends f{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new u}}get tag(){return"dataBar"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),this.colorXform.render(i,r.color),i.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(i,r){switch(i){case"cfvo":this.model.cfvo.push(r.model);break;case"color":this.model.color=r.model;break}}}m.exports=s},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,m,v){const f=e("../../base-xform"),u=e("../../composite-xform");class c extends f{get tag(){return"x14:id"}render(r,n){r.leafNode(this.tag,null,n)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}class s extends u{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(r,n){r.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(r,n.x14Id),r.closeNode()}createNewModel(){return{}}onParserClose(r,n){this.model.x14Id=n.model}}class t extends u{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(r,n){r.openNode(this.tag),this.map.ext.render(r,n),r.closeNode()}createNewModel(){return{}}onParserClose(r,n){Object.assign(this.model,n.model)}}m.exports=t},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,m,v){const f=e("../../base-xform");class u extends f{get tag(){return"formula"}render(s,t){s.leafNode(this.tag,null,t)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}m.exports=u},{"../../base-xform":32}],91:[function(e,m,v){const f=e("../../base-xform"),u=e("../../composite-xform"),c=e("./cfvo-xform");class s extends u{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(i,r){i.openNode(this.tag,{iconSet:f.toStringAttribute(r.iconSet,"3TrafficLights"),reverse:f.toBoolAttribute(r.reverse,!1),showValue:f.toBoolAttribute(r.showValue,!0)}),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),i.closeNode()}createNewModel(i){let{attributes:r}=i;return{iconSet:f.toStringValue(r.iconSet,"3TrafficLights"),reverse:f.toBoolValue(r.reverse),showValue:f.toBoolValue(r.showValue),cfvo:[]}}onParserClose(i,r){this.model[i].push(r.model)}}m.exports=s},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,m,v){const f=e("../../../utils/utils"),u=e("../base-xform");class c extends u{get tag(){return"col"}prepare(t,i){const r=i.styles.addStyleModel(t.style||{});r&&(t.styleId=r)}render(t,i){t.openNode("col"),t.addAttribute("min",i.min),t.addAttribute("max",i.max),i.width&&t.addAttribute("width",i.width),i.styleId&&t.addAttribute("style",i.styleId),i.hidden&&t.addAttribute("hidden","1"),i.bestFit&&t.addAttribute("bestFit","1"),i.outlineLevel&&t.addAttribute("outlineLevel",i.outlineLevel),i.collapsed&&t.addAttribute("collapsed","1"),t.addAttribute("customWidth","1"),t.closeNode()}parseOpen(t){if(t.name==="col"){const i=this.model={min:parseInt(t.attributes.min||"0",10),max:parseInt(t.attributes.max||"0",10),width:t.attributes.width===void 0?void 0:parseFloat(t.attributes.width||"0")};return t.attributes.style&&(i.styleId=parseInt(t.attributes.style,10)),f.parseBoolean(t.attributes.hidden)&&(i.hidden=!0),f.parseBoolean(t.attributes.bestFit)&&(i.bestFit=!0),t.attributes.outlineLevel&&(i.outlineLevel=parseInt(t.attributes.outlineLevel,10)),f.parseBoolean(t.attributes.collapsed)&&(i.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(t,i){t.styleId&&(t.style=i.styles.getStyleModel(t.styleId))}}m.exports=c},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../../../utils/utils"),c=e("../../../utils/col-cache"),s=e("../base-xform"),t=e("../../../doc/range");function i(d,o,g,y){const p=o[g];p!==void 0?d[g]=p:y!==void 0&&(d[g]=y)}function r(d,o,g,y){const p=o[g];p!==void 0?d[g]=u.parseBoolean(p):y!==void 0&&(d[g]=y)}function n(d){const o=f.map(d,(p,E)=>({address:E,dataValidation:p,marked:!1})).sort((p,E)=>f.strcmp(p.address,E.address)),g=f.keyBy(o,"address"),y=(p,E,T)=>{for(let S=0;S<E;S++){const x=c.encodeAddress(p.row+S,T);if(!d[x]||!f.isEqual(d[p.address],d[x]))return!1}return!0};return o.map(p=>{if(!p.marked){const E=c.decodeEx(p.address);if(E.dimensions)return g[E.dimensions].marked=!0,{...p.dataValidation,sqref:p.address};let T=1,S=c.encodeAddress(E.row+T,E.col);for(;d[S]&&f.isEqual(p.dataValidation,d[S]);)T++,S=c.encodeAddress(E.row+T,E.col);let x=1;for(;y(E,T,E.col+x);)x++;for(let w=0;w<T;w++)for(let I=0;I<x;I++)S=c.encodeAddress(E.row+w,E.col+I),g[S].marked=!0;if(T>1||x>1){const w=E.row+(T-1),I=E.col+(x-1);return{...p.dataValidation,sqref:`${p.address}:${c.encodeAddress(w,I)}`}}return{...p.dataValidation,sqref:p.address}}return null}).filter(Boolean)}class l extends s{get tag(){return"dataValidations"}render(o,g){const y=n(g);y.length&&(o.openNode("dataValidations",{count:y.length}),y.forEach(p=>{o.openNode("dataValidation"),p.type!=="any"&&(o.addAttribute("type",p.type),p.operator&&p.type!=="list"&&p.operator!=="between"&&o.addAttribute("operator",p.operator),p.allowBlank&&o.addAttribute("allowBlank","1")),p.showInputMessage&&o.addAttribute("showInputMessage","1"),p.promptTitle&&o.addAttribute("promptTitle",p.promptTitle),p.prompt&&o.addAttribute("prompt",p.prompt),p.showErrorMessage&&o.addAttribute("showErrorMessage","1"),p.errorStyle&&o.addAttribute("errorStyle",p.errorStyle),p.errorTitle&&o.addAttribute("errorTitle",p.errorTitle),p.error&&o.addAttribute("error",p.error),o.addAttribute("sqref",p.sqref),(p.formulae||[]).forEach((E,T)=>{o.openNode(`formula${T+1}`),p.type==="date"?o.writeText(u.dateToExcel(new Date(E))):o.writeText(E),o.closeNode()}),o.closeNode()}),o.closeNode())}parseOpen(o){switch(o.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=o.attributes.sqref;const g={type:o.attributes.type||"any",formulae:[]};switch(o.attributes.type&&r(g,o.attributes,"allowBlank"),r(g,o.attributes,"showInputMessage"),r(g,o.attributes,"showErrorMessage"),g.type){case"any":case"list":case"custom":break;default:i(g,o.attributes,"operator","between");break}return i(g,o.attributes,"promptTitle"),i(g,o.attributes,"prompt"),i(g,o.attributes,"errorStyle"),i(g,o.attributes,"errorTitle"),i(g,o.attributes,"error"),this._dataValidation=g,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(o){this._formula&&this._formula.push(o)}parseClose(o){switch(o){case"dataValidations":return!1;case"dataValidation":return(!this._dataValidation.formulae||!this._dataValidation.formulae.length)&&(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(y=>{y.includes(":")?new t(y).forEachAddress(E=>{this.model[E]=this._dataValidation}):this.model[y]=this._dataValidation}),!0;case"formula1":case"formula2":{let g=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":g=parseInt(g,10);break;case"decimal":g=parseFloat(g);break;case"date":g=u.excelToDate(parseFloat(g));break}return this._dataValidation.formulae.push(g),this._formula=void 0,!0}default:return!0}}}m.exports=l},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"dimension"}render(s,t){t&&s.leafNode("dimension",{ref:t})}parseOpen(s){return s.name==="dimension"?(this.model=s.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],95:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"drawing"}render(s,t){t&&s.leafNode(this.tag,{"r:id":t.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],96:[function(e,m,v){const f=e("../composite-xform"),u=e("./cf-ext/conditional-formattings-ext-xform");class c extends f{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new u}}get tag(){return"ext"}hasContent(i){return this.conditionalFormattings.hasContent(i.conditionalFormattings)}prepare(i,r){this.conditionalFormattings.prepare(i.conditionalFormattings,r)}render(i,r){i.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(i,r.conditionalFormattings),i.closeNode()}createNewModel(){return{}}onParserClose(i,r){this.model[i]=r.model}}class s extends f{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(i,r){this.ext.prepare(i,r)}hasContent(i){return this.ext.hasContent(i)}render(i,r){this.hasContent(r)&&(i.openNode("extLst"),this.ext.render(i,r),i.closeNode())}createNewModel(){return{}}onParserClose(i,r){Object.assign(this.model,r.model)}}m.exports=s},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"headerFooter"}render(s,t){if(t){s.addRollback();let i=!1;s.openNode("headerFooter"),t.differentFirst&&(s.addAttribute("differentFirst","1"),i=!0),t.differentOddEven&&(s.addAttribute("differentOddEven","1"),i=!0),t.oddHeader&&typeof t.oddHeader=="string"&&(s.leafNode("oddHeader",null,t.oddHeader),i=!0),t.oddFooter&&typeof t.oddFooter=="string"&&(s.leafNode("oddFooter",null,t.oddFooter),i=!0),t.evenHeader&&typeof t.evenHeader=="string"&&(s.leafNode("evenHeader",null,t.evenHeader),i=!0),t.evenFooter&&typeof t.evenFooter=="string"&&(s.leafNode("evenFooter",null,t.evenFooter),i=!0),t.firstHeader&&typeof t.firstHeader=="string"&&(s.leafNode("firstHeader",null,t.firstHeader),i=!0),t.firstFooter&&typeof t.firstFooter=="string"&&(s.leafNode("firstFooter",null,t.firstFooter),i=!0),i?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s;break}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}m.exports=u},{"../base-xform":32}],98:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"hyperlink"}render(s,t){this.isInternalLink(t)?s.leafNode("hyperlink",{ref:t.address,"r:id":t.rId,tooltip:t.tooltip,location:t.target}):s.leafNode("hyperlink",{ref:t.address,"r:id":t.rId,tooltip:t.tooltip})}parseOpen(s){return s.name==="hyperlink"?(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0):!1}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}m.exports=u},{"../base-xform":32}],99:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"mergeCell"}render(s,t){s.leafNode("mergeCell",{ref:t})}parseOpen(s){return s.name==="mergeCell"?(this.model=s.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],100:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../../../doc/range"),c=e("../../../utils/col-cache"),s=e("../../../doc/enums");class t{constructor(){this.merges={}}add(r){if(this.merges[r.master])this.merges[r.master].expandToAddress(r.address);else{const n=`${r.master}:${r.address}`;this.merges[r.master]=new u(n)}}get mergeCells(){return f.map(this.merges,r=>r.range)}reconcile(r,n){f.each(r,l=>{const d=c.decode(l);for(let o=d.top;o<=d.bottom;o++){const g=n[o-1];for(let y=d.left;y<=d.right;y++){const p=g.cells[y-1];p?p.type===s.ValueType.Merge&&(p.master=d.tl):g.cells[y]={type:s.ValueType.Null,address:c.encodeAddress(o,y)}}}})}getMasterAddress(r){const n=this.hash[r];return n&&n.tl}}m.exports=t},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,m,v){const f=e("../base-xform"),u=s=>typeof s<"u";class c extends f{get tag(){return"outlinePr"}render(t,i){return i&&(u(i.summaryBelow)||u(i.summaryRight))?(t.leafNode(this.tag,{summaryBelow:u(i.summaryBelow)?Number(i.summaryBelow):void 0,summaryRight:u(i.summaryRight)?Number(i.summaryRight):void 0}),!0):!1}parseOpen(t){return t.name===this.tag?(this.model={summaryBelow:u(t.attributes.summaryBelow)?!!Number(t.attributes.summaryBelow):void 0,summaryRight:u(t.attributes.summaryRight)?!!Number(t.attributes.summaryRight):void 0},!0):!1}parseText(){}parseClose(){return!1}}m.exports=c},{"../base-xform":32}],102:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"brk"}render(s,t){s.leafNode("brk",t)}parseOpen(s){return s.name==="brk"?(this.model=s.attributes.ref,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],103:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../base-xform");class c extends u{get tag(){return"pageMargins"}render(t,i){if(i){const r={left:i.left,right:i.right,top:i.top,bottom:i.bottom,header:i.header,footer:i.footer};f.some(r,n=>n!==void 0)&&t.leafNode(this.tag,r)}}parseOpen(t){switch(t.name){case this.tag:return this.model={left:parseFloat(t.attributes.left||.7),right:parseFloat(t.attributes.right||.7),top:parseFloat(t.attributes.top||.75),bottom:parseFloat(t.attributes.bottom||.75),header:parseFloat(t.attributes.header||.3),footer:parseFloat(t.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=c},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"pageSetUpPr"}render(s,t){return t&&t.fitToPage?(s.leafNode(this.tag,{fitToPage:t.fitToPage?"1":void 0}),!0):!1}parseOpen(s){return s.name===this.tag?(this.model={fitToPage:s.attributes.fitToPage==="1"},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],105:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../base-xform");function c(l){return l?"1":void 0}function s(l){switch(l){case"overThenDown":return l;default:return}}function t(l){switch(l){case"atEnd":case"asDisplyed":return l;default:return}}function i(l){switch(l){case"dash":case"blank":case"NA":return l;default:return}}function r(l){return l!==void 0?parseInt(l,10):void 0}class n extends u{get tag(){return"pageSetup"}render(d,o){if(o){const g={paperSize:o.paperSize,orientation:o.orientation,horizontalDpi:o.horizontalDpi,verticalDpi:o.verticalDpi,pageOrder:s(o.pageOrder),blackAndWhite:c(o.blackAndWhite),draft:c(o.draft),cellComments:t(o.cellComments),errors:i(o.errors),scale:o.scale,fitToWidth:o.fitToWidth,fitToHeight:o.fitToHeight,firstPageNumber:o.firstPageNumber,useFirstPageNumber:c(o.firstPageNumber),usePrinterDefaults:c(o.usePrinterDefaults),copies:o.copies};f.some(g,y=>y!==void 0)&&d.leafNode(this.tag,g)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:r(d.attributes.paperSize),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=n},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"picture"}render(s,t){t&&s.leafNode(this.tag,{"r:id":t.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],107:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../base-xform");function c(t){return t?"1":void 0}class s extends u{get tag(){return"printOptions"}render(i,r){if(r){const n={headings:c(r.showRowColHeaders),gridLines:c(r.showGridLines),horizontalCentered:c(r.horizontalCentered),verticalCentered:c(r.verticalCentered)};f.some(n,l=>l!==void 0)&&i.leafNode(this.tag,n)}}parseOpen(i){switch(i.name){case this.tag:return this.model={showRowColHeaders:i.attributes.headings==="1",showGridLines:i.attributes.gridLines==="1",horizontalCentered:i.attributes.horizontalCentered==="1",verticalCentered:i.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=s},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,m,v){const f=e("./page-breaks-xform"),u=e("../list-xform");class c extends u{constructor(){const t={tag:"rowBreaks",count:!0,childXform:new f};super(t)}render(t,i){if(i&&i.length){t.openNode(this.tag,this.$),this.count&&(t.addAttribute(this.$count,i.length),t.addAttribute("manualBreakCount",i.length));const{childXform:r}=this;i.forEach(n=>{r.render(t,n)}),t.closeNode()}else this.empty&&t.leafNode(this.tag)}}m.exports=c},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,m,v){const f=e("../base-xform"),u=e("../../../utils/utils"),c=e("./cell-xform");class s extends f{constructor(i){super(),this.maxItems=i&&i.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(i,r){const n=r.styles.addStyleModel(i.style);n&&(i.styleId=n);const l=this.map.c;i.cells.forEach(d=>{l.prepare(d,r)})}render(i,r,n){i.openNode("row"),i.addAttribute("r",r.number),r.height&&(i.addAttribute("ht",r.height),i.addAttribute("customHeight","1")),r.hidden&&i.addAttribute("hidden","1"),r.min>0&&r.max>0&&r.min<=r.max&&i.addAttribute("spans",`${r.min}:${r.max}`),r.styleId&&(i.addAttribute("s",r.styleId),i.addAttribute("customFormat","1")),i.addAttribute("x14ac:dyDescent","0.25"),r.outlineLevel&&i.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&i.addAttribute("collapsed","1");const l=this.map.c;r.cells.forEach(d=>{l.render(i,d,n)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;if(i.name==="row"){this.numRowsSeen+=1;const r=i.attributes.spans?i.attributes.spans.split(":").map(l=>parseInt(l,10)):[void 0,void 0],n=this.model={number:parseInt(i.attributes.r,10),min:r[0],max:r[1],cells:[]};return i.attributes.s&&(n.styleId=parseInt(i.attributes.s,10)),u.parseBoolean(i.attributes.hidden)&&(n.hidden=!0),u.parseBoolean(i.attributes.bestFit)&&(n.bestFit=!0),i.attributes.ht&&(n.height=parseFloat(i.attributes.ht)),i.attributes.outlineLevel&&(n.outlineLevel=parseInt(i.attributes.outlineLevel,10)),u.parseBoolean(i.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[i.name],this.parser?(this.parser.parseOpen(i),!0):!1}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(i,r){i.style=i.styleId?r.styles.getStyleModel(i.styleId):{},i.styleId!==void 0&&(i.styleId=void 0);const n=this.map.c;i.cells.forEach(l=>{n.reconcile(l,r)})}}m.exports=s},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../base-xform");class c extends u{get tag(){return"sheetFormatPr"}render(t,i){if(i){const r={defaultRowHeight:i.defaultRowHeight,outlineLevelRow:i.outlineLevelRow,outlineLevelCol:i.outlineLevelCol,"x14ac:dyDescent":i.dyDescent};i.defaultColWidth&&(r.defaultColWidth=i.defaultColWidth),(!i.defaultRowHeight||i.defaultRowHeight!==15)&&(r.customHeight="1"),f.some(r,n=>n!==void 0)&&t.leafNode("sheetFormatPr",r)}}parseOpen(t){return t.name==="sheetFormatPr"?(this.model={defaultRowHeight:parseFloat(t.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(t.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(t.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(t.attributes.outlineLevelCol||"0",10)},t.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(t.attributes.defaultColWidth)),!0):!1}parseText(){}parseClose(){return!1}}m.exports=c},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,m,v){const f=e("../base-xform"),u=e("../style/color-xform"),c=e("./page-setup-properties-xform"),s=e("./outline-properties-xform");class t extends f{constructor(){super(),this.map={tabColor:new u("tabColor"),pageSetUpPr:new c,outlinePr:new s}}get tag(){return"sheetPr"}render(r,n){if(n){r.addRollback(),r.openNode("sheetPr");let l=!1;l=this.map.tabColor.render(r,n.tabColor)||l,l=this.map.pageSetUpPr.render(r,n.pageSetup)||l,l=this.map.outlinePr.render(r,n.outlineProperties)||l,l?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){return this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag?(this.reset(),!0):this.map[r.name]?(this.parser=this.map[r.name],this.parser.parseOpen(r),!0):!1}parseText(r){return this.parser?(this.parser.parseText(r),!0):!1}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}m.exports=t},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../base-xform");function c(i,r){return i?r:void 0}function s(i,r){return i===r?!0:void 0}class t extends u{get tag(){return"sheetProtection"}render(r,n){if(n){const l={sheet:c(n.sheet,"1"),selectLockedCells:n.selectLockedCells===!1?"1":void 0,selectUnlockedCells:n.selectUnlockedCells===!1?"1":void 0,formatCells:c(n.formatCells,"0"),formatColumns:c(n.formatColumns,"0"),formatRows:c(n.formatRows,"0"),insertColumns:c(n.insertColumns,"0"),insertRows:c(n.insertRows,"0"),insertHyperlinks:c(n.insertHyperlinks,"0"),deleteColumns:c(n.deleteColumns,"0"),deleteRows:c(n.deleteRows,"0"),sort:c(n.sort,"0"),autoFilter:c(n.autoFilter,"0"),pivotTables:c(n.pivotTables,"0")};n.sheet&&(l.algorithmName=n.algorithmName,l.hashValue=n.hashValue,l.saltValue=n.saltValue,l.spinCount=n.spinCount,l.objects=c(n.objects===!1,"1"),l.scenarios=c(n.scenarios===!1,"1")),f.some(l,d=>d!==void 0)&&r.leafNode(this.tag,l)}}parseOpen(r){switch(r.name){case this.tag:return this.model={sheet:s(r.attributes.sheet,"1"),objects:r.attributes.objects==="1"?!1:void 0,scenarios:r.attributes.scenarios==="1"?!1:void 0,selectLockedCells:r.attributes.selectLockedCells==="1"?!1:void 0,selectUnlockedCells:r.attributes.selectUnlockedCells==="1"?!1:void 0,formatCells:s(r.attributes.formatCells,"0"),formatColumns:s(r.attributes.formatColumns,"0"),formatRows:s(r.attributes.formatRows,"0"),insertColumns:s(r.attributes.insertColumns,"0"),insertRows:s(r.attributes.insertRows,"0"),insertHyperlinks:s(r.attributes.insertHyperlinks,"0"),deleteColumns:s(r.attributes.deleteColumns,"0"),deleteRows:s(r.attributes.deleteRows,"0"),sort:s(r.attributes.sort,"0"),autoFilter:s(r.attributes.autoFilter,"0"),pivotTables:s(r.attributes.pivotTables,"0")},r.attributes.algorithmName&&(this.model.algorithmName=r.attributes.algorithmName,this.model.hashValue=r.attributes.hashValue,this.model.saltValue=r.attributes.saltValue,this.model.spinCount=parseInt(r.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=t},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,m,v){const f=e("../../../utils/col-cache"),u=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};class s extends u{get tag(){return"sheetView"}prepare(i){switch(i.state){case"frozen":case"split":break;default:i.state="normal";break}}render(i,r){i.openNode("sheetView",{workbookViewId:r.workbookViewId||0});const n=function(y,p,E){E&&i.addAttribute(y,p)};n("rightToLeft","1",r.rightToLeft===!0),n("tabSelected","1",r.tabSelected),n("showRuler","0",r.showRuler===!1),n("showRowColHeaders","0",r.showRowColHeaders===!1),n("showGridLines","0",r.showGridLines===!1),n("zoomScale",r.zoomScale,r.zoomScale),n("zoomScaleNormal",r.zoomScaleNormal,r.zoomScaleNormal),n("view",r.style,r.style);let l,d,o,g;switch(r.state){case"frozen":d=r.xSplit||0,o=r.ySplit||0,l=r.topLeftCell||f.getAddress(o+1,d+1).address,g=r.xSplit&&r.ySplit&&"bottomRight"||r.xSplit&&"topRight"||"bottomLeft",i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:l,activePane:g,state:"frozen"}),i.leafNode("selection",{pane:g,activeCell:r.activeCell,sqref:r.activeCell});break;case"split":r.activePane==="topLeft"&&(r.activePane=void 0),i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:r.topLeftCell,activePane:r.activePane}),i.leafNode("selection",{pane:r.activePane,activeCell:r.activeCell,sqref:r.activeCell});break;case"normal":r.activeCell&&i.leafNode("selection",{activeCell:r.activeCell,sqref:r.activeCell});break}i.closeNode()}parseOpen(i){switch(i.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(i.attributes.workbookViewId,10),rightToLeft:i.attributes.rightToLeft==="1",tabSelected:i.attributes.tabSelected==="1",showRuler:i.attributes.showRuler!=="0",showRowColHeaders:i.attributes.showRowColHeaders!=="0",showGridLines:i.attributes.showGridLines!=="0",zoomScale:parseInt(i.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(i.attributes.zoomScaleNormal||"100",10),style:i.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(i.attributes.xSplit||"0",10),ySplit:parseInt(i.attributes.ySplit||"0",10),topLeftCell:i.attributes.topLeftCell,activePane:i.attributes.activePane||"topLeft",state:i.attributes.state},!0;case"selection":{const r=i.attributes.pane||"topLeft";return this.selections[r]={pane:r,activeCell:i.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(i){let r,n;switch(i){case"sheetView":return this.sheetView&&this.pane?(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(r.activePane=this.pane.activePane),n=this.selections[this.pane.activePane],n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)):(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},n=this.selections.topLeft,n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}m.exports=s},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"tablePart"}render(s,t){t&&s.leafNode(this.tag,{"r:id":t.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],115:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),s=e("../../rel-type"),t=e("./merges"),i=e("../base-xform"),r=e("../list-xform"),n=e("./row-xform"),l=e("./col-xform"),d=e("./dimension-xform"),o=e("./hyperlink-xform"),g=e("./merge-cell-xform"),y=e("./data-validations-xform"),p=e("./sheet-properties-xform"),E=e("./sheet-format-properties-xform"),T=e("./sheet-view-xform"),S=e("./sheet-protection-xform"),x=e("./page-margins-xform"),w=e("./page-setup-xform"),I=e("./print-options-xform"),D=e("./auto-filter-xform"),V=e("./picture-xform"),ie=e("./drawing-xform"),ee=e("./table-part-xform"),te=e("./row-breaks-xform"),Y=e("./header-footer-xform"),W=e("./cf/conditional-formattings-xform"),j=e("./ext-lst-xform"),O=(H,$)=>{Object.keys($).forEach(K=>{const z=H[K],F=$[K];z===void 0&&F!==void 0&&(H[K]=F)})},k=(H,$)=>{if(!$||!$.length)return H;if(!H||!H.length)return $;const K={},z={};return H.forEach(F=>{K[F.ref]=F,F.rules.forEach(L=>{const{x14Id:G}=L;G&&(z[G]=L)})}),$.forEach(F=>{F.rules.forEach(L=>{const G=z[L.x14Id];G?O(G,L):K[F.ref]?K[F.ref].rules.push(L):H.push({ref:F.ref,rules:[L]})})}),H};class B extends i{constructor($){super();const{maxRows:K,maxCols:z,ignoreNodes:F}=$||{};this.ignoreNodes=F||[],this.map={sheetPr:new p,dimension:new d,sheetViews:new r({tag:"sheetViews",count:!1,childXform:new T}),sheetFormatPr:new E,cols:new r({tag:"cols",count:!1,childXform:new l}),sheetData:new r({tag:"sheetData",count:!1,empty:!0,childXform:new n({maxItems:z}),maxItems:K}),autoFilter:new D,mergeCells:new r({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new te,hyperlinks:new r({tag:"hyperlinks",count:!1,childXform:new o}),pageMargins:new x,dataValidations:new y,pageSetup:new w,headerFooter:new Y,printOptions:new I,picture:new V,drawing:new ie,sheetProtection:new S,tableParts:new r({tag:"tableParts",count:!0,childXform:new ee}),conditionalFormatting:new W,extLst:new j}}prepare($,K){K.merges=new t,$.hyperlinks=K.hyperlinks=[],$.comments=K.comments=[],K.formulae={},K.siFormulae=0,this.map.cols.prepare($.cols,K),this.map.sheetData.prepare($.rows,K),this.map.conditionalFormatting.prepare($.conditionalFormattings,K),$.mergeCells=K.merges.mergeCells;const z=$.rels=[];function F(le){return`rId${le.length+1}`}if($.hyperlinks.forEach(le=>{const ge=F(z);le.rId=ge,z.push({Id:ge,Type:s.Hyperlink,Target:le.target,TargetMode:"External"})}),$.comments.length>0){const le={Id:F(z),Type:s.Comments,Target:`../comments${$.id}.xml`};z.push(le);const ge={Id:F(z),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${$.id}.vml`};z.push(ge),$.comments.forEach(Ie=>{Ie.refAddress=u.decodeAddress(Ie.ref)}),K.commentRefs.push({commentName:`comments${$.id}`,vmlDrawing:`vmlDrawing${$.id}`})}const L=[];let G;$.media.forEach(le=>{if(le.type==="background"){const ge=F(z);G=K.media[le.imageId],z.push({Id:ge,Type:s.Image,Target:`../media/${G.name}.${G.extension}`}),$.background={rId:ge},$.image=K.media[le.imageId]}else if(le.type==="image"){let{drawing:ge}=$;G=K.media[le.imageId],ge||(ge=$.drawing={rId:F(z),name:`drawing${++K.drawingsCount}`,anchors:[],rels:[]},K.drawings.push(ge),z.push({Id:ge.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ge.name}.xml`}));let Ie=this.preImageId===le.imageId?L[le.imageId]:L[ge.rels.length];Ie||(Ie=F(ge.rels),L[ge.rels.length]=Ie,ge.rels.push({Id:Ie,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${G.name}.${G.extension}`}));const Oe={picture:{rId:Ie},range:le.range};if(le.hyperlinks&&le.hyperlinks.hyperlink){const Ke=F(ge.rels);L[ge.rels.length]=Ke,Oe.picture.hyperlinks={tooltip:le.hyperlinks.tooltip,rId:Ke},ge.rels.push({Id:Ke,Type:s.Hyperlink,Target:le.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=le.imageId,ge.anchors.push(Oe)}}),$.tables.forEach(le=>{const ge=F(z);le.rId=ge,z.push({Id:ge,Type:s.Table,Target:`../tables/${le.target}`}),le.columns.forEach(Ie=>{const{style:Oe}=Ie;Oe&&(Ie.dxfId=K.styles.addDxfStyle(Oe))})}),this.map.extLst.prepare($,K)}render($,K){$.openXml(c.StdDocAttributes),$.openNode("worksheet",B.WORKSHEET_ATTRIBUTES);const z=K.properties?{defaultRowHeight:K.properties.defaultRowHeight,dyDescent:K.properties.dyDescent,outlineLevelCol:K.properties.outlineLevelCol,outlineLevelRow:K.properties.outlineLevelRow}:void 0;K.properties&&K.properties.defaultColWidth&&(z.defaultColWidth=K.properties.defaultColWidth);const F={outlineProperties:K.properties&&K.properties.outlineProperties,tabColor:K.properties&&K.properties.tabColor,pageSetup:K.pageSetup&&K.pageSetup.fitToPage?{fitToPage:K.pageSetup.fitToPage}:void 0},L=K.pageSetup&&K.pageSetup.margins,G={showRowColHeaders:K.pageSetup&&K.pageSetup.showRowColHeaders,showGridLines:K.pageSetup&&K.pageSetup.showGridLines,horizontalCentered:K.pageSetup&&K.pageSetup.horizontalCentered,verticalCentered:K.pageSetup&&K.pageSetup.verticalCentered},le=K.sheetProtection;this.map.sheetPr.render($,F),this.map.dimension.render($,K.dimensions),this.map.sheetViews.render($,K.views),this.map.sheetFormatPr.render($,z),this.map.cols.render($,K.cols),this.map.sheetData.render($,K.rows),this.map.sheetProtection.render($,le),this.map.autoFilter.render($,K.autoFilter),this.map.mergeCells.render($,K.mergeCells),this.map.conditionalFormatting.render($,K.conditionalFormattings),this.map.dataValidations.render($,K.dataValidations),this.map.hyperlinks.render($,K.hyperlinks),this.map.printOptions.render($,G),this.map.pageMargins.render($,L),this.map.pageSetup.render($,K.pageSetup),this.map.headerFooter.render($,K.headerFooter),this.map.rowBreaks.render($,K.rowBreaks),this.map.drawing.render($,K.drawing),this.map.picture.render($,K.background),this.map.tableParts.render($,K.tables),this.map.extLst.render($,K),K.rels&&K.rels.forEach(ge=>{ge.Type===s.VmlDrawing&&$.leafNode("legacyDrawing",{"r:id":ge.Id})}),$.closeNode()}parseOpen($){return this.parser?(this.parser.parseOpen($),!0):$.name==="worksheet"?(f.each(this.map,K=>{K.reset()}),!0):(this.map[$.name]&&!this.ignoreNodes.includes($.name)&&(this.parser=this.map[$.name],this.parser.parseOpen($)),!0)}parseText($){this.parser&&this.parser.parseText($)}parseClose($){if(this.parser)return this.parser.parseClose($)||(this.parser=void 0),!0;switch($){case"worksheet":{const K=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(K.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(K.outlineProperties=this.map.sheetPr.model.outlineProperties);const z={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},F=Object.assign(z,this.map.pageSetup.model,this.map.printOptions.model),L=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:K,views:this.map.sheetViews.model,pageSetup:F,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:L},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile($,K){const z=($.relationships||[]).reduce((L,G)=>{if(L[G.Id]=G,G.Type===s.Comments&&($.comments=K.comments[G.Target].comments),G.Type===s.VmlDrawing&&$.comments&&$.comments.length){const le=K.vmlDrawings[G.Target].comments;$.comments.forEach((ge,Ie)=>{ge.note=Object.assign({},ge.note,le[Ie])})}return L},{});if(K.commentsMap=($.comments||[]).reduce((L,G)=>(G.ref&&(L[G.ref]=G),L),{}),K.hyperlinkMap=($.hyperlinks||[]).reduce((L,G)=>(G.rId&&(L[G.address]=z[G.rId].Target),L),{}),K.formulae={},$.rows=$.rows&&$.rows.filter(Boolean)||[],$.rows.forEach(L=>{L.cells=L.cells&&L.cells.filter(Boolean)||[]}),this.map.cols.reconcile($.cols,K),this.map.sheetData.reconcile($.rows,K),this.map.conditionalFormatting.reconcile($.conditionalFormattings,K),$.media=[],$.drawing){const G=z[$.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(G){const le=G[1];K.drawings[le].anchors.forEach(Ie=>{if(Ie.medium){const Oe={type:"image",imageId:Ie.medium.index,range:Ie.range,hyperlinks:Ie.picture.hyperlinks};$.media.push(Oe)}})}}const F=$.background&&z[$.background.rId];if(F){const L=F.Target.split("/media/")[1],G=K.mediaIndex&&K.mediaIndex[L];G!==void 0&&$.media.push({type:"background",imageId:G})}$.tables=($.tables||[]).map(L=>{const G=z[L.rId];return K.tables[G.Target]}),delete $.relationships,delete $.hyperlinks,delete $.comments}}B.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},m.exports=B},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,m,v){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,t){t&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],117:[function(e,m,v){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(t){try{return Number.isNaN(t.getTime())?"":t.toISOString()}catch{return""}},this._parse=s.parse||function(t){return new Date(t)}}render(s,t){t&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(t)):s.writeText(this._format(t)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}m.exports=u},{"../base-xform":32}],118:[function(e,m,v){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,t){(t||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,t):s.writeText(t),s.closeNode())}parseOpen(s){return s.name===this.tag?(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0):!1}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}m.exports=u},{"../base-xform":32}],119:[function(e,m,v){const f=e("../base-xform");class u extends f{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,t){t!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,t):s.writeText(t),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}m.exports=u},{"../base-xform":32}],120:[function(e,m,v){const f=e("./base-xform"),u=e("../../utils/xml-stream");function c(t,i){t.openNode(i.tag,i.$),i.c&&i.c.forEach(r=>{c(t,r)}),i.t&&t.writeText(i.t),t.closeNode()}class s extends f{constructor(i){super(),this._model=i}render(i){if(!this._xml){const r=new u;c(r,this._model),this._xml=r.xml}i.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(i){switch(i){case this._model.tag:return!1;default:return!0}}}m.exports=s},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,m,v){const f=e("./text-xform"),u=e("./rich-text-xform"),c=e("../base-xform");class s extends c{constructor(){super(),this.map={r:new u,t:new f}}get tag(){return"rPh"}render(i,r){if(i.openNode(this.tag,{sb:r.sb||0,eb:r.eb||0}),r&&r.hasOwnProperty("richText")&&r.richText){const{r:n}=this.map;r.richText.forEach(l=>{n.render(i,l)})}else r&&this.map.t.render(i,r.text);i.closeNode()}parseOpen(i){const{name:r}=i;return this.parser?(this.parser.parseOpen(i),!0):r===this.tag?(this.model={sb:parseInt(i.attributes.sb,10),eb:parseInt(i.attributes.eb,10)},!0):(this.parser=this.map[r],this.parser?(this.parser.parseOpen(i),!0):!1)}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){switch(i){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model.text=this.parser.model;break}this.parser=void 0}return!0}switch(i){case this.tag:return!1;default:return!0}}}m.exports=s},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,m,v){const f=e("./text-xform"),u=e("../style/font-xform"),c=e("../base-xform");class s extends c{constructor(i){super(),this.model=i}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new f)}get fontXform(){return this._fontXform||(this._fontXform=new u(s.FONT_OPTIONS))}render(i,r){r=r||this.model,i.openNode("r"),r.font&&this.fontXform.render(i,r.font),this.textXform.render(i,r.text),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(i),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){switch(i){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(i),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},m.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,m,v){const f=e("./text-xform"),u=e("./rich-text-xform"),c=e("./phonetic-text-xform"),s=e("../base-xform");class t extends s{constructor(r){super(),this.model=r,this.map={r:new u,t:new f,rPh:new c}}get tag(){return"si"}render(r,n){r.openNode(this.tag),n&&n.hasOwnProperty("richText")&&n.richText?n.richText.length?n.richText.forEach(l=>{this.map.r.render(r,l)}):this.map.t.render(r,""):n!=null&&this.map.t.render(r,n),r.closeNode()}parseOpen(r){const{name:n}=r;return this.parser?(this.parser.parseOpen(r),!0):n===this.tag?(this.model={},!0):(this.parser=this.map[n],this.parser?(this.parser.parseOpen(r),!0):!1)}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)){switch(r){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model=this.parser.model;break}this.parser=void 0}return!0}switch(r){case this.tag:return!1;default:return!0}}}m.exports=t},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("./shared-string-xform");class s extends u{constructor(i){super(),this.model=i||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(i){return this.model.values[i]}add(i){return i.richText?this.addRichText(i):this.addText(i)}addText(i){let r=this.hash[i];return r===void 0&&(r=this.hash[i]=this.model.values.length,this.model.values.push(i)),this.model.count++,r}addRichText(i){const r=this.sharedStringXform.toXml(i);let n=this.rich[r];return n===void 0&&(n=this.rich[r]=this.model.values.length,this.model.values.push(i)),this.model.count++,n}render(i,r){r=r||this._values,i.openXml(f.StdDocAttributes),i.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:r.count,uniqueCount:r.values.length});const n=this.sharedStringXform;r.values.forEach(l=>{n.render(i,l)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(i),!0;default:throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(i)}`)}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(i){case"sst":return!1;default:throw new Error(`Unexpected xml node in parseClose: ${i}`)}}}m.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"t"}render(s,t){s.openNode("t"),/^\s|\n|\s$/.test(t)&&s.addAttribute("xml:space","preserve"),s.writeText(t),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,t)=>String.fromCharCode(parseInt(t,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],126:[function(e,m,v){const f=e("../../../doc/enums"),u=e("../../../utils/utils"),c=e("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((r,n)=>(r[n]=!0,r),{}),horizontal(r){return this.horizontalValues[r]?r:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((r,n)=>(r[n]=!0,r),{}),vertical(r){return r==="middle"?"center":this.verticalValues[r]?r:void 0},wrapText(r){return r?!0:void 0},shrinkToFit(r){return r?!0:void 0},textRotation(r){switch(r){case"vertical":return r;default:return r=u.validInt(r),r>=-90&&r<=90?r:void 0}},indent(r){return r=u.validInt(r),Math.max(0,r)},readingOrder(r){switch(r){case"ltr":return f.ReadingOrder.LeftToRight;case"rtl":return f.ReadingOrder.RightToLeft;default:return}}},t={toXml(r){if(r=s.textRotation(r),r){if(r==="vertical")return 255;const n=Math.round(r);if(n>=0&&n<=90)return n;if(n<0&&n>=-90)return 90-n}},toModel(r){const n=u.validInt(r);if(n!==void 0){if(n===255)return"vertical";if(n>=0&&n<=90)return n;if(n>90&&n<=180)return 90-n}}};class i extends c{get tag(){return"alignment"}render(n,l){n.addRollback(),n.openNode("alignment");let d=!1;function o(g,y){y&&(n.addAttribute(g,y),d=!0)}o("horizontal",s.horizontal(l.horizontal)),o("vertical",s.vertical(l.vertical)),o("wrapText",s.wrapText(l.wrapText)?"1":!1),o("shrinkToFit",s.shrinkToFit(l.shrinkToFit)?"1":!1),o("indent",s.indent(l.indent)),o("textRotation",t.toXml(l.textRotation)),o("readingOrder",s.readingOrder(l.readingOrder)),n.closeNode(),d?n.commit():n.rollback()}parseOpen(n){const l={};let d=!1;function o(g,y,p){g&&(l[y]=p,d=!0)}o(n.attributes.horizontal,"horizontal",n.attributes.horizontal),o(n.attributes.vertical,"vertical",n.attributes.vertical==="center"?"middle":n.attributes.vertical),o(n.attributes.wrapText,"wrapText",u.parseBoolean(n.attributes.wrapText)),o(n.attributes.shrinkToFit,"shrinkToFit",u.parseBoolean(n.attributes.shrinkToFit)),o(n.attributes.indent,"indent",parseInt(n.attributes.indent,10)),o(n.attributes.textRotation,"textRotation",t.toModel(n.attributes.textRotation)),o(n.attributes.readingOrder,"readingOrder",n.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?l:null}parseText(){}parseClose(){return!1}}m.exports=i},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,m,v){const f=e("../base-xform"),u=e("../../../utils/utils"),c=e("./color-xform");class s extends f{constructor(r){super(),this.name=r,this.map={color:new c}}get tag(){return this.name}render(r,n,l){const d=n&&n.color||l||this.defaultColor;r.openNode(this.name),n&&n.style&&(r.addAttribute("style",n.style),d&&this.map.color.render(r,d)),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.name:{const{style:n}=r.attributes;return n?this.model={style:n}:this.model=void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(r),!0;default:return!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(r===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(r){return s.validStyleValues[r]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((i,r)=>(i[r]=!0,i),{});class t extends f{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(r,n){const{color:l}=n;r.openNode("border"),n.diagonal&&n.diagonal.style&&(n.diagonal.up&&r.addAttribute("diagonalUp","1"),n.diagonal.down&&r.addAttribute("diagonalDown","1"));function d(o,g){o&&!o.color&&n.color&&(o={...o,color:n.color}),g.render(r,o,l)}d(n.left,this.map.left),d(n.right,this.map.right),d(n.top,this.map.top),d(n.bottom,this.map.bottom),d(n.diagonal,this.map.diagonal),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"border":return this.reset(),this.diagonalUp=u.parseBoolean(r.attributes.diagonalUp),this.diagonalDown=u.parseBoolean(r.attributes.diagonalDown),!0;default:return this.parser=this.map[r.name],this.parser?(this.parser.parseOpen(r),!0):!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;if(r==="border"){const n=this.model={},l=function(d,o,g){o&&(g&&Object.assign(o,g),n[d]=o)};l("left",this.map.left.model),l("right",this.map.right.model),l("top",this.map.top.model),l("bottom",this.map.bottom.model),l("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}m.exports=t},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,m,v){const f=e("../base-xform");class u extends f{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,t){return t?(s.openNode(this.name),t.argb?s.addAttribute("rgb",t.argb):t.theme!==void 0?(s.addAttribute("theme",t.theme),t.tint!==void 0&&s.addAttribute("tint",t.tint)):t.indexed!==void 0?s.addAttribute("indexed",t.indexed):s.addAttribute("auto","1"),s.closeNode(),!0):!1}parseOpen(s){return s.name===this.name?(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],129:[function(e,m,v){const f=e("../base-xform"),u=e("./alignment-xform"),c=e("./border-xform"),s=e("./fill-xform"),t=e("./font-xform"),i=e("./numfmt-xform"),r=e("./protection-xform");class n extends f{constructor(){super(),this.map={alignment:new u,border:new c,fill:new s,font:new t,numFmt:new i,protection:new r}}get tag(){return"dxf"}render(d,o){if(d.openNode(this.tag),o.font&&this.map.font.render(d,o.font),o.numFmt&&o.numFmtId){const g={id:o.numFmtId,formatCode:o.numFmt};this.map.numFmt.render(d,g)}o.fill&&this.map.fill.render(d,o.fill),o.alignment&&this.map.alignment.render(d,o.alignment),o.border&&this.map.border.render(d,o.border),o.protection&&this.map.protection.render(d,o.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d===this.tag?(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1):!0}}m.exports=n},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,m,v){const f=e("../base-xform"),u=e("./color-xform");class c extends f{constructor(){super(),this.map={color:new u}}get tag(){return"stop"}render(n,l){n.openNode("stop"),n.addAttribute("position",l.position),this.map.color.render(n,l.color),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"stop":return this.model={position:parseFloat(n.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(n),!0;default:return!1}}parseText(){}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.model.color=this.parser.model,this.parser=void 0),!0):!1}}class s extends f{constructor(){super(),this.map={fgColor:new u("fgColor"),bgColor:new u("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(n,l){n.openNode("patternFill"),n.addAttribute("patternType",l.pattern),l.fgColor&&this.map.fgColor.render(n,l.fgColor),l.bgColor&&this.map.bgColor.render(n,l.bgColor),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"patternFill":return this.model={type:"pattern",pattern:n.attributes.patternType},!0;default:return this.parser=this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser.model&&(this.model[n]=this.parser.model),this.parser=void 0),!0):!1}}class t extends f{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(n,l){switch(n.openNode("gradientFill"),l.gradient){case"angle":n.addAttribute("degree",l.degree);break;case"path":n.addAttribute("type","path"),l.center.left&&(n.addAttribute("left",l.center.left),l.center.right===void 0&&n.addAttribute("right",l.center.left)),l.center.right&&n.addAttribute("right",l.center.right),l.center.top&&(n.addAttribute("top",l.center.top),l.center.bottom===void 0&&n.addAttribute("bottom",l.center.top)),l.center.bottom&&n.addAttribute("bottom",l.center.bottom);break}const d=this.map.stop;l.stops.forEach(o=>{d.render(n,o)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"gradientFill":{const l=this.model={stops:[]};return n.attributes.degree?(l.gradient="angle",l.degree=parseInt(n.attributes.degree,10)):n.attributes.type==="path"&&(l.gradient="path",l.center={left:n.attributes.left?parseFloat(n.attributes.left):0,top:n.attributes.top?parseFloat(n.attributes.top):0},n.attributes.right!==n.attributes.left&&(l.center.right=n.attributes.right?parseFloat(n.attributes.right):0),n.attributes.bottom!==n.attributes.top&&(l.center.bottom=n.attributes.bottom?parseFloat(n.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0):!1}}class i extends f{constructor(){super(),this.map={patternFill:new s,gradientFill:new t}}get tag(){return"fill"}render(n,l){switch(n.addRollback(),n.openNode("fill"),l.type){case"pattern":this.map.patternFill.render(n,l);break;case"gradient":this.map.gradientFill.render(n,l);break;default:n.rollback();return}n.closeNode(),n.commit()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"fill":return this.model={},!0;default:return this.parser=this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0):!1}validStyle(n){return i.validPatternValues[n]}}i.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((r,n)=>(r[n]=!0,r),{}),i.StopXform=c,i.PatternFillXform=s,i.GradientFillXform=t,m.exports=i},{"../base-xform":32,"./color-xform":128}],131:[function(e,m,v){const f=e("./color-xform"),u=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),s=e("../simple/string-xform"),t=e("./underline-xform"),i=e("../../../utils/under-dash"),r=e("../base-xform");class n extends r{constructor(d){super(),this.options=d||n.OPTIONS,this.map={b:{prop:"bold",xform:new u({tag:"b",attr:"val"})},i:{prop:"italic",xform:new u({tag:"i",attr:"val"})},u:{prop:"underline",xform:new t},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new f},condense:{prop:"condense",xform:new u({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new u({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new u({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new u({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new u({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(d,o){const{map:g}=this;d.openNode(this.options.tagName),i.each(this.map,(y,p)=>{g[p].xform.render(d,o[y.prop])}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;if(this.map[d.name])return this.parser=this.map[d.name].xform,this.parser.parseOpen(d);switch(d.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser&&!this.parser.parseClose(d)){const o=this.map[d];return this.parser.model&&(this.model[o.prop]=this.parser.model),this.parser=void 0,!0}switch(d){case this.options.tagName:return!1;default:return!0}}}n.OPTIONS={tagName:"font",fontNameTag:"name"},m.exports=n},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,m,v){const f=e("../../../utils/under-dash"),u=e("../../defaultnumformats"),c=e("../base-xform");function s(){const r={};return f.each(u,(n,l)=>{n.f&&(r[n.f]=parseInt(l,10))}),r}const t=s();class i extends c{constructor(n,l){super(),this.id=n,this.formatCode=l}get tag(){return"numFmt"}render(n,l){n.leafNode("numFmt",{numFmtId:l.id,formatCode:l.formatCode})}parseOpen(n){switch(n.name){case"numFmt":return this.model={id:parseInt(n.attributes.numFmtId,10),formatCode:n.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}i.getDefaultFmtId=function(n){return t[n]},i.getDefaultFmtCode=function(n){return u[n]&&u[n].f},m.exports=i},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,m,v){const f=e("../base-xform"),u={boolean(s,t){return s===void 0?t:s}};class c extends f{get tag(){return"protection"}render(t,i){t.addRollback(),t.openNode("protection");let r=!1;function n(l,d){d!==void 0&&(t.addAttribute(l,d),r=!0)}n("locked",u.boolean(i.locked,!0)?void 0:"0"),n("hidden",u.boolean(i.hidden,!1)?"1":void 0),t.closeNode(),r?t.commit():t.rollback()}parseOpen(t){const i={locked:t.attributes.locked!=="0",hidden:t.attributes.hidden==="1"},r=!i.locked||i.hidden;this.model=r?i:null}parseText(){}parseClose(){return!1}}m.exports=c},{"../base-xform":32}],134:[function(e,m,v){const f=e("../base-xform"),u=e("./alignment-xform"),c=e("./protection-xform");class s extends f{constructor(i){super(),this.xfId=!!(i&&i.xfId),this.map={alignment:new u,protection:new c}}get tag(){return"xf"}render(i,r){i.openNode("xf",{numFmtId:r.numFmtId||0,fontId:r.fontId||0,fillId:r.fillId||0,borderId:r.borderId||0}),this.xfId&&i.addAttribute("xfId",r.xfId||0),r.numFmtId&&i.addAttribute("applyNumberFormat","1"),r.fontId&&i.addAttribute("applyFont","1"),r.fillId&&i.addAttribute("applyFill","1"),r.borderId&&i.addAttribute("applyBorder","1"),r.alignment&&i.addAttribute("applyAlignment","1"),r.protection&&i.addAttribute("applyProtection","1"),r.alignment&&this.map.alignment.render(i,r.alignment),r.protection&&this.map.protection.render(i,r.protection),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"xf":return this.model={numFmtId:parseInt(i.attributes.numFmtId,10),fontId:parseInt(i.attributes.fontId,10),fillId:parseInt(i.attributes.fillId,10),borderId:parseInt(i.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(i.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(i),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):i!=="xf"}}m.exports=s},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,m,v){const f=e("../../../doc/enums"),u=e("../../../utils/xml-stream"),c=e("../base-xform"),s=e("../static-xform"),t=e("../list-xform"),i=e("./font-xform"),r=e("./fill-xform"),n=e("./border-xform"),l=e("./numfmt-xform"),d=e("./style-xform"),o=e("./dxf-xform"),g=164;class y extends c{constructor(T){super(),this.map={numFmts:new t({tag:"numFmts",count:!0,childXform:new l}),fonts:new t({tag:"fonts",count:!0,childXform:new i,$:{"x14ac:knownFonts":1}}),fills:new t({tag:"fills",count:!0,childXform:new r}),borders:new t({tag:"borders",count:!0,childXform:new n}),cellStyleXfs:new t({tag:"cellStyleXfs",count:!0,childXform:new d}),cellXfs:new t({tag:"cellXfs",count:!0,childXform:new d({xfId:!0})}),dxfs:new t({tag:"dxfs",always:!0,count:!0,childXform:new o}),numFmt:new l,font:new i,fill:new r,border:new n,style:new d({xfId:!0}),cellStyles:y.STATIC_XFORMS.cellStyles,tableStyles:y.STATIC_XFORMS.tableStyles,extLst:y.STATIC_XFORMS.extLst},T&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(T,S){S=S||this.model,T.openXml(u.StdDocAttributes),T.openNode("styleSheet",y.STYLESHEET_ATTRIBUTES),this.index?(S.numFmts&&S.numFmts.length&&(T.openNode("numFmts",{count:S.numFmts.length}),S.numFmts.forEach(x=>{T.writeXml(x)}),T.closeNode()),S.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),T.openNode("fonts",{count:S.fonts.length,"x14ac:knownFonts":1}),S.fonts.forEach(x=>{T.writeXml(x)}),T.closeNode(),T.openNode("fills",{count:S.fills.length}),S.fills.forEach(x=>{T.writeXml(x)}),T.closeNode(),T.openNode("borders",{count:S.borders.length}),S.borders.forEach(x=>{T.writeXml(x)}),T.closeNode(),this.map.cellStyleXfs.render(T,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),T.openNode("cellXfs",{count:S.styles.length}),S.styles.forEach(x=>{T.writeXml(x)}),T.closeNode()):(this.map.numFmts.render(T,S.numFmts),this.map.fonts.render(T,S.fonts),this.map.fills.render(T,S.fills),this.map.borders.render(T,S.borders),this.map.cellStyleXfs.render(T,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(T,S.styles)),y.STATIC_XFORMS.cellStyles.render(T),this.map.dxfs.render(T,S.dxfs),y.STATIC_XFORMS.tableStyles.render(T),y.STATIC_XFORMS.extLst.render(T),T.closeNode()}parseOpen(T){if(this.parser)return this.parser.parseOpen(T),!0;switch(T.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[T.name],this.parser&&this.parser.parseOpen(T),!0}}parseText(T){this.parser&&this.parser.parseText(T)}parseClose(T){if(this.parser)return this.parser.parseClose(T)||(this.parser=void 0),!0;switch(T){case"styleSheet":{this.model={};const S=(x,w)=>{w.model&&w.model.length&&(this.model[x]=w.model)};if(S("numFmts",this.map.numFmts),S("fonts",this.map.fonts),S("fills",this.map.fills),S("borders",this.map.borders),S("styles",this.map.cellXfs),S("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const x=this.index.numFmt;this.model.numFmts.forEach(w=>{x[w.id]=w.formatCode})}return!1}default:return!0}}addStyleModel(T,S){if(!T)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(T))return this.weakMap.get(T);const x={};if(S=S||f.ValueType.Number,T.numFmt)x.numFmtId=this._addNumFmtStr(T.numFmt);else switch(S){case f.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case f.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy");break}T.font&&(x.fontId=this._addFont(T.font)),T.border&&(x.borderId=this._addBorder(T.border)),T.fill&&(x.fillId=this._addFill(T.fill)),T.alignment&&(x.alignment=T.alignment),T.protection&&(x.protection=T.protection);const w=this._addStyle(x);return this.weakMap&&this.weakMap.set(T,w),w}getStyleModel(T){const S=this.model.styles[T];if(!S)return null;let x=this.index.model[T];if(x)return x;if(x=this.index.model[T]={},S.numFmtId){const I=this.index.numFmt[S.numFmtId]||l.getDefaultFmtCode(S.numFmtId);I&&(x.numFmt=I)}function w(I,D,V){if(V||V===0){const ie=D[V];ie&&(x[I]=ie)}}return w("font",this.model.fonts,S.fontId),w("border",this.model.borders,S.borderId),w("fill",this.model.fills,S.fillId),S.alignment&&(x.alignment=S.alignment),S.protection&&(x.protection=S.protection),x}addDxfStyle(T){return T.numFmt&&(T.numFmtId=this._addNumFmtStr(T.numFmt)),this.model.dxfs.push(T),this.model.dxfs.length-1}getDxfStyle(T){return this.model.dxfs[T]}_addStyle(T){const S=this.map.style.toXml(T);let x=this.index.style[S];return x===void 0&&(x=this.index.style[S]=this.model.styles.length,this.model.styles.push(S)),x}_addNumFmtStr(T){let S=l.getDefaultFmtId(T);if(S!==void 0||(S=this.index.numFmt[T],S!==void 0))return S;S=this.index.numFmt[T]=g+this.model.numFmts.length;const x=this.map.numFmt.toXml({id:S,formatCode:T});return this.model.numFmts.push(x),S}_addFont(T){const S=this.map.font.toXml(T);let x=this.index.font[S];return x===void 0&&(x=this.index.font[S]=this.model.fonts.length,this.model.fonts.push(S)),x}_addBorder(T){const S=this.map.border.toXml(T);let x=this.index.border[S];return x===void 0&&(x=this.index.border[S]=this.model.borders.length,this.model.borders.push(S)),x}_addFill(T){const S=this.map.fill.toXml(T);let x=this.index.fill[S];return x===void 0&&(x=this.index.fill[S]=this.model.fills.length,this.model.fills.push(S)),x}}y.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},y.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})};class p extends y{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(T){return T.autodrain(),Promise.resolve()}addStyleModel(T,S){switch(S){case f.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const T={numFmtId:l.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(T)}return this._dateStyleId}getStyleModel(){return{}}}y.Mock=p,m.exports=y},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,m,v){const f=e("../base-xform");class u extends f{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,t){if(t=t||this.model,t===!0)s.leafNode("u");else{const i=u.Attributes[t];i&&s.leafNode("u",i)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}u.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},m.exports=u},{"../base-xform":32}],137:[function(e,m,v){const f=e("../base-xform"),u=e("./filter-column-xform");class c extends f{constructor(){super(),this.map={filterColumn:new u}}get tag(){return"autoFilter"}prepare(t){t.columns.forEach((i,r)=>{this.map.filterColumn.prepare(i,{index:r})})}render(t,i){return t.openNode(this.tag,{ref:i.autoFilterRef}),i.columns.forEach(r=>{this.map.filterColumn.render(t,r)}),t.closeNode(),!0}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:return this.model={autoFilterRef:t.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[t.name],this.parser)return this.parseOpen(t),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(t)}`)}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(t){case this.tag:return!1;default:throw new Error(`Unexpected xml node in parseClose: ${t}`)}}}m.exports=c},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"customFilter"}render(s,t){s.leafNode(this.tag,{val:t.val,operator:t.operator})}parseOpen(s){return s.name===this.tag?(this.model={val:s.attributes.val,operator:s.attributes.operator},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],139:[function(e,m,v){const f=e("../base-xform"),u=e("../list-xform"),c=e("./custom-filter-xform"),s=e("./filter-xform");class t extends f{constructor(){super(),this.map={customFilters:new u({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new u({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(r,n){r.colId=n.index.toString()}render(r,n){return n.customFilters?(r.openNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),this.map.customFilters.render(r,n.customFilters),r.closeNode(),!0):(r.leafNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),!0)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;const{attributes:n}=r;switch(r.name){case this.tag:return this.model={filterButton:n.hiddenButton==="0"},!0;default:if(this.parser=this.map[r.name],this.parser)return this.parseOpen(r),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(r)}`)}}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}m.exports=t},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"filter"}render(s,t){s.leafNode(this.tag,{val:t.val})}parseOpen(s){return s.name===this.tag?(this.model={val:s.attributes.val},!0):!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],141:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"tableColumn"}prepare(s,t){s.id=t.index+1}render(s,t){return s.leafNode(this.tag,{id:t.id.toString(),name:t.name,totalsRowLabel:t.totalsRowLabel,totalsRowFunction:t.totalsRowFunction,dxfId:t.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:t}=s;return this.model={name:t.name,totalsRowLabel:t.totalsRowLabel,totalsRowFunction:t.totalsRowFunction,dxfId:t.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],142:[function(e,m,v){const f=e("../base-xform");class u extends f{get tag(){return"tableStyleInfo"}render(s,t){return s.leafNode(this.tag,{name:t.theme?t.theme:void 0,showFirstColumn:t.showFirstColumn?"1":"0",showLastColumn:t.showLastColumn?"1":"0",showRowStripes:t.showRowStripes?"1":"0",showColumnStripes:t.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:t}=s;return this.model={theme:t.name?t.name:null,showFirstColumn:t.showFirstColumn==="1",showLastColumn:t.showLastColumn==="1",showRowStripes:t.showRowStripes==="1",showColumnStripes:t.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}m.exports=u},{"../base-xform":32}],143:[function(e,m,v){const f=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("../list-xform"),s=e("./auto-filter-xform"),t=e("./table-column-xform"),i=e("./table-style-info-xform");class r extends u{constructor(){super(),this.map={autoFilter:new s,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new t}),tableStyleInfo:new i}}prepare(l,d){this.map.autoFilter.prepare(l),this.map.tableColumns.prepare(l.columns,d)}get tag(){return"table"}render(l,d){l.openXml(f.StdDocAttributes),l.openNode(this.tag,{...r.TABLE_ATTRIBUTES,id:d.id,name:d.name,displayName:d.displayName||d.name,ref:d.tableRef,totalsRowCount:d.totalsRow?"1":void 0,totalsRowShown:d.totalsRow?void 0:"1",headerRowCount:d.headerRow?"1":"0"}),this.map.autoFilter.render(l,d),this.map.tableColumns.render(l,d.columns),this.map.tableStyleInfo.render(l,d.style),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{name:d,attributes:o}=l;switch(d){case this.tag:this.reset(),this.model={name:o.name,displayName:o.displayName||o.name,tableRef:o.ref,totalsRow:o.totalsRowCount==="1",headerRow:o.headerRowCount==="1"};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l);break}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((d,o)=>{this.model.columns[o].filterButton=d.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(l,d){l.columns.forEach(o=>{o.dxfId!==void 0&&(o.style=d.styles.getDxfStyle(o.dxfId))})}}r.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},m.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,m,v){(function(f,u){(function(){const c=e("fs"),s=e("jszip"),{PassThrough:t}=e("readable-stream"),i=e("../utils/zip-stream"),r=e("../utils/stream-buf"),n=e("../utils/utils"),l=e("../utils/xml-stream"),{bufferToString:d}=e("../utils/browser-buffer-decode"),o=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),y=e("./xform/strings/shared-strings-xform"),p=e("./xform/core/relationships-xform"),E=e("./xform/core/content-types-xform"),T=e("./xform/core/app-xform"),S=e("./xform/book/workbook-xform"),x=e("./xform/sheet/worksheet-xform"),w=e("./xform/drawing/drawing-xform"),I=e("./xform/table/table-xform"),D=e("./xform/comment/comments-xform"),V=e("./xform/comment/vml-notes-xform"),ie=e("./xml/theme1");function ee(Y,W){return new Promise((j,O)=>{c.readFile(Y,W,(k,B)=>{k?O(k):j(B)})})}class te{constructor(W){this.workbook=W}async readFile(W,j){if(!await n.fs.exists(W))throw new Error(`File not found: ${W}`);const O=c.createReadStream(W);try{const k=await this.read(O,j);return O.close(),k}catch(k){throw O.close(),k}}parseRels(W){return new p().parseStream(W)}parseWorkbook(W){return new S().parseStream(W)}parseSharedStrings(W){return new y().parseStream(W)}reconcile(W,j){const O=new S,k=new x(j),B=new w,H=new I;O.reconcile(W);const $={media:W.media,mediaIndex:W.mediaIndex};Object.keys(W.drawings).forEach(F=>{const L=W.drawings[F],G=W.drawingRels[F];G&&($.rels=G.reduce((le,ge)=>(le[ge.Id]=ge,le),{}),(L.anchors||[]).forEach(le=>{const ge=le.picture&&le.picture.hyperlinks;ge&&$.rels[ge.rId]&&(ge.hyperlink=$.rels[ge.rId].Target,delete ge.rId)}),B.reconcile(L,$))});const K={styles:W.styles};Object.values(W.tables).forEach(F=>{H.reconcile(F,K)});const z={styles:W.styles,sharedStrings:W.sharedStrings,media:W.media,mediaIndex:W.mediaIndex,date1904:W.properties&&W.properties.date1904,drawings:W.drawings,comments:W.comments,tables:W.tables,vmlDrawings:W.vmlDrawings};W.worksheets.forEach(F=>{F.relationships=W.worksheetRels[F.sheetNo],k.reconcile(F,z)}),delete W.worksheetHash,delete W.worksheetRels,delete W.globalRels,delete W.sharedStrings,delete W.workbookRels,delete W.sheetDefs,delete W.styles,delete W.mediaIndex,delete W.drawings,delete W.drawingRels,delete W.vmlDrawings}async _processWorksheetEntry(W,j,O,k,B){const $=await new x(k).parseStream(W);$.sheetNo=O,j.worksheetHash[B]=$,j.worksheets.push($)}async _processCommentEntry(W,j,O){const B=await new D().parseStream(W);j.comments[`../${O}.xml`]=B}async _processTableEntry(W,j,O){const B=await new I().parseStream(W);j.tables[`../tables/${O}.xml`]=B}async _processWorksheetRelsEntry(W,j,O){const B=await new p().parseStream(W);j.worksheetRels[O]=B}async _processMediaEntry(W,j,O){const k=O.lastIndexOf(".");if(k>=1){const B=O.substr(k+1),H=O.substr(0,k);await new Promise(($,K)=>{const z=new r;z.on("finish",()=>{j.mediaIndex[O]=j.media.length,j.mediaIndex[H]=j.media.length;const F={type:"image",name:H,extension:B,buffer:z.toBuffer()};j.media.push(F),$()}),W.on("error",F=>{K(F)}),W.pipe(z)})}}async _processDrawingEntry(W,j,O){const B=await new w().parseStream(W);j.drawings[O]=B}async _processDrawingRelsEntry(W,j,O){const B=await new p().parseStream(W);j.drawingRels[O]=B}async _processVmlDrawingEntry(W,j,O){const B=await new V().parseStream(W);j.vmlDrawings[`../drawings/${O}.vml`]=B}async _processThemeEntry(W,j,O){await new Promise((k,B)=>{const H=new r;W.on("error",B),H.on("error",B),H.on("finish",()=>{j.themes[O]=H.read().toString(),k()}),W.pipe(H)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(W,j){!W[Symbol.asyncIterator]&&W.pipe&&(W=W.pipe(new t));const O=[];for await(const k of W)O.push(k);return this.load(u.concat(O),j)}async load(W,j){let O;j&&j.base64?O=u.from(W.toString(),"base64"):O=W;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},B=await s.loadAsync(O);for(const H of Object.values(B.files))if(!H.dir){let $=H.name;$[0]==="/"&&($=$.substr(1));let K;if($.match(/xl\/media\//)||$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))K=new t,K.write(await H.async("nodebuffer"));else{K=new t({writableObjectMode:!0,readableObjectMode:!0});let z;f.browser?z=d(await H.async("nodebuffer")):z=await H.async("string");const F=16*1024;for(let L=0;L<z.length;L+=F)K.write(z.substring(L,L+F))}switch(K.end(),$){case"_rels/.rels":k.globalRels=await this.parseRels(K);break;case"xl/workbook.xml":{const z=await this.parseWorkbook(K);k.sheets=z.sheets,k.definedNames=z.definedNames,k.views=z.views,k.properties=z.properties,k.calcProperties=z.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(K);break;case"xl/sharedStrings.xml":k.sharedStrings=new y,await k.sharedStrings.parseStream(K);break;case"xl/styles.xml":k.styles=new o,await k.styles.parseStream(K);break;case"docProps/app.xml":{const F=await new T().parseStream(K);k.company=F.company,k.manager=F.manager;break}case"docProps/core.xml":{const F=await new g().parseStream(K);Object.assign(k,F);break}default:{let z=$.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(z){await this._processWorksheetEntry(K,k,z[1],j,$);break}if(z=$.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),z){await this._processWorksheetRelsEntry(K,k,z[1]);break}if(z=$.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),z){await this._processThemeEntry(K,k,z[1]);break}if(z=$.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),z){await this._processMediaEntry(K,k,z[1]);break}if(z=$.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),z){await this._processDrawingEntry(K,k,z[1]);break}if(z=$.match(/xl\/(comments\d+)[.]xml/),z){await this._processCommentEntry(K,k,z[1]);break}if(z=$.match(/xl\/tables\/(table\d+)[.]xml/),z){await this._processTableEntry(K,k,z[1]);break}if(z=$.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),z){await this._processDrawingRelsEntry(K,k,z[1]);break}if(z=$.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),z){await this._processVmlDrawingEntry(K,k,z[1]);break}}}}return this.reconcile(k,j),this.workbook.model=k,this.workbook}async addMedia(W,j){await Promise.all(j.media.map(async O=>{if(O.type==="image"){const k=`xl/media/${O.name}.${O.extension}`;if(O.filename){const B=await ee(O.filename);return W.append(B,{name:k})}if(O.buffer)return W.append(O.buffer,{name:k});if(O.base64){const B=O.base64,H=B.substring(B.indexOf(",")+1);return W.append(H,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(W,j){const O=new w,k=new p;j.worksheets.forEach(B=>{const{drawing:H}=B;if(H){O.prepare(H,{});let $=O.toXml(H);W.append($,{name:`xl/drawings/${H.name}.xml`}),$=k.toXml(H.rels),W.append($,{name:`xl/drawings/_rels/${H.name}.xml.rels`})}})}addTables(W,j){const O=new I;j.worksheets.forEach(k=>{const{tables:B}=k;B.forEach(H=>{O.prepare(H,{});const $=O.toXml(H);W.append($,{name:`xl/tables/${H.target}`})})})}async addContentTypes(W,j){const k=new E().toXml(j);W.append(k,{name:"[Content_Types].xml"})}async addApp(W,j){const k=new T().toXml(j);W.append(k,{name:"docProps/app.xml"})}async addCore(W,j){const O=new g;W.append(O.toXml(j),{name:"docProps/core.xml"})}async addThemes(W,j){const O=j.themes||{theme1:ie};Object.keys(O).forEach(k=>{const B=O[k],H=`xl/theme/${k}.xml`;W.append(B,{name:H})})}async addOfficeRels(W){const O=new p().toXml([{Id:"rId1",Type:te.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:te.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:te.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);W.append(O,{name:"_rels/.rels"})}async addWorkbookRels(W,j){let O=1;const k=[{Id:`rId${O++}`,Type:te.RelType.Styles,Target:"styles.xml"},{Id:`rId${O++}`,Type:te.RelType.Theme,Target:"theme/theme1.xml"}];j.sharedStrings.count&&k.push({Id:`rId${O++}`,Type:te.RelType.SharedStrings,Target:"sharedStrings.xml"}),j.worksheets.forEach($=>{$.rId=`rId${O++}`,k.push({Id:$.rId,Type:te.RelType.Worksheet,Target:`worksheets/sheet${$.id}.xml`})});const H=new p().toXml(k);W.append(H,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(W,j){j.sharedStrings&&j.sharedStrings.count&&W.append(j.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(W,j){const{xml:O}=j.styles;O&&W.append(O,{name:"xl/styles.xml"})}async addWorkbook(W,j){const O=new S;W.append(O.toXml(j),{name:"xl/workbook.xml"})}async addWorksheets(W,j){const O=new x,k=new p,B=new D,H=new V;j.worksheets.forEach($=>{let K=new l;O.render(K,$),W.append(K.xml,{name:`xl/worksheets/sheet${$.id}.xml`}),$.rels&&$.rels.length&&(K=new l,k.render(K,$.rels),W.append(K.xml,{name:`xl/worksheets/_rels/sheet${$.id}.xml.rels`})),$.comments.length>0&&(K=new l,B.render(K,$),W.append(K.xml,{name:`xl/comments${$.id}.xml`}),K=new l,H.render(K,$),W.append(K.xml,{name:`xl/drawings/vmlDrawing${$.id}.vml`}))})}_finalize(W){return new Promise((j,O)=>{W.on("finish",()=>{j(this)}),W.on("error",O),W.finalize()})}prepareModel(W,j){W.creator=W.creator||"ExcelJS",W.lastModifiedBy=W.lastModifiedBy||"ExcelJS",W.created=W.created||new Date,W.modified=W.modified||new Date,W.useSharedStrings=j.useSharedStrings!==void 0?j.useSharedStrings:!0,W.useStyles=j.useStyles!==void 0?j.useStyles:!0,W.sharedStrings=new y,W.styles=W.useStyles?new o(!0):new o.Mock;const O=new S,k=new x;O.prepare(W);const B={sharedStrings:W.sharedStrings,styles:W.styles,date1904:W.properties.date1904,drawingsCount:0,media:W.media};B.drawings=W.drawings=[],B.commentRefs=W.commentRefs=[];let H=0;W.tables=[],W.worksheets.forEach($=>{$.tables.forEach(K=>{H++,K.target=`table${H}.xml`,K.id=H,W.tables.push(K)}),k.prepare($,B)})}async write(W,j){j=j||{};const{model:O}=this.workbook,k=new i.ZipWriter(j.zip);return k.pipe(W),this.prepareModel(O,j),await this.addContentTypes(k,O),await this.addOfficeRels(k,O),await this.addWorkbookRels(k,O),await this.addWorksheets(k,O),await this.addSharedStrings(k,O),await this.addDrawings(k,O),await this.addTables(k,O),await Promise.all([this.addThemes(k,O),this.addStyles(k,O)]),await this.addMedia(k,O),await Promise.all([this.addApp(k,O),this.addCore(k,O)]),await this.addWorkbook(k,O),this._finalize(k)}writeFile(W,j){const O=c.createWriteStream(W);return new Promise((k,B)=>{O.on("finish",()=>{k()}),O.on("error",H=>{B(H)}),this.write(O,j).then(()=>{O.end()}).catch(H=>{B(H)})})}async writeBuffer(W){const j=new r;return await this.write(j,W),j.read()}}te.RelType=e("./rel-type"),m.exports=te}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,m,v){m.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,m,v){(function(f){(function(){Object.defineProperty(v,"__esModule",{value:!0}),v.CsvFormatterStream=void 0;const u=e("stream"),c=e("./formatter");class s extends u.Transform{constructor(i){super({writableObjectMode:i.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=i,this.rowFormatter=new c.RowFormatter(i),this.hasWrittenBOM=!i.writeBOM}transform(i){return this.rowFormatter.rowTransform=i,this}_transform(i,r,n){let l=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(i,(d,o)=>d?(l=!0,n(d)):(o&&o.forEach(g=>{this.push(f.from(g,"utf8"))}),l=!0,n()))}catch(d){if(l)throw d;n(d)}}_flush(i){this.rowFormatter.finish((r,n)=>r?i(r):(n&&n.forEach(l=>{this.push(f.from(l,"utf8"))}),i()))}}v.CsvFormatterStream=s}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.FormatterOptions=void 0;class f{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,c||{}),typeof(c==null?void 0:c.quoteHeaders)>"u"&&(this.quoteHeaders=this.quoteColumns),(c==null?void 0:c.quote)===!0?this.quote='"':(c==null?void 0:c.quote)===!1&&(this.quote=""),typeof(c==null?void 0:c.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=c.writeHeaders)!==null&&s!==void 0?s:!0),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}v.FormatterOptions=f},{}],148:[function(e,m,v){var f=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(v,"__esModule",{value:!0}),v.FieldFormatter=void 0;const u=f(e("lodash.isboolean")),c=f(e("lodash.isnil")),s=f(e("lodash.escaperegexp"));class t{constructor(r){this._headers=null,this.formatterOptions=r,r.headers!==null&&(this.headers=r.headers),this.REPLACE_REGEXP=new RegExp(r.quote,"g");const n=`[${r.delimiter}${s.default(r.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(n)}set headers(r){this._headers=r}shouldQuote(r,n){const l=n?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return u.default(l)?l:Array.isArray(l)?l[r]:this._headers!==null?l[this._headers[r]]:!1}format(r,n,l){const d=`${c.default(r)?"":r}`.replace(/\0/g,""),{formatterOptions:o}=this;return o.quote!==""&&d.indexOf(o.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,o.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(n,l)?this.quoteField(d):d}quoteField(r){const{quote:n}=this.formatterOptions;return`${n}${r}${n}`}}v.FieldFormatter=t},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,m,v){var f=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(v,"__esModule",{value:!0}),v.RowFormatter=void 0;const u=f(e("lodash.isfunction")),c=f(e("lodash.isequal")),s=e("./FieldFormatter"),t=e("../types");class i{constructor(n){this.rowCount=0,this.formatterOptions=n,this.fieldFormatter=new s.FieldFormatter(n),this.headers=n.headers,this.shouldWriteHeaders=n.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),n.transform&&(this.rowTransform=n.transform)}static isRowHashArray(n){return Array.isArray(n)?Array.isArray(n[0])&&n[0].length===2:!1}static isRowArray(n){return Array.isArray(n)&&!this.isRowHashArray(n)}static gatherHeaders(n){return i.isRowHashArray(n)?n.map(l=>l[0]):Array.isArray(n)?n:Object.keys(n)}static createTransform(n){return t.isSyncTransform(n)?(l,d)=>{let o=null;try{o=n(l)}catch(g){return d(g)}return d(null,o)}:(l,d)=>{n(l,d)}}set rowTransform(n){if(!u.default(n))throw new TypeError("The transform should be a function");this._rowTransform=i.createTransform(n)}format(n,l){this.callTransformer(n,(d,o)=>{if(d)return l(d);if(!n)return l(null);const g=[];if(o){const{shouldFormatColumns:y,headers:p}=this.checkHeaders(o);if(this.shouldWriteHeaders&&p&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(p,!0)),this.hasWrittenHeaders=!0),y){const E=this.gatherColumns(o);g.push(this.formatColumns(E,!1))}}return l(null,g)})}finish(n){const l=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return n(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));l.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&l.push(this.formatterOptions.rowDelimiter),n(null,l)}checkHeaders(n){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const l=i.gatherHeaders(n);return this.headers=l,this.fieldFormatter.headers=l,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(l,n),headers:l}:{shouldFormatColumns:!0,headers:null}}gatherColumns(n){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(n)?i.isRowHashArray(n)?this.headers.map((l,d)=>{const o=n[d];return o?o[1]:""}):i.isRowArray(n)&&!this.shouldWriteHeaders?n:this.headers.map((l,d)=>n[d]):this.headers.map(l=>n[l])}callTransformer(n,l){return this._rowTransform?this._rowTransform(n,l):l(null,n)}formatColumns(n,l){const d=n.map((g,y)=>this.fieldFormatter.format(g,y,l)).join(this.formatterOptions.delimiter),{rowCount:o}=this;return this.rowCount+=1,o?[this.formatterOptions.rowDelimiter,d].join(""):d}}v.RowFormatter=i},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.FieldFormatter=v.RowFormatter=void 0;var f=e("./RowFormatter");Object.defineProperty(v,"RowFormatter",{enumerable:!0,get:function(){return f.RowFormatter}});var u=e("./FieldFormatter");Object.defineProperty(v,"FieldFormatter",{enumerable:!0,get:function(){return u.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,m,v){(function(f){(function(){var u=Object.create?function(y,p,E,T){T===void 0&&(T=E),Object.defineProperty(y,T,{enumerable:!0,get:function(){return p[E]}})}:function(y,p,E,T){T===void 0&&(T=E),y[T]=p[E]},c=Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p},s=function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var E in y)E!=="default"&&Object.prototype.hasOwnProperty.call(y,E)&&u(p,y,E);return c(p,y),p},t=function(y,p){for(var E in y)E!=="default"&&!Object.prototype.hasOwnProperty.call(p,E)&&u(p,y,E)};Object.defineProperty(v,"__esModule",{value:!0}),v.writeToPath=v.writeToString=v.writeToBuffer=v.writeToStream=v.write=v.format=v.FormatterOptions=v.CsvFormatterStream=void 0;const i=e("util"),r=e("stream"),n=s(e("fs")),l=e("./FormatterOptions"),d=e("./CsvFormatterStream");t(e("./types"),v);var o=e("./CsvFormatterStream");Object.defineProperty(v,"CsvFormatterStream",{enumerable:!0,get:function(){return o.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(v,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),v.format=y=>new d.CsvFormatterStream(new l.FormatterOptions(y)),v.write=(y,p)=>{const E=v.format(p),T=i.promisify((S,x)=>{E.write(S,void 0,x)});return y.reduce((S,x)=>S.then(()=>T(x)),Promise.resolve()).then(()=>E.end()).catch(S=>{E.emit("error",S)}),E},v.writeToStream=(y,p,E)=>v.write(p,E).pipe(y),v.writeToBuffer=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=[],T=new r.Writable({write(S,x,w){E.push(S),w()}});return new Promise((S,x)=>{T.on("error",x).on("finish",()=>S(f.concat(E))),v.write(y,p).pipe(T)})},v.writeToString=(y,p)=>v.writeToBuffer(y,p).then(E=>E.toString()),v.writeToPath=(y,p,E)=>{const T=n.createWriteStream(y,{encoding:"utf8"});return v.write(p,E).pipe(T)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.isSyncTransform=void 0,v.isSyncTransform=f=>f.length===1},{}],153:[function(e,m,v){(function(f){(function(){Object.defineProperty(v,"__esModule",{value:!0}),v.CsvParserStream=void 0;const u=e("string_decoder"),c=e("stream"),s=e("./transforms"),t=e("./parser");class i extends c.Transform{constructor(n){super({objectMode:n.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=n,this.parser=new t.Parser(n),this.headerTransformer=new s.HeaderTransformer(n),this.decoder=new u.StringDecoder(n.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(n){return this.rowTransformerValidator.rowTransform=n,this}validate(n){return this.rowTransformerValidator.rowValidator=n,this}emit(n){if(n==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var l=arguments.length,d=new Array(l>1?l-1:0),o=1;o<l;o++)d[o-1]=arguments[o];return super.emit(n,...d)}_transform(n,l,d){if(this.hasHitRowLimit)return d();const o=i.wrapDoneCallback(d);try{const{lines:g}=this,y=g+this.decoder.write(n),p=this.parse(y,!0);return this.processRows(p,o)}catch(g){return o(g)}}_flush(n){const l=i.wrapDoneCallback(n);if(this.hasHitRowLimit)return l();try{const d=this.lines+this.decoder.end(),o=this.parse(d,!1);return this.processRows(o,l)}catch(d){return l(d)}}parse(n,l){if(!n)return[];const{line:d,rows:o}=this.parser.parse(n,l);return this.lines=d,o}processRows(n,l){const d=n.length,o=g=>{const y=T=>{if(T)return l(T);if(g%100===0){f(()=>o(g+1));return}return o(g+1)};if(this.checkAndEmitHeaders(),g>=d||this.hasHitRowLimit)return l();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const p=n[g];this.rowCount+=1,this.parsedRowCount+=1;const E=this.rowCount;return this.transformRow(p,(T,S)=>{if(T)return this.rowCount-=1,y(T);if(!S)return y(new Error("expected transform result"));if(!S.isValid)this.emit("data-invalid",S.row,E,S.reason);else if(S.row)return this.pushRow(S.row,y);return y()})};o(0)}transformRow(n,l){try{this.headerTransformer.transform(n,(d,o)=>d?l(d):o?o.isValid?o.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(o.row,l):this.skipRow(l):(this.rowCount-=1,this.parsedRowCount-=1,l(null,{row:null,isValid:!0})):this.shouldEmitRows?l(null,{isValid:!1,row:n}):this.skipRow(l):l(new Error("Expected result from header transform")))}catch(d){l(d)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(n){return this.rowCount-=1,n(null,{row:null,isValid:!0})}pushRow(n,l){try{this.parserOptions.objectMode?this.push(n):this.push(JSON.stringify(n)),l()}catch(d){l(d)}}static wrapDoneCallback(n){let l=!1;return function(d){if(d){if(l)throw d;l=!0,n(d);return}for(var o=arguments.length,g=new Array(o>1?o-1:0),y=1;y<o;y++)g[y-1]=arguments[y];n(...g)}}}v.CsvParserStream=i}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,m,v){var f=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(v,"__esModule",{value:!0}),v.ParserOptions=void 0;const u=f(e("lodash.escaperegexp")),c=f(e("lodash.isnil"));class s{constructor(i){var r;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,i||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=u.default(this.delimiter),this.escapeChar=(r=this.escape)!==null&&r!==void 0?r:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}v.ParserOptions=s},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,m,v){var f=Object.create?function(o,g,y,p){p===void 0&&(p=y),Object.defineProperty(o,p,{enumerable:!0,get:function(){return g[y]}})}:function(o,g,y,p){p===void 0&&(p=y),o[p]=g[y]},u=Object.create?function(o,g){Object.defineProperty(o,"default",{enumerable:!0,value:g})}:function(o,g){o.default=g},c=function(o){if(o&&o.__esModule)return o;var g={};if(o!=null)for(var y in o)y!=="default"&&Object.prototype.hasOwnProperty.call(o,y)&&f(g,o,y);return u(g,o),g},s=function(o,g){for(var y in o)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&f(g,o,y)};Object.defineProperty(v,"__esModule",{value:!0}),v.parseString=v.parseFile=v.parseStream=v.parse=v.ParserOptions=v.CsvParserStream=void 0;const t=c(e("fs")),i=e("stream"),r=e("./ParserOptions"),n=e("./CsvParserStream");s(e("./types"),v);var l=e("./CsvParserStream");Object.defineProperty(v,"CsvParserStream",{enumerable:!0,get:function(){return l.CsvParserStream}});var d=e("./ParserOptions");Object.defineProperty(v,"ParserOptions",{enumerable:!0,get:function(){return d.ParserOptions}}),v.parse=o=>new n.CsvParserStream(new r.ParserOptions(o)),v.parseStream=(o,g)=>o.pipe(new n.CsvParserStream(new r.ParserOptions(g))),v.parseFile=function(o){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.createReadStream(o).pipe(new n.CsvParserStream(new r.ParserOptions(g)))},v.parseString=(o,g)=>{const y=new i.Readable;return y.push(o),y.push(null),y.pipe(new n.CsvParserStream(new r.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.Parser=void 0;const f=e("./Scanner"),u=e("./RowParser"),c=e("./Token");class s{constructor(i){this.parserOptions=i,this.rowParser=new u.RowParser(this.parserOptions)}static removeBOM(i){return i&&i.charCodeAt(0)===65279?i.slice(1):i}parse(i,r){const n=new f.Scanner({line:s.removeBOM(i),parserOptions:this.parserOptions,hasMoreData:r});return this.parserOptions.supportsComments?this.parseWithComments(n):this.parseWithoutComments(n)}parseWithoutComments(i){const r=[];let n=!0;for(;n;)n=this.parseRow(i,r);return{line:i.line,rows:r}}parseWithComments(i){const{parserOptions:r}=this,n=[];for(let l=i.nextCharacterToken;l!==null;l=i.nextCharacterToken)if(c.Token.isTokenComment(l,r)){if(i.advancePastLine()===null)return{line:i.lineFromCursor,rows:n};if(!i.hasMoreCharacters)return{line:i.lineFromCursor,rows:n};i.truncateToCursor()}else if(!this.parseRow(i,n))break;return{line:i.line,rows:n}}parseRow(i,r){if(!i.nextNonSpaceToken)return!1;const l=this.rowParser.parse(i);return l===null?!1:(this.parserOptions.ignoreEmpty&&u.RowParser.isEmptyRow(l)||r.push(l),!0)}}v.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.RowParser=void 0;const f=e("./column"),u=e("./Token"),c="";class s{constructor(i){this.parserOptions=i,this.columnParser=new f.ColumnParser(i)}static isEmptyRow(i){return i.join(c).replace(/\s+/g,c)===c}parse(i){const{parserOptions:r}=this,{hasMoreData:n}=i,l=i,d=[];let o=this.getStartToken(l,d);for(;o;){if(u.Token.isTokenRowDelimiter(o))return l.advancePastToken(o),!l.hasMoreCharacters&&u.Token.isTokenCarriageReturn(o,r)&&n?null:(l.truncateToCursor(),d);if(!this.shouldSkipColumnParse(l,o,d)){const g=this.columnParser.parse(l);if(g===null)return null;d.push(g)}o=l.nextNonSpaceToken}return n?null:(l.truncateToCursor(),d)}getStartToken(i,r){const n=i.nextNonSpaceToken;return n!==null&&u.Token.isTokenDelimiter(n,this.parserOptions)?(r.push(""),i.nextNonSpaceToken):n}shouldSkipColumnParse(i,r,n){const{parserOptions:l}=this;if(u.Token.isTokenDelimiter(r,l)){i.advancePastToken(r);const d=i.nextCharacterToken;if(!i.hasMoreCharacters||d!==null&&u.Token.isTokenRowDelimiter(d)||d!==null&&u.Token.isTokenDelimiter(d,l))return n.push(""),!0}return!1}}v.RowParser=s},{"./Token":159,"./column":164}],158:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.Scanner=void 0;const f=e("./Token"),u=/((?:\r\n)|\n|\r)/;class c{constructor(t){this.cursor=0,this.line=t.line,this.lineLength=this.line.length,this.parserOptions=t.parserOptions,this.hasMoreData=t.hasMoreData,this.cursor=t.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:t}=this,i=this.parserOptions.NEXT_TOKEN_REGEXP;if(t.search(i)===-1)return null;const r=i.exec(t);if(r==null)return null;const n=r[1],l=this.cursor+(r.index||0);return new f.Token({token:n,startCursor:l,endCursor:l+n.length-1})}get nextCharacterToken(){const{cursor:t,lineLength:i}=this;return i<=t?null:new f.Token({token:this.line[t],startCursor:t,endCursor:t})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const t=u.exec(this.lineFromCursor);return t?(this.cursor+=(t.index||0)+t[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(t){return this.cursor=t,this}advanceToToken(t){return this.cursor=t.startCursor,this}advancePastToken(t){return this.cursor=t.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}v.Scanner=c},{"./Token":159}],159:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.Token=void 0;class f{constructor(c){this.token=c.token,this.startCursor=c.startCursor,this.endCursor=c.endCursor}static isTokenRowDelimiter(c){const s=c.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(c,s){return c.token===s.carriageReturn}static isTokenComment(c,s){return s.supportsComments&&!!c&&c.token===s.comment}static isTokenEscapeCharacter(c,s){return c.token===s.escapeChar}static isTokenQuote(c,s){return c.token===s.quote}static isTokenDelimiter(c,s){return c.token===s.delimiter}}v.Token=f},{}],160:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.ColumnFormatter=void 0;class f{constructor(c){c.trim?this.format=s=>s.trim():c.ltrim?this.format=s=>s.trimLeft():c.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}v.ColumnFormatter=f},{}],161:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.ColumnParser=void 0;const f=e("./NonQuotedColumnParser"),u=e("./QuotedColumnParser"),c=e("../Token");class s{constructor(i){this.parserOptions=i,this.quotedColumnParser=new u.QuotedColumnParser(i),this.nonQuotedColumnParser=new f.NonQuotedColumnParser(i)}parse(i){const{nextNonSpaceToken:r}=i;return r!==null&&c.Token.isTokenQuote(r,this.parserOptions)?(i.advanceToToken(r),this.quotedColumnParser.parse(i)):this.nonQuotedColumnParser.parse(i)}}v.ColumnParser=s},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.NonQuotedColumnParser=void 0;const f=e("./ColumnFormatter"),u=e("../Token");class c{constructor(t){this.parserOptions=t,this.columnFormatter=new f.ColumnFormatter(t)}parse(t){if(!t.hasMoreCharacters)return null;const{parserOptions:i}=this,r=[];let n=t.nextCharacterToken;for(;n&&!(u.Token.isTokenDelimiter(n,i)||u.Token.isTokenRowDelimiter(n));n=t.nextCharacterToken)r.push(n.token),t.advancePastToken(n);return this.columnFormatter.format(r.join(""))}}v.NonQuotedColumnParser=c},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.QuotedColumnParser=void 0;const f=e("./ColumnFormatter"),u=e("../Token");class c{constructor(t){this.parserOptions=t,this.columnFormatter=new f.ColumnFormatter(t)}parse(t){if(!t.hasMoreCharacters)return null;const i=t.cursor,{foundClosingQuote:r,col:n}=this.gatherDataBetweenQuotes(t);if(!r){if(t.advanceTo(i),!t.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${t.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(t),n}gatherDataBetweenQuotes(t){const{parserOptions:i}=this;let r=!1,n=!1;const l=[];let d=t.nextCharacterToken;for(;!n&&d!==null;d=t.nextCharacterToken){const o=u.Token.isTokenQuote(d,i);if(!r&&o)r=!0;else if(r)if(u.Token.isTokenEscapeCharacter(d,i)){t.advancePastToken(d);const g=t.nextCharacterToken;g!==null&&(u.Token.isTokenQuote(g,i)||u.Token.isTokenEscapeCharacter(g,i))?(l.push(g.token),d=g):o?n=!0:l.push(d.token)}else o?n=!0:l.push(d.token);t.advancePastToken(d)}return{col:this.columnFormatter.format(l.join("")),foundClosingQuote:n}}checkForMalformedColumn(t){const{parserOptions:i}=this,{nextNonSpaceToken:r}=t;if(r){const n=u.Token.isTokenDelimiter(r,i),l=u.Token.isTokenRowDelimiter(r);if(!(n||l)){const d=t.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${i.escapedDelimiter}' OR new line got: '${r.token}'. at '${d}`)}t.advanceToToken(r)}else t.hasMoreData||t.advancePastLine()}}v.QuotedColumnParser=c},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.ColumnFormatter=v.QuotedColumnParser=v.NonQuotedColumnParser=v.ColumnParser=void 0;var f=e("./ColumnParser");Object.defineProperty(v,"ColumnParser",{enumerable:!0,get:function(){return f.ColumnParser}});var u=e("./NonQuotedColumnParser");Object.defineProperty(v,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(v,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var s=e("./ColumnFormatter");Object.defineProperty(v,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.QuotedColumnParser=v.NonQuotedColumnParser=v.ColumnParser=v.Token=v.Scanner=v.RowParser=v.Parser=void 0;var f=e("./Parser");Object.defineProperty(v,"Parser",{enumerable:!0,get:function(){return f.Parser}});var u=e("./RowParser");Object.defineProperty(v,"RowParser",{enumerable:!0,get:function(){return u.RowParser}});var c=e("./Scanner");Object.defineProperty(v,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var s=e("./Token");Object.defineProperty(v,"Token",{enumerable:!0,get:function(){return s.Token}});var t=e("./column");Object.defineProperty(v,"ColumnParser",{enumerable:!0,get:function(){return t.ColumnParser}}),Object.defineProperty(v,"NonQuotedColumnParser",{enumerable:!0,get:function(){return t.NonQuotedColumnParser}}),Object.defineProperty(v,"QuotedColumnParser",{enumerable:!0,get:function(){return t.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,m,v){var f=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(v,"__esModule",{value:!0}),v.HeaderTransformer=void 0;const u=f(e("lodash.isundefined")),c=f(e("lodash.isfunction")),s=f(e("lodash.uniq")),t=f(e("lodash.groupby"));class i{constructor(n){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=n,n.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(n.headers)?this.setHeaders(n.headers):c.default(n.headers)&&(this.headersTransform=n.headers)}transform(n,l){return this.shouldMapRow(n)?l(null,this.processRow(n)):l(null,{row:null,isValid:!0})}shouldMapRow(n){const{parserOptions:l}=this;if(!this.headersTransform&&l.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(n)){if(this.headersTransform)this.setHeaders(this.headersTransform(n));else if(this.shouldUseFirstRow)this.setHeaders(n);else return!0;return!1}return!0}processRow(n){if(!this.headers)return{row:n,isValid:!0};const{parserOptions:l}=this;if(!l.discardUnmappedColumns&&n.length>this.headersLength){if(!l.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${n.length}`);return{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}}return l.strictColumnHandling&&n.length<this.headersLength?{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}:{row:this.mapHeaders(n),isValid:!0}}mapHeaders(n){const l={},{headers:d,headersLength:o}=this;for(let g=0;g<o;g+=1){const y=d[g];if(!u.default(y)){const p=n[g];u.default(p)?l[y]="":l[y]=p}}return l}setHeaders(n){var l;const d=n.filter(o=>!!o);if(s.default(d).length!==d.length){const o=t.default(d),g=Object.keys(o).filter(y=>o[y].length>1);throw new Error(`Duplicate headers found ${JSON.stringify(g)}`)}this.headers=n,this.receivedHeaders=!0,this.headersLength=((l=this.headers)===null||l===void 0?void 0:l.length)||0}}v.HeaderTransformer=i},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,m,v){var f=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(v,"__esModule",{value:!0}),v.RowTransformerValidator=void 0;const u=f(e("lodash.isfunction")),c=e("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(i){return c.isSyncTransform(i)?(r,n)=>{let l=null;try{l=i(r)}catch(d){return n(d)}return n(null,l)}:i}static createValidator(i){return c.isSyncValidate(i)?(r,n)=>{n(null,{row:r,isValid:i(r)})}:(r,n)=>{i(r,(l,d,o)=>l?n(l):d?n(null,{row:r,isValid:d,reason:o}):n(null,{row:r,isValid:!1,reason:o}))}}set rowTransform(i){if(!u.default(i))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(i)}set rowValidator(i){if(!u.default(i))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(i)}transformAndValidate(i,r){return this.callTransformer(i,(n,l)=>n?r(n):l?this.callValidator(l,(d,o)=>d?r(d):o&&!o.isValid?r(null,{row:l,isValid:!1,reason:o.reason}):r(null,{row:l,isValid:!0})):r(null,{row:null,isValid:!0}))}callTransformer(i,r){return this._rowTransform?this._rowTransform(i,r):r(null,i)}callValidator(i,r){return this._rowValidator?this._rowValidator(i,r):r(null,{row:i,isValid:!0})}}v.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.HeaderTransformer=v.RowTransformerValidator=void 0;var f=e("./RowTransformerValidator");Object.defineProperty(v,"RowTransformerValidator",{enumerable:!0,get:function(){return f.RowTransformerValidator}});var u=e("./HeaderTransformer");Object.defineProperty(v,"HeaderTransformer",{enumerable:!0,get:function(){return u.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.isSyncValidate=v.isSyncTransform=void 0,v.isSyncTransform=f=>f.length===1,v.isSyncValidate=f=>f.length===1},{}],170:[function(e,m,v){const f=v;f.bignum=e("bn.js"),f.define=e("./asn1/api").define,f.base=e("./asn1/base"),f.constants=e("./asn1/constants"),f.decoders=e("./asn1/decoders"),f.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,m,v){const f=e("./encoders"),u=e("./decoders"),c=e("inherits"),s=v;s.define=function(r,n){return new t(r,n)};function t(i,r){this.name=i,this.body=r,this.decoders={},this.encoders={}}t.prototype._createNamed=function(r){const n=this.name;function l(d){this._initNamed(d,n)}return c(l,r),l.prototype._initNamed=function(o,g){r.call(this,o,g)},new l(this)},t.prototype._getDecoder=function(r){return r=r||"der",this.decoders.hasOwnProperty(r)||(this.decoders[r]=this._createNamed(u[r])),this.decoders[r]},t.prototype.decode=function(r,n,l){return this._getDecoder(n).decode(r,l)},t.prototype._getEncoder=function(r){return r=r||"der",this.encoders.hasOwnProperty(r)||(this.encoders[r]=this._createNamed(f[r])),this.encoders[r]},t.prototype.encode=function(r,n,l){return this._getEncoder(n).encode(r,l)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,m,v){const f=e("inherits"),u=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function s(i,r){if(u.call(this,r),!c.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}f(s,u),v.DecoderBuffer=s,s.isDecoderBuffer=function(r){return r instanceof s?!0:typeof r=="object"&&c.isBuffer(r.base)&&r.constructor.name==="DecoderBuffer"&&typeof r.offset=="number"&&typeof r.length=="number"&&typeof r.save=="function"&&typeof r.restore=="function"&&typeof r.isEmpty=="function"&&typeof r.readUInt8=="function"&&typeof r.skip=="function"&&typeof r.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:u.prototype.save.call(this)}},s.prototype.restore=function(r){const n=new s(this.base);return n.offset=r.offset,n.length=this.offset,this.offset=r.offset,u.prototype.restore.call(this,r.reporter),n},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(r){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(r||"DecoderBuffer overrun")},s.prototype.skip=function(r,n){if(!(this.offset+r<=this.length))return this.error(n||"DecoderBuffer overrun");const l=new s(this.base);return l._reporterState=this._reporterState,l.offset=this.offset,l.length=this.offset+r,this.offset+=r,l},s.prototype.raw=function(r){return this.base.slice(r?r.offset:this.offset,this.length)};function t(i,r){if(Array.isArray(i))this.length=0,this.value=i.map(function(n){return t.isEncoderBuffer(n)||(n=new t(n,r)),this.length+=n.length,n},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return r.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=c.byteLength(i);else if(c.isBuffer(i))this.value=i,this.length=i.length;else return r.error("Unsupported type: "+typeof i)}v.EncoderBuffer=t,t.isEncoderBuffer=function(r){return r instanceof t?!0:typeof r=="object"&&r.constructor.name==="EncoderBuffer"&&typeof r.length=="number"&&typeof r.join=="function"},t.prototype.join=function(r,n){return r||(r=c.alloc(this.length)),n||(n=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(l){l.join(r,n),n+=l.length}):(typeof this.value=="number"?r[n]=this.value:typeof this.value=="string"?r.write(this.value,n):c.isBuffer(this.value)&&this.value.copy(r,n),n+=this.length)),r}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,m,v){const f=v;f.Reporter=e("./reporter").Reporter,f.DecoderBuffer=e("./buffer").DecoderBuffer,f.EncoderBuffer=e("./buffer").EncoderBuffer,f.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,m,v){const f=e("../base/reporter").Reporter,u=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,s=e("minimalistic-assert"),t=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(t),r=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function n(d,o,g){const y={};this._baseState=y,y.name=g,y.enc=d,y.parent=o||null,y.children=null,y.tag=null,y.args=null,y.reverseArgs=null,y.choice=null,y.optional=!1,y.any=!1,y.obj=!1,y.use=null,y.useDecoder=null,y.key=null,y.default=null,y.explicit=null,y.implicit=null,y.contains=null,y.parent||(y.children=[],this._wrap())}m.exports=n;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];n.prototype.clone=function(){const o=this._baseState,g={};l.forEach(function(p){g[p]=o[p]});const y=new this.constructor(g.parent);return y._baseState=g,y},n.prototype._wrap=function(){const o=this._baseState;i.forEach(function(g){this[g]=function(){const p=new this.constructor(this);return o.children.push(p),p[g].apply(p,arguments)}},this)},n.prototype._init=function(o){const g=this._baseState;s(g.parent===null),o.call(this),g.children=g.children.filter(function(y){return y._baseState.parent===this},this),s.equal(g.children.length,1,"Root node can have only one child")},n.prototype._useArgs=function(o){const g=this._baseState,y=o.filter(function(p){return p instanceof this.constructor},this);o=o.filter(function(p){return!(p instanceof this.constructor)},this),y.length!==0&&(s(g.children===null),g.children=y,y.forEach(function(p){p._baseState.parent=this},this)),o.length!==0&&(s(g.args===null),g.args=o,g.reverseArgs=o.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const E={};return Object.keys(p).forEach(function(T){T==(T|0)&&(T|=0);const S=p[T];E[S]=T}),E}))},r.forEach(function(d){n.prototype[d]=function(){const g=this._baseState;throw new Error(d+" not implemented for encoding: "+g.enc)}}),t.forEach(function(d){n.prototype[d]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return s(g.tag===null),g.tag=d,this._useArgs(y),this}}),n.prototype.use=function(o){s(o);const g=this._baseState;return s(g.use===null),g.use=o,this},n.prototype.optional=function(){const o=this._baseState;return o.optional=!0,this},n.prototype.def=function(o){const g=this._baseState;return s(g.default===null),g.default=o,g.optional=!0,this},n.prototype.explicit=function(o){const g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.explicit=o,this},n.prototype.implicit=function(o){const g=this._baseState;return s(g.explicit===null&&g.implicit===null),g.implicit=o,this},n.prototype.obj=function(){const o=this._baseState,g=Array.prototype.slice.call(arguments);return o.obj=!0,g.length!==0&&this._useArgs(g),this},n.prototype.key=function(o){const g=this._baseState;return s(g.key===null),g.key=o,this},n.prototype.any=function(){const o=this._baseState;return o.any=!0,this},n.prototype.choice=function(o){const g=this._baseState;return s(g.choice===null),g.choice=o,this._useArgs(Object.keys(o).map(function(y){return o[y]})),this},n.prototype.contains=function(o){const g=this._baseState;return s(g.use===null),g.contains=o,this},n.prototype._decode=function(o,g){const y=this._baseState;if(y.parent===null)return o.wrapResult(y.children[0]._decode(o,g));let p=y.default,E=!0,T=null;if(y.key!==null&&(T=o.enterKey(y.key)),y.optional){let x=null;if(y.explicit!==null?x=y.explicit:y.implicit!==null?x=y.implicit:y.tag!==null&&(x=y.tag),x===null&&!y.any){const w=o.save();try{y.choice===null?this._decodeGeneric(y.tag,o,g):this._decodeChoice(o,g),E=!0}catch{E=!1}o.restore(w)}else if(E=this._peekTag(o,x,y.any),o.isError(E))return E}let S;if(y.obj&&E&&(S=o.enterObject()),E){if(y.explicit!==null){const w=this._decodeTag(o,y.explicit);if(o.isError(w))return w;o=w}const x=o.offset;if(y.use===null&&y.choice===null){let w;y.any&&(w=o.save());const I=this._decodeTag(o,y.implicit!==null?y.implicit:y.tag,y.any);if(o.isError(I))return I;y.any?p=o.raw(w):o=I}if(g&&g.track&&y.tag!==null&&g.track(o.path(),x,o.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(o.path(),o.offset,o.length,"content"),y.any||(y.choice===null?p=this._decodeGeneric(y.tag,o,g):p=this._decodeChoice(o,g)),o.isError(p))return p;if(!y.any&&y.choice===null&&y.children!==null&&y.children.forEach(function(I){I._decode(o,g)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const w=new c(p);p=this._getUse(y.contains,o._reporterState.obj)._decode(w,g)}}return y.obj&&E&&(p=o.leaveObject(S)),y.key!==null&&(p!==null||E===!0)?o.leaveKey(T,y.key,p):T!==null&&o.exitKey(T),p},n.prototype._decodeGeneric=function(o,g,y){const p=this._baseState;return o==="seq"||o==="set"?null:o==="seqof"||o==="setof"?this._decodeList(g,o,p.args[0],y):/str$/.test(o)?this._decodeStr(g,o,y):o==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],y):o==="objid"?this._decodeObjid(g,null,null,y):o==="gentime"||o==="utctime"?this._decodeTime(g,o,y):o==="null_"?this._decodeNull(g,y):o==="bool"?this._decodeBool(g,y):o==="objDesc"?this._decodeStr(g,o,y):o==="int"||o==="enum"?this._decodeInt(g,p.args&&p.args[0],y):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+o)},n.prototype._getUse=function(o,g){const y=this._baseState;return y.useDecoder=this._use(o,g),s(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},n.prototype._decodeChoice=function(o,g){const y=this._baseState;let p=null,E=!1;return Object.keys(y.choice).some(function(T){const S=o.save(),x=y.choice[T];try{const w=x._decode(o,g);if(o.isError(w))return!1;p={type:T,value:w},E=!0}catch{return o.restore(S),!1}return!0},this),E?p:o.error("Choice not matched")},n.prototype._createEncoderBuffer=function(o){return new u(o,this.reporter)},n.prototype._encode=function(o,g,y){const p=this._baseState;if(p.default!==null&&p.default===o)return;const E=this._encodeValue(o,g,y);if(E!==void 0&&!this._skipDefault(E,g,y))return E},n.prototype._encodeValue=function(o,g,y){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(o,g||new f);let E=null;if(this.reporter=g,p.optional&&o===void 0)if(p.default!==null)o=p.default;else return;let T=null,S=!1;if(p.any)E=this._createEncoderBuffer(o);else if(p.choice)E=this._encodeChoice(o,g);else if(p.contains)T=this._getUse(p.contains,y)._encode(o,g),S=!0;else if(p.children)T=p.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,g,o);if(x._baseState.key===null)return g.error("Child should have a key");const w=g.enterKey(x._baseState.key);if(typeof o!="object")return g.error("Child expected, but input is not object");const I=x._encode(o[x._baseState.key],g,o);return g.leaveKey(w),I},this).filter(function(x){return x}),T=this._createEncoderBuffer(T);else if(p.tag==="seqof"||p.tag==="setof"){if(!(p.args&&p.args.length===1))return g.error("Too many args for : "+p.tag);if(!Array.isArray(o))return g.error("seqof/setof, but data is not Array");const x=this.clone();x._baseState.implicit=null,T=this._createEncoderBuffer(o.map(function(w){const I=this._baseState;return this._getUse(I.args[0],o)._encode(w,g)},x))}else p.use!==null?E=this._getUse(p.use,y)._encode(o,g):(T=this._encodePrimitive(p.tag,o),S=!0);if(!p.any&&p.choice===null){const x=p.implicit!==null?p.implicit:p.tag,w=p.implicit===null?"universal":"context";x===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(E=this._encodeComposite(x,S,w,T))}return p.explicit!==null&&(E=this._encodeComposite(p.explicit,!1,"context",E)),E},n.prototype._encodeChoice=function(o,g){const y=this._baseState,p=y.choice[o.type];return p||s(!1,o.type+" not found in "+JSON.stringify(Object.keys(y.choice))),p._encode(o.value,g)},n.prototype._encodePrimitive=function(o,g){const y=this._baseState;if(/str$/.test(o))return this._encodeStr(g,o);if(o==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(o==="objid")return this._encodeObjid(g,null,null);if(o==="gentime"||o==="utctime")return this._encodeTime(g,o);if(o==="null_")return this._encodeNull();if(o==="int"||o==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(o==="bool")return this._encodeBool(g);if(o==="objDesc")return this._encodeStr(g,o);throw new Error("Unsupported tag: "+o)},n.prototype._isNumstr=function(o){return/^[0-9 ]*$/.test(o)},n.prototype._isPrintstr=function(o){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(o)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,m,v){const f=e("inherits");function u(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}v.Reporter=u,u.prototype.isError=function(t){return t instanceof c},u.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},u.prototype.restore=function(t){const i=this._reporterState;i.obj=t.obj,i.path=i.path.slice(0,t.pathLen)},u.prototype.enterKey=function(t){return this._reporterState.path.push(t)},u.prototype.exitKey=function(t){const i=this._reporterState;i.path=i.path.slice(0,t-1)},u.prototype.leaveKey=function(t,i,r){const n=this._reporterState;this.exitKey(t),n.obj!==null&&(n.obj[i]=r)},u.prototype.path=function(){return this._reporterState.path.join("/")},u.prototype.enterObject=function(){const t=this._reporterState,i=t.obj;return t.obj={},i},u.prototype.leaveObject=function(t){const i=this._reporterState,r=i.obj;return i.obj=t,r},u.prototype.error=function(t){let i;const r=this._reporterState,n=t instanceof c;if(n?i=t:i=new c(r.path.map(function(l){return"["+JSON.stringify(l)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw i;return n||r.errors.push(i),i},u.prototype.wrapResult=function(t){const i=this._reporterState;return i.options.partial?{result:this.isError(t)?null:t,errors:i.errors}:t};function c(s,t){this.path=s,this.rethrow(t)}f(c,Error),c.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this}},{inherits:440}],176:[function(e,m,v){function f(u){const c={};return Object.keys(u).forEach(function(s){(s|0)==s&&(s=s|0);const t=u[s];c[t]=s}),c}v.tagClass={0:"universal",1:"application",2:"context",3:"private"},v.tagClassByName=f(v.tagClass),v.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},v.tagByName=f(v.tag)},{}],177:[function(e,m,v){const f=v;f._reverse=function(c){const s={};return Object.keys(c).forEach(function(t){(t|0)==t&&(t=t|0);const i=c[t];s[i]=t}),s},f.der=e("./der")},{"./der":176}],178:[function(e,m,v){const f=e("inherits"),u=e("bn.js"),c=e("../base/buffer").DecoderBuffer,s=e("../base/node"),t=e("../constants/der");function i(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new r,this.tree._init(d.body)}m.exports=i,i.prototype.decode=function(o,g){return c.isDecoderBuffer(o)||(o=new c(o,g)),this.tree._decode(o,g)};function r(d){s.call(this,"der",d)}f(r,s),r.prototype._peekTag=function(o,g,y){if(o.isEmpty())return!1;const p=o.save(),E=n(o,'Failed to peek tag: "'+g+'"');return o.isError(E)?E:(o.restore(p),E.tag===g||E.tagStr===g||E.tagStr+"of"===g||y)},r.prototype._decodeTag=function(o,g,y){const p=n(o,'Failed to decode tag of "'+g+'"');if(o.isError(p))return p;let E=l(o,p.primitive,'Failed to get length of "'+g+'"');if(o.isError(E))return E;if(!y&&p.tag!==g&&p.tagStr!==g&&p.tagStr+"of"!==g)return o.error('Failed to match tag: "'+g+'"');if(p.primitive||E!==null)return o.skip(E,'Failed to match body of: "'+g+'"');const T=o.save(),S=this._skipUntilEnd(o,'Failed to skip indefinite length body: "'+this.tag+'"');return o.isError(S)?S:(E=o.offset-T.offset,o.restore(T),o.skip(E,'Failed to match body of: "'+g+'"'))},r.prototype._skipUntilEnd=function(o,g){for(;;){const y=n(o,g);if(o.isError(y))return y;const p=l(o,y.primitive,g);if(o.isError(p))return p;let E;if(y.primitive||p!==null?E=o.skip(p):E=this._skipUntilEnd(o,g),o.isError(E))return E;if(y.tagStr==="end")break}},r.prototype._decodeList=function(o,g,y,p){const E=[];for(;!o.isEmpty();){const T=this._peekTag(o,"end");if(o.isError(T))return T;const S=y.decode(o,"der",p);if(o.isError(S)&&T)break;E.push(S)}return E},r.prototype._decodeStr=function(o,g){if(g==="bitstr"){const y=o.readUInt8();return o.isError(y)?y:{unused:y,data:o.raw()}}else if(g==="bmpstr"){const y=o.raw();if(y.length%2===1)return o.error("Decoding of string type: bmpstr length mismatch");let p="";for(let E=0;E<y.length/2;E++)p+=String.fromCharCode(y.readUInt16BE(E*2));return p}else if(g==="numstr"){const y=o.raw().toString("ascii");return this._isNumstr(y)?y:o.error("Decoding of string type: numstr unsupported characters")}else{if(g==="octstr")return o.raw();if(g==="objDesc")return o.raw();if(g==="printstr"){const y=o.raw().toString("ascii");return this._isPrintstr(y)?y:o.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(g)?o.raw().toString():o.error("Decoding of string type: "+g+" unsupported")}},r.prototype._decodeObjid=function(o,g,y){let p;const E=[];let T=0,S=0;for(;!o.isEmpty();)S=o.readUInt8(),T<<=7,T|=S&127,S&128||(E.push(T),T=0);S&128&&E.push(T);const x=E[0]/40|0,w=E[0]%40;if(y?p=E:p=[x,w].concat(E.slice(1)),g){let I=g[p.join(" ")];I===void 0&&(I=g[p.join(".")]),I!==void 0&&(p=I)}return p},r.prototype._decodeTime=function(o,g){const y=o.raw().toString();let p,E,T,S,x,w;if(g==="gentime")p=y.slice(0,4)|0,E=y.slice(4,6)|0,T=y.slice(6,8)|0,S=y.slice(8,10)|0,x=y.slice(10,12)|0,w=y.slice(12,14)|0;else if(g==="utctime")p=y.slice(0,2)|0,E=y.slice(2,4)|0,T=y.slice(4,6)|0,S=y.slice(6,8)|0,x=y.slice(8,10)|0,w=y.slice(10,12)|0,p<70?p=2e3+p:p=1900+p;else return o.error("Decoding "+g+" time is not supported yet");return Date.UTC(p,E-1,T,S,x,w,0)},r.prototype._decodeNull=function(){return null},r.prototype._decodeBool=function(o){const g=o.readUInt8();return o.isError(g)?g:g!==0},r.prototype._decodeInt=function(o,g){const y=o.raw();let p=new u(y);return g&&(p=g[p.toString(10)]||p),p},r.prototype._use=function(o,g){return typeof o=="function"&&(o=o(g)),o._getDecoder("der").tree};function n(d,o){let g=d.readUInt8(o);if(d.isError(g))return g;const y=t.tagClass[g>>6],p=(g&32)===0;if((g&31)===31){let T=g;for(g=0;(T&128)===128;){if(T=d.readUInt8(o),d.isError(T))return T;g<<=7,g|=T&127}}else g&=31;const E=t.tag[g];return{cls:y,primitive:p,tag:g,tagStr:E}}function l(d,o,g){let y=d.readUInt8(g);if(d.isError(y))return y;if(!o&&y===128)return null;if(!(y&128))return y;const p=y&127;if(p>4)return d.error("length octect is too long");y=0;for(let E=0;E<p;E++){y<<=8;const T=d.readUInt8(g);if(d.isError(T))return T;y|=T}return y}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,m,v){const f=v;f.der=e("./der"),f.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,m,v){const f=e("inherits"),u=e("safer-buffer").Buffer,c=e("./der");function s(t){c.call(this,t),this.enc="pem"}f(s,c),m.exports=s,s.prototype.decode=function(i,r){const n=i.toString().split(/[\r\n]+/g),l=r.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,g=-1;for(let E=0;E<n.length;E++){const T=n[E].match(d);if(T!==null&&T[2]===l)if(o===-1){if(T[1]!=="BEGIN")break;o=E}else{if(T[1]!=="END")break;g=E;break}}if(o===-1||g===-1)throw new Error("PEM section not found for: "+l);const y=n.slice(o+1,g).join("");y.replace(/[^a-z0-9+/=]+/gi,"");const p=u.from(y,"base64");return c.prototype.decode.call(this,p,r)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,m,v){const f=e("inherits"),u=e("safer-buffer").Buffer,c=e("../base/node"),s=e("../constants/der");function t(l){this.enc="der",this.name=l.name,this.entity=l,this.tree=new i,this.tree._init(l.body)}m.exports=t,t.prototype.encode=function(d,o){return this.tree._encode(d,o).join()};function i(l){c.call(this,"der",l)}f(i,c),i.prototype._encodeComposite=function(d,o,g,y){const p=n(d,o,g,this.reporter);if(y.length<128){const S=u.alloc(2);return S[0]=p,S[1]=y.length,this._createEncoderBuffer([S,y])}let E=1;for(let S=y.length;S>=256;S>>=8)E++;const T=u.alloc(2+E);T[0]=p,T[1]=128|E;for(let S=1+E,x=y.length;x>0;S--,x>>=8)T[S]=x&255;return this._createEncoderBuffer([T,y])},i.prototype._encodeStr=function(d,o){if(o==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(o==="bmpstr"){const g=u.alloc(d.length*2);for(let y=0;y<d.length;y++)g.writeUInt16BE(d.charCodeAt(y),y*2);return this._createEncoderBuffer(g)}else return o==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):o==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(o)?this._createEncoderBuffer(d):o==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+o+" unsupported")},i.prototype._encodeObjid=function(d,o,g){if(typeof d=="string"){if(!o)return this.reporter.error("string objid given, but no values map found");if(!o.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=o[d].split(/[\s.]+/g);for(let T=0;T<d.length;T++)d[T]|=0}else if(Array.isArray(d)){d=d.slice();for(let T=0;T<d.length;T++)d[T]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}let y=0;for(let T=0;T<d.length;T++){let S=d[T];for(y++;S>=128;S>>=7)y++}const p=u.alloc(y);let E=p.length-1;for(let T=d.length-1;T>=0;T--){let S=d[T];for(p[E--]=S&127;(S>>=7)>0;)p[E--]=128|S&127}return this._createEncoderBuffer(p)};function r(l){return l<10?"0"+l:l}i.prototype._encodeTime=function(d,o){let g;const y=new Date(d);return o==="gentime"?g=[r(y.getUTCFullYear()),r(y.getUTCMonth()+1),r(y.getUTCDate()),r(y.getUTCHours()),r(y.getUTCMinutes()),r(y.getUTCSeconds()),"Z"].join(""):o==="utctime"?g=[r(y.getUTCFullYear()%100),r(y.getUTCMonth()+1),r(y.getUTCDate()),r(y.getUTCHours()),r(y.getUTCMinutes()),r(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+o+" time is not supported yet"),this._encodeStr(g,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(d,o){if(typeof d=="string"){if(!o)return this.reporter.error("String int or enum given, but no values map");if(!o.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=o[d]}if(typeof d!="number"&&!u.isBuffer(d)){const p=d.toArray();!d.sign&&p[0]&128&&p.unshift(0),d=u.from(p)}if(u.isBuffer(d)){let p=d.length;d.length===0&&p++;const E=u.alloc(p);return d.copy(E),d.length===0&&(E[0]=0),this._createEncoderBuffer(E)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let p=d;p>=256;p>>=8)g++;const y=new Array(g);for(let p=y.length-1;p>=0;p--)y[p]=d&255,d>>=8;return y[0]&128&&y.unshift(0),this._createEncoderBuffer(u.from(y))},i.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},i.prototype._use=function(d,o){return typeof d=="function"&&(d=d(o)),d._getEncoder("der").tree},i.prototype._skipDefault=function(d,o,g){const y=this._baseState;let p;if(y.default===null)return!1;const E=d.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,o,g).join()),E.length!==y.defaultBuffer.length)return!1;for(p=0;p<E.length;p++)if(E[p]!==y.defaultBuffer[p])return!1;return!0};function n(l,d,o,g){let y;if(l==="seqof"?l="seq":l==="setof"&&(l="set"),s.tagByName.hasOwnProperty(l))y=s.tagByName[l];else if(typeof l=="number"&&(l|0)===l)y=l;else return g.error("Unknown tag: "+l);return y>=31?g.error("Multi-octet tag encoding unsupported"):(d||(y|=32),y|=s.tagClassByName[o||"universal"]<<6,y)}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,m,v){const f=v;f.der=e("./der"),f.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,m,v){const f=e("inherits"),u=e("./der");function c(s){u.call(this,s),this.enc="pem"}f(c,u),m.exports=c,c.prototype.encode=function(t,i){const n=u.prototype.encode.call(this,t).toString("base64"),l=["-----BEGIN "+i.label+"-----"];for(let d=0;d<n.length;d+=64)l.push(n.slice(d,d+64));return l.push("-----END "+i.label+"-----"),l.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,m,v){(function(f,u){function c(W,j){if(!W)throw new Error(j||"Assertion failed")}function s(W,j){W.super_=j;var O=function(){};O.prototype=j.prototype,W.prototype=new O,W.prototype.constructor=W}function t(W,j,O){if(t.isBN(W))return W;this.negative=0,this.words=null,this.length=0,this.red=null,W!==null&&((j==="le"||j==="be")&&(O=j,j=10),this._init(W||0,j||10,O||"be"))}typeof f=="object"?f.exports=t:u.BN=t,t.BN=t,t.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=e("buffer").Buffer}catch{}t.isBN=function(j){return j instanceof t?!0:j!==null&&typeof j=="object"&&j.constructor.wordSize===t.wordSize&&Array.isArray(j.words)},t.max=function(j,O){return j.cmp(O)>0?j:O},t.min=function(j,O){return j.cmp(O)<0?j:O},t.prototype._init=function(j,O,k){if(typeof j=="number")return this._initNumber(j,O,k);if(typeof j=="object")return this._initArray(j,O,k);O==="hex"&&(O=16),c(O===(O|0)&&O>=2&&O<=36),j=j.toString().replace(/\s+/g,"");var B=0;j[0]==="-"&&(B++,this.negative=1),B<j.length&&(O===16?this._parseHex(j,B,k):(this._parseBase(j,O,B),k==="le"&&this._initArray(this.toArray(),O,k)))},t.prototype._initNumber=function(j,O,k){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[j&67108863],this.length=1):j<4503599627370496?(this.words=[j&67108863,j/67108864&67108863],this.length=2):(c(j<9007199254740992),this.words=[j&67108863,j/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),O,k)},t.prototype._initArray=function(j,O,k){if(c(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var H,$,K=0;if(k==="be")for(B=j.length-1,H=0;B>=0;B-=3)$=j[B]|j[B-1]<<8|j[B-2]<<16,this.words[H]|=$<<K&67108863,this.words[H+1]=$>>>26-K&67108863,K+=24,K>=26&&(K-=26,H++);else if(k==="le")for(B=0,H=0;B<j.length;B+=3)$=j[B]|j[B+1]<<8|j[B+2]<<16,this.words[H]|=$<<K&67108863,this.words[H+1]=$>>>26-K&67108863,K+=24,K>=26&&(K-=26,H++);return this.strip()};function r(W,j){var O=W.charCodeAt(j);return O>=65&&O<=70?O-55:O>=97&&O<=102?O-87:O-48&15}function n(W,j,O){var k=r(W,O);return O-1>=j&&(k|=r(W,O-1)<<4),k}t.prototype._parseHex=function(j,O,k){this.length=Math.ceil((j.length-O)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var H=0,$=0,K;if(k==="be")for(B=j.length-1;B>=O;B-=2)K=n(j,O,B)<<H,this.words[$]|=K&67108863,H>=18?(H-=18,$+=1,this.words[$]|=K>>>26):H+=8;else{var z=j.length-O;for(B=z%2===0?O+1:O;B<j.length;B+=2)K=n(j,O,B)<<H,this.words[$]|=K&67108863,H>=18?(H-=18,$+=1,this.words[$]|=K>>>26):H+=8}this.strip()};function l(W,j,O,k){for(var B=0,H=Math.min(W.length,O),$=j;$<H;$++){var K=W.charCodeAt($)-48;B*=k,K>=49?B+=K-49+10:K>=17?B+=K-17+10:B+=K}return B}t.prototype._parseBase=function(j,O,k){this.words=[0],this.length=1;for(var B=0,H=1;H<=67108863;H*=O)B++;B--,H=H/O|0;for(var $=j.length-k,K=$%B,z=Math.min($,$-K)+k,F=0,L=k;L<z;L+=B)F=l(j,L,L+B,O),this.imuln(H),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F);if(K!==0){var G=1;for(F=l(j,L,j.length,O),L=0;L<K;L++)G*=O;this.imuln(G),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F)}this.strip()},t.prototype.copy=function(j){j.words=new Array(this.length);for(var O=0;O<this.length;O++)j.words[O]=this.words[O];j.length=this.length,j.negative=this.negative,j.red=this.red},t.prototype.clone=function(){var j=new t(null);return this.copy(j),j},t.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];t.prototype.toString=function(j,O){j=j||10,O=O|0||1;var k;if(j===16||j==="hex"){k="";for(var B=0,H=0,$=0;$<this.length;$++){var K=this.words[$],z=((K<<B|H)&16777215).toString(16);H=K>>>24-B&16777215,H!==0||$!==this.length-1?k=d[6-z.length]+z+k:k=z+k,B+=2,B>=26&&(B-=26,$--)}for(H!==0&&(k=H.toString(16)+k);k.length%O!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(j===(j|0)&&j>=2&&j<=36){var F=o[j],L=g[j];k="";var G=this.clone();for(G.negative=0;!G.isZero();){var le=G.modn(L).toString(j);G=G.idivn(L),G.isZero()?k=le+k:k=d[F-le.length]+le+k}for(this.isZero()&&(k="0"+k);k.length%O!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}c(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=this.words[1]*67108864:this.length===3&&this.words[2]===1?j+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(j,O){return c(typeof i<"u"),this.toArrayLike(i,j,O)},t.prototype.toArray=function(j,O){return this.toArrayLike(Array,j,O)},t.prototype.toArrayLike=function(j,O,k){var B=this.byteLength(),H=k||Math.max(1,B);c(B<=H,"byte array longer than desired length"),c(H>0,"Requested array length <= 0"),this.strip();var $=O==="le",K=new j(H),z,F,L=this.clone();if($){for(F=0;!L.isZero();F++)z=L.andln(255),L.iushrn(8),K[F]=z;for(;F<H;F++)K[F]=0}else{for(F=0;F<H-B;F++)K[F]=0;for(F=0;!L.isZero();F++)z=L.andln(255),L.iushrn(8),K[H-F-1]=z}return K},Math.clz32?t.prototype._countBits=function(j){return 32-Math.clz32(j)}:t.prototype._countBits=function(j){var O=j,k=0;return O>=4096&&(k+=13,O>>>=13),O>=64&&(k+=7,O>>>=7),O>=8&&(k+=4,O>>>=4),O>=2&&(k+=2,O>>>=2),k+O},t.prototype._zeroBits=function(j){if(j===0)return 26;var O=j,k=0;return O&8191||(k+=13,O>>>=13),O&127||(k+=7,O>>>=7),O&15||(k+=4,O>>>=4),O&3||(k+=2,O>>>=2),O&1||k++,k},t.prototype.bitLength=function(){var j=this.words[this.length-1],O=this._countBits(j);return(this.length-1)*26+O};function y(W){for(var j=new Array(W.bitLength()),O=0;O<j.length;O++){var k=O/26|0,B=O%26;j[O]=(W.words[k]&1<<B)>>>B}return j}t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,O=0;O<this.length;O++){var k=this._zeroBits(this.words[O]);if(j+=k,k!==26)break}return j},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},t.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var O=0;O<j.length;O++)this.words[O]=this.words[O]|j.words[O];return this.strip()},t.prototype.ior=function(j){return c((this.negative|j.negative)===0),this.iuor(j)},t.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},t.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},t.prototype.iuand=function(j){var O;this.length>j.length?O=j:O=this;for(var k=0;k<O.length;k++)this.words[k]=this.words[k]&j.words[k];return this.length=O.length,this.strip()},t.prototype.iand=function(j){return c((this.negative|j.negative)===0),this.iuand(j)},t.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},t.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},t.prototype.iuxor=function(j){var O,k;this.length>j.length?(O=this,k=j):(O=j,k=this);for(var B=0;B<k.length;B++)this.words[B]=O.words[B]^k.words[B];if(this!==O)for(;B<O.length;B++)this.words[B]=O.words[B];return this.length=O.length,this.strip()},t.prototype.ixor=function(j){return c((this.negative|j.negative)===0),this.iuxor(j)},t.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},t.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},t.prototype.inotn=function(j){c(typeof j=="number"&&j>=0);var O=Math.ceil(j/26)|0,k=j%26;this._expand(O),k>0&&O--;for(var B=0;B<O;B++)this.words[B]=~this.words[B]&67108863;return k>0&&(this.words[B]=~this.words[B]&67108863>>26-k),this.strip()},t.prototype.notn=function(j){return this.clone().inotn(j)},t.prototype.setn=function(j,O){c(typeof j=="number"&&j>=0);var k=j/26|0,B=j%26;return this._expand(k+1),O?this.words[k]=this.words[k]|1<<B:this.words[k]=this.words[k]&~(1<<B),this.strip()},t.prototype.iadd=function(j){var O;if(this.negative!==0&&j.negative===0)return this.negative=0,O=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,O=this.isub(j),j.negative=1,O._normSign();var k,B;this.length>j.length?(k=this,B=j):(k=j,B=this);for(var H=0,$=0;$<B.length;$++)O=(k.words[$]|0)+(B.words[$]|0)+H,this.words[$]=O&67108863,H=O>>>26;for(;H!==0&&$<k.length;$++)O=(k.words[$]|0)+H,this.words[$]=O&67108863,H=O>>>26;if(this.length=k.length,H!==0)this.words[this.length]=H,this.length++;else if(k!==this)for(;$<k.length;$++)this.words[$]=k.words[$];return this},t.prototype.add=function(j){var O;return j.negative!==0&&this.negative===0?(j.negative=0,O=this.sub(j),j.negative^=1,O):j.negative===0&&this.negative!==0?(this.negative=0,O=j.sub(this),this.negative=1,O):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},t.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var O=this.iadd(j);return j.negative=1,O._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var k=this.cmp(j);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,H;k>0?(B=this,H=j):(B=j,H=this);for(var $=0,K=0;K<H.length;K++)O=(B.words[K]|0)-(H.words[K]|0)+$,$=O>>26,this.words[K]=O&67108863;for(;$!==0&&K<B.length;K++)O=(B.words[K]|0)+$,$=O>>26,this.words[K]=O&67108863;if($===0&&K<B.length&&B!==this)for(;K<B.length;K++)this.words[K]=B.words[K];return this.length=Math.max(this.length,K),B!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(j){return this.clone().isub(j)};function p(W,j,O){O.negative=j.negative^W.negative;var k=W.length+j.length|0;O.length=k,k=k-1|0;var B=W.words[0]|0,H=j.words[0]|0,$=B*H,K=$&67108863,z=$/67108864|0;O.words[0]=K;for(var F=1;F<k;F++){for(var L=z>>>26,G=z&67108863,le=Math.min(F,j.length-1),ge=Math.max(0,F-W.length+1);ge<=le;ge++){var Ie=F-ge|0;B=W.words[Ie]|0,H=j.words[ge]|0,$=B*H+G,L+=$/67108864|0,G=$&67108863}O.words[F]=G|0,z=L|0}return z!==0?O.words[F]=z|0:O.length--,O.strip()}var E=function(j,O,k){var B=j.words,H=O.words,$=k.words,K=0,z,F,L,G=B[0]|0,le=G&8191,ge=G>>>13,Ie=B[1]|0,Oe=Ie&8191,Ke=Ie>>>13,De=B[2]|0,Te=De&8191,Z=De>>>13,ue=B[3]|0,Ee=ue&8191,_e=ue>>>13,he=B[4]|0,de=he&8191,ce=he>>>13,se=B[5]|0,ne=se&8191,we=se>>>13,Ne=B[6]|0,ae=Ne&8191,Pe=Ne>>>13,ze=B[7]|0,ve=ze&8191,Ae=ze>>>13,Fe=B[8]|0,We=Fe&8191,Je=Fe>>>13,Ge=B[9]|0,et=Ge&8191,ut=Ge>>>13,at=H[0]|0,Be=at&8191,Qe=at>>>13,rt=H[1]|0,mt=rt&8191,Ut=rt>>>13,jt=H[2]|0,Ct=jt&8191,Nt=jt>>>13,St=H[3]|0,Mt=St&8191,Dt=St>>>13,It=H[4]|0,$t=It&8191,Sr=It>>>13,pr=H[5]|0,Xt=pr&8191,hr=pr>>>13,Ir=H[6]|0,rr=Ir&8191,Wr=Ir>>>13,Or=H[7]|0,qt=Or&8191,Mr=Or>>>13,fr=H[8]|0,tr=fr&8191,xr=fr>>>13,ur=H[9]|0,er=ur&8191,zr=ur>>>13;k.negative=j.negative^O.negative,k.length=19,z=Math.imul(le,Be),F=Math.imul(le,Qe),F=F+Math.imul(ge,Be)|0,L=Math.imul(ge,Qe);var ar=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(ar>>>26)|0,ar&=67108863,z=Math.imul(Oe,Be),F=Math.imul(Oe,Qe),F=F+Math.imul(Ke,Be)|0,L=Math.imul(Ke,Qe),z=z+Math.imul(le,mt)|0,F=F+Math.imul(le,Ut)|0,F=F+Math.imul(ge,mt)|0,L=L+Math.imul(ge,Ut)|0;var ir=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(ir>>>26)|0,ir&=67108863,z=Math.imul(Te,Be),F=Math.imul(Te,Qe),F=F+Math.imul(Z,Be)|0,L=Math.imul(Z,Qe),z=z+Math.imul(Oe,mt)|0,F=F+Math.imul(Oe,Ut)|0,F=F+Math.imul(Ke,mt)|0,L=L+Math.imul(Ke,Ut)|0,z=z+Math.imul(le,Ct)|0,F=F+Math.imul(le,Nt)|0,F=F+Math.imul(ge,Ct)|0,L=L+Math.imul(ge,Nt)|0;var Ue=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,z=Math.imul(Ee,Be),F=Math.imul(Ee,Qe),F=F+Math.imul(_e,Be)|0,L=Math.imul(_e,Qe),z=z+Math.imul(Te,mt)|0,F=F+Math.imul(Te,Ut)|0,F=F+Math.imul(Z,mt)|0,L=L+Math.imul(Z,Ut)|0,z=z+Math.imul(Oe,Ct)|0,F=F+Math.imul(Oe,Nt)|0,F=F+Math.imul(Ke,Ct)|0,L=L+Math.imul(Ke,Nt)|0,z=z+Math.imul(le,Mt)|0,F=F+Math.imul(le,Dt)|0,F=F+Math.imul(ge,Mt)|0,L=L+Math.imul(ge,Dt)|0;var it=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(it>>>26)|0,it&=67108863,z=Math.imul(de,Be),F=Math.imul(de,Qe),F=F+Math.imul(ce,Be)|0,L=Math.imul(ce,Qe),z=z+Math.imul(Ee,mt)|0,F=F+Math.imul(Ee,Ut)|0,F=F+Math.imul(_e,mt)|0,L=L+Math.imul(_e,Ut)|0,z=z+Math.imul(Te,Ct)|0,F=F+Math.imul(Te,Nt)|0,F=F+Math.imul(Z,Ct)|0,L=L+Math.imul(Z,Nt)|0,z=z+Math.imul(Oe,Mt)|0,F=F+Math.imul(Oe,Dt)|0,F=F+Math.imul(Ke,Mt)|0,L=L+Math.imul(Ke,Dt)|0,z=z+Math.imul(le,$t)|0,F=F+Math.imul(le,Sr)|0,F=F+Math.imul(ge,$t)|0,L=L+Math.imul(ge,Sr)|0;var ot=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(ot>>>26)|0,ot&=67108863,z=Math.imul(ne,Be),F=Math.imul(ne,Qe),F=F+Math.imul(we,Be)|0,L=Math.imul(we,Qe),z=z+Math.imul(de,mt)|0,F=F+Math.imul(de,Ut)|0,F=F+Math.imul(ce,mt)|0,L=L+Math.imul(ce,Ut)|0,z=z+Math.imul(Ee,Ct)|0,F=F+Math.imul(Ee,Nt)|0,F=F+Math.imul(_e,Ct)|0,L=L+Math.imul(_e,Nt)|0,z=z+Math.imul(Te,Mt)|0,F=F+Math.imul(Te,Dt)|0,F=F+Math.imul(Z,Mt)|0,L=L+Math.imul(Z,Dt)|0,z=z+Math.imul(Oe,$t)|0,F=F+Math.imul(Oe,Sr)|0,F=F+Math.imul(Ke,$t)|0,L=L+Math.imul(Ke,Sr)|0,z=z+Math.imul(le,Xt)|0,F=F+Math.imul(le,hr)|0,F=F+Math.imul(ge,Xt)|0,L=L+Math.imul(ge,hr)|0;var Rt=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,z=Math.imul(ae,Be),F=Math.imul(ae,Qe),F=F+Math.imul(Pe,Be)|0,L=Math.imul(Pe,Qe),z=z+Math.imul(ne,mt)|0,F=F+Math.imul(ne,Ut)|0,F=F+Math.imul(we,mt)|0,L=L+Math.imul(we,Ut)|0,z=z+Math.imul(de,Ct)|0,F=F+Math.imul(de,Nt)|0,F=F+Math.imul(ce,Ct)|0,L=L+Math.imul(ce,Nt)|0,z=z+Math.imul(Ee,Mt)|0,F=F+Math.imul(Ee,Dt)|0,F=F+Math.imul(_e,Mt)|0,L=L+Math.imul(_e,Dt)|0,z=z+Math.imul(Te,$t)|0,F=F+Math.imul(Te,Sr)|0,F=F+Math.imul(Z,$t)|0,L=L+Math.imul(Z,Sr)|0,z=z+Math.imul(Oe,Xt)|0,F=F+Math.imul(Oe,hr)|0,F=F+Math.imul(Ke,Xt)|0,L=L+Math.imul(Ke,hr)|0,z=z+Math.imul(le,rr)|0,F=F+Math.imul(le,Wr)|0,F=F+Math.imul(ge,rr)|0,L=L+Math.imul(ge,Wr)|0;var zt=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(zt>>>26)|0,zt&=67108863,z=Math.imul(ve,Be),F=Math.imul(ve,Qe),F=F+Math.imul(Ae,Be)|0,L=Math.imul(Ae,Qe),z=z+Math.imul(ae,mt)|0,F=F+Math.imul(ae,Ut)|0,F=F+Math.imul(Pe,mt)|0,L=L+Math.imul(Pe,Ut)|0,z=z+Math.imul(ne,Ct)|0,F=F+Math.imul(ne,Nt)|0,F=F+Math.imul(we,Ct)|0,L=L+Math.imul(we,Nt)|0,z=z+Math.imul(de,Mt)|0,F=F+Math.imul(de,Dt)|0,F=F+Math.imul(ce,Mt)|0,L=L+Math.imul(ce,Dt)|0,z=z+Math.imul(Ee,$t)|0,F=F+Math.imul(Ee,Sr)|0,F=F+Math.imul(_e,$t)|0,L=L+Math.imul(_e,Sr)|0,z=z+Math.imul(Te,Xt)|0,F=F+Math.imul(Te,hr)|0,F=F+Math.imul(Z,Xt)|0,L=L+Math.imul(Z,hr)|0,z=z+Math.imul(Oe,rr)|0,F=F+Math.imul(Oe,Wr)|0,F=F+Math.imul(Ke,rr)|0,L=L+Math.imul(Ke,Wr)|0,z=z+Math.imul(le,qt)|0,F=F+Math.imul(le,Mr)|0,F=F+Math.imul(ge,qt)|0,L=L+Math.imul(ge,Mr)|0;var mr=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(mr>>>26)|0,mr&=67108863,z=Math.imul(We,Be),F=Math.imul(We,Qe),F=F+Math.imul(Je,Be)|0,L=Math.imul(Je,Qe),z=z+Math.imul(ve,mt)|0,F=F+Math.imul(ve,Ut)|0,F=F+Math.imul(Ae,mt)|0,L=L+Math.imul(Ae,Ut)|0,z=z+Math.imul(ae,Ct)|0,F=F+Math.imul(ae,Nt)|0,F=F+Math.imul(Pe,Ct)|0,L=L+Math.imul(Pe,Nt)|0,z=z+Math.imul(ne,Mt)|0,F=F+Math.imul(ne,Dt)|0,F=F+Math.imul(we,Mt)|0,L=L+Math.imul(we,Dt)|0,z=z+Math.imul(de,$t)|0,F=F+Math.imul(de,Sr)|0,F=F+Math.imul(ce,$t)|0,L=L+Math.imul(ce,Sr)|0,z=z+Math.imul(Ee,Xt)|0,F=F+Math.imul(Ee,hr)|0,F=F+Math.imul(_e,Xt)|0,L=L+Math.imul(_e,hr)|0,z=z+Math.imul(Te,rr)|0,F=F+Math.imul(Te,Wr)|0,F=F+Math.imul(Z,rr)|0,L=L+Math.imul(Z,Wr)|0,z=z+Math.imul(Oe,qt)|0,F=F+Math.imul(Oe,Mr)|0,F=F+Math.imul(Ke,qt)|0,L=L+Math.imul(Ke,Mr)|0,z=z+Math.imul(le,tr)|0,F=F+Math.imul(le,xr)|0,F=F+Math.imul(ge,tr)|0,L=L+Math.imul(ge,xr)|0;var Xr=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,z=Math.imul(et,Be),F=Math.imul(et,Qe),F=F+Math.imul(ut,Be)|0,L=Math.imul(ut,Qe),z=z+Math.imul(We,mt)|0,F=F+Math.imul(We,Ut)|0,F=F+Math.imul(Je,mt)|0,L=L+Math.imul(Je,Ut)|0,z=z+Math.imul(ve,Ct)|0,F=F+Math.imul(ve,Nt)|0,F=F+Math.imul(Ae,Ct)|0,L=L+Math.imul(Ae,Nt)|0,z=z+Math.imul(ae,Mt)|0,F=F+Math.imul(ae,Dt)|0,F=F+Math.imul(Pe,Mt)|0,L=L+Math.imul(Pe,Dt)|0,z=z+Math.imul(ne,$t)|0,F=F+Math.imul(ne,Sr)|0,F=F+Math.imul(we,$t)|0,L=L+Math.imul(we,Sr)|0,z=z+Math.imul(de,Xt)|0,F=F+Math.imul(de,hr)|0,F=F+Math.imul(ce,Xt)|0,L=L+Math.imul(ce,hr)|0,z=z+Math.imul(Ee,rr)|0,F=F+Math.imul(Ee,Wr)|0,F=F+Math.imul(_e,rr)|0,L=L+Math.imul(_e,Wr)|0,z=z+Math.imul(Te,qt)|0,F=F+Math.imul(Te,Mr)|0,F=F+Math.imul(Z,qt)|0,L=L+Math.imul(Z,Mr)|0,z=z+Math.imul(Oe,tr)|0,F=F+Math.imul(Oe,xr)|0,F=F+Math.imul(Ke,tr)|0,L=L+Math.imul(Ke,xr)|0,z=z+Math.imul(le,er)|0,F=F+Math.imul(le,zr)|0,F=F+Math.imul(ge,er)|0,L=L+Math.imul(ge,zr)|0;var fi=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(fi>>>26)|0,fi&=67108863,z=Math.imul(et,mt),F=Math.imul(et,Ut),F=F+Math.imul(ut,mt)|0,L=Math.imul(ut,Ut),z=z+Math.imul(We,Ct)|0,F=F+Math.imul(We,Nt)|0,F=F+Math.imul(Je,Ct)|0,L=L+Math.imul(Je,Nt)|0,z=z+Math.imul(ve,Mt)|0,F=F+Math.imul(ve,Dt)|0,F=F+Math.imul(Ae,Mt)|0,L=L+Math.imul(Ae,Dt)|0,z=z+Math.imul(ae,$t)|0,F=F+Math.imul(ae,Sr)|0,F=F+Math.imul(Pe,$t)|0,L=L+Math.imul(Pe,Sr)|0,z=z+Math.imul(ne,Xt)|0,F=F+Math.imul(ne,hr)|0,F=F+Math.imul(we,Xt)|0,L=L+Math.imul(we,hr)|0,z=z+Math.imul(de,rr)|0,F=F+Math.imul(de,Wr)|0,F=F+Math.imul(ce,rr)|0,L=L+Math.imul(ce,Wr)|0,z=z+Math.imul(Ee,qt)|0,F=F+Math.imul(Ee,Mr)|0,F=F+Math.imul(_e,qt)|0,L=L+Math.imul(_e,Mr)|0,z=z+Math.imul(Te,tr)|0,F=F+Math.imul(Te,xr)|0,F=F+Math.imul(Z,tr)|0,L=L+Math.imul(Z,xr)|0,z=z+Math.imul(Oe,er)|0,F=F+Math.imul(Oe,zr)|0,F=F+Math.imul(Ke,er)|0,L=L+Math.imul(Ke,zr)|0;var pi=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(pi>>>26)|0,pi&=67108863,z=Math.imul(et,Ct),F=Math.imul(et,Nt),F=F+Math.imul(ut,Ct)|0,L=Math.imul(ut,Nt),z=z+Math.imul(We,Mt)|0,F=F+Math.imul(We,Dt)|0,F=F+Math.imul(Je,Mt)|0,L=L+Math.imul(Je,Dt)|0,z=z+Math.imul(ve,$t)|0,F=F+Math.imul(ve,Sr)|0,F=F+Math.imul(Ae,$t)|0,L=L+Math.imul(Ae,Sr)|0,z=z+Math.imul(ae,Xt)|0,F=F+Math.imul(ae,hr)|0,F=F+Math.imul(Pe,Xt)|0,L=L+Math.imul(Pe,hr)|0,z=z+Math.imul(ne,rr)|0,F=F+Math.imul(ne,Wr)|0,F=F+Math.imul(we,rr)|0,L=L+Math.imul(we,Wr)|0,z=z+Math.imul(de,qt)|0,F=F+Math.imul(de,Mr)|0,F=F+Math.imul(ce,qt)|0,L=L+Math.imul(ce,Mr)|0,z=z+Math.imul(Ee,tr)|0,F=F+Math.imul(Ee,xr)|0,F=F+Math.imul(_e,tr)|0,L=L+Math.imul(_e,xr)|0,z=z+Math.imul(Te,er)|0,F=F+Math.imul(Te,zr)|0,F=F+Math.imul(Z,er)|0,L=L+Math.imul(Z,zr)|0;var oi=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(oi>>>26)|0,oi&=67108863,z=Math.imul(et,Mt),F=Math.imul(et,Dt),F=F+Math.imul(ut,Mt)|0,L=Math.imul(ut,Dt),z=z+Math.imul(We,$t)|0,F=F+Math.imul(We,Sr)|0,F=F+Math.imul(Je,$t)|0,L=L+Math.imul(Je,Sr)|0,z=z+Math.imul(ve,Xt)|0,F=F+Math.imul(ve,hr)|0,F=F+Math.imul(Ae,Xt)|0,L=L+Math.imul(Ae,hr)|0,z=z+Math.imul(ae,rr)|0,F=F+Math.imul(ae,Wr)|0,F=F+Math.imul(Pe,rr)|0,L=L+Math.imul(Pe,Wr)|0,z=z+Math.imul(ne,qt)|0,F=F+Math.imul(ne,Mr)|0,F=F+Math.imul(we,qt)|0,L=L+Math.imul(we,Mr)|0,z=z+Math.imul(de,tr)|0,F=F+Math.imul(de,xr)|0,F=F+Math.imul(ce,tr)|0,L=L+Math.imul(ce,xr)|0,z=z+Math.imul(Ee,er)|0,F=F+Math.imul(Ee,zr)|0,F=F+Math.imul(_e,er)|0,L=L+Math.imul(_e,zr)|0;var ei=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(ei>>>26)|0,ei&=67108863,z=Math.imul(et,$t),F=Math.imul(et,Sr),F=F+Math.imul(ut,$t)|0,L=Math.imul(ut,Sr),z=z+Math.imul(We,Xt)|0,F=F+Math.imul(We,hr)|0,F=F+Math.imul(Je,Xt)|0,L=L+Math.imul(Je,hr)|0,z=z+Math.imul(ve,rr)|0,F=F+Math.imul(ve,Wr)|0,F=F+Math.imul(Ae,rr)|0,L=L+Math.imul(Ae,Wr)|0,z=z+Math.imul(ae,qt)|0,F=F+Math.imul(ae,Mr)|0,F=F+Math.imul(Pe,qt)|0,L=L+Math.imul(Pe,Mr)|0,z=z+Math.imul(ne,tr)|0,F=F+Math.imul(ne,xr)|0,F=F+Math.imul(we,tr)|0,L=L+Math.imul(we,xr)|0,z=z+Math.imul(de,er)|0,F=F+Math.imul(de,zr)|0,F=F+Math.imul(ce,er)|0,L=L+Math.imul(ce,zr)|0;var hn=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(hn>>>26)|0,hn&=67108863,z=Math.imul(et,Xt),F=Math.imul(et,hr),F=F+Math.imul(ut,Xt)|0,L=Math.imul(ut,hr),z=z+Math.imul(We,rr)|0,F=F+Math.imul(We,Wr)|0,F=F+Math.imul(Je,rr)|0,L=L+Math.imul(Je,Wr)|0,z=z+Math.imul(ve,qt)|0,F=F+Math.imul(ve,Mr)|0,F=F+Math.imul(Ae,qt)|0,L=L+Math.imul(Ae,Mr)|0,z=z+Math.imul(ae,tr)|0,F=F+Math.imul(ae,xr)|0,F=F+Math.imul(Pe,tr)|0,L=L+Math.imul(Pe,xr)|0,z=z+Math.imul(ne,er)|0,F=F+Math.imul(ne,zr)|0,F=F+Math.imul(we,er)|0,L=L+Math.imul(we,zr)|0;var Ji=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,z=Math.imul(et,rr),F=Math.imul(et,Wr),F=F+Math.imul(ut,rr)|0,L=Math.imul(ut,Wr),z=z+Math.imul(We,qt)|0,F=F+Math.imul(We,Mr)|0,F=F+Math.imul(Je,qt)|0,L=L+Math.imul(Je,Mr)|0,z=z+Math.imul(ve,tr)|0,F=F+Math.imul(ve,xr)|0,F=F+Math.imul(Ae,tr)|0,L=L+Math.imul(Ae,xr)|0,z=z+Math.imul(ae,er)|0,F=F+Math.imul(ae,zr)|0,F=F+Math.imul(Pe,er)|0,L=L+Math.imul(Pe,zr)|0;var Kr=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,z=Math.imul(et,qt),F=Math.imul(et,Mr),F=F+Math.imul(ut,qt)|0,L=Math.imul(ut,Mr),z=z+Math.imul(We,tr)|0,F=F+Math.imul(We,xr)|0,F=F+Math.imul(Je,tr)|0,L=L+Math.imul(Je,xr)|0,z=z+Math.imul(ve,er)|0,F=F+Math.imul(ve,zr)|0,F=F+Math.imul(Ae,er)|0,L=L+Math.imul(Ae,zr)|0;var Xi=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,z=Math.imul(et,tr),F=Math.imul(et,xr),F=F+Math.imul(ut,tr)|0,L=Math.imul(ut,xr),z=z+Math.imul(We,er)|0,F=F+Math.imul(We,zr)|0,F=F+Math.imul(Je,er)|0,L=L+Math.imul(Je,zr)|0;var Gi=(K+z|0)+((F&8191)<<13)|0;K=(L+(F>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,z=Math.imul(et,er),F=Math.imul(et,zr),F=F+Math.imul(ut,er)|0,L=Math.imul(ut,zr);var yi=(K+z|0)+((F&8191)<<13)|0;return K=(L+(F>>>13)|0)+(yi>>>26)|0,yi&=67108863,$[0]=ar,$[1]=ir,$[2]=Ue,$[3]=it,$[4]=ot,$[5]=Rt,$[6]=zt,$[7]=mr,$[8]=Xr,$[9]=fi,$[10]=pi,$[11]=oi,$[12]=ei,$[13]=hn,$[14]=Ji,$[15]=Kr,$[16]=Xi,$[17]=Gi,$[18]=yi,K!==0&&($[19]=K,k.length++),k};Math.imul||(E=p);function T(W,j,O){O.negative=j.negative^W.negative,O.length=W.length+j.length;for(var k=0,B=0,H=0;H<O.length-1;H++){var $=B;B=0;for(var K=k&67108863,z=Math.min(H,j.length-1),F=Math.max(0,H-W.length+1);F<=z;F++){var L=H-F,G=W.words[L]|0,le=j.words[F]|0,ge=G*le,Ie=ge&67108863;$=$+(ge/67108864|0)|0,Ie=Ie+K|0,K=Ie&67108863,$=$+(Ie>>>26)|0,B+=$>>>26,$&=67108863}O.words[H]=K,k=$,$=B}return k!==0?O.words[H]=k:O.length--,O.strip()}function S(W,j,O){var k=new x;return k.mulp(W,j,O)}t.prototype.mulTo=function(j,O){var k,B=this.length+j.length;return this.length===10&&j.length===10?k=E(this,j,O):B<63?k=p(this,j,O):B<1024?k=T(this,j,O):k=S(this,j,O),k};function x(W,j){this.x=W,this.y=j}x.prototype.makeRBT=function(j){for(var O=new Array(j),k=t.prototype._countBits(j)-1,B=0;B<j;B++)O[B]=this.revBin(B,k,j);return O},x.prototype.revBin=function(j,O,k){if(j===0||j===k-1)return j;for(var B=0,H=0;H<O;H++)B|=(j&1)<<O-H-1,j>>=1;return B},x.prototype.permute=function(j,O,k,B,H,$){for(var K=0;K<$;K++)B[K]=O[j[K]],H[K]=k[j[K]]},x.prototype.transform=function(j,O,k,B,H,$){this.permute($,j,O,k,B,H);for(var K=1;K<H;K<<=1)for(var z=K<<1,F=Math.cos(2*Math.PI/z),L=Math.sin(2*Math.PI/z),G=0;G<H;G+=z)for(var le=F,ge=L,Ie=0;Ie<K;Ie++){var Oe=k[G+Ie],Ke=B[G+Ie],De=k[G+Ie+K],Te=B[G+Ie+K],Z=le*De-ge*Te;Te=le*Te+ge*De,De=Z,k[G+Ie]=Oe+De,B[G+Ie]=Ke+Te,k[G+Ie+K]=Oe-De,B[G+Ie+K]=Ke-Te,Ie!==z&&(Z=F*le-L*ge,ge=F*ge+L*le,le=Z)}},x.prototype.guessLen13b=function(j,O){var k=Math.max(O,j)|1,B=k&1,H=0;for(k=k/2|0;k;k=k>>>1)H++;return 1<<H+1+B},x.prototype.conjugate=function(j,O,k){if(!(k<=1))for(var B=0;B<k/2;B++){var H=j[B];j[B]=j[k-B-1],j[k-B-1]=H,H=O[B],O[B]=-O[k-B-1],O[k-B-1]=-H}},x.prototype.normalize13b=function(j,O){for(var k=0,B=0;B<O/2;B++){var H=Math.round(j[2*B+1]/O)*8192+Math.round(j[2*B]/O)+k;j[B]=H&67108863,H<67108864?k=0:k=H/67108864|0}return j},x.prototype.convert13b=function(j,O,k,B){for(var H=0,$=0;$<O;$++)H=H+(j[$]|0),k[2*$]=H&8191,H=H>>>13,k[2*$+1]=H&8191,H=H>>>13;for($=2*O;$<B;++$)k[$]=0;c(H===0),c((H&-8192)===0)},x.prototype.stub=function(j){for(var O=new Array(j),k=0;k<j;k++)O[k]=0;return O},x.prototype.mulp=function(j,O,k){var B=2*this.guessLen13b(j.length,O.length),H=this.makeRBT(B),$=this.stub(B),K=new Array(B),z=new Array(B),F=new Array(B),L=new Array(B),G=new Array(B),le=new Array(B),ge=k.words;ge.length=B,this.convert13b(j.words,j.length,K,B),this.convert13b(O.words,O.length,L,B),this.transform(K,$,z,F,B,H),this.transform(L,$,G,le,B,H);for(var Ie=0;Ie<B;Ie++){var Oe=z[Ie]*G[Ie]-F[Ie]*le[Ie];F[Ie]=z[Ie]*le[Ie]+F[Ie]*G[Ie],z[Ie]=Oe}return this.conjugate(z,F,B),this.transform(z,F,ge,$,B,H),this.conjugate(ge,$,B),this.normalize13b(ge,B),k.negative=j.negative^O.negative,k.length=j.length+O.length,k.strip()},t.prototype.mul=function(j){var O=new t(null);return O.words=new Array(this.length+j.length),this.mulTo(j,O)},t.prototype.mulf=function(j){var O=new t(null);return O.words=new Array(this.length+j.length),S(this,j,O)},t.prototype.imul=function(j){return this.clone().mulTo(j,this)},t.prototype.imuln=function(j){c(typeof j=="number"),c(j<67108864);for(var O=0,k=0;k<this.length;k++){var B=(this.words[k]|0)*j,H=(B&67108863)+(O&67108863);O>>=26,O+=B/67108864|0,O+=H>>>26,this.words[k]=H&67108863}return O!==0&&(this.words[k]=O,this.length++),this},t.prototype.muln=function(j){return this.clone().imuln(j)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(j){var O=y(j);if(O.length===0)return new t(1);for(var k=this,B=0;B<O.length&&O[B]===0;B++,k=k.sqr());if(++B<O.length)for(var H=k.sqr();B<O.length;B++,H=H.sqr())O[B]!==0&&(k=k.mul(H));return k},t.prototype.iushln=function(j){c(typeof j=="number"&&j>=0);var O=j%26,k=(j-O)/26,B=67108863>>>26-O<<26-O,H;if(O!==0){var $=0;for(H=0;H<this.length;H++){var K=this.words[H]&B,z=(this.words[H]|0)-K<<O;this.words[H]=z|$,$=K>>>26-O}$&&(this.words[H]=$,this.length++)}if(k!==0){for(H=this.length-1;H>=0;H--)this.words[H+k]=this.words[H];for(H=0;H<k;H++)this.words[H]=0;this.length+=k}return this.strip()},t.prototype.ishln=function(j){return c(this.negative===0),this.iushln(j)},t.prototype.iushrn=function(j,O,k){c(typeof j=="number"&&j>=0);var B;O?B=(O-O%26)/26:B=0;var H=j%26,$=Math.min((j-H)/26,this.length),K=67108863^67108863>>>H<<H,z=k;if(B-=$,B=Math.max(0,B),z){for(var F=0;F<$;F++)z.words[F]=this.words[F];z.length=$}if($!==0)if(this.length>$)for(this.length-=$,F=0;F<this.length;F++)this.words[F]=this.words[F+$];else this.words[0]=0,this.length=1;var L=0;for(F=this.length-1;F>=0&&(L!==0||F>=B);F--){var G=this.words[F]|0;this.words[F]=L<<26-H|G>>>H,L=G&K}return z&&L!==0&&(z.words[z.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(j,O,k){return c(this.negative===0),this.iushrn(j,O,k)},t.prototype.shln=function(j){return this.clone().ishln(j)},t.prototype.ushln=function(j){return this.clone().iushln(j)},t.prototype.shrn=function(j){return this.clone().ishrn(j)},t.prototype.ushrn=function(j){return this.clone().iushrn(j)},t.prototype.testn=function(j){c(typeof j=="number"&&j>=0);var O=j%26,k=(j-O)/26,B=1<<O;if(this.length<=k)return!1;var H=this.words[k];return!!(H&B)},t.prototype.imaskn=function(j){c(typeof j=="number"&&j>=0);var O=j%26,k=(j-O)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(O!==0&&k++,this.length=Math.min(k,this.length),O!==0){var B=67108863^67108863>>>O<<O;this.words[this.length-1]&=B}return this.strip()},t.prototype.maskn=function(j){return this.clone().imaskn(j)},t.prototype.iaddn=function(j){return c(typeof j=="number"),c(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(this.words[0]|0)<j?(this.words[0]=j-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},t.prototype._iaddn=function(j){this.words[0]+=j;for(var O=0;O<this.length&&this.words[O]>=67108864;O++)this.words[O]-=67108864,O===this.length-1?this.words[O+1]=1:this.words[O+1]++;return this.length=Math.max(this.length,O+1),this},t.prototype.isubn=function(j){if(c(typeof j=="number"),c(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var O=0;O<this.length&&this.words[O]<0;O++)this.words[O]+=67108864,this.words[O+1]-=1;return this.strip()},t.prototype.addn=function(j){return this.clone().iaddn(j)},t.prototype.subn=function(j){return this.clone().isubn(j)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(j,O,k){var B=j.length+k,H;this._expand(B);var $,K=0;for(H=0;H<j.length;H++){$=(this.words[H+k]|0)+K;var z=(j.words[H]|0)*O;$-=z&67108863,K=($>>26)-(z/67108864|0),this.words[H+k]=$&67108863}for(;H<this.length-k;H++)$=(this.words[H+k]|0)+K,K=$>>26,this.words[H+k]=$&67108863;if(K===0)return this.strip();for(c(K===-1),K=0,H=0;H<this.length;H++)$=-(this.words[H]|0)+K,K=$>>26,this.words[H]=$&67108863;return this.negative=1,this.strip()},t.prototype._wordDiv=function(j,O){var k=this.length-j.length,B=this.clone(),H=j,$=H.words[H.length-1]|0,K=this._countBits($);k=26-K,k!==0&&(H=H.ushln(k),B.iushln(k),$=H.words[H.length-1]|0);var z=B.length-H.length,F;if(O!=="mod"){F=new t(null),F.length=z+1,F.words=new Array(F.length);for(var L=0;L<F.length;L++)F.words[L]=0}var G=B.clone()._ishlnsubmul(H,1,z);G.negative===0&&(B=G,F&&(F.words[z]=1));for(var le=z-1;le>=0;le--){var ge=(B.words[H.length+le]|0)*67108864+(B.words[H.length+le-1]|0);for(ge=Math.min(ge/$|0,67108863),B._ishlnsubmul(H,ge,le);B.negative!==0;)ge--,B.negative=0,B._ishlnsubmul(H,1,le),B.isZero()||(B.negative^=1);F&&(F.words[le]=ge)}return F&&F.strip(),B.strip(),O!=="div"&&k!==0&&B.iushrn(k),{div:F||null,mod:B}},t.prototype.divmod=function(j,O,k){if(c(!j.isZero()),this.isZero())return{div:new t(0),mod:new t(0)};var B,H,$;return this.negative!==0&&j.negative===0?($=this.neg().divmod(j,O),O!=="mod"&&(B=$.div.neg()),O!=="div"&&(H=$.mod.neg(),k&&H.negative!==0&&H.iadd(j)),{div:B,mod:H}):this.negative===0&&j.negative!==0?($=this.divmod(j.neg(),O),O!=="mod"&&(B=$.div.neg()),{div:B,mod:$.mod}):this.negative&j.negative?($=this.neg().divmod(j.neg(),O),O!=="div"&&(H=$.mod.neg(),k&&H.negative!==0&&H.isub(j)),{div:$.div,mod:H}):j.length>this.length||this.cmp(j)<0?{div:new t(0),mod:this}:j.length===1?O==="div"?{div:this.divn(j.words[0]),mod:null}:O==="mod"?{div:null,mod:new t(this.modn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new t(this.modn(j.words[0]))}:this._wordDiv(j,O)},t.prototype.div=function(j){return this.divmod(j,"div",!1).div},t.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},t.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},t.prototype.divRound=function(j){var O=this.divmod(j);if(O.mod.isZero())return O.div;var k=O.div.negative!==0?O.mod.isub(j):O.mod,B=j.ushrn(1),H=j.andln(1),$=k.cmp(B);return $<0||H===1&&$===0?O.div:O.div.negative!==0?O.div.isubn(1):O.div.iaddn(1)},t.prototype.modn=function(j){c(j<=67108863);for(var O=(1<<26)%j,k=0,B=this.length-1;B>=0;B--)k=(O*k+(this.words[B]|0))%j;return k},t.prototype.idivn=function(j){c(j<=67108863);for(var O=0,k=this.length-1;k>=0;k--){var B=(this.words[k]|0)+O*67108864;this.words[k]=B/j|0,O=B%j}return this.strip()},t.prototype.divn=function(j){return this.clone().idivn(j)},t.prototype.egcd=function(j){c(j.negative===0),c(!j.isZero());var O=this,k=j.clone();O.negative!==0?O=O.umod(j):O=O.clone();for(var B=new t(1),H=new t(0),$=new t(0),K=new t(1),z=0;O.isEven()&&k.isEven();)O.iushrn(1),k.iushrn(1),++z;for(var F=k.clone(),L=O.clone();!O.isZero();){for(var G=0,le=1;!(O.words[0]&le)&&G<26;++G,le<<=1);if(G>0)for(O.iushrn(G);G-- >0;)(B.isOdd()||H.isOdd())&&(B.iadd(F),H.isub(L)),B.iushrn(1),H.iushrn(1);for(var ge=0,Ie=1;!(k.words[0]&Ie)&&ge<26;++ge,Ie<<=1);if(ge>0)for(k.iushrn(ge);ge-- >0;)($.isOdd()||K.isOdd())&&($.iadd(F),K.isub(L)),$.iushrn(1),K.iushrn(1);O.cmp(k)>=0?(O.isub(k),B.isub($),H.isub(K)):(k.isub(O),$.isub(B),K.isub(H))}return{a:$,b:K,gcd:k.iushln(z)}},t.prototype._invmp=function(j){c(j.negative===0),c(!j.isZero());var O=this,k=j.clone();O.negative!==0?O=O.umod(j):O=O.clone();for(var B=new t(1),H=new t(0),$=k.clone();O.cmpn(1)>0&&k.cmpn(1)>0;){for(var K=0,z=1;!(O.words[0]&z)&&K<26;++K,z<<=1);if(K>0)for(O.iushrn(K);K-- >0;)B.isOdd()&&B.iadd($),B.iushrn(1);for(var F=0,L=1;!(k.words[0]&L)&&F<26;++F,L<<=1);if(F>0)for(k.iushrn(F);F-- >0;)H.isOdd()&&H.iadd($),H.iushrn(1);O.cmp(k)>=0?(O.isub(k),B.isub(H)):(k.isub(O),H.isub(B))}var G;return O.cmpn(1)===0?G=B:G=H,G.cmpn(0)<0&&G.iadd(j),G},t.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var O=this.clone(),k=j.clone();O.negative=0,k.negative=0;for(var B=0;O.isEven()&&k.isEven();B++)O.iushrn(1),k.iushrn(1);do{for(;O.isEven();)O.iushrn(1);for(;k.isEven();)k.iushrn(1);var H=O.cmp(k);if(H<0){var $=O;O=k,k=$}else if(H===0||k.cmpn(1)===0)break;O.isub(k)}while(!0);return k.iushln(B)},t.prototype.invm=function(j){return this.egcd(j).a.umod(j)},t.prototype.isEven=function(){return(this.words[0]&1)===0},t.prototype.isOdd=function(){return(this.words[0]&1)===1},t.prototype.andln=function(j){return this.words[0]&j},t.prototype.bincn=function(j){c(typeof j=="number");var O=j%26,k=(j-O)/26,B=1<<O;if(this.length<=k)return this._expand(k+1),this.words[k]|=B,this;for(var H=B,$=k;H!==0&&$<this.length;$++){var K=this.words[$]|0;K+=H,H=K>>>26,K&=67108863,this.words[$]=K}return H!==0&&(this.words[$]=H,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(j){var O=j<0;if(this.negative!==0&&!O)return-1;if(this.negative===0&&O)return 1;this.strip();var k;if(this.length>1)k=1;else{O&&(j=-j),c(j<=67108863,"Number is too big");var B=this.words[0]|0;k=B===j?0:B<j?-1:1}return this.negative!==0?-k|0:k},t.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var O=this.ucmp(j);return this.negative!==0?-O|0:O},t.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var O=0,k=this.length-1;k>=0;k--){var B=this.words[k]|0,H=j.words[k]|0;if(B!==H){B<H?O=-1:B>H&&(O=1);break}}return O},t.prototype.gtn=function(j){return this.cmpn(j)===1},t.prototype.gt=function(j){return this.cmp(j)===1},t.prototype.gten=function(j){return this.cmpn(j)>=0},t.prototype.gte=function(j){return this.cmp(j)>=0},t.prototype.ltn=function(j){return this.cmpn(j)===-1},t.prototype.lt=function(j){return this.cmp(j)===-1},t.prototype.lten=function(j){return this.cmpn(j)<=0},t.prototype.lte=function(j){return this.cmp(j)<=0},t.prototype.eqn=function(j){return this.cmpn(j)===0},t.prototype.eq=function(j){return this.cmp(j)===0},t.red=function(j){return new te(j)},t.prototype.toRed=function(j){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},t.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(j){return this.red=j,this},t.prototype.forceRed=function(j){return c(!this.red,"Already a number in reduction context"),this._forceRed(j)},t.prototype.redAdd=function(j){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},t.prototype.redIAdd=function(j){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},t.prototype.redSub=function(j){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},t.prototype.redISub=function(j){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},t.prototype.redShl=function(j){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},t.prototype.redMul=function(j){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},t.prototype.redIMul=function(j){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},t.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(j){return c(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var w={k256:null,p224:null,p192:null,p25519:null};function I(W,j){this.name=W,this.p=new t(j,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var j=new t(null);return j.words=new Array(Math.ceil(this.n/13)),j},I.prototype.ireduce=function(j){var O=j,k;do this.split(O,this.tmp),O=this.imulK(O),O=O.iadd(this.tmp),k=O.bitLength();while(k>this.n);var B=k<this.n?-1:O.ucmp(this.p);return B===0?(O.words[0]=0,O.length=1):B>0?O.isub(this.p):O.strip!==void 0?O.strip():O._strip(),O},I.prototype.split=function(j,O){j.iushrn(this.n,0,O)},I.prototype.imulK=function(j){return j.imul(this.k)};function D(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,I),D.prototype.split=function(j,O){for(var k=4194303,B=Math.min(j.length,9),H=0;H<B;H++)O.words[H]=j.words[H];if(O.length=B,j.length<=9){j.words[0]=0,j.length=1;return}var $=j.words[9];for(O.words[O.length++]=$&k,H=10;H<j.length;H++){var K=j.words[H]|0;j.words[H-10]=(K&k)<<4|$>>>22,$=K}$>>>=22,j.words[H-10]=$,$===0&&j.length>10?j.length-=10:j.length-=9},D.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var O=0,k=0;k<j.length;k++){var B=j.words[k]|0;O+=B*977,j.words[k]=O&67108863,O=B*64+(O/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j};function V(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(V,I);function ie(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(ie,I);function ee(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(ee,I),ee.prototype.imulK=function(j){for(var O=0,k=0;k<j.length;k++){var B=(j.words[k]|0)*19+O,H=B&67108863;B>>>=26,j.words[k]=H,O=B}return O!==0&&(j.words[j.length++]=O),j},t._prime=function(j){if(w[j])return w[j];var O;if(j==="k256")O=new D;else if(j==="p224")O=new V;else if(j==="p192")O=new ie;else if(j==="p25519")O=new ee;else throw new Error("Unknown prime "+j);return w[j]=O,O};function te(W){if(typeof W=="string"){var j=t._prime(W);this.m=j.p,this.prime=j}else c(W.gtn(1),"modulus must be greater than 1"),this.m=W,this.prime=null}te.prototype._verify1=function(j){c(j.negative===0,"red works only with positives"),c(j.red,"red works only with red numbers")},te.prototype._verify2=function(j,O){c((j.negative|O.negative)===0,"red works only with positives"),c(j.red&&j.red===O.red,"red works only with red numbers")},te.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):j.umod(this.m)._forceRed(this)},te.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},te.prototype.add=function(j,O){this._verify2(j,O);var k=j.add(O);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},te.prototype.iadd=function(j,O){this._verify2(j,O);var k=j.iadd(O);return k.cmp(this.m)>=0&&k.isub(this.m),k},te.prototype.sub=function(j,O){this._verify2(j,O);var k=j.sub(O);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},te.prototype.isub=function(j,O){this._verify2(j,O);var k=j.isub(O);return k.cmpn(0)<0&&k.iadd(this.m),k},te.prototype.shl=function(j,O){return this._verify1(j),this.imod(j.ushln(O))},te.prototype.imul=function(j,O){return this._verify2(j,O),this.imod(j.imul(O))},te.prototype.mul=function(j,O){return this._verify2(j,O),this.imod(j.mul(O))},te.prototype.isqr=function(j){return this.imul(j,j.clone())},te.prototype.sqr=function(j){return this.mul(j,j)},te.prototype.sqrt=function(j){if(j.isZero())return j.clone();var O=this.m.andln(3);if(c(O%2===1),O===3){var k=this.m.add(new t(1)).iushrn(2);return this.pow(j,k)}for(var B=this.m.subn(1),H=0;!B.isZero()&&B.andln(1)===0;)H++,B.iushrn(1);c(!B.isZero());var $=new t(1).toRed(this),K=$.redNeg(),z=this.m.subn(1).iushrn(1),F=this.m.bitLength();for(F=new t(2*F*F).toRed(this);this.pow(F,z).cmp(K)!==0;)F.redIAdd(K);for(var L=this.pow(F,B),G=this.pow(j,B.addn(1).iushrn(1)),le=this.pow(j,B),ge=H;le.cmp($)!==0;){for(var Ie=le,Oe=0;Ie.cmp($)!==0;Oe++)Ie=Ie.redSqr();c(Oe<ge);var Ke=this.pow(L,new t(1).iushln(ge-Oe-1));G=G.redMul(Ke),L=Ke.redSqr(),le=le.redMul(L),ge=Oe}return G},te.prototype.invm=function(j){var O=j._invmp(this.m);return O.negative!==0?(O.negative=0,this.imod(O).redNeg()):this.imod(O)},te.prototype.pow=function(j,O){if(O.isZero())return new t(1).toRed(this);if(O.cmpn(1)===0)return j.clone();var k=4,B=new Array(1<<k);B[0]=new t(1).toRed(this),B[1]=j;for(var H=2;H<B.length;H++)B[H]=this.mul(B[H-1],j);var $=B[0],K=0,z=0,F=O.bitLength()%26;for(F===0&&(F=26),H=O.length-1;H>=0;H--){for(var L=O.words[H],G=F-1;G>=0;G--){var le=L>>G&1;if($!==B[0]&&($=this.sqr($)),le===0&&K===0){z=0;continue}K<<=1,K|=le,z++,!(z!==k&&(H!==0||G!==0))&&($=this.mul($,B[K]),z=0,K=0)}F=26}return $},te.prototype.convertTo=function(j){var O=j.umod(this.m);return O===j?O.clone():O},te.prototype.convertFrom=function(j){var O=j.clone();return O.red=null,O},t.mont=function(j){return new Y(j)};function Y(W){te.call(this,W),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Y,te),Y.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},Y.prototype.convertFrom=function(j){var O=this.imod(j.mul(this.rinv));return O.red=null,O},Y.prototype.imul=function(j,O){if(j.isZero()||O.isZero())return j.words[0]=0,j.length=1,j;var k=j.imul(O),B=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=k.isub(B).iushrn(this.shift),$=H;return H.cmp(this.m)>=0?$=H.isub(this.m):H.cmpn(0)<0&&($=H.iadd(this.m)),$._forceRed(this)},Y.prototype.mul=function(j,O){if(j.isZero()||O.isZero())return new t(0)._forceRed(this);var k=j.mul(O),B=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=k.isub(B).iushrn(this.shift),$=H;return H.cmp(this.m)>=0?$=H.isub(this.m):H.cmpn(0)<0&&($=H.iadd(this.m)),$._forceRed(this)},Y.prototype.invm=function(j){var O=this.imod(j._invmp(this.m).mul(this.r2));return O._forceRed(this)}})(typeof m>"u"||m,void 0)},{buffer:188}],185:[function(e,m,v){v.byteLength=n,v.toByteArray=d,v.fromByteArray=y;for(var f=[],u=[],c=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,i=s.length;t<i;++t)f[t]=s[t],u[s.charCodeAt(t)]=t;u[45]=62,u[95]=63;function r(p){var E=p.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=p.indexOf("=");T===-1&&(T=E);var S=T===E?0:4-T%4;return[T,S]}function n(p){var E=r(p),T=E[0],S=E[1];return(T+S)*3/4-S}function l(p,E,T){return(E+T)*3/4-T}function d(p){var E,T=r(p),S=T[0],x=T[1],w=new c(l(p,S,x)),I=0,D=x>0?S-4:S,V;for(V=0;V<D;V+=4)E=u[p.charCodeAt(V)]<<18|u[p.charCodeAt(V+1)]<<12|u[p.charCodeAt(V+2)]<<6|u[p.charCodeAt(V+3)],w[I++]=E>>16&255,w[I++]=E>>8&255,w[I++]=E&255;return x===2&&(E=u[p.charCodeAt(V)]<<2|u[p.charCodeAt(V+1)]>>4,w[I++]=E&255),x===1&&(E=u[p.charCodeAt(V)]<<10|u[p.charCodeAt(V+1)]<<4|u[p.charCodeAt(V+2)]>>2,w[I++]=E>>8&255,w[I++]=E&255),w}function o(p){return f[p>>18&63]+f[p>>12&63]+f[p>>6&63]+f[p&63]}function g(p,E,T){for(var S,x=[],w=E;w<T;w+=3)S=(p[w]<<16&16711680)+(p[w+1]<<8&65280)+(p[w+2]&255),x.push(o(S));return x.join("")}function y(p){for(var E,T=p.length,S=T%3,x=[],w=16383,I=0,D=T-S;I<D;I+=w)x.push(g(p,I,I+w>D?D:I+w));return S===1?(E=p[T-1],x.push(f[E>>2]+f[E<<4&63]+"==")):S===2&&(E=(p[T-2]<<8)+p[T-1],x.push(f[E>>10]+f[E>>4&63]+f[E<<2&63]+"=")),x.join("")}},{}],186:[function(e,m,v){(function(f,u){function c(O,k){if(!O)throw new Error(k||"Assertion failed")}function s(O,k){O.super_=k;var B=function(){};B.prototype=k.prototype,O.prototype=new B,O.prototype.constructor=O}function t(O,k,B){if(t.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((k==="le"||k==="be")&&(B=k,k=10),this._init(O||0,k||10,B||"be"))}typeof f=="object"?f.exports=t:u.BN=t,t.BN=t,t.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=e("buffer").Buffer}catch{}t.isBN=function(k){return k instanceof t?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===t.wordSize&&Array.isArray(k.words)},t.max=function(k,B){return k.cmp(B)>0?k:B},t.min=function(k,B){return k.cmp(B)<0?k:B},t.prototype._init=function(k,B,H){if(typeof k=="number")return this._initNumber(k,B,H);if(typeof k=="object")return this._initArray(k,B,H);B==="hex"&&(B=16),c(B===(B|0)&&B>=2&&B<=36),k=k.toString().replace(/\s+/g,"");var $=0;k[0]==="-"&&($++,this.negative=1),$<k.length&&(B===16?this._parseHex(k,$,H):(this._parseBase(k,B,$),H==="le"&&this._initArray(this.toArray(),B,H)))},t.prototype._initNumber=function(k,B,H){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(c(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),B,H)},t.prototype._initArray=function(k,B,H){if(c(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var K,z,F=0;if(H==="be")for($=k.length-1,K=0;$>=0;$-=3)z=k[$]|k[$-1]<<8|k[$-2]<<16,this.words[K]|=z<<F&67108863,this.words[K+1]=z>>>26-F&67108863,F+=24,F>=26&&(F-=26,K++);else if(H==="le")for($=0,K=0;$<k.length;$+=3)z=k[$]|k[$+1]<<8|k[$+2]<<16,this.words[K]|=z<<F&67108863,this.words[K+1]=z>>>26-F&67108863,F+=24,F>=26&&(F-=26,K++);return this._strip()};function r(O,k){var B=O.charCodeAt(k);if(B>=48&&B<=57)return B-48;if(B>=65&&B<=70)return B-55;if(B>=97&&B<=102)return B-87;c(!1,"Invalid character in "+O)}function n(O,k,B){var H=r(O,B);return B-1>=k&&(H|=r(O,B-1)<<4),H}t.prototype._parseHex=function(k,B,H){this.length=Math.ceil((k.length-B)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var K=0,z=0,F;if(H==="be")for($=k.length-1;$>=B;$-=2)F=n(k,B,$)<<K,this.words[z]|=F&67108863,K>=18?(K-=18,z+=1,this.words[z]|=F>>>26):K+=8;else{var L=k.length-B;for($=L%2===0?B+1:B;$<k.length;$+=2)F=n(k,B,$)<<K,this.words[z]|=F&67108863,K>=18?(K-=18,z+=1,this.words[z]|=F>>>26):K+=8}this._strip()};function l(O,k,B,H){for(var $=0,K=0,z=Math.min(O.length,B),F=k;F<z;F++){var L=O.charCodeAt(F)-48;$*=H,L>=49?K=L-49+10:L>=17?K=L-17+10:K=L,c(L>=0&&K<H,"Invalid character"),$+=K}return $}t.prototype._parseBase=function(k,B,H){this.words=[0],this.length=1;for(var $=0,K=1;K<=67108863;K*=B)$++;$--,K=K/B|0;for(var z=k.length-H,F=z%$,L=Math.min(z,z-F)+H,G=0,le=H;le<L;le+=$)G=l(k,le,le+$,B),this.imuln(K),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(F!==0){var ge=1;for(G=l(k,le,k.length,B),le=0;le<F;le++)ge*=B;this.imuln(ge),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},t.prototype.copy=function(k){k.words=new Array(this.length);for(var B=0;B<this.length;B++)k.words[B]=this.words[B];k.length=this.length,k.negative=this.negative,k.red=this.red};function d(O,k){O.words=k.words,O.length=k.length,O.negative=k.negative,O.red=k.red}if(t.prototype._move=function(k){d(k,this)},t.prototype.clone=function(){var k=new t(null);return this.copy(k),k},t.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},t.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{t.prototype[Symbol.for("nodejs.util.inspect.custom")]=o}catch{t.prototype.inspect=o}else t.prototype.inspect=o;function o(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];t.prototype.toString=function(k,B){k=k||10,B=B|0||1;var H;if(k===16||k==="hex"){H="";for(var $=0,K=0,z=0;z<this.length;z++){var F=this.words[z],L=((F<<$|K)&16777215).toString(16);K=F>>>24-$&16777215,$+=2,$>=26&&($-=26,z--),K!==0||z!==this.length-1?H=g[6-L.length]+L+H:H=L+H}for(K!==0&&(H=K.toString(16)+H);H.length%B!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(k===(k|0)&&k>=2&&k<=36){var G=y[k],le=p[k];H="";var ge=this.clone();for(ge.negative=0;!ge.isZero();){var Ie=ge.modrn(le).toString(k);ge=ge.idivn(le),ge.isZero()?H=Ie+H:H=g[G-Ie.length]+Ie+H}for(this.isZero()&&(H="0"+H);H.length%B!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}c(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},t.prototype.toJSON=function(){return this.toString(16,2)},i&&(t.prototype.toBuffer=function(k,B){return this.toArrayLike(i,k,B)}),t.prototype.toArray=function(k,B){return this.toArrayLike(Array,k,B)};var E=function(k,B){return k.allocUnsafe?k.allocUnsafe(B):new k(B)};t.prototype.toArrayLike=function(k,B,H){this._strip();var $=this.byteLength(),K=H||Math.max(1,$);c($<=K,"byte array longer than desired length"),c(K>0,"Requested array length <= 0");var z=E(k,K),F=B==="le"?"LE":"BE";return this["_toArrayLike"+F](z,$),z},t.prototype._toArrayLikeLE=function(k,B){for(var H=0,$=0,K=0,z=0;K<this.length;K++){var F=this.words[K]<<z|$;k[H++]=F&255,H<k.length&&(k[H++]=F>>8&255),H<k.length&&(k[H++]=F>>16&255),z===6?(H<k.length&&(k[H++]=F>>24&255),$=0,z=0):($=F>>>24,z+=2)}if(H<k.length)for(k[H++]=$;H<k.length;)k[H++]=0},t.prototype._toArrayLikeBE=function(k,B){for(var H=k.length-1,$=0,K=0,z=0;K<this.length;K++){var F=this.words[K]<<z|$;k[H--]=F&255,H>=0&&(k[H--]=F>>8&255),H>=0&&(k[H--]=F>>16&255),z===6?(H>=0&&(k[H--]=F>>24&255),$=0,z=0):($=F>>>24,z+=2)}if(H>=0)for(k[H--]=$;H>=0;)k[H--]=0},Math.clz32?t.prototype._countBits=function(k){return 32-Math.clz32(k)}:t.prototype._countBits=function(k){var B=k,H=0;return B>=4096&&(H+=13,B>>>=13),B>=64&&(H+=7,B>>>=7),B>=8&&(H+=4,B>>>=4),B>=2&&(H+=2,B>>>=2),H+B},t.prototype._zeroBits=function(k){if(k===0)return 26;var B=k,H=0;return B&8191||(H+=13,B>>>=13),B&127||(H+=7,B>>>=7),B&15||(H+=4,B>>>=4),B&3||(H+=2,B>>>=2),B&1||H++,H},t.prototype.bitLength=function(){var k=this.words[this.length-1],B=this._countBits(k);return(this.length-1)*26+B};function T(O){for(var k=new Array(O.bitLength()),B=0;B<k.length;B++){var H=B/26|0,$=B%26;k[B]=O.words[H]>>>$&1}return k}t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,B=0;B<this.length;B++){var H=this._zeroBits(this.words[B]);if(k+=H,H!==26)break}return k},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},t.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var B=0;B<k.length;B++)this.words[B]=this.words[B]|k.words[B];return this._strip()},t.prototype.ior=function(k){return c((this.negative|k.negative)===0),this.iuor(k)},t.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},t.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},t.prototype.iuand=function(k){var B;this.length>k.length?B=k:B=this;for(var H=0;H<B.length;H++)this.words[H]=this.words[H]&k.words[H];return this.length=B.length,this._strip()},t.prototype.iand=function(k){return c((this.negative|k.negative)===0),this.iuand(k)},t.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},t.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},t.prototype.iuxor=function(k){var B,H;this.length>k.length?(B=this,H=k):(B=k,H=this);for(var $=0;$<H.length;$++)this.words[$]=B.words[$]^H.words[$];if(this!==B)for(;$<B.length;$++)this.words[$]=B.words[$];return this.length=B.length,this._strip()},t.prototype.ixor=function(k){return c((this.negative|k.negative)===0),this.iuxor(k)},t.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},t.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},t.prototype.inotn=function(k){c(typeof k=="number"&&k>=0);var B=Math.ceil(k/26)|0,H=k%26;this._expand(B),H>0&&B--;for(var $=0;$<B;$++)this.words[$]=~this.words[$]&67108863;return H>0&&(this.words[$]=~this.words[$]&67108863>>26-H),this._strip()},t.prototype.notn=function(k){return this.clone().inotn(k)},t.prototype.setn=function(k,B){c(typeof k=="number"&&k>=0);var H=k/26|0,$=k%26;return this._expand(H+1),B?this.words[H]=this.words[H]|1<<$:this.words[H]=this.words[H]&~(1<<$),this._strip()},t.prototype.iadd=function(k){var B;if(this.negative!==0&&k.negative===0)return this.negative=0,B=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,B=this.isub(k),k.negative=1,B._normSign();var H,$;this.length>k.length?(H=this,$=k):(H=k,$=this);for(var K=0,z=0;z<$.length;z++)B=(H.words[z]|0)+($.words[z]|0)+K,this.words[z]=B&67108863,K=B>>>26;for(;K!==0&&z<H.length;z++)B=(H.words[z]|0)+K,this.words[z]=B&67108863,K=B>>>26;if(this.length=H.length,K!==0)this.words[this.length]=K,this.length++;else if(H!==this)for(;z<H.length;z++)this.words[z]=H.words[z];return this},t.prototype.add=function(k){var B;return k.negative!==0&&this.negative===0?(k.negative=0,B=this.sub(k),k.negative^=1,B):k.negative===0&&this.negative!==0?(this.negative=0,B=k.sub(this),this.negative=1,B):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},t.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var B=this.iadd(k);return k.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var H=this.cmp(k);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,K;H>0?($=this,K=k):($=k,K=this);for(var z=0,F=0;F<K.length;F++)B=($.words[F]|0)-(K.words[F]|0)+z,z=B>>26,this.words[F]=B&67108863;for(;z!==0&&F<$.length;F++)B=($.words[F]|0)+z,z=B>>26,this.words[F]=B&67108863;if(z===0&&F<$.length&&$!==this)for(;F<$.length;F++)this.words[F]=$.words[F];return this.length=Math.max(this.length,F),$!==this&&(this.negative=1),this._strip()},t.prototype.sub=function(k){return this.clone().isub(k)};function S(O,k,B){B.negative=k.negative^O.negative;var H=O.length+k.length|0;B.length=H,H=H-1|0;var $=O.words[0]|0,K=k.words[0]|0,z=$*K,F=z&67108863,L=z/67108864|0;B.words[0]=F;for(var G=1;G<H;G++){for(var le=L>>>26,ge=L&67108863,Ie=Math.min(G,k.length-1),Oe=Math.max(0,G-O.length+1);Oe<=Ie;Oe++){var Ke=G-Oe|0;$=O.words[Ke]|0,K=k.words[Oe]|0,z=$*K+ge,le+=z/67108864|0,ge=z&67108863}B.words[G]=ge|0,L=le|0}return L!==0?B.words[G]=L|0:B.length--,B._strip()}var x=function(k,B,H){var $=k.words,K=B.words,z=H.words,F=0,L,G,le,ge=$[0]|0,Ie=ge&8191,Oe=ge>>>13,Ke=$[1]|0,De=Ke&8191,Te=Ke>>>13,Z=$[2]|0,ue=Z&8191,Ee=Z>>>13,_e=$[3]|0,he=_e&8191,de=_e>>>13,ce=$[4]|0,se=ce&8191,ne=ce>>>13,we=$[5]|0,Ne=we&8191,ae=we>>>13,Pe=$[6]|0,ze=Pe&8191,ve=Pe>>>13,Ae=$[7]|0,Fe=Ae&8191,We=Ae>>>13,Je=$[8]|0,Ge=Je&8191,et=Je>>>13,ut=$[9]|0,at=ut&8191,Be=ut>>>13,Qe=K[0]|0,rt=Qe&8191,mt=Qe>>>13,Ut=K[1]|0,jt=Ut&8191,Ct=Ut>>>13,Nt=K[2]|0,St=Nt&8191,Mt=Nt>>>13,Dt=K[3]|0,It=Dt&8191,$t=Dt>>>13,Sr=K[4]|0,pr=Sr&8191,Xt=Sr>>>13,hr=K[5]|0,Ir=hr&8191,rr=hr>>>13,Wr=K[6]|0,Or=Wr&8191,qt=Wr>>>13,Mr=K[7]|0,fr=Mr&8191,tr=Mr>>>13,xr=K[8]|0,ur=xr&8191,er=xr>>>13,zr=K[9]|0,ar=zr&8191,ir=zr>>>13;H.negative=k.negative^B.negative,H.length=19,L=Math.imul(Ie,rt),G=Math.imul(Ie,mt),G=G+Math.imul(Oe,rt)|0,le=Math.imul(Oe,mt);var Ue=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,L=Math.imul(De,rt),G=Math.imul(De,mt),G=G+Math.imul(Te,rt)|0,le=Math.imul(Te,mt),L=L+Math.imul(Ie,jt)|0,G=G+Math.imul(Ie,Ct)|0,G=G+Math.imul(Oe,jt)|0,le=le+Math.imul(Oe,Ct)|0;var it=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(it>>>26)|0,it&=67108863,L=Math.imul(ue,rt),G=Math.imul(ue,mt),G=G+Math.imul(Ee,rt)|0,le=Math.imul(Ee,mt),L=L+Math.imul(De,jt)|0,G=G+Math.imul(De,Ct)|0,G=G+Math.imul(Te,jt)|0,le=le+Math.imul(Te,Ct)|0,L=L+Math.imul(Ie,St)|0,G=G+Math.imul(Ie,Mt)|0,G=G+Math.imul(Oe,St)|0,le=le+Math.imul(Oe,Mt)|0;var ot=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(ot>>>26)|0,ot&=67108863,L=Math.imul(he,rt),G=Math.imul(he,mt),G=G+Math.imul(de,rt)|0,le=Math.imul(de,mt),L=L+Math.imul(ue,jt)|0,G=G+Math.imul(ue,Ct)|0,G=G+Math.imul(Ee,jt)|0,le=le+Math.imul(Ee,Ct)|0,L=L+Math.imul(De,St)|0,G=G+Math.imul(De,Mt)|0,G=G+Math.imul(Te,St)|0,le=le+Math.imul(Te,Mt)|0,L=L+Math.imul(Ie,It)|0,G=G+Math.imul(Ie,$t)|0,G=G+Math.imul(Oe,It)|0,le=le+Math.imul(Oe,$t)|0;var Rt=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,L=Math.imul(se,rt),G=Math.imul(se,mt),G=G+Math.imul(ne,rt)|0,le=Math.imul(ne,mt),L=L+Math.imul(he,jt)|0,G=G+Math.imul(he,Ct)|0,G=G+Math.imul(de,jt)|0,le=le+Math.imul(de,Ct)|0,L=L+Math.imul(ue,St)|0,G=G+Math.imul(ue,Mt)|0,G=G+Math.imul(Ee,St)|0,le=le+Math.imul(Ee,Mt)|0,L=L+Math.imul(De,It)|0,G=G+Math.imul(De,$t)|0,G=G+Math.imul(Te,It)|0,le=le+Math.imul(Te,$t)|0,L=L+Math.imul(Ie,pr)|0,G=G+Math.imul(Ie,Xt)|0,G=G+Math.imul(Oe,pr)|0,le=le+Math.imul(Oe,Xt)|0;var zt=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(zt>>>26)|0,zt&=67108863,L=Math.imul(Ne,rt),G=Math.imul(Ne,mt),G=G+Math.imul(ae,rt)|0,le=Math.imul(ae,mt),L=L+Math.imul(se,jt)|0,G=G+Math.imul(se,Ct)|0,G=G+Math.imul(ne,jt)|0,le=le+Math.imul(ne,Ct)|0,L=L+Math.imul(he,St)|0,G=G+Math.imul(he,Mt)|0,G=G+Math.imul(de,St)|0,le=le+Math.imul(de,Mt)|0,L=L+Math.imul(ue,It)|0,G=G+Math.imul(ue,$t)|0,G=G+Math.imul(Ee,It)|0,le=le+Math.imul(Ee,$t)|0,L=L+Math.imul(De,pr)|0,G=G+Math.imul(De,Xt)|0,G=G+Math.imul(Te,pr)|0,le=le+Math.imul(Te,Xt)|0,L=L+Math.imul(Ie,Ir)|0,G=G+Math.imul(Ie,rr)|0,G=G+Math.imul(Oe,Ir)|0,le=le+Math.imul(Oe,rr)|0;var mr=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(mr>>>26)|0,mr&=67108863,L=Math.imul(ze,rt),G=Math.imul(ze,mt),G=G+Math.imul(ve,rt)|0,le=Math.imul(ve,mt),L=L+Math.imul(Ne,jt)|0,G=G+Math.imul(Ne,Ct)|0,G=G+Math.imul(ae,jt)|0,le=le+Math.imul(ae,Ct)|0,L=L+Math.imul(se,St)|0,G=G+Math.imul(se,Mt)|0,G=G+Math.imul(ne,St)|0,le=le+Math.imul(ne,Mt)|0,L=L+Math.imul(he,It)|0,G=G+Math.imul(he,$t)|0,G=G+Math.imul(de,It)|0,le=le+Math.imul(de,$t)|0,L=L+Math.imul(ue,pr)|0,G=G+Math.imul(ue,Xt)|0,G=G+Math.imul(Ee,pr)|0,le=le+Math.imul(Ee,Xt)|0,L=L+Math.imul(De,Ir)|0,G=G+Math.imul(De,rr)|0,G=G+Math.imul(Te,Ir)|0,le=le+Math.imul(Te,rr)|0,L=L+Math.imul(Ie,Or)|0,G=G+Math.imul(Ie,qt)|0,G=G+Math.imul(Oe,Or)|0,le=le+Math.imul(Oe,qt)|0;var Xr=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,L=Math.imul(Fe,rt),G=Math.imul(Fe,mt),G=G+Math.imul(We,rt)|0,le=Math.imul(We,mt),L=L+Math.imul(ze,jt)|0,G=G+Math.imul(ze,Ct)|0,G=G+Math.imul(ve,jt)|0,le=le+Math.imul(ve,Ct)|0,L=L+Math.imul(Ne,St)|0,G=G+Math.imul(Ne,Mt)|0,G=G+Math.imul(ae,St)|0,le=le+Math.imul(ae,Mt)|0,L=L+Math.imul(se,It)|0,G=G+Math.imul(se,$t)|0,G=G+Math.imul(ne,It)|0,le=le+Math.imul(ne,$t)|0,L=L+Math.imul(he,pr)|0,G=G+Math.imul(he,Xt)|0,G=G+Math.imul(de,pr)|0,le=le+Math.imul(de,Xt)|0,L=L+Math.imul(ue,Ir)|0,G=G+Math.imul(ue,rr)|0,G=G+Math.imul(Ee,Ir)|0,le=le+Math.imul(Ee,rr)|0,L=L+Math.imul(De,Or)|0,G=G+Math.imul(De,qt)|0,G=G+Math.imul(Te,Or)|0,le=le+Math.imul(Te,qt)|0,L=L+Math.imul(Ie,fr)|0,G=G+Math.imul(Ie,tr)|0,G=G+Math.imul(Oe,fr)|0,le=le+Math.imul(Oe,tr)|0;var fi=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(fi>>>26)|0,fi&=67108863,L=Math.imul(Ge,rt),G=Math.imul(Ge,mt),G=G+Math.imul(et,rt)|0,le=Math.imul(et,mt),L=L+Math.imul(Fe,jt)|0,G=G+Math.imul(Fe,Ct)|0,G=G+Math.imul(We,jt)|0,le=le+Math.imul(We,Ct)|0,L=L+Math.imul(ze,St)|0,G=G+Math.imul(ze,Mt)|0,G=G+Math.imul(ve,St)|0,le=le+Math.imul(ve,Mt)|0,L=L+Math.imul(Ne,It)|0,G=G+Math.imul(Ne,$t)|0,G=G+Math.imul(ae,It)|0,le=le+Math.imul(ae,$t)|0,L=L+Math.imul(se,pr)|0,G=G+Math.imul(se,Xt)|0,G=G+Math.imul(ne,pr)|0,le=le+Math.imul(ne,Xt)|0,L=L+Math.imul(he,Ir)|0,G=G+Math.imul(he,rr)|0,G=G+Math.imul(de,Ir)|0,le=le+Math.imul(de,rr)|0,L=L+Math.imul(ue,Or)|0,G=G+Math.imul(ue,qt)|0,G=G+Math.imul(Ee,Or)|0,le=le+Math.imul(Ee,qt)|0,L=L+Math.imul(De,fr)|0,G=G+Math.imul(De,tr)|0,G=G+Math.imul(Te,fr)|0,le=le+Math.imul(Te,tr)|0,L=L+Math.imul(Ie,ur)|0,G=G+Math.imul(Ie,er)|0,G=G+Math.imul(Oe,ur)|0,le=le+Math.imul(Oe,er)|0;var pi=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(pi>>>26)|0,pi&=67108863,L=Math.imul(at,rt),G=Math.imul(at,mt),G=G+Math.imul(Be,rt)|0,le=Math.imul(Be,mt),L=L+Math.imul(Ge,jt)|0,G=G+Math.imul(Ge,Ct)|0,G=G+Math.imul(et,jt)|0,le=le+Math.imul(et,Ct)|0,L=L+Math.imul(Fe,St)|0,G=G+Math.imul(Fe,Mt)|0,G=G+Math.imul(We,St)|0,le=le+Math.imul(We,Mt)|0,L=L+Math.imul(ze,It)|0,G=G+Math.imul(ze,$t)|0,G=G+Math.imul(ve,It)|0,le=le+Math.imul(ve,$t)|0,L=L+Math.imul(Ne,pr)|0,G=G+Math.imul(Ne,Xt)|0,G=G+Math.imul(ae,pr)|0,le=le+Math.imul(ae,Xt)|0,L=L+Math.imul(se,Ir)|0,G=G+Math.imul(se,rr)|0,G=G+Math.imul(ne,Ir)|0,le=le+Math.imul(ne,rr)|0,L=L+Math.imul(he,Or)|0,G=G+Math.imul(he,qt)|0,G=G+Math.imul(de,Or)|0,le=le+Math.imul(de,qt)|0,L=L+Math.imul(ue,fr)|0,G=G+Math.imul(ue,tr)|0,G=G+Math.imul(Ee,fr)|0,le=le+Math.imul(Ee,tr)|0,L=L+Math.imul(De,ur)|0,G=G+Math.imul(De,er)|0,G=G+Math.imul(Te,ur)|0,le=le+Math.imul(Te,er)|0,L=L+Math.imul(Ie,ar)|0,G=G+Math.imul(Ie,ir)|0,G=G+Math.imul(Oe,ar)|0,le=le+Math.imul(Oe,ir)|0;var oi=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(oi>>>26)|0,oi&=67108863,L=Math.imul(at,jt),G=Math.imul(at,Ct),G=G+Math.imul(Be,jt)|0,le=Math.imul(Be,Ct),L=L+Math.imul(Ge,St)|0,G=G+Math.imul(Ge,Mt)|0,G=G+Math.imul(et,St)|0,le=le+Math.imul(et,Mt)|0,L=L+Math.imul(Fe,It)|0,G=G+Math.imul(Fe,$t)|0,G=G+Math.imul(We,It)|0,le=le+Math.imul(We,$t)|0,L=L+Math.imul(ze,pr)|0,G=G+Math.imul(ze,Xt)|0,G=G+Math.imul(ve,pr)|0,le=le+Math.imul(ve,Xt)|0,L=L+Math.imul(Ne,Ir)|0,G=G+Math.imul(Ne,rr)|0,G=G+Math.imul(ae,Ir)|0,le=le+Math.imul(ae,rr)|0,L=L+Math.imul(se,Or)|0,G=G+Math.imul(se,qt)|0,G=G+Math.imul(ne,Or)|0,le=le+Math.imul(ne,qt)|0,L=L+Math.imul(he,fr)|0,G=G+Math.imul(he,tr)|0,G=G+Math.imul(de,fr)|0,le=le+Math.imul(de,tr)|0,L=L+Math.imul(ue,ur)|0,G=G+Math.imul(ue,er)|0,G=G+Math.imul(Ee,ur)|0,le=le+Math.imul(Ee,er)|0,L=L+Math.imul(De,ar)|0,G=G+Math.imul(De,ir)|0,G=G+Math.imul(Te,ar)|0,le=le+Math.imul(Te,ir)|0;var ei=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(ei>>>26)|0,ei&=67108863,L=Math.imul(at,St),G=Math.imul(at,Mt),G=G+Math.imul(Be,St)|0,le=Math.imul(Be,Mt),L=L+Math.imul(Ge,It)|0,G=G+Math.imul(Ge,$t)|0,G=G+Math.imul(et,It)|0,le=le+Math.imul(et,$t)|0,L=L+Math.imul(Fe,pr)|0,G=G+Math.imul(Fe,Xt)|0,G=G+Math.imul(We,pr)|0,le=le+Math.imul(We,Xt)|0,L=L+Math.imul(ze,Ir)|0,G=G+Math.imul(ze,rr)|0,G=G+Math.imul(ve,Ir)|0,le=le+Math.imul(ve,rr)|0,L=L+Math.imul(Ne,Or)|0,G=G+Math.imul(Ne,qt)|0,G=G+Math.imul(ae,Or)|0,le=le+Math.imul(ae,qt)|0,L=L+Math.imul(se,fr)|0,G=G+Math.imul(se,tr)|0,G=G+Math.imul(ne,fr)|0,le=le+Math.imul(ne,tr)|0,L=L+Math.imul(he,ur)|0,G=G+Math.imul(he,er)|0,G=G+Math.imul(de,ur)|0,le=le+Math.imul(de,er)|0,L=L+Math.imul(ue,ar)|0,G=G+Math.imul(ue,ir)|0,G=G+Math.imul(Ee,ar)|0,le=le+Math.imul(Ee,ir)|0;var hn=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(hn>>>26)|0,hn&=67108863,L=Math.imul(at,It),G=Math.imul(at,$t),G=G+Math.imul(Be,It)|0,le=Math.imul(Be,$t),L=L+Math.imul(Ge,pr)|0,G=G+Math.imul(Ge,Xt)|0,G=G+Math.imul(et,pr)|0,le=le+Math.imul(et,Xt)|0,L=L+Math.imul(Fe,Ir)|0,G=G+Math.imul(Fe,rr)|0,G=G+Math.imul(We,Ir)|0,le=le+Math.imul(We,rr)|0,L=L+Math.imul(ze,Or)|0,G=G+Math.imul(ze,qt)|0,G=G+Math.imul(ve,Or)|0,le=le+Math.imul(ve,qt)|0,L=L+Math.imul(Ne,fr)|0,G=G+Math.imul(Ne,tr)|0,G=G+Math.imul(ae,fr)|0,le=le+Math.imul(ae,tr)|0,L=L+Math.imul(se,ur)|0,G=G+Math.imul(se,er)|0,G=G+Math.imul(ne,ur)|0,le=le+Math.imul(ne,er)|0,L=L+Math.imul(he,ar)|0,G=G+Math.imul(he,ir)|0,G=G+Math.imul(de,ar)|0,le=le+Math.imul(de,ir)|0;var Ji=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,L=Math.imul(at,pr),G=Math.imul(at,Xt),G=G+Math.imul(Be,pr)|0,le=Math.imul(Be,Xt),L=L+Math.imul(Ge,Ir)|0,G=G+Math.imul(Ge,rr)|0,G=G+Math.imul(et,Ir)|0,le=le+Math.imul(et,rr)|0,L=L+Math.imul(Fe,Or)|0,G=G+Math.imul(Fe,qt)|0,G=G+Math.imul(We,Or)|0,le=le+Math.imul(We,qt)|0,L=L+Math.imul(ze,fr)|0,G=G+Math.imul(ze,tr)|0,G=G+Math.imul(ve,fr)|0,le=le+Math.imul(ve,tr)|0,L=L+Math.imul(Ne,ur)|0,G=G+Math.imul(Ne,er)|0,G=G+Math.imul(ae,ur)|0,le=le+Math.imul(ae,er)|0,L=L+Math.imul(se,ar)|0,G=G+Math.imul(se,ir)|0,G=G+Math.imul(ne,ar)|0,le=le+Math.imul(ne,ir)|0;var Kr=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,L=Math.imul(at,Ir),G=Math.imul(at,rr),G=G+Math.imul(Be,Ir)|0,le=Math.imul(Be,rr),L=L+Math.imul(Ge,Or)|0,G=G+Math.imul(Ge,qt)|0,G=G+Math.imul(et,Or)|0,le=le+Math.imul(et,qt)|0,L=L+Math.imul(Fe,fr)|0,G=G+Math.imul(Fe,tr)|0,G=G+Math.imul(We,fr)|0,le=le+Math.imul(We,tr)|0,L=L+Math.imul(ze,ur)|0,G=G+Math.imul(ze,er)|0,G=G+Math.imul(ve,ur)|0,le=le+Math.imul(ve,er)|0,L=L+Math.imul(Ne,ar)|0,G=G+Math.imul(Ne,ir)|0,G=G+Math.imul(ae,ar)|0,le=le+Math.imul(ae,ir)|0;var Xi=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,L=Math.imul(at,Or),G=Math.imul(at,qt),G=G+Math.imul(Be,Or)|0,le=Math.imul(Be,qt),L=L+Math.imul(Ge,fr)|0,G=G+Math.imul(Ge,tr)|0,G=G+Math.imul(et,fr)|0,le=le+Math.imul(et,tr)|0,L=L+Math.imul(Fe,ur)|0,G=G+Math.imul(Fe,er)|0,G=G+Math.imul(We,ur)|0,le=le+Math.imul(We,er)|0,L=L+Math.imul(ze,ar)|0,G=G+Math.imul(ze,ir)|0,G=G+Math.imul(ve,ar)|0,le=le+Math.imul(ve,ir)|0;var Gi=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,L=Math.imul(at,fr),G=Math.imul(at,tr),G=G+Math.imul(Be,fr)|0,le=Math.imul(Be,tr),L=L+Math.imul(Ge,ur)|0,G=G+Math.imul(Ge,er)|0,G=G+Math.imul(et,ur)|0,le=le+Math.imul(et,er)|0,L=L+Math.imul(Fe,ar)|0,G=G+Math.imul(Fe,ir)|0,G=G+Math.imul(We,ar)|0,le=le+Math.imul(We,ir)|0;var yi=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(yi>>>26)|0,yi&=67108863,L=Math.imul(at,ur),G=Math.imul(at,er),G=G+Math.imul(Be,ur)|0,le=Math.imul(Be,er),L=L+Math.imul(Ge,ar)|0,G=G+Math.imul(Ge,ir)|0,G=G+Math.imul(et,ar)|0,le=le+Math.imul(et,ir)|0;var Oi=(F+L|0)+((G&8191)<<13)|0;F=(le+(G>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,L=Math.imul(at,ar),G=Math.imul(at,ir),G=G+Math.imul(Be,ar)|0,le=Math.imul(Be,ir);var Mi=(F+L|0)+((G&8191)<<13)|0;return F=(le+(G>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,z[0]=Ue,z[1]=it,z[2]=ot,z[3]=Rt,z[4]=zt,z[5]=mr,z[6]=Xr,z[7]=fi,z[8]=pi,z[9]=oi,z[10]=ei,z[11]=hn,z[12]=Ji,z[13]=Kr,z[14]=Xi,z[15]=Gi,z[16]=yi,z[17]=Oi,z[18]=Mi,F!==0&&(z[19]=F,H.length++),H};Math.imul||(x=S);function w(O,k,B){B.negative=k.negative^O.negative,B.length=O.length+k.length;for(var H=0,$=0,K=0;K<B.length-1;K++){var z=$;$=0;for(var F=H&67108863,L=Math.min(K,k.length-1),G=Math.max(0,K-O.length+1);G<=L;G++){var le=K-G,ge=O.words[le]|0,Ie=k.words[G]|0,Oe=ge*Ie,Ke=Oe&67108863;z=z+(Oe/67108864|0)|0,Ke=Ke+F|0,F=Ke&67108863,z=z+(Ke>>>26)|0,$+=z>>>26,z&=67108863}B.words[K]=F,H=z,z=$}return H!==0?B.words[K]=H:B.length--,B._strip()}function I(O,k,B){return w(O,k,B)}t.prototype.mulTo=function(k,B){var H,$=this.length+k.length;return this.length===10&&k.length===10?H=x(this,k,B):$<63?H=S(this,k,B):$<1024?H=w(this,k,B):H=I(this,k,B),H},t.prototype.mul=function(k){var B=new t(null);return B.words=new Array(this.length+k.length),this.mulTo(k,B)},t.prototype.mulf=function(k){var B=new t(null);return B.words=new Array(this.length+k.length),I(this,k,B)},t.prototype.imul=function(k){return this.clone().mulTo(k,this)},t.prototype.imuln=function(k){var B=k<0;B&&(k=-k),c(typeof k=="number"),c(k<67108864);for(var H=0,$=0;$<this.length;$++){var K=(this.words[$]|0)*k,z=(K&67108863)+(H&67108863);H>>=26,H+=K/67108864|0,H+=z>>>26,this.words[$]=z&67108863}return H!==0&&(this.words[$]=H,this.length++),B?this.ineg():this},t.prototype.muln=function(k){return this.clone().imuln(k)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(k){var B=T(k);if(B.length===0)return new t(1);for(var H=this,$=0;$<B.length&&B[$]===0;$++,H=H.sqr());if(++$<B.length)for(var K=H.sqr();$<B.length;$++,K=K.sqr())B[$]!==0&&(H=H.mul(K));return H},t.prototype.iushln=function(k){c(typeof k=="number"&&k>=0);var B=k%26,H=(k-B)/26,$=67108863>>>26-B<<26-B,K;if(B!==0){var z=0;for(K=0;K<this.length;K++){var F=this.words[K]&$,L=(this.words[K]|0)-F<<B;this.words[K]=L|z,z=F>>>26-B}z&&(this.words[K]=z,this.length++)}if(H!==0){for(K=this.length-1;K>=0;K--)this.words[K+H]=this.words[K];for(K=0;K<H;K++)this.words[K]=0;this.length+=H}return this._strip()},t.prototype.ishln=function(k){return c(this.negative===0),this.iushln(k)},t.prototype.iushrn=function(k,B,H){c(typeof k=="number"&&k>=0);var $;B?$=(B-B%26)/26:$=0;var K=k%26,z=Math.min((k-K)/26,this.length),F=67108863^67108863>>>K<<K,L=H;if($-=z,$=Math.max(0,$),L){for(var G=0;G<z;G++)L.words[G]=this.words[G];L.length=z}if(z!==0)if(this.length>z)for(this.length-=z,G=0;G<this.length;G++)this.words[G]=this.words[G+z];else this.words[0]=0,this.length=1;var le=0;for(G=this.length-1;G>=0&&(le!==0||G>=$);G--){var ge=this.words[G]|0;this.words[G]=le<<26-K|ge>>>K,le=ge&F}return L&&le!==0&&(L.words[L.length++]=le),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},t.prototype.ishrn=function(k,B,H){return c(this.negative===0),this.iushrn(k,B,H)},t.prototype.shln=function(k){return this.clone().ishln(k)},t.prototype.ushln=function(k){return this.clone().iushln(k)},t.prototype.shrn=function(k){return this.clone().ishrn(k)},t.prototype.ushrn=function(k){return this.clone().iushrn(k)},t.prototype.testn=function(k){c(typeof k=="number"&&k>=0);var B=k%26,H=(k-B)/26,$=1<<B;if(this.length<=H)return!1;var K=this.words[H];return!!(K&$)},t.prototype.imaskn=function(k){c(typeof k=="number"&&k>=0);var B=k%26,H=(k-B)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(B!==0&&H++,this.length=Math.min(H,this.length),B!==0){var $=67108863^67108863>>>B<<B;this.words[this.length-1]&=$}return this._strip()},t.prototype.maskn=function(k){return this.clone().imaskn(k)},t.prototype.iaddn=function(k){return c(typeof k=="number"),c(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<=k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},t.prototype._iaddn=function(k){this.words[0]+=k;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},t.prototype.isubn=function(k){if(c(typeof k=="number"),c(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this._strip()},t.prototype.addn=function(k){return this.clone().iaddn(k)},t.prototype.subn=function(k){return this.clone().isubn(k)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(k,B,H){var $=k.length+H,K;this._expand($);var z,F=0;for(K=0;K<k.length;K++){z=(this.words[K+H]|0)+F;var L=(k.words[K]|0)*B;z-=L&67108863,F=(z>>26)-(L/67108864|0),this.words[K+H]=z&67108863}for(;K<this.length-H;K++)z=(this.words[K+H]|0)+F,F=z>>26,this.words[K+H]=z&67108863;if(F===0)return this._strip();for(c(F===-1),F=0,K=0;K<this.length;K++)z=-(this.words[K]|0)+F,F=z>>26,this.words[K]=z&67108863;return this.negative=1,this._strip()},t.prototype._wordDiv=function(k,B){var H=this.length-k.length,$=this.clone(),K=k,z=K.words[K.length-1]|0,F=this._countBits(z);H=26-F,H!==0&&(K=K.ushln(H),$.iushln(H),z=K.words[K.length-1]|0);var L=$.length-K.length,G;if(B!=="mod"){G=new t(null),G.length=L+1,G.words=new Array(G.length);for(var le=0;le<G.length;le++)G.words[le]=0}var ge=$.clone()._ishlnsubmul(K,1,L);ge.negative===0&&($=ge,G&&(G.words[L]=1));for(var Ie=L-1;Ie>=0;Ie--){var Oe=($.words[K.length+Ie]|0)*67108864+($.words[K.length+Ie-1]|0);for(Oe=Math.min(Oe/z|0,67108863),$._ishlnsubmul(K,Oe,Ie);$.negative!==0;)Oe--,$.negative=0,$._ishlnsubmul(K,1,Ie),$.isZero()||($.negative^=1);G&&(G.words[Ie]=Oe)}return G&&G._strip(),$._strip(),B!=="div"&&H!==0&&$.iushrn(H),{div:G||null,mod:$}},t.prototype.divmod=function(k,B,H){if(c(!k.isZero()),this.isZero())return{div:new t(0),mod:new t(0)};var $,K,z;return this.negative!==0&&k.negative===0?(z=this.neg().divmod(k,B),B!=="mod"&&($=z.div.neg()),B!=="div"&&(K=z.mod.neg(),H&&K.negative!==0&&K.iadd(k)),{div:$,mod:K}):this.negative===0&&k.negative!==0?(z=this.divmod(k.neg(),B),B!=="mod"&&($=z.div.neg()),{div:$,mod:z.mod}):this.negative&k.negative?(z=this.neg().divmod(k.neg(),B),B!=="div"&&(K=z.mod.neg(),H&&K.negative!==0&&K.isub(k)),{div:z.div,mod:K}):k.length>this.length||this.cmp(k)<0?{div:new t(0),mod:this}:k.length===1?B==="div"?{div:this.divn(k.words[0]),mod:null}:B==="mod"?{div:null,mod:new t(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new t(this.modrn(k.words[0]))}:this._wordDiv(k,B)},t.prototype.div=function(k){return this.divmod(k,"div",!1).div},t.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},t.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},t.prototype.divRound=function(k){var B=this.divmod(k);if(B.mod.isZero())return B.div;var H=B.div.negative!==0?B.mod.isub(k):B.mod,$=k.ushrn(1),K=k.andln(1),z=H.cmp($);return z<0||K===1&&z===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},t.prototype.modrn=function(k){var B=k<0;B&&(k=-k),c(k<=67108863);for(var H=(1<<26)%k,$=0,K=this.length-1;K>=0;K--)$=(H*$+(this.words[K]|0))%k;return B?-$:$},t.prototype.modn=function(k){return this.modrn(k)},t.prototype.idivn=function(k){var B=k<0;B&&(k=-k),c(k<=67108863);for(var H=0,$=this.length-1;$>=0;$--){var K=(this.words[$]|0)+H*67108864;this.words[$]=K/k|0,H=K%k}return this._strip(),B?this.ineg():this},t.prototype.divn=function(k){return this.clone().idivn(k)},t.prototype.egcd=function(k){c(k.negative===0),c(!k.isZero());var B=this,H=k.clone();B.negative!==0?B=B.umod(k):B=B.clone();for(var $=new t(1),K=new t(0),z=new t(0),F=new t(1),L=0;B.isEven()&&H.isEven();)B.iushrn(1),H.iushrn(1),++L;for(var G=H.clone(),le=B.clone();!B.isZero();){for(var ge=0,Ie=1;!(B.words[0]&Ie)&&ge<26;++ge,Ie<<=1);if(ge>0)for(B.iushrn(ge);ge-- >0;)($.isOdd()||K.isOdd())&&($.iadd(G),K.isub(le)),$.iushrn(1),K.iushrn(1);for(var Oe=0,Ke=1;!(H.words[0]&Ke)&&Oe<26;++Oe,Ke<<=1);if(Oe>0)for(H.iushrn(Oe);Oe-- >0;)(z.isOdd()||F.isOdd())&&(z.iadd(G),F.isub(le)),z.iushrn(1),F.iushrn(1);B.cmp(H)>=0?(B.isub(H),$.isub(z),K.isub(F)):(H.isub(B),z.isub($),F.isub(K))}return{a:z,b:F,gcd:H.iushln(L)}},t.prototype._invmp=function(k){c(k.negative===0),c(!k.isZero());var B=this,H=k.clone();B.negative!==0?B=B.umod(k):B=B.clone();for(var $=new t(1),K=new t(0),z=H.clone();B.cmpn(1)>0&&H.cmpn(1)>0;){for(var F=0,L=1;!(B.words[0]&L)&&F<26;++F,L<<=1);if(F>0)for(B.iushrn(F);F-- >0;)$.isOdd()&&$.iadd(z),$.iushrn(1);for(var G=0,le=1;!(H.words[0]&le)&&G<26;++G,le<<=1);if(G>0)for(H.iushrn(G);G-- >0;)K.isOdd()&&K.iadd(z),K.iushrn(1);B.cmp(H)>=0?(B.isub(H),$.isub(K)):(H.isub(B),K.isub($))}var ge;return B.cmpn(1)===0?ge=$:ge=K,ge.cmpn(0)<0&&ge.iadd(k),ge},t.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var B=this.clone(),H=k.clone();B.negative=0,H.negative=0;for(var $=0;B.isEven()&&H.isEven();$++)B.iushrn(1),H.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;H.isEven();)H.iushrn(1);var K=B.cmp(H);if(K<0){var z=B;B=H,H=z}else if(K===0||H.cmpn(1)===0)break;B.isub(H)}while(!0);return H.iushln($)},t.prototype.invm=function(k){return this.egcd(k).a.umod(k)},t.prototype.isEven=function(){return(this.words[0]&1)===0},t.prototype.isOdd=function(){return(this.words[0]&1)===1},t.prototype.andln=function(k){return this.words[0]&k},t.prototype.bincn=function(k){c(typeof k=="number");var B=k%26,H=(k-B)/26,$=1<<B;if(this.length<=H)return this._expand(H+1),this.words[H]|=$,this;for(var K=$,z=H;K!==0&&z<this.length;z++){var F=this.words[z]|0;F+=K,K=F>>>26,F&=67108863,this.words[z]=F}return K!==0&&(this.words[z]=K,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(k){var B=k<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this._strip();var H;if(this.length>1)H=1;else{B&&(k=-k),c(k<=67108863,"Number is too big");var $=this.words[0]|0;H=$===k?0:$<k?-1:1}return this.negative!==0?-H|0:H},t.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var B=this.ucmp(k);return this.negative!==0?-B|0:B},t.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var B=0,H=this.length-1;H>=0;H--){var $=this.words[H]|0,K=k.words[H]|0;if($!==K){$<K?B=-1:$>K&&(B=1);break}}return B},t.prototype.gtn=function(k){return this.cmpn(k)===1},t.prototype.gt=function(k){return this.cmp(k)===1},t.prototype.gten=function(k){return this.cmpn(k)>=0},t.prototype.gte=function(k){return this.cmp(k)>=0},t.prototype.ltn=function(k){return this.cmpn(k)===-1},t.prototype.lt=function(k){return this.cmp(k)===-1},t.prototype.lten=function(k){return this.cmpn(k)<=0},t.prototype.lte=function(k){return this.cmp(k)<=0},t.prototype.eqn=function(k){return this.cmpn(k)===0},t.prototype.eq=function(k){return this.cmp(k)===0},t.red=function(k){return new W(k)},t.prototype.toRed=function(k){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},t.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(k){return this.red=k,this},t.prototype.forceRed=function(k){return c(!this.red,"Already a number in reduction context"),this._forceRed(k)},t.prototype.redAdd=function(k){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},t.prototype.redIAdd=function(k){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},t.prototype.redSub=function(k){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},t.prototype.redISub=function(k){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},t.prototype.redShl=function(k){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},t.prototype.redMul=function(k){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},t.prototype.redIMul=function(k){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},t.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(k){return c(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var D={k256:null,p224:null,p192:null,p25519:null};function V(O,k){this.name=O,this.p=new t(k,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var k=new t(null);return k.words=new Array(Math.ceil(this.n/13)),k},V.prototype.ireduce=function(k){var B=k,H;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),H=B.bitLength();while(H>this.n);var $=H<this.n?-1:B.ucmp(this.p);return $===0?(B.words[0]=0,B.length=1):$>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},V.prototype.split=function(k,B){k.iushrn(this.n,0,B)},V.prototype.imulK=function(k){return k.imul(this.k)};function ie(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ie,V),ie.prototype.split=function(k,B){for(var H=4194303,$=Math.min(k.length,9),K=0;K<$;K++)B.words[K]=k.words[K];if(B.length=$,k.length<=9){k.words[0]=0,k.length=1;return}var z=k.words[9];for(B.words[B.length++]=z&H,K=10;K<k.length;K++){var F=k.words[K]|0;k.words[K-10]=(F&H)<<4|z>>>22,z=F}z>>>=22,k.words[K-10]=z,z===0&&k.length>10?k.length-=10:k.length-=9},ie.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var B=0,H=0;H<k.length;H++){var $=k.words[H]|0;B+=$*977,k.words[H]=B&67108863,B=$*64+(B/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function ee(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ee,V);function te(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(te,V);function Y(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Y,V),Y.prototype.imulK=function(k){for(var B=0,H=0;H<k.length;H++){var $=(k.words[H]|0)*19+B,K=$&67108863;$>>>=26,k.words[H]=K,B=$}return B!==0&&(k.words[k.length++]=B),k},t._prime=function(k){if(D[k])return D[k];var B;if(k==="k256")B=new ie;else if(k==="p224")B=new ee;else if(k==="p192")B=new te;else if(k==="p25519")B=new Y;else throw new Error("Unknown prime "+k);return D[k]=B,B};function W(O){if(typeof O=="string"){var k=t._prime(O);this.m=k.p,this.prime=k}else c(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}W.prototype._verify1=function(k){c(k.negative===0,"red works only with positives"),c(k.red,"red works only with red numbers")},W.prototype._verify2=function(k,B){c((k.negative|B.negative)===0,"red works only with positives"),c(k.red&&k.red===B.red,"red works only with red numbers")},W.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(d(k,k.umod(this.m)._forceRed(this)),k)},W.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},W.prototype.add=function(k,B){this._verify2(k,B);var H=k.add(B);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},W.prototype.iadd=function(k,B){this._verify2(k,B);var H=k.iadd(B);return H.cmp(this.m)>=0&&H.isub(this.m),H},W.prototype.sub=function(k,B){this._verify2(k,B);var H=k.sub(B);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},W.prototype.isub=function(k,B){this._verify2(k,B);var H=k.isub(B);return H.cmpn(0)<0&&H.iadd(this.m),H},W.prototype.shl=function(k,B){return this._verify1(k),this.imod(k.ushln(B))},W.prototype.imul=function(k,B){return this._verify2(k,B),this.imod(k.imul(B))},W.prototype.mul=function(k,B){return this._verify2(k,B),this.imod(k.mul(B))},W.prototype.isqr=function(k){return this.imul(k,k.clone())},W.prototype.sqr=function(k){return this.mul(k,k)},W.prototype.sqrt=function(k){if(k.isZero())return k.clone();var B=this.m.andln(3);if(c(B%2===1),B===3){var H=this.m.add(new t(1)).iushrn(2);return this.pow(k,H)}for(var $=this.m.subn(1),K=0;!$.isZero()&&$.andln(1)===0;)K++,$.iushrn(1);c(!$.isZero());var z=new t(1).toRed(this),F=z.redNeg(),L=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new t(2*G*G).toRed(this);this.pow(G,L).cmp(F)!==0;)G.redIAdd(F);for(var le=this.pow(G,$),ge=this.pow(k,$.addn(1).iushrn(1)),Ie=this.pow(k,$),Oe=K;Ie.cmp(z)!==0;){for(var Ke=Ie,De=0;Ke.cmp(z)!==0;De++)Ke=Ke.redSqr();c(De<Oe);var Te=this.pow(le,new t(1).iushln(Oe-De-1));ge=ge.redMul(Te),le=Te.redSqr(),Ie=Ie.redMul(le),Oe=De}return ge},W.prototype.invm=function(k){var B=k._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},W.prototype.pow=function(k,B){if(B.isZero())return new t(1).toRed(this);if(B.cmpn(1)===0)return k.clone();var H=4,$=new Array(1<<H);$[0]=new t(1).toRed(this),$[1]=k;for(var K=2;K<$.length;K++)$[K]=this.mul($[K-1],k);var z=$[0],F=0,L=0,G=B.bitLength()%26;for(G===0&&(G=26),K=B.length-1;K>=0;K--){for(var le=B.words[K],ge=G-1;ge>=0;ge--){var Ie=le>>ge&1;if(z!==$[0]&&(z=this.sqr(z)),Ie===0&&F===0){L=0;continue}F<<=1,F|=Ie,L++,!(L!==H&&(K!==0||ge!==0))&&(z=this.mul(z,$[F]),L=0,F=0)}G=26}return z},W.prototype.convertTo=function(k){var B=k.umod(this.m);return B===k?B.clone():B},W.prototype.convertFrom=function(k){var B=k.clone();return B.red=null,B},t.mont=function(k){return new j(k)};function j(O){W.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(j,W),j.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},j.prototype.convertFrom=function(k){var B=this.imod(k.mul(this.rinv));return B.red=null,B},j.prototype.imul=function(k,B){if(k.isZero()||B.isZero())return k.words[0]=0,k.length=1,k;var H=k.imul(B),$=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=H.isub($).iushrn(this.shift),z=K;return K.cmp(this.m)>=0?z=K.isub(this.m):K.cmpn(0)<0&&(z=K.iadd(this.m)),z._forceRed(this)},j.prototype.mul=function(k,B){if(k.isZero()||B.isZero())return new t(0)._forceRed(this);var H=k.mul(B),$=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=H.isub($).iushrn(this.shift),z=K;return K.cmp(this.m)>=0?z=K.isub(this.m):K.cmpn(0)<0&&(z=K.iadd(this.m)),z._forceRed(this)},j.prototype.invm=function(k){var B=this.imod(k._invmp(this.m).mul(this.r2));return B._forceRed(this)}})(typeof m>"u"||m,void 0)},{buffer:188}],187:[function(e,m,v){var f;m.exports=function(t){return f||(f=new u(null)),f.generate(t)};function u(s){this.rand=s}if(m.exports.Rand=u,u.prototype.generate=function(t){return this._rand(t)},u.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var i=new Uint8Array(t),r=0;r<i.length;r++)i[r]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?u.prototype._rand=function(t){var i=new Uint8Array(t);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?u.prototype._rand=function(t){var i=new Uint8Array(t);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(u.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");u.prototype._rand=function(t){return c.randomBytes(t)}}catch{}},{crypto:188}],188:[function(e,m,v){},{}],189:[function(e,m,v){var f=e("safe-buffer").Buffer;function u(n){f.isBuffer(n)||(n=f.from(n));for(var l=n.length/4|0,d=new Array(l),o=0;o<l;o++)d[o]=n.readUInt32BE(o*4);return d}function c(n){for(var l=0;l<n.length;n++)n[l]=0}function s(n,l,d,o,g){for(var y=d[0],p=d[1],E=d[2],T=d[3],S=n[0]^l[0],x=n[1]^l[1],w=n[2]^l[2],I=n[3]^l[3],D,V,ie,ee,te=4,Y=1;Y<g;Y++)D=y[S>>>24]^p[x>>>16&255]^E[w>>>8&255]^T[I&255]^l[te++],V=y[x>>>24]^p[w>>>16&255]^E[I>>>8&255]^T[S&255]^l[te++],ie=y[w>>>24]^p[I>>>16&255]^E[S>>>8&255]^T[x&255]^l[te++],ee=y[I>>>24]^p[S>>>16&255]^E[x>>>8&255]^T[w&255]^l[te++],S=D,x=V,w=ie,I=ee;return D=(o[S>>>24]<<24|o[x>>>16&255]<<16|o[w>>>8&255]<<8|o[I&255])^l[te++],V=(o[x>>>24]<<24|o[w>>>16&255]<<16|o[I>>>8&255]<<8|o[S&255])^l[te++],ie=(o[w>>>24]<<24|o[I>>>16&255]<<16|o[S>>>8&255]<<8|o[x&255])^l[te++],ee=(o[I>>>24]<<24|o[S>>>16&255]<<16|o[x>>>8&255]<<8|o[w&255])^l[te++],D=D>>>0,V=V>>>0,ie=ie>>>0,ee=ee>>>0,[D,V,ie,ee]}var t=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var n=new Array(256),l=0;l<256;l++)l<128?n[l]=l<<1:n[l]=l<<1^283;for(var d=[],o=[],g=[[],[],[],[]],y=[[],[],[],[]],p=0,E=0,T=0;T<256;++T){var S=E^E<<1^E<<2^E<<3^E<<4;S=S>>>8^S&255^99,d[p]=S,o[S]=p;var x=n[p],w=n[x],I=n[w],D=n[S]*257^S*16843008;g[0][p]=D<<24|D>>>8,g[1][p]=D<<16|D>>>16,g[2][p]=D<<8|D>>>24,g[3][p]=D,D=I*16843009^w*65537^x*257^p*16843008,y[0][S]=D<<24|D>>>8,y[1][S]=D<<16|D>>>16,y[2][S]=D<<8|D>>>24,y[3][S]=D,p===0?p=E=1:(p=x^n[n[n[I^x]]],E^=n[n[E]])}return{SBOX:d,INV_SBOX:o,SUB_MIX:g,INV_SUB_MIX:y}}();function r(n){this._key=u(n),this._reset()}r.blockSize=4*4,r.keySize=256/8,r.prototype.blockSize=r.blockSize,r.prototype.keySize=r.keySize,r.prototype._reset=function(){for(var n=this._key,l=n.length,d=l+6,o=(d+1)*4,g=[],y=0;y<l;y++)g[y]=n[y];for(y=l;y<o;y++){var p=g[y-1];y%l===0?(p=p<<8|p>>>24,p=i.SBOX[p>>>24]<<24|i.SBOX[p>>>16&255]<<16|i.SBOX[p>>>8&255]<<8|i.SBOX[p&255],p^=t[y/l|0]<<24):l>6&&y%l===4&&(p=i.SBOX[p>>>24]<<24|i.SBOX[p>>>16&255]<<16|i.SBOX[p>>>8&255]<<8|i.SBOX[p&255]),g[y]=g[y-l]^p}for(var E=[],T=0;T<o;T++){var S=o-T,x=g[S-(T%4?0:4)];T<4||S<=4?E[T]=x:E[T]=i.INV_SUB_MIX[0][i.SBOX[x>>>24]]^i.INV_SUB_MIX[1][i.SBOX[x>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[x>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[x&255]]}this._nRounds=d,this._keySchedule=g,this._invKeySchedule=E},r.prototype.encryptBlockRaw=function(n){return n=u(n),s(n,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},r.prototype.encryptBlock=function(n){var l=this.encryptBlockRaw(n),d=f.allocUnsafe(16);return d.writeUInt32BE(l[0],0),d.writeUInt32BE(l[1],4),d.writeUInt32BE(l[2],8),d.writeUInt32BE(l[3],12),d},r.prototype.decryptBlock=function(n){n=u(n);var l=n[1];n[1]=n[3],n[3]=l;var d=s(n,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),o=f.allocUnsafe(16);return o.writeUInt32BE(d[0],0),o.writeUInt32BE(d[3],4),o.writeUInt32BE(d[2],8),o.writeUInt32BE(d[1],12),o},r.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},m.exports.AES=r},{"safe-buffer":494}],190:[function(e,m,v){var f=e("./aes"),u=e("safe-buffer").Buffer,c=e("cipher-base"),s=e("inherits"),t=e("./ghash"),i=e("buffer-xor"),r=e("./incr32");function n(o,g){var y=0;o.length!==g.length&&y++;for(var p=Math.min(o.length,g.length),E=0;E<p;++E)y+=o[E]^g[E];return y}function l(o,g,y){if(g.length===12)return o._finID=u.concat([g,u.from([0,0,0,1])]),u.concat([g,u.from([0,0,0,2])]);var p=new t(y),E=g.length,T=E%16;p.update(g),T&&(T=16-T,p.update(u.alloc(T,0))),p.update(u.alloc(8,0));var S=E*8,x=u.alloc(8);x.writeUIntBE(S,0,8),p.update(x),o._finID=p.state;var w=u.from(o._finID);return r(w),w}function d(o,g,y,p){c.call(this);var E=u.alloc(4,0);this._cipher=new f.AES(g);var T=this._cipher.encryptBlock(E);this._ghash=new t(T),y=l(this,y,T),this._prev=u.from(y),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=o,this._authTag=null,this._called=!1}s(d,c),d.prototype._update=function(o){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=u.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,o);return this._decrypt?this._ghash.update(o):this._ghash.update(y),this._len+=o.length,y},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var o=i(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&n(o,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=o,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(g){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=g},d.prototype.setAAD=function(g){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(g),this._alen+=g.length},m.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,m,v){var f=e("./encrypter"),u=e("./decrypter"),c=e("./modes/list.json");function s(){return Object.keys(c)}v.createCipher=v.Cipher=f.createCipher,v.createCipheriv=v.Cipheriv=f.createCipheriv,v.createDecipher=v.Decipher=u.createDecipher,v.createDecipheriv=v.Decipheriv=u.createDecipheriv,v.listCiphers=v.getCiphers=s},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,m,v){var f=e("./authCipher"),u=e("safe-buffer").Buffer,c=e("./modes"),s=e("./streamCipher"),t=e("cipher-base"),i=e("./aes"),r=e("evp_bytestokey"),n=e("inherits");function l(p,E,T){t.call(this),this._cache=new d,this._last=void 0,this._cipher=new i.AES(E),this._prev=u.from(T),this._mode=p,this._autopadding=!0}n(l,t),l.prototype._update=function(p){this._cache.add(p);for(var E,T,S=[];E=this._cache.get(this._autopadding);)T=this._mode.decrypt(this,E),S.push(T);return u.concat(S)},l.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return o(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this};function d(){this.cache=u.allocUnsafe(0)}d.prototype.add=function(p){this.cache=u.concat([this.cache,p])},d.prototype.get=function(p){var E;if(p){if(this.cache.length>16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E}else if(this.cache.length>=16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache};function o(p){var E=p[15];if(E<1||E>16)throw new Error("unable to decrypt data");for(var T=-1;++T<E;)if(p[T+(16-E)]!==E)throw new Error("unable to decrypt data");if(E!==16)return p.slice(0,16-E)}function g(p,E,T){var S=c[p.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof T=="string"&&(T=u.from(T)),S.mode!=="GCM"&&T.length!==S.iv)throw new TypeError("invalid iv length "+T.length);if(typeof E=="string"&&(E=u.from(E)),E.length!==S.key/8)throw new TypeError("invalid key length "+E.length);return S.type==="stream"?new s(S.module,E,T,!0):S.type==="auth"?new f(S.module,E,T,!0):new l(S.module,E,T)}function y(p,E){var T=c[p.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var S=r(E,!1,T.key,T.iv);return g(p,S.key,S.iv)}v.createDecipher=y,v.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,m,v){var f=e("./modes"),u=e("./authCipher"),c=e("safe-buffer").Buffer,s=e("./streamCipher"),t=e("cipher-base"),i=e("./aes"),r=e("evp_bytestokey"),n=e("inherits");function l(p,E,T){t.call(this),this._cache=new o,this._cipher=new i.AES(E),this._prev=c.from(T),this._mode=p,this._autopadding=!0}n(l,t),l.prototype._update=function(p){this._cache.add(p);for(var E,T,S=[];E=this._cache.get();)T=this._mode.encrypt(this,E),S.push(T);return c.concat(S)};var d=c.alloc(16,16);l.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this};function o(){this.cache=c.allocUnsafe(0)}o.prototype.add=function(p){this.cache=c.concat([this.cache,p])},o.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},o.prototype.flush=function(){for(var p=16-this.cache.length,E=c.allocUnsafe(p),T=-1;++T<p;)E.writeUInt8(p,T);return c.concat([this.cache,E])};function g(p,E,T){var S=f[p.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof E=="string"&&(E=c.from(E)),E.length!==S.key/8)throw new TypeError("invalid key length "+E.length);if(typeof T=="string"&&(T=c.from(T)),S.mode!=="GCM"&&T.length!==S.iv)throw new TypeError("invalid iv length "+T.length);return S.type==="stream"?new s(S.module,E,T):S.type==="auth"?new u(S.module,E,T):new l(S.module,E,T)}function y(p,E){var T=f[p.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var S=r(E,!1,T.key,T.iv);return g(p,S.key,S.iv)}v.createCipheriv=g,v.createCipher=y},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,m,v){var f=e("safe-buffer").Buffer,u=f.alloc(16,0);function c(i){return[i.readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)]}function s(i){var r=f.allocUnsafe(16);return r.writeUInt32BE(i[0]>>>0,0),r.writeUInt32BE(i[1]>>>0,4),r.writeUInt32BE(i[2]>>>0,8),r.writeUInt32BE(i[3]>>>0,12),r}function t(i){this.h=i,this.state=f.alloc(16,0),this.cache=f.allocUnsafe(0)}t.prototype.ghash=function(i){for(var r=-1;++r<i.length;)this.state[r]^=i[r];this._multiply()},t.prototype._multiply=function(){for(var i=c(this.h),r=[0,0,0,0],n,l,d,o=-1;++o<128;){for(l=(this.state[~~(o/8)]&1<<7-o%8)!==0,l&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),d=(i[3]&1)!==0,n=3;n>0;n--)i[n]=i[n]>>>1|(i[n-1]&1)<<31;i[0]=i[0]>>>1,d&&(i[0]=i[0]^225<<24)}this.state=s(r)},t.prototype.update=function(i){this.cache=f.concat([this.cache,i]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},t.prototype.final=function(i,r){return this.cache.length&&this.ghash(f.concat([this.cache,u],16)),this.ghash(s([0,i,0,r])),this.state},m.exports=t},{"safe-buffer":494}],195:[function(e,m,v){function f(u){for(var c=u.length,s;c--;)if(s=u.readUInt8(c),s===255)u.writeUInt8(0,c);else{s++,u.writeUInt8(s,c);break}}m.exports=f},{}],196:[function(e,m,v){var f=e("buffer-xor");v.encrypt=function(u,c){var s=f(c,u._prev);return u._prev=u._cipher.encryptBlock(s),u._prev},v.decrypt=function(u,c){var s=u._prev;u._prev=c;var t=u._cipher.decryptBlock(c);return f(t,s)}},{"buffer-xor":219}],197:[function(e,m,v){var f=e("safe-buffer").Buffer,u=e("buffer-xor");function c(s,t,i){var r=t.length,n=u(t,s._cache);return s._cache=s._cache.slice(r),s._prev=f.concat([s._prev,i?t:n]),n}v.encrypt=function(s,t,i){for(var r=f.allocUnsafe(0),n;t.length;)if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=f.allocUnsafe(0)),s._cache.length<=t.length)n=s._cache.length,r=f.concat([r,c(s,t.slice(0,n),i)]),t=t.slice(n);else{r=f.concat([r,c(s,t,i)]);break}return r}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,m,v){var f=e("safe-buffer").Buffer;function u(s,t,i){for(var r,n=-1,l=8,d=0,o,g;++n<l;)r=s._cipher.encryptBlock(s._prev),o=t&1<<7-n?128:0,g=r[0]^o,d+=(g&128)>>n%8,s._prev=c(s._prev,i?o:g);return d}function c(s,t){var i=s.length,r=-1,n=f.allocUnsafe(s.length);for(s=f.concat([s,f.from([t])]);++r<i;)n[r]=s[r]<<1|s[r+1]>>7;return n}v.encrypt=function(s,t,i){for(var r=t.length,n=f.allocUnsafe(r),l=-1;++l<r;)n[l]=u(s,t[l],i);return n}},{"safe-buffer":494}],199:[function(e,m,v){var f=e("safe-buffer").Buffer;function u(c,s,t){var i=c._cipher.encryptBlock(c._prev),r=i[0]^s;return c._prev=f.concat([c._prev.slice(1),f.from([t?s:r])]),r}v.encrypt=function(c,s,t){for(var i=s.length,r=f.allocUnsafe(i),n=-1;++n<i;)r[n]=u(c,s[n],t);return r}},{"safe-buffer":494}],200:[function(e,m,v){var f=e("buffer-xor"),u=e("safe-buffer").Buffer,c=e("../incr32");function s(i){var r=i._cipher.encryptBlockRaw(i._prev);return c(i._prev),r}var t=16;v.encrypt=function(i,r){var n=Math.ceil(r.length/t),l=i._cache.length;i._cache=u.concat([i._cache,u.allocUnsafe(n*t)]);for(var d=0;d<n;d++){var o=s(i),g=l+d*t;i._cache.writeUInt32BE(o[0],g+0),i._cache.writeUInt32BE(o[1],g+4),i._cache.writeUInt32BE(o[2],g+8),i._cache.writeUInt32BE(o[3],g+12)}var y=i._cache.slice(0,r.length);return i._cache=i._cache.slice(r.length),f(r,y)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,m,v){v.encrypt=function(f,u){return f._cipher.encryptBlock(u)},v.decrypt=function(f,u){return f._cipher.decryptBlock(u)}},{}],202:[function(e,m,v){var f={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},u=e("./list.json");for(var c in u)u[c].module=f[u[c].mode];m.exports=u},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,m,v){m.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,m,v){(function(f){(function(){var u=e("buffer-xor");function c(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}v.encrypt=function(s,t){for(;s._cache.length<t.length;)s._cache=f.concat([s._cache,c(s)]);var i=s._cache.slice(0,t.length);return s._cache=s._cache.slice(t.length),u(t,i)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,m,v){var f=e("./aes"),u=e("safe-buffer").Buffer,c=e("cipher-base"),s=e("inherits");function t(i,r,n,l){c.call(this),this._cipher=new f.AES(r),this._prev=u.from(n),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=l,this._mode=i}s(t,c),t.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},t.prototype._final=function(){this._cipher.scrub()},m.exports=t},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,m,v){var f=e("browserify-des"),u=e("browserify-aes/browser"),c=e("browserify-aes/modes"),s=e("browserify-des/modes"),t=e("evp_bytestokey");function i(o,g){o=o.toLowerCase();var y,p;if(c[o])y=c[o].key,p=c[o].iv;else if(s[o])y=s[o].key*8,p=s[o].iv;else throw new TypeError("invalid suite type");var E=t(g,!1,y,p);return n(o,E.key,E.iv)}function r(o,g){o=o.toLowerCase();var y,p;if(c[o])y=c[o].key,p=c[o].iv;else if(s[o])y=s[o].key*8,p=s[o].iv;else throw new TypeError("invalid suite type");var E=t(g,!1,y,p);return l(o,E.key,E.iv)}function n(o,g,y){if(o=o.toLowerCase(),c[o])return u.createCipheriv(o,g,y);if(s[o])return new f({key:g,iv:y,mode:o});throw new TypeError("invalid suite type")}function l(o,g,y){if(o=o.toLowerCase(),c[o])return u.createDecipheriv(o,g,y);if(s[o])return new f({key:g,iv:y,mode:o,decrypt:!0});throw new TypeError("invalid suite type")}function d(){return Object.keys(s).concat(u.getCiphers())}v.createCipher=v.Cipher=i,v.createCipheriv=v.Cipheriv=n,v.createDecipher=v.Decipher=r,v.createDecipheriv=v.Decipheriv=l,v.listCiphers=v.getCiphers=d},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,m,v){var f=e("cipher-base"),u=e("des.js"),c=e("inherits"),s=e("safe-buffer").Buffer,t={"des-ede3-cbc":u.CBC.instantiate(u.EDE),"des-ede3":u.EDE,"des-ede-cbc":u.CBC.instantiate(u.EDE),"des-ede":u.EDE,"des-cbc":u.CBC.instantiate(u.DES),"des-ecb":u.DES};t.des=t["des-cbc"],t.des3=t["des-ede3-cbc"],m.exports=i,c(i,f);function i(r){f.call(this);var n=r.mode.toLowerCase(),l=t[n],d;r.decrypt?d="decrypt":d="encrypt";var o=r.key;s.isBuffer(o)||(o=s.from(o)),(n==="des-ede"||n==="des-ede-cbc")&&(o=s.concat([o,o.slice(0,8)]));var g=r.iv;s.isBuffer(g)||(g=s.from(g)),this._des=l.create({key:o,iv:g,type:d})}i.prototype._update=function(r){return s.from(this._des.update(r))},i.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,m,v){v["des-ecb"]={key:8,iv:0},v["des-cbc"]=v.des={key:8,iv:8},v["des-ede3-cbc"]=v.des3={key:24,iv:8},v["des-ede3"]={key:24,iv:0},v["des-ede-cbc"]={key:16,iv:8},v["des-ede"]={key:16,iv:0}},{}],209:[function(e,m,v){(function(f){(function(){var u=e("bn.js"),c=e("randombytes");function s(r){var n=t(r),l=n.toRed(u.mont(r.modulus)).redPow(new u(r.publicExponent)).fromRed();return{blinder:l,unblinder:n.invm(r.modulus)}}function t(r){var n=r.modulus.byteLength(),l;do l=new u(c(n));while(l.cmp(r.modulus)>=0||!l.umod(r.prime1)||!l.umod(r.prime2));return l}function i(r,n){var l=s(n),d=n.modulus.byteLength(),o=new u(r).mul(l.blinder).umod(n.modulus),g=o.toRed(u.mont(n.prime1)),y=o.toRed(u.mont(n.prime2)),p=n.coefficient,E=n.prime1,T=n.prime2,S=g.redPow(n.exponent1).fromRed(),x=y.redPow(n.exponent2).fromRed(),w=S.isub(x).imul(p).umod(E).imul(T);return x.iadd(w).imul(l.unblinder).umod(n.modulus).toArrayLike(f,"be",d)}i.getr=t,m.exports=i}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,m,v){m.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,m,v){m.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,m,v){m.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,m,v){var f=e("safe-buffer").Buffer,u=e("create-hash"),c=e("readable-stream"),s=e("inherits"),t=e("./sign"),i=e("./verify"),r=e("./algorithms.json");Object.keys(r).forEach(function(g){r[g].id=f.from(r[g].id,"hex"),r[g.toLowerCase()]=r[g]});function n(g){c.Writable.call(this);var y=r[g];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=u(y.hash),this._tag=y.id,this._signType=y.sign}s(n,c.Writable),n.prototype._write=function(y,p,E){this._hash.update(y),E()},n.prototype.update=function(y,p){return typeof y=="string"&&(y=f.from(y,p)),this._hash.update(y),this},n.prototype.sign=function(y,p){this.end();var E=this._hash.digest(),T=t(E,y,this._hashType,this._signType,this._tag);return p?T.toString(p):T};function l(g){c.Writable.call(this);var y=r[g];if(!y)throw new Error("Unknown message digest");this._hash=u(y.hash),this._tag=y.id,this._signType=y.sign}s(l,c.Writable),l.prototype._write=function(y,p,E){this._hash.update(y),E()},l.prototype.update=function(y,p){return typeof y=="string"&&(y=f.from(y,p)),this._hash.update(y),this},l.prototype.verify=function(y,p,E){typeof p=="string"&&(p=f.from(p,E)),this.end();var T=this._hash.digest();return i(p,T,y,this._signType,this._tag)};function d(g){return new n(g)}function o(g){return new l(g)}m.exports={Sign:d,Verify:o,createSign:d,createVerify:o}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,m,v){var f=e("safe-buffer").Buffer,u=e("create-hmac"),c=e("browserify-rsa"),s=e("elliptic").ec,t=e("bn.js"),i=e("parse-asn1"),r=e("./curves.json");function n(S,x,w,I,D){var V=i(x);if(V.curve){if(I!=="ecdsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");return l(S,V)}else if(V.type==="dsa"){if(I!=="dsa")throw new Error("wrong private key type");return d(S,V,w)}else if(I!=="rsa"&&I!=="ecdsa/rsa")throw new Error("wrong private key type");S=f.concat([D,S]);for(var ie=V.modulus.byteLength(),ee=[0,1];S.length+ee.length+1<ie;)ee.push(255);ee.push(0);for(var te=-1;++te<S.length;)ee.push(S[te]);var Y=c(ee,V);return Y}function l(S,x){var w=r[x.curve.join(".")];if(!w)throw new Error("unknown curve "+x.curve.join("."));var I=new s(w),D=I.keyFromPrivate(x.privateKey),V=D.sign(S);return f.from(V.toDER())}function d(S,x,w){for(var I=x.params.priv_key,D=x.params.p,V=x.params.q,ie=x.params.g,ee=new t(0),te,Y=y(S,V).mod(V),W=!1,j=g(I,V,S,w);W===!1;)te=E(V,j,w),ee=T(ie,te,D,V),W=te.invm(V).imul(Y.add(I.mul(ee))).mod(V),W.cmpn(0)===0&&(W=!1,ee=new t(0));return o(ee,W)}function o(S,x){S=S.toArray(),x=x.toArray(),S[0]&128&&(S=[0].concat(S)),x[0]&128&&(x=[0].concat(x));var w=S.length+x.length+4,I=[48,w,2,S.length];return I=I.concat(S,[2,x.length],x),f.from(I)}function g(S,x,w,I){if(S=f.from(S.toArray()),S.length<x.byteLength()){var D=f.alloc(x.byteLength()-S.length);S=f.concat([D,S])}var V=w.length,ie=p(w,x),ee=f.alloc(V);ee.fill(1);var te=f.alloc(V);return te=u(I,te).update(ee).update(f.from([0])).update(S).update(ie).digest(),ee=u(I,te).update(ee).digest(),te=u(I,te).update(ee).update(f.from([1])).update(S).update(ie).digest(),ee=u(I,te).update(ee).digest(),{k:te,v:ee}}function y(S,x){var w=new t(S),I=(S.length<<3)-x.bitLength();return I>0&&w.ishrn(I),w}function p(S,x){S=y(S,x),S=S.mod(x);var w=f.from(S.toArray());if(w.length<x.byteLength()){var I=f.alloc(x.byteLength()-w.length);w=f.concat([I,w])}return w}function E(S,x,w){var I,D;do{for(I=f.alloc(0);I.length*8<S.bitLength();)x.v=u(w,x.k).update(x.v).digest(),I=f.concat([I,x.v]);D=y(I,S),x.k=u(w,x.k).update(x.v).update(f.from([0])).digest(),x.v=u(w,x.k).update(x.v).digest()}while(D.cmp(S)!==-1);return D}function T(S,x,w,I){return S.toRed(t.mont(w)).redPow(x).fromRed().mod(I)}m.exports=n,m.exports.getKey=g,m.exports.makeKey=E},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,m,v){var f=e("safe-buffer").Buffer,u=e("bn.js"),c=e("elliptic").ec,s=e("parse-asn1"),t=e("./curves.json");function i(d,o,g,y,p){var E=s(g);if(E.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return r(d,o,E)}else if(E.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return n(d,o,E)}else if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");o=f.concat([p,o]);for(var T=E.modulus.byteLength(),S=[1],x=0;o.length+S.length+2<T;)S.push(255),x++;S.push(0);for(var w=-1;++w<o.length;)S.push(o[w]);S=f.from(S);var I=u.mont(E.modulus);d=new u(d).toRed(I),d=d.redPow(new u(E.publicExponent)),d=f.from(d.fromRed().toArray());var D=x<8?1:0;for(T=Math.min(d.length,S.length),d.length!==S.length&&(D=1),w=-1;++w<T;)D|=d[w]^S[w];return D===0}function r(d,o,g){var y=t[g.data.algorithm.curve.join(".")];if(!y)throw new Error("unknown curve "+g.data.algorithm.curve.join("."));var p=new c(y),E=g.data.subjectPrivateKey.data;return p.verify(o,d,E)}function n(d,o,g){var y=g.data.p,p=g.data.q,E=g.data.g,T=g.data.pub_key,S=s.signature.decode(d,"der"),x=S.s,w=S.r;l(x,p),l(w,p);var I=u.mont(y),D=x.invm(p),V=E.toRed(I).redPow(new u(o).mul(D).mod(p)).fromRed().mul(T.toRed(I).redPow(w.mul(D).mod(p)).fromRed()).mod(y).mod(p);return V.cmp(w)===0}function l(d,o){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(o)>=o)throw new Error("invalid sig")}m.exports=i},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,m,v){},{}],217:[function(e,m,v){var f=e("buffer"),u=f.Buffer;function c(t,i){for(var r in t)i[r]=t[r]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?m.exports=f:(c(f,v),v.Buffer=s);function s(t,i,r){return u(t,i,r)}c(u,s),s.from=function(t,i,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return u(t,i,r)},s.alloc=function(t,i,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=u(t);return i!==void 0?typeof r=="string"?n.fill(i,r):n.fill(i):n.fill(0),n},s.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u(t)},s.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(t)}},{buffer:220}],218:[function(e,m,v){var f=e("safe-buffer").Buffer,u=f.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(x){if(!x)return"utf8";for(var w;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(w)return;x=(""+x).toLowerCase(),w=!0}}function s(x){var w=c(x);if(typeof w!="string"&&(f.isEncoding===u||!u(x)))throw new Error("Unknown encoding: "+x);return w||x}v.StringDecoder=t;function t(x){this.encoding=s(x);var w;switch(this.encoding){case"utf16le":this.text=g,this.end=y,w=4;break;case"utf8":this.fillLast=l,w=4;break;case"base64":this.text=p,this.end=E,w=3;break;default:this.write=T,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(w)}t.prototype.write=function(x){if(x.length===0)return"";var w,I;if(this.lastNeed){if(w=this.fillLast(x),w===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<x.length?w?w+this.text(x,I):this.text(x,I):w||""},t.prototype.end=o,t.prototype.text=d,t.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function i(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function r(x,w,I){var D=w.length-1;if(D<I)return 0;var V=i(w[D]);return V>=0?(V>0&&(x.lastNeed=V-1),V):--D<I||V===-2?0:(V=i(w[D]),V>=0?(V>0&&(x.lastNeed=V-2),V):--D<I||V===-2?0:(V=i(w[D]),V>=0?(V>0&&(V===2?V=0:x.lastNeed=V-3),V):0))}function n(x,w,I){if((w[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return x.lastNeed=2,"�"}}function l(x){var w=this.lastTotal-this.lastNeed,I=n(this,x);if(I!==void 0)return I;if(this.lastNeed<=x.length)return x.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,w,0,x.length),this.lastNeed-=x.length}function d(x,w){var I=r(this,x,w);if(!this.lastNeed)return x.toString("utf8",w);this.lastTotal=I;var D=x.length-(I-this.lastNeed);return x.copy(this.lastChar,0,D),x.toString("utf8",w,D)}function o(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+"�":w}function g(x,w){if((x.length-w)%2===0){var I=x.toString("utf16le",w);if(I){var D=I.charCodeAt(I.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",w,x.length-1)}function y(x){var w=x&&x.length?this.write(x):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,I)}return w}function p(x,w){var I=(x.length-w)%3;return I===0?x.toString("base64",w):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",w,x.length-I))}function E(x){var w=x&&x.length?this.write(x):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function T(x){return x.toString(this.encoding)}function S(x){return x&&x.length?this.write(x):""}},{"safe-buffer":217}],219:[function(e,m,v){(function(f){(function(){m.exports=function(c,s){for(var t=Math.min(c.length,s.length),i=new f(t),r=0;r<t;++r)i[r]=c[r]^s[r];return i}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,m,v){(function(f){(function(){var u=e("base64-js"),c=e("ieee754");v.Buffer=r,v.SlowBuffer=S,v.INSPECT_MAX_BYTES=50;var s=2147483647;v.kMaxLength=s,r.TYPED_ARRAY_SUPPORT=t(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function t(){try{var ce=new Uint8Array(1);return ce.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ce.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function i(ce){if(ce>s)throw new RangeError('The value "'+ce+'" is invalid for option "size"');var se=new Uint8Array(ce);return se.__proto__=r.prototype,se}function r(ce,se,ne){if(typeof ce=="number"){if(typeof se=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(ce)}return n(ce,se,ne)}typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192;function n(ce,se,ne){if(typeof ce=="string")return g(ce,se);if(ArrayBuffer.isView(ce))return y(ce);if(ce==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(he(ce,ArrayBuffer)||ce&&he(ce.buffer,ArrayBuffer))return p(ce,se,ne);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var we=ce.valueOf&&ce.valueOf();if(we!=null&&we!==ce)return r.from(we,se,ne);var Ne=E(ce);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return r.from(ce[Symbol.toPrimitive]("string"),se,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}r.from=function(ce,se,ne){return n(ce,se,ne)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array;function l(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function d(ce,se,ne){return l(ce),ce<=0?i(ce):se!==void 0?typeof ne=="string"?i(ce).fill(se,ne):i(ce).fill(se):i(ce)}r.alloc=function(ce,se,ne){return d(ce,se,ne)};function o(ce){return l(ce),i(ce<0?0:T(ce)|0)}r.allocUnsafe=function(ce){return o(ce)},r.allocUnsafeSlow=function(ce){return o(ce)};function g(ce,se){if((typeof se!="string"||se==="")&&(se="utf8"),!r.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var ne=x(ce,se)|0,we=i(ne),Ne=we.write(ce,se);return Ne!==ne&&(we=we.slice(0,Ne)),we}function y(ce){for(var se=ce.length<0?0:T(ce.length)|0,ne=i(se),we=0;we<se;we+=1)ne[we]=ce[we]&255;return ne}function p(ce,se,ne){if(se<0||ce.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<se+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var we;return se===void 0&&ne===void 0?we=new Uint8Array(ce):ne===void 0?we=new Uint8Array(ce,se):we=new Uint8Array(ce,se,ne),we.__proto__=r.prototype,we}function E(ce){if(r.isBuffer(ce)){var se=T(ce.length)|0,ne=i(se);return ne.length===0||ce.copy(ne,0,0,se),ne}if(ce.length!==void 0)return typeof ce.length!="number"||de(ce.length)?i(0):y(ce);if(ce.type==="Buffer"&&Array.isArray(ce.data))return y(ce.data)}function T(ce){if(ce>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return ce|0}function S(ce){return+ce!=ce&&(ce=0),r.alloc(+ce)}r.isBuffer=function(se){return se!=null&&se._isBuffer===!0&&se!==r.prototype},r.compare=function(se,ne){if(he(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),he(ne,Uint8Array)&&(ne=r.from(ne,ne.offset,ne.byteLength)),!r.isBuffer(se)||!r.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(se===ne)return 0;for(var we=se.length,Ne=ne.length,ae=0,Pe=Math.min(we,Ne);ae<Pe;++ae)if(se[ae]!==ne[ae]){we=se[ae],Ne=ne[ae];break}return we<Ne?-1:Ne<we?1:0},r.isEncoding=function(se){switch(String(se).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(se,ne){if(!Array.isArray(se))throw new TypeError('"list" argument must be an Array of Buffers');if(se.length===0)return r.alloc(0);var we;if(ne===void 0)for(ne=0,we=0;we<se.length;++we)ne+=se[we].length;var Ne=r.allocUnsafe(ne),ae=0;for(we=0;we<se.length;++we){var Pe=se[we];if(he(Pe,Uint8Array)&&(Pe=r.from(Pe)),!r.isBuffer(Pe))throw new TypeError('"list" argument must be an Array of Buffers');Pe.copy(Ne,ae),ae+=Pe.length}return Ne};function x(ce,se){if(r.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||he(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);var ne=ce.length,we=arguments.length>2&&arguments[2]===!0;if(!we&&ne===0)return 0;for(var Ne=!1;;)switch(se){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return Te(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne*2;case"hex":return ne>>>1;case"base64":return Ee(ce).length;default:if(Ne)return we?-1:Te(ce).length;se=(""+se).toLowerCase(),Ne=!0}}r.byteLength=x;function w(ce,se,ne){var we=!1;if((se===void 0||se<0)&&(se=0),se>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0,se>>>=0,ne<=se))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return z(this,se,ne);case"utf8":case"utf-8":return k(this,se,ne);case"ascii":return $(this,se,ne);case"latin1":case"binary":return K(this,se,ne);case"base64":return O(this,se,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,se,ne);default:if(we)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),we=!0}}r.prototype._isBuffer=!0;function I(ce,se,ne){var we=ce[se];ce[se]=ce[ne],ce[ne]=we}r.prototype.swap16=function(){var se=this.length;if(se%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ne=0;ne<se;ne+=2)I(this,ne,ne+1);return this},r.prototype.swap32=function(){var se=this.length;if(se%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ne=0;ne<se;ne+=4)I(this,ne,ne+3),I(this,ne+1,ne+2);return this},r.prototype.swap64=function(){var se=this.length;if(se%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ne=0;ne<se;ne+=8)I(this,ne,ne+7),I(this,ne+1,ne+6),I(this,ne+2,ne+5),I(this,ne+3,ne+4);return this},r.prototype.toString=function(){var se=this.length;return se===0?"":arguments.length===0?k(this,0,se):w.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(se){if(!r.isBuffer(se))throw new TypeError("Argument must be a Buffer");return this===se?!0:r.compare(this,se)===0},r.prototype.inspect=function(){var se="",ne=v.INSPECT_MAX_BYTES;return se=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(se+=" ... "),"<Buffer "+se+">"},r.prototype.compare=function(se,ne,we,Ne,ae){if(he(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),!r.isBuffer(se))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof se);if(ne===void 0&&(ne=0),we===void 0&&(we=se?se.length:0),Ne===void 0&&(Ne=0),ae===void 0&&(ae=this.length),ne<0||we>se.length||Ne<0||ae>this.length)throw new RangeError("out of range index");if(Ne>=ae&&ne>=we)return 0;if(Ne>=ae)return-1;if(ne>=we)return 1;if(ne>>>=0,we>>>=0,Ne>>>=0,ae>>>=0,this===se)return 0;for(var Pe=ae-Ne,ze=we-ne,ve=Math.min(Pe,ze),Ae=this.slice(Ne,ae),Fe=se.slice(ne,we),We=0;We<ve;++We)if(Ae[We]!==Fe[We]){Pe=Ae[We],ze=Fe[We];break}return Pe<ze?-1:ze<Pe?1:0};function D(ce,se,ne,we,Ne){if(ce.length===0)return-1;if(typeof ne=="string"?(we=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,de(ne)&&(ne=Ne?0:ce.length-1),ne<0&&(ne=ce.length+ne),ne>=ce.length){if(Ne)return-1;ne=ce.length-1}else if(ne<0)if(Ne)ne=0;else return-1;if(typeof se=="string"&&(se=r.from(se,we)),r.isBuffer(se))return se.length===0?-1:V(ce,se,ne,we,Ne);if(typeof se=="number")return se=se&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(ce,se,ne):Uint8Array.prototype.lastIndexOf.call(ce,se,ne):V(ce,[se],ne,we,Ne);throw new TypeError("val must be string, number or Buffer")}function V(ce,se,ne,we,Ne){var ae=1,Pe=ce.length,ze=se.length;if(we!==void 0&&(we=String(we).toLowerCase(),we==="ucs2"||we==="ucs-2"||we==="utf16le"||we==="utf-16le")){if(ce.length<2||se.length<2)return-1;ae=2,Pe/=2,ze/=2,ne/=2}function ve(Ge,et){return ae===1?Ge[et]:Ge.readUInt16BE(et*ae)}var Ae;if(Ne){var Fe=-1;for(Ae=ne;Ae<Pe;Ae++)if(ve(ce,Ae)===ve(se,Fe===-1?0:Ae-Fe)){if(Fe===-1&&(Fe=Ae),Ae-Fe+1===ze)return Fe*ae}else Fe!==-1&&(Ae-=Ae-Fe),Fe=-1}else for(ne+ze>Pe&&(ne=Pe-ze),Ae=ne;Ae>=0;Ae--){for(var We=!0,Je=0;Je<ze;Je++)if(ve(ce,Ae+Je)!==ve(se,Je)){We=!1;break}if(We)return Ae}return-1}r.prototype.includes=function(se,ne,we){return this.indexOf(se,ne,we)!==-1},r.prototype.indexOf=function(se,ne,we){return D(this,se,ne,we,!0)},r.prototype.lastIndexOf=function(se,ne,we){return D(this,se,ne,we,!1)};function ie(ce,se,ne,we){ne=Number(ne)||0;var Ne=ce.length-ne;we?(we=Number(we),we>Ne&&(we=Ne)):we=Ne;var ae=se.length;we>ae/2&&(we=ae/2);for(var Pe=0;Pe<we;++Pe){var ze=parseInt(se.substr(Pe*2,2),16);if(de(ze))return Pe;ce[ne+Pe]=ze}return Pe}function ee(ce,se,ne,we){return _e(Te(se,ce.length-ne),ce,ne,we)}function te(ce,se,ne,we){return _e(Z(se),ce,ne,we)}function Y(ce,se,ne,we){return te(ce,se,ne,we)}function W(ce,se,ne,we){return _e(Ee(se),ce,ne,we)}function j(ce,se,ne,we){return _e(ue(se,ce.length-ne),ce,ne,we)}r.prototype.write=function(se,ne,we,Ne){if(ne===void 0)Ne="utf8",we=this.length,ne=0;else if(we===void 0&&typeof ne=="string")Ne=ne,we=this.length,ne=0;else if(isFinite(ne))ne=ne>>>0,isFinite(we)?(we=we>>>0,Ne===void 0&&(Ne="utf8")):(Ne=we,we=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ae=this.length-ne;if((we===void 0||we>ae)&&(we=ae),se.length>0&&(we<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var Pe=!1;;)switch(Ne){case"hex":return ie(this,se,ne,we);case"utf8":case"utf-8":return ee(this,se,ne,we);case"ascii":return te(this,se,ne,we);case"latin1":case"binary":return Y(this,se,ne,we);case"base64":return W(this,se,ne,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,se,ne,we);default:if(Pe)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),Pe=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(ce,se,ne){return se===0&&ne===ce.length?u.fromByteArray(ce):u.fromByteArray(ce.slice(se,ne))}function k(ce,se,ne){ne=Math.min(ce.length,ne);for(var we=[],Ne=se;Ne<ne;){var ae=ce[Ne],Pe=null,ze=ae>239?4:ae>223?3:ae>191?2:1;if(Ne+ze<=ne){var ve,Ae,Fe,We;switch(ze){case 1:ae<128&&(Pe=ae);break;case 2:ve=ce[Ne+1],(ve&192)===128&&(We=(ae&31)<<6|ve&63,We>127&&(Pe=We));break;case 3:ve=ce[Ne+1],Ae=ce[Ne+2],(ve&192)===128&&(Ae&192)===128&&(We=(ae&15)<<12|(ve&63)<<6|Ae&63,We>2047&&(We<55296||We>57343)&&(Pe=We));break;case 4:ve=ce[Ne+1],Ae=ce[Ne+2],Fe=ce[Ne+3],(ve&192)===128&&(Ae&192)===128&&(Fe&192)===128&&(We=(ae&15)<<18|(ve&63)<<12|(Ae&63)<<6|Fe&63,We>65535&&We<1114112&&(Pe=We))}}Pe===null?(Pe=65533,ze=1):Pe>65535&&(Pe-=65536,we.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),we.push(Pe),Ne+=ze}return H(we)}var B=4096;function H(ce){var se=ce.length;if(se<=B)return String.fromCharCode.apply(String,ce);for(var ne="",we=0;we<se;)ne+=String.fromCharCode.apply(String,ce.slice(we,we+=B));return ne}function $(ce,se,ne){var we="";ne=Math.min(ce.length,ne);for(var Ne=se;Ne<ne;++Ne)we+=String.fromCharCode(ce[Ne]&127);return we}function K(ce,se,ne){var we="";ne=Math.min(ce.length,ne);for(var Ne=se;Ne<ne;++Ne)we+=String.fromCharCode(ce[Ne]);return we}function z(ce,se,ne){var we=ce.length;(!se||se<0)&&(se=0),(!ne||ne<0||ne>we)&&(ne=we);for(var Ne="",ae=se;ae<ne;++ae)Ne+=De(ce[ae]);return Ne}function F(ce,se,ne){for(var we=ce.slice(se,ne),Ne="",ae=0;ae<we.length;ae+=2)Ne+=String.fromCharCode(we[ae]+we[ae+1]*256);return Ne}r.prototype.slice=function(se,ne){var we=this.length;se=~~se,ne=ne===void 0?we:~~ne,se<0?(se+=we,se<0&&(se=0)):se>we&&(se=we),ne<0?(ne+=we,ne<0&&(ne=0)):ne>we&&(ne=we),ne<se&&(ne=se);var Ne=this.subarray(se,ne);return Ne.__proto__=r.prototype,Ne};function L(ce,se,ne){if(ce%1!==0||ce<0)throw new RangeError("offset is not uint");if(ce+se>ne)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUIntLE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=this[se],ae=1,Pe=0;++Pe<ne&&(ae*=256);)Ne+=this[se+Pe]*ae;return Ne},r.prototype.readUIntBE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=this[se+--ne],ae=1;ne>0&&(ae*=256);)Ne+=this[se+--ne]*ae;return Ne},r.prototype.readUInt8=function(se,ne){return se=se>>>0,ne||L(se,1,this.length),this[se]},r.prototype.readUInt16LE=function(se,ne){return se=se>>>0,ne||L(se,2,this.length),this[se]|this[se+1]<<8},r.prototype.readUInt16BE=function(se,ne){return se=se>>>0,ne||L(se,2,this.length),this[se]<<8|this[se+1]},r.prototype.readUInt32LE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),(this[se]|this[se+1]<<8|this[se+2]<<16)+this[se+3]*16777216},r.prototype.readUInt32BE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),this[se]*16777216+(this[se+1]<<16|this[se+2]<<8|this[se+3])},r.prototype.readIntLE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=this[se],ae=1,Pe=0;++Pe<ne&&(ae*=256);)Ne+=this[se+Pe]*ae;return ae*=128,Ne>=ae&&(Ne-=Math.pow(2,8*ne)),Ne},r.prototype.readIntBE=function(se,ne,we){se=se>>>0,ne=ne>>>0,we||L(se,ne,this.length);for(var Ne=ne,ae=1,Pe=this[se+--Ne];Ne>0&&(ae*=256);)Pe+=this[se+--Ne]*ae;return ae*=128,Pe>=ae&&(Pe-=Math.pow(2,8*ne)),Pe},r.prototype.readInt8=function(se,ne){return se=se>>>0,ne||L(se,1,this.length),this[se]&128?(255-this[se]+1)*-1:this[se]},r.prototype.readInt16LE=function(se,ne){se=se>>>0,ne||L(se,2,this.length);var we=this[se]|this[se+1]<<8;return we&32768?we|4294901760:we},r.prototype.readInt16BE=function(se,ne){se=se>>>0,ne||L(se,2,this.length);var we=this[se+1]|this[se]<<8;return we&32768?we|4294901760:we},r.prototype.readInt32LE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),this[se]|this[se+1]<<8|this[se+2]<<16|this[se+3]<<24},r.prototype.readInt32BE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),this[se]<<24|this[se+1]<<16|this[se+2]<<8|this[se+3]},r.prototype.readFloatLE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),c.read(this,se,!0,23,4)},r.prototype.readFloatBE=function(se,ne){return se=se>>>0,ne||L(se,4,this.length),c.read(this,se,!1,23,4)},r.prototype.readDoubleLE=function(se,ne){return se=se>>>0,ne||L(se,8,this.length),c.read(this,se,!0,52,8)},r.prototype.readDoubleBE=function(se,ne){return se=se>>>0,ne||L(se,8,this.length),c.read(this,se,!1,52,8)};function G(ce,se,ne,we,Ne,ae){if(!r.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(se>Ne||se<ae)throw new RangeError('"value" argument is out of bounds');if(ne+we>ce.length)throw new RangeError("Index out of range")}r.prototype.writeUIntLE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,we=we>>>0,!Ne){var ae=Math.pow(2,8*we)-1;G(this,se,ne,we,ae,0)}var Pe=1,ze=0;for(this[ne]=se&255;++ze<we&&(Pe*=256);)this[ne+ze]=se/Pe&255;return ne+we},r.prototype.writeUIntBE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,we=we>>>0,!Ne){var ae=Math.pow(2,8*we)-1;G(this,se,ne,we,ae,0)}var Pe=we-1,ze=1;for(this[ne+Pe]=se&255;--Pe>=0&&(ze*=256);)this[ne+Pe]=se/ze&255;return ne+we},r.prototype.writeUInt8=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,1,255,0),this[ne]=se&255,ne+1},r.prototype.writeUInt16LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,65535,0),this[ne]=se&255,this[ne+1]=se>>>8,ne+2},r.prototype.writeUInt16BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,65535,0),this[ne]=se>>>8,this[ne+1]=se&255,ne+2},r.prototype.writeUInt32LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,4294967295,0),this[ne+3]=se>>>24,this[ne+2]=se>>>16,this[ne+1]=se>>>8,this[ne]=se&255,ne+4},r.prototype.writeUInt32BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,4294967295,0),this[ne]=se>>>24,this[ne+1]=se>>>16,this[ne+2]=se>>>8,this[ne+3]=se&255,ne+4},r.prototype.writeIntLE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,!Ne){var ae=Math.pow(2,8*we-1);G(this,se,ne,we,ae-1,-ae)}var Pe=0,ze=1,ve=0;for(this[ne]=se&255;++Pe<we&&(ze*=256);)se<0&&ve===0&&this[ne+Pe-1]!==0&&(ve=1),this[ne+Pe]=(se/ze>>0)-ve&255;return ne+we},r.prototype.writeIntBE=function(se,ne,we,Ne){if(se=+se,ne=ne>>>0,!Ne){var ae=Math.pow(2,8*we-1);G(this,se,ne,we,ae-1,-ae)}var Pe=we-1,ze=1,ve=0;for(this[ne+Pe]=se&255;--Pe>=0&&(ze*=256);)se<0&&ve===0&&this[ne+Pe+1]!==0&&(ve=1),this[ne+Pe]=(se/ze>>0)-ve&255;return ne+we},r.prototype.writeInt8=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,1,127,-128),se<0&&(se=255+se+1),this[ne]=se&255,ne+1},r.prototype.writeInt16LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,32767,-32768),this[ne]=se&255,this[ne+1]=se>>>8,ne+2},r.prototype.writeInt16BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,2,32767,-32768),this[ne]=se>>>8,this[ne+1]=se&255,ne+2},r.prototype.writeInt32LE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,2147483647,-2147483648),this[ne]=se&255,this[ne+1]=se>>>8,this[ne+2]=se>>>16,this[ne+3]=se>>>24,ne+4},r.prototype.writeInt32BE=function(se,ne,we){return se=+se,ne=ne>>>0,we||G(this,se,ne,4,2147483647,-2147483648),se<0&&(se=4294967295+se+1),this[ne]=se>>>24,this[ne+1]=se>>>16,this[ne+2]=se>>>8,this[ne+3]=se&255,ne+4};function le(ce,se,ne,we,Ne,ae){if(ne+we>ce.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function ge(ce,se,ne,we,Ne){return se=+se,ne=ne>>>0,Ne||le(ce,se,ne,4),c.write(ce,se,ne,we,23,4),ne+4}r.prototype.writeFloatLE=function(se,ne,we){return ge(this,se,ne,!0,we)},r.prototype.writeFloatBE=function(se,ne,we){return ge(this,se,ne,!1,we)};function Ie(ce,se,ne,we,Ne){return se=+se,ne=ne>>>0,Ne||le(ce,se,ne,8),c.write(ce,se,ne,we,52,8),ne+8}r.prototype.writeDoubleLE=function(se,ne,we){return Ie(this,se,ne,!0,we)},r.prototype.writeDoubleBE=function(se,ne,we){return Ie(this,se,ne,!1,we)},r.prototype.copy=function(se,ne,we,Ne){if(!r.isBuffer(se))throw new TypeError("argument should be a Buffer");if(we||(we=0),!Ne&&Ne!==0&&(Ne=this.length),ne>=se.length&&(ne=se.length),ne||(ne=0),Ne>0&&Ne<we&&(Ne=we),Ne===we||se.length===0||this.length===0)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(we<0||we>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),se.length-ne<Ne-we&&(Ne=se.length-ne+we);var ae=Ne-we;if(this===se&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(ne,we,Ne);else if(this===se&&we<ne&&ne<Ne)for(var Pe=ae-1;Pe>=0;--Pe)se[Pe+ne]=this[Pe+we];else Uint8Array.prototype.set.call(se,this.subarray(we,Ne),ne);return ae},r.prototype.fill=function(se,ne,we,Ne){if(typeof se=="string"){if(typeof ne=="string"?(Ne=ne,ne=0,we=this.length):typeof we=="string"&&(Ne=we,we=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!r.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(se.length===1){var ae=se.charCodeAt(0);(Ne==="utf8"&&ae<128||Ne==="latin1")&&(se=ae)}}else typeof se=="number"&&(se=se&255);if(ne<0||this.length<ne||this.length<we)throw new RangeError("Out of range index");if(we<=ne)return this;ne=ne>>>0,we=we===void 0?this.length:we>>>0,se||(se=0);var Pe;if(typeof se=="number")for(Pe=ne;Pe<we;++Pe)this[Pe]=se;else{var ze=r.isBuffer(se)?se:r.from(se,Ne),ve=ze.length;if(ve===0)throw new TypeError('The value "'+se+'" is invalid for argument "value"');for(Pe=0;Pe<we-ne;++Pe)this[Pe+ne]=ze[Pe%ve]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function Ke(ce){if(ce=ce.split("=")[0],ce=ce.trim().replace(Oe,""),ce.length<2)return"";for(;ce.length%4!==0;)ce=ce+"=";return ce}function De(ce){return ce<16?"0"+ce.toString(16):ce.toString(16)}function Te(ce,se){se=se||1/0;for(var ne,we=ce.length,Ne=null,ae=[],Pe=0;Pe<we;++Pe){if(ne=ce.charCodeAt(Pe),ne>55295&&ne<57344){if(!Ne){if(ne>56319){(se-=3)>-1&&ae.push(239,191,189);continue}else if(Pe+1===we){(se-=3)>-1&&ae.push(239,191,189);continue}Ne=ne;continue}if(ne<56320){(se-=3)>-1&&ae.push(239,191,189),Ne=ne;continue}ne=(Ne-55296<<10|ne-56320)+65536}else Ne&&(se-=3)>-1&&ae.push(239,191,189);if(Ne=null,ne<128){if((se-=1)<0)break;ae.push(ne)}else if(ne<2048){if((se-=2)<0)break;ae.push(ne>>6|192,ne&63|128)}else if(ne<65536){if((se-=3)<0)break;ae.push(ne>>12|224,ne>>6&63|128,ne&63|128)}else if(ne<1114112){if((se-=4)<0)break;ae.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,ne&63|128)}else throw new Error("Invalid code point")}return ae}function Z(ce){for(var se=[],ne=0;ne<ce.length;++ne)se.push(ce.charCodeAt(ne)&255);return se}function ue(ce,se){for(var ne,we,Ne,ae=[],Pe=0;Pe<ce.length&&!((se-=2)<0);++Pe)ne=ce.charCodeAt(Pe),we=ne>>8,Ne=ne%256,ae.push(Ne),ae.push(we);return ae}function Ee(ce){return u.toByteArray(Ke(ce))}function _e(ce,se,ne,we){for(var Ne=0;Ne<we&&!(Ne+ne>=se.length||Ne>=ce.length);++Ne)se[Ne+ne]=ce[Ne];return Ne}function he(ce,se){return ce instanceof se||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===se.name}function de(ce){return ce!==ce}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,m,v){var f=e("safe-buffer").Buffer,u=e("stream").Transform,c=e("string_decoder").StringDecoder,s=e("inherits");function t(i){u.call(this),this.hashMode=typeof i=="string",this.hashMode?this[i]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}s(t,u),t.prototype.update=function(i,r,n){typeof i=="string"&&(i=f.from(i,r));var l=this._update(i);return this.hashMode?this:(n&&(l=this._toString(l,n)),l)},t.prototype.setAutoPadding=function(){},t.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},t.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},t.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},t.prototype._transform=function(i,r,n){var l;try{this.hashMode?this._update(i):this.push(this._update(i))}catch(d){l=d}finally{n(l)}},t.prototype._flush=function(i){var r;try{this.push(this.__final())}catch(n){r=n}i(r)},t.prototype._finalOrDigest=function(i){var r=this.__final()||f.alloc(0);return i&&(r=this._toString(r,i,!0)),r},t.prototype._toString=function(i,r,n){if(this._decoder||(this._decoder=new c(r),this._encoding=r),this._encoding!==r)throw new Error("can't switch encodings");var l=this._decoder.write(i);return n&&(l+=this._decoder.end()),l},m.exports=t},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,m,v){var f=e("../internals/is-callable"),u=e("../internals/try-to-string"),c=TypeError;m.exports=function(s){if(f(s))return s;throw new c(u(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,m,v){var f=e("../internals/is-constructor"),u=e("../internals/try-to-string"),c=TypeError;m.exports=function(s){if(f(s))return s;throw new c(u(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,m,v){var f=e("../internals/is-callable"),u=String,c=TypeError;m.exports=function(s){if(typeof s=="object"||f(s))return s;throw new c("Can't set "+u(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,m,v){var f=e("../internals/well-known-symbol"),u=e("../internals/object-create"),c=e("../internals/object-define-property").f,s=f("unscopables"),t=Array.prototype;t[s]===void 0&&c(t,s,{configurable:!0,value:u(null)}),m.exports=function(i){t[s][i]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,m,v){var f=e("../internals/object-is-prototype-of"),u=TypeError;m.exports=function(c,s){if(f(s,c))return c;throw new u("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,m,v){var f=e("../internals/is-object"),u=String,c=TypeError;m.exports=function(s){if(f(s))return s;throw new c(u(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,m,v){var f=e("../internals/to-indexed-object"),u=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),s=function(t){return function(i,r,n){var l=f(i),d=c(l),o=u(n,d),g;if(t&&r!==r){for(;d>o;)if(g=l[o++],g!==g)return!0}else for(;d>o;o++)if((t||o in l)&&l[o]===r)return t||o||0;return!t&&-1}};m.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,m,v){var f=e("../internals/function-bind-context"),u=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),s=e("../internals/to-object"),t=e("../internals/length-of-array-like"),i=e("../internals/array-species-create"),r=u([].push),n=function(l){var d=l===1,o=l===2,g=l===3,y=l===4,p=l===6,E=l===7,T=l===5||p;return function(S,x,w,I){for(var D=s(S),V=c(D),ie=f(x,w),ee=t(V),te=0,Y=I||i,W=d?Y(S,ee):o||E?Y(S,0):void 0,j,O;ee>te;te++)if((T||te in V)&&(j=V[te],O=ie(j,te,D),l))if(d)W[te]=O;else if(O)switch(l){case 3:return!0;case 5:return j;case 6:return te;case 2:r(W,j)}else switch(l){case 4:return!1;case 7:r(W,j)}return p?-1:g||y?y:W}};m.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,m,v){var f=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),c=e("../internals/create-property"),s=Array,t=Math.max;m.exports=function(i,r,n){for(var l=u(i),d=f(r,l),o=f(n===void 0?l:n,l),g=s(t(o-d,0)),y=0;d<o;d++,y++)c(g,y,i[d]);return g.length=y,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,m,v){var f=e("../internals/function-uncurry-this");m.exports=f([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,m,v){var f=e("../internals/is-array"),u=e("../internals/is-constructor"),c=e("../internals/is-object"),s=e("../internals/well-known-symbol"),t=s("species"),i=Array;m.exports=function(r){var n;return f(r)&&(n=r.constructor,u(n)&&(n===i||f(n.prototype))?n=void 0:c(n)&&(n=n[t],n===null&&(n=void 0))),n===void 0?i:n}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,m,v){var f=e("../internals/array-species-constructor");m.exports=function(u,c){return new(f(u))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,m,v){var f=e("../internals/well-known-symbol"),u=f("iterator"),c=!1;try{var s=0,t={next:function(){return{done:!!s++}},return:function(){c=!0}};t[u]=function(){return this},Array.from(t,function(){throw 2})}catch{}m.exports=function(i,r){try{if(!r&&!c)return!1}catch{return!1}var n=!1;try{var l={};l[u]=function(){return{next:function(){return{done:n=!0}}}},i(l)}catch{}return n}},{"../internals/well-known-symbol":357}],235:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=f({}.toString),c=f("".slice);m.exports=function(s){return c(u(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,m,v){var f=e("../internals/to-string-tag-support"),u=e("../internals/is-callable"),c=e("../internals/classof-raw"),s=e("../internals/well-known-symbol"),t=s("toStringTag"),i=Object,r=c(function(){return arguments}())==="Arguments",n=function(l,d){try{return l[d]}catch{}};m.exports=f?c:function(l){var d,o,g;return l===void 0?"Undefined":l===null?"Null":typeof(o=n(d=i(l),t))=="string"?o:r?c(d):(g=c(d))==="Object"&&u(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,m,v){var f=e("../internals/has-own-property"),u=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),s=e("../internals/object-define-property");m.exports=function(t,i,r){for(var n=u(i),l=s.f,d=c.f,o=0;o<n.length;o++){var g=n[o];!f(t,g)&&!(r&&f(r,g))&&l(t,g,d(i,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,m,v){var f=e("../internals/well-known-symbol"),u=f("match");m.exports=function(c){var s=/./;try{"/./"[c](s)}catch{try{return s[u]=!1,"/./"[c](s)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,m,v){var f=e("../internals/fails");m.exports=!f(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},{"../internals/fails":260}],240:[function(e,m,v){m.exports=function(f,u){return{value:f,done:u}}},{}],241:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");m.exports=f?function(s,t,i){return u.f(s,t,c(1,i))}:function(s,t,i){return s[t]=i,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,m,v){m.exports=function(f,u){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:u}}},{}],243:[function(e,m,v){var f=e("../internals/to-property-key"),u=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");m.exports=function(s,t,i){var r=f(t);r in s?u.f(s,r,c(0,i)):s[r]=i}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,m,v){var f=e("../internals/make-built-in"),u=e("../internals/object-define-property");m.exports=function(c,s,t){return t.get&&f(t.get,s,{getter:!0}),t.set&&f(t.set,s,{setter:!0}),u.f(c,s,t)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,m,v){var f=e("../internals/is-callable"),u=e("../internals/object-define-property"),c=e("../internals/make-built-in"),s=e("../internals/define-global-property");m.exports=function(t,i,r,n){n||(n={});var l=n.enumerable,d=n.name!==void 0?n.name:i;if(f(r)&&c(r,d,n),n.global)l?t[i]=r:s(i,r);else{try{n.unsafe?t[i]&&(l=!0):delete t[i]}catch{}l?t[i]=r:u.f(t,i,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,m,v){var f=e("../internals/global"),u=Object.defineProperty;m.exports=function(c,s){try{u(f,c,{value:s,configurable:!0,writable:!0})}catch{f[c]=s}return s}},{"../internals/global":274}],247:[function(e,m,v){var f=e("../internals/fails");m.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,m,v){var f=typeof document=="object"&&document.all,u=typeof f>"u"&&f!==void 0;m.exports={all:f,IS_HTMLDDA:u}},{}],249:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/is-object"),c=f.document,s=u(c)&&u(c.createElement);m.exports=function(t){return s?c.createElement(t):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,m,v){var f=e("../internals/engine-is-deno"),u=e("../internals/engine-is-node");m.exports=!f&&!u&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,m,v){m.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,m,v){var f=e("../internals/engine-user-agent");m.exports=/ipad|iphone|ipod/i.test(f)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,m,v){var f=e("../internals/engine-user-agent");m.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},{"../internals/engine-user-agent":256}],254:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/classof-raw");m.exports=u(f.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,m,v){var f=e("../internals/engine-user-agent");m.exports=/web0s(?!.*chrome)/i.test(f)},{"../internals/engine-user-agent":256}],256:[function(e,m,v){m.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/engine-user-agent"),c=f.process,s=f.Deno,t=c&&c.versions||s&&s.version,i=t&&t.v8,r,n;i&&(r=i.split("."),n=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&u&&(r=u.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/),r&&(n=+r[1]))),m.exports=n},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,m,v){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),s=e("../internals/define-built-in"),t=e("../internals/define-global-property"),i=e("../internals/copy-constructor-properties"),r=e("../internals/is-forced");m.exports=function(n,l){var d=n.target,o=n.global,g=n.stat,y,p,E,T,S,x;if(o?p=f:g?p=f[d]||t(d,{}):p=(f[d]||{}).prototype,p)for(E in l){if(S=l[E],n.dontCallGetSet?(x=u(p,E),T=x&&x.value):T=p[E],y=r(o?E:d+(g?".":"#")+E,n.forced),!y&&T!==void 0){if(typeof S==typeof T)continue;i(S,T)}(n.sham||T&&T.sham)&&c(S,"sham",!0),s(p,E,S,n)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,m,v){m.exports=function(f){try{return!!f()}catch{return!0}}},{}],261:[function(e,m,v){var f=e("../internals/function-bind-native"),u=Function.prototype,c=u.apply,s=u.call;m.exports=typeof Reflect=="object"&&Reflect.apply||(f?s.bind(c):function(){return s.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,m,v){var f=e("../internals/function-uncurry-this-clause"),u=e("../internals/a-callable"),c=e("../internals/function-bind-native"),s=f(f.bind);m.exports=function(t,i){return u(t),i===void 0?t:c?s(t,i):function(){return t.apply(i,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,m,v){var f=e("../internals/fails");m.exports=!f(function(){var u=(function(){}).bind();return typeof u!="function"||u.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,m,v){var f=e("../internals/function-bind-native"),u=Function.prototype.call;m.exports=f?u.bind(u):function(){return u.apply(u,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/has-own-property"),c=Function.prototype,s=f&&Object.getOwnPropertyDescriptor,t=u(c,"name"),i=t&&(function(){}).name==="something",r=t&&(!f||f&&s(c,"name").configurable);m.exports={EXISTS:t,PROPER:i,CONFIGURABLE:r}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/a-callable");m.exports=function(c,s,t){try{return f(u(Object.getOwnPropertyDescriptor(c,s)[t]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,m,v){var f=e("../internals/classof-raw"),u=e("../internals/function-uncurry-this");m.exports=function(c){if(f(c)==="Function")return u(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,m,v){var f=e("../internals/function-bind-native"),u=Function.prototype,c=u.call,s=f&&u.bind.bind(c,c);m.exports=f?s:function(t){return function(){return c.apply(t,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/is-callable"),c=function(s){return u(s)?s:void 0};m.exports=function(s,t){return arguments.length<2?c(f[s]):f[s]&&f[s][t]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,m,v){var f=e("../internals/classof"),u=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),s=e("../internals/iterators"),t=e("../internals/well-known-symbol"),i=t("iterator");m.exports=function(r){if(!c(r))return u(r,i)||u(r,"@@iterator")||s[f(r)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,m,v){var f=e("../internals/function-call"),u=e("../internals/a-callable"),c=e("../internals/an-object"),s=e("../internals/try-to-string"),t=e("../internals/get-iterator-method"),i=TypeError;m.exports=function(r,n){var l=arguments.length<2?t(r):n;if(u(l))return c(f(l,r));throw new i(s(r)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/is-array"),c=e("../internals/is-callable"),s=e("../internals/classof-raw"),t=e("../internals/to-string"),i=f([].push);m.exports=function(r){if(c(r))return r;if(u(r)){for(var n=r.length,l=[],d=0;d<n;d++){var o=r[d];typeof o=="string"?i(l,o):(typeof o=="number"||s(o)==="Number"||s(o)==="String")&&i(l,t(o))}var g=l.length,y=!0;return function(p,E){if(y)return y=!1,E;if(u(this))return E;for(var T=0;T<g;T++)if(l[T]===p)return E}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,m,v){var f=e("../internals/a-callable"),u=e("../internals/is-null-or-undefined");m.exports=function(c,s){var t=c[s];return u(t)?void 0:f(t)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,m,v){(function(f){(function(){var u=function(c){return c&&c.Math===Math&&c};m.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof f=="object"&&f)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/to-object"),c=f({}.hasOwnProperty);m.exports=Object.hasOwn||function(t,i){return c(u(t),i)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,m,v){m.exports={}},{}],277:[function(e,m,v){m.exports=function(f,u){try{arguments.length===1?console.error(f):console.error(f,u)}catch{}}},{}],278:[function(e,m,v){var f=e("../internals/get-built-in");m.exports=f("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/fails"),c=e("../internals/document-create-element");m.exports=!f&&!u(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/fails"),c=e("../internals/classof-raw"),s=Object,t=f("".split);m.exports=u(function(){return!s("z").propertyIsEnumerable(0)})?function(i){return c(i)==="String"?t(i,""):s(i)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/is-callable"),c=e("../internals/shared-store"),s=f(Function.toString);u(c.inspectSource)||(c.inspectSource=function(t){return s(t)}),m.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,m,v){var f=e("../internals/weak-map-basic-detection"),u=e("../internals/global"),c=e("../internals/is-object"),s=e("../internals/create-non-enumerable-property"),t=e("../internals/has-own-property"),i=e("../internals/shared-store"),r=e("../internals/shared-key"),n=e("../internals/hidden-keys"),l="Object already initialized",d=u.TypeError,o=u.WeakMap,g,y,p,E=function(w){return p(w)?y(w):g(w,{})},T=function(w){return function(I){var D;if(!c(I)||(D=y(I)).type!==w)throw new d("Incompatible receiver, "+w+" required");return D}};if(f||i.state){var S=i.state||(i.state=new o);S.get=S.get,S.has=S.has,S.set=S.set,g=function(w,I){if(S.has(w))throw new d(l);return I.facade=w,S.set(w,I),I},y=function(w){return S.get(w)||{}},p=function(w){return S.has(w)}}else{var x=r("state");n[x]=!0,g=function(w,I){if(t(w,x))throw new d(l);return I.facade=w,s(w,x,I),I},y=function(w){return t(w,x)?w[x]:{}},p=function(w){return t(w,x)}}m.exports={set:g,get:y,has:p,enforce:E,getterFor:T}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,m,v){var f=e("../internals/well-known-symbol"),u=e("../internals/iterators"),c=f("iterator"),s=Array.prototype;m.exports=function(t){return t!==void 0&&(u.Array===t||s[c]===t)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,m,v){var f=e("../internals/classof-raw");m.exports=Array.isArray||function(c){return f(c)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,m,v){var f=e("../internals/document-all"),u=f.all;m.exports=f.IS_HTMLDDA?function(c){return typeof c=="function"||c===u}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/fails"),c=e("../internals/is-callable"),s=e("../internals/classof"),t=e("../internals/get-built-in"),i=e("../internals/inspect-source"),r=function(){},n=[],l=t("Reflect","construct"),d=/^\s*(?:class|function)\b/,o=f(d.exec),g=!d.test(r),y=function(T){if(!c(T))return!1;try{return l(r,n,T),!0}catch{return!1}},p=function(T){if(!c(T))return!1;switch(s(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!o(d,i(T))}catch{return!0}};p.sham=!0,m.exports=!l||u(function(){var E;return y(y.call)||!y(Object)||!y(function(){E=!0})||E})?p:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,m,v){var f=e("../internals/fails"),u=e("../internals/is-callable"),c=/#|\.prototype\./,s=function(l,d){var o=i[t(l)];return o===n?!0:o===r?!1:u(d)?f(d):!!d},t=s.normalize=function(l){return String(l).replace(c,".").toLowerCase()},i=s.data={},r=s.NATIVE="N",n=s.POLYFILL="P";m.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,m,v){m.exports=function(f){return f==null}},{}],289:[function(e,m,v){var f=e("../internals/is-callable"),u=e("../internals/document-all"),c=u.all;m.exports=u.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:f(s)||s===c}:function(s){return typeof s=="object"?s!==null:f(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,m,v){m.exports=!1},{}],291:[function(e,m,v){var f=e("../internals/is-object"),u=e("../internals/classof-raw"),c=e("../internals/well-known-symbol"),s=c("match");m.exports=function(t){var i;return f(t)&&((i=t[s])!==void 0?!!i:u(t)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,m,v){var f=e("../internals/get-built-in"),u=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),s=e("../internals/use-symbol-as-uid"),t=Object;m.exports=s?function(i){return typeof i=="symbol"}:function(i){var r=f("Symbol");return u(r)&&c(r.prototype,t(i))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,m,v){var f=e("../internals/function-bind-context"),u=e("../internals/function-call"),c=e("../internals/an-object"),s=e("../internals/try-to-string"),t=e("../internals/is-array-iterator-method"),i=e("../internals/length-of-array-like"),r=e("../internals/object-is-prototype-of"),n=e("../internals/get-iterator"),l=e("../internals/get-iterator-method"),d=e("../internals/iterator-close"),o=TypeError,g=function(p,E){this.stopped=p,this.result=E},y=g.prototype;m.exports=function(p,E,T){var S=T&&T.that,x=!!(T&&T.AS_ENTRIES),w=!!(T&&T.IS_RECORD),I=!!(T&&T.IS_ITERATOR),D=!!(T&&T.INTERRUPTED),V=f(E,S),ie,ee,te,Y,W,j,O,k=function(H){return ie&&d(ie,"normal",H),new g(!0,H)},B=function(H){return x?(c(H),D?V(H[0],H[1],k):V(H[0],H[1])):D?V(H,k):V(H)};if(w)ie=p.iterator;else if(I)ie=p;else{if(ee=l(p),!ee)throw new o(s(p)+" is not iterable");if(t(ee)){for(te=0,Y=i(p);Y>te;te++)if(W=B(p[te]),W&&r(y,W))return W;return new g(!1)}ie=n(p,ee)}for(j=w?p.next:ie.next;!(O=u(j,ie)).done;){try{W=B(O.value)}catch(H){d(ie,"throw",H)}if(typeof W=="object"&&W&&r(y,W))return W}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,m,v){var f=e("../internals/function-call"),u=e("../internals/an-object"),c=e("../internals/get-method");m.exports=function(s,t,i){var r,n;u(s);try{if(r=c(s,"return"),!r){if(t==="throw")throw i;return i}r=f(r,s)}catch(l){n=!0,r=l}if(t==="throw")throw i;if(n)throw r;return u(r),i}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,m,v){var f=e("../internals/iterators-core").IteratorPrototype,u=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),t=e("../internals/iterators"),i=function(){return this};m.exports=function(r,n,l,d){var o=n+" Iterator";return r.prototype=u(f,{next:c(+!d,l)}),s(r,o,!1,!0),t[o]=i,r}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/function-call"),c=e("../internals/is-pure"),s=e("../internals/function-name"),t=e("../internals/is-callable"),i=e("../internals/iterator-create-constructor"),r=e("../internals/object-get-prototype-of"),n=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),d=e("../internals/create-non-enumerable-property"),o=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),y=e("../internals/iterators"),p=e("../internals/iterators-core"),E=s.PROPER,T=s.CONFIGURABLE,S=p.IteratorPrototype,x=p.BUGGY_SAFARI_ITERATORS,w=g("iterator"),I="keys",D="values",V="entries",ie=function(){return this};m.exports=function(ee,te,Y,W,j,O,k){i(Y,te,W);var B=function(Ie){if(Ie===j&&F)return F;if(!x&&Ie&&Ie in K)return K[Ie];switch(Ie){case I:return function(){return new Y(this,Ie)};case D:return function(){return new Y(this,Ie)};case V:return function(){return new Y(this,Ie)}}return function(){return new Y(this)}},H=te+" Iterator",$=!1,K=ee.prototype,z=K[w]||K["@@iterator"]||j&&K[j],F=!x&&z||B(j),L=te==="Array"&&K.entries||z,G,le,ge;if(L&&(G=r(L.call(new ee)),G!==Object.prototype&&G.next&&(!c&&r(G)!==S&&(n?n(G,S):t(G[w])||o(G,w,ie)),l(G,H,!0,!0),c&&(y[H]=ie))),E&&j===D&&z&&z.name!==D&&(!c&&T?d(K,"name",D):($=!0,F=function(){return u(z,this)})),j)if(le={values:B(D),keys:O?F:B(I),entries:B(V)},k)for(ge in le)(x||$||!(ge in K))&&o(K,ge,le[ge]);else f({target:te,proto:!0,forced:x||$},le);return(!c||k)&&K[w]!==F&&o(K,w,F,{name:j}),y[te]=F,le}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,m,v){var f=e("../internals/fails"),u=e("../internals/is-callable"),c=e("../internals/is-object"),s=e("../internals/object-create"),t=e("../internals/object-get-prototype-of"),i=e("../internals/define-built-in"),r=e("../internals/well-known-symbol"),n=e("../internals/is-pure"),l=r("iterator"),d=!1,o,g,y;[].keys&&(y=[].keys(),"next"in y?(g=t(t(y)),g!==Object.prototype&&(o=g)):d=!0);var p=!c(o)||f(function(){var E={};return o[l].call(E)!==E});p?o={}:n&&(o=s(o)),u(o[l])||i(o,l,function(){return this}),m.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:d}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,m,v){arguments[4][276][0].apply(v,arguments)},{dup:276}],299:[function(e,m,v){var f=e("../internals/to-length");m.exports=function(u){return f(u.length)}},{"../internals/to-length":343}],300:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/fails"),c=e("../internals/is-callable"),s=e("../internals/has-own-property"),t=e("../internals/descriptors"),i=e("../internals/function-name").CONFIGURABLE,r=e("../internals/inspect-source"),n=e("../internals/internal-state"),l=n.enforce,d=n.get,o=String,g=Object.defineProperty,y=f("".slice),p=f("".replace),E=f([].join),T=t&&!u(function(){return g(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),x=m.exports=function(w,I,D){y(o(I),0,7)==="Symbol("&&(I="["+p(o(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),D&&D.getter&&(I="get "+I),D&&D.setter&&(I="set "+I),(!s(w,"name")||i&&w.name!==I)&&(t?g(w,"name",{value:I,configurable:!0}):w.name=I),T&&D&&s(D,"arity")&&w.length!==D.arity&&g(w,"length",{value:D.arity});try{D&&s(D,"constructor")&&D.constructor?t&&g(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var V=l(w);return s(V,"source")||(V.source=E(S,typeof I=="string"?I:"")),w};Function.prototype.toString=x(function(){return c(this)&&d(this).source||r(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,m,v){var f=Math.ceil,u=Math.floor;m.exports=Math.trunc||function(s){var t=+s;return(t>0?u:f)(t)}},{}],302:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/function-bind-context"),c=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/task").set,t=e("../internals/queue"),i=e("../internals/engine-is-ios"),r=e("../internals/engine-is-ios-pebble"),n=e("../internals/engine-is-webos-webkit"),l=e("../internals/engine-is-node"),d=f.MutationObserver||f.WebKitMutationObserver,o=f.document,g=f.process,y=f.Promise,p=c(f,"queueMicrotask"),E=p&&p.value,T,S,x,w,I;if(!E){var D=new t,V=function(){var ie,ee;for(l&&(ie=g.domain)&&ie.exit();ee=D.get();)try{ee()}catch(te){throw D.head&&T(),te}ie&&ie.enter()};!i&&!l&&!n&&d&&o?(S=!0,x=o.createTextNode(""),new d(V).observe(x,{characterData:!0}),T=function(){x.data=S=!S}):!r&&y&&y.resolve?(w=y.resolve(void 0),w.constructor=y,I=u(w.then,w),T=function(){I(V)}):l?T=function(){g.nextTick(V)}:(s=u(s,f),T=function(){s(V)}),E=function(ie){D.head||T(),D.add(ie)}}m.exports=E},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,m,v){var f=e("../internals/a-callable"),u=TypeError,c=function(s){var t,i;this.promise=new s(function(r,n){if(t!==void 0||i!==void 0)throw new u("Bad Promise constructor");t=r,i=n}),this.resolve=f(t),this.reject=f(i)};m.exports.f=function(s){return new c(s)}},{"../internals/a-callable":222}],304:[function(e,m,v){var f=e("../internals/is-regexp"),u=TypeError;m.exports=function(c){if(f(c))throw new u("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),s=e("../internals/fails"),t=e("../internals/object-keys"),i=e("../internals/object-get-own-property-symbols"),r=e("../internals/object-property-is-enumerable"),n=e("../internals/to-object"),l=e("../internals/indexed-object"),d=Object.assign,o=Object.defineProperty,g=u([].concat);m.exports=!d||s(function(){if(f&&d({b:1},d(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},p={},E=Symbol("assign detection"),T="abcdefghijklmnopqrst";return y[E]=7,T.split("").forEach(function(S){p[S]=S}),d({},y)[E]!==7||t(d({},p)).join("")!==T})?function(p,E){for(var T=n(p),S=arguments.length,x=1,w=i.f,I=r.f;S>x;)for(var D=l(arguments[x++]),V=w?g(t(D),w(D)):t(D),ie=V.length,ee=0,te;ie>ee;)te=V[ee++],(!f||c(I,D,te))&&(T[te]=D[te]);return T}:d},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,m,v){var f=e("../internals/an-object"),u=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),s=e("../internals/hidden-keys"),t=e("../internals/html"),i=e("../internals/document-create-element"),r=e("../internals/shared-key"),n=">",l="<",d="prototype",o="script",g=r("IE_PROTO"),y=function(){},p=function(w){return l+o+n+w+l+"/"+o+n},E=function(w){w.write(p("")),w.close();var I=w.parentWindow.Object;return w=null,I},T=function(){var w=i("iframe"),I="java"+o+":",D;return w.style.display="none",t.appendChild(w),w.src=String(I),D=w.contentWindow.document,D.open(),D.write(p("document.F=Object")),D.close(),D.F},S,x=function(){try{S=new ActiveXObject("htmlfile")}catch{}x=typeof document<"u"?document.domain&&S?E(S):T():E(S);for(var w=c.length;w--;)delete x[d][c[w]];return x()};s[g]=!0,m.exports=Object.create||function(I,D){var V;return I!==null?(y[d]=f(I),V=new y,y[d]=null,V[g]=I):V=x(),D===void 0?V:u.f(V,D)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),s=e("../internals/an-object"),t=e("../internals/to-indexed-object"),i=e("../internals/object-keys");v.f=f&&!u?Object.defineProperties:function(n,l){s(n);for(var d=t(l),o=i(l),g=o.length,y=0,p;g>y;)c.f(n,p=o[y++],d[p]);return n}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),s=e("../internals/an-object"),t=e("../internals/to-property-key"),i=TypeError,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l="enumerable",d="configurable",o="writable";v.f=f?c?function(y,p,E){if(s(y),p=t(p),s(E),typeof y=="function"&&p==="prototype"&&"value"in E&&o in E&&!E[o]){var T=n(y,p);T&&T[o]&&(y[p]=E.value,E={configurable:d in E?E[d]:T[d],enumerable:l in E?E[l]:T[l],writable:!1})}return r(y,p,E)}:r:function(y,p,E){if(s(y),p=t(p),s(E),u)try{return r(y,p,E)}catch{}if("get"in E||"set"in E)throw new i("Accessors not supported");return"value"in E&&(y[p]=E.value),y}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),t=e("../internals/to-indexed-object"),i=e("../internals/to-property-key"),r=e("../internals/has-own-property"),n=e("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;v.f=f?l:function(o,g){if(o=t(o),g=i(g),n)try{return l(o,g)}catch{}if(r(o,g))return s(!u(c.f,o,g),o[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,m,v){var f=e("../internals/classof-raw"),u=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,s=e("../internals/array-slice-simple"),t=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(r){try{return c(r)}catch{return s(t)}};m.exports.f=function(n){return t&&f(n)==="Window"?i(n):c(u(n))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,m,v){var f=e("../internals/object-keys-internal"),u=e("../internals/enum-bug-keys"),c=u.concat("length","prototype");v.f=Object.getOwnPropertyNames||function(t){return f(t,c)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,m,v){v.f=Object.getOwnPropertySymbols},{}],313:[function(e,m,v){var f=e("../internals/has-own-property"),u=e("../internals/is-callable"),c=e("../internals/to-object"),s=e("../internals/shared-key"),t=e("../internals/correct-prototype-getter"),i=s("IE_PROTO"),r=Object,n=r.prototype;m.exports=t?r.getPrototypeOf:function(l){var d=c(l);if(f(d,i))return d[i];var o=d.constructor;return u(o)&&d instanceof o?o.prototype:d instanceof r?n:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,m,v){var f=e("../internals/function-uncurry-this");m.exports=f({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,t=e("../internals/hidden-keys"),i=f([].push);m.exports=function(r,n){var l=c(r),d=0,o=[],g;for(g in l)!u(t,g)&&u(l,g)&&i(o,g);for(;n.length>d;)u(l,g=n[d++])&&(~s(o,g)||i(o,g));return o}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,m,v){var f=e("../internals/object-keys-internal"),u=e("../internals/enum-bug-keys");m.exports=Object.keys||function(s){return f(s,u)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,m,v){var f={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c=u&&!f.call({1:2},1);v.f=c?function(t){var i=u(this,t);return!!i&&i.enumerable}:f},{}],318:[function(e,m,v){var f=e("../internals/function-uncurry-this-accessor"),u=e("../internals/an-object"),c=e("../internals/a-possible-prototype");m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,t={},i;try{i=f(Object.prototype,"__proto__","set"),i(t,[]),s=t instanceof Array}catch{}return function(n,l){return u(n),c(l),s?i(n,l):n.__proto__=l,n}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/fails"),c=e("../internals/function-uncurry-this"),s=e("../internals/object-get-prototype-of"),t=e("../internals/object-keys"),i=e("../internals/to-indexed-object"),r=e("../internals/object-property-is-enumerable").f,n=c(r),l=c([].push),d=f&&u(function(){var g=Object.create(null);return g[2]=2,!n(g,2)}),o=function(g){return function(y){for(var p=i(y),E=t(p),T=d&&s(p)===null,S=E.length,x=0,w=[],I;S>x;)I=E[x++],(!f||(T?I in p:n(p,I)))&&l(w,g?[I,p[I]]:p[I]);return w}};m.exports={entries:o(!0),values:o(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,m,v){var f=e("../internals/function-call"),u=e("../internals/is-callable"),c=e("../internals/is-object"),s=TypeError;m.exports=function(t,i){var r,n;if(i==="string"&&u(r=t.toString)&&!c(n=f(r,t))||u(r=t.valueOf)&&!c(n=f(r,t))||i!=="string"&&u(r=t.toString)&&!c(n=f(r,t)))return n;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,m,v){var f=e("../internals/get-built-in"),u=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),t=e("../internals/an-object"),i=u([].concat);m.exports=f("Reflect","ownKeys")||function(n){var l=c.f(t(n)),d=s.f;return d?i(l,d(n)):l}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,m,v){var f=e("../internals/global");m.exports=f},{"../internals/global":274}],323:[function(e,m,v){m.exports=function(f){try{return{error:!1,value:f()}}catch(u){return{error:!0,value:u}}}},{}],324:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),s=e("../internals/is-forced"),t=e("../internals/inspect-source"),i=e("../internals/well-known-symbol"),r=e("../internals/engine-is-browser"),n=e("../internals/engine-is-deno"),l=e("../internals/is-pure"),d=e("../internals/engine-v8-version"),o=u&&u.prototype,g=i("species"),y=!1,p=c(f.PromiseRejectionEvent),E=s("Promise",function(){var T=t(u),S=T!==String(u);if(!S&&d===66||l&&!(o.catch&&o.finally))return!0;if(!d||d<51||!/native code/.test(T)){var x=new u(function(D){D(1)}),w=function(D){D(function(){},function(){})},I=x.constructor={};if(I[g]=w,y=x.then(function(){})instanceof w,!y)return!0}return!S&&(r||n)&&!p});m.exports={CONSTRUCTOR:E,REJECTION_EVENT:p,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,m,v){var f=e("../internals/global");m.exports=f.Promise},{"../internals/global":274}],326:[function(e,m,v){var f=e("../internals/an-object"),u=e("../internals/is-object"),c=e("../internals/new-promise-capability");m.exports=function(s,t){if(f(s),u(t)&&t.constructor===s)return t;var i=c.f(s),r=i.resolve;return r(t),i.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,m,v){var f=e("../internals/promise-native-constructor"),u=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;m.exports=c||!u(function(s){f.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,m,v){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(u){var c={item:u,next:null},s=this.tail;s?s.next=c:this.head=c,this.tail=c},get:function(){var u=this.head;if(u){var c=this.head=u.next;return c===null&&(this.tail=null),u.item}}},m.exports=f},{}],329:[function(e,m,v){var f=e("../internals/is-null-or-undefined"),u=TypeError;m.exports=function(c){if(f(c))throw new u("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,m,v){var f=e("../internals/get-built-in"),u=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),t=c("species");m.exports=function(i){var r=f(i);s&&r&&!r[t]&&u(r,t,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,m,v){var f=e("../internals/object-define-property").f,u=e("../internals/has-own-property"),c=e("../internals/well-known-symbol"),s=c("toStringTag");m.exports=function(t,i,r){t&&!r&&(t=t.prototype),t&&!u(t,s)&&f(t,s,{configurable:!0,value:i})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,m,v){var f=e("../internals/shared"),u=e("../internals/uid"),c=f("keys");m.exports=function(s){return c[s]||(c[s]=u(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/define-global-property"),c="__core-js_shared__",s=f[c]||u(c,{});m.exports=s},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,m,v){var f=e("../internals/is-pure"),u=e("../internals/shared-store");(m.exports=function(c,s){return u[c]||(u[c]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:f?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,m,v){var f=e("../internals/an-object"),u=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),s=e("../internals/well-known-symbol"),t=s("species");m.exports=function(i,r){var n=f(i).constructor,l;return n===void 0||c(l=f(n)[t])?r:u(l)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,m,v){var f=e("../internals/engine-v8-version"),u=e("../internals/fails"),c=e("../internals/global"),s=c.String;m.exports=!!Object.getOwnPropertySymbols&&!u(function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&f&&f<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,m,v){var f=e("../internals/function-call"),u=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),s=e("../internals/define-built-in");m.exports=function(){var t=u("Symbol"),i=t&&t.prototype,r=i&&i.valueOf,n=c("toPrimitive");i&&!i[n]&&s(i,n,function(l){return f(r,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,m,v){var f=e("../internals/symbol-constructor-detection");m.exports=f&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/function-apply"),c=e("../internals/function-bind-context"),s=e("../internals/is-callable"),t=e("../internals/has-own-property"),i=e("../internals/fails"),r=e("../internals/html"),n=e("../internals/array-slice"),l=e("../internals/document-create-element"),d=e("../internals/validate-arguments-length"),o=e("../internals/engine-is-ios"),g=e("../internals/engine-is-node"),y=f.setImmediate,p=f.clearImmediate,E=f.process,T=f.Dispatch,S=f.Function,x=f.MessageChannel,w=f.String,I=0,D={},V="onreadystatechange",ie,ee,te,Y;i(function(){ie=f.location});var W=function(B){if(t(D,B)){var H=D[B];delete D[B],H()}},j=function(B){return function(){W(B)}},O=function(B){W(B.data)},k=function(B){f.postMessage(w(B),ie.protocol+"//"+ie.host)};(!y||!p)&&(y=function(H){d(arguments.length,1);var $=s(H)?H:S(H),K=n(arguments,1);return D[++I]=function(){u($,void 0,K)},ee(I),I},p=function(H){delete D[H]},g?ee=function(B){E.nextTick(j(B))}:T&&T.now?ee=function(B){T.now(j(B))}:x&&!o?(te=new x,Y=te.port2,te.port1.onmessage=O,ee=c(Y.postMessage,Y)):f.addEventListener&&s(f.postMessage)&&!f.importScripts&&ie&&ie.protocol!=="file:"&&!i(k)?(ee=k,f.addEventListener("message",O,!1)):V in l("script")?ee=function(B){r.appendChild(l("script"))[V]=function(){r.removeChild(this),W(B)}}:ee=function(B){setTimeout(j(B),0)}),m.exports={set:y,clear:p}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,m,v){var f=e("../internals/to-integer-or-infinity"),u=Math.max,c=Math.min;m.exports=function(s,t){var i=f(s);return i<0?u(i+t,0):c(i,t)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,m,v){var f=e("../internals/indexed-object"),u=e("../internals/require-object-coercible");m.exports=function(c){return f(u(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,m,v){var f=e("../internals/math-trunc");m.exports=function(u){var c=+u;return c!==c||c===0?0:f(c)}},{"../internals/math-trunc":301}],343:[function(e,m,v){var f=e("../internals/to-integer-or-infinity"),u=Math.min;m.exports=function(c){return c>0?u(f(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,m,v){var f=e("../internals/require-object-coercible"),u=Object;m.exports=function(c){return u(f(c))}},{"../internals/require-object-coercible":329}],345:[function(e,m,v){var f=e("../internals/function-call"),u=e("../internals/is-object"),c=e("../internals/is-symbol"),s=e("../internals/get-method"),t=e("../internals/ordinary-to-primitive"),i=e("../internals/well-known-symbol"),r=TypeError,n=i("toPrimitive");m.exports=function(l,d){if(!u(l)||c(l))return l;var o=s(l,n),g;if(o){if(d===void 0&&(d="default"),g=f(o,l,d),!u(g)||c(g))return g;throw new r("Can't convert object to primitive value")}return d===void 0&&(d="number"),t(l,d)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,m,v){var f=e("../internals/to-primitive"),u=e("../internals/is-symbol");m.exports=function(c){var s=f(c,"string");return u(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,m,v){var f=e("../internals/well-known-symbol"),u=f("toStringTag"),c={};c[u]="z",m.exports=String(c)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,m,v){var f=e("../internals/classof"),u=String;m.exports=function(c){if(f(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return u(c)}},{"../internals/classof":236}],349:[function(e,m,v){var f=String;m.exports=function(u){try{return f(u)}catch{return"Object"}}},{}],350:[function(e,m,v){var f=e("../internals/function-uncurry-this"),u=0,c=Math.random(),s=f(1 .toString);m.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+s(++u+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,m,v){var f=e("../internals/symbol-constructor-detection");m.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,m,v){var f=e("../internals/descriptors"),u=e("../internals/fails");m.exports=f&&u(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,m,v){var f=TypeError;m.exports=function(u,c){if(u<c)throw new f("Not enough arguments");return u}},{}],354:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/is-callable"),c=f.WeakMap;m.exports=u(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,m,v){var f=e("../internals/path"),u=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;m.exports=function(t){var i=f.Symbol||(f.Symbol={});u(i,t)||s(i,t,{value:c.f(t)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,m,v){var f=e("../internals/well-known-symbol");v.f=f},{"../internals/well-known-symbol":357}],357:[function(e,m,v){var f=e("../internals/global"),u=e("../internals/shared"),c=e("../internals/has-own-property"),s=e("../internals/uid"),t=e("../internals/symbol-constructor-detection"),i=e("../internals/use-symbol-as-uid"),r=f.Symbol,n=u("wks"),l=i?r.for||r:r&&r.withoutSetter||s;m.exports=function(d){return c(n,d)||(n[d]=t&&c(r,d)?r[d]:l("Symbol."+d)),n[d]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),s="findIndex",t=!0;s in[]&&Array(1)[s](function(){t=!1}),f({target:"Array",proto:!0,forced:t},{findIndex:function(r){return u(this,r,arguments.length>1?arguments[1]:void 0)}}),c(s)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),s="find",t=!0;s in[]&&Array(1)[s](function(){t=!1}),f({target:"Array",proto:!0,forced:t},{find:function(r){return u(this,r,arguments.length>1?arguments[1]:void 0)}}),c(s)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/array-includes").includes,c=e("../internals/fails"),s=e("../internals/add-to-unscopables"),t=c(function(){return!Array(1).includes()});f({target:"Array",proto:!0,forced:t},{includes:function(r){return u(this,r,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,m,v){var f=e("../internals/to-indexed-object"),u=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),s=e("../internals/internal-state"),t=e("../internals/object-define-property").f,i=e("../internals/iterator-define"),r=e("../internals/create-iter-result-object"),n=e("../internals/is-pure"),l=e("../internals/descriptors"),d="Array Iterator",o=s.set,g=s.getterFor(d);m.exports=i(Array,"Array",function(p,E){o(this,{type:d,target:f(p),index:0,kind:E})},function(){var p=g(this),E=p.target,T=p.kind,S=p.index++;if(!E||S>=E.length)return p.target=void 0,r(void 0,!0);switch(T){case"keys":return r(S,!1);case"values":return r(E[S],!1)}return r([S,E[S]],!1)},"values");var y=c.Arguments=c.Array;if(u("keys"),u("values"),u("entries"),!n&&l&&y.name!=="values")try{t(y,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/get-built-in"),c=e("../internals/function-apply"),s=e("../internals/function-call"),t=e("../internals/function-uncurry-this"),i=e("../internals/fails"),r=e("../internals/is-callable"),n=e("../internals/is-symbol"),l=e("../internals/array-slice"),d=e("../internals/get-json-replacer-function"),o=e("../internals/symbol-constructor-detection"),g=String,y=u("JSON","stringify"),p=t(/./.exec),E=t("".charAt),T=t("".charCodeAt),S=t("".replace),x=t(1 .toString),w=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,V=!o||i(function(){var Y=u("Symbol")("stringify detection");return y([Y])!=="[null]"||y({a:Y})!=="{}"||y(Object(Y))!=="{}"}),ie=i(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),ee=function(Y,W){var j=l(arguments),O=d(W);if(!(!r(O)&&(Y===void 0||n(Y))))return j[1]=function(k,B){if(r(O)&&(B=s(O,this,g(k),B)),!n(B))return B},c(y,null,j)},te=function(Y,W,j){var O=E(j,W-1),k=E(j,W+1);return p(I,Y)&&!p(D,k)||p(D,Y)&&!p(I,O)?"\\u"+x(T(Y,0),16):Y};y&&f({target:"JSON",stat:!0,arity:3,forced:V||ie},{stringify:function(W,j,O){var k=l(arguments),B=c(V?ee:y,null,k);return ie&&typeof B=="string"?S(B,w,te):B}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,m,v){var f=e("../internals/export");f({target:"Number",stat:!0},{isNaN:function(c){return c!==c}})},{"../internals/export":259}],364:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/object-assign");f({target:"Object",stat:!0,arity:2,forced:Object.assign!==u},{assign:u})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),s=e("../internals/object-get-own-property-symbols"),t=e("../internals/to-object"),i=!u||c(function(){s.f(1)});f({target:"Object",stat:!0,forced:i},{getOwnPropertySymbols:function(n){var l=s.f;return l?l(t(n)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/to-object"),c=e("../internals/object-keys"),s=e("../internals/fails"),t=s(function(){c(1)});f({target:"Object",stat:!0,forced:t},{keys:function(r){return c(u(r))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/object-to-array").values;f({target:"Object",stat:!0},{values:function(s){return u(s)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/function-call"),c=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),t=e("../internals/perform"),i=e("../internals/iterate"),r=e("../internals/promise-statics-incorrect-iteration");f({target:"Promise",stat:!0,forced:r},{all:function(l){var d=this,o=s.f(d),g=o.resolve,y=o.reject,p=t(function(){var E=c(d.resolve),T=[],S=0,x=1;i(l,function(w){var I=S++,D=!1;x++,u(E,d,w).then(function(V){D||(D=!0,T[I]=V,--x||g(T))},y)}),--x||g(T)});return p.error&&y(p.value),o.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,s=e("../internals/promise-native-constructor"),t=e("../internals/get-built-in"),i=e("../internals/is-callable"),r=e("../internals/define-built-in"),n=s&&s.prototype;if(f({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(d){return this.then(void 0,d)}}),!u&&i(s)){var l=t("Promise").prototype.catch;n.catch!==l&&r(n,"catch",l,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/is-pure"),c=e("../internals/engine-is-node"),s=e("../internals/global"),t=e("../internals/function-call"),i=e("../internals/define-built-in"),r=e("../internals/object-set-prototype-of"),n=e("../internals/set-to-string-tag"),l=e("../internals/set-species"),d=e("../internals/a-callable"),o=e("../internals/is-callable"),g=e("../internals/is-object"),y=e("../internals/an-instance"),p=e("../internals/species-constructor"),E=e("../internals/task").set,T=e("../internals/microtask"),S=e("../internals/host-report-errors"),x=e("../internals/perform"),w=e("../internals/queue"),I=e("../internals/internal-state"),D=e("../internals/promise-native-constructor"),V=e("../internals/promise-constructor-detection"),ie=e("../internals/new-promise-capability"),ee="Promise",te=V.CONSTRUCTOR,Y=V.REJECTION_EVENT,W=V.SUBCLASSING,j=I.getterFor(ee),O=I.set,k=D&&D.prototype,B=D,H=k,$=s.TypeError,K=s.document,z=s.process,F=ie.f,L=F,G=!!(K&&K.createEvent&&s.dispatchEvent),le="unhandledrejection",ge="rejectionhandled",Ie=0,Oe=1,Ke=2,De=1,Te=2,Z,ue,Ee,_e,he=function(ve){var Ae;return g(ve)&&o(Ae=ve.then)?Ae:!1},de=function(ve,Ae){var Fe=Ae.value,We=Ae.state===Oe,Je=We?ve.ok:ve.fail,Ge=ve.resolve,et=ve.reject,ut=ve.domain,at,Be,Qe;try{Je?(We||(Ae.rejection===Te&&Ne(Ae),Ae.rejection=De),Je===!0?at=Fe:(ut&&ut.enter(),at=Je(Fe),ut&&(ut.exit(),Qe=!0)),at===ve.promise?et(new $("Promise-chain cycle")):(Be=he(at))?t(Be,at,Ge,et):Ge(at)):et(Fe)}catch(rt){ut&&!Qe&&ut.exit(),et(rt)}},ce=function(ve,Ae){ve.notified||(ve.notified=!0,T(function(){for(var Fe=ve.reactions,We;We=Fe.get();)de(We,ve);ve.notified=!1,Ae&&!ve.rejection&&ne(ve)}))},se=function(ve,Ae,Fe){var We,Je;G?(We=K.createEvent("Event"),We.promise=Ae,We.reason=Fe,We.initEvent(ve,!1,!0),s.dispatchEvent(We)):We={promise:Ae,reason:Fe},!Y&&(Je=s["on"+ve])?Je(We):ve===le&&S("Unhandled promise rejection",Fe)},ne=function(ve){t(E,s,function(){var Ae=ve.facade,Fe=ve.value,We=we(ve),Je;if(We&&(Je=x(function(){c?z.emit("unhandledRejection",Fe,Ae):se(le,Ae,Fe)}),ve.rejection=c||we(ve)?Te:De,Je.error))throw Je.value})},we=function(ve){return ve.rejection!==De&&!ve.parent},Ne=function(ve){t(E,s,function(){var Ae=ve.facade;c?z.emit("rejectionHandled",Ae):se(ge,Ae,ve.value)})},ae=function(ve,Ae,Fe){return function(We){ve(Ae,We,Fe)}},Pe=function(ve,Ae,Fe){ve.done||(ve.done=!0,Fe&&(ve=Fe),ve.value=Ae,ve.state=Ke,ce(ve,!0))},ze=function(ve,Ae,Fe){if(!ve.done){ve.done=!0,Fe&&(ve=Fe);try{if(ve.facade===Ae)throw new $("Promise can't be resolved itself");var We=he(Ae);We?T(function(){var Je={done:!1};try{t(We,Ae,ae(ze,Je,ve),ae(Pe,Je,ve))}catch(Ge){Pe(Je,Ge,ve)}}):(ve.value=Ae,ve.state=Oe,ce(ve,!1))}catch(Je){Pe({done:!1},Je,ve)}}};if(te&&(B=function(Ae){y(this,H),d(Ae),t(Z,this);var Fe=j(this);try{Ae(ae(ze,Fe),ae(Pe,Fe))}catch(We){Pe(Fe,We)}},H=B.prototype,Z=function(Ae){O(this,{type:ee,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:Ie,value:void 0})},Z.prototype=i(H,"then",function(Ae,Fe){var We=j(this),Je=F(p(this,B));return We.parent=!0,Je.ok=o(Ae)?Ae:!0,Je.fail=o(Fe)&&Fe,Je.domain=c?z.domain:void 0,We.state===Ie?We.reactions.add(Je):T(function(){de(Je,We)}),Je.promise}),ue=function(){var ve=new Z,Ae=j(ve);this.promise=ve,this.resolve=ae(ze,Ae),this.reject=ae(Pe,Ae)},ie.f=F=function(ve){return ve===B||ve===Ee?new ue(ve):L(ve)},!u&&o(D)&&k!==Object.prototype)){_e=k.then,W||i(k,"then",function(Ae,Fe){var We=this;return new B(function(Je,Ge){t(_e,We,Je,Ge)}).then(Ae,Fe)},{unsafe:!0});try{delete k.constructor}catch{}r&&r(k,H)}f({global:!0,constructor:!0,wrap:!0,forced:te},{Promise:B}),n(B,ee,!1,!0),l(ee)},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),s=e("../internals/fails"),t=e("../internals/get-built-in"),i=e("../internals/is-callable"),r=e("../internals/species-constructor"),n=e("../internals/promise-resolve"),l=e("../internals/define-built-in"),d=c&&c.prototype,o=!!c&&s(function(){d.finally.call({then:function(){}},function(){})});if(f({target:"Promise",proto:!0,real:!0,forced:o},{finally:function(y){var p=r(this,t("Promise")),E=i(y);return this.then(E?function(T){return n(p,y()).then(function(){return T})}:y,E?function(T){return n(p,y()).then(function(){throw T})}:y)}}),!u&&i(c)){var g=t("Promise").prototype.finally;d.finally!==g&&l(d,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,m,v){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/function-call"),c=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),t=e("../internals/perform"),i=e("../internals/iterate"),r=e("../internals/promise-statics-incorrect-iteration");f({target:"Promise",stat:!0,forced:r},{race:function(l){var d=this,o=s.f(d),g=o.reject,y=t(function(){var p=c(d.resolve);i(l,function(E){u(p,d,E).then(o.resolve,g)})});return y.error&&g(y.value),o.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/function-call"),c=e("../internals/new-promise-capability"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR;f({target:"Promise",stat:!0,forced:s},{reject:function(i){var r=c.f(this);return u(r.reject,void 0,i),r.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/get-built-in"),c=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),t=e("../internals/promise-constructor-detection").CONSTRUCTOR,i=e("../internals/promise-resolve"),r=u("Promise"),n=c&&!t;f({target:"Promise",stat:!0,forced:c||t},{resolve:function(d){return i(n&&this===r?s:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),s=RangeError,t=String.fromCharCode,i=String.fromCodePoint,r=u([].join),n=!!i&&i.length!==1;f({target:"String",stat:!0,arity:1,forced:n},{fromCodePoint:function(d){for(var o=[],g=arguments.length,y=0,p;g>y;){if(p=+arguments[y++],c(p,1114111)!==p)throw new s(p+" is not a valid code point");o[y]=p<65536?t(p):t(((p-=65536)>>10)+55296,p%1024+56320)}return r(o,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),t=e("../internals/to-string"),i=e("../internals/correct-is-regexp-logic"),r=u("".indexOf);f({target:"String",proto:!0,forced:!i("includes")},{includes:function(l){return!!~r(t(s(this)),t(c(l)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,m,v){var f=e("../internals/well-known-symbol-define");f("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/global"),c=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),t=e("../internals/is-pure"),i=e("../internals/descriptors"),r=e("../internals/symbol-constructor-detection"),n=e("../internals/fails"),l=e("../internals/has-own-property"),d=e("../internals/object-is-prototype-of"),o=e("../internals/an-object"),g=e("../internals/to-indexed-object"),y=e("../internals/to-property-key"),p=e("../internals/to-string"),E=e("../internals/create-property-descriptor"),T=e("../internals/object-create"),S=e("../internals/object-keys"),x=e("../internals/object-get-own-property-names"),w=e("../internals/object-get-own-property-names-external"),I=e("../internals/object-get-own-property-symbols"),D=e("../internals/object-get-own-property-descriptor"),V=e("../internals/object-define-property"),ie=e("../internals/object-define-properties"),ee=e("../internals/object-property-is-enumerable"),te=e("../internals/define-built-in"),Y=e("../internals/define-built-in-accessor"),W=e("../internals/shared"),j=e("../internals/shared-key"),O=e("../internals/hidden-keys"),k=e("../internals/uid"),B=e("../internals/well-known-symbol"),H=e("../internals/well-known-symbol-wrapped"),$=e("../internals/well-known-symbol-define"),K=e("../internals/symbol-define-to-primitive"),z=e("../internals/set-to-string-tag"),F=e("../internals/internal-state"),L=e("../internals/array-iteration").forEach,G=j("hidden"),le="Symbol",ge="prototype",Ie=F.set,Oe=F.getterFor(le),Ke=Object[ge],De=u.Symbol,Te=De&&De[ge],Z=u.RangeError,ue=u.TypeError,Ee=u.QObject,_e=D.f,he=V.f,de=w.f,ce=ee.f,se=s([].push),ne=W("symbols"),we=W("op-symbols"),Ne=W("wks"),ae=!Ee||!Ee[ge]||!Ee[ge].findChild,Pe=function(at,Be,Qe){var rt=_e(Ke,Be);rt&&delete Ke[Be],he(at,Be,Qe),rt&&at!==Ke&&he(Ke,Be,rt)},ze=i&&n(function(){return T(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!==7})?Pe:he,ve=function(at,Be){var Qe=ne[at]=T(Te);return Ie(Qe,{type:le,tag:at,description:Be}),i||(Qe.description=Be),Qe},Ae=function(Be,Qe,rt){Be===Ke&&Ae(we,Qe,rt),o(Be);var mt=y(Qe);return o(rt),l(ne,mt)?(rt.enumerable?(l(Be,G)&&Be[G][mt]&&(Be[G][mt]=!1),rt=T(rt,{enumerable:E(0,!1)})):(l(Be,G)||he(Be,G,E(1,{})),Be[G][mt]=!0),ze(Be,mt,rt)):he(Be,mt,rt)},Fe=function(Be,Qe){o(Be);var rt=g(Qe),mt=S(rt).concat(ut(rt));return L(mt,function(Ut){(!i||c(Je,rt,Ut))&&Ae(Be,Ut,rt[Ut])}),Be},We=function(Be,Qe){return Qe===void 0?T(Be):Fe(T(Be),Qe)},Je=function(Be){var Qe=y(Be),rt=c(ce,this,Qe);return this===Ke&&l(ne,Qe)&&!l(we,Qe)?!1:rt||!l(this,Qe)||!l(ne,Qe)||l(this,G)&&this[G][Qe]?rt:!0},Ge=function(Be,Qe){var rt=g(Be),mt=y(Qe);if(!(rt===Ke&&l(ne,mt)&&!l(we,mt))){var Ut=_e(rt,mt);return Ut&&l(ne,mt)&&!(l(rt,G)&&rt[G][mt])&&(Ut.enumerable=!0),Ut}},et=function(Be){var Qe=de(g(Be)),rt=[];return L(Qe,function(mt){!l(ne,mt)&&!l(O,mt)&&se(rt,mt)}),rt},ut=function(at){var Be=at===Ke,Qe=de(Be?we:g(at)),rt=[];return L(Qe,function(mt){l(ne,mt)&&(!Be||l(Ke,mt))&&se(rt,ne[mt])}),rt};r||(De=function(){if(d(Te,this))throw new ue("Symbol is not a constructor");var Be=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),Qe=k(Be),rt=function(mt){this===Ke&&c(rt,we,mt),l(this,G)&&l(this[G],Qe)&&(this[G][Qe]=!1);var Ut=E(1,mt);try{ze(this,Qe,Ut)}catch(jt){if(!(jt instanceof Z))throw jt;Pe(this,Qe,Ut)}};return i&&ae&&ze(Ke,Qe,{configurable:!0,set:rt}),ve(Qe,Be)},Te=De[ge],te(Te,"toString",function(){return Oe(this).tag}),te(De,"withoutSetter",function(at){return ve(k(at),at)}),ee.f=Je,V.f=Ae,ie.f=Fe,D.f=Ge,x.f=w.f=et,I.f=ut,H.f=function(at){return ve(B(at),at)},i&&(Y(Te,"description",{configurable:!0,get:function(){return Oe(this).description}}),t||te(Ke,"propertyIsEnumerable",Je,{unsafe:!0}))),f({global:!0,constructor:!0,wrap:!0,forced:!r,sham:!r},{Symbol:De}),L(S(Ne),function(at){$(at)}),f({target:le,stat:!0,forced:!r},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),f({target:"Object",stat:!0,forced:!r,sham:!i},{create:We,defineProperty:Ae,defineProperties:Fe,getOwnPropertyDescriptor:Ge}),f({target:"Object",stat:!0,forced:!r},{getOwnPropertyNames:et}),K(),z(De,le),O[G]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/get-built-in"),c=e("../internals/has-own-property"),s=e("../internals/to-string"),t=e("../internals/shared"),i=e("../internals/symbol-registry-detection"),r=t("string-to-symbol-registry"),n=t("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!i},{for:function(l){var d=s(l);if(c(r,d))return r[d];var o=u("Symbol")(d);return r[d]=o,n[o]=d,o}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,m,v){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,m,v){var f=e("../internals/export"),u=e("../internals/has-own-property"),c=e("../internals/is-symbol"),s=e("../internals/try-to-string"),t=e("../internals/shared"),i=e("../internals/symbol-registry-detection"),r=t("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!i},{keyFor:function(l){if(!c(l))throw new TypeError(s(l)+" is not a symbol");if(u(r,l))return r[l]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,m,v){function f(T){return Array.isArray?Array.isArray(T):E(T)==="[object Array]"}v.isArray=f;function u(T){return typeof T=="boolean"}v.isBoolean=u;function c(T){return T===null}v.isNull=c;function s(T){return T==null}v.isNullOrUndefined=s;function t(T){return typeof T=="number"}v.isNumber=t;function i(T){return typeof T=="string"}v.isString=i;function r(T){return typeof T=="symbol"}v.isSymbol=r;function n(T){return T===void 0}v.isUndefined=n;function l(T){return E(T)==="[object RegExp]"}v.isRegExp=l;function d(T){return typeof T=="object"&&T!==null}v.isObject=d;function o(T){return E(T)==="[object Date]"}v.isDate=o;function g(T){return E(T)==="[object Error]"||T instanceof Error}v.isError=g;function y(T){return typeof T=="function"}v.isFunction=y;function p(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||typeof T=="symbol"||typeof T>"u"}v.isPrimitive=p,v.isBuffer=e("buffer").Buffer.isBuffer;function E(T){return Object.prototype.toString.call(T)}},{buffer:220}],384:[function(e,m,v){(function(f){(function(){var u=e("elliptic"),c=e("bn.js");m.exports=function(n){return new t(n)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1;function t(r){this.curveType=s[r],this.curveType||(this.curveType={name:r}),this.curve=new u.ec(this.curveType.name),this.keys=void 0}t.prototype.generateKeys=function(r,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(r,n)},t.prototype.computeSecret=function(r,n,l){n=n||"utf8",f.isBuffer(r)||(r=new f(r,n));var d=this.curve.keyFromPublic(r).getPublic(),o=d.mul(this.keys.getPrivate()).getX();return i(o,l,this.curveType.byteLength)},t.prototype.getPublicKey=function(r,n){var l=this.keys.getPublic(n==="compressed",!0);return n==="hybrid"&&(l[l.length-1]%2?l[0]=7:l[0]=6),i(l,r)},t.prototype.getPrivateKey=function(r){return i(this.keys.getPrivate(),r)},t.prototype.setPublicKey=function(r,n){return n=n||"utf8",f.isBuffer(r)||(r=new f(r,n)),this.keys._importPublic(r),this},t.prototype.setPrivateKey=function(r,n){n=n||"utf8",f.isBuffer(r)||(r=new f(r,n));var l=new c(r);return l=l.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(l),this};function i(r,n,l){Array.isArray(r)||(r=r.toArray());var d=new f(r);if(l&&d.length<l){var o=new f(l-d.length);o.fill(0),d=f.concat([o,d])}return n?d.toString(n):d}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,m,v){arguments[4][184][0].apply(v,arguments)},{buffer:188,dup:184}],386:[function(e,m,v){var f=e("inherits"),u=e("md5.js"),c=e("ripemd160"),s=e("sha.js"),t=e("cipher-base");function i(r){t.call(this,"digest"),this._hash=r}f(i,t),i.prototype._update=function(r){this._hash.update(r)},i.prototype._final=function(){return this._hash.digest()},m.exports=function(n){return n=n.toLowerCase(),n==="md5"?new u:n==="rmd160"||n==="ripemd160"?new c:new i(s(n))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,m,v){var f=e("md5.js");m.exports=function(u){return new f().update(u).digest()}},{"md5.js":450}],388:[function(e,m,v){var f=e("inherits"),u=e("./legacy"),c=e("cipher-base"),s=e("safe-buffer").Buffer,t=e("create-hash/md5"),i=e("ripemd160"),r=e("sha.js"),n=s.alloc(128);function l(d,o){c.call(this,"digest"),typeof o=="string"&&(o=s.from(o));var g=d==="sha512"||d==="sha384"?128:64;if(this._alg=d,this._key=o,o.length>g){var y=d==="rmd160"?new i:r(d);o=y.update(o).digest()}else o.length<g&&(o=s.concat([o,n],g));for(var p=this._ipad=s.allocUnsafe(g),E=this._opad=s.allocUnsafe(g),T=0;T<g;T++)p[T]=o[T]^54,E[T]=o[T]^92;this._hash=d==="rmd160"?new i:r(d),this._hash.update(p)}f(l,c),l.prototype._update=function(d){this._hash.update(d)},l.prototype._final=function(){var d=this._hash.digest(),o=this._alg==="rmd160"?new i:r(this._alg);return o.update(this._opad).update(d).digest()},m.exports=function(o,g){return o=o.toLowerCase(),o==="rmd160"||o==="ripemd160"?new l("rmd160",g):o==="md5"?new u(t,g):new l(o,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,m,v){var f=e("inherits"),u=e("safe-buffer").Buffer,c=e("cipher-base"),s=u.alloc(128),t=64;function i(r,n){c.call(this,"digest"),typeof n=="string"&&(n=u.from(n)),this._alg=r,this._key=n,n.length>t?n=r(n):n.length<t&&(n=u.concat([n,s],t));for(var l=this._ipad=u.allocUnsafe(t),d=this._opad=u.allocUnsafe(t),o=0;o<t;o++)l[o]=n[o]^54,d[o]=n[o]^92;this._hash=[l]}f(i,c),i.prototype._update=function(r){this._hash.push(r)},i.prototype._final=function(){var r=this._alg(u.concat(this._hash));return this._alg(u.concat([this._opad,r]))},m.exports=i},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,m,v){v.randomBytes=v.rng=v.pseudoRandomBytes=v.prng=e("randombytes"),v.createHash=v.Hash=e("create-hash"),v.createHmac=v.Hmac=e("create-hmac");var f=e("browserify-sign/algos"),u=Object.keys(f),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(u);v.getHashes=function(){return c};var s=e("pbkdf2");v.pbkdf2=s.pbkdf2,v.pbkdf2Sync=s.pbkdf2Sync;var t=e("browserify-cipher");v.Cipher=t.Cipher,v.createCipher=t.createCipher,v.Cipheriv=t.Cipheriv,v.createCipheriv=t.createCipheriv,v.Decipher=t.Decipher,v.createDecipher=t.createDecipher,v.Decipheriv=t.Decipheriv,v.createDecipheriv=t.createDecipheriv,v.getCiphers=t.getCiphers,v.listCiphers=t.listCiphers;var i=e("diffie-hellman");v.DiffieHellmanGroup=i.DiffieHellmanGroup,v.createDiffieHellmanGroup=i.createDiffieHellmanGroup,v.getDiffieHellman=i.getDiffieHellman,v.createDiffieHellman=i.createDiffieHellman,v.DiffieHellman=i.DiffieHellman;var r=e("browserify-sign");v.createSign=r.createSign,v.Sign=r.Sign,v.createVerify=r.createVerify,v.Verify=r.Verify,v.createECDH=e("create-ecdh");var n=e("public-encrypt");v.publicEncrypt=n.publicEncrypt,v.privateEncrypt=n.privateEncrypt,v.publicDecrypt=n.publicDecrypt,v.privateDecrypt=n.privateDecrypt;var l=e("randomfill");v.randomFill=l.randomFill,v.randomFillSync=l.randomFillSync,v.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},v.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,m,v){(function(f,u){typeof v=="object"&&typeof m<"u"?m.exports=u():(f=typeof globalThis<"u"?globalThis:f||self).dayjs=u()})(void 0,function(){var f=1e3,u=6e4,c=36e5,s="millisecond",t="second",i="minute",r="hour",n="day",l="week",d="month",o="quarter",g="year",y="date",p="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var k=["th","st","nd","rd"],B=O%100;return"["+O+(k[(B-20)%10]||k[B]||k[0])+"]"}},x=function(O,k,B){var H=String(O);return!H||H.length>=k?O:""+Array(k+1-H.length).join(B)+O},w={s:x,z:function(O){var k=-O.utcOffset(),B=Math.abs(k),H=Math.floor(B/60),$=B%60;return(k<=0?"+":"-")+x(H,2,"0")+":"+x($,2,"0")},m:function O(k,B){if(k.date()<B.date())return-O(B,k);var H=12*(B.year()-k.year())+(B.month()-k.month()),$=k.clone().add(H,d),K=B-$<0,z=k.clone().add(H+(K?-1:1),d);return+(-(H+(B-$)/(K?$-z:z-$))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:g,w:l,d:n,D:y,h:r,m:i,s:t,ms:s,Q:o}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},I="en",D={};D[I]=S;var V="$isDayjsObject",ie=function(O){return O instanceof W||!(!O||!O[V])},ee=function O(k,B,H){var $;if(!k)return I;if(typeof k=="string"){var K=k.toLowerCase();D[K]&&($=K),B&&(D[K]=B,$=K);var z=k.split("-");if(!$&&z.length>1)return O(z[0])}else{var F=k.name;D[F]=k,$=F}return!H&&$&&(I=$),$||!H&&I},te=function(O,k){if(ie(O))return O.clone();var B=typeof k=="object"?k:{};return B.date=O,B.args=arguments,new W(B)},Y=w;Y.l=ee,Y.i=ie,Y.w=function(O,k){return te(O,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var W=function(){function O(B){this.$L=ee(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[V]=!0}var k=O.prototype;return k.parse=function(B){this.$d=function(H){var $=H.date,K=H.utc;if($===null)return new Date(NaN);if(Y.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var z=$.match(E);if(z){var F=z[2]-1||0,L=(z[7]||"0").substring(0,3);return K?new Date(Date.UTC(z[1],F,z[3]||1,z[4]||0,z[5]||0,z[6]||0,L)):new Date(z[1],F,z[3]||1,z[4]||0,z[5]||0,z[6]||0,L)}}return new Date($)}(B),this.init()},k.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},k.$utils=function(){return Y},k.isValid=function(){return this.$d.toString()!==p},k.isSame=function(B,H){var $=te(B);return this.startOf(H)<=$&&$<=this.endOf(H)},k.isAfter=function(B,H){return te(B)<this.startOf(H)},k.isBefore=function(B,H){return this.endOf(H)<te(B)},k.$g=function(B,H,$){return Y.u(B)?this[H]:this.set($,B)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(B,H){var $=this,K=!!Y.u(H)||H,z=Y.p(B),F=function(De,Te){var Z=Y.w($.$u?Date.UTC($.$y,Te,De):new Date($.$y,Te,De),$);return K?Z:Z.endOf(n)},L=function(De,Te){return Y.w($.toDate()[De].apply($.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Te)),$)},G=this.$W,le=this.$M,ge=this.$D,Ie="set"+(this.$u?"UTC":"");switch(z){case g:return K?F(1,0):F(31,11);case d:return K?F(1,le):F(0,le+1);case l:var Oe=this.$locale().weekStart||0,Ke=(G<Oe?G+7:G)-Oe;return F(K?ge-Ke:ge+(6-Ke),le);case n:case y:return L(Ie+"Hours",0);case r:return L(Ie+"Minutes",1);case i:return L(Ie+"Seconds",2);case t:return L(Ie+"Milliseconds",3);default:return this.clone()}},k.endOf=function(B){return this.startOf(B,!1)},k.$set=function(B,H){var $,K=Y.p(B),z="set"+(this.$u?"UTC":""),F=($={},$[n]=z+"Date",$[y]=z+"Date",$[d]=z+"Month",$[g]=z+"FullYear",$[r]=z+"Hours",$[i]=z+"Minutes",$[t]=z+"Seconds",$[s]=z+"Milliseconds",$)[K],L=K===n?this.$D+(H-this.$W):H;if(K===d||K===g){var G=this.clone().set(y,1);G.$d[F](L),G.init(),this.$d=G.set(y,Math.min(this.$D,G.daysInMonth())).$d}else F&&this.$d[F](L);return this.init(),this},k.set=function(B,H){return this.clone().$set(B,H)},k.get=function(B){return this[Y.p(B)]()},k.add=function(B,H){var $,K=this;B=Number(B);var z=Y.p(H),F=function(le){var ge=te(K);return Y.w(ge.date(ge.date()+Math.round(le*B)),K)};if(z===d)return this.set(d,this.$M+B);if(z===g)return this.set(g,this.$y+B);if(z===n)return F(1);if(z===l)return F(7);var L=($={},$[i]=u,$[r]=c,$[t]=f,$)[z]||1,G=this.$d.getTime()+B*L;return Y.w(G,this)},k.subtract=function(B,H){return this.add(-1*B,H)},k.format=function(B){var H=this,$=this.$locale();if(!this.isValid())return $.invalidDate||p;var K=B||"YYYY-MM-DDTHH:mm:ssZ",z=Y.z(this),F=this.$H,L=this.$m,G=this.$M,le=$.weekdays,ge=$.months,Ie=$.meridiem,Oe=function(Te,Z,ue,Ee){return Te&&(Te[Z]||Te(H,K))||ue[Z].slice(0,Ee)},Ke=function(Te){return Y.s(F%12||12,Te,"0")},De=Ie||function(Te,Z,ue){var Ee=Te<12?"AM":"PM";return ue?Ee.toLowerCase():Ee};return K.replace(T,function(Te,Z){return Z||function(ue){switch(ue){case"YY":return String(H.$y).slice(-2);case"YYYY":return Y.s(H.$y,4,"0");case"M":return G+1;case"MM":return Y.s(G+1,2,"0");case"MMM":return Oe($.monthsShort,G,ge,3);case"MMMM":return Oe(ge,G);case"D":return H.$D;case"DD":return Y.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return Oe($.weekdaysMin,H.$W,le,2);case"ddd":return Oe($.weekdaysShort,H.$W,le,3);case"dddd":return le[H.$W];case"H":return String(F);case"HH":return Y.s(F,2,"0");case"h":return Ke(1);case"hh":return Ke(2);case"a":return De(F,L,!0);case"A":return De(F,L,!1);case"m":return String(L);case"mm":return Y.s(L,2,"0");case"s":return String(H.$s);case"ss":return Y.s(H.$s,2,"0");case"SSS":return Y.s(H.$ms,3,"0");case"Z":return z}return null}(Te)||z.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(B,H,$){var K,z=this,F=Y.p(H),L=te(B),G=(L.utcOffset()-this.utcOffset())*u,le=this-L,ge=function(){return Y.m(z,L)};switch(F){case g:K=ge()/12;break;case d:K=ge();break;case o:K=ge()/3;break;case l:K=(le-G)/6048e5;break;case n:K=(le-G)/864e5;break;case r:K=le/c;break;case i:K=le/u;break;case t:K=le/f;break;default:K=le}return $?K:Y.a(K)},k.daysInMonth=function(){return this.endOf(d).$D},k.$locale=function(){return D[this.$L]},k.locale=function(B,H){if(!B)return this.$L;var $=this.clone(),K=ee(B,H,!0);return K&&($.$L=K),$},k.clone=function(){return Y.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},O}(),j=W.prototype;return te.prototype=j,[["$ms",s],["$s",t],["$m",i],["$H",r],["$W",n],["$M",d],["$y",g],["$D",y]].forEach(function(O){j[O[1]]=function(k){return this.$g(k,O[0],O[1])}}),te.extend=function(O,k){return O.$i||(O(k,W,te),O.$i=!0),te},te.locale=ee,te.isDayjs=ie,te.unix=function(O){return te(1e3*O)},te.en=D[I],te.Ls=D,te.p={},te})},{}],392:[function(e,m,v){(function(f,u){typeof v=="object"&&typeof m<"u"?m.exports=u():(f=typeof globalThis<"u"?globalThis:f||self).dayjs_plugin_customParseFormat=u()})(void 0,function(){var f={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,s=/\d\d?/,t=/\d*[^-_:/,()\s\d]+/,i={},r=function(p){return(p=+p)+(p>68?1900:2e3)},n=function(p){return function(E){this[p]=+E}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var T=E.match(/([+-]|\d\d)/g),S=60*T[1]+(+T[2]||0);return S===0?0:T[0]==="+"?-S:S}(p)}],d=function(p){var E=i[p];return E&&(E.indexOf?E:E.s.concat(E.f))},o=function(p,E){var T,S=i.meridiem;if(S){for(var x=1;x<=24;x+=1)if(p.indexOf(S(x,0,E))>-1){T=x>12;break}}else T=p===(E?"pm":"PM");return T},g={A:[t,function(p){this.afternoon=o(p,!1)}],a:[t,function(p){this.afternoon=o(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[c,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,n("seconds")],ss:[s,n("seconds")],m:[s,n("minutes")],mm:[s,n("minutes")],H:[s,n("hours")],h:[s,n("hours")],HH:[s,n("hours")],hh:[s,n("hours")],D:[s,n("day")],DD:[c,n("day")],Do:[t,function(p){var E=i.ordinal,T=p.match(/\d+/);if(this.day=T[0],E)for(var S=1;S<=31;S+=1)E(S).replace(/\[|\]/g,"")===p&&(this.day=S)}],M:[s,n("month")],MM:[c,n("month")],MMM:[t,function(p){var E=d("months"),T=(d("monthsShort")||E.map(function(S){return S.slice(0,3)})).indexOf(p)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[t,function(p){var E=d("months").indexOf(p)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,n("year")],YY:[c,function(p){this.year=r(p)}],YYYY:[/\d{4}/,n("year")],Z:l,ZZ:l};function y(p){var E,T;E=p,T=i&&i.formats;for(var S=(p=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ee,te,Y){var W=Y&&Y.toUpperCase();return te||T[Y]||f[Y]||T[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,O,k){return O||k.slice(1)})})).match(u),x=S.length,w=0;w<x;w+=1){var I=S[w],D=g[I],V=D&&D[0],ie=D&&D[1];S[w]=ie?{regex:V,parser:ie}:I.replace(/^\[|\]$/g,"")}return function(ee){for(var te={},Y=0,W=0;Y<x;Y+=1){var j=S[Y];if(typeof j=="string")W+=j.length;else{var O=j.regex,k=j.parser,B=ee.slice(W),H=O.exec(B)[0];k.call(te,H),ee=ee.replace(H,"")}}return function($){var K=$.afternoon;if(K!==void 0){var z=$.hours;K?z<12&&($.hours+=12):z===12&&($.hours=0),delete $.afternoon}}(te),te}}return function(p,E,T){T.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(r=p.parseTwoDigitYear);var S=E.prototype,x=S.parse;S.parse=function(w){var I=w.date,D=w.utc,V=w.args;this.$u=D;var ie=V[1];if(typeof ie=="string"){var ee=V[2]===!0,te=V[3]===!0,Y=ee||te,W=V[2];te&&(W=V[2]),i=this.$locale(),!ee&&W&&(i=T.Ls[W]),this.$d=function(B,H,$){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*B);var K=y(H)(B),z=K.year,F=K.month,L=K.day,G=K.hours,le=K.minutes,ge=K.seconds,Ie=K.milliseconds,Oe=K.zone,Ke=new Date,De=L||(z||F?1:Ke.getDate()),Te=z||Ke.getFullYear(),Z=0;z&&!F||(Z=F>0?F-1:Ke.getMonth());var ue=G||0,Ee=le||0,_e=ge||0,he=Ie||0;return Oe?new Date(Date.UTC(Te,Z,De,ue,Ee,_e,he+60*Oe.offset*1e3)):$?new Date(Date.UTC(Te,Z,De,ue,Ee,_e,he)):new Date(Te,Z,De,ue,Ee,_e,he)}catch{return new Date("")}}(I,ie,D),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),Y&&I!=this.format(ie)&&(this.$d=new Date("")),i={}}else if(ie instanceof Array)for(var j=ie.length,O=1;O<=j;O+=1){V[1]=ie[O-1];var k=T.apply(this,V);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}O===j&&(this.$d=new Date(""))}else x.call(this,w)}}})},{}],393:[function(e,m,v){(function(f,u){typeof v=="object"&&typeof m<"u"?m.exports=u():(f=typeof globalThis<"u"?globalThis:f||self).dayjs_plugin_utc=u()})(void 0,function(){var f="minute",u=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(s,t,i){var r=t.prototype;i.utc=function(p){var E={date:p,utc:!0,args:arguments};return new t(E)},r.utc=function(p){var E=i(this.toDate(),{locale:this.$L,utc:!0});return p?E.add(this.utcOffset(),f):E},r.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var n=r.parse;r.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),n.call(this,p)};var l=r.init;r.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else l.call(this)};var d=r.utcOffset;r.utcOffset=function(p,E){var T=this.$utils().u;if(T(p))return this.$u?0:T(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=function(I){I===void 0&&(I="");var D=I.match(u);if(!D)return null;var V=(""+D[0]).match(c)||["-",0,0],ie=V[0],ee=60*+V[1]+ +V[2];return ee===0?0:ie==="+"?ee:-ee}(p),p===null))return this;var S=Math.abs(p)<=16?60*p:p,x=this;if(E)return x.$offset=S,x.$u=p===0,x;if(p!==0){var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(x=this.local().add(S+w,f)).$offset=S,x.$x.$localOffset=w}else x=this.utc();return x};var o=r.format;r.format=function(p){var E=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return o.call(this,E)},r.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var g=r.toDate;r.toDate=function(p){return p==="s"&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var y=r.diff;r.diff=function(p,E,T){if(p&&this.$u===p.$u)return y.call(this,p,E,T);var S=this.local(),x=i(p).local();return y.call(S,x,E,T)}}})},{}],394:[function(e,m,v){v.utils=e("./des/utils"),v.Cipher=e("./des/cipher"),v.DES=e("./des/des"),v.CBC=e("./des/cbc"),v.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,m,v){var f=e("minimalistic-assert"),u=e("inherits"),c={};function s(i){f.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var r=0;r<this.iv.length;r++)this.iv[r]=i[r]}function t(i){function r(o){i.call(this,o),this._cbcInit()}u(r,i);for(var n=Object.keys(c),l=0;l<n.length;l++){var d=n[l];r.prototype[d]=c[d]}return r.create=function(g){return new r(g)},r}v.instantiate=t,c._cbcInit=function(){var r=new s(this.options.iv);this._cbcState=r},c._update=function(r,n,l,d){var o=this._cbcState,g=this.constructor.super_.prototype,y=o.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)y[p]^=r[n+p];g._update.call(this,y,0,l,d);for(var p=0;p<this.blockSize;p++)y[p]=l[d+p]}else{g._update.call(this,r,n,l,d);for(var p=0;p<this.blockSize;p++)l[d+p]^=y[p];for(var p=0;p<this.blockSize;p++)y[p]=r[n+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,m,v){var f=e("minimalistic-assert");function u(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}m.exports=u,u.prototype._init=function(){},u.prototype.update=function(s){return s.length===0?[]:this.type==="decrypt"?this._updateDecrypt(s):this._updateEncrypt(s)},u.prototype._buffer=function(s,t){for(var i=Math.min(this.buffer.length-this.bufferOff,s.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=s[t+r];return this.bufferOff+=i,i},u.prototype._flushBuffer=function(s,t){return this._update(this.buffer,0,s,t),this.bufferOff=0,this.blockSize},u.prototype._updateEncrypt=function(s){var t=0,i=0,r=(this.bufferOff+s.length)/this.blockSize|0,n=new Array(r*this.blockSize);this.bufferOff!==0&&(t+=this._buffer(s,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(n,i)));for(var l=s.length-(s.length-t)%this.blockSize;t<l;t+=this.blockSize)this._update(s,t,n,i),i+=this.blockSize;for(;t<s.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=s[t];return n},u.prototype._updateDecrypt=function(s){for(var t=0,i=0,r=Math.ceil((this.bufferOff+s.length)/this.blockSize)-1,n=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(s,t),i+=this._flushBuffer(n,i);return t+=this._buffer(s,t),n},u.prototype.final=function(s){var t;s&&(t=this.update(s));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),t?t.concat(i):i},u.prototype._pad=function(s,t){if(t===0)return!1;for(;t<s.length;)s[t++]=0;return!0},u.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var s=new Array(this.blockSize);return this._update(this.buffer,0,s,0),s},u.prototype._unpad=function(s){return s},u.prototype._finalDecrypt=function(){f.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var s=new Array(this.blockSize);return this._flushBuffer(s,0),this._unpad(s)}},{"minimalistic-assert":453}],397:[function(e,m,v){var f=e("minimalistic-assert"),u=e("inherits"),c=e("./utils"),s=e("./cipher");function t(){this.tmp=new Array(2),this.keys=null}function i(n){s.call(this,n);var l=new t;this._desState=l,this.deriveKeys(l,n.key)}u(i,s),m.exports=i,i.create=function(l){return new i(l)};var r=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(l,d){l.keys=new Array(16*2),f.equal(d.length,this.blockSize,"Invalid key length");var o=c.readUInt32BE(d,0),g=c.readUInt32BE(d,4);c.pc1(o,g,l.tmp,0),o=l.tmp[0],g=l.tmp[1];for(var y=0;y<l.keys.length;y+=2){var p=r[y>>>1];o=c.r28shl(o,p),g=c.r28shl(g,p),c.pc2(o,g,l.keys,y)}},i.prototype._update=function(l,d,o,g){var y=this._desState,p=c.readUInt32BE(l,d),E=c.readUInt32BE(l,d+4);c.ip(p,E,y.tmp,0),p=y.tmp[0],E=y.tmp[1],this.type==="encrypt"?this._encrypt(y,p,E,y.tmp,0):this._decrypt(y,p,E,y.tmp,0),p=y.tmp[0],E=y.tmp[1],c.writeUInt32BE(o,p,g),c.writeUInt32BE(o,E,g+4)},i.prototype._pad=function(l,d){if(this.padding===!1)return!1;for(var o=l.length-d,g=d;g<l.length;g++)l[g]=o;return!0},i.prototype._unpad=function(l){if(this.padding===!1)return l;for(var d=l[l.length-1],o=l.length-d;o<l.length;o++)f.equal(l[o],d);return l.slice(0,l.length-d)},i.prototype._encrypt=function(l,d,o,g,y){for(var p=d,E=o,T=0;T<l.keys.length;T+=2){var S=l.keys[T],x=l.keys[T+1];c.expand(E,l.tmp,0),S^=l.tmp[0],x^=l.tmp[1];var w=c.substitute(S,x),I=c.permute(w),D=E;E=(p^I)>>>0,p=D}c.rip(E,p,g,y)},i.prototype._decrypt=function(l,d,o,g,y){for(var p=o,E=d,T=l.keys.length-2;T>=0;T-=2){var S=l.keys[T],x=l.keys[T+1];c.expand(p,l.tmp,0),S^=l.tmp[0],x^=l.tmp[1];var w=c.substitute(S,x),I=c.permute(w),D=p;p=(E^I)>>>0,E=D}c.rip(p,E,g,y)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,m,v){var f=e("minimalistic-assert"),u=e("inherits"),c=e("./cipher"),s=e("./des");function t(r,n){f.equal(n.length,24,"Invalid key length");var l=n.slice(0,8),d=n.slice(8,16),o=n.slice(16,24);r==="encrypt"?this.ciphers=[s.create({type:"encrypt",key:l}),s.create({type:"decrypt",key:d}),s.create({type:"encrypt",key:o})]:this.ciphers=[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:d}),s.create({type:"decrypt",key:l})]}function i(r){c.call(this,r);var n=new t(this.type,this.options.key);this._edeState=n}u(i,c),m.exports=i,i.create=function(n){return new i(n)},i.prototype._update=function(n,l,d,o){var g=this._edeState;g.ciphers[0]._update(n,l,d,o),g.ciphers[1]._update(d,o,d,o),g.ciphers[2]._update(d,o,d,o)},i.prototype._pad=s.prototype._pad,i.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,m,v){v.readUInt32BE=function(t,i){var r=t[0+i]<<24|t[1+i]<<16|t[2+i]<<8|t[3+i];return r>>>0},v.writeUInt32BE=function(t,i,r){t[0+r]=i>>>24,t[1+r]=i>>>16&255,t[2+r]=i>>>8&255,t[3+r]=i&255},v.ip=function(t,i,r,n){for(var l=0,d=0,o=6;o>=0;o-=2){for(var g=0;g<=24;g+=8)l<<=1,l|=i>>>g+o&1;for(var g=0;g<=24;g+=8)l<<=1,l|=t>>>g+o&1}for(var o=6;o>=0;o-=2){for(var g=1;g<=25;g+=8)d<<=1,d|=i>>>g+o&1;for(var g=1;g<=25;g+=8)d<<=1,d|=t>>>g+o&1}r[n+0]=l>>>0,r[n+1]=d>>>0},v.rip=function(t,i,r,n){for(var l=0,d=0,o=0;o<4;o++)for(var g=24;g>=0;g-=8)l<<=1,l|=i>>>g+o&1,l<<=1,l|=t>>>g+o&1;for(var o=4;o<8;o++)for(var g=24;g>=0;g-=8)d<<=1,d|=i>>>g+o&1,d<<=1,d|=t>>>g+o&1;r[n+0]=l>>>0,r[n+1]=d>>>0},v.pc1=function(t,i,r,n){for(var l=0,d=0,o=7;o>=5;o--){for(var g=0;g<=24;g+=8)l<<=1,l|=i>>g+o&1;for(var g=0;g<=24;g+=8)l<<=1,l|=t>>g+o&1}for(var g=0;g<=24;g+=8)l<<=1,l|=i>>g+o&1;for(var o=1;o<=3;o++){for(var g=0;g<=24;g+=8)d<<=1,d|=i>>g+o&1;for(var g=0;g<=24;g+=8)d<<=1,d|=t>>g+o&1}for(var g=0;g<=24;g+=8)d<<=1,d|=t>>g+o&1;r[n+0]=l>>>0,r[n+1]=d>>>0},v.r28shl=function(t,i){return t<<i&268435455|t>>>28-i};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];v.pc2=function(t,i,r,n){for(var l=0,d=0,o=f.length>>>1,g=0;g<o;g++)l<<=1,l|=t>>>f[g]&1;for(var g=o;g<f.length;g++)d<<=1,d|=i>>>f[g]&1;r[n+0]=l>>>0,r[n+1]=d>>>0},v.expand=function(t,i,r){var n=0,l=0;n=(t&1)<<5|t>>>27;for(var d=23;d>=15;d-=4)n<<=6,n|=t>>>d&63;for(var d=11;d>=3;d-=4)l|=t>>>d&63,l<<=6;l|=(t&31)<<1|t>>>31,i[r+0]=n>>>0,i[r+1]=l>>>0};var u=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];v.substitute=function(t,i){for(var r=0,n=0;n<4;n++){var l=t>>>18-n*6&63,d=u[n*64+l];r<<=4,r|=d}for(var n=0;n<4;n++){var l=i>>>18-n*6&63,d=u[4*64+n*64+l];r<<=4,r|=d}return r>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];v.permute=function(t){for(var i=0,r=0;r<c.length;r++)i<<=1,i|=t>>>c[r]&1;return i>>>0},v.padSplit=function(t,i,r){for(var n=t.toString(2);n.length<i;)n="0"+n;for(var l=[],d=0;d<i;d+=r)l.push(n.slice(d,d+r));return l.join(" ")}},{}],400:[function(e,m,v){(function(f){(function(){var u=e("./lib/generatePrime"),c=e("./lib/primes.json"),s=e("./lib/dh");function t(n){var l=new f(c[n].prime,"hex"),d=new f(c[n].gen,"hex");return new s(l,d)}var i={binary:!0,hex:!0,base64:!0};function r(n,l,d,o){return f.isBuffer(l)||i[l]===void 0?r(n,"binary",l,d):(l=l||"binary",o=o||"binary",d=d||new f([2]),f.isBuffer(d)||(d=new f(d,o)),typeof n=="number"?new s(u(n,d),d,!0):(f.isBuffer(n)||(n=new f(n,l)),new s(n,d,!0)))}v.DiffieHellmanGroup=v.createDiffieHellmanGroup=v.getDiffieHellman=t,v.createDiffieHellman=v.DiffieHellman=r}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,m,v){(function(f){(function(){var u=e("bn.js"),c=e("miller-rabin"),s=new c,t=new u(24),i=new u(11),r=new u(10),n=new u(3),l=new u(7),d=e("./generatePrime"),o=e("randombytes");m.exports=T;function g(x,w){return w=w||"utf8",f.isBuffer(x)||(x=new f(x,w)),this._pub=new u(x),this}function y(x,w){return w=w||"utf8",f.isBuffer(x)||(x=new f(x,w)),this._priv=new u(x),this}var p={};function E(x,w){var I=w.toString("hex"),D=[I,x.toString(16)].join("_");if(D in p)return p[D];var V=0;if(x.isEven()||!d.simpleSieve||!d.fermatTest(x)||!s.test(x))return V+=1,I==="02"||I==="05"?V+=8:V+=4,p[D]=V,V;s.test(x.shrn(1))||(V+=2);var ie;switch(I){case"02":x.mod(t).cmp(i)&&(V+=8);break;case"05":ie=x.mod(r),ie.cmp(n)&&ie.cmp(l)&&(V+=8);break;default:V+=4}return p[D]=V,V}function T(x,w,I){this.setGenerator(w),this.__prime=new u(x),this._prime=u.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=g,this.setPrivateKey=y):this._primeCode=8}Object.defineProperty(T.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=E(this.__prime,this.__gen)),this._primeCode}}),T.prototype.generateKeys=function(){return this._priv||(this._priv=new u(o(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},T.prototype.computeSecret=function(x){x=new u(x),x=x.toRed(this._prime);var w=x.redPow(this._priv).fromRed(),I=new f(w.toArray()),D=this.getPrime();if(I.length<D.length){var V=new f(D.length-I.length);V.fill(0),I=f.concat([V,I])}return I},T.prototype.getPublicKey=function(w){return S(this._pub,w)},T.prototype.getPrivateKey=function(w){return S(this._priv,w)},T.prototype.getPrime=function(x){return S(this.__prime,x)},T.prototype.getGenerator=function(x){return S(this._gen,x)},T.prototype.setGenerator=function(x,w){return w=w||"utf8",f.isBuffer(x)||(x=new f(x,w)),this.__gen=x,this._gen=new u(x),this};function S(x,w){var I=new f(x.toArray());return w?I.toString(w):I}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,m,v){var f=e("randombytes");m.exports=S,S.simpleSieve=E,S.fermatTest=T;var u=e("bn.js"),c=new u(24),s=e("miller-rabin"),t=new s,i=new u(1),r=new u(2),n=new u(5);new u(16),new u(8);var l=new u(10),d=new u(3);new u(7);var o=new u(11),g=new u(4);new u(12);var y=null;function p(){if(y!==null)return y;var x=1048576,w=[];w[0]=2;for(var I=1,D=3;D<x;D+=2){for(var V=Math.ceil(Math.sqrt(D)),ie=0;ie<I&&w[ie]<=V&&D%w[ie]!==0;ie++);I!==ie&&w[ie]<=V||(w[I++]=D)}return y=w,w}function E(x){for(var w=p(),I=0;I<w.length;I++)if(x.modn(w[I])===0)return x.cmpn(w[I])===0;return!0}function T(x){var w=u.mont(x);return r.toRed(w).redPow(x.subn(1)).fromRed().cmpn(1)===0}function S(x,w){if(x<16)return w===2||w===5?new u([140,123]):new u([140,39]);w=new u(w);for(var I,D;;){for(I=new u(f(Math.ceil(x/8)));I.bitLength()>x;)I.ishrn(1);if(I.isEven()&&I.iadd(i),I.testn(1)||I.iadd(r),w.cmp(r)){if(!w.cmp(n))for(;I.mod(l).cmp(d);)I.iadd(g)}else for(;I.mod(c).cmp(o);)I.iadd(g);if(D=I.shrn(1),E(D)&&E(I)&&T(D)&&T(I)&&t.test(D)&&t.test(I))return I}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,m,v){m.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,m,v){arguments[4][184][0].apply(v,arguments)},{buffer:188,dup:184}],405:[function(e,m,v){var f=v;f.version=e("../package.json").version,f.utils=e("./elliptic/utils"),f.rand=e("brorand"),f.curve=e("./elliptic/curve"),f.curves=e("./elliptic/curves"),f.ec=e("./elliptic/ec"),f.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,m,v){var f=e("bn.js"),u=e("../utils"),c=u.getNAF,s=u.getJSF,t=u.assert;function i(n,l){this.type=n,this.p=new f(l.p,16),this.red=l.prime?f.red(l.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=l.n&&new f(l.n,16),this.g=l.g&&this.pointFromJSON(l.g,l.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}m.exports=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(l,d){t(l.precomputed);var o=l._getDoubles(),g=c(d,1,this._bitLength),y=(1<<o.step+1)-(o.step%2===0?2:1);y/=3;var p=[],E,T;for(E=0;E<g.length;E+=o.step){T=0;for(var S=E+o.step-1;S>=E;S--)T=(T<<1)+g[S];p.push(T)}for(var x=this.jpoint(null,null,null),w=this.jpoint(null,null,null),I=y;I>0;I--){for(E=0;E<p.length;E++)T=p[E],T===I?w=w.mixedAdd(o.points[E]):T===-I&&(w=w.mixedAdd(o.points[E].neg()));x=x.add(w)}return x.toP()},i.prototype._wnafMul=function(l,d){var o=4,g=l._getNAFPoints(o);o=g.wnd;for(var y=g.points,p=c(d,o,this._bitLength),E=this.jpoint(null,null,null),T=p.length-1;T>=0;T--){for(var S=0;T>=0&&p[T]===0;T--)S++;if(T>=0&&S++,E=E.dblp(S),T<0)break;var x=p[T];t(x!==0),l.type==="affine"?x>0?E=E.mixedAdd(y[x-1>>1]):E=E.mixedAdd(y[-x-1>>1].neg()):x>0?E=E.add(y[x-1>>1]):E=E.add(y[-x-1>>1].neg())}return l.type==="affine"?E.toP():E},i.prototype._wnafMulAdd=function(l,d,o,g,y){var p=this._wnafT1,E=this._wnafT2,T=this._wnafT3,S=0,x,w,I;for(x=0;x<g;x++){I=d[x];var D=I._getNAFPoints(l);p[x]=D.wnd,E[x]=D.points}for(x=g-1;x>=1;x-=2){var V=x-1,ie=x;if(p[V]!==1||p[ie]!==1){T[V]=c(o[V],p[V],this._bitLength),T[ie]=c(o[ie],p[ie],this._bitLength),S=Math.max(T[V].length,S),S=Math.max(T[ie].length,S);continue}var ee=[d[V],null,null,d[ie]];d[V].y.cmp(d[ie].y)===0?(ee[1]=d[V].add(d[ie]),ee[2]=d[V].toJ().mixedAdd(d[ie].neg())):d[V].y.cmp(d[ie].y.redNeg())===0?(ee[1]=d[V].toJ().mixedAdd(d[ie]),ee[2]=d[V].add(d[ie].neg())):(ee[1]=d[V].toJ().mixedAdd(d[ie]),ee[2]=d[V].toJ().mixedAdd(d[ie].neg()));var te=[-3,-1,-5,-7,0,7,5,1,3],Y=s(o[V],o[ie]);for(S=Math.max(Y[0].length,S),T[V]=new Array(S),T[ie]=new Array(S),w=0;w<S;w++){var W=Y[0][w]|0,j=Y[1][w]|0;T[V][w]=te[(W+1)*3+(j+1)],T[ie][w]=0,E[V]=ee}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(x=S;x>=0;x--){for(var B=0;x>=0;){var H=!0;for(w=0;w<g;w++)k[w]=T[w][x]|0,k[w]!==0&&(H=!1);if(!H)break;B++,x--}if(x>=0&&B++,O=O.dblp(B),x<0)break;for(w=0;w<g;w++){var $=k[w];$!==0&&($>0?I=E[w][$-1>>1]:$<0&&(I=E[w][-$-1>>1].neg()),I.type==="affine"?O=O.mixedAdd(I):O=O.add(I))}}for(x=0;x<g;x++)E[x]=null;return y?O:O.toP()};function r(n,l){this.curve=n,this.type=l,this.precomputed=null}i.BasePoint=r,r.prototype.eq=function(){throw new Error("Not implemented")},r.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(l,d){l=u.toArray(l,d);var o=this.p.byteLength();if((l[0]===4||l[0]===6||l[0]===7)&&l.length-1===2*o){l[0]===6?t(l[l.length-1]%2===0):l[0]===7&&t(l[l.length-1]%2===1);var g=this.point(l.slice(1,1+o),l.slice(1+o,1+2*o));return g}else if((l[0]===2||l[0]===3)&&l.length-1===o)return this.pointFromX(l.slice(1,1+o),l[0]===3);throw new Error("Unknown point format")},r.prototype.encodeCompressed=function(l){return this.encode(l,!0)},r.prototype._encode=function(l){var d=this.curve.p.byteLength(),o=this.getX().toArray("be",d);return l?[this.getY().isEven()?2:3].concat(o):[4].concat(o,this.getY().toArray("be",d))},r.prototype.encode=function(l,d){return u.encode(this._encode(d),l)},r.prototype.precompute=function(l){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,l),d.beta=this._getBeta(),this.precomputed=d,this},r.prototype._hasDoubles=function(l){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return d?d.points.length>=Math.ceil((l.bitLength()+1)/d.step):!1},r.prototype._getDoubles=function(l,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var o=[this],g=this,y=0;y<d;y+=l){for(var p=0;p<l;p++)g=g.dbl();o.push(g)}return{step:l,points:o}},r.prototype._getNAFPoints=function(l){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],o=(1<<l)-1,g=o===1?null:this.dbl(),y=1;y<o;y++)d[y]=d[y-1].add(g);return{wnd:l,points:d}},r.prototype._getBeta=function(){return null},r.prototype.dblp=function(l){for(var d=this,o=0;o<l;o++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,m,v){var f=e("../utils"),u=e("bn.js"),c=e("inherits"),s=e("./base"),t=f.assert;function i(n){this.twisted=(n.a|0)!==1,this.mOneA=this.twisted&&(n.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",n),this.a=new u(n.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new u(n.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new u(n.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),t(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(n.c|0)===1}c(i,s),m.exports=i,i.prototype._mulA=function(l){return this.mOneA?l.redNeg():this.a.redMul(l)},i.prototype._mulC=function(l){return this.oneC?l:this.c.redMul(l)},i.prototype.jpoint=function(l,d,o,g){return this.point(l,d,o,g)},i.prototype.pointFromX=function(l,d){l=new u(l,16),l.red||(l=l.toRed(this.red));var o=l.redSqr(),g=this.c2.redSub(this.a.redMul(o)),y=this.one.redSub(this.c2.redMul(this.d).redMul(o)),p=g.redMul(y.redInvm()),E=p.redSqrt();if(E.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var T=E.fromRed().isOdd();return(d&&!T||!d&&T)&&(E=E.redNeg()),this.point(l,E)},i.prototype.pointFromY=function(l,d){l=new u(l,16),l.red||(l=l.toRed(this.red));var o=l.redSqr(),g=o.redSub(this.c2),y=o.redMul(this.d).redMul(this.c2).redSub(this.a),p=g.redMul(y.redInvm());if(p.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,l)}var E=p.redSqrt();if(E.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");return E.fromRed().isOdd()!==d&&(E=E.redNeg()),this.point(E,l)},i.prototype.validate=function(l){if(l.isInfinity())return!0;l.normalize();var d=l.x.redSqr(),o=l.y.redSqr(),g=d.redMul(this.a).redAdd(o),y=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(o)));return g.cmp(y)===0};function r(n,l,d,o,g){s.BasePoint.call(this,n,"projective"),l===null&&d===null&&o===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new u(l,16),this.y=new u(d,16),this.z=o?new u(o,16):this.curve.one,this.t=g&&new u(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(r,s.BasePoint),i.prototype.pointFromJSON=function(l){return r.fromJSON(this,l)},i.prototype.point=function(l,d,o,g){return new r(this,l,d,o,g)},r.fromJSON=function(l,d){return new r(l,d[0],d[1],d[2])},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},r.prototype._extDbl=function(){var l=this.x.redSqr(),d=this.y.redSqr(),o=this.z.redSqr();o=o.redIAdd(o);var g=this.curve._mulA(l),y=this.x.redAdd(this.y).redSqr().redISub(l).redISub(d),p=g.redAdd(d),E=p.redSub(o),T=g.redSub(d),S=y.redMul(E),x=p.redMul(T),w=y.redMul(T),I=E.redMul(p);return this.curve.point(S,x,I,w)},r.prototype._projDbl=function(){var l=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),o=this.y.redSqr(),g,y,p,E,T,S;if(this.curve.twisted){E=this.curve._mulA(d);var x=E.redAdd(o);this.zOne?(g=l.redSub(d).redSub(o).redMul(x.redSub(this.curve.two)),y=x.redMul(E.redSub(o)),p=x.redSqr().redSub(x).redSub(x)):(T=this.z.redSqr(),S=x.redSub(T).redISub(T),g=l.redSub(d).redISub(o).redMul(S),y=x.redMul(E.redSub(o)),p=x.redMul(S))}else E=d.redAdd(o),T=this.curve._mulC(this.z).redSqr(),S=E.redSub(T).redSub(T),g=this.curve._mulC(l.redISub(E)).redMul(S),y=this.curve._mulC(E).redMul(d.redISub(o)),p=E.redMul(S);return this.curve.point(g,y,p)},r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},r.prototype._extAdd=function(l){var d=this.y.redSub(this.x).redMul(l.y.redSub(l.x)),o=this.y.redAdd(this.x).redMul(l.y.redAdd(l.x)),g=this.t.redMul(this.curve.dd).redMul(l.t),y=this.z.redMul(l.z.redAdd(l.z)),p=o.redSub(d),E=y.redSub(g),T=y.redAdd(g),S=o.redAdd(d),x=p.redMul(E),w=T.redMul(S),I=p.redMul(S),D=E.redMul(T);return this.curve.point(x,w,D,I)},r.prototype._projAdd=function(l){var d=this.z.redMul(l.z),o=d.redSqr(),g=this.x.redMul(l.x),y=this.y.redMul(l.y),p=this.curve.d.redMul(g).redMul(y),E=o.redSub(p),T=o.redAdd(p),S=this.x.redAdd(this.y).redMul(l.x.redAdd(l.y)).redISub(g).redISub(y),x=d.redMul(E).redMul(S),w,I;return this.curve.twisted?(w=d.redMul(T).redMul(y.redSub(this.curve._mulA(g))),I=E.redMul(T)):(w=d.redMul(T).redMul(y.redSub(g)),I=this.curve._mulC(E).redMul(T)),this.curve.point(x,w,I)},r.prototype.add=function(l){return this.isInfinity()?l:l.isInfinity()?this:this.curve.extended?this._extAdd(l):this._projAdd(l)},r.prototype.mul=function(l){return this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve._wnafMul(this,l)},r.prototype.mulAdd=function(l,d,o){return this.curve._wnafMulAdd(1,[this,d],[l,o],2,!1)},r.prototype.jmulAdd=function(l,d,o){return this.curve._wnafMulAdd(1,[this,d],[l,o],2,!0)},r.prototype.normalize=function(){if(this.zOne)return this;var l=this.z.redInvm();return this.x=this.x.redMul(l),this.y=this.y.redMul(l),this.t&&(this.t=this.t.redMul(l)),this.z=this.curve.one,this.zOne=!0,this},r.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},r.prototype.getX=function(){return this.normalize(),this.x.fromRed()},r.prototype.getY=function(){return this.normalize(),this.y.fromRed()},r.prototype.eq=function(l){return this===l||this.getX().cmp(l.getX())===0&&this.getY().cmp(l.getY())===0},r.prototype.eqXToP=function(l){var d=l.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var o=l.clone(),g=this.curve.redN.redMul(this.z);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(g),this.x.cmp(d)===0)return!0}},r.prototype.toP=r.prototype.normalize,r.prototype.mixedAdd=r.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,m,v){var f=v;f.base=e("./base"),f.short=e("./short"),f.mont=e("./mont"),f.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,m,v){var f=e("bn.js"),u=e("inherits"),c=e("./base"),s=e("../utils");function t(r){c.call(this,"mont",r),this.a=new f(r.a,16).toRed(this.red),this.b=new f(r.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}u(t,c),m.exports=t,t.prototype.validate=function(n){var l=n.normalize().x,d=l.redSqr(),o=d.redMul(l).redAdd(d.redMul(this.a)).redAdd(l),g=o.redSqrt();return g.redSqr().cmp(o)===0};function i(r,n,l){c.BasePoint.call(this,r,"projective"),n===null&&l===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(n,16),this.z=new f(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}u(i,c.BasePoint),t.prototype.decodePoint=function(n,l){return this.point(s.toArray(n,l),1)},t.prototype.point=function(n,l){return new i(this,n,l)},t.prototype.pointFromJSON=function(n){return i.fromJSON(this,n)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(n,l){return new i(n,l[0],l[1]||n.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var n=this.x.redAdd(this.z),l=n.redSqr(),d=this.x.redSub(this.z),o=d.redSqr(),g=l.redSub(o),y=l.redMul(o),p=g.redMul(o.redAdd(this.curve.a24.redMul(g)));return this.curve.point(y,p)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(n,l){var d=this.x.redAdd(this.z),o=this.x.redSub(this.z),g=n.x.redAdd(n.z),y=n.x.redSub(n.z),p=y.redMul(d),E=g.redMul(o),T=l.z.redMul(p.redAdd(E).redSqr()),S=l.x.redMul(p.redISub(E).redSqr());return this.curve.point(T,S)},i.prototype.mul=function(n){for(var l=n.clone(),d=this,o=this.curve.point(null,null),g=this,y=[];l.cmpn(0)!==0;l.iushrn(1))y.push(l.andln(1));for(var p=y.length-1;p>=0;p--)y[p]===0?(d=d.diffAdd(o,g),o=o.dbl()):(o=d.diffAdd(o,g),d=d.dbl());return o},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(n){return this.getX().cmp(n.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,m,v){var f=e("../utils"),u=e("bn.js"),c=e("inherits"),s=e("./base"),t=f.assert;function i(l){s.call(this,"short",l),this.a=new u(l.a,16).toRed(this.red),this.b=new u(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}c(i,s),m.exports=i,i.prototype._getEndomorphism=function(d){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var o,g;if(d.beta)o=new u(d.beta,16).toRed(this.red);else{var y=this._getEndoRoots(this.p);o=y[0].cmp(y[1])<0?y[0]:y[1],o=o.toRed(this.red)}if(d.lambda)g=new u(d.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(o))===0?g=p[0]:(g=p[1],t(this.g.mul(g).x.cmp(this.g.x.redMul(o))===0))}var E;return d.basis?E=d.basis.map(function(T){return{a:new u(T.a,16),b:new u(T.b,16)}}):E=this._getEndoBasis(g),{beta:o,lambda:g,basis:E}}},i.prototype._getEndoRoots=function(d){var o=d===this.p?this.red:u.mont(d),g=new u(2).toRed(o).redInvm(),y=g.redNeg(),p=new u(3).toRed(o).redNeg().redSqrt().redMul(g),E=y.redAdd(p).fromRed(),T=y.redSub(p).fromRed();return[E,T]},i.prototype._getEndoBasis=function(d){for(var o=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=d,y=this.n.clone(),p=new u(1),E=new u(0),T=new u(0),S=new u(1),x,w,I,D,V,ie,ee,te=0,Y,W;g.cmpn(0)!==0;){var j=y.div(g);Y=y.sub(j.mul(g)),W=T.sub(j.mul(p));var O=S.sub(j.mul(E));if(!I&&Y.cmp(o)<0)x=ee.neg(),w=p,I=Y.neg(),D=W;else if(I&&++te===2)break;ee=Y,y=g,g=Y,T=p,p=W,S=E,E=O}V=Y.neg(),ie=W;var k=I.sqr().add(D.sqr()),B=V.sqr().add(ie.sqr());return B.cmp(k)>=0&&(V=x,ie=w),I.negative&&(I=I.neg(),D=D.neg()),V.negative&&(V=V.neg(),ie=ie.neg()),[{a:I,b:D},{a:V,b:ie}]},i.prototype._endoSplit=function(d){var o=this.endo.basis,g=o[0],y=o[1],p=y.b.mul(d).divRound(this.n),E=g.b.neg().mul(d).divRound(this.n),T=p.mul(g.a),S=E.mul(y.a),x=p.mul(g.b),w=E.mul(y.b),I=d.sub(T).sub(S),D=x.add(w).neg();return{k1:I,k2:D}},i.prototype.pointFromX=function(d,o){d=new u(d,16),d.red||(d=d.toRed(this.red));var g=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),y=g.redSqrt();if(y.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var p=y.fromRed().isOdd();return(o&&!p||!o&&p)&&(y=y.redNeg()),this.point(d,y)},i.prototype.validate=function(d){if(d.inf)return!0;var o=d.x,g=d.y,y=this.a.redMul(o),p=o.redSqr().redMul(o).redIAdd(y).redIAdd(this.b);return g.redSqr().redISub(p).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(d,o,g){for(var y=this._endoWnafT1,p=this._endoWnafT2,E=0;E<d.length;E++){var T=this._endoSplit(o[E]),S=d[E],x=S._getBeta();T.k1.negative&&(T.k1.ineg(),S=S.neg(!0)),T.k2.negative&&(T.k2.ineg(),x=x.neg(!0)),y[E*2]=S,y[E*2+1]=x,p[E*2]=T.k1,p[E*2+1]=T.k2}for(var w=this._wnafMulAdd(1,y,p,E*2,g),I=0;I<E*2;I++)y[I]=null,p[I]=null;return w};function r(l,d,o,g){s.BasePoint.call(this,l,"affine"),d===null&&o===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new u(d,16),this.y=new u(o,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}c(r,s.BasePoint),i.prototype.point=function(d,o,g){return new r(this,d,o,g)},i.prototype.pointFromJSON=function(d,o){return r.fromJSON(this,d,o)},r.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var o=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var g=this.curve,y=function(p){return g.point(p.x.redMul(g.endo.beta),p.y)};d.beta=o,o.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(y)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(y)}}}return o}},r.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},r.fromJSON=function(d,o,g){typeof o=="string"&&(o=JSON.parse(o));var y=d.point(o[0],o[1],g);if(!o[2])return y;function p(T){return d.point(T[0],T[1],g)}var E=o[2];return y.precomputed={beta:null,doubles:E.doubles&&{step:E.doubles.step,points:[y].concat(E.doubles.points.map(p))},naf:E.naf&&{wnd:E.naf.wnd,points:[y].concat(E.naf.points.map(p))}},y},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return this.inf},r.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var o=this.y.redSub(d.y);o.cmpn(0)!==0&&(o=o.redMul(this.x.redSub(d.x).redInvm()));var g=o.redSqr().redISub(this.x).redISub(d.x),y=o.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,y)},r.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var o=this.curve.a,g=this.x.redSqr(),y=d.redInvm(),p=g.redAdd(g).redIAdd(g).redIAdd(o).redMul(y),E=p.redSqr().redISub(this.x.redAdd(this.x)),T=p.redMul(this.x.redSub(E)).redISub(this.y);return this.curve.point(E,T)},r.prototype.getX=function(){return this.x.fromRed()},r.prototype.getY=function(){return this.y.fromRed()},r.prototype.mul=function(d){return d=new u(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},r.prototype.mulAdd=function(d,o,g){var y=[this,o],p=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(y,p):this.curve._wnafMulAdd(1,y,p,2)},r.prototype.jmulAdd=function(d,o,g){var y=[this,o],p=[d,g];return this.curve.endo?this.curve._endoWnafMulAdd(y,p,!0):this.curve._wnafMulAdd(1,y,p,2,!0)},r.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},r.prototype.neg=function(d){if(this.inf)return this;var o=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var g=this.precomputed,y=function(p){return p.neg()};o.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(y)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(y)}}}return o},r.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var d=this.curve.jpoint(this.x,this.y,this.curve.one);return d};function n(l,d,o,g){s.BasePoint.call(this,l,"jacobian"),d===null&&o===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new u(0)):(this.x=new u(d,16),this.y=new u(o,16),this.z=new u(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(n,s.BasePoint),i.prototype.jpoint=function(d,o,g){return new n(this,d,o,g)},n.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),o=d.redSqr(),g=this.x.redMul(o),y=this.y.redMul(o).redMul(d);return this.curve.point(g,y)},n.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},n.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var o=d.z.redSqr(),g=this.z.redSqr(),y=this.x.redMul(o),p=d.x.redMul(g),E=this.y.redMul(o.redMul(d.z)),T=d.y.redMul(g.redMul(this.z)),S=y.redSub(p),x=E.redSub(T);if(S.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=S.redSqr(),I=w.redMul(S),D=y.redMul(w),V=x.redSqr().redIAdd(I).redISub(D).redISub(D),ie=x.redMul(D.redISub(V)).redISub(E.redMul(I)),ee=this.z.redMul(d.z).redMul(S);return this.curve.jpoint(V,ie,ee)},n.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var o=this.z.redSqr(),g=this.x,y=d.x.redMul(o),p=this.y,E=d.y.redMul(o).redMul(this.z),T=g.redSub(y),S=p.redSub(E);if(T.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=T.redSqr(),w=x.redMul(T),I=g.redMul(x),D=S.redSqr().redIAdd(w).redISub(I).redISub(I),V=S.redMul(I.redISub(D)).redISub(p.redMul(w)),ie=this.z.redMul(T);return this.curve.jpoint(D,V,ie)},n.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var o;if(this.curve.zeroA||this.curve.threeA){var g=this;for(o=0;o<d;o++)g=g.dbl();return g}var y=this.curve.a,p=this.curve.tinv,E=this.x,T=this.y,S=this.z,x=S.redSqr().redSqr(),w=T.redAdd(T);for(o=0;o<d;o++){var I=E.redSqr(),D=w.redSqr(),V=D.redSqr(),ie=I.redAdd(I).redIAdd(I).redIAdd(y.redMul(x)),ee=E.redMul(D),te=ie.redSqr().redISub(ee.redAdd(ee)),Y=ee.redISub(te),W=ie.redMul(Y);W=W.redIAdd(W).redISub(V);var j=w.redMul(S);o+1<d&&(x=x.redMul(V)),E=te,S=j,w=W}return this.curve.jpoint(E,w.redMul(p),S)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},n.prototype._zeroDbl=function(){var d,o,g;if(this.zOne){var y=this.x.redSqr(),p=this.y.redSqr(),E=p.redSqr(),T=this.x.redAdd(p).redSqr().redISub(y).redISub(E);T=T.redIAdd(T);var S=y.redAdd(y).redIAdd(y),x=S.redSqr().redISub(T).redISub(T),w=E.redIAdd(E);w=w.redIAdd(w),w=w.redIAdd(w),d=x,o=S.redMul(T.redISub(x)).redISub(w),g=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),D=this.y.redSqr(),V=D.redSqr(),ie=this.x.redAdd(D).redSqr().redISub(I).redISub(V);ie=ie.redIAdd(ie);var ee=I.redAdd(I).redIAdd(I),te=ee.redSqr(),Y=V.redIAdd(V);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),d=te.redISub(ie).redISub(ie),o=ee.redMul(ie.redISub(d)).redISub(Y),g=this.y.redMul(this.z),g=g.redIAdd(g)}return this.curve.jpoint(d,o,g)},n.prototype._threeDbl=function(){var d,o,g;if(this.zOne){var y=this.x.redSqr(),p=this.y.redSqr(),E=p.redSqr(),T=this.x.redAdd(p).redSqr().redISub(y).redISub(E);T=T.redIAdd(T);var S=y.redAdd(y).redIAdd(y).redIAdd(this.curve.a),x=S.redSqr().redISub(T).redISub(T);d=x;var w=E.redIAdd(E);w=w.redIAdd(w),w=w.redIAdd(w),o=S.redMul(T.redISub(x)).redISub(w),g=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),D=this.y.redSqr(),V=this.x.redMul(D),ie=this.x.redSub(I).redMul(this.x.redAdd(I));ie=ie.redAdd(ie).redIAdd(ie);var ee=V.redIAdd(V);ee=ee.redIAdd(ee);var te=ee.redAdd(ee);d=ie.redSqr().redISub(te),g=this.y.redAdd(this.z).redSqr().redISub(D).redISub(I);var Y=D.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),o=ie.redMul(ee.redISub(d)).redISub(Y)}return this.curve.jpoint(d,o,g)},n.prototype._dbl=function(){var d=this.curve.a,o=this.x,g=this.y,y=this.z,p=y.redSqr().redSqr(),E=o.redSqr(),T=g.redSqr(),S=E.redAdd(E).redIAdd(E).redIAdd(d.redMul(p)),x=o.redAdd(o);x=x.redIAdd(x);var w=x.redMul(T),I=S.redSqr().redISub(w.redAdd(w)),D=w.redISub(I),V=T.redSqr();V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var ie=S.redMul(D).redISub(V),ee=g.redAdd(g).redMul(y);return this.curve.jpoint(I,ie,ee)},n.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),o=this.y.redSqr(),g=this.z.redSqr(),y=o.redSqr(),p=d.redAdd(d).redIAdd(d),E=p.redSqr(),T=this.x.redAdd(o).redSqr().redISub(d).redISub(y);T=T.redIAdd(T),T=T.redAdd(T).redIAdd(T),T=T.redISub(E);var S=T.redSqr(),x=y.redIAdd(y);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var w=p.redIAdd(T).redSqr().redISub(E).redISub(S).redISub(x),I=o.redMul(w);I=I.redIAdd(I),I=I.redIAdd(I);var D=this.x.redMul(S).redISub(I);D=D.redIAdd(D),D=D.redIAdd(D);var V=this.y.redMul(w.redMul(x.redISub(w)).redISub(T.redMul(S)));V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var ie=this.z.redAdd(T).redSqr().redISub(g).redISub(S);return this.curve.jpoint(D,V,ie)},n.prototype.mul=function(d,o){return d=new u(d,o),this.curve._wnafMul(this,d)},n.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var o=this.z.redSqr(),g=d.z.redSqr();if(this.x.redMul(g).redISub(d.x.redMul(o)).cmpn(0)!==0)return!1;var y=o.redMul(this.z),p=g.redMul(d.z);return this.y.redMul(p).redISub(d.y.redMul(y)).cmpn(0)===0},n.prototype.eqXToP=function(d){var o=this.z.redSqr(),g=d.toRed(this.curve.red).redMul(o);if(this.x.cmp(g)===0)return!0;for(var y=d.clone(),p=this.curve.redN.redMul(o);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(p),this.x.cmp(g)===0)return!0}},n.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,m,v){var f=v,u=e("hash.js"),c=e("./curve"),s=e("./utils"),t=s.assert;function i(l){l.type==="short"?this.curve=new c.short(l):l.type==="edwards"?this.curve=new c.edwards(l):this.curve=new c.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,t(this.g.validate(),"Invalid curve"),t(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}f.PresetCurve=i;function r(l,d){Object.defineProperty(f,l,{configurable:!0,enumerable:!0,get:function(){var o=new i(d);return Object.defineProperty(f,l,{configurable:!0,enumerable:!0,value:o}),o}})}r("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),r("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),r("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),r("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),r("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),r("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),r("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var n;try{n=e("./precomputed/secp256k1")}catch{n=void 0}r("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,m,v){var f=e("bn.js"),u=e("hmac-drbg"),c=e("../utils"),s=e("../curves"),t=e("brorand"),i=c.assert,r=e("./key"),n=e("./signature");function l(d){if(!(this instanceof l))return new l(d);typeof d=="string"&&(i(Object.prototype.hasOwnProperty.call(s,d),"Unknown curve "+d),d=s[d]),d instanceof s.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}m.exports=l,l.prototype.keyPair=function(o){return new r(this,o)},l.prototype.keyFromPrivate=function(o,g){return r.fromPrivate(this,o,g)},l.prototype.keyFromPublic=function(o,g){return r.fromPublic(this,o,g)},l.prototype.genKeyPair=function(o){o||(o={});for(var g=new u({hash:this.hash,pers:o.pers,persEnc:o.persEnc||"utf8",entropy:o.entropy||t(this.hash.hmacStrength),entropyEnc:o.entropy&&o.entropyEnc||"utf8",nonce:this.n.toArray()}),y=this.n.byteLength(),p=this.n.sub(new f(2));;){var E=new f(g.generate(y));if(!(E.cmp(p)>0))return E.iaddn(1),this.keyFromPrivate(E)}},l.prototype._truncateToN=function(o,g){var y=o.byteLength()*8-this.n.bitLength();return y>0&&(o=o.ushrn(y)),!g&&o.cmp(this.n)>=0?o.sub(this.n):o},l.prototype.sign=function(o,g,y,p){typeof y=="object"&&(p=y,y=null),p||(p={}),g=this.keyFromPrivate(g,y),o=this._truncateToN(new f(o,16));for(var E=this.n.byteLength(),T=g.getPrivate().toArray("be",E),S=o.toArray("be",E),x=new u({hash:this.hash,entropy:T,nonce:S,pers:p.pers,persEnc:p.persEnc||"utf8"}),w=this.n.sub(new f(1)),I=0;;I++){var D=p.k?p.k(I):new f(x.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(w)>=0)){var V=this.g.mul(D);if(!V.isInfinity()){var ie=V.getX(),ee=ie.umod(this.n);if(ee.cmpn(0)!==0){var te=D.invm(this.n).mul(ee.mul(g.getPrivate()).iadd(o));if(te=te.umod(this.n),te.cmpn(0)!==0){var Y=(V.getY().isOdd()?1:0)|(ie.cmp(ee)!==0?2:0);return p.canonical&&te.cmp(this.nh)>0&&(te=this.n.sub(te),Y^=1),new n({r:ee,s:te,recoveryParam:Y})}}}}}},l.prototype.verify=function(o,g,y,p){o=this._truncateToN(new f(o,16)),y=this.keyFromPublic(y,p),g=new n(g,"hex");var E=g.r,T=g.s;if(E.cmpn(1)<0||E.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var S=T.invm(this.n),x=S.mul(o).umod(this.n),w=S.mul(E).umod(this.n),I;return this.curve._maxwellTrick?(I=this.g.jmulAdd(x,y.getPublic(),w),I.isInfinity()?!1:I.eqXToP(E)):(I=this.g.mulAdd(x,y.getPublic(),w),I.isInfinity()?!1:I.getX().umod(this.n).cmp(E)===0)},l.prototype.recoverPubKey=function(d,o,g,y){i((3&g)===g,"The recovery param is more than two bits"),o=new n(o,y);var p=this.n,E=new f(d),T=o.r,S=o.s,x=g&1,w=g>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&w)throw new Error("Unable to find sencond key candinate");w?T=this.curve.pointFromX(T.add(this.curve.n),x):T=this.curve.pointFromX(T,x);var I=o.r.invm(p),D=p.sub(E).mul(I).umod(p),V=S.mul(I).umod(p);return this.g.mulAdd(D,T,V)},l.prototype.getKeyRecoveryParam=function(d,o,g,y){if(o=new n(o,y),o.recoveryParam!==null)return o.recoveryParam;for(var p=0;p<4;p++){var E;try{E=this.recoverPubKey(d,o,p)}catch{continue}if(E.eq(g))return p}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,m,v){var f=e("bn.js"),u=e("../utils"),c=u.assert;function s(t,i){this.ec=t,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}m.exports=s,s.fromPublic=function(i,r,n){return r instanceof s?r:new s(i,{pub:r,pubEnc:n})},s.fromPrivate=function(i,r,n){return r instanceof s?r:new s(i,{priv:r,privEnc:n})},s.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(i,r){return typeof i=="string"&&(r=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,i):this.pub},s.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(i,r){this.priv=new f(i,r||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(i,r){if(i.x||i.y){this.ec.curve.type==="mont"?c(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&c(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,r)},s.prototype.derive=function(i){return i.validate()||c(i.validate(),"public point not validated"),i.mul(this.priv).getX()},s.prototype.sign=function(i,r,n){return this.ec.sign(i,this,r,n)},s.prototype.verify=function(i,r){return this.ec.verify(i,r,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,m,v){var f=e("bn.js"),u=e("../utils"),c=u.assert;function s(l,d){if(l instanceof s)return l;this._importDER(l,d)||(c(l.r&&l.s,"Signature without r or s"),this.r=new f(l.r,16),this.s=new f(l.s,16),l.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=l.recoveryParam)}m.exports=s;function t(){this.place=0}function i(l,d){var o=l[d.place++];if(!(o&128))return o;var g=o&15;if(g===0||g>4)return!1;for(var y=0,p=0,E=d.place;p<g;p++,E++)y<<=8,y|=l[E],y>>>=0;return y<=127?!1:(d.place=E,y)}function r(l){for(var d=0,o=l.length-1;!l[d]&&!(l[d+1]&128)&&d<o;)d++;return d===0?l:l.slice(d)}s.prototype._importDER=function(d,o){d=u.toArray(d,o);var g=new t;if(d[g.place++]!==48)return!1;var y=i(d,g);if(y===!1||y+g.place!==d.length||d[g.place++]!==2)return!1;var p=i(d,g);if(p===!1)return!1;var E=d.slice(g.place,p+g.place);if(g.place+=p,d[g.place++]!==2)return!1;var T=i(d,g);if(T===!1||d.length!==T+g.place)return!1;var S=d.slice(g.place,T+g.place);if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;if(S[0]===0)if(S[1]&128)S=S.slice(1);else return!1;return this.r=new f(E),this.s=new f(S),this.recoveryParam=null,!0};function n(l,d){if(d<128){l.push(d);return}var o=1+(Math.log(d)/Math.LN2>>>3);for(l.push(o|128);--o;)l.push(d>>>(o<<3)&255);l.push(d)}s.prototype.toDER=function(d){var o=this.r.toArray(),g=this.s.toArray();for(o[0]&128&&(o=[0].concat(o)),g[0]&128&&(g=[0].concat(g)),o=r(o),g=r(g);!g[0]&&!(g[1]&128);)g=g.slice(1);var y=[2];n(y,o.length),y=y.concat(o),y.push(2),n(y,g.length);var p=y.concat(g),E=[48];return n(E,p.length),E=E.concat(p),u.encode(E,d)}},{"../utils":419,"bn.js":420}],415:[function(e,m,v){var f=e("hash.js"),u=e("../curves"),c=e("../utils"),s=c.assert,t=c.parseBytes,i=e("./key"),r=e("./signature");function n(l){if(s(l==="ed25519","only tested with ed25519 so far"),!(this instanceof n))return new n(l);l=u[l].curve,this.curve=l,this.g=l.g,this.g.precompute(l.n.bitLength()+1),this.pointClass=l.point().constructor,this.encodingLength=Math.ceil(l.n.bitLength()/8),this.hash=f.sha512}m.exports=n,n.prototype.sign=function(d,o){d=t(d);var g=this.keyFromSecret(o),y=this.hashInt(g.messagePrefix(),d),p=this.g.mul(y),E=this.encodePoint(p),T=this.hashInt(E,g.pubBytes(),d).mul(g.priv()),S=y.add(T).umod(this.curve.n);return this.makeSignature({R:p,S,Rencoded:E})},n.prototype.verify=function(d,o,g){d=t(d),o=this.makeSignature(o);var y=this.keyFromPublic(g),p=this.hashInt(o.Rencoded(),y.pubBytes(),d),E=this.g.mul(o.S()),T=o.R().add(y.pub().mul(p));return T.eq(E)},n.prototype.hashInt=function(){for(var d=this.hash(),o=0;o<arguments.length;o++)d.update(arguments[o]);return c.intFromLE(d.digest()).umod(this.curve.n)},n.prototype.keyFromPublic=function(d){return i.fromPublic(this,d)},n.prototype.keyFromSecret=function(d){return i.fromSecret(this,d)},n.prototype.makeSignature=function(d){return d instanceof r?d:new r(this,d)},n.prototype.encodePoint=function(d){var o=d.getY().toArray("le",this.encodingLength);return o[this.encodingLength-1]|=d.getX().isOdd()?128:0,o},n.prototype.decodePoint=function(d){d=c.parseBytes(d);var o=d.length-1,g=d.slice(0,o).concat(d[o]&-129),y=(d[o]&128)!==0,p=c.intFromLE(g);return this.curve.pointFromY(p,y)},n.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},n.prototype.decodeInt=function(d){return c.intFromLE(d)},n.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,m,v){var f=e("../utils"),u=f.assert,c=f.parseBytes,s=f.cachedProperty;function t(i,r){this.eddsa=i,this._secret=c(r.secret),i.isPoint(r.pub)?this._pub=r.pub:this._pubBytes=c(r.pub)}t.fromPublic=function(r,n){return n instanceof t?n:new t(r,{pub:n})},t.fromSecret=function(r,n){return n instanceof t?n:new t(r,{secret:n})},t.prototype.secret=function(){return this._secret},s(t,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(t,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(t,"privBytes",function(){var r=this.eddsa,n=this.hash(),l=r.encodingLength-1,d=n.slice(0,r.encodingLength);return d[0]&=248,d[l]&=127,d[l]|=64,d}),s(t,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(t,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(t,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),t.prototype.sign=function(r){return u(this._secret,"KeyPair can only verify"),this.eddsa.sign(r,this)},t.prototype.verify=function(r,n){return this.eddsa.verify(r,n,this)},t.prototype.getSecret=function(r){return u(this._secret,"KeyPair is public only"),f.encode(this.secret(),r)},t.prototype.getPublic=function(r){return f.encode(this.pubBytes(),r)},m.exports=t},{"../utils":419}],417:[function(e,m,v){var f=e("bn.js"),u=e("../utils"),c=u.assert,s=u.cachedProperty,t=u.parseBytes;function i(r,n){this.eddsa=r,typeof n!="object"&&(n=t(n)),Array.isArray(n)&&(n={R:n.slice(0,r.encodingLength),S:n.slice(r.encodingLength)}),c(n.R&&n.S,"Signature without R or S"),r.isPoint(n.R)&&(this._R=n.R),n.S instanceof f&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}s(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return u.encode(this.toBytes(),"hex").toUpperCase()},m.exports=i},{"../utils":419,"bn.js":420}],418:[function(e,m,v){m.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,m,v){var f=v,u=e("bn.js"),c=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");f.assert=c,f.toArray=s.toArray,f.zero2=s.zero2,f.toHex=s.toHex,f.encode=s.encode;function t(d,o,g){var y=new Array(Math.max(d.bitLength(),g)+1);y.fill(0);for(var p=1<<o+1,E=d.clone(),T=0;T<y.length;T++){var S,x=E.andln(p-1);E.isOdd()?(x>(p>>1)-1?S=(p>>1)-x:S=x,E.isubn(S)):S=0,y[T]=S,E.iushrn(1)}return y}f.getNAF=t;function i(d,o){var g=[[],[]];d=d.clone(),o=o.clone();for(var y=0,p=0,E;d.cmpn(-y)>0||o.cmpn(-p)>0;){var T=d.andln(3)+y&3,S=o.andln(3)+p&3;T===3&&(T=-1),S===3&&(S=-1);var x;T&1?(E=d.andln(7)+y&7,(E===3||E===5)&&S===2?x=-T:x=T):x=0,g[0].push(x);var w;S&1?(E=o.andln(7)+p&7,(E===3||E===5)&&T===2?w=-S:w=S):w=0,g[1].push(w),2*y===x+1&&(y=1-y),2*p===w+1&&(p=1-p),d.iushrn(1),o.iushrn(1)}return g}f.getJSF=i;function r(d,o,g){var y="_"+o;d.prototype[o]=function(){return this[y]!==void 0?this[y]:this[y]=g.call(this)}}f.cachedProperty=r;function n(d){return typeof d=="string"?f.toArray(d,"hex"):d}f.parseBytes=n;function l(d){return new u(d,"hex","le")}f.intFromLE=l},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,m,v){arguments[4][184][0].apply(v,arguments)},{buffer:188,dup:184}],421:[function(e,m,v){m.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,m,v){var f=Object.create||V,u=Object.keys||ie,c=Function.prototype.bind||ee;function s(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=f(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}m.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var t=10,i;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),i=r.x===0}catch{i=!1}i?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(te){if(typeof te!="number"||te<0||te!==te)throw new TypeError('"defaultMaxListeners" must be a positive number');t=te}}):s.defaultMaxListeners=t,s.prototype.setMaxListeners=function(Y){if(typeof Y!="number"||Y<0||isNaN(Y))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Y,this};function n(te){return te._maxListeners===void 0?s.defaultMaxListeners:te._maxListeners}s.prototype.getMaxListeners=function(){return n(this)};function l(te,Y,W){if(Y)te.call(W);else for(var j=te.length,O=I(te,j),k=0;k<j;++k)O[k].call(W)}function d(te,Y,W,j){if(Y)te.call(W,j);else for(var O=te.length,k=I(te,O),B=0;B<O;++B)k[B].call(W,j)}function o(te,Y,W,j,O){if(Y)te.call(W,j,O);else for(var k=te.length,B=I(te,k),H=0;H<k;++H)B[H].call(W,j,O)}function g(te,Y,W,j,O,k){if(Y)te.call(W,j,O,k);else for(var B=te.length,H=I(te,B),$=0;$<B;++$)H[$].call(W,j,O,k)}function y(te,Y,W,j){if(Y)te.apply(W,j);else for(var O=te.length,k=I(te,O),B=0;B<O;++B)k[B].apply(W,j)}s.prototype.emit=function(Y){var W,j,O,k,B,H,$=Y==="error";if(H=this._events,H)$=$&&H.error==null;else if(!$)return!1;if($){if(arguments.length>1&&(W=arguments[1]),W instanceof Error)throw W;var K=new Error('Unhandled "error" event. ('+W+")");throw K.context=W,K}if(j=H[Y],!j)return!1;var z=typeof j=="function";switch(O=arguments.length,O){case 1:l(j,z,this);break;case 2:d(j,z,this,arguments[1]);break;case 3:o(j,z,this,arguments[1],arguments[2]);break;case 4:g(j,z,this,arguments[1],arguments[2],arguments[3]);break;default:for(k=new Array(O-1),B=1;B<O;B++)k[B-1]=arguments[B];y(j,z,this,k)}return!0};function p(te,Y,W,j){var O,k,B;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if(k=te._events,k?(k.newListener&&(te.emit("newListener",Y,W.listener?W.listener:W),k=te._events),B=k[Y]):(k=te._events=f(null),te._eventsCount=0),!B)B=k[Y]=W,++te._eventsCount;else if(typeof B=="function"?B=k[Y]=j?[W,B]:[B,W]:j?B.unshift(W):B.push(W),!B.warned&&(O=n(te),O&&O>0&&B.length>O)){B.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+B.length+' "'+String(Y)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');H.name="MaxListenersExceededWarning",H.emitter=te,H.type=Y,H.count=B.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",H.name,H.message)}return te}s.prototype.addListener=function(Y,W){return p(this,Y,W,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(Y,W){return p(this,Y,W,!0)};function E(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var te=new Array(arguments.length),Y=0;Y<te.length;++Y)te[Y]=arguments[Y];this.listener.apply(this.target,te)}}function T(te,Y,W){var j={fired:!1,wrapFn:void 0,target:te,type:Y,listener:W},O=c.call(E,j);return O.listener=W,j.wrapFn=O,O}s.prototype.once=function(Y,W){if(typeof W!="function")throw new TypeError('"listener" argument must be a function');return this.on(Y,T(this,Y,W)),this},s.prototype.prependOnceListener=function(Y,W){if(typeof W!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Y,T(this,Y,W)),this},s.prototype.removeListener=function(Y,W){var j,O,k,B,H;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if(O=this._events,!O)return this;if(j=O[Y],!j)return this;if(j===W||j.listener===W)--this._eventsCount===0?this._events=f(null):(delete O[Y],O.removeListener&&this.emit("removeListener",Y,j.listener||W));else if(typeof j!="function"){for(k=-1,B=j.length-1;B>=0;B--)if(j[B]===W||j[B].listener===W){H=j[B].listener,k=B;break}if(k<0)return this;k===0?j.shift():w(j,k),j.length===1&&(O[Y]=j[0]),O.removeListener&&this.emit("removeListener",Y,H||W)}return this},s.prototype.removeAllListeners=function(Y){var W,j,O;if(j=this._events,!j)return this;if(!j.removeListener)return arguments.length===0?(this._events=f(null),this._eventsCount=0):j[Y]&&(--this._eventsCount===0?this._events=f(null):delete j[Y]),this;if(arguments.length===0){var k=u(j),B;for(O=0;O<k.length;++O)B=k[O],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=f(null),this._eventsCount=0,this}if(W=j[Y],typeof W=="function")this.removeListener(Y,W);else if(W)for(O=W.length-1;O>=0;O--)this.removeListener(Y,W[O]);return this};function S(te,Y,W){var j=te._events;if(!j)return[];var O=j[Y];return O?typeof O=="function"?W?[O.listener||O]:[O]:W?D(O):I(O,O.length):[]}s.prototype.listeners=function(Y){return S(this,Y,!0)},s.prototype.rawListeners=function(Y){return S(this,Y,!1)},s.listenerCount=function(te,Y){return typeof te.listenerCount=="function"?te.listenerCount(Y):x.call(te,Y)},s.prototype.listenerCount=x;function x(te){var Y=this._events;if(Y){var W=Y[te];if(typeof W=="function")return 1;if(W)return W.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function w(te,Y){for(var W=Y,j=W+1,O=te.length;j<O;W+=1,j+=1)te[W]=te[j];te.pop()}function I(te,Y){for(var W=new Array(Y),j=0;j<Y;++j)W[j]=te[j];return W}function D(te){for(var Y=new Array(te.length),W=0;W<Y.length;++W)Y[W]=te[W].listener||te[W];return Y}function V(te){var Y=function(){};return Y.prototype=te,new Y}function ie(te){for(var Y in te)Object.prototype.hasOwnProperty.call(te,Y);return Y}function ee(te){var Y=this;return function(){return Y.apply(te,arguments)}}},{}],423:[function(e,m,v){var f=e("safe-buffer").Buffer,u=e("md5.js");function c(s,t,i,r){if(f.isBuffer(s)||(s=f.from(s,"binary")),t&&(f.isBuffer(t)||(t=f.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=i/8,l=f.alloc(n),d=f.alloc(r||0),o=f.alloc(0);n>0||r>0;){var g=new u;g.update(o),g.update(s),t&&g.update(t),o=g.digest();var y=0;if(n>0){var p=l.length-n;y=Math.min(n,o.length),o.copy(l,p,0,y),n-=y}if(y<o.length&&r>0){var E=d.length-r,T=Math.min(r,o.length-y);o.copy(d,E,y,y+T),r-=T}}return o.fill(0),{key:l,iv:d}}m.exports=c},{"md5.js":450,"safe-buffer":494}],424:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.CsvParserStream=v.ParserOptions=v.parseFile=v.parseStream=v.parseString=v.parse=v.FormatterOptions=v.CsvFormatterStream=v.writeToPath=v.writeToString=v.writeToBuffer=v.writeToStream=v.write=v.format=void 0;var f=e("@fast-csv/format");Object.defineProperty(v,"format",{enumerable:!0,get:function(){return f.format}}),Object.defineProperty(v,"write",{enumerable:!0,get:function(){return f.write}}),Object.defineProperty(v,"writeToStream",{enumerable:!0,get:function(){return f.writeToStream}}),Object.defineProperty(v,"writeToBuffer",{enumerable:!0,get:function(){return f.writeToBuffer}}),Object.defineProperty(v,"writeToString",{enumerable:!0,get:function(){return f.writeToString}}),Object.defineProperty(v,"writeToPath",{enumerable:!0,get:function(){return f.writeToPath}}),Object.defineProperty(v,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}}),Object.defineProperty(v,"FormatterOptions",{enumerable:!0,get:function(){return f.FormatterOptions}});var u=e("@fast-csv/parse");Object.defineProperty(v,"parse",{enumerable:!0,get:function(){return u.parse}}),Object.defineProperty(v,"parseString",{enumerable:!0,get:function(){return u.parseString}}),Object.defineProperty(v,"parseStream",{enumerable:!0,get:function(){return u.parseStream}}),Object.defineProperty(v,"parseFile",{enumerable:!0,get:function(){return u.parseFile}}),Object.defineProperty(v,"ParserOptions",{enumerable:!0,get:function(){return u.ParserOptions}}),Object.defineProperty(v,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,m,v){var f=e("safe-buffer").Buffer,u=e("readable-stream").Transform,c=e("inherits");function s(i,r){if(!f.isBuffer(i)&&typeof i!="string")throw new TypeError(r+" must be a string or a buffer")}function t(i){u.call(this),this._block=f.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}c(t,u),t.prototype._transform=function(i,r,n){var l=null;try{this.update(i,r)}catch(d){l=d}n(l)},t.prototype._flush=function(i){var r=null;try{this.push(this.digest())}catch(n){r=n}i(r)},t.prototype.update=function(i,r){if(s(i,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(i)||(i=f.from(i,r));for(var n=this._block,l=0;this._blockOffset+i.length-l>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)n[d++]=i[l++];this._update(),this._blockOffset=0}for(;l<i.length;)n[this._blockOffset++]=i[l++];for(var o=0,g=i.length*8;g>0;++o)this._length[o]+=g,g=this._length[o]/4294967296|0,g>0&&(this._length[o]-=4294967296*g);return this},t.prototype._update=function(){throw new Error("_update is not implemented")},t.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var r=this._digest();i!==void 0&&(r=r.toString(i)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return r},t.prototype._digest=function(){throw new Error("_digest is not implemented")},m.exports=t},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,m,v){var f=v;f.utils=e("./hash/utils"),f.common=e("./hash/common"),f.sha=e("./hash/sha"),f.ripemd=e("./hash/ripemd"),f.hmac=e("./hash/hmac"),f.sha1=f.sha.sha1,f.sha256=f.sha.sha256,f.sha224=f.sha.sha224,f.sha384=f.sha.sha384,f.sha512=f.sha.sha512,f.ripemd160=f.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,m,v){var f=e("./utils"),u=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}v.BlockHash=c,c.prototype.update=function(t,i){if(t=f.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var r=t.length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=f.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},c.prototype.digest=function(t){return this.update(this._pad()),u(this.pending===null),this._digest(t)},c.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,r=i-(t+this.padLength)%i,n=new Array(r+this.padLength);n[0]=128;for(var l=1;l<r;l++)n[l]=0;if(t<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)n[l++]=0;n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=t>>>24&255,n[l++]=t>>>16&255,n[l++]=t>>>8&255,n[l++]=t&255}else for(n[l++]=t&255,n[l++]=t>>>8&255,n[l++]=t>>>16&255,n[l++]=t>>>24&255,n[l++]=0,n[l++]=0,n[l++]=0,n[l++]=0,d=8;d<this.padLength;d++)n[l++]=0;return n}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,m,v){var f=e("./utils"),u=e("minimalistic-assert");function c(s,t,i){if(!(this instanceof c))return new c(s,t,i);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(f.toArray(t,i))}m.exports=c,c.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),u(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=new this.Hash().update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=new this.Hash().update(t)},c.prototype.update=function(t,i){return this.inner.update(t,i),this},c.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,m,v){var f=e("./utils"),u=e("./common"),c=f.rotl32,s=f.sum32,t=f.sum32_3,i=f.sum32_4,r=u.BlockHash;function n(){if(!(this instanceof n))return new n;r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}f.inherits(n,r),v.ripemd160=n,n.blockSize=512,n.outSize=160,n.hmacStrength=192,n.padLength=64,n.prototype._update=function(S,x){for(var w=this.h[0],I=this.h[1],D=this.h[2],V=this.h[3],ie=this.h[4],ee=w,te=I,Y=D,W=V,j=ie,O=0;O<80;O++){var k=s(c(i(w,l(O,I,D,V),S[g[O]+x],d(O)),p[O]),ie);w=ie,ie=V,V=c(D,10),D=I,I=k,k=s(c(i(ee,l(79-O,te,Y,W),S[y[O]+x],o(O)),E[O]),j),ee=j,j=W,W=c(Y,10),Y=te,te=k}k=t(this.h[1],D,W),this.h[1]=t(this.h[2],V,j),this.h[2]=t(this.h[3],ie,ee),this.h[3]=t(this.h[4],w,te),this.h[4]=t(this.h[0],I,Y),this.h[0]=k},n.prototype._digest=function(S){return S==="hex"?f.toHex32(this.h,"little"):f.split32(this.h,"little")};function l(T,S,x,w){return T<=15?S^x^w:T<=31?S&x|~S&w:T<=47?(S|~x)^w:T<=63?S&w|x&~w:S^(x|~w)}function d(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function o(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,m,v){v.sha1=e("./sha/1"),v.sha224=e("./sha/224"),v.sha256=e("./sha/256"),v.sha384=e("./sha/384"),v.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,m,v){var f=e("../utils"),u=e("../common"),c=e("./common"),s=f.rotl32,t=f.sum32,i=f.sum32_5,r=c.ft_1,n=u.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}f.inherits(d,n),m.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(g,y){for(var p=this.W,E=0;E<16;E++)p[E]=g[y+E];for(;E<p.length;E++)p[E]=s(p[E-3]^p[E-8]^p[E-14]^p[E-16],1);var T=this.h[0],S=this.h[1],x=this.h[2],w=this.h[3],I=this.h[4];for(E=0;E<p.length;E++){var D=~~(E/20),V=i(s(T,5),r(D,S,x,w),I,p[E],l[D]);I=w,w=x,x=s(S,30),S=T,T=V}this.h[0]=t(this.h[0],T),this.h[1]=t(this.h[1],S),this.h[2]=t(this.h[2],x),this.h[3]=t(this.h[3],w),this.h[4]=t(this.h[4],I)},d.prototype._digest=function(g){return g==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,m,v){var f=e("../utils"),u=e("./256");function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f.inherits(c,u),m.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(t){return t==="hex"?f.toHex32(this.h.slice(0,7),"big"):f.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,m,v){var f=e("../utils"),u=e("../common"),c=e("./common"),s=e("minimalistic-assert"),t=f.sum32,i=f.sum32_4,r=f.sum32_5,n=c.ch32,l=c.maj32,d=c.s0_256,o=c.s1_256,g=c.g0_256,y=c.g1_256,p=u.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,this.W=new Array(64)}f.inherits(T,p),m.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(x,w){for(var I=this.W,D=0;D<16;D++)I[D]=x[w+D];for(;D<I.length;D++)I[D]=i(y(I[D-2]),I[D-7],g(I[D-15]),I[D-16]);var V=this.h[0],ie=this.h[1],ee=this.h[2],te=this.h[3],Y=this.h[4],W=this.h[5],j=this.h[6],O=this.h[7];for(s(this.k.length===I.length),D=0;D<I.length;D++){var k=r(O,o(Y),n(Y,W,j),this.k[D],I[D]),B=t(d(V),l(V,ie,ee));O=j,j=W,W=Y,Y=t(te,k),te=ee,ee=ie,ie=V,V=t(k,B)}this.h[0]=t(this.h[0],V),this.h[1]=t(this.h[1],ie),this.h[2]=t(this.h[2],ee),this.h[3]=t(this.h[3],te),this.h[4]=t(this.h[4],Y),this.h[5]=t(this.h[5],W),this.h[6]=t(this.h[6],j),this.h[7]=t(this.h[7],O)},T.prototype._digest=function(x){return x==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,m,v){var f=e("../utils"),u=e("./512");function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}f.inherits(c,u),m.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(t){return t==="hex"?f.toHex32(this.h.slice(0,12),"big"):f.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,m,v){var f=e("../utils"),u=e("../common"),c=e("minimalistic-assert"),s=f.rotr64_hi,t=f.rotr64_lo,i=f.shr64_hi,r=f.shr64_lo,n=f.sum64,l=f.sum64_hi,d=f.sum64_lo,o=f.sum64_4_hi,g=f.sum64_4_lo,y=f.sum64_5_hi,p=f.sum64_5_lo,E=u.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function S(){if(!(this instanceof S))return new S;E.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}f.inherits(S,E),m.exports=S,S.blockSize=1024,S.outSize=512,S.hmacStrength=192,S.padLength=128,S.prototype._prepareBlock=function(B,H){for(var $=this.W,K=0;K<32;K++)$[K]=B[H+K];for(;K<$.length;K+=2){var z=j($[K-4],$[K-3]),F=O($[K-4],$[K-3]),L=$[K-14],G=$[K-13],le=Y($[K-30],$[K-29]),ge=W($[K-30],$[K-29]),Ie=$[K-32],Oe=$[K-31];$[K]=o(z,F,L,G,le,ge,Ie,Oe),$[K+1]=g(z,F,L,G,le,ge,Ie,Oe)}},S.prototype._update=function(B,H){this._prepareBlock(B,H);var $=this.W,K=this.h[0],z=this.h[1],F=this.h[2],L=this.h[3],G=this.h[4],le=this.h[5],ge=this.h[6],Ie=this.h[7],Oe=this.h[8],Ke=this.h[9],De=this.h[10],Te=this.h[11],Z=this.h[12],ue=this.h[13],Ee=this.h[14],_e=this.h[15];c(this.k.length===$.length);for(var he=0;he<$.length;he+=2){var de=Ee,ce=_e,se=ee(Oe,Ke),ne=te(Oe,Ke),we=x(Oe,Ke,De,Te,Z),Ne=w(Oe,Ke,De,Te,Z,ue),ae=this.k[he],Pe=this.k[he+1],ze=$[he],ve=$[he+1],Ae=y(de,ce,se,ne,we,Ne,ae,Pe,ze,ve),Fe=p(de,ce,se,ne,we,Ne,ae,Pe,ze,ve);de=V(K,z),ce=ie(K,z),se=I(K,z,F,L,G),ne=D(K,z,F,L,G,le);var We=l(de,ce,se,ne),Je=d(de,ce,se,ne);Ee=Z,_e=ue,Z=De,ue=Te,De=Oe,Te=Ke,Oe=l(ge,Ie,Ae,Fe),Ke=d(Ie,Ie,Ae,Fe),ge=G,Ie=le,G=F,le=L,F=K,L=z,K=l(Ae,Fe,We,Je),z=d(Ae,Fe,We,Je)}n(this.h,0,K,z),n(this.h,2,F,L),n(this.h,4,G,le),n(this.h,6,ge,Ie),n(this.h,8,Oe,Ke),n(this.h,10,De,Te),n(this.h,12,Z,ue),n(this.h,14,Ee,_e)},S.prototype._digest=function(B){return B==="hex"?f.toHex32(this.h,"big"):f.split32(this.h,"big")};function x(k,B,H,$,K){var z=k&H^~k&K;return z<0&&(z+=4294967296),z}function w(k,B,H,$,K,z){var F=B&$^~B&z;return F<0&&(F+=4294967296),F}function I(k,B,H,$,K){var z=k&H^k&K^H&K;return z<0&&(z+=4294967296),z}function D(k,B,H,$,K,z){var F=B&$^B&z^$&z;return F<0&&(F+=4294967296),F}function V(k,B){var H=s(k,B,28),$=s(B,k,2),K=s(B,k,7),z=H^$^K;return z<0&&(z+=4294967296),z}function ie(k,B){var H=t(k,B,28),$=t(B,k,2),K=t(B,k,7),z=H^$^K;return z<0&&(z+=4294967296),z}function ee(k,B){var H=s(k,B,14),$=s(k,B,18),K=s(B,k,9),z=H^$^K;return z<0&&(z+=4294967296),z}function te(k,B){var H=t(k,B,14),$=t(k,B,18),K=t(B,k,9),z=H^$^K;return z<0&&(z+=4294967296),z}function Y(k,B){var H=s(k,B,1),$=s(k,B,8),K=i(k,B,7),z=H^$^K;return z<0&&(z+=4294967296),z}function W(k,B){var H=t(k,B,1),$=t(k,B,8),K=r(k,B,7),z=H^$^K;return z<0&&(z+=4294967296),z}function j(k,B){var H=s(k,B,19),$=s(B,k,29),K=i(k,B,6),z=H^$^K;return z<0&&(z+=4294967296),z}function O(k,B){var H=t(k,B,19),$=t(B,k,29),K=r(k,B,6),z=H^$^K;return z<0&&(z+=4294967296),z}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,m,v){var f=e("../utils"),u=f.rotr32;function c(o,g,y,p){if(o===0)return s(g,y,p);if(o===1||o===3)return i(g,y,p);if(o===2)return t(g,y,p)}v.ft_1=c;function s(o,g,y){return o&g^~o&y}v.ch32=s;function t(o,g,y){return o&g^o&y^g&y}v.maj32=t;function i(o,g,y){return o^g^y}v.p32=i;function r(o){return u(o,2)^u(o,13)^u(o,22)}v.s0_256=r;function n(o){return u(o,6)^u(o,11)^u(o,25)}v.s1_256=n;function l(o){return u(o,7)^u(o,18)^o>>>3}v.g0_256=l;function d(o){return u(o,17)^u(o,19)^o>>>10}v.g1_256=d},{"../utils":437}],437:[function(e,m,v){var f=e("minimalistic-assert"),u=e("inherits");v.inherits=u;function c(O,k){return(O.charCodeAt(k)&64512)!==55296||k<0||k+1>=O.length?!1:(O.charCodeAt(k+1)&64512)===56320}function s(O,k){if(Array.isArray(O))return O.slice();if(!O)return[];var B=[];if(typeof O=="string")if(k){if(k==="hex")for(O=O.replace(/[^a-z0-9]+/ig,""),O.length%2!==0&&(O="0"+O),$=0;$<O.length;$+=2)B.push(parseInt(O[$]+O[$+1],16))}else for(var H=0,$=0;$<O.length;$++){var K=O.charCodeAt($);K<128?B[H++]=K:K<2048?(B[H++]=K>>6|192,B[H++]=K&63|128):c(O,$)?(K=65536+((K&1023)<<10)+(O.charCodeAt(++$)&1023),B[H++]=K>>18|240,B[H++]=K>>12&63|128,B[H++]=K>>6&63|128,B[H++]=K&63|128):(B[H++]=K>>12|224,B[H++]=K>>6&63|128,B[H++]=K&63|128)}else for($=0;$<O.length;$++)B[$]=O[$]|0;return B}v.toArray=s;function t(O){for(var k="",B=0;B<O.length;B++)k+=n(O[B].toString(16));return k}v.toHex=t;function i(O){var k=O>>>24|O>>>8&65280|O<<8&16711680|(O&255)<<24;return k>>>0}v.htonl=i;function r(O,k){for(var B="",H=0;H<O.length;H++){var $=O[H];k==="little"&&($=i($)),B+=l($.toString(16))}return B}v.toHex32=r;function n(O){return O.length===1?"0"+O:O}v.zero2=n;function l(O){return O.length===7?"0"+O:O.length===6?"00"+O:O.length===5?"000"+O:O.length===4?"0000"+O:O.length===3?"00000"+O:O.length===2?"000000"+O:O.length===1?"0000000"+O:O}v.zero8=l;function d(O,k,B,H){var $=B-k;f($%4===0);for(var K=new Array($/4),z=0,F=k;z<K.length;z++,F+=4){var L;H==="big"?L=O[F]<<24|O[F+1]<<16|O[F+2]<<8|O[F+3]:L=O[F+3]<<24|O[F+2]<<16|O[F+1]<<8|O[F],K[z]=L>>>0}return K}v.join32=d;function o(O,k){for(var B=new Array(O.length*4),H=0,$=0;H<O.length;H++,$+=4){var K=O[H];k==="big"?(B[$]=K>>>24,B[$+1]=K>>>16&255,B[$+2]=K>>>8&255,B[$+3]=K&255):(B[$+3]=K>>>24,B[$+2]=K>>>16&255,B[$+1]=K>>>8&255,B[$]=K&255)}return B}v.split32=o;function g(O,k){return O>>>k|O<<32-k}v.rotr32=g;function y(O,k){return O<<k|O>>>32-k}v.rotl32=y;function p(O,k){return O+k>>>0}v.sum32=p;function E(O,k,B){return O+k+B>>>0}v.sum32_3=E;function T(O,k,B,H){return O+k+B+H>>>0}v.sum32_4=T;function S(O,k,B,H,$){return O+k+B+H+$>>>0}v.sum32_5=S;function x(O,k,B,H){var $=O[k],K=O[k+1],z=H+K>>>0,F=(z<H?1:0)+B+$;O[k]=F>>>0,O[k+1]=z}v.sum64=x;function w(O,k,B,H){var $=k+H>>>0,K=($<k?1:0)+O+B;return K>>>0}v.sum64_hi=w;function I(O,k,B,H){var $=k+H;return $>>>0}v.sum64_lo=I;function D(O,k,B,H,$,K,z,F){var L=0,G=k;G=G+H>>>0,L+=G<k?1:0,G=G+K>>>0,L+=G<K?1:0,G=G+F>>>0,L+=G<F?1:0;var le=O+B+$+z+L;return le>>>0}v.sum64_4_hi=D;function V(O,k,B,H,$,K,z,F){var L=k+H+K+F;return L>>>0}v.sum64_4_lo=V;function ie(O,k,B,H,$,K,z,F,L,G){var le=0,ge=k;ge=ge+H>>>0,le+=ge<k?1:0,ge=ge+K>>>0,le+=ge<K?1:0,ge=ge+F>>>0,le+=ge<F?1:0,ge=ge+G>>>0,le+=ge<G?1:0;var Ie=O+B+$+z+L+le;return Ie>>>0}v.sum64_5_hi=ie;function ee(O,k,B,H,$,K,z,F,L,G){var le=k+H+K+F+G;return le>>>0}v.sum64_5_lo=ee;function te(O,k,B){var H=k<<32-B|O>>>B;return H>>>0}v.rotr64_hi=te;function Y(O,k,B){var H=O<<32-B|k>>>B;return H>>>0}v.rotr64_lo=Y;function W(O,k,B){return O>>>B}v.shr64_hi=W;function j(O,k,B){var H=O<<32-B|k>>>B;return H>>>0}v.shr64_lo=j},{inherits:440,"minimalistic-assert":453}],438:[function(e,m,v){var f=e("hash.js"),u=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=u.toArray(t.entropy,t.entropyEnc||"hex"),r=u.toArray(t.nonce,t.nonceEnc||"hex"),n=u.toArray(t.pers,t.persEnc||"hex");c(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,r,n)}m.exports=s,s.prototype._init=function(i,r,n){var l=i.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new f.hmac(this.hash,this.K)},s.prototype._update=function(i){var r=this._hmac().update(this.V).update([0]);i&&(r=r.update(i)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(i,r,n,l){typeof r!="string"&&(l=n,n=r,r=null),i=u.toArray(i,r),n=u.toArray(n,l),c(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(n||[])),this._reseed=1},s.prototype.generate=function(i,r,n,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(l=n,n=r,r=null),n&&(n=u.toArray(n,l||"hex"),this._update(n));for(var d=[];d.length<i;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var o=d.slice(0,i);return this._update(n),this._reseed++,u.encode(o,r)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,m,v){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */v.read=function(f,u,c,s,t){var i,r,n=t*8-s-1,l=(1<<n)-1,d=l>>1,o=-7,g=c?t-1:0,y=c?-1:1,p=f[u+g];for(g+=y,i=p&(1<<-o)-1,p>>=-o,o+=n;o>0;i=i*256+f[u+g],g+=y,o-=8);for(r=i&(1<<-o)-1,i>>=-o,o+=s;o>0;r=r*256+f[u+g],g+=y,o-=8);if(i===0)i=1-d;else{if(i===l)return r?NaN:(p?-1:1)*(1/0);r=r+Math.pow(2,s),i=i-d}return(p?-1:1)*r*Math.pow(2,i-s)},v.write=function(f,u,c,s,t,i){var r,n,l,d=i*8-t-1,o=(1<<d)-1,g=o>>1,y=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:i-1,E=s?1:-1,T=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(n=isNaN(u)?1:0,r=o):(r=Math.floor(Math.log(u)/Math.LN2),u*(l=Math.pow(2,-r))<1&&(r--,l*=2),r+g>=1?u+=y/l:u+=y*Math.pow(2,1-g),u*l>=2&&(r++,l/=2),r+g>=o?(n=0,r=o):r+g>=1?(n=(u*l-1)*Math.pow(2,t),r=r+g):(n=u*Math.pow(2,g-1)*Math.pow(2,t),r=0));t>=8;f[c+p]=n&255,p+=E,n/=256,t-=8);for(r=r<<t|n,d+=t;d>0;f[c+p]=r&255,p+=E,r/=256,d-=8);f[c+p-E]|=T*128}},{}],440:[function(e,m,v){typeof Object.create=="function"?m.exports=function(u,c){c&&(u.super_=c,u.prototype=Object.create(c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(u,c){if(c){u.super_=c;var s=function(){};s.prototype=c.prototype,u.prototype=new s,u.prototype.constructor=u}}},{}],441:[function(e,m,v){(function(f,u,c,s,t,i,r,n){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(l){typeof v=="object"&&typeof m<"u"?m.exports=l():(typeof window<"u"?window:typeof u<"u"?u:typeof self<"u"?self:this).JSZip=l()})(function(){return function l(d,o,g){function y(T,S){if(!o[T]){if(!d[T]){var x=typeof e=="function"&&e;if(!S&&x)return x(T,!0);if(p)return p(T,!0);var w=new Error("Cannot find module '"+T+"'");throw w.code="MODULE_NOT_FOUND",w}var I=o[T]={exports:{}};d[T][0].call(I.exports,function(D){var V=d[T][1][D];return y(V||D)},I,I.exports,l,d,o,g)}return o[T].exports}for(var p=typeof e=="function"&&e,E=0;E<g.length;E++)y(g[E]);return y}({1:[function(l,d,o){var g=l("./utils"),y=l("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(E){for(var T,S,x,w,I,D,V,ie=[],ee=0,te=E.length,Y=te,W=g.getTypeOf(E)!=="string";ee<E.length;)Y=te-ee,x=W?(T=E[ee++],S=ee<te?E[ee++]:0,ee<te?E[ee++]:0):(T=E.charCodeAt(ee++),S=ee<te?E.charCodeAt(ee++):0,ee<te?E.charCodeAt(ee++):0),w=T>>2,I=(3&T)<<4|S>>4,D=1<Y?(15&S)<<2|x>>6:64,V=2<Y?63&x:64,ie.push(p.charAt(w)+p.charAt(I)+p.charAt(D)+p.charAt(V));return ie.join("")},o.decode=function(E){var T,S,x,w,I,D,V=0,ie=0,ee="data:";if(E.substr(0,ee.length)===ee)throw new Error("Invalid base64 input, it looks like a data url.");var te,Y=3*(E=E.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(E.charAt(E.length-1)===p.charAt(64)&&Y--,E.charAt(E.length-2)===p.charAt(64)&&Y--,Y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(te=y.uint8array?new Uint8Array(0|Y):new Array(0|Y);V<E.length;)T=p.indexOf(E.charAt(V++))<<2|(w=p.indexOf(E.charAt(V++)))>>4,S=(15&w)<<4|(I=p.indexOf(E.charAt(V++)))>>2,x=(3&I)<<6|(D=p.indexOf(E.charAt(V++))),te[ie++]=T,I!==64&&(te[ie++]=S),D!==64&&(te[ie++]=x);return te}},{"./support":30,"./utils":32}],2:[function(l,d,o){var g=l("./external"),y=l("./stream/DataWorker"),p=l("./stream/Crc32Probe"),E=l("./stream/DataLengthProbe");function T(S,x,w,I,D){this.compressedSize=S,this.uncompressedSize=x,this.crc32=w,this.compression=I,this.compressedContent=D}T.prototype={getContentWorker:function(){var S=new y(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new E("data_length")),x=this;return S.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new y(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(S,x,w){return S.pipe(new p).pipe(new E("uncompressedSize")).pipe(x.compressWorker(w)).pipe(new E("compressedSize")).withStreamInfo("compression",x)},d.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,d,o){var g=l("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},o.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,d,o){var g=l("./utils"),y=function(){for(var p,E=[],T=0;T<256;T++){p=T;for(var S=0;S<8;S++)p=1&p?3988292384^p>>>1:p>>>1;E[T]=p}return E}();d.exports=function(p,E){return p!==void 0&&p.length?g.getTypeOf(p)!=="string"?function(T,S,x,w){var I=y,D=w+x;T^=-1;for(var V=w;V<D;V++)T=T>>>8^I[255&(T^S[V])];return-1^T}(0|E,p,p.length,0):function(T,S,x,w){var I=y,D=w+x;T^=-1;for(var V=w;V<D;V++)T=T>>>8^I[255&(T^S.charCodeAt(V))];return-1^T}(0|E,p,p.length,0):0}},{"./utils":32}],5:[function(l,d,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(l,d,o){var g=null;g=typeof Promise<"u"?Promise:l("lie"),d.exports={Promise:g}},{lie:37}],7:[function(l,d,o){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=l("pako"),p=l("./utils"),E=l("./stream/GenericWorker"),T=g?"uint8array":"array";function S(x,w){E.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=w,this.meta={}}o.magic="\b\0",p.inherits(S,E),S.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(T,x.data),!1)},S.prototype.flush=function(){E.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){E.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(w){x.push({data:w,meta:x.meta})}},o.compressWorker=function(x){return new S("Deflate",x)},o.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,d,o){function g(I,D){var V,ie="";for(V=0;V<D;V++)ie+=String.fromCharCode(255&I),I>>>=8;return ie}function y(I,D,V,ie,ee,te){var Y,W,j=I.file,O=I.compression,k=te!==T.utf8encode,B=p.transformTo("string",te(j.name)),H=p.transformTo("string",T.utf8encode(j.name)),$=j.comment,K=p.transformTo("string",te($)),z=p.transformTo("string",T.utf8encode($)),F=H.length!==j.name.length,L=z.length!==$.length,G="",le="",ge="",Ie=j.dir,Oe=j.date,Ke={crc32:0,compressedSize:0,uncompressedSize:0};D&&!V||(Ke.crc32=I.crc32,Ke.compressedSize=I.compressedSize,Ke.uncompressedSize=I.uncompressedSize);var De=0;D&&(De|=8),k||!F&&!L||(De|=2048);var Te=0,Z=0;Ie&&(Te|=16),ee==="UNIX"?(Z=798,Te|=function(Ee,_e){var he=Ee;return Ee||(he=_e?16893:33204),(65535&he)<<16}(j.unixPermissions,Ie)):(Z=20,Te|=function(Ee){return 63&(Ee||0)}(j.dosPermissions)),Y=Oe.getUTCHours(),Y<<=6,Y|=Oe.getUTCMinutes(),Y<<=5,Y|=Oe.getUTCSeconds()/2,W=Oe.getUTCFullYear()-1980,W<<=4,W|=Oe.getUTCMonth()+1,W<<=5,W|=Oe.getUTCDate(),F&&(le=g(1,1)+g(S(B),4)+H,G+="up"+g(le.length,2)+le),L&&(ge=g(1,1)+g(S(K),4)+z,G+="uc"+g(ge.length,2)+ge);var ue="";return ue+=`
\0`,ue+=g(De,2),ue+=O.magic,ue+=g(Y,2),ue+=g(W,2),ue+=g(Ke.crc32,4),ue+=g(Ke.compressedSize,4),ue+=g(Ke.uncompressedSize,4),ue+=g(B.length,2),ue+=g(G.length,2),{fileRecord:x.LOCAL_FILE_HEADER+ue+B+G,dirRecord:x.CENTRAL_FILE_HEADER+g(Z,2)+ue+g(K.length,2)+"\0\0\0\0"+g(Te,4)+g(ie,4)+B+G+K}}var p=l("../utils"),E=l("../stream/GenericWorker"),T=l("../utf8"),S=l("../crc32"),x=l("../signature");function w(I,D,V,ie){E.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=V,this.encodeFileName=ie,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(w,E),w.prototype.push=function(I){var D=I.meta.percent||0,V=this.entriesCount,ie=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,E.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:V?(D+100*(V-ie-1))/V:100}}))},w.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var D=this.streamFiles&&!I.file.dir;if(D){var V=y(I,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(I){this.accumulate=!1;var D=this.streamFiles&&!I.file.dir,V=y(I,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),D)this.push({data:function(ie){return x.DATA_DESCRIPTOR+g(ie.crc32,4)+g(ie.compressedSize,4)+g(ie.uncompressedSize,4)}(I),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var I=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var V=this.bytesWritten-I,ie=function(ee,te,Y,W,j){var O=p.transformTo("string",j(W));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(ee,2)+g(ee,2)+g(te,4)+g(Y,4)+g(O.length,2)+O}(this.dirRecords.length,V,I,this.zipComment,this.encodeFileName);this.push({data:ie,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(I){this._sources.push(I);var D=this;return I.on("data",function(V){D.processChunk(V)}),I.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),I.on("error",function(V){D.error(V)}),this},w.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(I){var D=this._sources;if(!E.prototype.error.call(this,I))return!1;for(var V=0;V<D.length;V++)try{D[V].error(I)}catch{}return!0},w.prototype.lock=function(){E.prototype.lock.call(this);for(var I=this._sources,D=0;D<I.length;D++)I[D].lock()},d.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,d,o){var g=l("../compressions"),y=l("./ZipFileWorker");o.generateWorker=function(p,E,T){var S=new y(E.streamFiles,T,E.platform,E.encodeFileName),x=0;try{p.forEach(function(w,I){x++;var D=function(te,Y){var W=te||Y,j=g[W];if(!j)throw new Error(W+" is not a valid compression method !");return j}(I.options.compression,E.compression),V=I.options.compressionOptions||E.compressionOptions||{},ie=I.dir,ee=I.date;I._compressWorker(D,V).withStreamInfo("file",{name:w,dir:ie,date:ee,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(S)}),S.entriesCount=x}catch(w){S.error(w)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,d,o){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new g;for(var p in this)typeof this[p]!="function"&&(y[p]=this[p]);return y}}(g.prototype=l("./object")).loadAsync=l("./load"),g.support=l("./support"),g.defaults=l("./defaults"),g.version="3.10.1",g.loadAsync=function(y,p){return new g().loadAsync(y,p)},g.external=l("./external"),d.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,d,o){var g=l("./utils"),y=l("./external"),p=l("./utf8"),E=l("./zipEntries"),T=l("./stream/Crc32Probe"),S=l("./nodejsUtils");function x(w){return new y.Promise(function(I,D){var V=w.decompressed.getContentWorker().pipe(new T);V.on("error",function(ie){D(ie)}).on("end",function(){V.streamInfo.crc32!==w.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):I()}).resume()})}d.exports=function(w,I){var D=this;return I=g.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),S.isNode&&S.isStream(w)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",w,!0,I.optimizedBinaryString,I.base64).then(function(V){var ie=new E(I);return ie.load(V),ie}).then(function(V){var ie=[y.Promise.resolve(V)],ee=V.files;if(I.checkCRC32)for(var te=0;te<ee.length;te++)ie.push(x(ee[te]));return y.Promise.all(ie)}).then(function(V){for(var ie=V.shift(),ee=ie.files,te=0;te<ee.length;te++){var Y=ee[te],W=Y.fileNameStr,j=g.resolve(Y.fileNameStr);D.file(j,Y.decompressed,{binary:!0,optimizedBinaryString:!0,date:Y.date,dir:Y.dir,comment:Y.fileCommentStr.length?Y.fileCommentStr:null,unixPermissions:Y.unixPermissions,dosPermissions:Y.dosPermissions,createFolders:I.createFolders}),Y.dir||(D.file(j).unsafeOriginalName=W)}return ie.zipComment.length&&(D.comment=ie.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,d,o){var g=l("../utils"),y=l("../stream/GenericWorker");function p(E,T){y.call(this,"Nodejs stream input adapter for "+E),this._upstreamEnded=!1,this._bindStream(T)}g.inherits(p,y),p.prototype._bindStream=function(E){var T=this;(this._stream=E).pause(),E.on("data",function(S){T.push({data:S,meta:{percent:0}})}).on("error",function(S){T.isPaused?this.generatedError=S:T.error(S)}).on("end",function(){T.isPaused?T._upstreamEnded=!0:T.end()})},p.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},d.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,d,o){var g=l("readable-stream").Readable;function y(p,E,T){g.call(this,E),this._helper=p;var S=this;p.on("data",function(x,w){S.push(x)||S._helper.pause(),T&&T(w)}).on("error",function(x){S.emit("error",x)}).on("end",function(){S.push(null)})}l("../utils").inherits(y,g),y.prototype._read=function(){this._helper.resume()},d.exports=y},{"../utils":32,"readable-stream":16}],14:[function(l,d,o){d.exports={isNode:typeof c<"u",newBufferFrom:function(g,y){if(c.from&&c.from!==Uint8Array.from)return c.from(g,y);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new c(g,y)},allocBuffer:function(g){if(c.alloc)return c.alloc(g);var y=new c(g);return y.fill(0),y},isBuffer:function(g){return c.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(l,d,o){function g(j,O,k){var B,H=p.getTypeOf(O),$=p.extend(k||{},S);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(j=ee(j)),$.createFolders&&(B=ie(j))&&te.call(this,B,!0);var K=H==="string"&&$.binary===!1&&$.base64===!1;k&&k.binary!==void 0||($.binary=!K),(O instanceof x&&O.uncompressedSize===0||$.dir||!O||O.length===0)&&($.base64=!1,$.binary=!0,O="",$.compression="STORE",H="string");var z=null;z=O instanceof x||O instanceof E?O:D.isNode&&D.isStream(O)?new V(j,O):p.prepareContent(j,O,$.binary,$.optimizedBinaryString,$.base64);var F=new w(j,z,$);this.files[j]=F}var y=l("./utf8"),p=l("./utils"),E=l("./stream/GenericWorker"),T=l("./stream/StreamHelper"),S=l("./defaults"),x=l("./compressedObject"),w=l("./zipObject"),I=l("./generate"),D=l("./nodejsUtils"),V=l("./nodejs/NodejsStreamInputAdapter"),ie=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var O=j.lastIndexOf("/");return 0<O?j.substring(0,O):""},ee=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},te=function(j,O){return O=O!==void 0?O:S.createFolders,j=ee(j),this.files[j]||g.call(this,j,null,{dir:!0,createFolders:O}),this.files[j]};function Y(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var W={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var O,k,B;for(O in this.files)B=this.files[O],(k=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&j(k,B)},filter:function(j){var O=[];return this.forEach(function(k,B){j(k,B)&&O.push(B)}),O},file:function(j,O,k){if(arguments.length!==1)return j=this.root+j,g.call(this,j,O,k),this;if(Y(j)){var B=j;return this.filter(function($,K){return!K.dir&&B.test($)})}var H=this.files[this.root+j];return H&&!H.dir?H:null},folder:function(j){if(!j)return this;if(Y(j))return this.filter(function(H,$){return $.dir&&j.test(H)});var O=this.root+j,k=te.call(this,O),B=this.clone();return B.root=k.name,B},remove:function(j){j=this.root+j;var O=this.files[j];if(O||(j.slice(-1)!=="/"&&(j+="/"),O=this.files[j]),O&&!O.dir)delete this.files[j];else for(var k=this.filter(function(H,$){return $.name.slice(0,j.length)===j}),B=0;B<k.length;B++)delete this.files[k[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var O,k={};try{if((k=p.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");p.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var B=k.comment||this.comment||"";O=I.generateWorker(this,k,B)}catch(H){(O=new E("error")).error(H)}return new T(O,k.type||"string",k.mimeType)},generateAsync:function(j,O){return this.generateInternalStream(j).accumulate(O)},generateNodeStream:function(j,O){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(O)}};d.exports=W},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,d,o){d.exports=l("stream")},{stream:void 0}],17:[function(l,d,o){var g=l("./DataReader");function y(p){g.call(this,p);for(var E=0;E<this.data.length;E++)p[E]=255&p[E]}l("../utils").inherits(y,g),y.prototype.byteAt=function(p){return this.data[this.zero+p]},y.prototype.lastIndexOfSignature=function(p){for(var E=p.charCodeAt(0),T=p.charCodeAt(1),S=p.charCodeAt(2),x=p.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===E&&this.data[w+1]===T&&this.data[w+2]===S&&this.data[w+3]===x)return w-this.zero;return-1},y.prototype.readAndCheckSignature=function(p){var E=p.charCodeAt(0),T=p.charCodeAt(1),S=p.charCodeAt(2),x=p.charCodeAt(3),w=this.readData(4);return E===w[0]&&T===w[1]&&S===w[2]&&x===w[3]},y.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var E=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./DataReader":18}],18:[function(l,d,o){var g=l("../utils");function y(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var E,T=0;for(this.checkOffset(p),E=this.index+p-1;E>=this.index;E--)T=(T<<8)+this.byteAt(E);return this.index+=p,T},readString:function(p){return g.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},d.exports=y},{"../utils":32}],19:[function(l,d,o){var g=l("./Uint8ArrayReader");function y(p){g.call(this,p)}l("../utils").inherits(y,g),y.prototype.readData=function(p){this.checkOffset(p);var E=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,d,o){var g=l("./DataReader");function y(p){g.call(this,p)}l("../utils").inherits(y,g),y.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},y.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},y.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},y.prototype.readData=function(p){this.checkOffset(p);var E=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./DataReader":18}],21:[function(l,d,o){var g=l("./ArrayReader");function y(p){g.call(this,p)}l("../utils").inherits(y,g),y.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var E=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,E},d.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(l,d,o){var g=l("../utils"),y=l("../support"),p=l("./ArrayReader"),E=l("./StringReader"),T=l("./NodeBufferReader"),S=l("./Uint8ArrayReader");d.exports=function(x){var w=g.getTypeOf(x);return g.checkSupport(w),w!=="string"||y.uint8array?w==="nodebuffer"?new T(x):y.uint8array?new S(g.transformTo("uint8array",x)):new p(g.transformTo("array",x)):new E(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,d,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,d,o){var g=l("./GenericWorker"),y=l("../utils");function p(E){g.call(this,"ConvertWorker to "+E),this.destType=E}y.inherits(p,g),p.prototype.processChunk=function(E){this.push({data:y.transformTo(this.destType,E.data),meta:E.meta})},d.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(l,d,o){var g=l("./GenericWorker"),y=l("../crc32");function p(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(p,g),p.prototype.processChunk=function(E){this.streamInfo.crc32=y(E.data,this.streamInfo.crc32||0),this.push(E)},d.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,d,o){var g=l("../utils"),y=l("./GenericWorker");function p(E){y.call(this,"DataLengthProbe for "+E),this.propName=E,this.withStreamInfo(E,0)}g.inherits(p,y),p.prototype.processChunk=function(E){if(E){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+E.data.length}y.prototype.processChunk.call(this,E)},d.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(l,d,o){var g=l("../utils"),y=l("./GenericWorker");function p(E){y.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,E.then(function(S){T.dataIsReady=!0,T.data=S,T.max=S&&S.length||0,T.type=g.getTypeOf(S),T.isPaused||T._tickAndRepeat()},function(S){T.error(S)})}g.inherits(p,y),p.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var E=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":E=this.data.substring(this.index,T);break;case"uint8array":E=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":E=this.data.slice(this.index,T)}return this.index=T,this.push({data:E,meta:{percent:this.max?this.index/this.max*100:0}})},d.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(l,d,o){function g(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,p){return this._listeners[y].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,p){if(this._listeners[y])for(var E=0;E<this._listeners[y].length;E++)this._listeners[y][E].call(this,p)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var p=this;return y.on("data",function(E){p.processChunk(E)}),y.on("end",function(){p.end()}),y.on("error",function(E){p.error(E)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,p){return this.extraStreamInfo[y]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},d.exports=g},{}],29:[function(l,d,o){var g=l("../utils"),y=l("./ConvertWorker"),p=l("./GenericWorker"),E=l("../base64"),T=l("../support"),S=l("../external"),x=null;if(T.nodestream)try{x=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(D,V){return new S.Promise(function(ie,ee){var te=[],Y=D._internalType,W=D._outputType,j=D._mimeType;D.on("data",function(O,k){te.push(O),V&&V(k)}).on("error",function(O){te=[],ee(O)}).on("end",function(){try{var O=function(k,B,H){switch(k){case"blob":return g.newBlob(g.transformTo("arraybuffer",B),H);case"base64":return E.encode(B);default:return g.transformTo(k,B)}}(W,function(k,B){var H,$=0,K=null,z=0;for(H=0;H<B.length;H++)z+=B[H].length;switch(k){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(K=new Uint8Array(z),H=0;H<B.length;H++)K.set(B[H],$),$+=B[H].length;return K;case"nodebuffer":return c.concat(B);default:throw new Error("concat : unsupported type '"+k+"'")}}(Y,te),j);ie(O)}catch(k){ee(k)}te=[]}).resume()})}function I(D,V,ie){var ee=V;switch(V){case"blob":case"arraybuffer":ee="uint8array";break;case"base64":ee="string"}try{this._internalType=ee,this._outputType=V,this._mimeType=ie,g.checkSupport(ee),this._worker=D.pipe(new y(ee)),D.lock()}catch(te){this._worker=new p("error"),this._worker.error(te)}}I.prototype={accumulate:function(D){return w(this,D)},on:function(D,V){var ie=this;return D==="data"?this._worker.on(D,function(ee){V.call(ie,ee.data,ee.meta)}):this._worker.on(D,function(){g.delay(V,arguments,ie)}),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},D)}},d.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,d,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof c<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var g=new ArrayBuffer(0);try{o.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(g),o.blob=y.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!l("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(l,d,o){for(var g=l("./utils"),y=l("./support"),p=l("./nodejsUtils"),E=l("./stream/GenericWorker"),T=new Array(256),S=0;S<256;S++)T[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;T[254]=T[254]=1;function x(){E.call(this,"utf-8 decode"),this.leftOver=null}function w(){E.call(this,"utf-8 encode")}o.utf8encode=function(I){return y.nodebuffer?p.newBufferFrom(I,"utf-8"):function(D){var V,ie,ee,te,Y,W=D.length,j=0;for(te=0;te<W;te++)(64512&(ie=D.charCodeAt(te)))==55296&&te+1<W&&(64512&(ee=D.charCodeAt(te+1)))==56320&&(ie=65536+(ie-55296<<10)+(ee-56320),te++),j+=ie<128?1:ie<2048?2:ie<65536?3:4;for(V=y.uint8array?new Uint8Array(j):new Array(j),te=Y=0;Y<j;te++)(64512&(ie=D.charCodeAt(te)))==55296&&te+1<W&&(64512&(ee=D.charCodeAt(te+1)))==56320&&(ie=65536+(ie-55296<<10)+(ee-56320),te++),ie<128?V[Y++]=ie:(ie<2048?V[Y++]=192|ie>>>6:(ie<65536?V[Y++]=224|ie>>>12:(V[Y++]=240|ie>>>18,V[Y++]=128|ie>>>12&63),V[Y++]=128|ie>>>6&63),V[Y++]=128|63&ie);return V}(I)},o.utf8decode=function(I){return y.nodebuffer?g.transformTo("nodebuffer",I).toString("utf-8"):function(D){var V,ie,ee,te,Y=D.length,W=new Array(2*Y);for(V=ie=0;V<Y;)if((ee=D[V++])<128)W[ie++]=ee;else if(4<(te=T[ee]))W[ie++]=65533,V+=te-1;else{for(ee&=te===2?31:te===3?15:7;1<te&&V<Y;)ee=ee<<6|63&D[V++],te--;1<te?W[ie++]=65533:ee<65536?W[ie++]=ee:(ee-=65536,W[ie++]=55296|ee>>10&1023,W[ie++]=56320|1023&ee)}return W.length!==ie&&(W.subarray?W=W.subarray(0,ie):W.length=ie),g.applyFromCharCode(W)}(I=g.transformTo(y.uint8array?"uint8array":"array",I))},g.inherits(x,E),x.prototype.processChunk=function(I){var D=g.transformTo(y.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var V=D;(D=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),D.set(V,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var ie=function(te,Y){var W;for((Y=Y||te.length)>te.length&&(Y=te.length),W=Y-1;0<=W&&(192&te[W])==128;)W--;return W<0||W===0?Y:W+T[te[W]]>Y?W:Y}(D),ee=D;ie!==D.length&&(y.uint8array?(ee=D.subarray(0,ie),this.leftOver=D.subarray(ie,D.length)):(ee=D.slice(0,ie),this.leftOver=D.slice(ie,D.length))),this.push({data:o.utf8decode(ee),meta:I.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=x,g.inherits(w,E),w.prototype.processChunk=function(I){this.push({data:o.utf8encode(I.data),meta:I.meta})},o.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,d,o){var g=l("./support"),y=l("./base64"),p=l("./nodejsUtils"),E=l("./external");function T(V){return V}function S(V,ie){for(var ee=0;ee<V.length;++ee)ie[ee]=255&V.charCodeAt(ee);return ie}l("setimmediate"),o.newBlob=function(V,ie){o.checkSupport("blob");try{return new Blob([V],{type:ie})}catch{try{var ee=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ee.append(V),ee.getBlob(ie)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(V,ie,ee){var te=[],Y=0,W=V.length;if(W<=ee)return String.fromCharCode.apply(null,V);for(;Y<W;)ie==="array"||ie==="nodebuffer"?te.push(String.fromCharCode.apply(null,V.slice(Y,Math.min(Y+ee,W)))):te.push(String.fromCharCode.apply(null,V.subarray(Y,Math.min(Y+ee,W)))),Y+=ee;return te.join("")},stringifyByChar:function(V){for(var ie="",ee=0;ee<V.length;ee++)ie+=String.fromCharCode(V[ee]);return ie},applyCanBeUsed:{uint8array:function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function w(V){var ie=65536,ee=o.getTypeOf(V),te=!0;if(ee==="uint8array"?te=x.applyCanBeUsed.uint8array:ee==="nodebuffer"&&(te=x.applyCanBeUsed.nodebuffer),te)for(;1<ie;)try{return x.stringifyByChunk(V,ee,ie)}catch{ie=Math.floor(ie/2)}return x.stringifyByChar(V)}function I(V,ie){for(var ee=0;ee<V.length;ee++)ie[ee]=V[ee];return ie}o.applyFromCharCode=w;var D={};D.string={string:T,array:function(V){return S(V,new Array(V.length))},arraybuffer:function(V){return D.string.uint8array(V).buffer},uint8array:function(V){return S(V,new Uint8Array(V.length))},nodebuffer:function(V){return S(V,p.allocBuffer(V.length))}},D.array={string:w,array:T,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return p.newBufferFrom(V)}},D.arraybuffer={string:function(V){return w(new Uint8Array(V))},array:function(V){return I(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:T,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return p.newBufferFrom(new Uint8Array(V))}},D.uint8array={string:w,array:function(V){return I(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:T,nodebuffer:function(V){return p.newBufferFrom(V)}},D.nodebuffer={string:w,array:function(V){return I(V,new Array(V.length))},arraybuffer:function(V){return D.nodebuffer.uint8array(V).buffer},uint8array:function(V){return I(V,new Uint8Array(V.length))},nodebuffer:T},o.transformTo=function(V,ie){if(ie=ie||"",!V)return ie;o.checkSupport(V);var ee=o.getTypeOf(ie);return D[ee][V](ie)},o.resolve=function(V){for(var ie=V.split("/"),ee=[],te=0;te<ie.length;te++){var Y=ie[te];Y==="."||Y===""&&te!==0&&te!==ie.length-1||(Y===".."?ee.pop():ee.push(Y))}return ee.join("/")},o.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":g.nodebuffer&&p.isBuffer(V)?"nodebuffer":g.uint8array&&V instanceof Uint8Array?"uint8array":g.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(V){if(!g[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(V){var ie,ee,te="";for(ee=0;ee<(V||"").length;ee++)te+="\\x"+((ie=V.charCodeAt(ee))<16?"0":"")+ie.toString(16).toUpperCase();return te},o.delay=function(V,ie,ee){n(function(){V.apply(ee||null,ie||[])})},o.inherits=function(V,ie){function ee(){}ee.prototype=ie.prototype,V.prototype=new ee},o.extend=function(){var V,ie,ee={};for(V=0;V<arguments.length;V++)for(ie in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],ie)&&ee[ie]===void 0&&(ee[ie]=arguments[V][ie]);return ee},o.prepareContent=function(V,ie,ee,te,Y){return E.Promise.resolve(ie).then(function(W){return g.blob&&(W instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(W))!==-1)&&typeof FileReader<"u"?new E.Promise(function(j,O){var k=new FileReader;k.onload=function(B){j(B.target.result)},k.onerror=function(B){O(B.target.error)},k.readAsArrayBuffer(W)}):W}).then(function(W){var j=o.getTypeOf(W);return j?(j==="arraybuffer"?W=o.transformTo("uint8array",W):j==="string"&&(Y?W=y.decode(W):ee&&te!==!0&&(W=function(O){return S(O,g.uint8array?new Uint8Array(O.length):new Array(O.length))}(W))),W):E.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,d,o){var g=l("./reader/readerFor"),y=l("./utils"),p=l("./signature"),E=l("./zipEntry"),T=l("./support");function S(x){this.files=[],this.loadOptions=x}S.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(w)+", expected "+y.pretty(x)+")")}},isSignature:function(x,w){var I=this.reader.index;this.reader.setIndex(x);var D=this.reader.readString(4)===w;return this.reader.setIndex(I),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),w=T.uint8array?"uint8array":"array",I=y.transformTo(w,x);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,w,I,D=this.zip64EndOfCentralSize-44;0<D;)x=this.reader.readInt(2),w=this.reader.readInt(4),I=this.reader.readData(w),this.zip64ExtensibleData[x]={id:x,length:w,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,w;for(x=0;x<this.files.length;x++)w=this.files[x],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(x=new E({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var w=x;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var D=w-I;if(0<D)this.isSignature(w,p.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(x){this.reader=g(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},d.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,d,o){var g=l("./reader/readerFor"),y=l("./utils"),p=l("./compressedObject"),E=l("./crc32"),T=l("./utf8"),S=l("./compressions"),x=l("./support");function w(I,D){this.options=I,this.loadOptions=D}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var D,V;if(I.skip(22),this.fileNameLength=I.readInt(2),V=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=function(ie){for(var ee in S)if(Object.prototype.hasOwnProperty.call(S,ee)&&S[ee].magic===ie)return S[ee];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,D,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var D=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(D),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=g(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var D,V,ie,ee=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<ee;)D=I.readInt(2),V=I.readInt(2),ie=I.readData(V),this.extraFields[D]={id:D,length:V,value:ie};I.setIndex(ee)},handleUTF8:function(){var I=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var V=y.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var ie=this.findExtraFieldUnicodeComment();if(ie!==null)this.fileCommentStr=ie;else{var ee=y.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ee)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var D=g(I.value);return D.readInt(1)!==1||E(this.fileName)!==D.readInt(4)?null:T.utf8decode(D.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var D=g(I.value);return D.readInt(1)!==1||E(this.fileComment)!==D.readInt(4)?null:T.utf8decode(D.readData(I.length-5))}return null}},d.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,d,o){function g(D,V,ie){this.name=D,this.dir=ie.dir,this.date=ie.date,this.comment=ie.comment,this.unixPermissions=ie.unixPermissions,this.dosPermissions=ie.dosPermissions,this._data=V,this._dataBinary=ie.binary,this.options={compression:ie.compression,compressionOptions:ie.compressionOptions}}var y=l("./stream/StreamHelper"),p=l("./stream/DataWorker"),E=l("./utf8"),T=l("./compressedObject"),S=l("./stream/GenericWorker");g.prototype={internalStream:function(D){var V=null,ie="string";try{if(!D)throw new Error("No output type specified.");var ee=(ie=D.toLowerCase())==="string"||ie==="text";ie!=="binarystring"&&ie!=="text"||(ie="string"),V=this._decompressWorker();var te=!this._dataBinary;te&&!ee&&(V=V.pipe(new E.Utf8EncodeWorker)),!te&&ee&&(V=V.pipe(new E.Utf8DecodeWorker))}catch(Y){(V=new S("error")).error(Y)}return new y(V,ie,"")},async:function(D,V){return this.internalStream(D).accumulate(V)},nodeStream:function(D,V){return this.internalStream(D||"nodebuffer").toNodejsStream(V)},_compressWorker:function(D,V){if(this._data instanceof T&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var ie=this._decompressWorker();return this._dataBinary||(ie=ie.pipe(new E.Utf8EncodeWorker)),T.createWorkerFrom(ie,D,V)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof S?this._data:new p(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<x.length;I++)g.prototype[x[I]]=w;d.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,d,o){(function(g){var y,p,E=g.MutationObserver||g.WebKitMutationObserver;if(E){var T=0,S=new E(D),x=g.document.createTextNode("");S.observe(x,{characterData:!0}),y=function(){x.data=T=++T%2}}else if(g.setImmediate||g.MessageChannel===void 0)y="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var V=g.document.createElement("script");V.onreadystatechange=function(){D(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},g.document.documentElement.appendChild(V)}:function(){setTimeout(D,0)};else{var w=new g.MessageChannel;w.port1.onmessage=D,y=function(){w.port2.postMessage(0)}}var I=[];function D(){var V,ie;p=!0;for(var ee=I.length;ee;){for(ie=I,I=[],V=-1;++V<ee;)ie[V]();ee=I.length}p=!1}d.exports=function(V){I.push(V)!==1||p||y()}}).call(this,typeof u<"u"?u:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,d,o){var g=l("immediate");function y(){}var p={},E=["REJECTED"],T=["FULFILLED"],S=["PENDING"];function x(ee){if(typeof ee!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,ee!==y&&V(this,ee)}function w(ee,te,Y){this.promise=ee,typeof te=="function"&&(this.onFulfilled=te,this.callFulfilled=this.otherCallFulfilled),typeof Y=="function"&&(this.onRejected=Y,this.callRejected=this.otherCallRejected)}function I(ee,te,Y){g(function(){var W;try{W=te(Y)}catch(j){return p.reject(ee,j)}W===ee?p.reject(ee,new TypeError("Cannot resolve promise with itself")):p.resolve(ee,W)})}function D(ee){var te=ee&&ee.then;if(ee&&(typeof ee=="object"||typeof ee=="function")&&typeof te=="function")return function(){te.apply(ee,arguments)}}function V(ee,te){var Y=!1;function W(k){Y||(Y=!0,p.reject(ee,k))}function j(k){Y||(Y=!0,p.resolve(ee,k))}var O=ie(function(){te(j,W)});O.status==="error"&&W(O.value)}function ie(ee,te){var Y={};try{Y.value=ee(te),Y.status="success"}catch(W){Y.status="error",Y.value=W}return Y}(d.exports=x).prototype.finally=function(ee){if(typeof ee!="function")return this;var te=this.constructor;return this.then(function(Y){return te.resolve(ee()).then(function(){return Y})},function(Y){return te.resolve(ee()).then(function(){throw Y})})},x.prototype.catch=function(ee){return this.then(null,ee)},x.prototype.then=function(ee,te){if(typeof ee!="function"&&this.state===T||typeof te!="function"&&this.state===E)return this;var Y=new this.constructor(y);return this.state!==S?I(Y,this.state===T?ee:te,this.outcome):this.queue.push(new w(Y,ee,te)),Y},w.prototype.callFulfilled=function(ee){p.resolve(this.promise,ee)},w.prototype.otherCallFulfilled=function(ee){I(this.promise,this.onFulfilled,ee)},w.prototype.callRejected=function(ee){p.reject(this.promise,ee)},w.prototype.otherCallRejected=function(ee){I(this.promise,this.onRejected,ee)},p.resolve=function(ee,te){var Y=ie(D,te);if(Y.status==="error")return p.reject(ee,Y.value);var W=Y.value;if(W)V(ee,W);else{ee.state=T,ee.outcome=te;for(var j=-1,O=ee.queue.length;++j<O;)ee.queue[j].callFulfilled(te)}return ee},p.reject=function(ee,te){ee.state=E,ee.outcome=te;for(var Y=-1,W=ee.queue.length;++Y<W;)ee.queue[Y].callRejected(te);return ee},x.resolve=function(ee){return ee instanceof this?ee:p.resolve(new this(y),ee)},x.reject=function(ee){var te=new this(y);return p.reject(te,ee)},x.all=function(ee){var te=this;if(Object.prototype.toString.call(ee)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=ee.length,W=!1;if(!Y)return this.resolve([]);for(var j=new Array(Y),O=0,k=-1,B=new this(y);++k<Y;)H(ee[k],k);return B;function H($,K){te.resolve($).then(function(z){j[K]=z,++O!==Y||W||(W=!0,p.resolve(B,j))},function(z){W||(W=!0,p.reject(B,z))})}},x.race=function(ee){var te=this;if(Object.prototype.toString.call(ee)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=ee.length,W=!1;if(!Y)return this.resolve([]);for(var j=-1,O=new this(y);++j<Y;)k=ee[j],te.resolve(k).then(function(B){W||(W=!0,p.resolve(O,B))},function(B){W||(W=!0,p.reject(O,B))});var k;return O}},{immediate:36}],38:[function(l,d,o){var g={};(0,l("./lib/utils/common").assign)(g,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),d.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,d,o){var g=l("./zlib/deflate"),y=l("./utils/common"),p=l("./utils/strings"),E=l("./zlib/messages"),T=l("./zlib/zstream"),S=Object.prototype.toString,x=0,w=-1,I=0,D=8;function V(ee){if(!(this instanceof V))return new V(ee);this.options=y.assign({level:w,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:I,to:""},ee||{});var te=this.options;te.raw&&0<te.windowBits?te.windowBits=-te.windowBits:te.gzip&&0<te.windowBits&&te.windowBits<16&&(te.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var Y=g.deflateInit2(this.strm,te.level,te.method,te.windowBits,te.memLevel,te.strategy);if(Y!==x)throw new Error(E[Y]);if(te.header&&g.deflateSetHeader(this.strm,te.header),te.dictionary){var W;if(W=typeof te.dictionary=="string"?p.string2buf(te.dictionary):S.call(te.dictionary)==="[object ArrayBuffer]"?new Uint8Array(te.dictionary):te.dictionary,(Y=g.deflateSetDictionary(this.strm,W))!==x)throw new Error(E[Y]);this._dict_set=!0}}function ie(ee,te){var Y=new V(te);if(Y.push(ee,!0),Y.err)throw Y.msg||E[Y.err];return Y.result}V.prototype.push=function(ee,te){var Y,W,j=this.strm,O=this.options.chunkSize;if(this.ended)return!1;W=te===~~te?te:te===!0?4:0,typeof ee=="string"?j.input=p.string2buf(ee):S.call(ee)==="[object ArrayBuffer]"?j.input=new Uint8Array(ee):j.input=ee,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new y.Buf8(O),j.next_out=0,j.avail_out=O),(Y=g.deflate(j,W))!==1&&Y!==x)return this.onEnd(Y),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(y.shrinkBuf(j.output,j.next_out))):this.onData(y.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&Y!==1);return W===4?(Y=g.deflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===x):W!==2||(this.onEnd(x),!(j.avail_out=0))},V.prototype.onData=function(ee){this.chunks.push(ee)},V.prototype.onEnd=function(ee){ee===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=ee,this.msg=this.strm.msg},o.Deflate=V,o.deflate=ie,o.deflateRaw=function(ee,te){return(te=te||{}).raw=!0,ie(ee,te)},o.gzip=function(ee,te){return(te=te||{}).gzip=!0,ie(ee,te)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,d,o){var g=l("./zlib/inflate"),y=l("./utils/common"),p=l("./utils/strings"),E=l("./zlib/constants"),T=l("./zlib/messages"),S=l("./zlib/zstream"),x=l("./zlib/gzheader"),w=Object.prototype.toString;function I(V){if(!(this instanceof I))return new I(V);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},V||{});var ie=this.options;ie.raw&&0<=ie.windowBits&&ie.windowBits<16&&(ie.windowBits=-ie.windowBits,ie.windowBits===0&&(ie.windowBits=-15)),!(0<=ie.windowBits&&ie.windowBits<16)||V&&V.windowBits||(ie.windowBits+=32),15<ie.windowBits&&ie.windowBits<48&&!(15&ie.windowBits)&&(ie.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var ee=g.inflateInit2(this.strm,ie.windowBits);if(ee!==E.Z_OK)throw new Error(T[ee]);this.header=new x,g.inflateGetHeader(this.strm,this.header)}function D(V,ie){var ee=new I(ie);if(ee.push(V,!0),ee.err)throw ee.msg||T[ee.err];return ee.result}I.prototype.push=function(V,ie){var ee,te,Y,W,j,O,k=this.strm,B=this.options.chunkSize,H=this.options.dictionary,$=!1;if(this.ended)return!1;te=ie===~~ie?ie:ie===!0?E.Z_FINISH:E.Z_NO_FLUSH,typeof V=="string"?k.input=p.binstring2buf(V):w.call(V)==="[object ArrayBuffer]"?k.input=new Uint8Array(V):k.input=V,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new y.Buf8(B),k.next_out=0,k.avail_out=B),(ee=g.inflate(k,E.Z_NO_FLUSH))===E.Z_NEED_DICT&&H&&(O=typeof H=="string"?p.string2buf(H):w.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,ee=g.inflateSetDictionary(this.strm,O)),ee===E.Z_BUF_ERROR&&$===!0&&(ee=E.Z_OK,$=!1),ee!==E.Z_STREAM_END&&ee!==E.Z_OK)return this.onEnd(ee),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&ee!==E.Z_STREAM_END&&(k.avail_in!==0||te!==E.Z_FINISH&&te!==E.Z_SYNC_FLUSH)||(this.options.to==="string"?(Y=p.utf8border(k.output,k.next_out),W=k.next_out-Y,j=p.buf2string(k.output,Y),k.next_out=W,k.avail_out=B-W,W&&y.arraySet(k.output,k.output,Y,W,0),this.onData(j)):this.onData(y.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&($=!0)}while((0<k.avail_in||k.avail_out===0)&&ee!==E.Z_STREAM_END);return ee===E.Z_STREAM_END&&(te=E.Z_FINISH),te===E.Z_FINISH?(ee=g.inflateEnd(this.strm),this.onEnd(ee),this.ended=!0,ee===E.Z_OK):te!==E.Z_SYNC_FLUSH||(this.onEnd(E.Z_OK),!(k.avail_out=0))},I.prototype.onData=function(V){this.chunks.push(V)},I.prototype.onEnd=function(V){V===E.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},o.Inflate=I,o.inflate=D,o.inflateRaw=function(V,ie){return(ie=ie||{}).raw=!0,D(V,ie)},o.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,d,o){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(E){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var S=T.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var x in S)S.hasOwnProperty(x)&&(E[x]=S[x])}}return E},o.shrinkBuf=function(E,T){return E.length===T?E:E.subarray?E.subarray(0,T):(E.length=T,E)};var y={arraySet:function(E,T,S,x,w){if(T.subarray&&E.subarray)E.set(T.subarray(S,S+x),w);else for(var I=0;I<x;I++)E[w+I]=T[S+I]},flattenChunks:function(E){var T,S,x,w,I,D;for(T=x=0,S=E.length;T<S;T++)x+=E[T].length;for(D=new Uint8Array(x),T=w=0,S=E.length;T<S;T++)I=E[T],D.set(I,w),w+=I.length;return D}},p={arraySet:function(E,T,S,x,w){for(var I=0;I<x;I++)E[w+I]=T[S+I]},flattenChunks:function(E){return[].concat.apply([],E)}};o.setTyped=function(E){E?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,y)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,p))},o.setTyped(g)},{}],42:[function(l,d,o){var g=l("./common"),y=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var E=new g.Buf8(256),T=0;T<256;T++)E[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function S(x,w){if(w<65537&&(x.subarray&&p||!x.subarray&&y))return String.fromCharCode.apply(null,g.shrinkBuf(x,w));for(var I="",D=0;D<w;D++)I+=String.fromCharCode(x[D]);return I}E[254]=E[254]=1,o.string2buf=function(x){var w,I,D,V,ie,ee=x.length,te=0;for(V=0;V<ee;V++)(64512&(I=x.charCodeAt(V)))==55296&&V+1<ee&&(64512&(D=x.charCodeAt(V+1)))==56320&&(I=65536+(I-55296<<10)+(D-56320),V++),te+=I<128?1:I<2048?2:I<65536?3:4;for(w=new g.Buf8(te),V=ie=0;ie<te;V++)(64512&(I=x.charCodeAt(V)))==55296&&V+1<ee&&(64512&(D=x.charCodeAt(V+1)))==56320&&(I=65536+(I-55296<<10)+(D-56320),V++),I<128?w[ie++]=I:(I<2048?w[ie++]=192|I>>>6:(I<65536?w[ie++]=224|I>>>12:(w[ie++]=240|I>>>18,w[ie++]=128|I>>>12&63),w[ie++]=128|I>>>6&63),w[ie++]=128|63&I);return w},o.buf2binstring=function(x){return S(x,x.length)},o.binstring2buf=function(x){for(var w=new g.Buf8(x.length),I=0,D=w.length;I<D;I++)w[I]=x.charCodeAt(I);return w},o.buf2string=function(x,w){var I,D,V,ie,ee=w||x.length,te=new Array(2*ee);for(I=D=0;I<ee;)if((V=x[I++])<128)te[D++]=V;else if(4<(ie=E[V]))te[D++]=65533,I+=ie-1;else{for(V&=ie===2?31:ie===3?15:7;1<ie&&I<ee;)V=V<<6|63&x[I++],ie--;1<ie?te[D++]=65533:V<65536?te[D++]=V:(V-=65536,te[D++]=55296|V>>10&1023,te[D++]=56320|1023&V)}return S(te,D)},o.utf8border=function(x,w){var I;for((w=w||x.length)>x.length&&(w=x.length),I=w-1;0<=I&&(192&x[I])==128;)I--;return I<0||I===0?w:I+E[x[I]]>w?I:w}},{"./common":41}],43:[function(l,d,o){d.exports=function(g,y,p,E){for(var T=65535&g|0,S=g>>>16&65535|0,x=0;p!==0;){for(p-=x=2e3<p?2e3:p;S=S+(T=T+y[E++]|0)|0,--x;);T%=65521,S%=65521}return T|S<<16|0}},{}],44:[function(l,d,o){d.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,d,o){var g=function(){for(var y,p=[],E=0;E<256;E++){y=E;for(var T=0;T<8;T++)y=1&y?3988292384^y>>>1:y>>>1;p[E]=y}return p}();d.exports=function(y,p,E,T){var S=g,x=T+E;y^=-1;for(var w=T;w<x;w++)y=y>>>8^S[255&(y^p[w])];return-1^y}},{}],46:[function(l,d,o){var g,y=l("../utils/common"),p=l("./trees"),E=l("./adler32"),T=l("./crc32"),S=l("./messages"),x=0,w=4,I=0,D=-2,V=-1,ie=4,ee=2,te=8,Y=9,W=286,j=30,O=19,k=2*W+1,B=15,H=3,$=258,K=$+H+1,z=42,F=113,L=1,G=2,le=3,ge=4;function Ie(ae,Pe){return ae.msg=S[Pe],Pe}function Oe(ae){return(ae<<1)-(4<ae?9:0)}function Ke(ae){for(var Pe=ae.length;0<=--Pe;)ae[Pe]=0}function De(ae){var Pe=ae.state,ze=Pe.pending;ze>ae.avail_out&&(ze=ae.avail_out),ze!==0&&(y.arraySet(ae.output,Pe.pending_buf,Pe.pending_out,ze,ae.next_out),ae.next_out+=ze,Pe.pending_out+=ze,ae.total_out+=ze,ae.avail_out-=ze,Pe.pending-=ze,Pe.pending===0&&(Pe.pending_out=0))}function Te(ae,Pe){p._tr_flush_block(ae,0<=ae.block_start?ae.block_start:-1,ae.strstart-ae.block_start,Pe),ae.block_start=ae.strstart,De(ae.strm)}function Z(ae,Pe){ae.pending_buf[ae.pending++]=Pe}function ue(ae,Pe){ae.pending_buf[ae.pending++]=Pe>>>8&255,ae.pending_buf[ae.pending++]=255&Pe}function Ee(ae,Pe){var ze,ve,Ae=ae.max_chain_length,Fe=ae.strstart,We=ae.prev_length,Je=ae.nice_match,Ge=ae.strstart>ae.w_size-K?ae.strstart-(ae.w_size-K):0,et=ae.window,ut=ae.w_mask,at=ae.prev,Be=ae.strstart+$,Qe=et[Fe+We-1],rt=et[Fe+We];ae.prev_length>=ae.good_match&&(Ae>>=2),Je>ae.lookahead&&(Je=ae.lookahead);do if(et[(ze=Pe)+We]===rt&&et[ze+We-1]===Qe&&et[ze]===et[Fe]&&et[++ze]===et[Fe+1]){Fe+=2,ze++;do;while(et[++Fe]===et[++ze]&&et[++Fe]===et[++ze]&&et[++Fe]===et[++ze]&&et[++Fe]===et[++ze]&&et[++Fe]===et[++ze]&&et[++Fe]===et[++ze]&&et[++Fe]===et[++ze]&&et[++Fe]===et[++ze]&&Fe<Be);if(ve=$-(Be-Fe),Fe=Be-$,We<ve){if(ae.match_start=Pe,Je<=(We=ve))break;Qe=et[Fe+We-1],rt=et[Fe+We]}}while((Pe=at[Pe&ut])>Ge&&--Ae!=0);return We<=ae.lookahead?We:ae.lookahead}function _e(ae){var Pe,ze,ve,Ae,Fe,We,Je,Ge,et,ut,at=ae.w_size;do{if(Ae=ae.window_size-ae.lookahead-ae.strstart,ae.strstart>=at+(at-K)){for(y.arraySet(ae.window,ae.window,at,at,0),ae.match_start-=at,ae.strstart-=at,ae.block_start-=at,Pe=ze=ae.hash_size;ve=ae.head[--Pe],ae.head[Pe]=at<=ve?ve-at:0,--ze;);for(Pe=ze=at;ve=ae.prev[--Pe],ae.prev[Pe]=at<=ve?ve-at:0,--ze;);Ae+=at}if(ae.strm.avail_in===0)break;if(We=ae.strm,Je=ae.window,Ge=ae.strstart+ae.lookahead,et=Ae,ut=void 0,ut=We.avail_in,et<ut&&(ut=et),ze=ut===0?0:(We.avail_in-=ut,y.arraySet(Je,We.input,We.next_in,ut,Ge),We.state.wrap===1?We.adler=E(We.adler,Je,ut,Ge):We.state.wrap===2&&(We.adler=T(We.adler,Je,ut,Ge)),We.next_in+=ut,We.total_in+=ut,ut),ae.lookahead+=ze,ae.lookahead+ae.insert>=H)for(Fe=ae.strstart-ae.insert,ae.ins_h=ae.window[Fe],ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[Fe+1])&ae.hash_mask;ae.insert&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[Fe+H-1])&ae.hash_mask,ae.prev[Fe&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=Fe,Fe++,ae.insert--,!(ae.lookahead+ae.insert<H)););}while(ae.lookahead<K&&ae.strm.avail_in!==0)}function he(ae,Pe){for(var ze,ve;;){if(ae.lookahead<K){if(_e(ae),ae.lookahead<K&&Pe===x)return L;if(ae.lookahead===0)break}if(ze=0,ae.lookahead>=H&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart),ze!==0&&ae.strstart-ze<=ae.w_size-K&&(ae.match_length=Ee(ae,ze)),ae.match_length>=H)if(ve=p._tr_tally(ae,ae.strstart-ae.match_start,ae.match_length-H),ae.lookahead-=ae.match_length,ae.match_length<=ae.max_lazy_match&&ae.lookahead>=H){for(ae.match_length--;ae.strstart++,ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart,--ae.match_length!=0;);ae.strstart++}else ae.strstart+=ae.match_length,ae.match_length=0,ae.ins_h=ae.window[ae.strstart],ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+1])&ae.hash_mask;else ve=p._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++;if(ve&&(Te(ae,!1),ae.strm.avail_out===0))return L}return ae.insert=ae.strstart<H-1?ae.strstart:H-1,Pe===w?(Te(ae,!0),ae.strm.avail_out===0?le:ge):ae.last_lit&&(Te(ae,!1),ae.strm.avail_out===0)?L:G}function de(ae,Pe){for(var ze,ve,Ae;;){if(ae.lookahead<K){if(_e(ae),ae.lookahead<K&&Pe===x)return L;if(ae.lookahead===0)break}if(ze=0,ae.lookahead>=H&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart),ae.prev_length=ae.match_length,ae.prev_match=ae.match_start,ae.match_length=H-1,ze!==0&&ae.prev_length<ae.max_lazy_match&&ae.strstart-ze<=ae.w_size-K&&(ae.match_length=Ee(ae,ze),ae.match_length<=5&&(ae.strategy===1||ae.match_length===H&&4096<ae.strstart-ae.match_start)&&(ae.match_length=H-1)),ae.prev_length>=H&&ae.match_length<=ae.prev_length){for(Ae=ae.strstart+ae.lookahead-H,ve=p._tr_tally(ae,ae.strstart-1-ae.prev_match,ae.prev_length-H),ae.lookahead-=ae.prev_length-1,ae.prev_length-=2;++ae.strstart<=Ae&&(ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[ae.strstart+H-1])&ae.hash_mask,ze=ae.prev[ae.strstart&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=ae.strstart),--ae.prev_length!=0;);if(ae.match_available=0,ae.match_length=H-1,ae.strstart++,ve&&(Te(ae,!1),ae.strm.avail_out===0))return L}else if(ae.match_available){if((ve=p._tr_tally(ae,0,ae.window[ae.strstart-1]))&&Te(ae,!1),ae.strstart++,ae.lookahead--,ae.strm.avail_out===0)return L}else ae.match_available=1,ae.strstart++,ae.lookahead--}return ae.match_available&&(ve=p._tr_tally(ae,0,ae.window[ae.strstart-1]),ae.match_available=0),ae.insert=ae.strstart<H-1?ae.strstart:H-1,Pe===w?(Te(ae,!0),ae.strm.avail_out===0?le:ge):ae.last_lit&&(Te(ae,!1),ae.strm.avail_out===0)?L:G}function ce(ae,Pe,ze,ve,Ae){this.good_length=ae,this.max_lazy=Pe,this.nice_length=ze,this.max_chain=ve,this.func=Ae}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=te,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(2*k),this.dyn_dtree=new y.Buf16(2*(2*j+1)),this.bl_tree=new y.Buf16(2*(2*O+1)),Ke(this.dyn_ltree),Ke(this.dyn_dtree),Ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(B+1),this.heap=new y.Buf16(2*W+1),Ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*W+1),Ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ne(ae){var Pe;return ae&&ae.state?(ae.total_in=ae.total_out=0,ae.data_type=ee,(Pe=ae.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?z:F,ae.adler=Pe.wrap===2?0:1,Pe.last_flush=x,p._tr_init(Pe),I):Ie(ae,D)}function we(ae){var Pe=ne(ae);return Pe===I&&function(ze){ze.window_size=2*ze.w_size,Ke(ze.head),ze.max_lazy_match=g[ze.level].max_lazy,ze.good_match=g[ze.level].good_length,ze.nice_match=g[ze.level].nice_length,ze.max_chain_length=g[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=H-1,ze.match_available=0,ze.ins_h=0}(ae.state),Pe}function Ne(ae,Pe,ze,ve,Ae,Fe){if(!ae)return D;var We=1;if(Pe===V&&(Pe=6),ve<0?(We=0,ve=-ve):15<ve&&(We=2,ve-=16),Ae<1||Y<Ae||ze!==te||ve<8||15<ve||Pe<0||9<Pe||Fe<0||ie<Fe)return Ie(ae,D);ve===8&&(ve=9);var Je=new se;return(ae.state=Je).strm=ae,Je.wrap=We,Je.gzhead=null,Je.w_bits=ve,Je.w_size=1<<Je.w_bits,Je.w_mask=Je.w_size-1,Je.hash_bits=Ae+7,Je.hash_size=1<<Je.hash_bits,Je.hash_mask=Je.hash_size-1,Je.hash_shift=~~((Je.hash_bits+H-1)/H),Je.window=new y.Buf8(2*Je.w_size),Je.head=new y.Buf16(Je.hash_size),Je.prev=new y.Buf16(Je.w_size),Je.lit_bufsize=1<<Ae+6,Je.pending_buf_size=4*Je.lit_bufsize,Je.pending_buf=new y.Buf8(Je.pending_buf_size),Je.d_buf=1*Je.lit_bufsize,Je.l_buf=3*Je.lit_bufsize,Je.level=Pe,Je.strategy=Fe,Je.method=ze,we(ae)}g=[new ce(0,0,0,0,function(ae,Pe){var ze=65535;for(ze>ae.pending_buf_size-5&&(ze=ae.pending_buf_size-5);;){if(ae.lookahead<=1){if(_e(ae),ae.lookahead===0&&Pe===x)return L;if(ae.lookahead===0)break}ae.strstart+=ae.lookahead,ae.lookahead=0;var ve=ae.block_start+ze;if((ae.strstart===0||ae.strstart>=ve)&&(ae.lookahead=ae.strstart-ve,ae.strstart=ve,Te(ae,!1),ae.strm.avail_out===0)||ae.strstart-ae.block_start>=ae.w_size-K&&(Te(ae,!1),ae.strm.avail_out===0))return L}return ae.insert=0,Pe===w?(Te(ae,!0),ae.strm.avail_out===0?le:ge):(ae.strstart>ae.block_start&&(Te(ae,!1),ae.strm.avail_out),L)}),new ce(4,4,8,4,he),new ce(4,5,16,8,he),new ce(4,6,32,32,he),new ce(4,4,16,16,de),new ce(8,16,32,32,de),new ce(8,16,128,128,de),new ce(8,32,128,256,de),new ce(32,128,258,1024,de),new ce(32,258,258,4096,de)],o.deflateInit=function(ae,Pe){return Ne(ae,Pe,te,15,8,0)},o.deflateInit2=Ne,o.deflateReset=we,o.deflateResetKeep=ne,o.deflateSetHeader=function(ae,Pe){return ae&&ae.state?ae.state.wrap!==2?D:(ae.state.gzhead=Pe,I):D},o.deflate=function(ae,Pe){var ze,ve,Ae,Fe;if(!ae||!ae.state||5<Pe||Pe<0)return ae?Ie(ae,D):D;if(ve=ae.state,!ae.output||!ae.input&&ae.avail_in!==0||ve.status===666&&Pe!==w)return Ie(ae,ae.avail_out===0?-5:D);if(ve.strm=ae,ze=ve.last_flush,ve.last_flush=Pe,ve.status===z)if(ve.wrap===2)ae.adler=0,Z(ve,31),Z(ve,139),Z(ve,8),ve.gzhead?(Z(ve,(ve.gzhead.text?1:0)+(ve.gzhead.hcrc?2:0)+(ve.gzhead.extra?4:0)+(ve.gzhead.name?8:0)+(ve.gzhead.comment?16:0)),Z(ve,255&ve.gzhead.time),Z(ve,ve.gzhead.time>>8&255),Z(ve,ve.gzhead.time>>16&255),Z(ve,ve.gzhead.time>>24&255),Z(ve,ve.level===9?2:2<=ve.strategy||ve.level<2?4:0),Z(ve,255&ve.gzhead.os),ve.gzhead.extra&&ve.gzhead.extra.length&&(Z(ve,255&ve.gzhead.extra.length),Z(ve,ve.gzhead.extra.length>>8&255)),ve.gzhead.hcrc&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending,0)),ve.gzindex=0,ve.status=69):(Z(ve,0),Z(ve,0),Z(ve,0),Z(ve,0),Z(ve,0),Z(ve,ve.level===9?2:2<=ve.strategy||ve.level<2?4:0),Z(ve,3),ve.status=F);else{var We=te+(ve.w_bits-8<<4)<<8;We|=(2<=ve.strategy||ve.level<2?0:ve.level<6?1:ve.level===6?2:3)<<6,ve.strstart!==0&&(We|=32),We+=31-We%31,ve.status=F,ue(ve,We),ve.strstart!==0&&(ue(ve,ae.adler>>>16),ue(ve,65535&ae.adler)),ae.adler=1}if(ve.status===69)if(ve.gzhead.extra){for(Ae=ve.pending;ve.gzindex<(65535&ve.gzhead.extra.length)&&(ve.pending!==ve.pending_buf_size||(ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),De(ae),Ae=ve.pending,ve.pending!==ve.pending_buf_size));)Z(ve,255&ve.gzhead.extra[ve.gzindex]),ve.gzindex++;ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),ve.gzindex===ve.gzhead.extra.length&&(ve.gzindex=0,ve.status=73)}else ve.status=73;if(ve.status===73)if(ve.gzhead.name){Ae=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),De(ae),Ae=ve.pending,ve.pending===ve.pending_buf_size)){Fe=1;break}Fe=ve.gzindex<ve.gzhead.name.length?255&ve.gzhead.name.charCodeAt(ve.gzindex++):0,Z(ve,Fe)}while(Fe!==0);ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),Fe===0&&(ve.gzindex=0,ve.status=91)}else ve.status=91;if(ve.status===91)if(ve.gzhead.comment){Ae=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),De(ae),Ae=ve.pending,ve.pending===ve.pending_buf_size)){Fe=1;break}Fe=ve.gzindex<ve.gzhead.comment.length?255&ve.gzhead.comment.charCodeAt(ve.gzindex++):0,Z(ve,Fe)}while(Fe!==0);ve.gzhead.hcrc&&ve.pending>Ae&&(ae.adler=T(ae.adler,ve.pending_buf,ve.pending-Ae,Ae)),Fe===0&&(ve.status=103)}else ve.status=103;if(ve.status===103&&(ve.gzhead.hcrc?(ve.pending+2>ve.pending_buf_size&&De(ae),ve.pending+2<=ve.pending_buf_size&&(Z(ve,255&ae.adler),Z(ve,ae.adler>>8&255),ae.adler=0,ve.status=F)):ve.status=F),ve.pending!==0){if(De(ae),ae.avail_out===0)return ve.last_flush=-1,I}else if(ae.avail_in===0&&Oe(Pe)<=Oe(ze)&&Pe!==w)return Ie(ae,-5);if(ve.status===666&&ae.avail_in!==0)return Ie(ae,-5);if(ae.avail_in!==0||ve.lookahead!==0||Pe!==x&&ve.status!==666){var Je=ve.strategy===2?function(Ge,et){for(var ut;;){if(Ge.lookahead===0&&(_e(Ge),Ge.lookahead===0)){if(et===x)return L;break}if(Ge.match_length=0,ut=p._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++,ut&&(Te(Ge,!1),Ge.strm.avail_out===0))return L}return Ge.insert=0,et===w?(Te(Ge,!0),Ge.strm.avail_out===0?le:ge):Ge.last_lit&&(Te(Ge,!1),Ge.strm.avail_out===0)?L:G}(ve,Pe):ve.strategy===3?function(Ge,et){for(var ut,at,Be,Qe,rt=Ge.window;;){if(Ge.lookahead<=$){if(_e(Ge),Ge.lookahead<=$&&et===x)return L;if(Ge.lookahead===0)break}if(Ge.match_length=0,Ge.lookahead>=H&&0<Ge.strstart&&(at=rt[Be=Ge.strstart-1])===rt[++Be]&&at===rt[++Be]&&at===rt[++Be]){Qe=Ge.strstart+$;do;while(at===rt[++Be]&&at===rt[++Be]&&at===rt[++Be]&&at===rt[++Be]&&at===rt[++Be]&&at===rt[++Be]&&at===rt[++Be]&&at===rt[++Be]&&Be<Qe);Ge.match_length=$-(Qe-Be),Ge.match_length>Ge.lookahead&&(Ge.match_length=Ge.lookahead)}if(Ge.match_length>=H?(ut=p._tr_tally(Ge,1,Ge.match_length-H),Ge.lookahead-=Ge.match_length,Ge.strstart+=Ge.match_length,Ge.match_length=0):(ut=p._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++),ut&&(Te(Ge,!1),Ge.strm.avail_out===0))return L}return Ge.insert=0,et===w?(Te(Ge,!0),Ge.strm.avail_out===0?le:ge):Ge.last_lit&&(Te(Ge,!1),Ge.strm.avail_out===0)?L:G}(ve,Pe):g[ve.level].func(ve,Pe);if(Je!==le&&Je!==ge||(ve.status=666),Je===L||Je===le)return ae.avail_out===0&&(ve.last_flush=-1),I;if(Je===G&&(Pe===1?p._tr_align(ve):Pe!==5&&(p._tr_stored_block(ve,0,0,!1),Pe===3&&(Ke(ve.head),ve.lookahead===0&&(ve.strstart=0,ve.block_start=0,ve.insert=0))),De(ae),ae.avail_out===0))return ve.last_flush=-1,I}return Pe!==w?I:ve.wrap<=0?1:(ve.wrap===2?(Z(ve,255&ae.adler),Z(ve,ae.adler>>8&255),Z(ve,ae.adler>>16&255),Z(ve,ae.adler>>24&255),Z(ve,255&ae.total_in),Z(ve,ae.total_in>>8&255),Z(ve,ae.total_in>>16&255),Z(ve,ae.total_in>>24&255)):(ue(ve,ae.adler>>>16),ue(ve,65535&ae.adler)),De(ae),0<ve.wrap&&(ve.wrap=-ve.wrap),ve.pending!==0?I:1)},o.deflateEnd=function(ae){var Pe;return ae&&ae.state?(Pe=ae.state.status)!==z&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==F&&Pe!==666?Ie(ae,D):(ae.state=null,Pe===F?Ie(ae,-3):I):D},o.deflateSetDictionary=function(ae,Pe){var ze,ve,Ae,Fe,We,Je,Ge,et,ut=Pe.length;if(!ae||!ae.state||(Fe=(ze=ae.state).wrap)===2||Fe===1&&ze.status!==z||ze.lookahead)return D;for(Fe===1&&(ae.adler=E(ae.adler,Pe,ut,0)),ze.wrap=0,ut>=ze.w_size&&(Fe===0&&(Ke(ze.head),ze.strstart=0,ze.block_start=0,ze.insert=0),et=new y.Buf8(ze.w_size),y.arraySet(et,Pe,ut-ze.w_size,ze.w_size,0),Pe=et,ut=ze.w_size),We=ae.avail_in,Je=ae.next_in,Ge=ae.input,ae.avail_in=ut,ae.next_in=0,ae.input=Pe,_e(ze);ze.lookahead>=H;){for(ve=ze.strstart,Ae=ze.lookahead-(H-1);ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[ve+H-1])&ze.hash_mask,ze.prev[ve&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=ve,ve++,--Ae;);ze.strstart=ve,ze.lookahead=H-1,_e(ze)}return ze.strstart+=ze.lookahead,ze.block_start=ze.strstart,ze.insert=ze.lookahead,ze.lookahead=0,ze.match_length=ze.prev_length=H-1,ze.match_available=0,ae.next_in=Je,ae.input=Ge,ae.avail_in=We,ze.wrap=Fe,I},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,d,o){d.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,d,o){d.exports=function(g,y){var p,E,T,S,x,w,I,D,V,ie,ee,te,Y,W,j,O,k,B,H,$,K,z,F,L,G;p=g.state,E=g.next_in,L=g.input,T=E+(g.avail_in-5),S=g.next_out,G=g.output,x=S-(y-g.avail_out),w=S+(g.avail_out-257),I=p.dmax,D=p.wsize,V=p.whave,ie=p.wnext,ee=p.window,te=p.hold,Y=p.bits,W=p.lencode,j=p.distcode,O=(1<<p.lenbits)-1,k=(1<<p.distbits)-1;e:do{Y<15&&(te+=L[E++]<<Y,Y+=8,te+=L[E++]<<Y,Y+=8),B=W[te&O];t:for(;;){if(te>>>=H=B>>>24,Y-=H,(H=B>>>16&255)===0)G[S++]=65535&B;else{if(!(16&H)){if(!(64&H)){B=W[(65535&B)+(te&(1<<H)-1)];continue t}if(32&H){p.mode=12;break e}g.msg="invalid literal/length code",p.mode=30;break e}$=65535&B,(H&=15)&&(Y<H&&(te+=L[E++]<<Y,Y+=8),$+=te&(1<<H)-1,te>>>=H,Y-=H),Y<15&&(te+=L[E++]<<Y,Y+=8,te+=L[E++]<<Y,Y+=8),B=j[te&k];r:for(;;){if(te>>>=H=B>>>24,Y-=H,!(16&(H=B>>>16&255))){if(!(64&H)){B=j[(65535&B)+(te&(1<<H)-1)];continue r}g.msg="invalid distance code",p.mode=30;break e}if(K=65535&B,Y<(H&=15)&&(te+=L[E++]<<Y,(Y+=8)<H&&(te+=L[E++]<<Y,Y+=8)),I<(K+=te&(1<<H)-1)){g.msg="invalid distance too far back",p.mode=30;break e}if(te>>>=H,Y-=H,(H=S-x)<K){if(V<(H=K-H)&&p.sane){g.msg="invalid distance too far back",p.mode=30;break e}if(F=ee,(z=0)===ie){if(z+=D-H,H<$){for($-=H;G[S++]=ee[z++],--H;);z=S-K,F=G}}else if(ie<H){if(z+=D+ie-H,(H-=ie)<$){for($-=H;G[S++]=ee[z++],--H;);if(z=0,ie<$){for($-=H=ie;G[S++]=ee[z++],--H;);z=S-K,F=G}}}else if(z+=ie-H,H<$){for($-=H;G[S++]=ee[z++],--H;);z=S-K,F=G}for(;2<$;)G[S++]=F[z++],G[S++]=F[z++],G[S++]=F[z++],$-=3;$&&(G[S++]=F[z++],1<$&&(G[S++]=F[z++]))}else{for(z=S-K;G[S++]=G[z++],G[S++]=G[z++],G[S++]=G[z++],2<($-=3););$&&(G[S++]=G[z++],1<$&&(G[S++]=G[z++]))}break}}break}}while(E<T&&S<w);E-=$=Y>>3,te&=(1<<(Y-=$<<3))-1,g.next_in=E,g.next_out=S,g.avail_in=E<T?T-E+5:5-(E-T),g.avail_out=S<w?w-S+257:257-(S-w),p.hold=te,p.bits=Y}},{}],49:[function(l,d,o){var g=l("../utils/common"),y=l("./adler32"),p=l("./crc32"),E=l("./inffast"),T=l("./inftrees"),S=1,x=2,w=0,I=-2,D=1,V=852,ie=592;function ee(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Y(z){var F;return z&&z.state?(F=z.state,z.total_in=z.total_out=F.total=0,z.msg="",F.wrap&&(z.adler=1&F.wrap),F.mode=D,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new g.Buf32(V),F.distcode=F.distdyn=new g.Buf32(ie),F.sane=1,F.back=-1,w):I}function W(z){var F;return z&&z.state?((F=z.state).wsize=0,F.whave=0,F.wnext=0,Y(z)):I}function j(z,F){var L,G;return z&&z.state?(G=z.state,F<0?(L=0,F=-F):(L=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?I:(G.window!==null&&G.wbits!==F&&(G.window=null),G.wrap=L,G.wbits=F,W(z))):I}function O(z,F){var L,G;return z?(G=new te,(z.state=G).window=null,(L=j(z,F))!==w&&(z.state=null),L):I}var k,B,H=!0;function $(z){if(H){var F;for(k=new g.Buf32(512),B=new g.Buf32(32),F=0;F<144;)z.lens[F++]=8;for(;F<256;)z.lens[F++]=9;for(;F<280;)z.lens[F++]=7;for(;F<288;)z.lens[F++]=8;for(T(S,z.lens,0,288,k,0,z.work,{bits:9}),F=0;F<32;)z.lens[F++]=5;T(x,z.lens,0,32,B,0,z.work,{bits:5}),H=!1}z.lencode=k,z.lenbits=9,z.distcode=B,z.distbits=5}function K(z,F,L,G){var le,ge=z.state;return ge.window===null&&(ge.wsize=1<<ge.wbits,ge.wnext=0,ge.whave=0,ge.window=new g.Buf8(ge.wsize)),G>=ge.wsize?(g.arraySet(ge.window,F,L-ge.wsize,ge.wsize,0),ge.wnext=0,ge.whave=ge.wsize):(G<(le=ge.wsize-ge.wnext)&&(le=G),g.arraySet(ge.window,F,L-G,le,ge.wnext),(G-=le)?(g.arraySet(ge.window,F,L-G,G,0),ge.wnext=G,ge.whave=ge.wsize):(ge.wnext+=le,ge.wnext===ge.wsize&&(ge.wnext=0),ge.whave<ge.wsize&&(ge.whave+=le))),0}o.inflateReset=W,o.inflateReset2=j,o.inflateResetKeep=Y,o.inflateInit=function(z){return O(z,15)},o.inflateInit2=O,o.inflate=function(z,F){var L,G,le,ge,Ie,Oe,Ke,De,Te,Z,ue,Ee,_e,he,de,ce,se,ne,we,Ne,ae,Pe,ze,ve,Ae=0,Fe=new g.Buf8(4),We=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return I;(L=z.state).mode===12&&(L.mode=13),Ie=z.next_out,le=z.output,Ke=z.avail_out,ge=z.next_in,G=z.input,Oe=z.avail_in,De=L.hold,Te=L.bits,Z=Oe,ue=Ke,Pe=w;e:for(;;)switch(L.mode){case D:if(L.wrap===0){L.mode=13;break}for(;Te<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(2&L.wrap&&De===35615){Fe[L.check=0]=255&De,Fe[1]=De>>>8&255,L.check=p(L.check,Fe,2,0),Te=De=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&De)<<8)+(De>>8))%31){z.msg="incorrect header check",L.mode=30;break}if((15&De)!=8){z.msg="unknown compression method",L.mode=30;break}if(Te-=4,ae=8+(15&(De>>>=4)),L.wbits===0)L.wbits=ae;else if(ae>L.wbits){z.msg="invalid window size",L.mode=30;break}L.dmax=1<<ae,z.adler=L.check=1,L.mode=512&De?10:12,Te=De=0;break;case 2:for(;Te<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(L.flags=De,(255&L.flags)!=8){z.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){z.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=De>>8&1),512&L.flags&&(Fe[0]=255&De,Fe[1]=De>>>8&255,L.check=p(L.check,Fe,2,0)),Te=De=0,L.mode=3;case 3:for(;Te<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}L.head&&(L.head.time=De),512&L.flags&&(Fe[0]=255&De,Fe[1]=De>>>8&255,Fe[2]=De>>>16&255,Fe[3]=De>>>24&255,L.check=p(L.check,Fe,4,0)),Te=De=0,L.mode=4;case 4:for(;Te<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}L.head&&(L.head.xflags=255&De,L.head.os=De>>8),512&L.flags&&(Fe[0]=255&De,Fe[1]=De>>>8&255,L.check=p(L.check,Fe,2,0)),Te=De=0,L.mode=5;case 5:if(1024&L.flags){for(;Te<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}L.length=De,L.head&&(L.head.extra_len=De),512&L.flags&&(Fe[0]=255&De,Fe[1]=De>>>8&255,L.check=p(L.check,Fe,2,0)),Te=De=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(Oe<(Ee=L.length)&&(Ee=Oe),Ee&&(L.head&&(ae=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),g.arraySet(L.head.extra,G,ge,Ee,ae)),512&L.flags&&(L.check=p(L.check,G,Ee,ge)),Oe-=Ee,ge+=Ee,L.length-=Ee),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(Oe===0)break e;for(Ee=0;ae=G[ge+Ee++],L.head&&ae&&L.length<65536&&(L.head.name+=String.fromCharCode(ae)),ae&&Ee<Oe;);if(512&L.flags&&(L.check=p(L.check,G,Ee,ge)),Oe-=Ee,ge+=Ee,ae)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(Oe===0)break e;for(Ee=0;ae=G[ge+Ee++],L.head&&ae&&L.length<65536&&(L.head.comment+=String.fromCharCode(ae)),ae&&Ee<Oe;);if(512&L.flags&&(L.check=p(L.check,G,Ee,ge)),Oe-=Ee,ge+=Ee,ae)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;Te<16;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(De!==(65535&L.check)){z.msg="header crc mismatch",L.mode=30;break}Te=De=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),z.adler=L.check=0,L.mode=12;break;case 10:for(;Te<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}z.adler=L.check=ee(De),Te=De=0,L.mode=11;case 11:if(L.havedict===0)return z.next_out=Ie,z.avail_out=Ke,z.next_in=ge,z.avail_in=Oe,L.hold=De,L.bits=Te,2;z.adler=L.check=1,L.mode=12;case 12:if(F===5||F===6)break e;case 13:if(L.last){De>>>=7&Te,Te-=7&Te,L.mode=27;break}for(;Te<3;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}switch(L.last=1&De,Te-=1,3&(De>>>=1)){case 0:L.mode=14;break;case 1:if($(L),L.mode=20,F!==6)break;De>>>=2,Te-=2;break e;case 2:L.mode=17;break;case 3:z.msg="invalid block type",L.mode=30}De>>>=2,Te-=2;break;case 14:for(De>>>=7&Te,Te-=7&Te;Te<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if((65535&De)!=(De>>>16^65535)){z.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&De,Te=De=0,L.mode=15,F===6)break e;case 15:L.mode=16;case 16:if(Ee=L.length){if(Oe<Ee&&(Ee=Oe),Ke<Ee&&(Ee=Ke),Ee===0)break e;g.arraySet(le,G,ge,Ee,Ie),Oe-=Ee,ge+=Ee,Ke-=Ee,Ie+=Ee,L.length-=Ee;break}L.mode=12;break;case 17:for(;Te<14;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(L.nlen=257+(31&De),De>>>=5,Te-=5,L.ndist=1+(31&De),De>>>=5,Te-=5,L.ncode=4+(15&De),De>>>=4,Te-=4,286<L.nlen||30<L.ndist){z.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;Te<3;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}L.lens[We[L.have++]]=7&De,De>>>=3,Te-=3}for(;L.have<19;)L.lens[We[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,ze={bits:L.lenbits},Pe=T(0,L.lens,0,19,L.lencode,0,L.work,ze),L.lenbits=ze.bits,Pe){z.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;ce=(Ae=L.lencode[De&(1<<L.lenbits)-1])>>>16&255,se=65535&Ae,!((de=Ae>>>24)<=Te);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(se<16)De>>>=de,Te-=de,L.lens[L.have++]=se;else{if(se===16){for(ve=de+2;Te<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(De>>>=de,Te-=de,L.have===0){z.msg="invalid bit length repeat",L.mode=30;break}ae=L.lens[L.have-1],Ee=3+(3&De),De>>>=2,Te-=2}else if(se===17){for(ve=de+3;Te<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}Te-=de,ae=0,Ee=3+(7&(De>>>=de)),De>>>=3,Te-=3}else{for(ve=de+7;Te<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}Te-=de,ae=0,Ee=11+(127&(De>>>=de)),De>>>=7,Te-=7}if(L.have+Ee>L.nlen+L.ndist){z.msg="invalid bit length repeat",L.mode=30;break}for(;Ee--;)L.lens[L.have++]=ae}}if(L.mode===30)break;if(L.lens[256]===0){z.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,ze={bits:L.lenbits},Pe=T(S,L.lens,0,L.nlen,L.lencode,0,L.work,ze),L.lenbits=ze.bits,Pe){z.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,ze={bits:L.distbits},Pe=T(x,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,ze),L.distbits=ze.bits,Pe){z.msg="invalid distances set",L.mode=30;break}if(L.mode=20,F===6)break e;case 20:L.mode=21;case 21:if(6<=Oe&&258<=Ke){z.next_out=Ie,z.avail_out=Ke,z.next_in=ge,z.avail_in=Oe,L.hold=De,L.bits=Te,E(z,ue),Ie=z.next_out,le=z.output,Ke=z.avail_out,ge=z.next_in,G=z.input,Oe=z.avail_in,De=L.hold,Te=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;ce=(Ae=L.lencode[De&(1<<L.lenbits)-1])>>>16&255,se=65535&Ae,!((de=Ae>>>24)<=Te);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(ce&&!(240&ce)){for(ne=de,we=ce,Ne=se;ce=(Ae=L.lencode[Ne+((De&(1<<ne+we)-1)>>ne)])>>>16&255,se=65535&Ae,!(ne+(de=Ae>>>24)<=Te);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}De>>>=ne,Te-=ne,L.back+=ne}if(De>>>=de,Te-=de,L.back+=de,L.length=se,ce===0){L.mode=26;break}if(32&ce){L.back=-1,L.mode=12;break}if(64&ce){z.msg="invalid literal/length code",L.mode=30;break}L.extra=15&ce,L.mode=22;case 22:if(L.extra){for(ve=L.extra;Te<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}L.length+=De&(1<<L.extra)-1,De>>>=L.extra,Te-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;ce=(Ae=L.distcode[De&(1<<L.distbits)-1])>>>16&255,se=65535&Ae,!((de=Ae>>>24)<=Te);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(!(240&ce)){for(ne=de,we=ce,Ne=se;ce=(Ae=L.distcode[Ne+((De&(1<<ne+we)-1)>>ne)])>>>16&255,se=65535&Ae,!(ne+(de=Ae>>>24)<=Te);){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}De>>>=ne,Te-=ne,L.back+=ne}if(De>>>=de,Te-=de,L.back+=de,64&ce){z.msg="invalid distance code",L.mode=30;break}L.offset=se,L.extra=15&ce,L.mode=24;case 24:if(L.extra){for(ve=L.extra;Te<ve;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}L.offset+=De&(1<<L.extra)-1,De>>>=L.extra,Te-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){z.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(Ke===0)break e;if(Ee=ue-Ke,L.offset>Ee){if((Ee=L.offset-Ee)>L.whave&&L.sane){z.msg="invalid distance too far back",L.mode=30;break}_e=Ee>L.wnext?(Ee-=L.wnext,L.wsize-Ee):L.wnext-Ee,Ee>L.length&&(Ee=L.length),he=L.window}else he=le,_e=Ie-L.offset,Ee=L.length;for(Ke<Ee&&(Ee=Ke),Ke-=Ee,L.length-=Ee;le[Ie++]=he[_e++],--Ee;);L.length===0&&(L.mode=21);break;case 26:if(Ke===0)break e;le[Ie++]=L.length,Ke--,L.mode=21;break;case 27:if(L.wrap){for(;Te<32;){if(Oe===0)break e;Oe--,De|=G[ge++]<<Te,Te+=8}if(ue-=Ke,z.total_out+=ue,L.total+=ue,ue&&(z.adler=L.check=L.flags?p(L.check,le,ue,Ie-ue):y(L.check,le,ue,Ie-ue)),ue=Ke,(L.flags?De:ee(De))!==L.check){z.msg="incorrect data check",L.mode=30;break}Te=De=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;Te<32;){if(Oe===0)break e;Oe--,De+=G[ge++]<<Te,Te+=8}if(De!==(4294967295&L.total)){z.msg="incorrect length check",L.mode=30;break}Te=De=0}L.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return I}return z.next_out=Ie,z.avail_out=Ke,z.next_in=ge,z.avail_in=Oe,L.hold=De,L.bits=Te,(L.wsize||ue!==z.avail_out&&L.mode<30&&(L.mode<27||F!==4))&&K(z,z.output,z.next_out,ue-z.avail_out)?(L.mode=31,-4):(Z-=z.avail_in,ue-=z.avail_out,z.total_in+=Z,z.total_out+=ue,L.total+=ue,L.wrap&&ue&&(z.adler=L.check=L.flags?p(L.check,le,ue,z.next_out-ue):y(L.check,le,ue,z.next_out-ue)),z.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(Z==0&&ue===0||F===4)&&Pe===w&&(Pe=-5),Pe)},o.inflateEnd=function(z){if(!z||!z.state)return I;var F=z.state;return F.window&&(F.window=null),z.state=null,w},o.inflateGetHeader=function(z,F){var L;return z&&z.state&&2&(L=z.state).wrap?((L.head=F).done=!1,w):I},o.inflateSetDictionary=function(z,F){var L,G=F.length;return z&&z.state?(L=z.state).wrap!==0&&L.mode!==11?I:L.mode===11&&y(1,F,G,0)!==L.check?-3:K(z,F,G,G)?(L.mode=31,-4):(L.havedict=1,w):I},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,d,o){var g=l("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];d.exports=function(S,x,w,I,D,V,ie,ee){var te,Y,W,j,O,k,B,H,$,K=ee.bits,z=0,F=0,L=0,G=0,le=0,ge=0,Ie=0,Oe=0,Ke=0,De=0,Te=null,Z=0,ue=new g.Buf16(16),Ee=new g.Buf16(16),_e=null,he=0;for(z=0;z<=15;z++)ue[z]=0;for(F=0;F<I;F++)ue[x[w+F]]++;for(le=K,G=15;1<=G&&ue[G]===0;G--);if(G<le&&(le=G),G===0)return D[V++]=20971520,D[V++]=20971520,ee.bits=1,0;for(L=1;L<G&&ue[L]===0;L++);for(le<L&&(le=L),z=Oe=1;z<=15;z++)if(Oe<<=1,(Oe-=ue[z])<0)return-1;if(0<Oe&&(S===0||G!==1))return-1;for(Ee[1]=0,z=1;z<15;z++)Ee[z+1]=Ee[z]+ue[z];for(F=0;F<I;F++)x[w+F]!==0&&(ie[Ee[x[w+F]]++]=F);if(k=S===0?(Te=_e=ie,19):S===1?(Te=y,Z-=257,_e=p,he-=257,256):(Te=E,_e=T,-1),z=L,O=V,Ie=F=De=0,W=-1,j=(Ke=1<<(ge=le))-1,S===1&&852<Ke||S===2&&592<Ke)return 1;for(;;){for(B=z-Ie,$=ie[F]<k?(H=0,ie[F]):ie[F]>k?(H=_e[he+ie[F]],Te[Z+ie[F]]):(H=96,0),te=1<<z-Ie,L=Y=1<<ge;D[O+(De>>Ie)+(Y-=te)]=B<<24|H<<16|$|0,Y!==0;);for(te=1<<z-1;De&te;)te>>=1;if(te!==0?(De&=te-1,De+=te):De=0,F++,--ue[z]==0){if(z===G)break;z=x[w+ie[F]]}if(le<z&&(De&j)!==W){for(Ie===0&&(Ie=le),O+=L,Oe=1<<(ge=z-Ie);ge+Ie<G&&!((Oe-=ue[ge+Ie])<=0);)ge++,Oe<<=1;if(Ke+=1<<ge,S===1&&852<Ke||S===2&&592<Ke)return 1;D[W=De&j]=le<<24|ge<<16|O-V|0}}return De!==0&&(D[O+De]=z-Ie<<24|64<<16|0),ee.bits=le,0}},{"../utils/common":41}],51:[function(l,d,o){d.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,d,o){var g=l("../utils/common"),y=0,p=1;function E(Ae){for(var Fe=Ae.length;0<=--Fe;)Ae[Fe]=0}var T=0,S=29,x=256,w=x+1+S,I=30,D=19,V=2*w+1,ie=15,ee=16,te=7,Y=256,W=16,j=17,O=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(w+2));E(K);var z=new Array(2*I);E(z);var F=new Array(512);E(F);var L=new Array(256);E(L);var G=new Array(S);E(G);var le,ge,Ie,Oe=new Array(I);function Ke(Ae,Fe,We,Je,Ge){this.static_tree=Ae,this.extra_bits=Fe,this.extra_base=We,this.elems=Je,this.max_length=Ge,this.has_stree=Ae&&Ae.length}function De(Ae,Fe){this.dyn_tree=Ae,this.max_code=0,this.stat_desc=Fe}function Te(Ae){return Ae<256?F[Ae]:F[256+(Ae>>>7)]}function Z(Ae,Fe){Ae.pending_buf[Ae.pending++]=255&Fe,Ae.pending_buf[Ae.pending++]=Fe>>>8&255}function ue(Ae,Fe,We){Ae.bi_valid>ee-We?(Ae.bi_buf|=Fe<<Ae.bi_valid&65535,Z(Ae,Ae.bi_buf),Ae.bi_buf=Fe>>ee-Ae.bi_valid,Ae.bi_valid+=We-ee):(Ae.bi_buf|=Fe<<Ae.bi_valid&65535,Ae.bi_valid+=We)}function Ee(Ae,Fe,We){ue(Ae,We[2*Fe],We[2*Fe+1])}function _e(Ae,Fe){for(var We=0;We|=1&Ae,Ae>>>=1,We<<=1,0<--Fe;);return We>>>1}function he(Ae,Fe,We){var Je,Ge,et=new Array(ie+1),ut=0;for(Je=1;Je<=ie;Je++)et[Je]=ut=ut+We[Je-1]<<1;for(Ge=0;Ge<=Fe;Ge++){var at=Ae[2*Ge+1];at!==0&&(Ae[2*Ge]=_e(et[at]++,at))}}function de(Ae){var Fe;for(Fe=0;Fe<w;Fe++)Ae.dyn_ltree[2*Fe]=0;for(Fe=0;Fe<I;Fe++)Ae.dyn_dtree[2*Fe]=0;for(Fe=0;Fe<D;Fe++)Ae.bl_tree[2*Fe]=0;Ae.dyn_ltree[2*Y]=1,Ae.opt_len=Ae.static_len=0,Ae.last_lit=Ae.matches=0}function ce(Ae){8<Ae.bi_valid?Z(Ae,Ae.bi_buf):0<Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0}function se(Ae,Fe,We,Je){var Ge=2*Fe,et=2*We;return Ae[Ge]<Ae[et]||Ae[Ge]===Ae[et]&&Je[Fe]<=Je[We]}function ne(Ae,Fe,We){for(var Je=Ae.heap[We],Ge=We<<1;Ge<=Ae.heap_len&&(Ge<Ae.heap_len&&se(Fe,Ae.heap[Ge+1],Ae.heap[Ge],Ae.depth)&&Ge++,!se(Fe,Je,Ae.heap[Ge],Ae.depth));)Ae.heap[We]=Ae.heap[Ge],We=Ge,Ge<<=1;Ae.heap[We]=Je}function we(Ae,Fe,We){var Je,Ge,et,ut,at=0;if(Ae.last_lit!==0)for(;Je=Ae.pending_buf[Ae.d_buf+2*at]<<8|Ae.pending_buf[Ae.d_buf+2*at+1],Ge=Ae.pending_buf[Ae.l_buf+at],at++,Je===0?Ee(Ae,Ge,Fe):(Ee(Ae,(et=L[Ge])+x+1,Fe),(ut=k[et])!==0&&ue(Ae,Ge-=G[et],ut),Ee(Ae,et=Te(--Je),We),(ut=B[et])!==0&&ue(Ae,Je-=Oe[et],ut)),at<Ae.last_lit;);Ee(Ae,Y,Fe)}function Ne(Ae,Fe){var We,Je,Ge,et=Fe.dyn_tree,ut=Fe.stat_desc.static_tree,at=Fe.stat_desc.has_stree,Be=Fe.stat_desc.elems,Qe=-1;for(Ae.heap_len=0,Ae.heap_max=V,We=0;We<Be;We++)et[2*We]!==0?(Ae.heap[++Ae.heap_len]=Qe=We,Ae.depth[We]=0):et[2*We+1]=0;for(;Ae.heap_len<2;)et[2*(Ge=Ae.heap[++Ae.heap_len]=Qe<2?++Qe:0)]=1,Ae.depth[Ge]=0,Ae.opt_len--,at&&(Ae.static_len-=ut[2*Ge+1]);for(Fe.max_code=Qe,We=Ae.heap_len>>1;1<=We;We--)ne(Ae,et,We);for(Ge=Be;We=Ae.heap[1],Ae.heap[1]=Ae.heap[Ae.heap_len--],ne(Ae,et,1),Je=Ae.heap[1],Ae.heap[--Ae.heap_max]=We,Ae.heap[--Ae.heap_max]=Je,et[2*Ge]=et[2*We]+et[2*Je],Ae.depth[Ge]=(Ae.depth[We]>=Ae.depth[Je]?Ae.depth[We]:Ae.depth[Je])+1,et[2*We+1]=et[2*Je+1]=Ge,Ae.heap[1]=Ge++,ne(Ae,et,1),2<=Ae.heap_len;);Ae.heap[--Ae.heap_max]=Ae.heap[1],function(rt,mt){var Ut,jt,Ct,Nt,St,Mt,Dt=mt.dyn_tree,It=mt.max_code,$t=mt.stat_desc.static_tree,Sr=mt.stat_desc.has_stree,pr=mt.stat_desc.extra_bits,Xt=mt.stat_desc.extra_base,hr=mt.stat_desc.max_length,Ir=0;for(Nt=0;Nt<=ie;Nt++)rt.bl_count[Nt]=0;for(Dt[2*rt.heap[rt.heap_max]+1]=0,Ut=rt.heap_max+1;Ut<V;Ut++)hr<(Nt=Dt[2*Dt[2*(jt=rt.heap[Ut])+1]+1]+1)&&(Nt=hr,Ir++),Dt[2*jt+1]=Nt,It<jt||(rt.bl_count[Nt]++,St=0,Xt<=jt&&(St=pr[jt-Xt]),Mt=Dt[2*jt],rt.opt_len+=Mt*(Nt+St),Sr&&(rt.static_len+=Mt*($t[2*jt+1]+St)));if(Ir!==0){do{for(Nt=hr-1;rt.bl_count[Nt]===0;)Nt--;rt.bl_count[Nt]--,rt.bl_count[Nt+1]+=2,rt.bl_count[hr]--,Ir-=2}while(0<Ir);for(Nt=hr;Nt!==0;Nt--)for(jt=rt.bl_count[Nt];jt!==0;)It<(Ct=rt.heap[--Ut])||(Dt[2*Ct+1]!==Nt&&(rt.opt_len+=(Nt-Dt[2*Ct+1])*Dt[2*Ct],Dt[2*Ct+1]=Nt),jt--)}}(Ae,Fe),he(et,Qe,Ae.bl_count)}function ae(Ae,Fe,We){var Je,Ge,et=-1,ut=Fe[1],at=0,Be=7,Qe=4;for(ut===0&&(Be=138,Qe=3),Fe[2*(We+1)+1]=65535,Je=0;Je<=We;Je++)Ge=ut,ut=Fe[2*(Je+1)+1],++at<Be&&Ge===ut||(at<Qe?Ae.bl_tree[2*Ge]+=at:Ge!==0?(Ge!==et&&Ae.bl_tree[2*Ge]++,Ae.bl_tree[2*W]++):at<=10?Ae.bl_tree[2*j]++:Ae.bl_tree[2*O]++,et=Ge,Qe=(at=0)===ut?(Be=138,3):Ge===ut?(Be=6,3):(Be=7,4))}function Pe(Ae,Fe,We){var Je,Ge,et=-1,ut=Fe[1],at=0,Be=7,Qe=4;for(ut===0&&(Be=138,Qe=3),Je=0;Je<=We;Je++)if(Ge=ut,ut=Fe[2*(Je+1)+1],!(++at<Be&&Ge===ut)){if(at<Qe)for(;Ee(Ae,Ge,Ae.bl_tree),--at!=0;);else Ge!==0?(Ge!==et&&(Ee(Ae,Ge,Ae.bl_tree),at--),Ee(Ae,W,Ae.bl_tree),ue(Ae,at-3,2)):at<=10?(Ee(Ae,j,Ae.bl_tree),ue(Ae,at-3,3)):(Ee(Ae,O,Ae.bl_tree),ue(Ae,at-11,7));et=Ge,Qe=(at=0)===ut?(Be=138,3):Ge===ut?(Be=6,3):(Be=7,4)}}E(Oe);var ze=!1;function ve(Ae,Fe,We,Je){ue(Ae,(T<<1)+(Je?1:0),3),function(Ge,et,ut,at){ce(Ge),at&&(Z(Ge,ut),Z(Ge,~ut)),g.arraySet(Ge.pending_buf,Ge.window,et,ut,Ge.pending),Ge.pending+=ut}(Ae,Fe,We,!0)}o._tr_init=function(Ae){ze||(function(){var Fe,We,Je,Ge,et,ut=new Array(ie+1);for(Ge=Je=0;Ge<S-1;Ge++)for(G[Ge]=Je,Fe=0;Fe<1<<k[Ge];Fe++)L[Je++]=Ge;for(L[Je-1]=Ge,Ge=et=0;Ge<16;Ge++)for(Oe[Ge]=et,Fe=0;Fe<1<<B[Ge];Fe++)F[et++]=Ge;for(et>>=7;Ge<I;Ge++)for(Oe[Ge]=et<<7,Fe=0;Fe<1<<B[Ge]-7;Fe++)F[256+et++]=Ge;for(We=0;We<=ie;We++)ut[We]=0;for(Fe=0;Fe<=143;)K[2*Fe+1]=8,Fe++,ut[8]++;for(;Fe<=255;)K[2*Fe+1]=9,Fe++,ut[9]++;for(;Fe<=279;)K[2*Fe+1]=7,Fe++,ut[7]++;for(;Fe<=287;)K[2*Fe+1]=8,Fe++,ut[8]++;for(he(K,w+1,ut),Fe=0;Fe<I;Fe++)z[2*Fe+1]=5,z[2*Fe]=_e(Fe,5);le=new Ke(K,k,x+1,w,ie),ge=new Ke(z,B,0,I,ie),Ie=new Ke(new Array(0),H,0,D,te)}(),ze=!0),Ae.l_desc=new De(Ae.dyn_ltree,le),Ae.d_desc=new De(Ae.dyn_dtree,ge),Ae.bl_desc=new De(Ae.bl_tree,Ie),Ae.bi_buf=0,Ae.bi_valid=0,de(Ae)},o._tr_stored_block=ve,o._tr_flush_block=function(Ae,Fe,We,Je){var Ge,et,ut=0;0<Ae.level?(Ae.strm.data_type===2&&(Ae.strm.data_type=function(at){var Be,Qe=4093624447;for(Be=0;Be<=31;Be++,Qe>>>=1)if(1&Qe&&at.dyn_ltree[2*Be]!==0)return y;if(at.dyn_ltree[18]!==0||at.dyn_ltree[20]!==0||at.dyn_ltree[26]!==0)return p;for(Be=32;Be<x;Be++)if(at.dyn_ltree[2*Be]!==0)return p;return y}(Ae)),Ne(Ae,Ae.l_desc),Ne(Ae,Ae.d_desc),ut=function(at){var Be;for(ae(at,at.dyn_ltree,at.l_desc.max_code),ae(at,at.dyn_dtree,at.d_desc.max_code),Ne(at,at.bl_desc),Be=D-1;3<=Be&&at.bl_tree[2*$[Be]+1]===0;Be--);return at.opt_len+=3*(Be+1)+5+5+4,Be}(Ae),Ge=Ae.opt_len+3+7>>>3,(et=Ae.static_len+3+7>>>3)<=Ge&&(Ge=et)):Ge=et=We+5,We+4<=Ge&&Fe!==-1?ve(Ae,Fe,We,Je):Ae.strategy===4||et===Ge?(ue(Ae,2+(Je?1:0),3),we(Ae,K,z)):(ue(Ae,4+(Je?1:0),3),function(at,Be,Qe,rt){var mt;for(ue(at,Be-257,5),ue(at,Qe-1,5),ue(at,rt-4,4),mt=0;mt<rt;mt++)ue(at,at.bl_tree[2*$[mt]+1],3);Pe(at,at.dyn_ltree,Be-1),Pe(at,at.dyn_dtree,Qe-1)}(Ae,Ae.l_desc.max_code+1,Ae.d_desc.max_code+1,ut+1),we(Ae,Ae.dyn_ltree,Ae.dyn_dtree)),de(Ae),Je&&ce(Ae)},o._tr_tally=function(Ae,Fe,We){return Ae.pending_buf[Ae.d_buf+2*Ae.last_lit]=Fe>>>8&255,Ae.pending_buf[Ae.d_buf+2*Ae.last_lit+1]=255&Fe,Ae.pending_buf[Ae.l_buf+Ae.last_lit]=255&We,Ae.last_lit++,Fe===0?Ae.dyn_ltree[2*We]++:(Ae.matches++,Fe--,Ae.dyn_ltree[2*(L[We]+x+1)]++,Ae.dyn_dtree[2*Te(Fe)]++),Ae.last_lit===Ae.lit_bufsize-1},o._tr_align=function(Ae){ue(Ae,2,3),Ee(Ae,Y,K),function(Fe){Fe.bi_valid===16?(Z(Fe,Fe.bi_buf),Fe.bi_buf=0,Fe.bi_valid=0):8<=Fe.bi_valid&&(Fe.pending_buf[Fe.pending++]=255&Fe.bi_buf,Fe.bi_buf>>=8,Fe.bi_valid-=8)}(Ae)}},{"../utils/common":41}],53:[function(l,d,o){d.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,d,o){(function(g){(function(y,p){if(!y.setImmediate){var E,T,S,x,w=1,I={},D=!1,V=y.document,ie=Object.getPrototypeOf&&Object.getPrototypeOf(y);ie=ie&&ie.setTimeout?ie:y,E={}.toString.call(y.process)==="[object process]"?function(W){f.nextTick(function(){te(W)})}:function(){if(y.postMessage&&!y.importScripts){var W=!0,j=y.onmessage;return y.onmessage=function(){W=!1},y.postMessage("","*"),y.onmessage=j,W}}()?(x="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",Y,!1):y.attachEvent("onmessage",Y),function(W){y.postMessage(x+W,"*")}):y.MessageChannel?((S=new MessageChannel).port1.onmessage=function(W){te(W.data)},function(W){S.port2.postMessage(W)}):V&&"onreadystatechange"in V.createElement("script")?(T=V.documentElement,function(W){var j=V.createElement("script");j.onreadystatechange=function(){te(W),j.onreadystatechange=null,T.removeChild(j),j=null},T.appendChild(j)}):function(W){setTimeout(te,0,W)},ie.setImmediate=function(W){typeof W!="function"&&(W=new Function(""+W));for(var j=new Array(arguments.length-1),O=0;O<j.length;O++)j[O]=arguments[O+1];var k={callback:W,args:j};return I[w]=k,E(w),w++},ie.clearImmediate=ee}function ee(W){delete I[W]}function te(W){if(D)setTimeout(te,0,W);else{var j=I[W];if(j){D=!0;try{(function(O){var k=O.callback,B=O.args;switch(B.length){case 0:k();break;case 1:k(B[0]);break;case 2:k(B[0],B[1]);break;case 3:k(B[0],B[1],B[2]);break;default:k.apply(p,B)}})(j)}finally{ee(W),D=!1}}}}function Y(W){W.source===y&&typeof W.data=="string"&&W.data.indexOf(x)===0&&te(+W.data.slice(x.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,typeof u<"u"?u:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,m,v){(function(f){(function(){var u=1/0,c="[object Symbol]",s=/[\\^$.*+?()[\]{}|]/g,t=RegExp(s.source),i=typeof f=="object"&&f&&f.Object===Object&&f,r=typeof self=="object"&&self&&self.Object===Object&&self,n=i||r||Function("return this")(),l=Object.prototype,d=l.toString,o=n.Symbol,g=o?o.prototype:void 0,y=g?g.toString:void 0;function p(w){if(typeof w=="string")return w;if(T(w))return y?y.call(w):"";var I=w+"";return I=="0"&&1/w==-u?"-0":I}function E(w){return!!w&&typeof w=="object"}function T(w){return typeof w=="symbol"||E(w)&&d.call(w)==c}function S(w){return w==null?"":p(w)}function x(w){return w=S(w),w&&t.test(w)?w.replace(s,"\\$&"):w}m.exports=x}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,m,v){(function(f){(function(){var u=200,c="Expected a function",s="__lodash_hash_undefined__",t=1,i=2,r=1/0,n=9007199254740991,l="[object Arguments]",d="[object Array]",o="[object Boolean]",g="[object Date]",y="[object Error]",p="[object Function]",E="[object GeneratorFunction]",T="[object Map]",S="[object Number]",x="[object Object]",w="[object Promise]",I="[object RegExp]",D="[object Set]",V="[object String]",ie="[object Symbol]",ee="[object WeakMap]",te="[object ArrayBuffer]",Y="[object DataView]",W="[object Float32Array]",j="[object Float64Array]",O="[object Int8Array]",k="[object Int16Array]",B="[object Int32Array]",H="[object Uint8Array]",$="[object Uint8ClampedArray]",K="[object Uint16Array]",z="[object Uint32Array]",F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L=/^\w*$/,G=/^\./,le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ge=/[\\^$.*+?()[\]{}|]/g,Ie=/\\(\\)?/g,Oe=/^\[object .+?Constructor\]$/,Ke=/^(?:0|[1-9]\d*)$/,De={};De[W]=De[j]=De[O]=De[k]=De[B]=De[H]=De[$]=De[K]=De[z]=!0,De[l]=De[d]=De[te]=De[o]=De[Y]=De[g]=De[y]=De[p]=De[T]=De[S]=De[x]=De[I]=De[D]=De[V]=De[ee]=!1;var Te=typeof f=="object"&&f&&f.Object===Object&&f,Z=typeof self=="object"&&self&&self.Object===Object&&self,ue=Te||Z||Function("return this")(),Ee=typeof v=="object"&&v&&!v.nodeType&&v,_e=Ee&&typeof m=="object"&&m&&!m.nodeType&&m,he=_e&&_e.exports===Ee,de=he&&Te.process,ce=function(){try{return de&&de.binding("util")}catch{}}(),se=ce&&ce.isTypedArray;function ne(ke,Ve,st,Et){for(var Ht=-1,Bt=ke?ke.length:0;++Ht<Bt;){var br=ke[Ht];Ve(Et,br,st(br),ke)}return Et}function we(ke,Ve){for(var st=-1,Et=ke?ke.length:0;++st<Et;)if(Ve(ke[st],st,ke))return!0;return!1}function Ne(ke){return function(Ve){return Ve==null?void 0:Ve[ke]}}function ae(ke,Ve){for(var st=-1,Et=Array(ke);++st<ke;)Et[st]=Ve(st);return Et}function Pe(ke){return function(Ve){return ke(Ve)}}function ze(ke,Ve){return ke==null?void 0:ke[Ve]}function ve(ke){var Ve=!1;if(ke!=null&&typeof ke.toString!="function")try{Ve=!!(ke+"")}catch{}return Ve}function Ae(ke){var Ve=-1,st=Array(ke.size);return ke.forEach(function(Et,Ht){st[++Ve]=[Ht,Et]}),st}function Fe(ke,Ve){return function(st){return ke(Ve(st))}}function We(ke){var Ve=-1,st=Array(ke.size);return ke.forEach(function(Et){st[++Ve]=Et}),st}var Je=Array.prototype,Ge=Function.prototype,et=Object.prototype,ut=ue["__core-js_shared__"],at=function(){var ke=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return ke?"Symbol(src)_1."+ke:""}(),Be=Ge.toString,Qe=et.hasOwnProperty,rt=et.toString,mt=RegExp("^"+Be.call(Qe).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=ue.Symbol,jt=ue.Uint8Array,Ct=et.propertyIsEnumerable,Nt=Je.splice,St=Fe(Object.keys,Object),Mt=nn(ue,"DataView"),Dt=nn(ue,"Map"),It=nn(ue,"Promise"),$t=nn(ue,"Set"),Sr=nn(ue,"WeakMap"),pr=nn(Object,"create"),Xt=vt(Mt),hr=vt(Dt),Ir=vt(It),rr=vt($t),Wr=vt(Sr),Or=Ut?Ut.prototype:void 0,qt=Or?Or.valueOf:void 0,Mr=Or?Or.toString:void 0;function fr(ke){var Ve=-1,st=ke?ke.length:0;for(this.clear();++Ve<st;){var Et=ke[Ve];this.set(Et[0],Et[1])}}function tr(){this.__data__=pr?pr(null):{}}function xr(ke){return this.has(ke)&&delete this.__data__[ke]}function ur(ke){var Ve=this.__data__;if(pr){var st=Ve[ke];return st===s?void 0:st}return Qe.call(Ve,ke)?Ve[ke]:void 0}function er(ke){var Ve=this.__data__;return pr?Ve[ke]!==void 0:Qe.call(Ve,ke)}function zr(ke,Ve){var st=this.__data__;return st[ke]=pr&&Ve===void 0?s:Ve,this}fr.prototype.clear=tr,fr.prototype.delete=xr,fr.prototype.get=ur,fr.prototype.has=er,fr.prototype.set=zr;function ar(ke){var Ve=-1,st=ke?ke.length:0;for(this.clear();++Ve<st;){var Et=ke[Ve];this.set(Et[0],Et[1])}}function ir(){this.__data__=[]}function Ue(ke){var Ve=this.__data__,st=gr(Ve,ke);if(st<0)return!1;var Et=Ve.length-1;return st==Et?Ve.pop():Nt.call(Ve,st,1),!0}function it(ke){var Ve=this.__data__,st=gr(Ve,ke);return st<0?void 0:Ve[st][1]}function ot(ke){return gr(this.__data__,ke)>-1}function Rt(ke,Ve){var st=this.__data__,Et=gr(st,ke);return Et<0?st.push([ke,Ve]):st[Et][1]=Ve,this}ar.prototype.clear=ir,ar.prototype.delete=Ue,ar.prototype.get=it,ar.prototype.has=ot,ar.prototype.set=Rt;function zt(ke){var Ve=-1,st=ke?ke.length:0;for(this.clear();++Ve<st;){var Et=ke[Ve];this.set(Et[0],Et[1])}}function mr(){this.__data__={hash:new fr,map:new(Dt||ar),string:new fr}}function Xr(ke){return fn(this,ke).delete(ke)}function fi(ke){return fn(this,ke).get(ke)}function pi(ke){return fn(this,ke).has(ke)}function oi(ke,Ve){return fn(this,ke).set(ke,Ve),this}zt.prototype.clear=mr,zt.prototype.delete=Xr,zt.prototype.get=fi,zt.prototype.has=pi,zt.prototype.set=oi;function ei(ke){var Ve=-1,st=ke?ke.length:0;for(this.__data__=new zt;++Ve<st;)this.add(ke[Ve])}function hn(ke){return this.__data__.set(ke,s),this}function Ji(ke){return this.__data__.has(ke)}ei.prototype.add=ei.prototype.push=hn,ei.prototype.has=Ji;function Kr(ke){this.__data__=new ar(ke)}function Xi(){this.__data__=new ar}function Gi(ke){return this.__data__.delete(ke)}function yi(ke){return this.__data__.get(ke)}function Oi(ke){return this.__data__.has(ke)}function Mi(ke,Ve){var st=this.__data__;if(st instanceof ar){var Et=st.__data__;if(!Dt||Et.length<u-1)return Et.push([ke,Ve]),this;st=this.__data__=new zt(Et)}return st.set(ke,Ve),this}Kr.prototype.clear=Xi,Kr.prototype.delete=Gi,Kr.prototype.get=yi,Kr.prototype.has=Oi,Kr.prototype.set=Mi;function qi(ke,Ve){var st=Nr(ke)||Dr(ke)?ae(ke.length,String):[],Et=st.length,Ht=!!Et;for(var Bt in ke)(Ve||Qe.call(ke,Bt))&&!(Ht&&(Bt=="length"||Xn(Bt,Et)))&&st.push(Bt);return st}function gr(ke,Ve){for(var st=ke.length;st--;)if(Zt(ke[st][0],Ve))return st;return-1}function Ki(ke,Ve,st,Et){return ji(ke,function(Ht,Bt,br){Ve(Et,Ht,st(Ht),br)}),Et}var ji=fa(rs),ds=ua();function rs(ke,Ve){return ke&&ds(ke,Ve,Pn)}function ps(ke,Ve){Ve=Ur(Ve,ke)?[Ve]:gs(Ve);for(var st=0,Et=Ve.length;ke!=null&&st<Et;)ke=ke[qe(Ve[st++])];return st&&st==Et?ke:void 0}function la(ke){return rt.call(ke)}function Ps(ke,Ve){return ke!=null&&Ve in Object(ke)}function en(ke,Ve,st,Et,Ht){return ke===Ve?!0:ke==null||Ve==null||!ii(ke)&&!ni(Ve)?ke!==ke&&Ve!==Ve:Wn(ke,Ve,en,st,Et,Ht)}function Wn(ke,Ve,st,Et,Ht,Bt){var br=Nr(ke),Zr=Nr(Ve),cr=d,li=d;br||(cr=un(ke),cr=cr==l?x:cr),Zr||(li=un(Ve),li=li==l?x:li);var _i=cr==x&&!ve(ke),vi=li==x&&!ve(Ve),qr=cr==li;if(qr&&!_i)return Bt||(Bt=new Kr),br||Ni(ke)?zi(ke,Ve,st,Et,Ht,Bt):vs(ke,Ve,cr,st,Et,Ht,Bt);if(!(Ht&i)){var sn=_i&&Qe.call(ke,"__wrapped__"),$i=vi&&Qe.call(Ve,"__wrapped__");if(sn||$i){var Dn=sn?ke.value():ke,dn=$i?Ve.value():Ve;return Bt||(Bt=new Kr),st(Dn,dn,Et,Ht,Bt)}}return qr?(Bt||(Bt=new Kr),da(ke,Ve,st,Et,Ht,Bt)):!1}function tn(ke,Ve,st,Et){var Ht=st.length,Bt=Ht,br=!Et;if(ke==null)return!Bt;for(ke=Object(ke);Ht--;){var Zr=st[Ht];if(br&&Zr[2]?Zr[1]!==ke[Zr[0]]:!(Zr[0]in ke))return!1}for(;++Ht<Bt;){Zr=st[Ht];var cr=Zr[0],li=ke[cr],_i=Zr[1];if(br&&Zr[2]){if(li===void 0&&!(cr in ke))return!1}else{var vi=new Kr;if(Et)var qr=Et(li,_i,cr,ke,Ve,vi);if(!(qr===void 0?en(_i,li,Et,t|i,vi):qr))return!1}}return!0}function ha(ke){if(!ii(ke)||Os(ke))return!1;var Ve=wi(ke)||ve(ke)?mt:Oe;return Ve.test(vt(ke))}function Mn(ke){return ni(ke)&&mi(ke.length)&&!!De[rt.call(ke)]}function Vn(ke){return typeof ke=="function"?ke:ke==null?bn:typeof ke=="object"?Nr(ke)?ca(ke[0],ke[1]):ms(ke):Yi(ke)}function rn(ke){if(!bs(ke))return St(ke);var Ve=[];for(var st in Object(ke))Qe.call(ke,st)&&st!="constructor"&&Ve.push(st);return Ve}function ms(ke){var Ve=pa(ke);return Ve.length==1&&Ve[0][2]?Gn(Ve[0][0],Ve[0][1]):function(st){return st===ke||tn(st,ke,Ve)}}function ca(ke,Ve){return Ur(ke)&&Ns(Ve)?Gn(qe(ke),Ve):function(st){var Et=Hi(st,ke);return Et===void 0&&Et===Ve?ui(st,ke):en(Ve,Et,void 0,t|i)}}function cn(ke){return function(Ve){return ps(Ve,ke)}}function Ds(ke){if(typeof ke=="string")return ke;if(gi(ke))return Mr?Mr.call(ke):"";var Ve=ke+"";return Ve=="0"&&1/ke==-r?"-0":Ve}function gs(ke){return Nr(ke)?ke:je(ke)}function Ba(ke,Ve){return function(st,Et){var Ht=Nr(st)?ne:Ki,Bt=Ve?Ve():{};return Ht(st,ke,Vn(Et),Bt)}}function fa(ke,Ve){return function(st,Et){if(st==null)return st;if(!Yr(st))return ke(st,Et);for(var Ht=st.length,Bt=Ve?Ht:-1,br=Object(st);(Ve?Bt--:++Bt<Ht)&&Et(br[Bt],Bt,br)!==!1;);return st}}function ua(ke){return function(Ve,st,Et){for(var Ht=-1,Bt=Object(Ve),br=Et(Ve),Zr=br.length;Zr--;){var cr=br[ke?Zr:++Ht];if(st(Bt[cr],cr,Bt)===!1)break}return Ve}}function zi(ke,Ve,st,Et,Ht,Bt){var br=Ht&i,Zr=ke.length,cr=Ve.length;if(Zr!=cr&&!(br&&cr>Zr))return!1;var li=Bt.get(ke);if(li&&Bt.get(Ve))return li==Ve;var _i=-1,vi=!0,qr=Ht&t?new ei:void 0;for(Bt.set(ke,Ve),Bt.set(Ve,ke);++_i<Zr;){var sn=ke[_i],$i=Ve[_i];if(Et)var Dn=br?Et($i,sn,_i,Ve,ke,Bt):Et(sn,$i,_i,ke,Ve,Bt);if(Dn!==void 0){if(Dn)continue;vi=!1;break}if(qr){if(!we(Ve,function(dn,Ln){if(!qr.has(Ln)&&(sn===dn||st(sn,dn,Et,Ht,Bt)))return qr.add(Ln)})){vi=!1;break}}else if(!(sn===$i||st(sn,$i,Et,Ht,Bt))){vi=!1;break}}return Bt.delete(ke),Bt.delete(Ve),vi}function vs(ke,Ve,st,Et,Ht,Bt,br){switch(st){case Y:if(ke.byteLength!=Ve.byteLength||ke.byteOffset!=Ve.byteOffset)return!1;ke=ke.buffer,Ve=Ve.buffer;case te:return!(ke.byteLength!=Ve.byteLength||!Et(new jt(ke),new jt(Ve)));case o:case g:case S:return Zt(+ke,+Ve);case y:return ke.name==Ve.name&&ke.message==Ve.message;case I:case V:return ke==Ve+"";case T:var Zr=Ae;case D:var cr=Bt&i;if(Zr||(Zr=We),ke.size!=Ve.size&&!cr)return!1;var li=br.get(ke);if(li)return li==Ve;Bt|=t,br.set(ke,Ve);var _i=zi(Zr(ke),Zr(Ve),Et,Ht,Bt,br);return br.delete(ke),_i;case ie:if(qt)return qt.call(ke)==qt.call(Ve)}return!1}function da(ke,Ve,st,Et,Ht,Bt){var br=Ht&i,Zr=Pn(ke),cr=Zr.length,li=Pn(Ve),_i=li.length;if(cr!=_i&&!br)return!1;for(var vi=cr;vi--;){var qr=Zr[vi];if(!(br?qr in Ve:Qe.call(Ve,qr)))return!1}var sn=Bt.get(ke);if(sn&&Bt.get(Ve))return sn==Ve;var $i=!0;Bt.set(ke,Ve),Bt.set(Ve,ke);for(var Dn=br;++vi<cr;){qr=Zr[vi];var dn=ke[qr],Ln=Ve[qr];if(Et)var Bs=br?Et(Ln,dn,qr,Ve,ke,Bt):Et(dn,Ln,qr,ke,Ve,Bt);if(!(Bs===void 0?dn===Ln||st(dn,Ln,Et,Ht,Bt):Bs)){$i=!1;break}Dn||(Dn=qr=="constructor")}if($i&&!Dn){var ma=ke.constructor,Ei=Ve.constructor;ma!=Ei&&"constructor"in ke&&"constructor"in Ve&&!(typeof ma=="function"&&ma instanceof ma&&typeof Ei=="function"&&Ei instanceof Ei)&&($i=!1)}return Bt.delete(ke),Bt.delete(Ve),$i}function fn(ke,Ve){var st=ke.__data__;return Pr(Ve)?st[typeof Ve=="string"?"string":"hash"]:st.map}function pa(ke){for(var Ve=Pn(ke),st=Ve.length;st--;){var Et=Ve[st],Ht=ke[Et];Ve[st]=[Et,Ht,Ns(Ht)]}return Ve}function nn(ke,Ve){var st=ze(ke,Ve);return ha(st)?st:void 0}var un=la;(Mt&&un(new Mt(new ArrayBuffer(1)))!=Y||Dt&&un(new Dt)!=T||It&&un(It.resolve())!=w||$t&&un(new $t)!=D||Sr&&un(new Sr)!=ee)&&(un=function(ke){var Ve=rt.call(ke),st=Ve==x?ke.constructor:void 0,Et=st?vt(st):void 0;if(Et)switch(Et){case Xt:return Y;case hr:return T;case Ir:return w;case rr:return D;case Wr:return ee}return Ve});function Ls(ke,Ve,st){Ve=Ur(Ve,ke)?[Ve]:gs(Ve);for(var Et,Ht=-1,br=Ve.length;++Ht<br;){var Bt=qe(Ve[Ht]);if(!(Et=ke!=null&&st(ke,Bt)))break;ke=ke[Bt]}if(Et)return Et;var br=ke?ke.length:0;return!!br&&mi(br)&&Xn(Bt,br)&&(Nr(ke)||Dr(ke))}function Xn(ke,Ve){return Ve=Ve??n,!!Ve&&(typeof ke=="number"||Ke.test(ke))&&ke>-1&&ke%1==0&&ke<Ve}function Ur(ke,Ve){if(Nr(ke))return!1;var st=typeof ke;return st=="number"||st=="symbol"||st=="boolean"||ke==null||gi(ke)?!0:L.test(ke)||!F.test(ke)||Ve!=null&&ke in Object(Ve)}function Pr(ke){var Ve=typeof ke;return Ve=="string"||Ve=="number"||Ve=="symbol"||Ve=="boolean"?ke!=="__proto__":ke===null}function Os(ke){return!!at&&at in ke}function bs(ke){var Ve=ke&&ke.constructor,st=typeof Ve=="function"&&Ve.prototype||et;return ke===st}function Ns(ke){return ke===ke&&!ii(ke)}function Gn(ke,Ve){return function(st){return st==null?!1:st[ke]===Ve&&(Ve!==void 0||ke in Object(st))}}var je=nr(function(ke){ke=ti(ke);var Ve=[];return G.test(ke)&&Ve.push(""),ke.replace(le,function(st,Et,Ht,Bt){Ve.push(Ht?Bt.replace(Ie,"$1"):Et||st)}),Ve});function qe(ke){if(typeof ke=="string"||gi(ke))return ke;var Ve=ke+"";return Ve=="0"&&1/ke==-r?"-0":Ve}function vt(ke){if(ke!=null){try{return Be.call(ke)}catch{}try{return ke+""}catch{}}return""}var Ot=Ba(function(ke,Ve,st){Qe.call(ke,st)?ke[st].push(Ve):ke[st]=[Ve]});function nr(ke,Ve){if(typeof ke!="function"||Ve&&typeof Ve!="function")throw new TypeError(c);var st=function(){var Et=arguments,Ht=Ve?Ve.apply(this,Et):Et[0],Bt=st.cache;if(Bt.has(Ht))return Bt.get(Ht);var br=ke.apply(this,Et);return st.cache=Bt.set(Ht,br),br};return st.cache=new(nr.Cache||zt),st}nr.Cache=zt;function Zt(ke,Ve){return ke===Ve||ke!==ke&&Ve!==Ve}function Dr(ke){return Ar(ke)&&Qe.call(ke,"callee")&&(!Ct.call(ke,"callee")||rt.call(ke)==l)}var Nr=Array.isArray;function Yr(ke){return ke!=null&&mi(ke.length)&&!wi(ke)}function Ar(ke){return ni(ke)&&Yr(ke)}function wi(ke){var Ve=ii(ke)?rt.call(ke):"";return Ve==p||Ve==E}function mi(ke){return typeof ke=="number"&&ke>-1&&ke%1==0&&ke<=n}function ii(ke){var Ve=typeof ke;return!!ke&&(Ve=="object"||Ve=="function")}function ni(ke){return!!ke&&typeof ke=="object"}function gi(ke){return typeof ke=="symbol"||ni(ke)&&rt.call(ke)==ie}var Ni=se?Pe(se):Mn;function ti(ke){return ke==null?"":Ds(ke)}function Hi(ke,Ve,st){var Et=ke==null?void 0:ps(ke,Ve);return Et===void 0?st:Et}function ui(ke,Ve){return ke!=null&&Ls(ke,Ve,Ps)}function Pn(ke){return Yr(ke)?qi(ke):rn(ke)}function bn(ke){return ke}function Yi(ke){return Ur(ke)?Ne(qe(ke)):cn(ke)}m.exports=Ot}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,m,v){var f="[object Boolean]",u=Object.prototype,c=u.toString;function s(i){return i===!0||i===!1||t(i)&&c.call(i)==f}function t(i){return!!i&&typeof i=="object"}m.exports=s},{}],445:[function(e,m,v){(function(f){(function(){var u=200,c="__lodash_hash_undefined__",s=1,t=2,i=9007199254740991,r="[object Arguments]",n="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",o="[object Date]",g="[object Error]",y="[object Function]",p="[object GeneratorFunction]",E="[object Map]",T="[object Number]",S="[object Null]",x="[object Object]",w="[object Promise]",I="[object Proxy]",D="[object RegExp]",V="[object Set]",ie="[object String]",ee="[object Symbol]",te="[object Undefined]",Y="[object WeakMap]",W="[object ArrayBuffer]",j="[object DataView]",O="[object Float32Array]",k="[object Float64Array]",B="[object Int8Array]",H="[object Int16Array]",$="[object Int32Array]",K="[object Uint8Array]",z="[object Uint8ClampedArray]",F="[object Uint16Array]",L="[object Uint32Array]",G=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,ge=/^(?:0|[1-9]\d*)$/,Ie={};Ie[O]=Ie[k]=Ie[B]=Ie[H]=Ie[$]=Ie[K]=Ie[z]=Ie[F]=Ie[L]=!0,Ie[r]=Ie[n]=Ie[W]=Ie[d]=Ie[j]=Ie[o]=Ie[g]=Ie[y]=Ie[E]=Ie[T]=Ie[x]=Ie[D]=Ie[V]=Ie[ie]=Ie[Y]=!1;var Oe=typeof f=="object"&&f&&f.Object===Object&&f,Ke=typeof self=="object"&&self&&self.Object===Object&&self,De=Oe||Ke||Function("return this")(),Te=typeof v=="object"&&v&&!v.nodeType&&v,Z=Te&&typeof m=="object"&&m&&!m.nodeType&&m,ue=Z&&Z.exports===Te,Ee=ue&&Oe.process,_e=function(){try{return Ee&&Ee.binding&&Ee.binding("util")}catch{}}(),he=_e&&_e.isTypedArray;function de(je,qe){for(var vt=-1,Ot=je==null?0:je.length,nr=0,Zt=[];++vt<Ot;){var Dr=je[vt];qe(Dr,vt,je)&&(Zt[nr++]=Dr)}return Zt}function ce(je,qe){for(var vt=-1,Ot=qe.length,nr=je.length;++vt<Ot;)je[nr+vt]=qe[vt];return je}function se(je,qe){for(var vt=-1,Ot=je==null?0:je.length;++vt<Ot;)if(qe(je[vt],vt,je))return!0;return!1}function ne(je,qe){for(var vt=-1,Ot=Array(je);++vt<je;)Ot[vt]=qe(vt);return Ot}function we(je){return function(qe){return je(qe)}}function Ne(je,qe){return je.has(qe)}function ae(je,qe){return je==null?void 0:je[qe]}function Pe(je){var qe=-1,vt=Array(je.size);return je.forEach(function(Ot,nr){vt[++qe]=[nr,Ot]}),vt}function ze(je,qe){return function(vt){return je(qe(vt))}}function ve(je){var qe=-1,vt=Array(je.size);return je.forEach(function(Ot){vt[++qe]=Ot}),vt}var Ae=Array.prototype,Fe=Function.prototype,We=Object.prototype,Je=De["__core-js_shared__"],Ge=Fe.toString,et=We.hasOwnProperty,ut=function(){var je=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return je?"Symbol(src)_1."+je:""}(),at=We.toString,Be=RegExp("^"+Ge.call(et).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=ue?De.Buffer:void 0,rt=De.Symbol,mt=De.Uint8Array,Ut=We.propertyIsEnumerable,jt=Ae.splice,Ct=rt?rt.toStringTag:void 0,Nt=Object.getOwnPropertySymbols,St=Qe?Qe.isBuffer:void 0,Mt=ze(Object.keys,Object),Dt=rn(De,"DataView"),It=rn(De,"Map"),$t=rn(De,"Promise"),Sr=rn(De,"Set"),pr=rn(De,"WeakMap"),Xt=rn(Object,"create"),hr=zi(Dt),Ir=zi(It),rr=zi($t),Wr=zi(Sr),Or=zi(pr),qt=rt?rt.prototype:void 0,Mr=qt?qt.valueOf:void 0;function fr(je){var qe=-1,vt=je==null?0:je.length;for(this.clear();++qe<vt;){var Ot=je[qe];this.set(Ot[0],Ot[1])}}function tr(){this.__data__=Xt?Xt(null):{},this.size=0}function xr(je){var qe=this.has(je)&&delete this.__data__[je];return this.size-=qe?1:0,qe}function ur(je){var qe=this.__data__;if(Xt){var vt=qe[je];return vt===c?void 0:vt}return et.call(qe,je)?qe[je]:void 0}function er(je){var qe=this.__data__;return Xt?qe[je]!==void 0:et.call(qe,je)}function zr(je,qe){var vt=this.__data__;return this.size+=this.has(je)?0:1,vt[je]=Xt&&qe===void 0?c:qe,this}fr.prototype.clear=tr,fr.prototype.delete=xr,fr.prototype.get=ur,fr.prototype.has=er,fr.prototype.set=zr;function ar(je){var qe=-1,vt=je==null?0:je.length;for(this.clear();++qe<vt;){var Ot=je[qe];this.set(Ot[0],Ot[1])}}function ir(){this.__data__=[],this.size=0}function Ue(je){var qe=this.__data__,vt=gr(qe,je);if(vt<0)return!1;var Ot=qe.length-1;return vt==Ot?qe.pop():jt.call(qe,vt,1),--this.size,!0}function it(je){var qe=this.__data__,vt=gr(qe,je);return vt<0?void 0:qe[vt][1]}function ot(je){return gr(this.__data__,je)>-1}function Rt(je,qe){var vt=this.__data__,Ot=gr(vt,je);return Ot<0?(++this.size,vt.push([je,qe])):vt[Ot][1]=qe,this}ar.prototype.clear=ir,ar.prototype.delete=Ue,ar.prototype.get=it,ar.prototype.has=ot,ar.prototype.set=Rt;function zt(je){var qe=-1,vt=je==null?0:je.length;for(this.clear();++qe<vt;){var Ot=je[qe];this.set(Ot[0],Ot[1])}}function mr(){this.size=0,this.__data__={hash:new fr,map:new(It||ar),string:new fr}}function Xr(je){var qe=Vn(this,je).delete(je);return this.size-=qe?1:0,qe}function fi(je){return Vn(this,je).get(je)}function pi(je){return Vn(this,je).has(je)}function oi(je,qe){var vt=Vn(this,je),Ot=vt.size;return vt.set(je,qe),this.size+=vt.size==Ot?0:1,this}zt.prototype.clear=mr,zt.prototype.delete=Xr,zt.prototype.get=fi,zt.prototype.has=pi,zt.prototype.set=oi;function ei(je){var qe=-1,vt=je==null?0:je.length;for(this.__data__=new zt;++qe<vt;)this.add(je[qe])}function hn(je){return this.__data__.set(je,c),this}function Ji(je){return this.__data__.has(je)}ei.prototype.add=ei.prototype.push=hn,ei.prototype.has=Ji;function Kr(je){var qe=this.__data__=new ar(je);this.size=qe.size}function Xi(){this.__data__=new ar,this.size=0}function Gi(je){var qe=this.__data__,vt=qe.delete(je);return this.size=qe.size,vt}function yi(je){return this.__data__.get(je)}function Oi(je){return this.__data__.has(je)}function Mi(je,qe){var vt=this.__data__;if(vt instanceof ar){var Ot=vt.__data__;if(!It||Ot.length<u-1)return Ot.push([je,qe]),this.size=++vt.size,this;vt=this.__data__=new zt(Ot)}return vt.set(je,qe),this.size=vt.size,this}Kr.prototype.clear=Xi,Kr.prototype.delete=Gi,Kr.prototype.get=yi,Kr.prototype.has=Oi,Kr.prototype.set=Mi;function qi(je,qe){var vt=fn(je),Ot=!vt&&da(je),nr=!vt&&!Ot&&nn(je),Zt=!vt&&!Ot&&!nr&&Os(je),Dr=vt||Ot||nr||Zt,Nr=Dr?ne(je.length,String):[],Yr=Nr.length;for(var Ar in je)(qe||et.call(je,Ar))&&!(Dr&&(Ar=="length"||nr&&(Ar=="offset"||Ar=="parent")||Zt&&(Ar=="buffer"||Ar=="byteLength"||Ar=="byteOffset")||Ds(Ar,Yr)))&&Nr.push(Ar);return Nr}function gr(je,qe){for(var vt=je.length;vt--;)if(vs(je[vt][0],qe))return vt;return-1}function Ki(je,qe,vt){var Ot=qe(je);return fn(je)?Ot:ce(Ot,vt(je))}function ji(je){return je==null?je===void 0?te:S:Ct&&Ct in Object(je)?ms(je):ua(je)}function ds(je){return Pr(je)&&ji(je)==r}function rs(je,qe,vt,Ot,nr){return je===qe?!0:je==null||qe==null||!Pr(je)&&!Pr(qe)?je!==je&&qe!==qe:ps(je,qe,vt,Ot,rs,nr)}function ps(je,qe,vt,Ot,nr,Zt){var Dr=fn(je),Nr=fn(qe),Yr=Dr?n:cn(je),Ar=Nr?n:cn(qe);Yr=Yr==r?x:Yr,Ar=Ar==r?x:Ar;var wi=Yr==x,mi=Ar==x,ii=Yr==Ar;if(ii&&nn(je)){if(!nn(qe))return!1;Dr=!0,wi=!1}if(ii&&!wi)return Zt||(Zt=new Kr),Dr||Os(je)?Wn(je,qe,vt,Ot,nr,Zt):tn(je,qe,Yr,vt,Ot,nr,Zt);if(!(vt&s)){var ni=wi&&et.call(je,"__wrapped__"),gi=mi&&et.call(qe,"__wrapped__");if(ni||gi){var Ni=ni?je.value():je,ti=gi?qe.value():qe;return Zt||(Zt=new Kr),nr(Ni,ti,vt,Ot,Zt)}}return ii?(Zt||(Zt=new Kr),ha(je,qe,vt,Ot,nr,Zt)):!1}function la(je){if(!Ur(je)||Ba(je))return!1;var qe=Ls(je)?Be:le;return qe.test(zi(je))}function Ps(je){return Pr(je)&&Xn(je.length)&&!!Ie[ji(je)]}function en(je){if(!fa(je))return Mt(je);var qe=[];for(var vt in Object(je))et.call(je,vt)&&vt!="constructor"&&qe.push(vt);return qe}function Wn(je,qe,vt,Ot,nr,Zt){var Dr=vt&s,Nr=je.length,Yr=qe.length;if(Nr!=Yr&&!(Dr&&Yr>Nr))return!1;var Ar=Zt.get(je);if(Ar&&Zt.get(qe))return Ar==qe;var wi=-1,mi=!0,ii=vt&t?new ei:void 0;for(Zt.set(je,qe),Zt.set(qe,je);++wi<Nr;){var ni=je[wi],gi=qe[wi];if(Ot)var Ni=Dr?Ot(gi,ni,wi,qe,je,Zt):Ot(ni,gi,wi,je,qe,Zt);if(Ni!==void 0){if(Ni)continue;mi=!1;break}if(ii){if(!se(qe,function(ti,Hi){if(!Ne(ii,Hi)&&(ni===ti||nr(ni,ti,vt,Ot,Zt)))return ii.push(Hi)})){mi=!1;break}}else if(!(ni===gi||nr(ni,gi,vt,Ot,Zt))){mi=!1;break}}return Zt.delete(je),Zt.delete(qe),mi}function tn(je,qe,vt,Ot,nr,Zt,Dr){switch(vt){case j:if(je.byteLength!=qe.byteLength||je.byteOffset!=qe.byteOffset)return!1;je=je.buffer,qe=qe.buffer;case W:return!(je.byteLength!=qe.byteLength||!Zt(new mt(je),new mt(qe)));case d:case o:case T:return vs(+je,+qe);case g:return je.name==qe.name&&je.message==qe.message;case D:case ie:return je==qe+"";case E:var Nr=Pe;case V:var Yr=Ot&s;if(Nr||(Nr=ve),je.size!=qe.size&&!Yr)return!1;var Ar=Dr.get(je);if(Ar)return Ar==qe;Ot|=t,Dr.set(je,qe);var wi=Wn(Nr(je),Nr(qe),Ot,nr,Zt,Dr);return Dr.delete(je),wi;case ee:if(Mr)return Mr.call(je)==Mr.call(qe)}return!1}function ha(je,qe,vt,Ot,nr,Zt){var Dr=vt&s,Nr=Mn(je),Yr=Nr.length,Ar=Mn(qe),wi=Ar.length;if(Yr!=wi&&!Dr)return!1;for(var mi=Yr;mi--;){var ii=Nr[mi];if(!(Dr?ii in qe:et.call(qe,ii)))return!1}var ni=Zt.get(je);if(ni&&Zt.get(qe))return ni==qe;var gi=!0;Zt.set(je,qe),Zt.set(qe,je);for(var Ni=Dr;++mi<Yr;){ii=Nr[mi];var ti=je[ii],Hi=qe[ii];if(Ot)var ui=Dr?Ot(Hi,ti,ii,qe,je,Zt):Ot(ti,Hi,ii,je,qe,Zt);if(!(ui===void 0?ti===Hi||nr(ti,Hi,vt,Ot,Zt):ui)){gi=!1;break}Ni||(Ni=ii=="constructor")}if(gi&&!Ni){var Pn=je.constructor,bn=qe.constructor;Pn!=bn&&"constructor"in je&&"constructor"in qe&&!(typeof Pn=="function"&&Pn instanceof Pn&&typeof bn=="function"&&bn instanceof bn)&&(gi=!1)}return Zt.delete(je),Zt.delete(qe),gi}function Mn(je){return Ki(je,bs,ca)}function Vn(je,qe){var vt=je.__data__;return gs(qe)?vt[typeof qe=="string"?"string":"hash"]:vt.map}function rn(je,qe){var vt=ae(je,qe);return la(vt)?vt:void 0}function ms(je){var qe=et.call(je,Ct),vt=je[Ct];try{je[Ct]=void 0;var Ot=!0}catch{}var nr=at.call(je);return Ot&&(qe?je[Ct]=vt:delete je[Ct]),nr}var ca=Nt?function(je){return je==null?[]:(je=Object(je),de(Nt(je),function(qe){return Ut.call(je,qe)}))}:Ns,cn=ji;(Dt&&cn(new Dt(new ArrayBuffer(1)))!=j||It&&cn(new It)!=E||$t&&cn($t.resolve())!=w||Sr&&cn(new Sr)!=V||pr&&cn(new pr)!=Y)&&(cn=function(je){var qe=ji(je),vt=qe==x?je.constructor:void 0,Ot=vt?zi(vt):"";if(Ot)switch(Ot){case hr:return j;case Ir:return E;case rr:return w;case Wr:return V;case Or:return Y}return qe});function Ds(je,qe){return qe=qe??i,!!qe&&(typeof je=="number"||ge.test(je))&&je>-1&&je%1==0&&je<qe}function gs(je){var qe=typeof je;return qe=="string"||qe=="number"||qe=="symbol"||qe=="boolean"?je!=="__proto__":je===null}function Ba(je){return!!ut&&ut in je}function fa(je){var qe=je&&je.constructor,vt=typeof qe=="function"&&qe.prototype||We;return je===vt}function ua(je){return at.call(je)}function zi(je){if(je!=null){try{return Ge.call(je)}catch{}try{return je+""}catch{}}return""}function vs(je,qe){return je===qe||je!==je&&qe!==qe}var da=ds(function(){return arguments}())?ds:function(je){return Pr(je)&&et.call(je,"callee")&&!Ut.call(je,"callee")},fn=Array.isArray;function pa(je){return je!=null&&Xn(je.length)&&!Ls(je)}var nn=St||Gn;function un(je,qe){return rs(je,qe)}function Ls(je){if(!Ur(je))return!1;var qe=ji(je);return qe==y||qe==p||qe==l||qe==I}function Xn(je){return typeof je=="number"&&je>-1&&je%1==0&&je<=i}function Ur(je){var qe=typeof je;return je!=null&&(qe=="object"||qe=="function")}function Pr(je){return je!=null&&typeof je=="object"}var Os=he?we(he):Ps;function bs(je){return pa(je)?qi(je):en(je)}function Ns(){return[]}function Gn(){return!1}m.exports=un}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,m,v){(function(f){(function(){var u="[object AsyncFunction]",c="[object Function]",s="[object GeneratorFunction]",t="[object Null]",i="[object Proxy]",r="[object Undefined]",n=typeof f=="object"&&f&&f.Object===Object&&f,l=typeof self=="object"&&self&&self.Object===Object&&self,d=n||l||Function("return this")(),o=Object.prototype,g=o.hasOwnProperty,y=o.toString,p=d.Symbol,E=p?p.toStringTag:void 0;function T(D){return D==null?D===void 0?r:t:E&&E in Object(D)?S(D):x(D)}function S(D){var V=g.call(D,E),ie=D[E];try{D[E]=void 0;var ee=!0}catch{}var te=y.call(D);return ee&&(V?D[E]=ie:delete D[E]),te}function x(D){return y.call(D)}function w(D){if(!I(D))return!1;var V=T(D);return V==c||V==s||V==u||V==i}function I(D){var V=typeof D;return D!=null&&(V=="object"||V=="function")}m.exports=w}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,m,v){function f(u){return u==null}m.exports=f},{}],448:[function(e,m,v){function f(u){return u===void 0}m.exports=f},{}],449:[function(e,m,v){(function(f){(function(){var u=200,c="__lodash_hash_undefined__",s=1/0,t="[object Function]",i="[object GeneratorFunction]",r=/[\\^$.*+?()[\]{}|]/g,n=/^\[object .+?Constructor\]$/,l=typeof f=="object"&&f&&f.Object===Object&&f,d=typeof self=="object"&&self&&self.Object===Object&&self,o=l||d||Function("return this")();function g(Be,Qe){var rt=Be?Be.length:0;return!!rt&&E(Be,Qe,0)>-1}function y(Be,Qe,rt){for(var mt=-1,Ut=Be?Be.length:0;++mt<Ut;)if(rt(Qe,Be[mt]))return!0;return!1}function p(Be,Qe,rt,mt){for(var Ut=Be.length,jt=rt+(mt?1:-1);mt?jt--:++jt<Ut;)if(Qe(Be[jt],jt,Be))return jt;return-1}function E(Be,Qe,rt){if(Qe!==Qe)return p(Be,T,rt);for(var mt=rt-1,Ut=Be.length;++mt<Ut;)if(Be[mt]===Qe)return mt;return-1}function T(Be){return Be!==Be}function S(Be,Qe){return Be.has(Qe)}function x(Be,Qe){return Be==null?void 0:Be[Qe]}function w(Be){var Qe=!1;if(Be!=null&&typeof Be.toString!="function")try{Qe=!!(Be+"")}catch{}return Qe}function I(Be){var Qe=-1,rt=Array(Be.size);return Be.forEach(function(mt){rt[++Qe]=mt}),rt}var D=Array.prototype,V=Function.prototype,ie=Object.prototype,ee=o["__core-js_shared__"],te=function(){var Be=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return Be?"Symbol(src)_1."+Be:""}(),Y=V.toString,W=ie.hasOwnProperty,j=ie.toString,O=RegExp("^"+Y.call(W).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=D.splice,B=ve(o,"Map"),H=ve(o,"Set"),$=ve(Object,"create");function K(Be){var Qe=-1,rt=Be?Be.length:0;for(this.clear();++Qe<rt;){var mt=Be[Qe];this.set(mt[0],mt[1])}}function z(){this.__data__=$?$(null):{}}function F(Be){return this.has(Be)&&delete this.__data__[Be]}function L(Be){var Qe=this.__data__;if($){var rt=Qe[Be];return rt===c?void 0:rt}return W.call(Qe,Be)?Qe[Be]:void 0}function G(Be){var Qe=this.__data__;return $?Qe[Be]!==void 0:W.call(Qe,Be)}function le(Be,Qe){var rt=this.__data__;return rt[Be]=$&&Qe===void 0?c:Qe,this}K.prototype.clear=z,K.prototype.delete=F,K.prototype.get=L,K.prototype.has=G,K.prototype.set=le;function ge(Be){var Qe=-1,rt=Be?Be.length:0;for(this.clear();++Qe<rt;){var mt=Be[Qe];this.set(mt[0],mt[1])}}function Ie(){this.__data__=[]}function Oe(Be){var Qe=this.__data__,rt=we(Qe,Be);if(rt<0)return!1;var mt=Qe.length-1;return rt==mt?Qe.pop():k.call(Qe,rt,1),!0}function Ke(Be){var Qe=this.__data__,rt=we(Qe,Be);return rt<0?void 0:Qe[rt][1]}function De(Be){return we(this.__data__,Be)>-1}function Te(Be,Qe){var rt=this.__data__,mt=we(rt,Be);return mt<0?rt.push([Be,Qe]):rt[mt][1]=Qe,this}ge.prototype.clear=Ie,ge.prototype.delete=Oe,ge.prototype.get=Ke,ge.prototype.has=De,ge.prototype.set=Te;function Z(Be){var Qe=-1,rt=Be?Be.length:0;for(this.clear();++Qe<rt;){var mt=Be[Qe];this.set(mt[0],mt[1])}}function ue(){this.__data__={hash:new K,map:new(B||ge),string:new K}}function Ee(Be){return ze(this,Be).delete(Be)}function _e(Be){return ze(this,Be).get(Be)}function he(Be){return ze(this,Be).has(Be)}function de(Be,Qe){return ze(this,Be).set(Be,Qe),this}Z.prototype.clear=ue,Z.prototype.delete=Ee,Z.prototype.get=_e,Z.prototype.has=he,Z.prototype.set=de;function ce(Be){var Qe=-1,rt=Be?Be.length:0;for(this.__data__=new Z;++Qe<rt;)this.add(Be[Qe])}function se(Be){return this.__data__.set(Be,c),this}function ne(Be){return this.__data__.has(Be)}ce.prototype.add=ce.prototype.push=se,ce.prototype.has=ne;function we(Be,Qe){for(var rt=Be.length;rt--;)if(Ge(Be[rt][0],Qe))return rt;return-1}function Ne(Be){if(!ut(Be)||Fe(Be))return!1;var Qe=et(Be)||w(Be)?O:n;return Qe.test(We(Be))}function ae(Be,Qe,rt){var mt=-1,Ut=g,jt=Be.length,Ct=!0,Nt=[],St=Nt;if(rt)Ct=!1,Ut=y;else if(jt>=u){var Mt=Qe?null:Pe(Be);if(Mt)return I(Mt);Ct=!1,Ut=S,St=new ce}else St=Qe?[]:Nt;e:for(;++mt<jt;){var Dt=Be[mt],It=Qe?Qe(Dt):Dt;if(Dt=rt||Dt!==0?Dt:0,Ct&&It===It){for(var $t=St.length;$t--;)if(St[$t]===It)continue e;Qe&&St.push(It),Nt.push(Dt)}else Ut(St,It,rt)||(St!==Nt&&St.push(It),Nt.push(Dt))}return Nt}var Pe=H&&1/I(new H([,-0]))[1]==s?function(Be){return new H(Be)}:at;function ze(Be,Qe){var rt=Be.__data__;return Ae(Qe)?rt[typeof Qe=="string"?"string":"hash"]:rt.map}function ve(Be,Qe){var rt=x(Be,Qe);return Ne(rt)?rt:void 0}function Ae(Be){var Qe=typeof Be;return Qe=="string"||Qe=="number"||Qe=="symbol"||Qe=="boolean"?Be!=="__proto__":Be===null}function Fe(Be){return!!te&&te in Be}function We(Be){if(Be!=null){try{return Y.call(Be)}catch{}try{return Be+""}catch{}}return""}function Je(Be){return Be&&Be.length?ae(Be):[]}function Ge(Be,Qe){return Be===Qe||Be!==Be&&Qe!==Qe}function et(Be){var Qe=ut(Be)?j.call(Be):"";return Qe==t||Qe==i}function ut(Be){var Qe=typeof Be;return!!Be&&(Qe=="object"||Qe=="function")}function at(){}m.exports=Je}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,m,v){var f=e("inherits"),u=e("hash-base"),c=e("safe-buffer").Buffer,s=new Array(16);function t(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}f(t,u),t.prototype._update=function(){for(var o=s,g=0;g<16;++g)o[g]=this._block.readInt32LE(g*4);var y=this._a,p=this._b,E=this._c,T=this._d;y=r(y,p,E,T,o[0],3614090360,7),T=r(T,y,p,E,o[1],3905402710,12),E=r(E,T,y,p,o[2],606105819,17),p=r(p,E,T,y,o[3],3250441966,22),y=r(y,p,E,T,o[4],4118548399,7),T=r(T,y,p,E,o[5],1200080426,12),E=r(E,T,y,p,o[6],2821735955,17),p=r(p,E,T,y,o[7],4249261313,22),y=r(y,p,E,T,o[8],1770035416,7),T=r(T,y,p,E,o[9],2336552879,12),E=r(E,T,y,p,o[10],4294925233,17),p=r(p,E,T,y,o[11],2304563134,22),y=r(y,p,E,T,o[12],1804603682,7),T=r(T,y,p,E,o[13],4254626195,12),E=r(E,T,y,p,o[14],2792965006,17),p=r(p,E,T,y,o[15],1236535329,22),y=n(y,p,E,T,o[1],4129170786,5),T=n(T,y,p,E,o[6],3225465664,9),E=n(E,T,y,p,o[11],643717713,14),p=n(p,E,T,y,o[0],3921069994,20),y=n(y,p,E,T,o[5],3593408605,5),T=n(T,y,p,E,o[10],38016083,9),E=n(E,T,y,p,o[15],3634488961,14),p=n(p,E,T,y,o[4],3889429448,20),y=n(y,p,E,T,o[9],568446438,5),T=n(T,y,p,E,o[14],3275163606,9),E=n(E,T,y,p,o[3],4107603335,14),p=n(p,E,T,y,o[8],1163531501,20),y=n(y,p,E,T,o[13],2850285829,5),T=n(T,y,p,E,o[2],4243563512,9),E=n(E,T,y,p,o[7],1735328473,14),p=n(p,E,T,y,o[12],2368359562,20),y=l(y,p,E,T,o[5],4294588738,4),T=l(T,y,p,E,o[8],2272392833,11),E=l(E,T,y,p,o[11],1839030562,16),p=l(p,E,T,y,o[14],4259657740,23),y=l(y,p,E,T,o[1],2763975236,4),T=l(T,y,p,E,o[4],1272893353,11),E=l(E,T,y,p,o[7],4139469664,16),p=l(p,E,T,y,o[10],3200236656,23),y=l(y,p,E,T,o[13],681279174,4),T=l(T,y,p,E,o[0],3936430074,11),E=l(E,T,y,p,o[3],3572445317,16),p=l(p,E,T,y,o[6],76029189,23),y=l(y,p,E,T,o[9],3654602809,4),T=l(T,y,p,E,o[12],3873151461,11),E=l(E,T,y,p,o[15],530742520,16),p=l(p,E,T,y,o[2],3299628645,23),y=d(y,p,E,T,o[0],4096336452,6),T=d(T,y,p,E,o[7],1126891415,10),E=d(E,T,y,p,o[14],2878612391,15),p=d(p,E,T,y,o[5],4237533241,21),y=d(y,p,E,T,o[12],1700485571,6),T=d(T,y,p,E,o[3],2399980690,10),E=d(E,T,y,p,o[10],4293915773,15),p=d(p,E,T,y,o[1],2240044497,21),y=d(y,p,E,T,o[8],1873313359,6),T=d(T,y,p,E,o[15],4264355552,10),E=d(E,T,y,p,o[6],2734768916,15),p=d(p,E,T,y,o[13],1309151649,21),y=d(y,p,E,T,o[4],4149444226,6),T=d(T,y,p,E,o[11],3174756917,10),E=d(E,T,y,p,o[2],718787259,15),p=d(p,E,T,y,o[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+p|0,this._c=this._c+E|0,this._d=this._d+T|0},t.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var o=c.allocUnsafe(16);return o.writeInt32LE(this._a,0),o.writeInt32LE(this._b,4),o.writeInt32LE(this._c,8),o.writeInt32LE(this._d,12),o};function i(o,g){return o<<g|o>>>32-g}function r(o,g,y,p,E,T,S){return i(o+(g&y|~g&p)+E+T|0,S)+g|0}function n(o,g,y,p,E,T,S){return i(o+(g&p|y&~p)+E+T|0,S)+g|0}function l(o,g,y,p,E,T,S){return i(o+(g^y^p)+E+T|0,S)+g|0}function d(o,g,y,p,E,T,S){return i(o+(y^(g|~p))+E+T|0,S)+g|0}m.exports=t},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,m,v){var f=e("bn.js"),u=e("brorand");function c(s){this.rand=s||new u.Rand}m.exports=c,c.create=function(t){return new c(t)},c.prototype._randbelow=function(t){var i=t.bitLength(),r=Math.ceil(i/8);do var n=new f(this.rand.generate(r));while(n.cmp(t)>=0);return n},c.prototype._randrange=function(t,i){var r=i.sub(t);return t.add(this._randbelow(r))},c.prototype.test=function(t,i,r){var n=t.bitLength(),l=f.mont(t),d=new f(1).toRed(l);i||(i=Math.max(1,n/48|0));for(var o=t.subn(1),g=0;!o.testn(g);g++);for(var y=t.shrn(g),p=o.toRed(l),E=!0;i>0;i--){var T=this._randrange(new f(2),o);r&&r(T);var S=T.toRed(l).redPow(y);if(!(S.cmp(d)===0||S.cmp(p)===0)){for(var x=1;x<g;x++){if(S=S.redSqr(),S.cmp(d)===0)return!1;if(S.cmp(p)===0)break}if(x===g)return!1}}return E},c.prototype.getDivisor=function(t,i){var r=t.bitLength(),n=f.mont(t),l=new f(1).toRed(n);i||(i=Math.max(1,r/48|0));for(var d=t.subn(1),o=0;!d.testn(o);o++);for(var g=t.shrn(o),y=d.toRed(n);i>0;i--){var p=this._randrange(new f(2),d),E=t.gcd(p);if(E.cmpn(1)!==0)return E;var T=p.toRed(n).redPow(g);if(!(T.cmp(l)===0||T.cmp(y)===0)){for(var S=1;S<o;S++){if(T=T.redSqr(),T.cmp(l)===0)return T.fromRed().subn(1).gcd(t);if(T.cmp(y)===0)break}if(S===o)return T=T.redSqr(),T.fromRed().subn(1).gcd(t)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,m,v){arguments[4][184][0].apply(v,arguments)},{buffer:188,dup:184}],453:[function(e,m,v){m.exports=f;function f(u,c){if(!u)throw new Error(c||"Assertion failed")}f.equal=function(c,s,t){if(c!=s)throw new Error(t||"Assertion failed: "+c+" != "+s)}},{}],454:[function(e,m,v){var f=v;function u(t,i){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(i==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var l=t.charCodeAt(n),d=l>>8,o=l&255;d?r.push(d,o):r.push(o)}return r}f.toArray=u;function c(t){return t.length===1?"0"+t:t}f.zero2=c;function s(t){for(var i="",r=0;r<t.length;r++)i+=c(t[r].toString(16));return i}f.toHex=s,f.encode=function(i,r){return r==="hex"?s(i):i}},{}],455:[function(e,m,v){m.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,m,v){var f=e("asn1.js");v.certificate=e("./certificate");var u=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});v.RSAPrivateKey=u;var c=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});v.RSAPublicKey=c;var s=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(t),this.key("subjectPublicKey").bitstr())});v.PublicKey=s;var t=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),i=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("subjectPrivateKey").octstr())});v.PrivateKey=i;var r=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});v.EncryptedPrivateKey=r;var n=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});v.DSAPrivateKey=n,v.DSAparam=f.define("DSAparam",function(){this.int()});var l=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});v.ECPrivateKey=l;var d=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});v.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,m,v){var f=e("asn1.js"),u=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),t=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),i=f.define("RelativeDistinguishedName",function(){this.setof(c)}),r=f.define("RDNSequence",function(){this.seqof(i)}),n=f.define("Name",function(){this.choice({rdnSequence:this.use(r)})}),l=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(u),this.key("notAfter").use(u))}),d=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),o=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(n),this.key("validity").use(l),this.key("subject").use(n),this.key("subjectPublicKeyInfo").use(t),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),g=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(o),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});m.exports=g},{"asn1.js":170}],458:[function(e,m,v){var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=e("evp_bytestokey"),t=e("browserify-aes"),i=e("safe-buffer").Buffer;m.exports=function(r,n){var l=r.toString(),d=l.match(f),o;if(d){var y="aes"+d[1],p=i.from(d[2],"hex"),E=i.from(d[3].replace(/[\r\n]/g,""),"base64"),T=s(n,p.slice(0,8),parseInt(d[1],10)).key,S=[],x=t.createDecipheriv(y,T,p);S.push(x.update(E)),S.push(x.final()),o=i.concat(S)}else{var g=l.match(c);o=i.from(g[2].replace(/[\r\n]/g,""),"base64")}var w=l.match(u)[1];return{tag:w,data:o}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,m,v){var f=e("./asn1"),u=e("./aesid.json"),c=e("./fixProc"),s=e("browserify-aes"),t=e("pbkdf2"),i=e("safe-buffer").Buffer;m.exports=r;function r(l){var d;typeof l=="object"&&!i.isBuffer(l)&&(d=l.passphrase,l=l.key),typeof l=="string"&&(l=i.from(l));var o=c(l,d),g=o.tag,y=o.data,p,E;switch(g){case"CERTIFICATE":E=f.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(E||(E=f.PublicKey.decode(y,"der")),p=E.algorithm.algorithm.join("."),p){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(E.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return E.subjectPrivateKey=E.subjectPublicKey,{type:"ec",data:E};case"1.2.840.10040.4.1":return E.algorithm.params.pub_key=f.DSAparam.decode(E.subjectPublicKey.data,"der"),{type:"dsa",data:E.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":y=f.EncryptedPrivateKey.decode(y,"der"),y=n(y,d);case"PRIVATE KEY":switch(E=f.PrivateKey.decode(y,"der"),p=E.algorithm.algorithm.join("."),p){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(E.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:E.algorithm.curve,privateKey:f.ECPrivateKey.decode(E.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return E.algorithm.params.priv_key=f.DSAparam.decode(E.subjectPrivateKey,"der"),{type:"dsa",params:E.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return y=f.ECPrivateKey.decode(y,"der"),{curve:y.parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+g)}}r.signature=f.signature;function n(l,d){var o=l.algorithm.decrypt.kde.kdeparams.salt,g=parseInt(l.algorithm.decrypt.kde.kdeparams.iters.toString(),10),y=u[l.algorithm.decrypt.cipher.algo.join(".")],p=l.algorithm.decrypt.cipher.iv,E=l.subjectPrivateKey,T=parseInt(y.split("-")[1],10)/8,S=t.pbkdf2Sync(d,o,g,T,"sha1"),x=s.createDecipheriv(y,S,p),w=[];return w.push(x.update(E)),w.push(x.final()),i.concat(w)}},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,m,v){v.pbkdf2=e("./lib/async"),v.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,m,v){(function(f){(function(){var u=e("safe-buffer").Buffer,c=e("./precondition"),s=e("./default-encoding"),t=e("./sync"),i=e("./to-buffer"),r,n=f.crypto&&f.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function o(T){if(f.process&&!f.process.browser||!n||!n.importKey||!n.deriveBits)return Promise.resolve(!1);if(d[T]!==void 0)return d[T];r=r||u.alloc(8);var S=p(r,r,10,128,T).then(function(){return!0}).catch(function(){return!1});return d[T]=S,S}var g;function y(){return g||(f.process&&f.process.nextTick?g=f.process.nextTick:f.queueMicrotask?g=f.queueMicrotask:f.setImmediate?g=f.setImmediate:g=f.setTimeout,g)}function p(T,S,x,w,I){return n.importKey("raw",T,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return n.deriveBits({name:"PBKDF2",salt:S,iterations:x,hash:{name:I}},D,w<<3)}).then(function(D){return u.from(D)})}function E(T,S){T.then(function(x){y()(function(){S(null,x)})},function(x){y()(function(){S(x)})})}m.exports=function(T,S,x,w,I,D){typeof I=="function"&&(D=I,I=void 0),I=I||"sha1";var V=l[I.toLowerCase()];if(!V||typeof f.Promise!="function"){y()(function(){var ie;try{ie=t(T,S,x,w,I)}catch(ee){return D(ee)}D(null,ie)});return}if(c(x,w),T=i(T,s,"Password"),S=i(S,s,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");E(o(V).then(function(ie){return ie?p(T,S,x,w,V):t(T,S,x,w,I)}),D)}}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,m,v){(function(f,u){(function(){var c;if(u.process&&u.process.browser)c="utf-8";else if(u.process&&u.process.version){var s=parseInt(f.version.split(".")[0].slice(1),10);c=s>=6?"utf-8":"binary"}else c="utf-8";m.exports=c}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,m,v){var f=Math.pow(2,30)-1;m.exports=function(u,c){if(typeof u!="number")throw new TypeError("Iterations not a number");if(u<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>f||c!==c)throw new TypeError("Bad key length")}},{}],464:[function(e,m,v){var f=e("create-hash/md5"),u=e("ripemd160"),c=e("sha.js"),s=e("safe-buffer").Buffer,t=e("./precondition"),i=e("./default-encoding"),r=e("./to-buffer"),n=s.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(y,p,E){var T=o(y),S=y==="sha512"||y==="sha384"?128:64;p.length>S?p=T(p):p.length<S&&(p=s.concat([p,n],S));for(var x=s.allocUnsafe(S+l[y]),w=s.allocUnsafe(S+l[y]),I=0;I<S;I++)x[I]=p[I]^54,w[I]=p[I]^92;var D=s.allocUnsafe(S+E+4);x.copy(D,0,0,S),this.ipad1=D,this.ipad2=x,this.opad=w,this.alg=y,this.blocksize=S,this.hash=T,this.size=l[y]}d.prototype.run=function(y,p){y.copy(p,this.blocksize);var E=this.hash(p);return E.copy(this.opad,this.blocksize),this.hash(this.opad)};function o(y){function p(T){return c(y).update(T).digest()}function E(T){return new u().update(T).digest()}return y==="rmd160"||y==="ripemd160"?E:y==="md5"?f:p}function g(y,p,E,T,S){t(E,T),y=r(y,i,"Password"),p=r(p,i,"Salt"),S=S||"sha1";var x=new d(S,y,p.length),w=s.allocUnsafe(T),I=s.allocUnsafe(p.length+4);p.copy(I,0,0,p.length);for(var D=0,V=l[S],ie=Math.ceil(T/V),ee=1;ee<=ie;ee++){I.writeUInt32BE(ee,p.length);for(var te=x.run(I,x.ipad1),Y=te,W=1;W<E;W++){Y=x.run(Y,x.ipad2);for(var j=0;j<V;j++)te[j]^=Y[j]}te.copy(w,D),D+=V}return w}m.exports=g},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,m,v){var f=e("safe-buffer").Buffer;m.exports=function(u,c,s){if(f.isBuffer(u))return u;if(typeof u=="string")return f.from(u,c);if(ArrayBuffer.isView(u))return f.from(u.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,m,v){(function(f){(function(){typeof f>"u"||!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0?m.exports={nextTick:u}:m.exports=f;function u(c,s,t,i){if(typeof c!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,n,l;switch(r){case 0:case 1:return f.nextTick(c);case 2:return f.nextTick(function(){c.call(null,s)});case 3:return f.nextTick(function(){c.call(null,s,t)});case 4:return f.nextTick(function(){c.call(null,s,t,i)});default:for(n=new Array(r-1),l=0;l<n.length;)n[l++]=arguments[l];return f.nextTick(function(){c.apply(null,n)})}}}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,m,v){var f=m.exports={},u,c;function s(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=s}catch{u=s}try{typeof clearTimeout=="function"?c=clearTimeout:c=t}catch{c=t}})();function i(T){if(u===setTimeout)return setTimeout(T,0);if((u===s||!u)&&setTimeout)return u=setTimeout,setTimeout(T,0);try{return u(T,0)}catch{try{return u.call(null,T,0)}catch{return u.call(this,T,0)}}}function r(T){if(c===clearTimeout)return clearTimeout(T);if((c===t||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(T);try{return c(T)}catch{try{return c.call(null,T)}catch{return c.call(this,T)}}}var n=[],l=!1,d,o=-1;function g(){!l||!d||(l=!1,d.length?n=d.concat(n):o=-1,n.length&&y())}function y(){if(!l){var T=i(g);l=!0;for(var S=n.length;S;){for(d=n,n=[];++o<S;)d&&d[o].run();o=-1,S=n.length}d=null,l=!1,r(T)}}f.nextTick=function(T){var S=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)S[x-1]=arguments[x];n.push(new p(T,S)),n.length===1&&!l&&i(y)};function p(T,S){this.fun=T,this.array=S}p.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={};function E(){}f.on=E,f.addListener=E,f.once=E,f.off=E,f.removeListener=E,f.removeAllListeners=E,f.emit=E,f.prependListener=E,f.prependOnceListener=E,f.listeners=function(T){return[]},f.binding=function(T){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(T){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],468:[function(e,m,v){v.publicEncrypt=e("./publicEncrypt"),v.privateDecrypt=e("./privateDecrypt"),v.privateEncrypt=function(u,c){return v.publicEncrypt(u,c,!0)},v.publicDecrypt=function(u,c){return v.privateDecrypt(u,c,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,m,v){var f=e("create-hash"),u=e("safe-buffer").Buffer;m.exports=function(s,t){for(var i=u.alloc(0),r=0,n;i.length<t;)n=c(r++),i=u.concat([i,f("sha1").update(s).update(n).digest()]);return i.slice(0,t)};function c(s){var t=u.allocUnsafe(4);return t.writeUInt32BE(s,0),t}},{"create-hash":386,"safe-buffer":494}],470:[function(e,m,v){arguments[4][184][0].apply(v,arguments)},{buffer:188,dup:184}],471:[function(e,m,v){var f=e("parse-asn1"),u=e("./mgf"),c=e("./xor"),s=e("bn.js"),t=e("browserify-rsa"),i=e("create-hash"),r=e("./withPublic"),n=e("safe-buffer").Buffer;m.exports=function(y,p,E){var T;y.padding?T=y.padding:E?T=1:T=4;var S=f(y),x=S.modulus.byteLength();if(p.length>x||new s(p).cmp(S.modulus)>=0)throw new Error("decryption error");var w;E?w=r(new s(p),S):w=t(p,S);var I=n.alloc(x-w.length);if(w=n.concat([I,w],x),T===4)return l(S,w);if(T===1)return d(S,w,E);if(T===3)return w;throw new Error("unknown padding")};function l(g,y){var p=g.modulus.byteLength(),E=i("sha1").update(n.alloc(0)).digest(),T=E.length;if(y[0]!==0)throw new Error("decryption error");var S=y.slice(1,T+1),x=y.slice(T+1),w=c(S,u(x,T)),I=c(x,u(w,p-T-1));if(o(E,I.slice(0,T)))throw new Error("decryption error");for(var D=T;I[D]===0;)D++;if(I[D++]!==1)throw new Error("decryption error");return I.slice(D)}function d(g,y,p){for(var E=y.slice(0,2),T=2,S=0;y[T++]!==0;)if(T>=y.length){S++;break}var x=y.slice(2,T-1);if((E.toString("hex")!=="0002"&&!p||E.toString("hex")!=="0001"&&p)&&S++,x.length<8&&S++,S)throw new Error("decryption error");return y.slice(T)}function o(g,y){g=n.from(g),y=n.from(y);var p=0,E=g.length;g.length!==y.length&&(p++,E=Math.min(g.length,y.length));for(var T=-1;++T<E;)p+=g[T]^y[T];return p}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,m,v){var f=e("parse-asn1"),u=e("randombytes"),c=e("create-hash"),s=e("./mgf"),t=e("./xor"),i=e("bn.js"),r=e("./withPublic"),n=e("browserify-rsa"),l=e("safe-buffer").Buffer;m.exports=function(p,E,T){var S;p.padding?S=p.padding:T?S=1:S=4;var x=f(p),w;if(S===4)w=d(x,E);else if(S===1)w=o(x,E,T);else if(S===3){if(w=new i(E),w.cmp(x.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return T?n(w,x):r(w,x)};function d(y,p){var E=y.modulus.byteLength(),T=p.length,S=c("sha1").update(l.alloc(0)).digest(),x=S.length,w=2*x;if(T>E-w-2)throw new Error("message too long");var I=l.alloc(E-T-w-2),D=E-x-1,V=u(x),ie=t(l.concat([S,I,l.alloc(1,1),p],D),s(V,D)),ee=t(V,s(ie,x));return new i(l.concat([l.alloc(1),ee,ie],E))}function o(y,p,E){var T=p.length,S=y.modulus.byteLength();if(T>S-11)throw new Error("message too long");var x;return E?x=l.alloc(S-T-3,255):x=g(S-T-3),new i(l.concat([l.from([0,E?1:2]),x,l.alloc(1),p],S))}function g(y){for(var p=l.allocUnsafe(y),E=0,T=u(y*2),S=0,x;E<y;)S===T.length&&(T=u(y*2),S=0),x=T[S++],x&&(p[E++]=x);return p}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,m,v){var f=e("bn.js"),u=e("safe-buffer").Buffer;function c(s,t){return u.from(s.toRed(f.mont(t.modulus)).redPow(new f(t.publicExponent)).fromRed().toArray())}m.exports=c},{"bn.js":470,"safe-buffer":494}],474:[function(e,m,v){m.exports=function(u,c){for(var s=u.length,t=-1;++t<s;)u[t]^=c[t];return u}},{}],475:[function(e,m,v){(function(f,u){(function(){var c=65536,s=4294967295;function t(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var i=e("safe-buffer").Buffer,r=u.crypto||u.msCrypto;r&&r.getRandomValues?m.exports=n:m.exports=t;function n(l,d){if(l>s)throw new RangeError("requested too many random bytes");var o=i.allocUnsafe(l);if(l>0)if(l>c)for(var g=0;g<l;g+=c)r.getRandomValues(o.slice(g,g+c));else r.getRandomValues(o);return typeof d=="function"?f.nextTick(function(){d(null,o)}):o}}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,m,v){(function(f,u){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=e("safe-buffer"),t=e("randombytes"),i=s.Buffer,r=s.kMaxLength,n=u.crypto||u.msCrypto,l=Math.pow(2,32)-1;function d(E,T){if(typeof E!="number"||E!==E)throw new TypeError("offset must be a number");if(E>l||E<0)throw new TypeError("offset must be a uint32");if(E>r||E>T)throw new RangeError("offset out of range")}function o(E,T,S){if(typeof E!="number"||E!==E)throw new TypeError("size must be a number");if(E>l||E<0)throw new TypeError("size must be a uint32");if(E+T>S||E>r)throw new RangeError("buffer too small")}n&&n.getRandomValues||!f.browser?(v.randomFill=g,v.randomFillSync=p):(v.randomFill=c,v.randomFillSync=c);function g(E,T,S,x){if(!i.isBuffer(E)&&!(E instanceof u.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof T=="function")x=T,T=0,S=E.length;else if(typeof S=="function")x=S,S=E.length-T;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return d(T,E.length),o(S,T,E.length),y(E,T,S,x)}function y(E,T,S,x){if(f.browser){var w=E.buffer,I=new Uint8Array(w,T,S);if(n.getRandomValues(I),x){f.nextTick(function(){x(null,E)});return}return E}if(x){t(S,function(V,ie){if(V)return x(V);ie.copy(E,T),x(null,E)});return}var D=t(S);return D.copy(E,T),E}function p(E,T,S){if(typeof T>"u"&&(T=0),!i.isBuffer(E)&&!(E instanceof u.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(T,E.length),S===void 0&&(S=E.length-T),o(S,T,E.length),y(E,T,S)}}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,m,v){function f(n,l){n.prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l}var u={};function c(n,l,d){d||(d=Error);function o(y,p,E){return typeof l=="string"?l:l(y,p,E)}var g=function(y){f(p,y);function p(E,T,S){return y.call(this,o(E,T,S))||this}return p}(d);g.prototype.name=d.name,g.prototype.code=n,u[n]=g}function s(n,l){if(Array.isArray(n)){var d=n.length;return n=n.map(function(o){return String(o)}),d>2?"one of ".concat(l," ").concat(n.slice(0,d-1).join(", "),", or ")+n[d-1]:d===2?"one of ".concat(l," ").concat(n[0]," or ").concat(n[1]):"of ".concat(l," ").concat(n[0])}else return"of ".concat(l," ").concat(String(n))}function t(n,l,d){return n.substr(!d||d<0?0:+d,l.length)===l}function i(n,l,d){return(d===void 0||d>n.length)&&(d=n.length),n.substring(d-l.length,d)===l}function r(n,l,d){return typeof d!="number"&&(d=0),d+l.length>n.length?!1:n.indexOf(l,d)!==-1}c("ERR_INVALID_OPT_VALUE",function(n,l){return'The value "'+l+'" is invalid for option "'+n+'"'},TypeError),c("ERR_INVALID_ARG_TYPE",function(n,l,d){var o;typeof l=="string"&&t(l,"not ")?(o="must not be",l=l.replace(/^not /,"")):o="must be";var g;if(i(n," argument"))g="The ".concat(n," ").concat(o," ").concat(s(l,"type"));else{var y=r(n,".")?"property":"argument";g='The "'.concat(n,'" ').concat(y," ").concat(o," ").concat(s(l,"type"))}return g+=". Received type ".concat(typeof d),g},TypeError),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),c("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),c("ERR_STREAM_PREMATURE_CLOSE","Premature close"),c("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),c("ERR_STREAM_WRITE_AFTER_END","write after end"),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=u},{}],478:[function(e,m,v){(function(f){(function(){var u=Object.keys||function(o){var g=[];for(var y in o)g.push(y);return g};m.exports=n;var c=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(n,c);for(var t=u(s.prototype),i=0;i<t.length;i++){var r=t[i];n.prototype[r]||(n.prototype[r]=s.prototype[r])}function n(o){if(!(this instanceof n))return new n(o);c.call(this,o),s.call(this,o),this.allowHalfOpen=!0,o&&(o.readable===!1&&(this.readable=!1),o.writable===!1&&(this.writable=!1),o.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||f.nextTick(d,this)}function d(o){o.end()}Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,m,v){m.exports=u;var f=e("./_stream_transform");e("inherits")(u,f);function u(c){if(!(this instanceof u))return new u(c);f.call(this,c)}u.prototype._transform=function(c,s,t){t(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,m,v){(function(f,u){(function(){m.exports=j;var c;j.ReadableState=W,e("events").EventEmitter;var s=function(de,ce){return de.listeners(ce).length},t=e("./internal/streams/stream"),i=e("buffer").Buffer,r=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function n(he){return i.from(he)}function l(he){return i.isBuffer(he)||he instanceof r}var d=e("util"),o;d&&d.debuglog?o=d.debuglog("stream"):o=function(){};var g=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),p=e("./internal/streams/state"),E=p.getHighWaterMark,T=e("../errors").codes,S=T.ERR_INVALID_ARG_TYPE,x=T.ERR_STREAM_PUSH_AFTER_EOF,w=T.ERR_METHOD_NOT_IMPLEMENTED,I=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,V,ie;e("inherits")(j,t);var ee=y.errorOrDestroy,te=["error","close","destroy","pause","resume"];function Y(he,de,ce){if(typeof he.prependListener=="function")return he.prependListener(de,ce);!he._events||!he._events[de]?he.on(de,ce):Array.isArray(he._events[de])?he._events[de].unshift(ce):he._events[de]=[ce,he._events[de]]}function W(he,de,ce){c=c||e("./_stream_duplex"),he=he||{},typeof ce!="boolean"&&(ce=de instanceof c),this.objectMode=!!he.objectMode,ce&&(this.objectMode=this.objectMode||!!he.readableObjectMode),this.highWaterMark=E(this,he,"readableHighWaterMark",ce),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=he.emitClose!==!1,this.autoDestroy=!!he.autoDestroy,this.destroyed=!1,this.defaultEncoding=he.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,he.encoding&&(D||(D=e("string_decoder/").StringDecoder),this.decoder=new D(he.encoding),this.encoding=he.encoding)}function j(he){if(c=c||e("./_stream_duplex"),!(this instanceof j))return new j(he);var de=this instanceof c;this._readableState=new W(he,this,de),this.readable=!0,he&&(typeof he.read=="function"&&(this._read=he.read),typeof he.destroy=="function"&&(this._destroy=he.destroy)),t.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(de){this._readableState&&(this._readableState.destroyed=de)}}),j.prototype.destroy=y.destroy,j.prototype._undestroy=y.undestroy,j.prototype._destroy=function(he,de){de(he)},j.prototype.push=function(he,de){var ce=this._readableState,se;return ce.objectMode?se=!0:typeof he=="string"&&(de=de||ce.defaultEncoding,de!==ce.encoding&&(he=i.from(he,de),de=""),se=!0),O(this,he,de,!1,se)},j.prototype.unshift=function(he){return O(this,he,null,!0,!1)};function O(he,de,ce,se,ne){o("readableAddChunk",de);var we=he._readableState;if(de===null)we.reading=!1,z(he,we);else{var Ne;if(ne||(Ne=B(we,de)),Ne)ee(he,Ne);else if(we.objectMode||de&&de.length>0)if(typeof de!="string"&&!we.objectMode&&Object.getPrototypeOf(de)!==i.prototype&&(de=n(de)),se)we.endEmitted?ee(he,new I):k(he,we,de,!0);else if(we.ended)ee(he,new x);else{if(we.destroyed)return!1;we.reading=!1,we.decoder&&!ce?(de=we.decoder.write(de),we.objectMode||de.length!==0?k(he,we,de,!1):G(he,we)):k(he,we,de,!1)}else se||(we.reading=!1,G(he,we))}return!we.ended&&(we.length<we.highWaterMark||we.length===0)}function k(he,de,ce,se){de.flowing&&de.length===0&&!de.sync?(de.awaitDrain=0,he.emit("data",ce)):(de.length+=de.objectMode?1:ce.length,se?de.buffer.unshift(ce):de.buffer.push(ce),de.needReadable&&F(he)),G(he,de)}function B(he,de){var ce;return!l(de)&&typeof de!="string"&&de!==void 0&&!he.objectMode&&(ce=new S("chunk",["string","Buffer","Uint8Array"],de)),ce}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(he){D||(D=e("string_decoder/").StringDecoder);var de=new D(he);this._readableState.decoder=de,this._readableState.encoding=this._readableState.decoder.encoding;for(var ce=this._readableState.buffer.head,se="";ce!==null;)se+=de.write(ce.data),ce=ce.next;return this._readableState.buffer.clear(),se!==""&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};var H=1073741824;function $(he){return he>=H?he=H:(he--,he|=he>>>1,he|=he>>>2,he|=he>>>4,he|=he>>>8,he|=he>>>16,he++),he}function K(he,de){return he<=0||de.length===0&&de.ended?0:de.objectMode?1:he!==he?de.flowing&&de.length?de.buffer.head.data.length:de.length:(he>de.highWaterMark&&(de.highWaterMark=$(he)),he<=de.length?he:de.ended?de.length:(de.needReadable=!0,0))}j.prototype.read=function(he){o("read",he),he=parseInt(he,10);var de=this._readableState,ce=he;if(he!==0&&(de.emittedReadable=!1),he===0&&de.needReadable&&((de.highWaterMark!==0?de.length>=de.highWaterMark:de.length>0)||de.ended))return o("read: emitReadable",de.length,de.ended),de.length===0&&de.ended?ue(this):F(this),null;if(he=K(he,de),he===0&&de.ended)return de.length===0&&ue(this),null;var se=de.needReadable;o("need readable",se),(de.length===0||de.length-he<de.highWaterMark)&&(se=!0,o("length less than watermark",se)),de.ended||de.reading?(se=!1,o("reading or ended",se)):se&&(o("do read"),de.reading=!0,de.sync=!0,de.length===0&&(de.needReadable=!0),this._read(de.highWaterMark),de.sync=!1,de.reading||(he=K(ce,de)));var ne;return he>0?ne=Z(he,de):ne=null,ne===null?(de.needReadable=de.length<=de.highWaterMark,he=0):(de.length-=he,de.awaitDrain=0),de.length===0&&(de.ended||(de.needReadable=!0),ce!==he&&de.ended&&ue(this)),ne!==null&&this.emit("data",ne),ne};function z(he,de){if(o("onEofChunk"),!de.ended){if(de.decoder){var ce=de.decoder.end();ce&&ce.length&&(de.buffer.push(ce),de.length+=de.objectMode?1:ce.length)}de.ended=!0,de.sync?F(he):(de.needReadable=!1,de.emittedReadable||(de.emittedReadable=!0,L(he)))}}function F(he){var de=he._readableState;o("emitReadable",de.needReadable,de.emittedReadable),de.needReadable=!1,de.emittedReadable||(o("emitReadable",de.flowing),de.emittedReadable=!0,f.nextTick(L,he))}function L(he){var de=he._readableState;o("emitReadable_",de.destroyed,de.length,de.ended),!de.destroyed&&(de.length||de.ended)&&(he.emit("readable"),de.emittedReadable=!1),de.needReadable=!de.flowing&&!de.ended&&de.length<=de.highWaterMark,Te(he)}function G(he,de){de.readingMore||(de.readingMore=!0,f.nextTick(le,he,de))}function le(he,de){for(;!de.reading&&!de.ended&&(de.length<de.highWaterMark||de.flowing&&de.length===0);){var ce=de.length;if(o("maybeReadMore read 0"),he.read(0),ce===de.length)break}de.readingMore=!1}j.prototype._read=function(he){ee(this,new w("_read()"))},j.prototype.pipe=function(he,de){var ce=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=he;break;case 1:se.pipes=[se.pipes,he];break;default:se.pipes.push(he);break}se.pipesCount+=1,o("pipe count=%d opts=%j",se.pipesCount,de);var ne=(!de||de.end!==!1)&&he!==f.stdout&&he!==f.stderr,we=ne?ae:Ge;se.endEmitted?f.nextTick(we):ce.once("end",we),he.on("unpipe",Ne);function Ne(et,ut){o("onunpipe"),et===ce&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,ve())}function ae(){o("onend"),he.end()}var Pe=ge(ce);he.on("drain",Pe);var ze=!1;function ve(){o("cleanup"),he.removeListener("close",We),he.removeListener("finish",Je),he.removeListener("drain",Pe),he.removeListener("error",Fe),he.removeListener("unpipe",Ne),ce.removeListener("end",ae),ce.removeListener("end",Ge),ce.removeListener("data",Ae),ze=!0,se.awaitDrain&&(!he._writableState||he._writableState.needDrain)&&Pe()}ce.on("data",Ae);function Ae(et){o("ondata");var ut=he.write(et);o("dest.write",ut),ut===!1&&((se.pipesCount===1&&se.pipes===he||se.pipesCount>1&&_e(se.pipes,he)!==-1)&&!ze&&(o("false write response, pause",se.awaitDrain),se.awaitDrain++),ce.pause())}function Fe(et){o("onerror",et),Ge(),he.removeListener("error",Fe),s(he,"error")===0&&ee(he,et)}Y(he,"error",Fe);function We(){he.removeListener("finish",Je),Ge()}he.once("close",We);function Je(){o("onfinish"),he.removeListener("close",We),Ge()}he.once("finish",Je);function Ge(){o("unpipe"),ce.unpipe(he)}return he.emit("pipe",ce),se.flowing||(o("pipe resume"),ce.resume()),he};function ge(he){return function(){var ce=he._readableState;o("pipeOnDrain",ce.awaitDrain),ce.awaitDrain&&ce.awaitDrain--,ce.awaitDrain===0&&s(he,"data")&&(ce.flowing=!0,Te(he))}}j.prototype.unpipe=function(he){var de=this._readableState,ce={hasUnpiped:!1};if(de.pipesCount===0)return this;if(de.pipesCount===1)return he&&he!==de.pipes?this:(he||(he=de.pipes),de.pipes=null,de.pipesCount=0,de.flowing=!1,he&&he.emit("unpipe",this,ce),this);if(!he){var se=de.pipes,ne=de.pipesCount;de.pipes=null,de.pipesCount=0,de.flowing=!1;for(var we=0;we<ne;we++)se[we].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=_e(de.pipes,he);return Ne===-1?this:(de.pipes.splice(Ne,1),de.pipesCount-=1,de.pipesCount===1&&(de.pipes=de.pipes[0]),he.emit("unpipe",this,ce),this)},j.prototype.on=function(he,de){var ce=t.prototype.on.call(this,he,de),se=this._readableState;return he==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):he==="readable"&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,o("on readable",se.length,se.reading),se.length?F(this):se.reading||f.nextTick(Oe,this)),ce},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(he,de){var ce=t.prototype.removeListener.call(this,he,de);return he==="readable"&&f.nextTick(Ie,this),ce},j.prototype.removeAllListeners=function(he){var de=t.prototype.removeAllListeners.apply(this,arguments);return(he==="readable"||he===void 0)&&f.nextTick(Ie,this),de};function Ie(he){var de=he._readableState;de.readableListening=he.listenerCount("readable")>0,de.resumeScheduled&&!de.paused?de.flowing=!0:he.listenerCount("data")>0&&he.resume()}function Oe(he){o("readable nexttick read 0"),he.read(0)}j.prototype.resume=function(){var he=this._readableState;return he.flowing||(o("resume"),he.flowing=!he.readableListening,Ke(this,he)),he.paused=!1,this};function Ke(he,de){de.resumeScheduled||(de.resumeScheduled=!0,f.nextTick(De,he,de))}function De(he,de){o("resume",de.reading),de.reading||he.read(0),de.resumeScheduled=!1,he.emit("resume"),Te(he),de.flowing&&!de.reading&&he.read(0)}j.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Te(he){var de=he._readableState;for(o("flow",de.flowing);de.flowing&&he.read()!==null;);}j.prototype.wrap=function(he){var de=this,ce=this._readableState,se=!1;he.on("end",function(){if(o("wrapped end"),ce.decoder&&!ce.ended){var Ne=ce.decoder.end();Ne&&Ne.length&&de.push(Ne)}de.push(null)}),he.on("data",function(Ne){if(o("wrapped data"),ce.decoder&&(Ne=ce.decoder.write(Ne)),!(ce.objectMode&&Ne==null)&&!(!ce.objectMode&&(!Ne||!Ne.length))){var ae=de.push(Ne);ae||(se=!0,he.pause())}});for(var ne in he)this[ne]===void 0&&typeof he[ne]=="function"&&(this[ne]=function(ae){return function(){return he[ae].apply(he,arguments)}}(ne));for(var we=0;we<te.length;we++)he.on(te[we],this.emit.bind(this,te[we]));return this._read=function(Ne){o("wrapped _read",Ne),se&&(se=!1,he.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return V===void 0&&(V=e("./internal/streams/async_iterator")),V(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(de){this._readableState&&(this._readableState.flowing=de)}}),j._fromList=Z,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(he,de){if(de.length===0)return null;var ce;return de.objectMode?ce=de.buffer.shift():!he||he>=de.length?(de.decoder?ce=de.buffer.join(""):de.buffer.length===1?ce=de.buffer.first():ce=de.buffer.concat(de.length),de.buffer.clear()):ce=de.buffer.consume(he,de.decoder),ce}function ue(he){var de=he._readableState;o("endReadable",de.endEmitted),de.endEmitted||(de.ended=!0,f.nextTick(Ee,de,he))}function Ee(he,de){if(o("endReadableNT",he.endEmitted,he.length),!he.endEmitted&&he.length===0&&(he.endEmitted=!0,de.readable=!1,de.emit("end"),he.autoDestroy)){var ce=de._writableState;(!ce||ce.autoDestroy&&ce.finished)&&de.destroy()}}typeof Symbol=="function"&&(j.from=function(he,de){return ie===void 0&&(ie=e("./internal/streams/from")),ie(j,he,de)});function _e(he,de){for(var ce=0,se=he.length;ce<se;ce++)if(he[ce]===de)return ce;return-1}}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,m,v){m.exports=n;var f=e("../errors").codes,u=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,s=f.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=f.ERR_TRANSFORM_WITH_LENGTH_0,i=e("./_stream_duplex");e("inherits")(n,i);function r(o,g){var y=this._transformState;y.transforming=!1;var p=y.writecb;if(p===null)return this.emit("error",new c);y.writechunk=null,y.writecb=null,g!=null&&this.push(g),p(o);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function n(o){if(!(this instanceof n))return new n(o);i.call(this,o),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",l)}function l(){var o=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,y){d(o,g,y)}):d(this,null,null)}n.prototype.push=function(o,g){return this._transformState.needTransform=!1,i.prototype.push.call(this,o,g)},n.prototype._transform=function(o,g,y){y(new u("_transform()"))},n.prototype._write=function(o,g,y){var p=this._transformState;if(p.writecb=y,p.writechunk=o,p.writeencoding=g,!p.transforming){var E=this._readableState;(p.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},n.prototype._read=function(o){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},n.prototype._destroy=function(o,g){i.prototype._destroy.call(this,o,function(y){g(y)})};function d(o,g,y){if(g)return o.emit("error",g);if(y!=null&&o.push(y),o._writableState.length)throw new t;if(o._transformState.transforming)throw new s;return o.push(null)}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,m,v){(function(f,u){(function(){m.exports=W;function c(Te){var Z=this;this.next=null,this.entry=null,this.finish=function(){De(Z,Te)}}var s;W.WritableState=te;var t={deprecate:e("util-deprecate")},i=e("./internal/streams/stream"),r=e("buffer").Buffer,n=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(Te){return r.from(Te)}function d(Te){return r.isBuffer(Te)||Te instanceof n}var o=e("./internal/streams/destroy"),g=e("./internal/streams/state"),y=g.getHighWaterMark,p=e("../errors").codes,E=p.ERR_INVALID_ARG_TYPE,T=p.ERR_METHOD_NOT_IMPLEMENTED,S=p.ERR_MULTIPLE_CALLBACK,x=p.ERR_STREAM_CANNOT_PIPE,w=p.ERR_STREAM_DESTROYED,I=p.ERR_STREAM_NULL_VALUES,D=p.ERR_STREAM_WRITE_AFTER_END,V=p.ERR_UNKNOWN_ENCODING,ie=o.errorOrDestroy;e("inherits")(W,i);function ee(){}function te(Te,Z,ue){s=s||e("./_stream_duplex"),Te=Te||{},typeof ue!="boolean"&&(ue=Z instanceof s),this.objectMode=!!Te.objectMode,ue&&(this.objectMode=this.objectMode||!!Te.writableObjectMode),this.highWaterMark=y(this,Te,"writableHighWaterMark",ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ee=Te.decodeStrings===!1;this.decodeStrings=!Ee,this.defaultEncoding=Te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){z(Z,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Te.emitClose!==!1,this.autoDestroy=!!Te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}te.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,ue=[];Z;)ue.push(Z),Z=Z.next;return ue},function(){try{Object.defineProperty(te.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Y;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(Z){return Y.call(this,Z)?!0:this!==W?!1:Z&&Z._writableState instanceof te}})):Y=function(Z){return Z instanceof this};function W(Te){s=s||e("./_stream_duplex");var Z=this instanceof s;if(!Z&&!Y.call(W,this))return new W(Te);this._writableState=new te(Te,this,Z),this.writable=!0,Te&&(typeof Te.write=="function"&&(this._write=Te.write),typeof Te.writev=="function"&&(this._writev=Te.writev),typeof Te.destroy=="function"&&(this._destroy=Te.destroy),typeof Te.final=="function"&&(this._final=Te.final)),i.call(this)}W.prototype.pipe=function(){ie(this,new x)};function j(Te,Z){var ue=new D;ie(Te,ue),f.nextTick(Z,ue)}function O(Te,Z,ue,Ee){var _e;return ue===null?_e=new I:typeof ue!="string"&&!Z.objectMode&&(_e=new E("chunk",["string","Buffer"],ue)),_e?(ie(Te,_e),f.nextTick(Ee,_e),!1):!0}W.prototype.write=function(Te,Z,ue){var Ee=this._writableState,_e=!1,he=!Ee.objectMode&&d(Te);return he&&!r.isBuffer(Te)&&(Te=l(Te)),typeof Z=="function"&&(ue=Z,Z=null),he?Z="buffer":Z||(Z=Ee.defaultEncoding),typeof ue!="function"&&(ue=ee),Ee.ending?j(this,ue):(he||O(this,Ee,Te,ue))&&(Ee.pendingcb++,_e=B(this,Ee,he,Te,Z,ue)),_e},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var Te=this._writableState;Te.corked&&(Te.corked--,!Te.writing&&!Te.corked&&!Te.bufferProcessing&&Te.bufferedRequest&&G(this,Te))},W.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new V(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function k(Te,Z,ue){return!Te.objectMode&&Te.decodeStrings!==!1&&typeof Z=="string"&&(Z=r.from(Z,ue)),Z}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(Te,Z,ue,Ee,_e,he){if(!ue){var de=k(Z,Ee,_e);Ee!==de&&(ue=!0,_e="buffer",Ee=de)}var ce=Z.objectMode?1:Ee.length;Z.length+=ce;var se=Z.length<Z.highWaterMark;if(se||(Z.needDrain=!0),Z.writing||Z.corked){var ne=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:Ee,encoding:_e,isBuf:ue,callback:he,next:null},ne?ne.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else H(Te,Z,!1,ce,Ee,_e,he);return se}function H(Te,Z,ue,Ee,_e,he,de){Z.writelen=Ee,Z.writecb=de,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new w("write")):ue?Te._writev(_e,Z.onwrite):Te._write(_e,he,Z.onwrite),Z.sync=!1}function $(Te,Z,ue,Ee,_e){--Z.pendingcb,ue?(f.nextTick(_e,Ee),f.nextTick(Oe,Te,Z),Te._writableState.errorEmitted=!0,ie(Te,Ee)):(_e(Ee),Te._writableState.errorEmitted=!0,ie(Te,Ee),Oe(Te,Z))}function K(Te){Te.writing=!1,Te.writecb=null,Te.length-=Te.writelen,Te.writelen=0}function z(Te,Z){var ue=Te._writableState,Ee=ue.sync,_e=ue.writecb;if(typeof _e!="function")throw new S;if(K(ue),Z)$(Te,ue,Ee,Z,_e);else{var he=le(ue)||Te.destroyed;!he&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&G(Te,ue),Ee?f.nextTick(F,Te,ue,he,_e):F(Te,ue,he,_e)}}function F(Te,Z,ue,Ee){ue||L(Te,Z),Z.pendingcb--,Ee(),Oe(Te,Z)}function L(Te,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,Te.emit("drain"))}function G(Te,Z){Z.bufferProcessing=!0;var ue=Z.bufferedRequest;if(Te._writev&&ue&&ue.next){var Ee=Z.bufferedRequestCount,_e=new Array(Ee),he=Z.corkedRequestsFree;he.entry=ue;for(var de=0,ce=!0;ue;)_e[de]=ue,ue.isBuf||(ce=!1),ue=ue.next,de+=1;_e.allBuffers=ce,H(Te,Z,!0,Z.length,_e,"",he.finish),Z.pendingcb++,Z.lastBufferedRequest=null,he.next?(Z.corkedRequestsFree=he.next,he.next=null):Z.corkedRequestsFree=new c(Z),Z.bufferedRequestCount=0}else{for(;ue;){var se=ue.chunk,ne=ue.encoding,we=ue.callback,Ne=Z.objectMode?1:se.length;if(H(Te,Z,!1,Ne,se,ne,we),ue=ue.next,Z.bufferedRequestCount--,Z.writing)break}ue===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=ue,Z.bufferProcessing=!1}W.prototype._write=function(Te,Z,ue){ue(new T("_write()"))},W.prototype._writev=null,W.prototype.end=function(Te,Z,ue){var Ee=this._writableState;return typeof Te=="function"?(ue=Te,Te=null,Z=null):typeof Z=="function"&&(ue=Z,Z=null),Te!=null&&this.write(Te,Z),Ee.corked&&(Ee.corked=1,this.uncork()),Ee.ending||Ke(this,Ee,ue),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function le(Te){return Te.ending&&Te.length===0&&Te.bufferedRequest===null&&!Te.finished&&!Te.writing}function ge(Te,Z){Te._final(function(ue){Z.pendingcb--,ue&&ie(Te,ue),Z.prefinished=!0,Te.emit("prefinish"),Oe(Te,Z)})}function Ie(Te,Z){!Z.prefinished&&!Z.finalCalled&&(typeof Te._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,f.nextTick(ge,Te,Z)):(Z.prefinished=!0,Te.emit("prefinish")))}function Oe(Te,Z){var ue=le(Z);if(ue&&(Ie(Te,Z),Z.pendingcb===0&&(Z.finished=!0,Te.emit("finish"),Z.autoDestroy))){var Ee=Te._readableState;(!Ee||Ee.autoDestroy&&Ee.endEmitted)&&Te.destroy()}return ue}function Ke(Te,Z,ue){Z.ending=!0,Oe(Te,Z),ue&&(Z.finished?f.nextTick(ue):Te.once("finish",ue)),Z.ended=!0,Te.writable=!1}function De(Te,Z,ue){var Ee=Te.entry;for(Te.entry=null;Ee;){var _e=Ee.callback;Z.pendingcb--,_e(ue),Ee=Ee.next}Z.corkedRequestsFree.next=Te}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),W.prototype.destroy=o.destroy,W.prototype._undestroy=o.undestroy,W.prototype._destroy=function(Te,Z){Z(Te)}}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,m,v){(function(f){(function(){var u;function c(D,V,ie){return V=s(V),V in D?Object.defineProperty(D,V,{value:ie,enumerable:!0,configurable:!0,writable:!0}):D[V]=ie,D}function s(D){var V=t(D,"string");return typeof V=="symbol"?V:String(V)}function t(D,V){if(typeof D!="object"||D===null)return D;var ie=D[Symbol.toPrimitive];if(ie!==void 0){var ee=ie.call(D,V||"default");if(typeof ee!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(D)}var i=e("./end-of-stream"),r=Symbol("lastResolve"),n=Symbol("lastReject"),l=Symbol("error"),d=Symbol("ended"),o=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function p(D,V){return{value:D,done:V}}function E(D){var V=D[r];if(V!==null){var ie=D[y].read();ie!==null&&(D[o]=null,D[r]=null,D[n]=null,V(p(ie,!1)))}}function T(D){f.nextTick(E,D)}function S(D,V){return function(ie,ee){D.then(function(){if(V[d]){ie(p(void 0,!0));return}V[g](ie,ee)},ee)}}var x=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((u={get stream(){return this[y]},next:function(){var V=this,ie=this[l];if(ie!==null)return Promise.reject(ie);if(this[d])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise(function(W,j){f.nextTick(function(){V[l]?j(V[l]):W(p(void 0,!0))})});var ee=this[o],te;if(ee)te=new Promise(S(ee,this));else{var Y=this[y].read();if(Y!==null)return Promise.resolve(p(Y,!1));te=new Promise(this[g])}return this[o]=te,te}},c(u,Symbol.asyncIterator,function(){return this}),c(u,"return",function(){var V=this;return new Promise(function(ie,ee){V[y].destroy(null,function(te){if(te){ee(te);return}ie(p(void 0,!0))})})}),u),x),I=function(V){var ie,ee=Object.create(w,(ie={},c(ie,y,{value:V,writable:!0}),c(ie,r,{value:null,writable:!0}),c(ie,n,{value:null,writable:!0}),c(ie,l,{value:null,writable:!0}),c(ie,d,{value:V._readableState.endEmitted,writable:!0}),c(ie,g,{value:function(Y,W){var j=ee[y].read();j?(ee[o]=null,ee[r]=null,ee[n]=null,Y(p(j,!1))):(ee[r]=Y,ee[n]=W)},writable:!0}),ie));return ee[o]=null,i(V,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=ee[n];Y!==null&&(ee[o]=null,ee[r]=null,ee[n]=null,Y(te)),ee[l]=te;return}var W=ee[r];W!==null&&(ee[o]=null,ee[r]=null,ee[n]=null,W(p(void 0,!0))),ee[d]=!0}),V.on("readable",T.bind(null,ee)),ee};m.exports=I}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,m,v){function f(E,T){var S=Object.keys(E);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(E);T&&(x=x.filter(function(w){return Object.getOwnPropertyDescriptor(E,w).enumerable})),S.push.apply(S,x)}return S}function u(E){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?f(Object(S),!0).forEach(function(x){c(E,x,S[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):f(Object(S)).forEach(function(x){Object.defineProperty(E,x,Object.getOwnPropertyDescriptor(S,x))})}return E}function c(E,T,S){return T=r(T),T in E?Object.defineProperty(E,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[T]=S,E}function s(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function t(E,T){for(var S=0;S<T.length;S++){var x=T[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,r(x.key),x)}}function i(E,T,S){return T&&t(E.prototype,T),S&&t(E,S),Object.defineProperty(E,"prototype",{writable:!1}),E}function r(E){var T=n(E,"string");return typeof T=="symbol"?T:String(T)}function n(E,T){if(typeof E!="object"||E===null)return E;var S=E[Symbol.toPrimitive];if(S!==void 0){var x=S.call(E,T||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(E)}var l=e("buffer"),d=l.Buffer,o=e("util"),g=o.inspect,y=g&&g.custom||"inspect";function p(E,T,S){d.prototype.copy.call(E,T,S)}m.exports=function(){function E(){s(this,E),this.head=null,this.tail=null,this.length=0}return i(E,[{key:"push",value:function(S){var x={data:S,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(S){var x={data:S,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var x=this.head,w=""+x.data;x=x.next;)w+=S+x.data;return w}},{key:"concat",value:function(S){if(this.length===0)return d.alloc(0);for(var x=d.allocUnsafe(S>>>0),w=this.head,I=0;w;)p(w.data,x,I),I+=w.data.length,w=w.next;return x}},{key:"consume",value:function(S,x){var w;return S<this.head.data.length?(w=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?w=this.shift():w=x?this._getString(S):this._getBuffer(S),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var x=this.head,w=1,I=x.data;for(S-=I.length;x=x.next;){var D=x.data,V=S>D.length?D.length:S;if(V===D.length?I+=D:I+=D.slice(0,S),S-=V,S===0){V===D.length?(++w,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=D.slice(V));break}++w}return this.length-=w,I}},{key:"_getBuffer",value:function(S){var x=d.allocUnsafe(S),w=this.head,I=1;for(w.data.copy(x),S-=w.data.length;w=w.next;){var D=w.data,V=S>D.length?D.length:S;if(D.copy(x,x.length-S,0,V),S-=V,S===0){V===D.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=D.slice(V));break}++I}return this.length-=I,x}},{key:y,value:function(S,x){return g(this,u(u({},x),{},{depth:0,customInspect:!1}))}}]),E}()},{buffer:220,util:188}],485:[function(e,m,v){(function(f){(function(){function u(n,l){var d=this,o=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return o||g?(l?l(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(i,this,n)):f.nextTick(i,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(y){!l&&y?d._writableState?d._writableState.errorEmitted?f.nextTick(s,d):(d._writableState.errorEmitted=!0,f.nextTick(c,d,y)):f.nextTick(c,d,y):l?(f.nextTick(s,d),l(y)):f.nextTick(s,d)}),this)}function c(n,l){i(n,l),s(n)}function s(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(n,l){n.emit("error",l)}function r(n,l){var d=n._readableState,o=n._writableState;d&&d.autoDestroy||o&&o.autoDestroy?n.destroy(l):n.emit("error",l)}m.exports={destroy:u,undestroy:t,errorOrDestroy:r}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,m,v){var f=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function u(i){var r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];i.apply(this,l)}}}function c(){}function s(i){return i.setHeader&&typeof i.abort=="function"}function t(i,r,n){if(typeof r=="function")return t(i,null,r);r||(r={}),n=u(n||c);var l=r.readable||r.readable!==!1&&i.readable,d=r.writable||r.writable!==!1&&i.writable,o=function(){i.writable||y()},g=i._writableState&&i._writableState.finished,y=function(){d=!1,g=!0,l||n.call(i)},p=i._readableState&&i._readableState.endEmitted,E=function(){l=!1,p=!0,d||n.call(i)},T=function(I){n.call(i,I)},S=function(){var I;if(l&&!p)return(!i._readableState||!i._readableState.ended)&&(I=new f),n.call(i,I);if(d&&!g)return(!i._writableState||!i._writableState.ended)&&(I=new f),n.call(i,I)},x=function(){i.req.on("finish",y)};return s(i)?(i.on("complete",y),i.on("abort",S),i.req?x():i.on("request",x)):d&&!i._writableState&&(i.on("end",o),i.on("close",o)),i.on("end",E),i.on("finish",y),r.error!==!1&&i.on("error",T),i.on("close",S),function(){i.removeListener("complete",y),i.removeListener("abort",S),i.removeListener("request",x),i.req&&i.req.removeListener("finish",y),i.removeListener("end",o),i.removeListener("close",o),i.removeListener("finish",y),i.removeListener("end",E),i.removeListener("error",T),i.removeListener("close",S)}}m.exports=t},{"../../../errors":477}],487:[function(e,m,v){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,m,v){var f;function u(y){var p=!1;return function(){p||(p=!0,y.apply(void 0,arguments))}}var c=e("../../../errors").codes,s=c.ERR_MISSING_ARGS,t=c.ERR_STREAM_DESTROYED;function i(y){if(y)throw y}function r(y){return y.setHeader&&typeof y.abort=="function"}function n(y,p,E,T){T=u(T);var S=!1;y.on("close",function(){S=!0}),f===void 0&&(f=e("./end-of-stream")),f(y,{readable:p,writable:E},function(w){if(w)return T(w);S=!0,T()});var x=!1;return function(w){if(!S&&!x){if(x=!0,r(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();T(w||new t("pipe"))}}}function l(y){y()}function d(y,p){return y.pipe(p)}function o(y){return!y.length||typeof y[y.length-1]!="function"?i:y.pop()}function g(){for(var y=arguments.length,p=new Array(y),E=0;E<y;E++)p[E]=arguments[E];var T=o(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new s("streams");var S,x=p.map(function(w,I){var D=I<p.length-1,V=I>0;return n(w,D,V,function(ie){S||(S=ie),ie&&x.forEach(l),!D&&(x.forEach(l),T(S))})});return p.reduce(d)}m.exports=g},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,m,v){var f=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function u(s,t,i){return s.highWaterMark!=null?s.highWaterMark:t?s[i]:null}function c(s,t,i,r){var n=u(t,r,i);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var l=r?i:"highWaterMark";throw new f(l,n)}return Math.floor(n)}return s.objectMode?16:16*1024}m.exports={getHighWaterMark:c}},{"../../../errors":477}],490:[function(e,m,v){m.exports=e("events").EventEmitter},{events:422}],491:[function(e,m,v){v=m.exports=e("./lib/_stream_readable.js"),v.Stream=v,v.Readable=v,v.Writable=e("./lib/_stream_writable.js"),v.Duplex=e("./lib/_stream_duplex.js"),v.Transform=e("./lib/_stream_transform.js"),v.PassThrough=e("./lib/_stream_passthrough.js"),v.finished=e("./lib/internal/streams/end-of-stream.js"),v.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,m,v){var f=function(u){var c=Object.prototype,s=c.hasOwnProperty,t=Object.defineProperty||function(z,F,L){z[F]=L.value},i,r=typeof Symbol=="function"?Symbol:{},n=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",d=r.toStringTag||"@@toStringTag";function o(z,F,L){return Object.defineProperty(z,F,{value:L,enumerable:!0,configurable:!0,writable:!0}),z[F]}try{o({},"")}catch{o=function(F,L,G){return F[L]=G}}function g(z,F,L,G){var le=F&&F.prototype instanceof w?F:w,ge=Object.create(le.prototype),Ie=new H(G||[]);return t(ge,"_invoke",{value:j(z,L,Ie)}),ge}u.wrap=g;function y(z,F,L){try{return{type:"normal",arg:z.call(F,L)}}catch(G){return{type:"throw",arg:G}}}var p="suspendedStart",E="suspendedYield",T="executing",S="completed",x={};function w(){}function I(){}function D(){}var V={};o(V,n,function(){return this});var ie=Object.getPrototypeOf,ee=ie&&ie(ie($([])));ee&&ee!==c&&s.call(ee,n)&&(V=ee);var te=D.prototype=w.prototype=Object.create(V);I.prototype=D,t(te,"constructor",{value:D,configurable:!0}),t(D,"constructor",{value:I,configurable:!0}),I.displayName=o(D,d,"GeneratorFunction");function Y(z){["next","throw","return"].forEach(function(F){o(z,F,function(L){return this._invoke(F,L)})})}u.isGeneratorFunction=function(z){var F=typeof z=="function"&&z.constructor;return F?F===I||(F.displayName||F.name)==="GeneratorFunction":!1},u.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,D):(z.__proto__=D,o(z,d,"GeneratorFunction")),z.prototype=Object.create(te),z},u.awrap=function(z){return{__await:z}};function W(z,F){function L(ge,Ie,Oe,Ke){var De=y(z[ge],z,Ie);if(De.type==="throw")Ke(De.arg);else{var Te=De.arg,Z=Te.value;return Z&&typeof Z=="object"&&s.call(Z,"__await")?F.resolve(Z.__await).then(function(ue){L("next",ue,Oe,Ke)},function(ue){L("throw",ue,Oe,Ke)}):F.resolve(Z).then(function(ue){Te.value=ue,Oe(Te)},function(ue){return L("throw",ue,Oe,Ke)})}}var G;function le(ge,Ie){function Oe(){return new F(function(Ke,De){L(ge,Ie,Ke,De)})}return G=G?G.then(Oe,Oe):Oe()}t(this,"_invoke",{value:le})}Y(W.prototype),o(W.prototype,l,function(){return this}),u.AsyncIterator=W,u.async=function(z,F,L,G,le){le===void 0&&(le=Promise);var ge=new W(g(z,F,L,G),le);return u.isGeneratorFunction(F)?ge:ge.next().then(function(Ie){return Ie.done?Ie.value:ge.next()})};function j(z,F,L){var G=p;return function(ge,Ie){if(G===T)throw new Error("Generator is already running");if(G===S){if(ge==="throw")throw Ie;return K()}for(L.method=ge,L.arg=Ie;;){var Oe=L.delegate;if(Oe){var Ke=O(Oe,L);if(Ke){if(Ke===x)continue;return Ke}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(G===p)throw G=S,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);G=T;var De=y(z,F,L);if(De.type==="normal"){if(G=L.done?S:E,De.arg===x)continue;return{value:De.arg,done:L.done}}else De.type==="throw"&&(G=S,L.method="throw",L.arg=De.arg)}}}function O(z,F){var L=F.method,G=z.iterator[L];if(G===i)return F.delegate=null,L==="throw"&&z.iterator.return&&(F.method="return",F.arg=i,O(z,F),F.method==="throw")||L!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+L+"' method")),x;var le=y(G,z.iterator,F.arg);if(le.type==="throw")return F.method="throw",F.arg=le.arg,F.delegate=null,x;var ge=le.arg;if(!ge)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,x;if(ge.done)F[z.resultName]=ge.value,F.next=z.nextLoc,F.method!=="return"&&(F.method="next",F.arg=i);else return ge;return F.delegate=null,x}Y(te),o(te,d,"Generator"),o(te,n,function(){return this}),o(te,"toString",function(){return"[object Generator]"});function k(z){var F={tryLoc:z[0]};1 in z&&(F.catchLoc=z[1]),2 in z&&(F.finallyLoc=z[2],F.afterLoc=z[3]),this.tryEntries.push(F)}function B(z){var F=z.completion||{};F.type="normal",delete F.arg,z.completion=F}function H(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(k,this),this.reset(!0)}u.keys=function(z){var F=Object(z),L=[];for(var G in F)L.push(G);return L.reverse(),function le(){for(;L.length;){var ge=L.pop();if(ge in F)return le.value=ge,le.done=!1,le}return le.done=!0,le}};function $(z){if(z){var F=z[n];if(F)return F.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var L=-1,G=function le(){for(;++L<z.length;)if(s.call(z,L))return le.value=z[L],le.done=!1,le;return le.value=i,le.done=!0,le};return G.next=G}}return{next:K}}u.values=$;function K(){return{value:i,done:!0}}return H.prototype={constructor:H,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(B),!z)for(var F in this)F.charAt(0)==="t"&&s.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=i)},stop:function(){this.done=!0;var z=this.tryEntries[0],F=z.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var F=this;function L(Ke,De){return ge.type="throw",ge.arg=z,F.next=Ke,De&&(F.method="next",F.arg=i),!!De}for(var G=this.tryEntries.length-1;G>=0;--G){var le=this.tryEntries[G],ge=le.completion;if(le.tryLoc==="root")return L("end");if(le.tryLoc<=this.prev){var Ie=s.call(le,"catchLoc"),Oe=s.call(le,"finallyLoc");if(Ie&&Oe){if(this.prev<le.catchLoc)return L(le.catchLoc,!0);if(this.prev<le.finallyLoc)return L(le.finallyLoc)}else if(Ie){if(this.prev<le.catchLoc)return L(le.catchLoc,!0)}else if(Oe){if(this.prev<le.finallyLoc)return L(le.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(z,F){for(var L=this.tryEntries.length-1;L>=0;--L){var G=this.tryEntries[L];if(G.tryLoc<=this.prev&&s.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var le=G;break}}le&&(z==="break"||z==="continue")&&le.tryLoc<=F&&F<=le.finallyLoc&&(le=null);var ge=le?le.completion:{};return ge.type=z,ge.arg=F,le?(this.method="next",this.next=le.finallyLoc,x):this.complete(ge)},complete:function(z,F){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&F&&(this.next=F),x},finish:function(z){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L.finallyLoc===z)return this.complete(L.completion,L.afterLoc),B(L),x}},catch:function(z){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L.tryLoc===z){var G=L.completion;if(G.type==="throw"){var le=G.arg;B(L)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(z,F,L){return this.delegate={iterator:$(z),resultName:F,nextLoc:L},this.method==="next"&&(this.arg=i),x}},u}(typeof m=="object"?m.exports:{});try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}},{}],493:[function(e,m,v){var f=e("buffer").Buffer,u=e("inherits"),c=e("hash-base"),s=new Array(16),t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],r=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function o(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}u(o,c),o.prototype._update=function(){for(var x=s,w=0;w<16;++w)x[w]=this._block.readInt32LE(w*4);for(var I=this._a|0,D=this._b|0,V=this._c|0,ie=this._d|0,ee=this._e|0,te=this._a|0,Y=this._b|0,W=this._c|0,j=this._d|0,O=this._e|0,k=0;k<80;k+=1){var B,H;k<16?(B=y(I,D,V,ie,ee,x[t[k]],l[0],r[k]),H=S(te,Y,W,j,O,x[i[k]],d[0],n[k])):k<32?(B=p(I,D,V,ie,ee,x[t[k]],l[1],r[k]),H=T(te,Y,W,j,O,x[i[k]],d[1],n[k])):k<48?(B=E(I,D,V,ie,ee,x[t[k]],l[2],r[k]),H=E(te,Y,W,j,O,x[i[k]],d[2],n[k])):k<64?(B=T(I,D,V,ie,ee,x[t[k]],l[3],r[k]),H=p(te,Y,W,j,O,x[i[k]],d[3],n[k])):(B=S(I,D,V,ie,ee,x[t[k]],l[4],r[k]),H=y(te,Y,W,j,O,x[i[k]],d[4],n[k])),I=ee,ee=ie,ie=g(V,10),V=D,D=B,te=O,O=j,j=g(W,10),W=Y,Y=H}var $=this._b+V+j|0;this._b=this._c+ie+O|0,this._c=this._d+ee+te|0,this._d=this._e+I+Y|0,this._e=this._a+D+W|0,this._a=$},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=f.alloc?f.alloc(20):new f(20);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x.writeInt32LE(this._e,16),x};function g(x,w){return x<<w|x>>>32-w}function y(x,w,I,D,V,ie,ee,te){return g(x+(w^I^D)+ie+ee|0,te)+V|0}function p(x,w,I,D,V,ie,ee,te){return g(x+(w&I|~w&D)+ie+ee|0,te)+V|0}function E(x,w,I,D,V,ie,ee,te){return g(x+((w|~I)^D)+ie+ee|0,te)+V|0}function T(x,w,I,D,V,ie,ee,te){return g(x+(w&D|I&~D)+ie+ee|0,te)+V|0}function S(x,w,I,D,V,ie,ee,te){return g(x+(w^(I|~D))+ie+ee|0,te)+V|0}m.exports=o},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,m,v){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var f=e("buffer"),u=f.Buffer;function c(t,i){for(var r in t)i[r]=t[r]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?m.exports=f:(c(f,v),v.Buffer=s);function s(t,i,r){return u(t,i,r)}s.prototype=Object.create(u.prototype),c(u,s),s.from=function(t,i,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return u(t,i,r)},s.alloc=function(t,i,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=u(t);return i!==void 0?typeof r=="string"?n.fill(i,r):n.fill(i):n.fill(0),n},s.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u(t)},s.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(t)}},{buffer:220}],495:[function(e,m,v){(function(f){(function(){var u=e("buffer"),c=u.Buffer,s={},t;for(t in u)u.hasOwnProperty(t)&&(t==="SlowBuffer"||t==="Buffer"||(s[t]=u[t]));var i=s.Buffer={};for(t in c)c.hasOwnProperty(t)&&(t==="allocUnsafe"||t==="allocUnsafeSlow"||(i[t]=c[t]));if(s.Buffer.prototype=c.prototype,(!i.from||i.from===Uint8Array.from)&&(i.from=function(r,n,l){if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof r);if(r&&typeof r.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);return c(r,n,l)}),i.alloc||(i.alloc=function(r,n,l){if(typeof r!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof r);if(r<0||r>=2*(1<<30))throw new RangeError('The value "'+r+'" is invalid for option "size"');var d=c(r);return!n||n.length===0?d.fill(0):typeof l=="string"?d.fill(n,l):d.fill(n),d}),!s.kStringMaxLength)try{s.kStringMaxLength=f.binding("buffer").kStringMaxLength}catch{}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),m.exports=s}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0});const f=e("xmlchars/xml/1.0/ed5"),u=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var s=f.isS,t=f.isChar,i=f.isNameStartChar,r=f.isNameChar,n=f.S_LIST,l=f.NAME_RE,d=u.isChar,o=c.isNCNameStartChar,g=c.isNCNameChar,y=c.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",T={__proto__:null,xml:p,xmlns:E},S={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},x=-1,w=-2,I=0,D=1,V=2,ie=3,ee=4,te=5,Y=6,W=7,j=8,O=9,k=10,B=11,H=12,$=13,K=14,z=15,F=16,L=17,G=18,le=19,ge=20,Ie=21,Oe=22,Ke=23,De=24,Te=25,Z=26,ue=27,Ee=28,_e=29,he=30,de=31,ce=32,se=33,ne=34,we=35,Ne=36,ae=37,Pe=38,ze=39,ve=40,Ae=41,Fe=42,We=43,Je=44,Ge=9,et=10,ut=13,at=32,Be=33,Qe=34,rt=38,mt=39,Ut=45,jt=47,Ct=59,Nt=60,St=61,Mt=62,Dt=63,It=91,$t=93,Sr=133,pr=8232,Xt=ir=>ir===Qe||ir===mt,hr=[Qe,mt],Ir=[...hr,It,Mt],rr=[...hr,Nt,$t],Wr=[St,Dt,...n],Or=[...n,Mt,rt,Nt];function qt(ir,Ue,it){switch(Ue){case"xml":it!==p&&ir.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":it!==E&&ir.fail(`xmlns prefix must be bound to ${E}.`);break}switch(it){case E:ir.fail(Ue===""?`the default namespace may not be set to ${it}.`:`may not assign a prefix (even "xmlns") to the URI ${E}.`);break;case p:switch(Ue){case"xml":break;case"":ir.fail(`the default namespace may not be set to ${it}.`);break;default:ir.fail("may not assign the xml namespace to another prefix.")}break}}function Mr(ir,Ue){for(const it of Object.keys(Ue))qt(ir,it,Ue[it])}const fr=ir=>y.test(ir),tr=ir=>l.test(ir),xr=0,ur=1,er=2;v.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const zr={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class ar{constructor(Ue){this.opt=Ue??{},this.fragmentOpt=!!this.opt.fragment;const it=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,it){this.nameStartCheck=o,this.nameCheck=g,this.isName=fr,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},T);const ot=this.opt.additionalNamespaces;ot!=null&&(Mr(this,ot),Object.assign(this.ns,ot))}else this.nameStartCheck=i,this.nameCheck=r,this.isName=tr,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var Ue;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=xr,this.attribList=[];const{fragmentOpt:it}=this;this.state=it?$:I,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=it,this.xmlDeclPossible=!it,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:ot}=this.opt;if(ot===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");ot="1.0"}this.setXMLVersion(ot),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(S),(Ue=this.readyHandler)===null||Ue===void 0||Ue.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(Ue,it){this[zr[Ue]]=it}off(Ue){this[zr[Ue]]=void 0}makeError(Ue){var it;let ot=(it=this.fileName)!==null&&it!==void 0?it:"";return this.trackPosition&&(ot.length>0&&(ot+=":"),ot+=`${this.line}:${this.column}`),ot.length>0&&(ot+=": "),new Error(ot+Ue)}fail(Ue){const it=this.makeError(Ue),ot=this.errorHandler;if(ot===void 0)throw it;return ot(it),this}write(Ue){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let it=!1;Ue===null?(it=!0,Ue=""):typeof Ue=="object"&&(Ue=Ue.toString()),this.carriedFromPrevious!==void 0&&(Ue=`${this.carriedFromPrevious}${Ue}`,this.carriedFromPrevious=void 0);let ot=Ue.length;const Rt=Ue.charCodeAt(ot-1);!it&&(Rt===ut||Rt>=55296&&Rt<=56319)&&(this.carriedFromPrevious=Ue[ot-1],ot--,Ue=Ue.slice(0,ot));const{stateTable:zt}=this;for(this.chunk=Ue,this.i=0;this.i<ot;)zt[this.state].call(this);return this.chunkPosition+=ot,it?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:Ue,i:it}=this;if(this.prevI=it,this.i=it+1,it>=Ue.length)return x;const ot=Ue.charCodeAt(it);if(this.column++,ot<55296){if(ot>=at||ot===Ge)return ot;switch(ot){case et:return this.line++,this.column=0,this.positionAtNewLine=this.position,et;case ut:return Ue.charCodeAt(it+1)===et&&(this.i=it+2),this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),ot}}if(ot>56319)return ot>=57344&&ot<=65533||this.fail("disallowed character."),ot;const Rt=65536+(ot-55296)*1024+(Ue.charCodeAt(it+1)-56320);return this.i=it+2,Rt>1114111&&this.fail("disallowed character."),Rt}getCode11(){const{chunk:Ue,i:it}=this;if(this.prevI=it,this.i=it+1,it>=Ue.length)return x;const ot=Ue.charCodeAt(it);if(this.column++,ot<55296){if(ot>31&&ot<127||ot>159&&ot!==pr||ot===Ge)return ot;switch(ot){case et:return this.line++,this.column=0,this.positionAtNewLine=this.position,et;case ut:{const zt=Ue.charCodeAt(it+1);(zt===et||zt===Sr)&&(this.i=it+2)}case Sr:case pr:return this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),ot}}if(ot>56319)return ot>=57344&&ot<=65533||this.fail("disallowed character."),ot;const Rt=65536+(ot-55296)*1024+(Ue.charCodeAt(it+1)-56320);return this.i=it+2,Rt>1114111&&this.fail("disallowed character."),Rt}getCodeNorm(){const Ue=this.getCode();return Ue===w?et:Ue}unget(){this.i=this.prevI,this.column--}captureTo(Ue){let{i:it}=this;const{chunk:ot}=this;for(;;){const Rt=this.getCode(),zt=Rt===w,mr=zt?et:Rt;if(mr===x||Ue.includes(mr))return this.text+=ot.slice(it,this.prevI),mr;zt&&(this.text+=`${ot.slice(it,this.prevI)}
`,it=this.i)}}captureToChar(Ue){let{i:it}=this;const{chunk:ot}=this;for(;;){let Rt=this.getCode();switch(Rt){case w:this.text+=`${ot.slice(it,this.prevI)}
`,it=this.i,Rt=et;break;case x:return this.text+=ot.slice(it),!1}if(Rt===Ue)return this.text+=ot.slice(it,this.prevI),!0}}captureNameChars(){const{chunk:Ue,i:it}=this;for(;;){const ot=this.getCode();if(ot===x)return this.name+=Ue.slice(it),x;if(!r(ot))return this.name+=Ue.slice(it,this.prevI),ot===w?et:ot}}skipSpaces(){for(;;){const Ue=this.getCodeNorm();if(Ue===x||!s(Ue))return Ue}}setXMLVersion(Ue){this.currentXMLVersion=Ue,Ue==="1.0"?(this.isChar=t,this.getCode=this.getCode10):(this.isChar=d,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=D}sBeginWhitespace(){const Ue=this.i,it=this.skipSpaces();switch(this.prevI!==Ue&&(this.xmlDeclPossible=!1),it){case Nt:if(this.state=z,this.text.length!==0)throw new Error("no-empty text at start");break;case x:break;default:this.unget(),this.state=$,this.xmlDeclPossible=!1}}sDoctype(){var Ue;const it=this.captureTo(Ir);switch(it){case Mt:{(Ue=this.doctypeHandler)===null||Ue===void 0||Ue.call(this,this.text),this.text="",this.state=$,this.doctype=!0;break}case x:break;default:this.text+=String.fromCodePoint(it),it===It?this.state=ee:Xt(it)&&(this.state=ie,this.q=it)}}sDoctypeQuote(){const Ue=this.q;this.captureToChar(Ue)&&(this.text+=String.fromCodePoint(Ue),this.q=null,this.state=V)}sDTD(){const Ue=this.captureTo(rr);Ue!==x&&(this.text+=String.fromCodePoint(Ue),Ue===$t?this.state=V:Ue===Nt?this.state=Y:Xt(Ue)&&(this.state=te,this.q=Ue))}sDTDQuoted(){const Ue=this.q;this.captureToChar(Ue)&&(this.text+=String.fromCodePoint(Ue),this.state=ee,this.q=null)}sDTDOpenWaka(){const Ue=this.getCodeNorm();switch(this.text+=String.fromCodePoint(Ue),Ue){case Be:this.state=W,this.openWakaBang="";break;case Dt:this.state=B;break;default:this.state=ee}}sDTDOpenWakaBang(){const Ue=String.fromCodePoint(this.getCodeNorm()),it=this.openWakaBang+=Ue;this.text+=Ue,it!=="-"&&(this.state=it==="--"?j:ee,this.openWakaBang="")}sDTDComment(){this.captureToChar(Ut)&&(this.text+="-",this.state=O)}sDTDCommentEnding(){const Ue=this.getCodeNorm();this.text+=String.fromCodePoint(Ue),this.state=Ue===Ut?k:j}sDTDCommentEnded(){const Ue=this.getCodeNorm();this.text+=String.fromCodePoint(Ue),Ue===Mt?this.state=ee:(this.fail("malformed comment."),this.state=j)}sDTDPI(){this.captureToChar(Dt)&&(this.text+="?",this.state=H)}sDTDPIEnding(){const Ue=this.getCodeNorm();this.text+=String.fromCodePoint(Ue),Ue===Mt&&(this.state=ee)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:Ue}=this;const{chunk:it}=this;e:for(;;)switch(this.getCode()){case w:this.entity+=`${it.slice(Ue,this.prevI)}
`,Ue=this.i;break;case Ct:{const{entityReturnState:ot}=this,Rt=this.entity+it.slice(Ue,this.prevI);this.state=ot;let zt;Rt===""?(this.fail("empty entity name."),zt="&;"):(zt=this.parseEntity(Rt),this.entity=""),(ot!==$||this.textHandler!==void 0)&&(this.text+=zt);break e}case x:this.entity+=it.slice(Ue);break e}}sOpenWaka(){const Ue=this.getCode();if(i(Ue))this.state=ne,this.unget(),this.xmlDeclPossible=!1;else switch(Ue){case jt:this.state=We,this.xmlDeclPossible=!1;break;case Be:this.state=F,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Dt:this.state=Ke;break;default:this.fail("disallowed character in tag name"),this.state=$,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=ge,this.openWakaBang="";break;case"--":this.state=L,this.openWakaBang="";break;case"DOCTYPE":this.state=V,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Ut)&&(this.state=G)}sCommentEnding(){var Ue;const it=this.getCodeNorm();it===Ut?(this.state=le,(Ue=this.commentHandler)===null||Ue===void 0||Ue.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(it)}`,this.state=L)}sCommentEnded(){const Ue=this.getCodeNorm();Ue!==Mt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(Ue)}`,this.state=L):this.state=$}sCData(){this.captureToChar($t)&&(this.state=Ie)}sCDataEnding(){const Ue=this.getCodeNorm();Ue===$t?this.state=Oe:(this.text+=`]${String.fromCodePoint(Ue)}`,this.state=ge)}sCDataEnding2(){var Ue;const it=this.getCodeNorm();switch(it){case Mt:{(Ue=this.cdataHandler)===null||Ue===void 0||Ue.call(this,this.text),this.text="",this.state=$;break}case $t:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(it)}`,this.state=ge}}sPIFirstChar(){const Ue=this.getCodeNorm();this.nameStartCheck(Ue)?(this.piTarget+=String.fromCodePoint(Ue),this.state=De):Ue===Dt||s(Ue)?(this.fail("processing instruction without a target."),this.state=Ue===Dt?Z:Te):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ue),this.state=De)}sPIRest(){const{chunk:Ue,i:it}=this;for(;;){const ot=this.getCodeNorm();if(ot===x){this.piTarget+=Ue.slice(it);return}if(!this.nameCheck(ot)){this.piTarget+=Ue.slice(it,this.prevI);const Rt=ot===Dt;Rt||s(ot)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=Rt?se:ue):this.state=Rt?Z:Te:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(ot));break}}}sPIBody(){if(this.text.length===0){const Ue=this.getCodeNorm();Ue===Dt?this.state=Z:s(Ue)||(this.text=String.fromCodePoint(Ue))}else this.captureToChar(Dt)&&(this.state=Z)}sPIEnding(){var Ue;const it=this.getCodeNorm();if(it===Mt){const{piTarget:ot}=this;ot.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(Ue=this.piHandler)===null||Ue===void 0||Ue.call(this,{target:ot,body:this.text}),this.piTarget=this.text="",this.state=$}else it===Dt?this.text+="?":(this.text+=`?${String.fromCodePoint(it)}`,this.state=Te);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const Ue=this.skipSpaces();if(Ue===Dt){this.state=se;return}Ue!==x&&(this.state=Ee,this.name=String.fromCodePoint(Ue))}sXMLDeclName(){const Ue=this.captureTo(Wr);if(Ue===Dt){this.state=se,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(s(Ue)||Ue===St){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=Ue===St?he:_e}}sXMLDeclEq(){const Ue=this.getCodeNorm();if(Ue===Dt){this.state=se,this.fail("XML declaration is incomplete.");return}s(Ue)||(Ue!==St&&this.fail("value required."),this.state=he)}sXMLDeclValueStart(){const Ue=this.getCodeNorm();if(Ue===Dt){this.state=se,this.fail("XML declaration is incomplete.");return}s(Ue)||(Xt(Ue)?this.q=Ue:(this.fail("value must be quoted."),this.q=at),this.state=de)}sXMLDeclValue(){const Ue=this.captureTo([this.q,Dt]);if(Ue===Dt){this.state=se,this.text="",this.fail("XML declaration is incomplete.");return}if(Ue===x)return;const it=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const ot=it;this.xmlDecl.version=ot,/^1\.[0-9]+$/.test(ot)?this.opt.forceXMLVersion||this.setXMLVersion(ot):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(it)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=it;break;case"standalone":it!=="yes"&&it!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=it;break}this.name="",this.state=ce}sXMLDeclSeparator(){const Ue=this.getCodeNorm();if(Ue===Dt){this.state=se;return}s(Ue)||(this.fail("whitespace required."),this.unget()),this.state=ue}sXMLDeclEnding(){var Ue;this.getCodeNorm()===Mt?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(Ue=this.xmldeclHandler)===null||Ue===void 0||Ue.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=$):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var Ue;const it=this.captureNameChars();if(it===x)return;const ot=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=ot.ns=Object.create(null)),(Ue=this.openTagStartHandler)===null||Ue===void 0||Ue.call(this,ot),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),it){case Mt:this.openTag();break;case jt:this.state=we;break;default:s(it)||this.fail("disallowed character in tag name."),this.state=Ne}}sOpenTagSlash(){this.getCode()===Mt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Ne)}sAttrib(){const Ue=this.skipSpaces();Ue!==x&&(i(Ue)?(this.unget(),this.state=ae):Ue===Mt?this.openTag():Ue===jt?this.state=we:this.fail("disallowed character in attribute name."))}sAttribName(){const Ue=this.captureNameChars();Ue===St?this.state=ze:s(Ue)?this.state=Pe:Ue===Mt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):Ue!==x&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const Ue=this.skipSpaces();switch(Ue){case x:return;case St:this.state=ze;break;default:this.fail("attribute without value."),this.text="",this.name="",Ue===Mt?this.openTag():i(Ue)?(this.unget(),this.state=ae):(this.fail("disallowed character in attribute name."),this.state=Ne)}}sAttribValue(){const Ue=this.getCodeNorm();Xt(Ue)?(this.q=Ue,this.state=ve):s(Ue)||(this.fail("unquoted attribute value."),this.state=Fe,this.unget())}sAttribValueQuoted(){const{q:Ue,chunk:it}=this;let{i:ot}=this;for(;;)switch(this.getCode()){case Ue:this.pushAttrib(this.name,this.text+it.slice(ot,this.prevI)),this.name=this.text="",this.q=null,this.state=Ae;return;case rt:this.text+=it.slice(ot,this.prevI),this.state=K,this.entityReturnState=ve;return;case et:case w:case Ge:this.text+=`${it.slice(ot,this.prevI)} `,ot=this.i;break;case Nt:this.text+=it.slice(ot,this.prevI),this.fail("disallowed character.");return;case x:this.text+=it.slice(ot);return}}sAttribValueClosed(){const Ue=this.getCodeNorm();s(Ue)?this.state=Ne:Ue===Mt?this.openTag():Ue===jt?this.state=we:i(Ue)?(this.fail("no whitespace between attributes."),this.unget(),this.state=ae):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const Ue=this.captureTo(Or);switch(Ue){case rt:this.state=K,this.entityReturnState=Fe;break;case Nt:this.fail("disallowed character.");break;case x:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",Ue===Mt?this.openTag():this.state=Ne}}sCloseTag(){const Ue=this.captureNameChars();Ue===Mt?this.closeTag():s(Ue)?this.state=Je:Ue!==x&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Mt:this.closeTag();break;case x:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:Ue,forbiddenState:it}=this;const{chunk:ot,textHandler:Rt}=this;e:for(;;)switch(this.getCode()){case Nt:{if(this.state=z,Rt!==void 0){const{text:zt}=this,mr=ot.slice(Ue,this.prevI);zt.length!==0?(Rt(zt+mr),this.text=""):mr.length!==0&&Rt(mr)}it=xr;break e}case rt:this.state=K,this.entityReturnState=$,Rt!==void 0&&(this.text+=ot.slice(Ue,this.prevI)),it=xr;break e;case $t:switch(it){case xr:it=ur;break;case ur:it=er;break;case er:break;default:throw new Error("impossible state")}break;case Mt:it===er&&this.fail('the string "]]>" is disallowed in char data.'),it=xr;break;case w:Rt!==void 0&&(this.text+=`${ot.slice(Ue,this.prevI)}
`),Ue=this.i,it=xr;break;case x:Rt!==void 0&&(this.text+=ot.slice(Ue));break e;default:it=xr}this.forbiddenState=it}handleTextOutsideRoot(){let{i:Ue}=this;const{chunk:it,textHandler:ot}=this;let Rt=!1;e:for(;;){const zt=this.getCode();switch(zt){case Nt:{if(this.state=z,ot!==void 0){const{text:mr}=this,Xr=it.slice(Ue,this.prevI);mr.length!==0?(ot(mr+Xr),this.text=""):Xr.length!==0&&ot(Xr)}break e}case rt:this.state=K,this.entityReturnState=$,ot!==void 0&&(this.text+=it.slice(Ue,this.prevI)),Rt=!0;break e;case w:ot!==void 0&&(this.text+=`${it.slice(Ue,this.prevI)}
`),Ue=this.i;break;case x:ot!==void 0&&(this.text+=it.slice(Ue));break e;default:s(zt)||(Rt=!0)}}Rt&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(Ue,it){var ot;const{prefix:Rt,local:zt}=this.qname(Ue),mr={name:Ue,prefix:Rt,local:zt,value:it};if(this.attribList.push(mr),(ot=this.attributeHandler)===null||ot===void 0||ot.call(this,mr),Rt==="xmlns"){const Xr=it.trim();this.currentXMLVersion==="1.0"&&Xr===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[zt]=Xr,qt(this,zt,Xr)}else if(Ue==="xmlns"){const Xr=it.trim();this.topNS[""]=Xr,qt(this,"",Xr)}}pushAttribPlain(Ue,it){var ot;const Rt={name:Ue,value:it};this.attribList.push(Rt),(ot=this.attributeHandler)===null||ot===void 0||ot.call(this,Rt)}end(){var Ue,it;this.sawRoot||this.fail("document must contain a root element.");const{tags:ot}=this;for(;ot.length>0;){const zt=ot.pop();this.fail(`unclosed tag: ${zt.name}`)}this.state!==I&&this.state!==$&&this.fail("unexpected end.");const{text:Rt}=this;return Rt.length!==0&&((Ue=this.textHandler)===null||Ue===void 0||Ue.call(this,Rt),this.text=""),this._closed=!0,(it=this.endHandler)===null||it===void 0||it.call(this),this._init(),this}resolve(Ue){var it,ot;let Rt=this.topNS[Ue];if(Rt!==void 0)return Rt;const{tags:zt}=this;for(let mr=zt.length-1;mr>=0;mr--)if(Rt=zt[mr].ns[Ue],Rt!==void 0)return Rt;return Rt=this.ns[Ue],Rt!==void 0?Rt:(ot=(it=this.opt).resolvePrefix)===null||ot===void 0?void 0:ot.call(it,Ue)}qname(Ue){const it=Ue.indexOf(":");if(it===-1)return{prefix:"",local:Ue};const ot=Ue.slice(it+1),Rt=Ue.slice(0,it);return(Rt===""||ot===""||ot.includes(":"))&&this.fail(`malformed name: ${Ue}.`),{prefix:Rt,local:ot}}processAttribsNS(){var Ue;const{attribList:it}=this,ot=this.tag;{const{prefix:mr,local:Xr}=this.qname(ot.name);ot.prefix=mr,ot.local=Xr;const fi=ot.uri=(Ue=this.resolve(mr))!==null&&Ue!==void 0?Ue:"";mr!==""&&(mr==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),fi===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(mr)}.`),ot.uri=mr))}if(it.length===0)return;const{attributes:Rt}=ot,zt=new Set;for(const mr of it){const{name:Xr,prefix:fi,local:pi}=mr;let oi,ei;fi===""?(oi=Xr==="xmlns"?E:"",ei=Xr):(oi=this.resolve(fi),oi===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(fi)}.`),oi=fi),ei=`{${oi}}${pi}`),zt.has(ei)&&this.fail(`duplicate attribute: ${ei}.`),zt.add(ei),mr.uri=oi,Rt[Xr]=mr}this.attribList=[]}processAttribsPlain(){const{attribList:Ue}=this,it=this.tag.attributes;for(const{name:ot,value:Rt}of Ue)it[ot]!==void 0&&this.fail(`duplicate attribute: ${ot}.`),it[ot]=Rt;this.attribList=[]}openTag(){var Ue;this.processAttribs();const{tags:it}=this,ot=this.tag;ot.isSelfClosing=!1,(Ue=this.openTagHandler)===null||Ue===void 0||Ue.call(this,ot),it.push(ot),this.state=$,this.name=""}openSelfClosingTag(){var Ue,it,ot;this.processAttribs();const{tags:Rt}=this,zt=this.tag;zt.isSelfClosing=!0,(Ue=this.openTagHandler)===null||Ue===void 0||Ue.call(this,zt),(it=this.closeTagHandler)===null||it===void 0||it.call(this,zt),(this.tag=(ot=Rt[Rt.length-1])!==null&&ot!==void 0?ot:null)===null&&(this.closedRoot=!0),this.state=$,this.name=""}closeTag(){const{tags:Ue,name:it}=this;if(this.state=$,this.name="",it===""){this.fail("weird empty close tag."),this.text+="</>";return}const ot=this.closeTagHandler;let Rt=Ue.length;for(;Rt-- >0;){const zt=this.tag=Ue.pop();if(this.topNS=zt.ns,ot==null||ot(zt),zt.name===it)break;this.fail("unexpected close tag.")}Rt===0?this.closedRoot=!0:Rt<0&&(this.fail(`unmatched closing tag: ${it}.`),this.text+=`</${it}>`)}parseEntity(Ue){if(Ue[0]!=="#"){const ot=this.ENTITIES[Ue];return ot!==void 0?ot:(this.fail(this.isName(Ue)?"undefined entity.":"disallowed character in entity name."),`&${Ue};`)}let it=NaN;return Ue[1]==="x"&&/^#x[0-9a-f]+$/i.test(Ue)?it=parseInt(Ue.slice(2),16):/^#[0-9]+$/.test(Ue)&&(it=parseInt(Ue.slice(1),10)),this.isChar(it)?String.fromCodePoint(it):(this.fail("malformed character entity."),`&${Ue};`)}}v.SaxesParser=ar},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,m,v){var f=e("safe-buffer").Buffer;function u(c,s){this._block=f.alloc(c),this._finalSize=s,this._blockSize=c,this._len=0}u.prototype.update=function(c,s){typeof c=="string"&&(s=s||"utf8",c=f.from(c,s));for(var t=this._block,i=this._blockSize,r=c.length,n=this._len,l=0;l<r;){for(var d=n%i,o=Math.min(r-l,i-d),g=0;g<o;g++)t[d+g]=c[l+g];n+=o,l+=o,n%i===0&&this._update(t)}return this._len+=r,this},u.prototype.digest=function(c){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var i=(t&4294967295)>>>0,r=(t-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var n=this._hash();return c?n.toString(c):n},u.prototype._update=function(){throw new Error("_update must be implemented by subclass")},m.exports=u},{"safe-buffer":494}],498:[function(e,m,v){var f=m.exports=function(c){c=c.toLowerCase();var s=f[c];if(!s)throw new Error(c+" is not supported (we accept pull requests)");return new s};f.sha=e("./sha"),f.sha1=e("./sha1"),f.sha224=e("./sha224"),f.sha256=e("./sha256"),f.sha384=e("./sha384"),f.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,m,v){var f=e("inherits"),u=e("./hash"),c=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function i(){this.init(),this._w=t,u.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function r(d){return d<<5|d>>>27}function n(d){return d<<30|d>>>2}function l(d,o,g,y){return d===0?o&g|~o&y:d===2?o&g|o&y|g&y:o^g^y}i.prototype._update=function(d){for(var o=this._w,g=this._a|0,y=this._b|0,p=this._c|0,E=this._d|0,T=this._e|0,S=0;S<16;++S)o[S]=d.readInt32BE(S*4);for(;S<80;++S)o[S]=o[S-3]^o[S-8]^o[S-14]^o[S-16];for(var x=0;x<80;++x){var w=~~(x/20),I=r(g)+l(w,y,p,E)+T+o[x]+s[w]|0;T=E,E=p,p=n(y),y=g,g=I}this._a=g+this._a|0,this._b=y+this._b|0,this._c=p+this._c|0,this._d=E+this._d|0,this._e=T+this._e|0},i.prototype._hash=function(){var d=c.allocUnsafe(20);return d.writeInt32BE(this._a|0,0),d.writeInt32BE(this._b|0,4),d.writeInt32BE(this._c|0,8),d.writeInt32BE(this._d|0,12),d.writeInt32BE(this._e|0,16),d},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,m,v){var f=e("inherits"),u=e("./hash"),c=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function i(){this.init(),this._w=t,u.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function r(o){return o<<1|o>>>31}function n(o){return o<<5|o>>>27}function l(o){return o<<30|o>>>2}function d(o,g,y,p){return o===0?g&y|~g&p:o===2?g&y|g&p|y&p:g^y^p}i.prototype._update=function(o){for(var g=this._w,y=this._a|0,p=this._b|0,E=this._c|0,T=this._d|0,S=this._e|0,x=0;x<16;++x)g[x]=o.readInt32BE(x*4);for(;x<80;++x)g[x]=r(g[x-3]^g[x-8]^g[x-14]^g[x-16]);for(var w=0;w<80;++w){var I=~~(w/20),D=n(y)+d(I,p,E,T)+S+g[w]+s[I]|0;S=T,T=E,E=l(p),p=y,y=D}this._a=y+this._a|0,this._b=p+this._b|0,this._c=E+this._c|0,this._d=T+this._d|0,this._e=S+this._e|0},i.prototype._hash=function(){var o=c.allocUnsafe(20);return o.writeInt32BE(this._a|0,0),o.writeInt32BE(this._b|0,4),o.writeInt32BE(this._c|0,8),o.writeInt32BE(this._d|0,12),o.writeInt32BE(this._e|0,16),o},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,m,v){var f=e("inherits"),u=e("./sha256"),c=e("./hash"),s=e("safe-buffer").Buffer,t=new Array(64);function i(){this.init(),this._w=t,c.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},i.prototype._hash=function(){var r=s.allocUnsafe(28);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r},m.exports=i},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,m,v){var f=e("inherits"),u=e("./hash"),c=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t=new Array(64);function i(){this.init(),this._w=t,u.call(this,64,56)}f(i,u),i.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function r(y,p,E){return E^y&(p^E)}function n(y,p,E){return y&p|E&(y|p)}function l(y){return(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10)}function d(y){return(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7)}function o(y){return(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3}function g(y){return(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10}i.prototype._update=function(y){for(var p=this._w,E=this._a|0,T=this._b|0,S=this._c|0,x=this._d|0,w=this._e|0,I=this._f|0,D=this._g|0,V=this._h|0,ie=0;ie<16;++ie)p[ie]=y.readInt32BE(ie*4);for(;ie<64;++ie)p[ie]=g(p[ie-2])+p[ie-7]+o(p[ie-15])+p[ie-16]|0;for(var ee=0;ee<64;++ee){var te=V+d(w)+r(w,I,D)+s[ee]+p[ee]|0,Y=l(E)+n(E,T,S)|0;V=D,D=I,I=w,w=x+te|0,x=S,S=T,T=E,E=te+Y|0}this._a=E+this._a|0,this._b=T+this._b|0,this._c=S+this._c|0,this._d=x+this._d|0,this._e=w+this._e|0,this._f=I+this._f|0,this._g=D+this._g|0,this._h=V+this._h|0},i.prototype._hash=function(){var y=c.allocUnsafe(32);return y.writeInt32BE(this._a,0),y.writeInt32BE(this._b,4),y.writeInt32BE(this._c,8),y.writeInt32BE(this._d,12),y.writeInt32BE(this._e,16),y.writeInt32BE(this._f,20),y.writeInt32BE(this._g,24),y.writeInt32BE(this._h,28),y},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,m,v){var f=e("inherits"),u=e("./sha512"),c=e("./hash"),s=e("safe-buffer").Buffer,t=new Array(160);function i(){this.init(),this._w=t,c.call(this,128,112)}f(i,u),i.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},i.prototype._hash=function(){var r=s.allocUnsafe(48);function n(l,d,o){r.writeInt32BE(l,o),r.writeInt32BE(d,o+4)}return n(this._ah,this._al,0),n(this._bh,this._bl,8),n(this._ch,this._cl,16),n(this._dh,this._dl,24),n(this._eh,this._el,32),n(this._fh,this._fl,40),r},m.exports=i},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,m,v){var f=e("inherits"),u=e("./hash"),c=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],t=new Array(160);function i(){this.init(),this._w=t,u.call(this,128,112)}f(i,u),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function r(T,S,x){return x^T&(S^x)}function n(T,S,x){return T&S|x&(T|S)}function l(T,S){return(T>>>28|S<<4)^(S>>>2|T<<30)^(S>>>7|T<<25)}function d(T,S){return(T>>>14|S<<18)^(T>>>18|S<<14)^(S>>>9|T<<23)}function o(T,S){return(T>>>1|S<<31)^(T>>>8|S<<24)^T>>>7}function g(T,S){return(T>>>1|S<<31)^(T>>>8|S<<24)^(T>>>7|S<<25)}function y(T,S){return(T>>>19|S<<13)^(S>>>29|T<<3)^T>>>6}function p(T,S){return(T>>>19|S<<13)^(S>>>29|T<<3)^(T>>>6|S<<26)}function E(T,S){return T>>>0<S>>>0?1:0}i.prototype._update=function(T){for(var S=this._w,x=this._ah|0,w=this._bh|0,I=this._ch|0,D=this._dh|0,V=this._eh|0,ie=this._fh|0,ee=this._gh|0,te=this._hh|0,Y=this._al|0,W=this._bl|0,j=this._cl|0,O=this._dl|0,k=this._el|0,B=this._fl|0,H=this._gl|0,$=this._hl|0,K=0;K<32;K+=2)S[K]=T.readInt32BE(K*4),S[K+1]=T.readInt32BE(K*4+4);for(;K<160;K+=2){var z=S[K-30],F=S[K-15*2+1],L=o(z,F),G=g(F,z);z=S[K-2*2],F=S[K-2*2+1];var le=y(z,F),ge=p(F,z),Ie=S[K-7*2],Oe=S[K-7*2+1],Ke=S[K-16*2],De=S[K-16*2+1],Te=G+Oe|0,Z=L+Ie+E(Te,G)|0;Te=Te+ge|0,Z=Z+le+E(Te,ge)|0,Te=Te+De|0,Z=Z+Ke+E(Te,De)|0,S[K]=Z,S[K+1]=Te}for(var ue=0;ue<160;ue+=2){Z=S[ue],Te=S[ue+1];var Ee=n(x,w,I),_e=n(Y,W,j),he=l(x,Y),de=l(Y,x),ce=d(V,k),se=d(k,V),ne=s[ue],we=s[ue+1],Ne=r(V,ie,ee),ae=r(k,B,H),Pe=$+se|0,ze=te+ce+E(Pe,$)|0;Pe=Pe+ae|0,ze=ze+Ne+E(Pe,ae)|0,Pe=Pe+we|0,ze=ze+ne+E(Pe,we)|0,Pe=Pe+Te|0,ze=ze+Z+E(Pe,Te)|0;var ve=de+_e|0,Ae=he+Ee+E(ve,de)|0;te=ee,$=H,ee=ie,H=B,ie=V,B=k,k=O+Pe|0,V=D+ze+E(k,O)|0,D=I,O=j,I=w,j=W,w=x,W=Y,Y=Pe+ve|0,x=ze+Ae+E(Y,Pe)|0}this._al=this._al+Y|0,this._bl=this._bl+W|0,this._cl=this._cl+j|0,this._dl=this._dl+O|0,this._el=this._el+k|0,this._fl=this._fl+B|0,this._gl=this._gl+H|0,this._hl=this._hl+$|0,this._ah=this._ah+x+E(this._al,Y)|0,this._bh=this._bh+w+E(this._bl,W)|0,this._ch=this._ch+I+E(this._cl,j)|0,this._dh=this._dh+D+E(this._dl,O)|0,this._eh=this._eh+V+E(this._el,k)|0,this._fh=this._fh+ie+E(this._fl,B)|0,this._gh=this._gh+ee+E(this._gl,H)|0,this._hh=this._hh+te+E(this._hl,$)|0},i.prototype._hash=function(){var T=c.allocUnsafe(64);function S(x,w,I){T.writeInt32BE(x,I),T.writeInt32BE(w,I+4)}return S(this._ah,this._al,0),S(this._bh,this._bl,8),S(this._ch,this._cl,16),S(this._dh,this._dl,24),S(this._eh,this._el,32),S(this._fh,this._fl,40),S(this._gh,this._gl,48),S(this._hh,this._hl,56),T},m.exports=i},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,m,v){m.exports=c;var f=e("events").EventEmitter,u=e("inherits");u(c,f),c.Readable=e("readable-stream/readable.js"),c.Writable=e("readable-stream/writable.js"),c.Duplex=e("readable-stream/duplex.js"),c.Transform=e("readable-stream/transform.js"),c.PassThrough=e("readable-stream/passthrough.js"),c.Stream=c;function c(){f.call(this)}c.prototype.pipe=function(s,t){var i=this;function r(p){s.writable&&s.write(p)===!1&&i.pause&&i.pause()}i.on("data",r);function n(){i.readable&&i.resume&&i.resume()}s.on("drain",n),!s._isStdio&&(!t||t.end!==!1)&&(i.on("end",d),i.on("close",o));var l=!1;function d(){l||(l=!0,s.end())}function o(){l||(l=!0,typeof s.destroy=="function"&&s.destroy())}function g(p){if(y(),f.listenerCount(this,"error")===0)throw p}i.on("error",g),s.on("error",g);function y(){i.removeListener("data",r),s.removeListener("drain",n),i.removeListener("end",d),i.removeListener("close",o),i.removeListener("error",g),s.removeListener("error",g),i.removeListener("end",y),i.removeListener("close",y),s.removeListener("close",y)}return i.on("end",y),i.on("close",y),s.on("close",y),s.emit("pipe",i),s}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,m,v){var f={}.toString;m.exports=Array.isArray||function(u){return f.call(u)=="[object Array]"}},{}],507:[function(e,m,v){m.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,m,v){var f=e("process-nextick-args"),u=Object.keys||function(g){var y=[];for(var p in g)y.push(p);return y};m.exports=l;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var s=e("./_stream_readable"),t=e("./_stream_writable");c.inherits(l,s);for(var i=u(t.prototype),r=0;r<i.length;r++){var n=i[r];l.prototype[n]||(l.prototype[n]=t.prototype[n])}function l(g){if(!(this instanceof l))return new l(g);s.call(this,g),t.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(){this.allowHalfOpen||this._writableState.ended||f.nextTick(o,this)}function o(g){g.end()}Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),l.prototype._destroy=function(g,y){this.push(null),this.end(),f.nextTick(y,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,m,v){m.exports=c;var f=e("./_stream_transform"),u=Object.create(e("core-util-is"));u.inherits=e("inherits"),u.inherits(c,f);function c(s){if(!(this instanceof c))return new c(s);f.call(this,s)}c.prototype._transform=function(s,t,i){i(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,m,v){(function(f,u){(function(){var c=e("process-nextick-args");m.exports=D;var s=e("isarray"),t;D.ReadableState=I,e("events").EventEmitter;var i=function(Z,ue){return Z.listeners(ue).length},r=e("./internal/streams/stream"),n=e("safe-buffer").Buffer,l=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(Z){return n.from(Z)}function o(Z){return n.isBuffer(Z)||Z instanceof l}var g=Object.create(e("core-util-is"));g.inherits=e("inherits");var y=e("util"),p=void 0;y&&y.debuglog?p=y.debuglog("stream"):p=function(){};var E=e("./internal/streams/BufferList"),T=e("./internal/streams/destroy"),S;g.inherits(D,r);var x=["error","close","destroy","pause","resume"];function w(Z,ue,Ee){if(typeof Z.prependListener=="function")return Z.prependListener(ue,Ee);!Z._events||!Z._events[ue]?Z.on(ue,Ee):s(Z._events[ue])?Z._events[ue].unshift(Ee):Z._events[ue]=[Ee,Z._events[ue]]}function I(Z,ue){t=t||e("./_stream_duplex"),Z=Z||{};var Ee=ue instanceof t;this.objectMode=!!Z.objectMode,Ee&&(this.objectMode=this.objectMode||!!Z.readableObjectMode);var _e=Z.highWaterMark,he=Z.readableHighWaterMark,de=this.objectMode?16:16*1024;_e||_e===0?this.highWaterMark=_e:Ee&&(he||he===0)?this.highWaterMark=he:this.highWaterMark=de,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(S||(S=e("string_decoder/").StringDecoder),this.decoder=new S(Z.encoding),this.encoding=Z.encoding)}function D(Z){if(t=t||e("./_stream_duplex"),!(this instanceof D))return new D(Z);this._readableState=new I(Z,this),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),D.prototype.destroy=T.destroy,D.prototype._undestroy=T.undestroy,D.prototype._destroy=function(Z,ue){this.push(null),ue(Z)},D.prototype.push=function(Z,ue){var Ee=this._readableState,_e;return Ee.objectMode?_e=!0:typeof Z=="string"&&(ue=ue||Ee.defaultEncoding,ue!==Ee.encoding&&(Z=n.from(Z,ue),ue=""),_e=!0),V(this,Z,ue,!1,_e)},D.prototype.unshift=function(Z){return V(this,Z,null,!0,!1)};function V(Z,ue,Ee,_e,he){var de=Z._readableState;if(ue===null)de.reading=!1,O(Z,de);else{var ce;he||(ce=ee(de,ue)),ce?Z.emit("error",ce):de.objectMode||ue&&ue.length>0?(typeof ue!="string"&&!de.objectMode&&Object.getPrototypeOf(ue)!==n.prototype&&(ue=d(ue)),_e?de.endEmitted?Z.emit("error",new Error("stream.unshift() after end event")):ie(Z,de,ue,!0):de.ended?Z.emit("error",new Error("stream.push() after EOF")):(de.reading=!1,de.decoder&&!Ee?(ue=de.decoder.write(ue),de.objectMode||ue.length!==0?ie(Z,de,ue,!1):H(Z,de)):ie(Z,de,ue,!1))):_e||(de.reading=!1)}return te(de)}function ie(Z,ue,Ee,_e){ue.flowing&&ue.length===0&&!ue.sync?(Z.emit("data",Ee),Z.read(0)):(ue.length+=ue.objectMode?1:Ee.length,_e?ue.buffer.unshift(Ee):ue.buffer.push(Ee),ue.needReadable&&k(Z)),H(Z,ue)}function ee(Z,ue){var Ee;return!o(ue)&&typeof ue!="string"&&ue!==void 0&&!Z.objectMode&&(Ee=new TypeError("Invalid non-string/buffer chunk")),Ee}function te(Z){return!Z.ended&&(Z.needReadable||Z.length<Z.highWaterMark||Z.length===0)}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(Z){return S||(S=e("string_decoder/").StringDecoder),this._readableState.decoder=new S(Z),this._readableState.encoding=Z,this};var Y=8388608;function W(Z){return Z>=Y?Z=Y:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function j(Z,ue){return Z<=0||ue.length===0&&ue.ended?0:ue.objectMode?1:Z!==Z?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(Z>ue.highWaterMark&&(ue.highWaterMark=W(Z)),Z<=ue.length?Z:ue.ended?ue.length:(ue.needReadable=!0,0))}D.prototype.read=function(Z){p("read",Z),Z=parseInt(Z,10);var ue=this._readableState,Ee=Z;if(Z!==0&&(ue.emittedReadable=!1),Z===0&&ue.needReadable&&(ue.length>=ue.highWaterMark||ue.ended))return p("read: emitReadable",ue.length,ue.ended),ue.length===0&&ue.ended?Ke(this):k(this),null;if(Z=j(Z,ue),Z===0&&ue.ended)return ue.length===0&&Ke(this),null;var _e=ue.needReadable;p("need readable",_e),(ue.length===0||ue.length-Z<ue.highWaterMark)&&(_e=!0,p("length less than watermark",_e)),ue.ended||ue.reading?(_e=!1,p("reading or ended",_e)):_e&&(p("do read"),ue.reading=!0,ue.sync=!0,ue.length===0&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(Z=j(Ee,ue)));var he;return Z>0?he=le(Z,ue):he=null,he===null?(ue.needReadable=!0,Z=0):ue.length-=Z,ue.length===0&&(ue.ended||(ue.needReadable=!0),Ee!==Z&&ue.ended&&Ke(this)),he!==null&&this.emit("data",he),he};function O(Z,ue){if(!ue.ended){if(ue.decoder){var Ee=ue.decoder.end();Ee&&Ee.length&&(ue.buffer.push(Ee),ue.length+=ue.objectMode?1:Ee.length)}ue.ended=!0,k(Z)}}function k(Z){var ue=Z._readableState;ue.needReadable=!1,ue.emittedReadable||(p("emitReadable",ue.flowing),ue.emittedReadable=!0,ue.sync?c.nextTick(B,Z):B(Z))}function B(Z){p("emit readable"),Z.emit("readable"),G(Z)}function H(Z,ue){ue.readingMore||(ue.readingMore=!0,c.nextTick($,Z,ue))}function $(Z,ue){for(var Ee=ue.length;!ue.reading&&!ue.flowing&&!ue.ended&&ue.length<ue.highWaterMark&&(p("maybeReadMore read 0"),Z.read(0),Ee!==ue.length);)Ee=ue.length;ue.readingMore=!1}D.prototype._read=function(Z){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(Z,ue){var Ee=this,_e=this._readableState;switch(_e.pipesCount){case 0:_e.pipes=Z;break;case 1:_e.pipes=[_e.pipes,Z];break;default:_e.pipes.push(Z);break}_e.pipesCount+=1,p("pipe count=%d opts=%j",_e.pipesCount,ue);var he=(!ue||ue.end!==!1)&&Z!==f.stdout&&Z!==f.stderr,de=he?se:Fe;_e.endEmitted?c.nextTick(de):Ee.once("end",de),Z.on("unpipe",ce);function ce(We,Je){p("onunpipe"),We===Ee&&Je&&Je.hasUnpiped===!1&&(Je.hasUnpiped=!0,Ne())}function se(){p("onend"),Z.end()}var ne=K(Ee);Z.on("drain",ne);var we=!1;function Ne(){p("cleanup"),Z.removeListener("close",ve),Z.removeListener("finish",Ae),Z.removeListener("drain",ne),Z.removeListener("error",ze),Z.removeListener("unpipe",ce),Ee.removeListener("end",se),Ee.removeListener("end",Fe),Ee.removeListener("data",Pe),we=!0,_e.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&ne()}var ae=!1;Ee.on("data",Pe);function Pe(We){p("ondata"),ae=!1;var Je=Z.write(We);Je===!1&&!ae&&((_e.pipesCount===1&&_e.pipes===Z||_e.pipesCount>1&&Te(_e.pipes,Z)!==-1)&&!we&&(p("false write response, pause",_e.awaitDrain),_e.awaitDrain++,ae=!0),Ee.pause())}function ze(We){p("onerror",We),Fe(),Z.removeListener("error",ze),i(Z,"error")===0&&Z.emit("error",We)}w(Z,"error",ze);function ve(){Z.removeListener("finish",Ae),Fe()}Z.once("close",ve);function Ae(){p("onfinish"),Z.removeListener("close",ve),Fe()}Z.once("finish",Ae);function Fe(){p("unpipe"),Ee.unpipe(Z)}return Z.emit("pipe",Ee),_e.flowing||(p("pipe resume"),Ee.resume()),Z};function K(Z){return function(){var ue=Z._readableState;p("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&i(Z,"data")&&(ue.flowing=!0,G(Z))}}D.prototype.unpipe=function(Z){var ue=this._readableState,Ee={hasUnpiped:!1};if(ue.pipesCount===0)return this;if(ue.pipesCount===1)return Z&&Z!==ue.pipes?this:(Z||(Z=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,Z&&Z.emit("unpipe",this,Ee),this);if(!Z){var _e=ue.pipes,he=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var de=0;de<he;de++)_e[de].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=Te(ue.pipes,Z);return ce===-1?this:(ue.pipes.splice(ce,1),ue.pipesCount-=1,ue.pipesCount===1&&(ue.pipes=ue.pipes[0]),Z.emit("unpipe",this,Ee),this)},D.prototype.on=function(Z,ue){var Ee=r.prototype.on.call(this,Z,ue);if(Z==="data")this._readableState.flowing!==!1&&this.resume();else if(Z==="readable"){var _e=this._readableState;!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.emittedReadable=!1,_e.reading?_e.length&&k(this):c.nextTick(z,this))}return Ee},D.prototype.addListener=D.prototype.on;function z(Z){p("readable nexttick read 0"),Z.read(0)}D.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(p("resume"),Z.flowing=!0,F(this,Z)),this};function F(Z,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,c.nextTick(L,Z,ue))}function L(Z,ue){ue.reading||(p("resume read 0"),Z.read(0)),ue.resumeScheduled=!1,ue.awaitDrain=0,Z.emit("resume"),G(Z),ue.flowing&&!ue.reading&&Z.read(0)}D.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function G(Z){var ue=Z._readableState;for(p("flow",ue.flowing);ue.flowing&&Z.read()!==null;);}D.prototype.wrap=function(Z){var ue=this,Ee=this._readableState,_e=!1;Z.on("end",function(){if(p("wrapped end"),Ee.decoder&&!Ee.ended){var ce=Ee.decoder.end();ce&&ce.length&&ue.push(ce)}ue.push(null)}),Z.on("data",function(ce){if(p("wrapped data"),Ee.decoder&&(ce=Ee.decoder.write(ce)),!(Ee.objectMode&&ce==null)&&!(!Ee.objectMode&&(!ce||!ce.length))){var se=ue.push(ce);se||(_e=!0,Z.pause())}});for(var he in Z)this[he]===void 0&&typeof Z[he]=="function"&&(this[he]=function(ce){return function(){return Z[ce].apply(Z,arguments)}}(he));for(var de=0;de<x.length;de++)Z.on(x[de],this.emit.bind(this,x[de]));return this._read=function(ce){p("wrapped _read",ce),_e&&(_e=!1,Z.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=le;function le(Z,ue){if(ue.length===0)return null;var Ee;return ue.objectMode?Ee=ue.buffer.shift():!Z||Z>=ue.length?(ue.decoder?Ee=ue.buffer.join(""):ue.buffer.length===1?Ee=ue.buffer.head.data:Ee=ue.buffer.concat(ue.length),ue.buffer.clear()):Ee=ge(Z,ue.buffer,ue.decoder),Ee}function ge(Z,ue,Ee){var _e;return Z<ue.head.data.length?(_e=ue.head.data.slice(0,Z),ue.head.data=ue.head.data.slice(Z)):Z===ue.head.data.length?_e=ue.shift():_e=Ee?Ie(Z,ue):Oe(Z,ue),_e}function Ie(Z,ue){var Ee=ue.head,_e=1,he=Ee.data;for(Z-=he.length;Ee=Ee.next;){var de=Ee.data,ce=Z>de.length?de.length:Z;if(ce===de.length?he+=de:he+=de.slice(0,Z),Z-=ce,Z===0){ce===de.length?(++_e,Ee.next?ue.head=Ee.next:ue.head=ue.tail=null):(ue.head=Ee,Ee.data=de.slice(ce));break}++_e}return ue.length-=_e,he}function Oe(Z,ue){var Ee=n.allocUnsafe(Z),_e=ue.head,he=1;for(_e.data.copy(Ee),Z-=_e.data.length;_e=_e.next;){var de=_e.data,ce=Z>de.length?de.length:Z;if(de.copy(Ee,Ee.length-Z,0,ce),Z-=ce,Z===0){ce===de.length?(++he,_e.next?ue.head=_e.next:ue.head=ue.tail=null):(ue.head=_e,_e.data=de.slice(ce));break}++he}return ue.length-=he,Ee}function Ke(Z){var ue=Z._readableState;if(ue.length>0)throw new Error('"endReadable()" called on non-empty stream');ue.endEmitted||(ue.ended=!0,c.nextTick(De,ue,Z))}function De(Z,ue){!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,ue.readable=!1,ue.emit("end"))}function Te(Z,ue){for(var Ee=0,_e=Z.length;Ee<_e;Ee++)if(Z[Ee]===ue)return Ee;return-1}}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,m,v){m.exports=s;var f=e("./_stream_duplex"),u=Object.create(e("core-util-is"));u.inherits=e("inherits"),u.inherits(s,f);function c(r,n){var l=this._transformState;l.transforming=!1;var d=l.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,n!=null&&this.push(n),d(r);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function s(r){if(!(this instanceof s))return new s(r);f.call(this,r),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",t)}function t(){var r=this;typeof this._flush=="function"?this._flush(function(n,l){i(r,n,l)}):i(this,null,null)}s.prototype.push=function(r,n){return this._transformState.needTransform=!1,f.prototype.push.call(this,r,n)},s.prototype._transform=function(r,n,l){throw new Error("_transform() is not implemented")},s.prototype._write=function(r,n,l){var d=this._transformState;if(d.writecb=l,d.writechunk=r,d.writeencoding=n,!d.transforming){var o=this._readableState;(d.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(r){var n=this._transformState;n.writechunk!==null&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},s.prototype._destroy=function(r,n){var l=this;f.prototype._destroy.call(this,r,function(d){n(d),l.emit("close")})};function i(r,n,l){if(n)return r.emit("error",n);if(l!=null&&r.push(l),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,m,v){(function(f,u,c){(function(){var s=e("process-nextick-args");m.exports=w;function t(L){var G=this;this.next=null,this.entry=null,this.finish=function(){F(G,L)}}var i=!f.browser&&["v0.10","v0.9."].indexOf(f.version.slice(0,5))>-1?c:s.nextTick,r;w.WritableState=S;var n=Object.create(e("core-util-is"));n.inherits=e("inherits");var l={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),o=e("safe-buffer").Buffer,g=(typeof u<"u"?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(L){return o.from(L)}function p(L){return o.isBuffer(L)||L instanceof g}var E=e("./internal/streams/destroy");n.inherits(w,d);function T(){}function S(L,G){r=r||e("./_stream_duplex"),L=L||{};var le=G instanceof r;this.objectMode=!!L.objectMode,le&&(this.objectMode=this.objectMode||!!L.writableObjectMode);var ge=L.highWaterMark,Ie=L.writableHighWaterMark,Oe=this.objectMode?16:16*1024;ge||ge===0?this.highWaterMark=ge:le&&(Ie||Ie===0)?this.highWaterMark=Ie:this.highWaterMark=Oe,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ke=L.decodeStrings===!1;this.decodeStrings=!Ke,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(De){W(G,De)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}S.prototype.getBuffer=function(){for(var G=this.bufferedRequest,le=[];G;)le.push(G),G=G.next;return le},function(){try{Object.defineProperty(S.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(L){return x.call(this,L)?!0:this!==w?!1:L&&L._writableState instanceof S}})):x=function(L){return L instanceof this};function w(L){if(r=r||e("./_stream_duplex"),!x.call(w,this)&&!(this instanceof r))return new w(L);this._writableState=new S(L,this),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),d.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function I(L,G){var le=new Error("write after end");L.emit("error",le),s.nextTick(G,le)}function D(L,G,le,ge){var Ie=!0,Oe=!1;return le===null?Oe=new TypeError("May not write null values to stream"):typeof le!="string"&&le!==void 0&&!G.objectMode&&(Oe=new TypeError("Invalid non-string/buffer chunk")),Oe&&(L.emit("error",Oe),s.nextTick(ge,Oe),Ie=!1),Ie}w.prototype.write=function(L,G,le){var ge=this._writableState,Ie=!1,Oe=!ge.objectMode&&p(L);return Oe&&!o.isBuffer(L)&&(L=y(L)),typeof G=="function"&&(le=G,G=null),Oe?G="buffer":G||(G=ge.defaultEncoding),typeof le!="function"&&(le=T),ge.ended?I(this,le):(Oe||D(this,ge,L,le))&&(ge.pendingcb++,Ie=ie(this,ge,Oe,L,G,le)),Ie},w.prototype.cork=function(){var L=this._writableState;L.corked++},w.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,!L.writing&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&k(this,L))},w.prototype.setDefaultEncoding=function(G){if(typeof G=="string"&&(G=G.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((G+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+G);return this._writableState.defaultEncoding=G,this};function V(L,G,le){return!L.objectMode&&L.decodeStrings!==!1&&typeof G=="string"&&(G=o.from(G,le)),G}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ie(L,G,le,ge,Ie,Oe){if(!le){var Ke=V(G,ge,Ie);ge!==Ke&&(le=!0,Ie="buffer",ge=Ke)}var De=G.objectMode?1:ge.length;G.length+=De;var Te=G.length<G.highWaterMark;if(Te||(G.needDrain=!0),G.writing||G.corked){var Z=G.lastBufferedRequest;G.lastBufferedRequest={chunk:ge,encoding:Ie,isBuf:le,callback:Oe,next:null},Z?Z.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else ee(L,G,!1,De,ge,Ie,Oe);return Te}function ee(L,G,le,ge,Ie,Oe,Ke){G.writelen=ge,G.writecb=Ke,G.writing=!0,G.sync=!0,le?L._writev(Ie,G.onwrite):L._write(Ie,Oe,G.onwrite),G.sync=!1}function te(L,G,le,ge,Ie){--G.pendingcb,le?(s.nextTick(Ie,ge),s.nextTick(K,L,G),L._writableState.errorEmitted=!0,L.emit("error",ge)):(Ie(ge),L._writableState.errorEmitted=!0,L.emit("error",ge),K(L,G))}function Y(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}function W(L,G){var le=L._writableState,ge=le.sync,Ie=le.writecb;if(Y(le),G)te(L,le,ge,G,Ie);else{var Oe=B(le);!Oe&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&k(L,le),ge?i(j,L,le,Oe,Ie):j(L,le,Oe,Ie)}}function j(L,G,le,ge){le||O(L,G),G.pendingcb--,ge(),K(L,G)}function O(L,G){G.length===0&&G.needDrain&&(G.needDrain=!1,L.emit("drain"))}function k(L,G){G.bufferProcessing=!0;var le=G.bufferedRequest;if(L._writev&&le&&le.next){var ge=G.bufferedRequestCount,Ie=new Array(ge),Oe=G.corkedRequestsFree;Oe.entry=le;for(var Ke=0,De=!0;le;)Ie[Ke]=le,le.isBuf||(De=!1),le=le.next,Ke+=1;Ie.allBuffers=De,ee(L,G,!0,G.length,Ie,"",Oe.finish),G.pendingcb++,G.lastBufferedRequest=null,Oe.next?(G.corkedRequestsFree=Oe.next,Oe.next=null):G.corkedRequestsFree=new t(G),G.bufferedRequestCount=0}else{for(;le;){var Te=le.chunk,Z=le.encoding,ue=le.callback,Ee=G.objectMode?1:Te.length;if(ee(L,G,!1,Ee,Te,Z,ue),le=le.next,G.bufferedRequestCount--,G.writing)break}le===null&&(G.lastBufferedRequest=null)}G.bufferedRequest=le,G.bufferProcessing=!1}w.prototype._write=function(L,G,le){le(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(L,G,le){var ge=this._writableState;typeof L=="function"?(le=L,L=null,G=null):typeof G=="function"&&(le=G,G=null),L!=null&&this.write(L,G),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||z(this,ge,le)};function B(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function H(L,G){L._final(function(le){G.pendingcb--,le&&L.emit("error",le),G.prefinished=!0,L.emit("prefinish"),K(L,G)})}function $(L,G){!G.prefinished&&!G.finalCalled&&(typeof L._final=="function"?(G.pendingcb++,G.finalCalled=!0,s.nextTick(H,L,G)):(G.prefinished=!0,L.emit("prefinish")))}function K(L,G){var le=B(G);return le&&($(L,G),G.pendingcb===0&&(G.finished=!0,L.emit("finish"))),le}function z(L,G,le){G.ending=!0,K(L,G),le&&(G.finished?s.nextTick(le):L.once("finish",le)),G.ended=!0,L.writable=!1}function F(L,G,le){var ge=L.entry;for(L.entry=null;ge;){var Ie=ge.callback;G.pendingcb--,Ie(le),ge=ge.next}G.corkedRequestsFree.next=L}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),w.prototype.destroy=E.destroy,w.prototype._undestroy=E.undestroy,w.prototype._destroy=function(L,G){this.end(),G(L)}}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,m,v){function f(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var u=e("safe-buffer").Buffer,c=e("util");function s(t,i,r){t.copy(i,r)}m.exports=function(){function t(){f(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,l=""+n.data;n=n.next;)l+=r+n.data;return l},t.prototype.concat=function(r){if(this.length===0)return u.alloc(0);for(var n=u.allocUnsafe(r>>>0),l=this.head,d=0;l;)s(l.data,n,d),d+=l.data.length,l=l.next;return n},t}(),c&&c.inspect&&c.inspect.custom&&(m.exports.prototype[c.inspect.custom]=function(){var t=c.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":520,util:188}],514:[function(e,m,v){var f=e("process-nextick-args");function u(t,i){var r=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,f.nextTick(s,this,t)):f.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(d){!i&&d?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,f.nextTick(s,r,d)):f.nextTick(s,r,d):i&&i(d)}),this)}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,i){t.emit("error",i)}m.exports={destroy:u,undestroy:c}},{"process-nextick-args":466}],515:[function(e,m,v){arguments[4][490][0].apply(v,arguments)},{dup:490,events:422}],516:[function(e,m,v){m.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,m,v){v=m.exports=e("./lib/_stream_readable.js"),v.Stream=v,v.Readable=v,v.Writable=e("./lib/_stream_writable.js"),v.Duplex=e("./lib/_stream_duplex.js"),v.Transform=e("./lib/_stream_transform.js"),v.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,m,v){m.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,m,v){m.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,m,v){arguments[4][217][0].apply(v,arguments)},{buffer:220,dup:217}],521:[function(e,m,v){arguments[4][218][0].apply(v,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,m,v){arguments[4][218][0].apply(v,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,m,v){(function(f,u){(function(){var c=e("process/browser.js").nextTick,s=Function.prototype.apply,t=Array.prototype.slice,i={},r=0;v.setTimeout=function(){return new n(s.call(setTimeout,window,arguments),clearTimeout)},v.setInterval=function(){return new n(s.call(setInterval,window,arguments),clearInterval)},v.clearTimeout=v.clearInterval=function(l){l.close()};function n(l,d){this._id=l,this._clearFn=d}n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},v.enroll=function(l,d){clearTimeout(l._idleTimeoutId),l._idleTimeout=d},v.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},v._unrefActive=v.active=function(l){clearTimeout(l._idleTimeoutId);var d=l._idleTimeout;d>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},d))},v.setImmediate=typeof f=="function"?f:function(l){var d=r++,o=arguments.length<2?!1:t.call(arguments,1);return i[d]=!0,c(function(){i[d]&&(o?l.apply(null,o):l.call(null),v.clearImmediate(d))}),d},v.clearImmediate=typeof u=="function"?u:function(l){delete i[l]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,m,v){(function(f){(function(){m.exports=u;function u(s,t){if(c("noDeprecation"))return s;var i=!1;function r(){if(!i){if(c("throwDeprecation"))throw new Error(t);c("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return s.apply(this,arguments)}return r}function c(s){try{if(!f.localStorage)return!1}catch{return!1}var t=f.localStorage[s];return t==null?!1:String(t).toLowerCase()==="true"}}).call(this)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,m,v){typeof Object.create=="function"?m.exports=function(u,c){u.super_=c,u.prototype=Object.create(c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(u,c){u.super_=c;var s=function(){};s.prototype=c.prototype,u.prototype=new s,u.prototype.constructor=u}},{}],526:[function(e,m,v){m.exports=function(u){return u&&typeof u=="object"&&typeof u.copy=="function"&&typeof u.fill=="function"&&typeof u.readUInt8=="function"}},{}],527:[function(e,m,v){(function(f,u){(function(){var c=/%[sdj%]/g;v.format=function(z){if(!D(z)){for(var F=[],L=0;L<arguments.length;L++)F.push(i(arguments[L]));return F.join(" ")}for(var L=1,G=arguments,le=G.length,ge=String(z).replace(c,function(Oe){if(Oe==="%%")return"%";if(L>=le)return Oe;switch(Oe){case"%s":return String(G[L++]);case"%d":return Number(G[L++]);case"%j":try{return JSON.stringify(G[L++])}catch{return"[Circular]"}default:return Oe}}),Ie=G[L];L<le;Ie=G[++L])x(Ie)||!te(Ie)?ge+=" "+Ie:ge+=" "+i(Ie);return ge},v.deprecate=function(z,F){if(ie(u.process))return function(){return v.deprecate(z,F).apply(this,arguments)};if(f.noDeprecation===!0)return z;var L=!1;function G(){if(!L){if(f.throwDeprecation)throw new Error(F);f.traceDeprecation?console.trace(F):console.error(F),L=!0}return z.apply(this,arguments)}return G};var s={},t;v.debuglog=function(z){if(ie(t)&&(t=f.env.NODE_DEBUG||""),z=z.toUpperCase(),!s[z])if(new RegExp("\\b"+z+"\\b","i").test(t)){var F=f.pid;s[z]=function(){var L=v.format.apply(v,arguments);console.error("%s %d: %s",z,F,L)}}else s[z]=function(){};return s[z]};function i(z,F){var L={seen:[],stylize:n};return arguments.length>=3&&(L.depth=arguments[2]),arguments.length>=4&&(L.colors=arguments[3]),S(F)?L.showHidden=F:F&&v._extend(L,F),ie(L.showHidden)&&(L.showHidden=!1),ie(L.depth)&&(L.depth=2),ie(L.colors)&&(L.colors=!1),ie(L.customInspect)&&(L.customInspect=!0),L.colors&&(L.stylize=r),d(L,z,L.depth)}v.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(z,F){var L=i.styles[F];return L?"\x1B["+i.colors[L][0]+"m"+z+"\x1B["+i.colors[L][1]+"m":z}function n(z,F){return z}function l(z){var F={};return z.forEach(function(L,G){F[L]=!0}),F}function d(z,F,L){if(z.customInspect&&F&&j(F.inspect)&&F.inspect!==v.inspect&&!(F.constructor&&F.constructor.prototype===F)){var G=F.inspect(L,z);return D(G)||(G=d(z,G,L)),G}var le=o(z,F);if(le)return le;var ge=Object.keys(F),Ie=l(ge);if(z.showHidden&&(ge=Object.getOwnPropertyNames(F)),W(F)&&(ge.indexOf("message")>=0||ge.indexOf("description")>=0))return g(F);if(ge.length===0){if(j(F)){var Oe=F.name?": "+F.name:"";return z.stylize("[Function"+Oe+"]","special")}if(ee(F))return z.stylize(RegExp.prototype.toString.call(F),"regexp");if(Y(F))return z.stylize(Date.prototype.toString.call(F),"date");if(W(F))return g(F)}var Ke="",De=!1,Te=["{","}"];if(T(F)&&(De=!0,Te=["[","]"]),j(F)){var Z=F.name?": "+F.name:"";Ke=" [Function"+Z+"]"}if(ee(F)&&(Ke=" "+RegExp.prototype.toString.call(F)),Y(F)&&(Ke=" "+Date.prototype.toUTCString.call(F)),W(F)&&(Ke=" "+g(F)),ge.length===0&&(!De||F.length==0))return Te[0]+Ke+Te[1];if(L<0)return ee(F)?z.stylize(RegExp.prototype.toString.call(F),"regexp"):z.stylize("[Object]","special");z.seen.push(F);var ue;return De?ue=y(z,F,L,Ie,ge):ue=ge.map(function(Ee){return p(z,F,L,Ie,Ee,De)}),z.seen.pop(),E(ue,Ke,Te)}function o(z,F){if(ie(F))return z.stylize("undefined","undefined");if(D(F)){var L="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(L,"string")}if(I(F))return z.stylize(""+F,"number");if(S(F))return z.stylize(""+F,"boolean");if(x(F))return z.stylize("null","null")}function g(z){return"["+Error.prototype.toString.call(z)+"]"}function y(z,F,L,G,le){for(var ge=[],Ie=0,Oe=F.length;Ie<Oe;++Ie)K(F,String(Ie))?ge.push(p(z,F,L,G,String(Ie),!0)):ge.push("");return le.forEach(function(Ke){Ke.match(/^\d+$/)||ge.push(p(z,F,L,G,Ke,!0))}),ge}function p(z,F,L,G,le,ge){var Ie,Oe,Ke;if(Ke=Object.getOwnPropertyDescriptor(F,le)||{value:F[le]},Ke.get?Ke.set?Oe=z.stylize("[Getter/Setter]","special"):Oe=z.stylize("[Getter]","special"):Ke.set&&(Oe=z.stylize("[Setter]","special")),K(G,le)||(Ie="["+le+"]"),Oe||(z.seen.indexOf(Ke.value)<0?(x(L)?Oe=d(z,Ke.value,null):Oe=d(z,Ke.value,L-1),Oe.indexOf(`
`)>-1&&(ge?Oe=Oe.split(`
`).map(function(De){return"  "+De}).join(`
`).substr(2):Oe=`
`+Oe.split(`
`).map(function(De){return"   "+De}).join(`
`))):Oe=z.stylize("[Circular]","special")),ie(Ie)){if(ge&&le.match(/^\d+$/))return Oe;Ie=JSON.stringify(""+le),Ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ie=Ie.substr(1,Ie.length-2),Ie=z.stylize(Ie,"name")):(Ie=Ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ie=z.stylize(Ie,"string"))}return Ie+": "+Oe}function E(z,F,L){var G=z.reduce(function(le,ge){return ge.indexOf(`
`)>=0,le+ge.replace(/\u001b\[\d\d?m/g,"").length+1},0);return G>60?L[0]+(F===""?"":F+`
 `)+" "+z.join(`,
  `)+" "+L[1]:L[0]+F+" "+z.join(", ")+" "+L[1]}function T(z){return Array.isArray(z)}v.isArray=T;function S(z){return typeof z=="boolean"}v.isBoolean=S;function x(z){return z===null}v.isNull=x;function w(z){return z==null}v.isNullOrUndefined=w;function I(z){return typeof z=="number"}v.isNumber=I;function D(z){return typeof z=="string"}v.isString=D;function V(z){return typeof z=="symbol"}v.isSymbol=V;function ie(z){return z===void 0}v.isUndefined=ie;function ee(z){return te(z)&&k(z)==="[object RegExp]"}v.isRegExp=ee;function te(z){return typeof z=="object"&&z!==null}v.isObject=te;function Y(z){return te(z)&&k(z)==="[object Date]"}v.isDate=Y;function W(z){return te(z)&&(k(z)==="[object Error]"||z instanceof Error)}v.isError=W;function j(z){return typeof z=="function"}v.isFunction=j;function O(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z>"u"}v.isPrimitive=O,v.isBuffer=e("./support/isBuffer");function k(z){return Object.prototype.toString.call(z)}function B(z){return z<10?"0"+z.toString(10):z.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $(){var z=new Date,F=[B(z.getHours()),B(z.getMinutes()),B(z.getSeconds())].join(":");return[z.getDate(),H[z.getMonth()],F].join(" ")}v.log=function(){console.log("%s - %s",$(),v.format.apply(v,arguments))},v.inherits=e("inherits"),v._extend=function(z,F){if(!F||!te(F))return z;for(var L=Object.keys(F),G=L.length;G--;)z[L[G]]=F[L[G]];return z};function K(z,F){return Object.prototype.hasOwnProperty.call(z,F)}}).call(this)}).call(this,e("_process"),typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),Object.defineProperty(v,"v1",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(v,"v3",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(v,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(v,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(v,"NIL",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(v,"version",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(v,"validate",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(v,"stringify",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(v,"parse",{enumerable:!0,get:function(){return l.default}});var f=d(e("./v1.js")),u=d(e("./v3.js")),c=d(e("./v4.js")),s=d(e("./v5.js")),t=d(e("./nil.js")),i=d(e("./version.js")),r=d(e("./validate.js")),n=d(e("./stringify.js")),l=d(e("./parse.js"));function d(o){return o&&o.__esModule?o:{default:o}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;function f(p){if(typeof p=="string"){const E=unescape(encodeURIComponent(p));p=new Uint8Array(E.length);for(let T=0;T<E.length;++T)p[T]=E.charCodeAt(T)}return u(s(t(p),p.length*8))}function u(p){const E=[],T=p.length*32,S="0123456789abcdef";for(let x=0;x<T;x+=8){const w=p[x>>5]>>>x%32&255,I=parseInt(S.charAt(w>>>4&15)+S.charAt(w&15),16);E.push(I)}return E}function c(p){return(p+64>>>9<<4)+14+1}function s(p,E){p[E>>5]|=128<<E%32,p[c(E)-1]=E;let T=1732584193,S=-271733879,x=-1732584194,w=271733878;for(let I=0;I<p.length;I+=16){const D=T,V=S,ie=x,ee=w;T=l(T,S,x,w,p[I],7,-680876936),w=l(w,T,S,x,p[I+1],12,-389564586),x=l(x,w,T,S,p[I+2],17,606105819),S=l(S,x,w,T,p[I+3],22,-1044525330),T=l(T,S,x,w,p[I+4],7,-176418897),w=l(w,T,S,x,p[I+5],12,1200080426),x=l(x,w,T,S,p[I+6],17,-1473231341),S=l(S,x,w,T,p[I+7],22,-45705983),T=l(T,S,x,w,p[I+8],7,1770035416),w=l(w,T,S,x,p[I+9],12,-1958414417),x=l(x,w,T,S,p[I+10],17,-42063),S=l(S,x,w,T,p[I+11],22,-1990404162),T=l(T,S,x,w,p[I+12],7,1804603682),w=l(w,T,S,x,p[I+13],12,-40341101),x=l(x,w,T,S,p[I+14],17,-1502002290),S=l(S,x,w,T,p[I+15],22,1236535329),T=d(T,S,x,w,p[I+1],5,-165796510),w=d(w,T,S,x,p[I+6],9,-1069501632),x=d(x,w,T,S,p[I+11],14,643717713),S=d(S,x,w,T,p[I],20,-373897302),T=d(T,S,x,w,p[I+5],5,-701558691),w=d(w,T,S,x,p[I+10],9,38016083),x=d(x,w,T,S,p[I+15],14,-660478335),S=d(S,x,w,T,p[I+4],20,-405537848),T=d(T,S,x,w,p[I+9],5,568446438),w=d(w,T,S,x,p[I+14],9,-1019803690),x=d(x,w,T,S,p[I+3],14,-187363961),S=d(S,x,w,T,p[I+8],20,1163531501),T=d(T,S,x,w,p[I+13],5,-1444681467),w=d(w,T,S,x,p[I+2],9,-51403784),x=d(x,w,T,S,p[I+7],14,1735328473),S=d(S,x,w,T,p[I+12],20,-1926607734),T=o(T,S,x,w,p[I+5],4,-378558),w=o(w,T,S,x,p[I+8],11,-2022574463),x=o(x,w,T,S,p[I+11],16,1839030562),S=o(S,x,w,T,p[I+14],23,-35309556),T=o(T,S,x,w,p[I+1],4,-1530992060),w=o(w,T,S,x,p[I+4],11,1272893353),x=o(x,w,T,S,p[I+7],16,-155497632),S=o(S,x,w,T,p[I+10],23,-1094730640),T=o(T,S,x,w,p[I+13],4,681279174),w=o(w,T,S,x,p[I],11,-358537222),x=o(x,w,T,S,p[I+3],16,-722521979),S=o(S,x,w,T,p[I+6],23,76029189),T=o(T,S,x,w,p[I+9],4,-640364487),w=o(w,T,S,x,p[I+12],11,-421815835),x=o(x,w,T,S,p[I+15],16,530742520),S=o(S,x,w,T,p[I+2],23,-995338651),T=g(T,S,x,w,p[I],6,-198630844),w=g(w,T,S,x,p[I+7],10,1126891415),x=g(x,w,T,S,p[I+14],15,-1416354905),S=g(S,x,w,T,p[I+5],21,-57434055),T=g(T,S,x,w,p[I+12],6,1700485571),w=g(w,T,S,x,p[I+3],10,-1894986606),x=g(x,w,T,S,p[I+10],15,-1051523),S=g(S,x,w,T,p[I+1],21,-2054922799),T=g(T,S,x,w,p[I+8],6,1873313359),w=g(w,T,S,x,p[I+15],10,-30611744),x=g(x,w,T,S,p[I+6],15,-1560198380),S=g(S,x,w,T,p[I+13],21,1309151649),T=g(T,S,x,w,p[I+4],6,-145523070),w=g(w,T,S,x,p[I+11],10,-1120210379),x=g(x,w,T,S,p[I+2],15,718787259),S=g(S,x,w,T,p[I+9],21,-343485551),T=i(T,D),S=i(S,V),x=i(x,ie),w=i(w,ee)}return[T,S,x,w]}function t(p){if(p.length===0)return[];const E=p.length*8,T=new Uint32Array(c(E));for(let S=0;S<E;S+=8)T[S>>5]|=(p[S/8]&255)<<S%32;return T}function i(p,E){const T=(p&65535)+(E&65535);return(p>>16)+(E>>16)+(T>>16)<<16|T&65535}function r(p,E){return p<<E|p>>>32-E}function n(p,E,T,S,x,w){return i(r(i(i(E,p),i(S,w)),x),T)}function l(p,E,T,S,x,w,I){return n(E&T|~E&S,p,E,x,w,I)}function d(p,E,T,S,x,w,I){return n(E&S|T&~S,p,E,x,w,I)}function o(p,E,T,S,x,w,I){return n(E^T^S,p,E,x,w,I)}function g(p,E,T,S,x,w,I){return n(T^(E|~S),p,E,x,w,I)}var y=f;v.default=y},{}],530:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f="00000000-0000-0000-0000-000000000000";v.default=f},{}],531:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=u(e("./validate.js"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(!(0,f.default)(t))throw TypeError("Invalid UUID");let i;const r=new Uint8Array(16);return r[0]=(i=parseInt(t.slice(0,8),16))>>>24,r[1]=i>>>16&255,r[2]=i>>>8&255,r[3]=i&255,r[4]=(i=parseInt(t.slice(9,13),16))>>>8,r[5]=i&255,r[6]=(i=parseInt(t.slice(14,18),16))>>>8,r[7]=i&255,r[8]=(i=parseInt(t.slice(19,23),16))>>>8,r[9]=i&255,r[10]=(i=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=i/4294967296&255,r[12]=i>>>24&255,r[13]=i>>>16&255,r[14]=i>>>8&255,r[15]=i&255,r}var s=c;v.default=s},{"./validate.js":541}],532:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;v.default=f},{}],533:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=c;let f;const u=new Uint8Array(16);function c(){if(!f&&(f=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(u)}},{}],534:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;function f(t,i,r,n){switch(t){case 0:return i&r^~i&n;case 1:return i^r^n;case 2:return i&r^i&n^r&n;case 3:return i^r^n}}function u(t,i){return t<<i|t>>>32-i}function c(t){const i=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let g=0;g<o.length;++g)t.push(o.charCodeAt(g))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,l=Math.ceil(n/16),d=new Array(l);for(let o=0;o<l;++o){const g=new Uint32Array(16);for(let y=0;y<16;++y)g[y]=t[o*64+y*4]<<24|t[o*64+y*4+1]<<16|t[o*64+y*4+2]<<8|t[o*64+y*4+3];d[o]=g}d[l-1][14]=(t.length-1)*8/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<l;++o){const g=new Uint32Array(80);for(let x=0;x<16;++x)g[x]=d[o][x];for(let x=16;x<80;++x)g[x]=u(g[x-3]^g[x-8]^g[x-14]^g[x-16],1);let y=r[0],p=r[1],E=r[2],T=r[3],S=r[4];for(let x=0;x<80;++x){const w=Math.floor(x/20),I=u(y,5)+f(w,p,E,T)+S+i[w]+g[x]>>>0;S=T,T=E,E=u(p,30)>>>0,p=y,y=I}r[0]=r[0]+y>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+E>>>0,r[3]=r[3]+T>>>0,r[4]=r[4]+S>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var s=c;v.default=s},{}],535:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=u(e("./validate.js"));function u(i){return i&&i.__esModule?i:{default:i}}const c=[];for(let i=0;i<256;++i)c.push((i+256).toString(16).substr(1));function s(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=(c[i[r+0]]+c[i[r+1]]+c[i[r+2]]+c[i[r+3]]+"-"+c[i[r+4]]+c[i[r+5]]+"-"+c[i[r+6]]+c[i[r+7]]+"-"+c[i[r+8]]+c[i[r+9]]+"-"+c[i[r+10]]+c[i[r+11]]+c[i[r+12]]+c[i[r+13]]+c[i[r+14]]+c[i[r+15]]).toLowerCase();if(!(0,f.default)(n))throw TypeError("Stringified UUID is invalid");return n}var t=s;v.default=t},{"./validate.js":541}],536:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=c(e("./rng.js")),u=c(e("./stringify.js"));function c(d){return d&&d.__esModule?d:{default:d}}let s,t,i=0,r=0;function n(d,o,g){let y=o&&g||0;const p=o||new Array(16);d=d||{};let E=d.node||s,T=d.clockseq!==void 0?d.clockseq:t;if(E==null||T==null){const V=d.random||(d.rng||f.default)();E==null&&(E=s=[V[0]|1,V[1],V[2],V[3],V[4],V[5]]),T==null&&(T=t=(V[6]<<8|V[7])&16383)}let S=d.msecs!==void 0?d.msecs:Date.now(),x=d.nsecs!==void 0?d.nsecs:r+1;const w=S-i+(x-r)/1e4;if(w<0&&d.clockseq===void 0&&(T=T+1&16383),(w<0||S>i)&&d.nsecs===void 0&&(x=0),x>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=S,r=x,t=T,S+=122192928e5;const I=((S&268435455)*1e4+x)%4294967296;p[y++]=I>>>24&255,p[y++]=I>>>16&255,p[y++]=I>>>8&255,p[y++]=I&255;const D=S/4294967296*1e4&268435455;p[y++]=D>>>8&255,p[y++]=D&255,p[y++]=D>>>24&15|16,p[y++]=D>>>16&255,p[y++]=T>>>8|128,p[y++]=T&255;for(let V=0;V<6;++V)p[y+V]=E[V];return o||(0,u.default)(p)}var l=n;v.default=l},{"./rng.js":533,"./stringify.js":535}],537:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=c(e("./v35.js")),u=c(e("./md5.js"));function c(i){return i&&i.__esModule?i:{default:i}}var t=(0,f.default)("v3",48,u.default);v.default=t},{"./md5.js":529,"./v35.js":538}],538:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=r,v.URL=v.DNS=void 0;var f=c(e("./stringify.js")),u=c(e("./parse.js"));function c(n){return n&&n.__esModule?n:{default:n}}function s(n){n=unescape(encodeURIComponent(n));const l=[];for(let d=0;d<n.length;++d)l.push(n.charCodeAt(d));return l}const t="6ba7b810-9dad-11d1-80b4-00c04fd430c8";v.DNS=t;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";v.URL=i;function r(n,l,d){function o(g,y,p,E){if(typeof g=="string"&&(g=s(g)),typeof y=="string"&&(y=(0,u.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let T=new Uint8Array(16+g.length);if(T.set(y),T.set(g,y.length),T=d(T),T[6]=T[6]&15|l,T[8]=T[8]&63|128,p){E=E||0;for(let S=0;S<16;++S)p[E+S]=T[S];return p}return(0,f.default)(T)}try{o.name=n}catch{}return o.DNS=t,o.URL=i,o}},{"./parse.js":531,"./stringify.js":535}],539:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=c(e("./rng.js")),u=c(e("./stringify.js"));function c(i){return i&&i.__esModule?i:{default:i}}function s(i,r,n){i=i||{};const l=i.random||(i.rng||f.default)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,r){n=n||0;for(let d=0;d<16;++d)r[n+d]=l[d];return r}return(0,u.default)(l)}var t=s;v.default=t},{"./rng.js":533,"./stringify.js":535}],540:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=c(e("./v35.js")),u=c(e("./sha1.js"));function c(i){return i&&i.__esModule?i:{default:i}}var t=(0,f.default)("v5",80,u.default);v.default=t},{"./sha1.js":534,"./v35.js":538}],541:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=u(e("./regex.js"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return typeof t=="string"&&f.default.test(t)}var s=c;v.default=s},{"./regex.js":532}],542:[function(e,m,v){Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var f=u(e("./validate.js"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(!(0,f.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var s=c;v.default=s},{"./validate.js":541}],543:[function(e,m,v){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(v,"__esModule",{value:!0}),v.CHAR=`	
\r -퟿-�𐀀-􏿿`,v.S=` 	\r
`,v.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",v.NAME_CHAR="-"+v.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",v.CHAR_RE=new RegExp("^["+v.CHAR+"]$","u"),v.S_RE=new RegExp("^["+v.S+"]+$","u"),v.NAME_START_CHAR_RE=new RegExp("^["+v.NAME_START_CHAR+"]$","u"),v.NAME_CHAR_RE=new RegExp("^["+v.NAME_CHAR+"]$","u"),v.NAME_RE=new RegExp("^["+v.NAME_START_CHAR+"]["+v.NAME_CHAR+"]*$","u"),v.NMTOKEN_RE=new RegExp("^["+v.NAME_CHAR+"]+$","u");var f=9,u=10,c=13,s=32;v.S_LIST=[s,u,c,f];function t(l){return l>=s&&l<=55295||l===u||l===c||l===f||l>=57344&&l<=65533||l>=65536&&l<=1114111}v.isChar=t;function i(l){return l===s||l===u||l===c||l===f}v.isS=i;function r(l){return l>=65&&l<=90||l>=97&&l<=122||l===58||l===95||l===8204||l===8205||l>=192&&l<=214||l>=216&&l<=246||l>=248&&l<=767||l>=880&&l<=893||l>=895&&l<=8191||l>=8304&&l<=8591||l>=11264&&l<=12271||l>=12289&&l<=55295||l>=63744&&l<=64975||l>=65008&&l<=65533||l>=65536&&l<=983039}v.isNameStartChar=r;function n(l){return r(l)||l>=48&&l<=57||l===45||l===46||l===183||l>=768&&l<=879||l>=8255&&l<=8256}v.isNameChar=n},{}],544:[function(e,m,v){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(v,"__esModule",{value:!0}),v.CHAR="-퟿-�𐀀-􏿿",v.RESTRICTED_CHAR="-\b\v\f---",v.S=` 	\r
`,v.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",v.NAME_CHAR="-"+v.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",v.CHAR_RE=new RegExp("^["+v.CHAR+"]$","u"),v.RESTRICTED_CHAR_RE=new RegExp("^["+v.RESTRICTED_CHAR+"]$","u"),v.S_RE=new RegExp("^["+v.S+"]+$","u"),v.NAME_START_CHAR_RE=new RegExp("^["+v.NAME_START_CHAR+"]$","u"),v.NAME_CHAR_RE=new RegExp("^["+v.NAME_CHAR+"]$","u"),v.NAME_RE=new RegExp("^["+v.NAME_START_CHAR+"]["+v.NAME_CHAR+"]*$","u"),v.NMTOKEN_RE=new RegExp("^["+v.NAME_CHAR+"]+$","u");var f=9,u=10,c=13,s=32;v.S_LIST=[s,u,c,f];function t(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111}v.isChar=t;function i(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159}v.isRestrictedChar=i;function r(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111}v.isCharAndNotRestricted=r;function n(o){return o===s||o===u||o===c||o===f}v.isS=n;function l(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}v.isNameStartChar=l;function d(o){return l(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}v.isNameChar=d},{}],545:[function(e,m,v){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(v,"__esModule",{value:!0}),v.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",v.NC_NAME_CHAR="-"+v.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",v.NC_NAME_START_CHAR_RE=new RegExp("^["+v.NC_NAME_START_CHAR+"]$","u"),v.NC_NAME_CHAR_RE=new RegExp("^["+v.NC_NAME_CHAR+"]$","u"),v.NC_NAME_RE=new RegExp("^["+v.NC_NAME_START_CHAR+"]["+v.NC_NAME_CHAR+"]*$","u");function f(c){return c>=65&&c<=90||c===95||c>=97&&c<=122||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8204&&c<=8205||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533||c>=65536&&c<=983039}v.isNCNameStartChar=f;function u(c){return f(c)||c===45||c===46||c>=48&&c<=57||c===183||c>=768&&c<=879||c>=8255&&c<=8256}v.isNCNameChar=u},{}]},{},[15])(15)})})(F1);var U1={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};j1(U1);function j1(re){var C={};for(var e in re)re.hasOwnProperty(e)&&(C[re[e]]=e);return C}var z1=Object.defineProperty,H1=(re,C,e)=>C in re?z1(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,dl=(re,C,e)=>(H1(re,typeof C!="symbol"?C+"":C,e),e);const Xu="NEW_LISTENER";class $1{constructor(){dl(this,"_events"),dl(this,"on",(C,e)=>{this._events[C]&&C!==Symbol.for(Xu)&&this.emit(Symbol.for(Xu),C);const m=this._events[C]||[];typeof e=="function"?m.push({name:C,callback:e}):m.push(e),this._events[C]=m}),dl(this,"emit",(C,...e)=>{(this._events[C]||[]).forEach(v=>{const{callback:f}=v;f(...e)})}),dl(this,"once",(C,e)=>{let m;if(typeof e=="function")m={name:C,callback:(...v)=>{e(...v),this.off(C,m)},initialCallback:e};else{const{callback:v}=e;m={name:C,callback:(...f)=>{v(...f),this.off(C,m)},initialCallback:v}}this.on(C,m)}),dl(this,"off",(C,e)=>{const v=(this._events[C]||[]).filter(f=>{if(typeof e=="function")return f.callback!==e&&f.initialCallback!==e;{const{callback:u}=e;return f.callback!==u&&f.initialCallback!==u}});this._events[C]=v}),this._events={}}}const W1=(re,C="text/xml")=>{if(window.DOMParser)return new window.DOMParser().parseFromString(re,C).documentElement;if(typeof window.ActiveXObject<"u"&&new window.ActiveXObject("Microsoft.XMLDOM")){const e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(re),e}};function V1(re,C,e,m,v){const f=C===void 0?void 0:C.key;return{sel:re,data:C,children:e,text:m,elm:v,key:f}}V1("",{},[],void 0,void 0);const X1=(re,C=300)=>{let e;return function(){const m=this,v=arguments;e||(e=setTimeout(()=>{e=null,re.apply(m,v)},C))}},Gu=()=>{if(typeof window<"u"){const re=navigator.userAgent.toLowerCase();return/ipad|ipod/.test(re)?"ipad":/android/.test(re)?"android":/iphone/.test(re)?"iphone":"pc"}return"pc"};function yh(re){return re<10?`0${re}`:re}const pl=re=>{const C=re.backingStorePixelRatio||re.webkitBackingStorePixelRatio||re.mozBackingStorePixelRatio||re.msBackingStorePixelRatio||re.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/C},fs=(re,C)=>{if(typeof document>"u")return;const e=re.classList;e.contains(C)||e.add(C)},sa=(re,C)=>{if(typeof document>"u")return;const e=re.classList;e.contains(C)&&e.remove(C)},wh=re=>{if(re===0)return"00:00";if(!re)return"";const C=Math.trunc(re/3600),e=Math.trunc(re%3600/60),m=yh(Math.trunc(re-C*3600-e*60));return C===0?`${yh(e)}:${m}`:`${yh(C)}:${yh(e)}:${m}`},$c=(re="")=>{if(re.length===0)return 0;if(re.endsWith("%")){const C=Number(re.replace("%",""));return C>1?C/100:C}else return Number(re)},_h=(re,C=0,e=1)=>Math.min(e,Math.max(C,re)),Ma=re=>{if(typeof document>"u")return;const C=document.createDocumentFragment();return re.forEach(e=>C.appendChild(e)),C},Td=new Array(128).fill(void 0);Td.push(void 0,null,!0,!1);Td.length;const G1=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&G1.decode();const Wc=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}};Wc.encodeInto;var K1=Object.defineProperty,Y1=(re,C,e)=>C in re?K1(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Z1=(re,C,e)=>(Y1(re,typeof C!="symbol"?C+"":C,e),e);const Oh=[!1,"false",null,void 0],us=re=>{const C=re.hasAttribute("disabled"),e=re.getAttribute("disabled");return!!(C&&!Oh.includes(e))},Q1=(re,C)=>{const e=re.querySelectorAll(`.${C}`);e.length>0&&e.forEach(m=>m.classList.remove(C))};function Bo(re){return class{constructor(e=re){Z1(this,"message"),this.message=e}}}var J1=Object.defineProperty,q1=(re,C,e)=>C in re?J1(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,ks=(re,C,e)=>(q1(re,typeof C!="symbol"?C+"":C,e),e);const ey=`:host{position:relative;display:inline-block;background-image:none;box-shadow:0 2px #00000004;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:manipulation;overflow:hidden;pointer-events:auto}:host .ran-btn{position:relative;display:inline-block;background-image:none;cursor:pointer;transition:all .3s cubic-bezier(.645,.045,.355,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:manipulation;background:#fff}:host,:host(:active),:host(:focus){outline:0}:host .ran-btn,:host(:active) .ran-btn,:host(:focus) .ran-btn{outline:0}:host(:not([disabled]):hover) .ran-btn-content{border-color:#1890ff;color:#1890ff}:host([type="primary"]) .ran-btn-content{border-color:#1890ff;background-color:#1890ff;color:#fff}:host([type="primary"]:not([disabled])) .ran-btn:after{background-image:radial-gradient(circle,#fff 10%,transparent 10.01%)}:host([type="primary"]:not([disabled]):hover) .ran-btn-content{background-color:#40a9ff;color:#fff}:host([type="warning"]) .ran-btn-content{border-color:#ff4d4f;background-color:#ff4d4f;color:#fff}:host([type="warning"]:not([disabled])) .ran-btn:after{background-image:radial-gradient(circle,#fff 10%,transparent 10.01%)}:host([type="warning"]:not([disabled]):hover) .ran-btn-content{border-color:#ff4d4f;background-color:#ff4d4f;color:#fff}:host([type="text"]) .ran-btn-content{border:none}:host([disabled]){cursor:not-allowed;pointer-events:all;opacity:.6}:host([disabled]) .ran-btn{cursor:not-allowed;pointer-events:all;opacity:.6}:host(:not([disabled]):active) .ran-btn:after{transform:translate(-50%,-50%) scale(0);opacity:.3;transition:0s}@media (min-width: 1024px){:host(:not([disabled],[effect])) .ran-btn:after{content:"";display:block;position:absolute;width:100%;height:100%;left:var(--ran-x, 0);top:var(--ran-y, 0);pointer-events:none;background-image:radial-gradient(circle,#1890ff 10%,transparent 10.01%);background-repeat:no-repeat;background-position:50%;transform:translate(-50%,-50%) scale(10);opacity:0;transition:transform .3s,opacity .8s}}:host .slot{display:block}.ran-btn-content{display:flex;justify-content:space-between;align-items:center;padding:4px 15px;border:1px solid transparent;border-radius:2px;border-color:#d9d9d9;color:#000000d9;line-height:22px;font-size:14px;font-weight:400;white-space:nowrap;text-align:center}.ran-btn-content .icon{margin-right:2px}
`;function ty(){if(typeof document<"u"&&!customElements.get("r-button")){class re extends HTMLElement{constructor(){super(),ks(this,"_btn"),ks(this,"_btnContent"),ks(this,"_iconElement"),ks(this,"_slot"),ks(this,"_shadowDom"),ks(this,"debounceTimeId"),ks(this,"setIcon",()=>{if(this.icon){const{width:v,height:f}=this._slot.getBoundingClientRect(),u=Math.min(v,f);this._iconElement?this._iconElement.setAttribute("name",this.icon):(this._iconElement=document.createElement("r-icon"),this._iconElement.setAttribute("name",this.icon),this._iconElement.setAttribute("color","currentColor"),this._iconElement.setAttribute("class","icon"),this._slot.insertAdjacentElement("beforebegin",this._iconElement)),this.iconSize?this._iconElement.setAttribute("size",this.iconSize):this._iconElement.setAttribute("size",`${u-5}`)}}),ks(this,"mousedown",v=>{if(Gu()==="pc"&&(!this.disabled||this.disabled==="false")){this.debounceMouseEvent();const{left:f,top:u}=this.getBoundingClientRect();this._btn.style.setProperty("--ran-x",v.clientX-f+"px"),this._btn.style.setProperty("--ran-y",v.clientY-u+"px")}}),ks(this,"mouseup",v=>{Gu()==="pc"&&(this.debounceTimeId||(this.debounceTimeId=setTimeout(()=>{this._btn.style.removeProperty("--ran-x"),this._btn.style.removeProperty("--ran-y"),this.debounceMouseEvent()},600)))}),ks(this,"debounceMouseEvent",()=>{clearTimeout(this.debounceTimeId),this.debounceTimeId=void 0}),this._slot=document.createElement("slot"),this._btnContent=document.createElement("div"),this._btn=document.createElement("div"),this._btn.setAttribute("class","ran-btn"),this._btn.setAttribute("part","ran-btn"),this._btnContent.setAttribute("class","ran-btn-content"),this._btnContent.setAttribute("part","ran-btn-content"),this._btnContent.appendChild(this._slot),this._slot.setAttribute("class","slot");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=ey,e.appendChild(m),this._shadowDom=e,this._btn.appendChild(this._btnContent),e.appendChild(this._btn)}static get observedAttributes(){return["disabled","icon","effect","iconSize","sheet"]}get sheet(){return this.getAttribute("sheet")}set sheet(e){this.setAttribute("sheet",e||"")}get disabled(){return us(this)}set disabled(e){!e||e==="false"?(this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")):(this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true"))}get iconSize(){return this.getAttribute("iconSize")}set iconSize(e){!e||e==="false"?this.removeAttribute("iconSize"):(this.setAttribute("iconSize",e),this.setIcon())}get icon(){return this.getAttribute("icon")}set icon(e){!e||e==="false"?this.removeAttribute("icon"):(this.setAttribute("icon",e),this.setIcon())}get effect(){return this.getAttribute("effect")}set effect(e){Oh.includes(e)||!e?this.removeAttribute("effect"):this.setAttribute("effect",e)}handlerExternalCss(){if(this.sheet)try{const e=new CSSStyleSheet;e.insertRule(this.sheet),this._shadowDom.adoptedStyleSheets=[e]}catch{console.error(`Failed to parse the rule in CSSStyleSheet: ${this.sheet}`)}}connectedCallback(){this._btn.addEventListener("mousedown",this.mousedown),this._btn.addEventListener("mouseup",this.mouseup),this.handlerExternalCss(),this.setIcon(),this.setAttribute("role","button"),this.setAttribute("tabindex","0")}disconnectCallback(){this._btn.removeEventListener("mousedown",this.mousedown),this._btn.removeEventListener("mouseup",this.mouseup)}attributeChangedCallback(e,m,v){e==="disabled"&&this._btnContent&&(!v||v==="false"?this._btnContent.setAttribute("disabled",""):this._btnContent.removeAttribute("disabled")),e==="icon"&&this._btnContent&&m!==v&&this.setIcon(),e==="iconSize"&&this._btnContent&&m!==v&&this._btnContent.setAttribute("iconSize",v),e==="sheet"&&this._shadowDom&&m!==v&&this.handlerExternalCss()}}return customElements.define("r-button",re),re}else return Bo("document is undefined or r-button is exist")}const ry=ty(),xw=Object.freeze(Object.defineProperty({__proto__:null,default:ry},Symbol.toStringTag,{value:"Module"}));var iy=Object.defineProperty,ny=(re,C,e)=>C in re?iy(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Pa=(re,C,e)=>(ny(re,typeof C!="symbol"?C+"":C,e),e);const sy=(re,C)=>{const e=re[C];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((m,v)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(v.bind(null,new Error("Unknown variable dynamic import: "+C)))})},ay=`:host{display:inline-flex}:host .ran-icon{display:flex}:host([spin]){animation-name:rotate;animation-duration:1.4s;animation-timing-function:linear;animation-iteration-count:infinite}@keyframes rotate{to{transform:rotate(360deg)}}
`,Ku="http://www.w3.org/1999/xlink",oy="xlink:href";function ly(){if(typeof window<"u"&&!customElements.get("r-icon")){class re extends HTMLElement{constructor(){super(),Pa(this,"_icon"),Pa(this,"_div"),Pa(this,"loadLocal",()=>new Promise((v,f)=>{sy(Object.assign({"../../assets/icons/add-user.svg":()=>ci(()=>import("./add-user-b2bed3e7.FMkqk9FF.js"),__vite__mapDeps([])),"../../assets/icons/arrow-down.svg":()=>ci(()=>import("./info-circle-fill-90ec9aa9.JT9N_7pF.js"),__vite__mapDeps([])).then(u=>u.a),"../../assets/icons/book.svg":()=>ci(()=>import("./book-b11a68eb.3e_mvP-o.js"),__vite__mapDeps([])),"../../assets/icons/check-circle-fill.svg":()=>ci(()=>import("./check-circle-fill-dc284144.A6JWdart.js"),__vite__mapDeps([])),"../../assets/icons/check-circle.svg":()=>ci(()=>import("./check-circle-74bd09c3.IoDo43IW.js"),__vite__mapDeps([])),"../../assets/icons/close-circle-fill.svg":()=>ci(()=>import("./close-circle-fill-238a66b1.mg8KQLDw.js"),__vite__mapDeps([])),"../../assets/icons/close-circle.svg":()=>ci(()=>import("./close-circle-720c18be.TY2B_EVS.js"),__vite__mapDeps([])),"../../assets/icons/close.svg":()=>ci(()=>import("./close-20925345.zA8rVUtZ.js"),__vite__mapDeps([])),"../../assets/icons/eye-close.svg":()=>ci(()=>import("./eye-close-3874f1ae.DMBVZnwX.js"),__vite__mapDeps([])),"../../assets/icons/eye.svg":()=>ci(()=>import("./eye-5e742329.lNUuj2m3.js"),__vite__mapDeps([])),"../../assets/icons/home.svg":()=>ci(()=>import("./home-c4a05e8b.z9wEg7_r.js"),__vite__mapDeps([])),"../../assets/icons/info-circle-fill.svg":()=>ci(()=>import("./info-circle-fill-90ec9aa9.JT9N_7pF.js"),__vite__mapDeps([])).then(u=>u.i),"../../assets/icons/info-circle.svg":()=>ci(()=>import("./info-circle-5826decc.fjFD_kYO.js"),__vite__mapDeps([])),"../../assets/icons/loading.svg":()=>ci(()=>import("./loading-09ca52df.BmSVMvC3.js"),__vite__mapDeps([])),"../../assets/icons/lock.svg":()=>ci(()=>import("./lock-1d2487c9.c16_nFvW.js"),__vite__mapDeps([])),"../../assets/icons/message.svg":()=>ci(()=>import("./message-b2bfdea7.s-ntd4ZQ.js"),__vite__mapDeps([])),"../../assets/icons/power-off.svg":()=>ci(()=>import("./power-off-6ade5a91.fri4usN3.js"),__vite__mapDeps([])),"../../assets/icons/preview.svg":()=>ci(()=>import("./preview-b291aea8.d6jwvVkX.js"),__vite__mapDeps([])),"../../assets/icons/setting.svg":()=>ci(()=>import("./setting-1e5ccb6d.aSLfbgJU.js"),__vite__mapDeps([])),"../../assets/icons/team.svg":()=>ci(()=>import("./team-ca6a12e1.sLlKWK_O.js"),__vite__mapDeps([])),"../../assets/icons/unlock.svg":()=>ci(()=>import("./unlock-f56086fd.fcCAdz-S.js"),__vite__mapDeps([])),"../../assets/icons/user.svg":()=>ci(()=>import("./user-5c01e665.cy6KPpvX.js"),__vite__mapDeps([])),"../../assets/icons/warning-circle-fill.svg":()=>ci(()=>import("./warning-circle-fill-d17c37c9.pPoOFY-E.js"),__vite__mapDeps([])),"../../assets/icons/warning-circle.svg":()=>ci(()=>import("./warning-circle-035e025c.RbLsbl-V.js"),__vite__mapDeps([]))}),`../../assets/icons/${this.name}.svg`).then(u=>{if(u&&u.default&&u.default._identification){const{data:c}=u.default;this._icon&&this._div.removeChild(this._icon),this._icon=W1(c,"image/svg+xml"),this._icon&&(this._div.appendChild(this._icon),this.setSize(),this.setColor(),v())}else this.loadNs(),f(`
 couldn't be loaded by r-icon, message: ${this.name} icon is undefined`)}).catch(u=>{this.loadNs()})})),Pa(this,"loadNs",()=>{this._icon&&this._div&&this._div.removeChild(this._icon),this._icon=document.createElement("svg"),this._icon.setAttribute("class","icon"),this._icon.setAttribute("viewBox","0 0 1024 1024"),this._icon.setAttribute("width","100"),this._icon.setAttribute("height","100");const v=document.createElementNS(Ku,"use");v.setAttributeNS(Ku,oy,`../../assets/iconfont/icon.svg#icon-${this.name}`),this._icon.appendChild(v),this._div.appendChild(this._icon)}),Pa(this,"setIcon",async()=>{this.name&&this.loadLocal()}),Pa(this,"setSize",()=>{this._icon&&this.size&&(this._icon.setAttribute("width",this.size),this._icon.setAttribute("height",this.size))}),Pa(this,"setColor",()=>{this._icon&&(this.color?this._icon.setAttribute("fill",this.color):this._icon.setAttribute("fill","currentColor"))}),Pa(this,"setSpin",()=>{this.spin&&this.style.setProperty("animation-duration",`${this.spin}s`)}),this._div=document.createElement("div"),this._div.setAttribute("class","ran-icon");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=ay,e.appendChild(m),e.appendChild(this._div)}static get observedAttributes(){return["name","size","color","spin"]}get name(){return this.getAttribute("name")}set name(e){e&&this.setAttribute("name",e)}get size(){return this.getAttribute("size")}set size(e){e&&this.setAttribute("size",e)}get color(){return this.getAttribute("color")}set color(e){e&&this.setAttribute("color",e)}get spin(){return this.getAttribute("spin")}set spin(e){e!=null&&this.setAttribute("spin",e)}connectedCallback(){this.setIcon()}attributeChangedCallback(e,m,v){v!==m&&(e==="name"&&this.setIcon(),e==="size"&&this.setSize(),e==="color"&&this.setColor(),e==="spin"&&this.setSpin())}}customElements.define("r-icon",re)}}const hy=ly(),Aw=Object.freeze(Object.defineProperty({__proto__:null,default:hy},Symbol.toStringTag,{value:"Module"}));var cy=Object.defineProperty,fy=(re,C,e)=>C in re?cy(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Yu=(re,C,e)=>(fy(re,typeof C!="symbol"?C+"":C,e),e);const uy="",dy=`
    data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==
`;function py(){if(typeof window<"u"&&!customElements.get("r-img")){class re extends HTMLElement{constructor(){super(),Yu(this,"_image"),Yu(this,"_container"),this._container=document.createElement("div"),this._container.setAttribute("class","ran-image");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=uy,e.appendChild(m),e.appendChild(this._container)}static get observedAttributes(){return["fallback"]}get fallback(){return this.getAttribute("fallback")||dy}set fallback(e){e?this.setAttribute("fallback",e):this.removeAttribute("fallback")}listenFallback(e,m){e==="fallback"&&this._image&&(m?this._image.setAttribute("fallback",m):this._image.removeAttribute("fallback"))}connectedCallback(){const e=this.getAttribute("src")||"";this._image=new Image,this._image.src=e,this._image.addEventListener("error",()=>{this._image&&this.fallback&&(this._image.src=this.fallback)}),this._image.addEventListener("load",()=>{this._image&&this._container.appendChild(this._image)})}attributeChangedCallback(e,m,v){this.listenFallback(e,v)}}customElements.define("r-img",re)}}const my=py(),Cw=Object.freeze(Object.defineProperty({__proto__:null,default:my},Symbol.toStringTag,{value:"Module"}));var gy=Object.defineProperty,vy=(re,C,e)=>C in re?gy(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,ro=(re,C,e)=>(vy(re,typeof C!="symbol"?C+"":C,e),e);const by=`.ran-input{position:relative;display:flex;width:calc(100% - 16px);height:calc(100% - 4px);min-width:0;padding:2px 8px;color:#000000d9;font-size:12px;line-height:1.5715;background-color:#fff;background-image:none;border-width:1px;border-style:solid;border-color:#d9d9d9;border-radius:2px;transition:all .3s}.ran-input:active{border-color:#40a9ff;box-shadow:0 0 0 2px #1890ff33;border-right-width:1px;outline:0}.ran-input:hover{border-color:#40a9ff;border-right-width:1px}.ran-input>.ran-input-content:hover~.ran-input-label{color:#40a9ff}.ran-input[value]>.ran-input-label{transform:translateY(calc(-50% - .43em)) scale(.8);color:#00000040}.ran-input[status=error]{border-color:#ff4d4f}.ran-input[status=error]>.ran-input-content~.ran-input-label{color:#ff4d4f}.ran-input[status=warning]{border-color:#ff7875}.ran-input[status=warning]>.ran-input-content~.ran-input-label{color:#ff7875}.ran-input[disabled]{color:#00000040;background-color:#f5f5f5;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed;opacity:1}.ran-input[disabled]>.ran-input-content{color:#00000040;background-color:#f5f5f5;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed;opacity:1}.ran-input[disabled]>.ran-input-content~.ran-input-label{color:#00000040;background-color:#f5f5f5}.ran-input[disabled]>.ran-input-label{color:#999;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed}.ran-input-content{writing-mode:horizontal-tb;text-rendering:auto;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0px;text-shadow:none;text-align:start;-webkit-rtl-ordering:logical;cursor:text;touch-action:manipulation;-webkit-appearance:none;text-overflow:ellipsis;box-sizing:border-box;margin:0;font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";position:relative;border:none;width:100%;min-width:0;color:#000000d9;font-size:14px;line-height:1.48;background-color:#fff;background-image:none;transition:all .3s;outline:none}.ran-input-content:focus,.ran-input-content:hover{border:none;outline:0}.ran-input-content::placeholder{color:#999}.ran-input-content:placeholder-shown~.ran-input-label{transform:translateY(calc(-50% - .43em)) scale(.8)}.ran-input-content:focus~.ran-input-label{transform:translateY(calc(-50% - .43em)) scale(.8)}.ran-input-content::-webkit-search-cancel-button{display:none;-webkit-appearance:none}.ran-input-label{pointer-events:none;position:absolute;font-size:14px;left:8px;transition:transform .3s,color .3s,background-color .3s,backdrop-filter .3s;transform-origin:left;padding:0 .2em;color:#999;background:#fff;opacity:.9}
`;function yy(){if(typeof window<"u"&&!customElements.get("r-input")){class re extends HTMLElement{constructor(){super(),ro(this,"_input"),ro(this,"_label"),ro(this,"_inputContent"),ro(this,"_icon"),ro(this,"customInput",v=>{v.stopPropagation();const f=v.target;this.value=f?f.value:"",this.customChange(),this.dispatchEvent(new CustomEvent("input",{detail:{value:this.value}}))}),ro(this,"customChange",()=>{this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))}),ro(this,"dealIcon",()=>{if(!this._icon){this._icon=document.createElement("r-icon");const{width:v,height:f}=this._inputContent.getBoundingClientRect(),u=Math.min(v,f);this._icon.setAttribute("size",`${u}`),this._inputContent.insertAdjacentElement("beforebegin",this._icon)}this.icon&&this._icon.setAttribute("name",this.icon)});const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=by,e.appendChild(m),this._input=document.createElement("div"),this._input.setAttribute("class","ran-input"),this._input.setAttribute("part","ran-input"),this._inputContent=document.createElement("input"),this._inputContent.setAttribute("class","ran-input-content"),this._inputContent.setAttribute("part","ran-input-content"),this._input.appendChild(this._inputContent),e.appendChild(this._input)}static get observedAttributes(){return["label","disabled","name","placeholder","type","icon","status"]}get value(){return this.getAttribute("value")}set value(e){!us(this)&&e?(this.setAttribute("value",e),this._input.setAttribute("value",e)):(this.removeAttribute("value"),this._input.removeAttribute("value"))}get placeholder(){return this.getAttribute("placeholder")}set placeholder(e){e?this.setAttribute("placeholder",e):this.removeAttribute("placeholder")}get required(){return this.getAttribute("required")}set required(e){!e||e==="false"?this.removeAttribute("required"):this.setAttribute("required","")}get disabled(){return us(this)}set disabled(e){Oh.includes(e)?(this.removeAttribute("disabled"),this._input.removeAttribute("disabled"),this._inputContent.removeAttribute("disabled")):(this.setAttribute("disabled",""),this._input.setAttribute("disabled",""),this._inputContent.setAttribute("disabled",""))}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get status(){return this.getAttribute("status")||""}set status(e){e?(this.setAttribute("status",e),this._input.setAttribute("status",e)):(this.removeAttribute("status"),this._input.removeAttribute("status"))}get name(){return this.getAttribute("name")||""}set name(e){this.setAttribute("name",e)}get min(){return this.getAttribute("min")||""}set min(e){this.type==="number"&&this.setAttribute("min",e)}get max(){return this.getAttribute("max")||""}set max(e){this.type==="number"&&this.setAttribute("max",e)}get step(){return this.getAttribute("step")||""}set step(e){this.type==="number"&&this.setAttribute("step",e)}get icon(){return this.getAttribute("icon")}set icon(e){e?this.setAttribute("icon",e):this.removeAttribute("icon")}get type(){return this.getAttribute("type")}set type(e){e?this.setAttribute("type",e):this.removeAttribute("type")}listenPlaceholder(e,m){e==="placeholder"&&this._inputContent&&(m!=null?this._inputContent.setAttribute("placeholder",m):this._inputContent.removeAttribute("placeholder"))}listenLabel(e,m){e==="label"&&this._inputContent&&(m!=null?this._label?this._label.innerHTML=m:(this._label=document.createElement("label"),this._label.innerHTML=m,this._label.setAttribute("class","ran-input-label"),this._label.setAttribute("part","ran-input-label"),this._input.appendChild(this._label)):(this._input.removeAttribute("label"),this._label&&(this._input.removeChild(this._label),this._label=void 0)))}listenType(e,m){e==="type"&&this._inputContent&&(m?this._inputContent.setAttribute("type",m):(this._inputContent.removeAttribute("type"),this._inputContent.removeAttribute("min"),this._inputContent.removeAttribute("max"),this._inputContent.removeAttribute("step")))}listenStatus(e,m){e==="status"&&this._input&&(m?this._input.setAttribute("status",m):this._input.removeAttribute("status"))}listenDisabled(e,m){e==="disabled"&&this._input&&(Oh.includes(m)?this._input.removeAttribute("disabled"):(this._input.setAttribute("disabled",""),this._inputContent.setAttribute("disabled","")))}listenIcon(e,m,v){e==="icon"&&m&&m!==v&&(this.removeAttribute("label"),this.setAttribute("icon",m),this.dealIcon())}listenEvent(e,m,v){this.listenPlaceholder(e,v),this.listenLabel(e,v),this.listenStatus(e,v),this.listenDisabled(e,v),this.listenIcon(e,v,m)}connectedCallback(){this.value&&(this._inputContent.value=this.value,this._input.setAttribute("value",this.value)),this.status&&this._input.setAttribute("status",this.status),us(this)&&(this._input.setAttribute("disabled",""),this._inputContent.setAttribute("disabled","")),this.type&&this._inputContent.setAttribute("type",this.type),this._inputContent.addEventListener("input",this.customInput),document.readyState==="complete"&&this.dealIcon()}disconnectCallback(){this._inputContent.removeEventListener("input",this.customInput)}attributeChangedCallback(e,m,v){this.listenEvent(e,m,v)}}return customElements.define("r-input",re),re}else return Bo("document is undefined or r-input is exist")}const wy=yy(),kw=Object.freeze(Object.defineProperty({__proto__:null,default:wy},Symbol.toStringTag,{value:"Module"}));var _y=Object.defineProperty,Ey=(re,C,e)=>C in re?_y(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Da=(re,C,e)=>(Ey(re,typeof C!="symbol"?C+"":C,e),e);const Ty=`:host([type="toast"]){--ranui-message-background: rgba(0, 0, 0, .7);--ranui-message-color: #fff;--ranui-message-border-radius: 7px}.ran-message-notice{padding:8px;text-align:center;max-width:90%;margin:0 auto;word-break:break-all}.ran-message-notice-content{display:inline-block;padding:10px 16px;background:var(--ranui-message-background, #fff);border-radius:var(--ranui-message-border-radius, 8px);box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;pointer-events:all}.ran-message-notice-content-info{align-items:center;display:flex}.ran-message-notice-content-info span{margin:0;padding:0;color:var(--ranui-message-color, #000000d9);font-size:14px;font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";z-index:1010;width:100%;pointer-events:none}@keyframes MessageMoveIn{0%{padding:0;transform:translateY(-100%);opacity:0}to{padding:8px;transform:translateY(0);opacity:1}}@keyframes MessageMoveOut{0%{max-height:150px;padding:8px;opacity:1}to{max-height:0;padding:0;opacity:0}}.ranui-message{box-sizing:border-box;margin:0;padding:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";position:fixed;top:8px;left:0;z-index:1010;width:100%;pointer-events:none}.ranui-message .message-in{animation-name:MessageMoveIn;animation-duration:.3s;animation-timing-function:cubic-bezier(.78,.14,.15,.86)}.ranui-message .message-leave{animation-name:MessageMoveOut;animation-duration:.3s;animation-timing-function:cubic-bezier(.78,.14,.15,.86)}
`,Zu=300,Qu=3e3,Sy=new Map([["success","check-circle-fill"],["warning","warning-circle-fill"],["error","close-circle-fill"],["info","info-circle-fill"],["toast",null]]),xy=new Map([["success","#52c41a"],["warning","#faad14"],["error","#ff4d4f"],["info","#1890ff"],["toast","rgba(0, 0, 0, 0.7)"]]);function Ay(){if(typeof window<"u"&&!customElements.get("r-message")){class re extends HTMLElement{constructor(){super(),Da(this,"_info"),Da(this,"_notice"),Da(this,"_content"),Da(this,"_icon"),Da(this,"_span"),Da(this,"timeId"),Da(this,"close"),Da(this,"setIcon",c=>{var s,t,i,r;const n=Sy.get(c),l=xy.get(c);n&&((s=this._icon)==null||s.setAttribute("name",n),(t=this._icon)==null||t.style.setProperty("margin-right","8px"),(i=this._icon)==null||i.setAttribute("size","18"),l&&((r=this._icon)==null||r.setAttribute("color",l)))}),this._notice=document.createElement("div"),this._notice.setAttribute("class","ran-message-notice"),this._content=document.createElement("div"),this._content.setAttribute("class","ran-message-notice-content"),this._info=document.createElement("div"),this._info.setAttribute("class","ran-message-notice-content-info"),this._icon=document.createElement("r-icon"),this._span=document.createElement("span"),this._info.appendChild(this._icon),this._info.appendChild(this._span),this._content.appendChild(this._info),this._notice.appendChild(this._content);const f=this.attachShadow({mode:"closed"}),u=document.createElement("style");u.textContent=Ty,f.appendChild(u),f.appendChild(this._notice)}static get observedAttributes(){return["type","content"]}get type(){return this.getAttribute("type")}set type(f){f&&this.setAttribute("type",f)}get content(){return this.getAttribute("content")}set content(f){f&&this.setAttribute("content",f)}attributeChangedCallback(f,u,c){f==="content"&&u!==c&&(this._span.textContent=c),f==="type"&&u!==c&&this.setIcon(c)}}customElements.define("r-message",re);const C=document.createElement("div"),e=document.createElement("div");e.setAttribute("class","ranui-message"),document.body.appendChild(C),C.appendChild(e);const m=v=>f=>{const u=new re;u.setAttribute("class","message"),u.timeId&&clearTimeout(u.timeId),u.setAttribute("type",v);let c=Qu,s;if(!f)return;typeof f=="string"?u.setAttribute("content",f):(u.setAttribute("content",f.content),s=f.close,c=f.duration||Qu);const t=setTimeout(()=>{u.classList.remove("message-in"),u.classList.add("message-leave"),clearTimeout(t)},c-Zu);u.timeId=setTimeout(()=>{u.classList.remove("message-leave"),e.removeChild(u),s&&s()},c),e.appendChild(u),u.classList.add("message-in"),setTimeout(()=>{u.classList.remove("message-in")},Zu)};return{info:m("info"),success:m("success"),error:m("error"),warning:m("warning"),toast:m("toast")}}return{}}const Ch=Ay();typeof window<"u"&&Ch&&(window.message=Ch,window.ranui||(window.ranui={}),window.ranui.message=Ch);const Rw=Object.freeze(Object.defineProperty({__proto__:null,default:Ch},Symbol.toStringTag,{value:"Module"}));var Cy=Object.defineProperty,ky=(re,C,e)=>C in re?Cy(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Ry=(re,C,e)=>(ky(re,typeof C!="symbol"?C+"":C,e),e);const Iy=`@keyframes skeleton{0%{transform:translate(-37.5%)}to{transform:translate(37.5%)}}.ran-skeleton{position:relative;z-index:0;overflow:hidden;background:0 0;width:100%;height:16px;background:rgba(0,0,0,.06);border-radius:4px}.ran-skeleton:after{position:absolute;top:0;inset-inline-end:-150%;bottom:0;inset-inline-start:-150%;background:linear-gradient(90deg,rgba(0,0,0,.06) 25%,rgba(0,0,0,.15) 37%,rgba(0,0,0,.06) 63%);animation-name:skeleton;animation-duration:1.4s;animation-timing-function:ease;animation-iteration-count:infinite;content:""}
`;function My(){if(typeof window<"u"&&!customElements.get("r-skeleton")){class re extends HTMLElement{constructor(){super(),Ry(this,"_div"),this._div=document.createElement("div"),this._div.setAttribute("class","ran-skeleton");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=Iy,e.appendChild(m),e.appendChild(this._div)}static get observedAttributes(){return["disabled"]}connectedCallback(){}disconnectCallback(){}attributeChangedCallback(e,m,v){}}window.customElements.define("r-skeleton",re)}}const Py=My(),Iw=Object.freeze(Object.defineProperty({__proto__:null,default:Py},Symbol.toStringTag,{value:"Module"}));var Dy=Object.defineProperty,Ly=(re,C,e)=>C in re?Dy(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Vc=(re,C,e)=>(Ly(re,typeof C!="symbol"?C+"":C,e),e);const Oy="";function Ny(){if(typeof window<"u"&&!customElements.get("r-tab")){class re extends HTMLElement{constructor(){super(),Vc(this,"_div"),Vc(this,"parent"),Vc(this,"initAttribute",()=>{var v,f,u;this.parent=this.parentNode,this.key&&((v=this.parent)==null||v.updateAttribute(this.key,"icon",this.icon)),this.key&&((f=this.parent)==null||f.updateAttribute(this.key,"iconSize",this.iconSize)),this.key&&((u=this.parent)==null||u.updateAttribute(this.key,"effect",this.effect))}),this._div=document.createElement("slot");const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=Oy,e.appendChild(m),e.appendChild(this._div)}static get observedAttributes(){return["label","key","disabled","icon","effect","iconSize"]}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get icon(){return this.getAttribute("icon")}set icon(e){!e||e==="false"?this.removeAttribute("icon"):this.setAttribute("icon",e)}get iconSize(){return this.getAttribute("iconSize")}set iconSize(e){!e||e==="false"?this.removeAttribute("iconSize"):this.setAttribute("iconSize",e)}get key(){return this.getAttribute("r-key")}set key(e){e?this.setAttribute("r-key",e):this.removeAttribute("r-key")}get disabled(){return this.getAttribute("disabled")}set disabled(e){!e||e==="false"?this.removeAttribute("disabled"):this.setAttribute("disabled",e)}get effect(){return this.getAttribute("effect")}set effect(e){!e||e==="false"?this.removeAttribute("effect"):this.setAttribute("effect",e)}onClick(e){}connectedCallback(){this._div.addEventListener("click",this.onClick),document.addEventListener("DOMContentLoaded",this.initAttribute)}disconnectCallback(){document.removeEventListener("DOMContentLoaded",this.initAttribute)}attributeChangedCallback(e,m,v){var f,u,c,s,t;m!==v&&this.key&&((f=this.parent)!=null&&f.updateAttribute)&&(e==="icon"&&((u=this.parent)==null||u.updateAttribute(this.key,"icon",v)),e==="iconSize"&&((c=this.parent)==null||c.updateAttribute(this.key,"iconSize",v)),e==="effect"&&((s=this.parent)==null||s.updateAttribute(this.key,"effect",v)),e==="disabled"&&((t=this.parent)==null||t.updateAttribute(this.key,"disabled",v)))}}return customElements.define("r-tab",re),re}}const By=Ny(),Mw=Object.freeze(Object.defineProperty({__proto__:null,default:By},Symbol.toStringTag,{value:"Module"}));var Fy=Object.defineProperty,Uy=(re,C,e)=>C in re?Fy(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Ui=(re,C,e)=>(Uy(re,typeof C!="symbol"?C+"":C,e),e);const jy=`.ran-tab ::slotted(r-tab){box-sizing:border-box;width:100%;height:100%;padding:10px;flex-shrink:0;overflow:auto;text-align:start}.ran-tab-header{position:relative;overflow:hidden;scroll-behavior:smooth}.ran-tab-header-nav{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:center}.ran-tab-header-nav::-webkit-scrollbar{display:none}.ran-tab-header-nav-item{flex-shrink:0}.ran-tab-header-nav .active{color:var(--active-color, #1890ff)}.ran-tab-header-line{position:absolute;width:0;margin-top:-2px;height:2px;border-radius:2px;background:var(--line-color, #1890ff);transition:.2s}.ran-tab-content{overflow:hidden}.ran-tab-content-wrap{display:flex;width:100%;height:100%;transition:.2s}:host([type="line"]) .ran-tab-header-nav-item{border:solid 1px transparent}:host([type="line"]) .ran-tab-header-nav .active{color:var(--line-color, #1890ff);border:solid 1px transparent;border-color:var(--border-color, rgba(0, 0, 0, .2)) var(--border-color, rgba(0, 0, 0, .2)) transparent;border-radius:var(--border-radius, .25em) var(--border-radius, .25em) 0 0}:host([type="line"]) .ran-tab-header-line{transition:none;visibility:hidden}:host([type="line"]) .ran-tab-header-line:after,:host([type="line"]) .ran-tab-header-line:before{content:"";position:absolute;visibility:visible;width:9999px;height:1px;bottom:0;background:var(--border-color, rgba(0, 0, 0, .2))}:host([type="line"]) .ran-tab-header-line:after{left:100%}:host([type="line"]) .ran-tab-header-line:before{right:100%}:host([align="center"]) .ran-tab-header-nav{justify-content:center}:host([align="center"]) .ran-tab-header-line{left:50%}:host([align="end"]) .ran-tab-header-nav{justify-content:flex-end}
`;function zy(){if(typeof window<"u"&&!customElements.get("r-tabs")){class re extends HTMLElement{constructor(){super(),Ui(this,"_container"),Ui(this,"_header"),Ui(this,"_nav"),Ui(this,"_line"),Ui(this,"_content"),Ui(this,"_wrap"),Ui(this,"_slot"),Ui(this,"tabHeaderKeyMapIndex"),Ui(this,"initTabHeaderKeyMapIndex",(v,f)=>{if(this.tabHeaderKeyMapIndex[v])throw new Error("tab 组件的 key 值存在重复, 或者某个 tab 组件缺少 key 属性");this.tabHeaderKeyMapIndex[v]=f}),Ui(this,"initTabLineAlignCenter",()=>{const{length:v}=this._nav.children;let f=0;for(let u=0;u<v;u++){const{width:c=0}=this._nav.children[u].getBoundingClientRect();f+=c}this._line.style.setProperty("left",`calc(50% - ${f/2}px)`)}),Ui(this,"initTabLineAlignEnd",()=>{const{length:v}=this._nav.children;let f=0;for(let u=0;u<v;u++){const{width:c=0}=this._nav.children[u].getBoundingClientRect();f+=c}this._line.style.setProperty("left",`calc(100% - ${f}px)`)}),Ui(this,"setTabLine",v=>{if(v){const f=this.tabHeaderKeyMapIndex[v],u=this._nav.children[f],{width:c=0}=u.getBoundingClientRect();this._line.style.setProperty("width",`${c}px`);let s=0;for(let t=0;t<f;t++){const i=this._nav.children[t],{width:r=0}=i.getBoundingClientRect();s+=r}this._line.style.setProperty("transform",`translateX(${s}px)`)}}),Ui(this,"setTabContent",v=>{if(v){const f=this.tabHeaderKeyMapIndex[v];this._wrap.style.setProperty("transform",`translateX(${f*-100}%)`)}}),Ui(this,"clickTabHead",v=>{const f=v.target,u=f.getAttribute("r-key");!us(f)&&u&&(this.setAttribute("active",u),this.setTabLine(u),this.setTabContent(u),Q1(this._nav,"active"),fs(f,"active"))}),Ui(this,"updateAttribute",(v,f,u="")=>{var c,s;const t=this.tabHeaderKeyMapIndex[v];v&&u&&this._nav.children[t]?(c=this._nav.children[t])==null||c.setAttribute(f,u):(s=this._nav.children[t])==null||s.removeAttribute(f)}),Ui(this,"initActive",()=>{const v=[...this._nav.children],f=v.filter(t=>!us(t));let u;if(this.active!=null&&(u=f.find(t=>t.getAttribute("r-key")===this.active),u==null||u.setAttribute("r-key",this.active)),u||(u=f.shift()),!u)return;const c=v.findIndex(t=>t===u),s=(u==null?void 0:u.getAttribute("r-key"))||`${c}`;s!=null&&(this.setAttribute("active",`${s}`),fs(u,"active"),this.setTabContent(s),setTimeout(()=>{this.setTabLine(s)},200))}),Ui(this,"listenSlotChange",()=>{this._slot.assignedElements().forEach((f,u)=>{const c=this.createTabHeader(f,u);this._nav.appendChild(c),c.addEventListener("click",this.clickTabHead)}),this.initActive(),this.align&&(this.align==="center"&&this.initTabLineAlignCenter(),this.align==="end"&&this.initTabLineAlignEnd())}),Ui(this,"initTab",()=>{this._slot.addEventListener("slotchange",this.listenSlotChange)}),Ui(this,"unloadTab",()=>{this._slot.removeEventListener("slotchange",this.listenSlotChange)}),this._container=document.createElement("div"),this._container.setAttribute("class","ran-tab"),this._header=document.createElement("div"),this._header.setAttribute("class","ran-tab-header"),this._nav=document.createElement("div"),this._nav.setAttribute("class","ran-tab-header-nav"),this._line=document.createElement("div"),this._line.setAttribute("class","ran-tab-header-line"),this._content=document.createElement("div"),this._content.setAttribute("class","ran-tab-content"),this._wrap=document.createElement("div"),this._wrap.setAttribute("class","ran-tab-content-wrap"),this._slot=document.createElement("slot"),this._wrap.appendChild(this._slot),this._content.appendChild(this._wrap),this._header.appendChild(this._nav),this._header.appendChild(this._line),this._container.appendChild(this._header),this._container.appendChild(this._content),this.tabHeaderKeyMapIndex={};const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=jy,e.appendChild(m),e.appendChild(this._container)}static get observedAttributes(){return["active","forceRender","type","align","effect"]}get align(){return this.getAttribute("align")||"start"}set align(e){this.setAttribute("align",e)}set type(e){this.setAttribute("type",e)}get type(){return this.getAttribute("type")||"flat"}get active(){return this.getAttribute("active")}set active(e){e?(this.setAttribute("active",e),this.setTabLine(e),this.setTabContent(e)):this.removeAttribute("active")}get effect(){return this.getAttribute("effect")}set effect(e){!e||e==="false"?this.removeAttribute("effect"):this.setAttribute("effect",e)}createTabHeader(e,m){const v=e.getAttribute("label")||"",f=e.getAttribute("icon")||"",u=e.getAttribute("iconSize")||"",c=e.getAttribute("r-key")||`${m}`,s=e.getAttribute("type")||"text";this.initTabHeaderKeyMapIndex(c,m);const t=document.createElement("r-button");return t.setAttribute("class","tab-header-nav-item"),t.setAttribute("type",s),f&&t.setAttribute("icon",f),u&&t.setAttribute("iconSize",u),us(e)&&t.setAttribute("disabled",""),t.setAttribute("r-key",c),this.effect&&(e.setAttribute("effect",this.effect),this._line.style.setProperty("display","none")),e.setAttribute("r-key",c),t.innerHTML=v,t}connectedCallback(){this.initTab()}disconnectCallback(){this.unloadTab()}attributeChangedCallback(e,m,v){m!==v&&(this.dispatchEvent(new CustomEvent("change",{detail:{active:this.active}})),e==="align"&&(v==="center"&&this.initTabLineAlignCenter(),v==="end"&&this.initTabLineAlignEnd()),e==="effect"&&[...this._nav.children].forEach(u=>{!this.effect||this.effect==="false"?u.removeAttribute("effect"):u.setAttribute("effect",v)}),e==="active"&&this.setAttribute(e,v))}}return customElements.define("r-tabs",re),re}}const Hy=zy(),Pw=Object.freeze(Object.defineProperty({__proto__:null,default:Hy},Symbol.toStringTag,{value:"Module"}));var $y=Object.defineProperty,Wy=(re,C,e)=>C in re?$y(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Rs=(re,C,e)=>(Wy(re,typeof C!="symbol"?C+"":C,e),e);const Vy=`.ran-radar{position:relative;width:100%;height:100%;display:block}
`,Xy="rgba(0,0,0,0)",Gy="rgba(0,0,0,1)",Ju="#e6e6e6",qu="#e6e6e6",Ky="黑体",ed="rgba(255,121,35,0.60)",td="rgba(255,121,35,0.60)";function Yy(){if(typeof document<"u"&&!customElements.get("r-radar")){class re extends HTMLElement{constructor(){super(),Rs(this,"mData"),Rs(this,"mCount"),Rs(this,"mW"),Rs(this,"mCenter"),Rs(this,"mRadius"),Rs(this,"mAngle"),Rs(this,"abilityRadarChartContainer"),Rs(this,"abilityRadarChart"),Rs(this,"_iconElement"),Rs(this,"_shadowDom"),this.abilityRadarChartContainer=document.createElement("div"),this.abilityRadarChartContainer.setAttribute("class","ran-radar"),this.abilityRadarChart=document.createElement("canvas"),this.abilityRadarChart.style.setProperty("width","100%"),this.abilityRadarChart.style.setProperty("height","100%"),this.abilityRadarChartContainer.appendChild(this.abilityRadarChart);const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=Vy,e.appendChild(m),this._shadowDom=e,e.appendChild(this.abilityRadarChartContainer)}static get observedAttributes(){return["abilitys","colorPolygon","colorLine","fillColor","strokeColor"]}get abilitys(){const e=this.getAttribute("abilitys");if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}set abilitys(e){typeof e=="string"?this.setAttribute("abilitys",e||""):this.setAttribute("abilitys",JSON.stringify(e)||"")}get colorPolygon(){return this.getAttribute("colorPolygon")||Ju}set colorPolygon(e){this.setAttribute("colorPolygon",e||Ju)}get colorLine(){return this.getAttribute("colorLine")||qu}set colorLine(e){this.setAttribute("colorLine",e||qu)}get fillColor(){return this.getAttribute("fillColor")||ed}set fillColor(e){this.setAttribute("fillColor",e||ed)}get strokeColor(){return this.getAttribute("strokeColor")||td}set strokeColor(e){this.setAttribute("strokeColor",e||td)}refreshData(){var e;const m=this.abilityRadarChart.getContext("2d");if(!this.abilityRadarChartContainer||!m)return;const v=pl(m),f=this.abilityRadarChartContainer.clientWidth*v,u=this.abilityRadarChartContainer.clientHeight*v;this.abilityRadarChart.width=f,this.abilityRadarChart.height=u,this.mW=f,this.mData=this.abilitys,this.mCount=((e=this.mData)==null?void 0:e.length)||1,this.mCenter=this.mW/2,this.mRadius=this.mCenter-50*v,this.mAngle=Math.PI*2/this.mCount,this.drawPolygon(m),this.drawSide(m),this.drawLines(m),this.drawText(m),this.drawRegion(m),this.drawCircle(m)}drawSide(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle)return;e.save(),e.strokeStyle=this.colorLine;const m=this.mRadius;for(let v=0;v<this.mCount;v++){const f=this.mCenter+m*Math.sin(this.mAngle*v),u=this.mCenter+m*Math.cos(this.mAngle*v);e.lineTo(f,u)}e.closePath(),e.stroke()}drawPolygon(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle)return;e.save(),e.strokeStyle=this.colorPolygon;const m=this.mRadius/4;e.setLineDash([6,6]);for(let v=0;v<4;v++){e.beginPath();const f=m*(v+1);for(let u=0;u<this.mCount;u++){const c=this.mCenter+f*Math.sin(this.mAngle*u),s=this.mCenter+f*Math.cos(this.mAngle*u);e.lineTo(c,s)}e.closePath(),e.stroke()}e.restore()}drawLines(e){if(!(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle)){e.save(),e.beginPath(),e.strokeStyle=this.colorLine;for(let m=0;m<this.mCount;m++){const v=this.mCenter+this.mRadius*Math.sin(this.mAngle*m),f=this.mCenter+this.mRadius*Math.cos(this.mAngle*m);e.moveTo(this.mCenter,this.mCenter),e.lineTo(v,f)}e.stroke(),e.restore()}}drawText(e){var m,v,f,u;if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle||!this.mData)return;e.save();const c=pl(e),s=this.mCenter/12;for(let t=0;t<this.mCount;t++){const i=this.mCenter+this.mRadius*Math.sin(this.mAngle*t),r=this.mCenter+this.mRadius*Math.cos(this.mAngle*t),n=((m=this.mData[t])==null?void 0:m.backgroundColor)||Xy,l=((v=this.mData[t])==null?void 0:v.fontColor)||Gy,d=((f=this.mData[t])==null?void 0:f.fontFamily)||Ky,o=((u=this.mData[t])==null?void 0:u.fontSize)||s;e.font=`${o}px ${d}`,this.mAngle*t>=0&&this.mAngle*t<Math.PI/2?this.drawButton(e,n,i,r,44*c,24*c,12*c,this.mData[t].abilityName,l,d,o):this.mAngle*t>=Math.PI/2&&this.mAngle*t<Math.PI?this.drawButton(e,n,i,r-24*c,44*c,24*c,12*c,this.mData[t].abilityName,l,d,o):this.mAngle*t>=Math.PI&&this.mAngle*t<Math.PI*3/2?this.drawButton(e,n,i-44*c,r-24*c,44*c,24*c,12*c,this.mData[t].abilityName,l,d,o):this.drawButton(e,n,i-44*c,r,44*c,24*c,12*c,this.mData[t].abilityName,l,d,o)}e.restore()}drawButton(e,m,v,f,u,c,s,t,i,r,n){e.beginPath();const l=pl(e);e.fillStyle=m,e.moveTo(v+s,f),e.lineTo(v+u-s,f),e.arc(v+u-s,f+s,s,Math.PI*3/2,Math.PI*2),e.lineTo(v+u,f+c-s),e.arc(v+u-s,f+c-s,s,Math.PI,Math.PI/2),e.lineTo(v+s,f+c),e.arc(v+s,f+c-s,s,Math.PI/2,Math.PI),e.lineTo(v,f+s),e.arc(v+s,f+s,s,Math.PI,Math.PI*3/2),e.fill(),e.closePath(),e.beginPath(),e.fillStyle=i,e.font=`${n||12*l}px ${r}`,e.textAlign="center",e.textBaseline="middle",e.fillText(t,v+u/2,f+c/2)}drawRegion(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle||!this.mData)return;const m=pl(e);e.save(),e.beginPath();for(let v=0;v<this.mCount;v++){const f=this.mCenter+this.mRadius*Math.sin(this.mAngle*v)*this.mData[v].scoreRate/100,u=this.mCenter+this.mRadius*Math.cos(this.mAngle*v)*this.mData[v].scoreRate/100;e.lineTo(f,u)}e.closePath(),e.fillStyle=this.fillColor,e.fill(),e.strokeStyle=this.strokeColor,e.lineWidth=1*m,e.stroke(),e.restore()}drawCircle(e){if(!this.mRadius||!this.mCount||!this.mCenter||!this.mAngle||!this.mData)return;const m=pl(e);e.save();for(let v=0;v<this.mCount;v++){const f=this.mCenter+this.mRadius*Math.sin(this.mAngle*v)*this.mData[v].scoreRate/100,u=this.mCenter+this.mRadius*Math.cos(this.mAngle*v)*this.mData[v].scoreRate/100;e.beginPath(),e.arc(f,u,3,0,Math.PI*2),e.lineWidth=1.5*m,e.strokeStyle=this.strokeColor,e.stroke()}e.restore()}connectedCallback(){this.refreshData()}disconnectCallback(){}attributeChangedCallback(e,m,v){["abilitys","colorPolygon","colorLine","fillColor","strokeColor"].includes(e)&&this.abilityRadarChartContainer&&m!==v&&this.refreshData()}}return customElements.define("r-radar",re),re}else return Bo("document is undefined or r-radar is exist")}const Zy=Yy(),Dw=Object.freeze(Object.defineProperty({__proto__:null,default:Zy},Symbol.toStringTag,{value:"Module"}));var Qy=Object.defineProperty,Jy=(re,C,e)=>C in re?Qy(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Eh=(re,C,e)=>(Jy(re,typeof C!="symbol"?C+"":C,e),e);const qy=`@keyframes ranui-select-dropdown-down-in{0%{transform:scaleY(.8);transform-origin:100% 100%;opacity:0}to{transform:scaleY(1);transform-origin:100% 100%;opacity:1}}@keyframes ranui-select-dropdown-down-out{0%{transform:scaleY(1);transform-origin:100% 100%;opacity:1}to{transform:scaleY(.8);transform-origin:100% 100%;opacity:0}}@keyframes ranui-select-dropdown-up-in{0%{transform:scaleY(.8);transform-origin:0% 0%;opacity:0}to{transform:scaleY(1);transform-origin:0% 0%;opacity:1}}@keyframes ranui-select-dropdown-up-out{0%{transform:scaleY(1);transform-origin:0% 0%;opacity:1}to{transform:scaleY(.8);transform-origin:0% 0%;opacity:0}}.ran-select-dropdown-down-in{animation:ranui-select-dropdown-up-in .2s;animation-fill-mode:forwards}.ran-select-dropdown-down-out{animation:ranui-select-dropdown-up-out .2s;animation-fill-mode:forwards}.ran-select-dropdown-up-in{animation:ranui-select-dropdown-down-in .2s;animation-fill-mode:forwards}.ran-select-dropdown-up-out{animation:ranui-select-dropdown-down-out .2s;animation-fill-mode:forwards}.ranui-select-dropdown{transform-origin:var(--ran-x, 50%) var(--ran-y, 50%);box-sizing:border-box;margin:0;padding:4px;color:#000000e0;font-size:14px;list-style:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";position:absolute;z-index:1050;overflow:hidden;font-variant:initial;background:#ffffff;border-radius:8px;outline:none;box-shadow:0 6px 16px #00000014,0 3px 6px -4px #0000001f,0 9px 28px 8px #0000000d;cursor:pointer}.ranui-select-dropdown-option-item{position:relative;display:block;padding:5px 12px;color:#000000e0;font-weight:400;font-size:14px;transition:background .3s ease;border-radius:4px}.ranui-select-dropdown-option-item:hover{background-color:#0000000a}.ranui-select-dropdown-option-item-content{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#000000e0;font-size:14px;line-height:1.57142857;box-sizing:border-box;list-style:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-variant:initial}.ranui-select-dropdown-option-active{background-color:#e6f7ff;font-weight:700}.ranui-select-dropdown-option-active:hover{background-color:#e6f7ff}
`;function ew(){if(typeof document<"u"&&!customElements.get("r-option")){class re extends HTMLElement{constructor(){super(),Eh(this,"_option"),Eh(this,"_optionContent"),Eh(this,"_shadowDom"),Eh(this,"_slot"),this._slot=document.createElement("slot"),this._option=document.createElement("div"),this._option.setAttribute("class","ran-option"),this._optionContent=document.createElement("div"),this._optionContent.setAttribute("class","ran-option-content"),this._optionContent.appendChild(this._slot),this._option.appendChild(this._optionContent);const e=this.attachShadow({mode:"closed"}),m=document.createElement("style");m.textContent=qy,e.appendChild(m),this._shadowDom=e,e.appendChild(this._option)}static get observedAttributes(){return["disabled","sheet","value"]}get value(){return this.getAttribute("value")}set value(e){this.setAttribute("value",e||"")}get sheet(){return this.getAttribute("sheet")}set sheet(e){this.setAttribute("sheet",e||"")}get disabled(){return us(this)}set disabled(e){!e||e==="false"?this.removeAttribute("disabled"):this.setAttribute("disabled","")}handlerExternalCss(){if(this.sheet)try{const e=new CSSStyleSheet;e.insertRule(this.sheet),this._shadowDom.adoptedStyleSheets=[e]}catch{console.error(`Failed to parse the rule in CSSStyleSheet: ${this.sheet}`)}}connectedCallback(){}disconnectCallback(){}attributeChangedCallback(e,m,v){e==="disabled"&&this._option&&(!v||v==="false"?this._option.setAttribute("disabled",""):this._option.removeAttribute("disabled")),e==="sheet"&&this._shadowDom&&m!==v&&this.handlerExternalCss()}}return re}else return Bo("document is undefined or r-option is exist")}ew();var tw=Object.defineProperty,rw=(re,C,e)=>C in re?tw(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,Jr=(re,C,e)=>(rw(re,typeof C!="symbol"?C+"":C,e),e);const iw=`:host{position:relative;display:inline-block;cursor:pointer;height:32px}:host ::slotted(r-option){display:none}:host([disabled]){cursor:not-allowed;pointer-events:all;opacity:.6}:host([type="text"])::part(selection){border:none}:host([type="text"])::part(icon){display:none}:host(:not([disabled]):hover) .select{cursor:pointer}:host(:not([disabled]):hover) .selection{border:1px solid #1890ff}:host(:not([disabled]):hover) .selection-search{cursor:pointer}:host(:not([disabled]):hover) .selection-item{cursor:pointer;color:#bfbfbf}:host(:not([disabled]):focus) .selection{border:1px solid #1890ff}:host(:not([disabled]):focus) .selection-search{cursor:pointer}:host(:not([disabled]):focus) .selection-item{cursor:pointer;color:#bfbfbf}:host .selection-search{display:none}:host([showSearch]:not([disabled])) .selection-search{cursor:text;display:block}:host([showSearch]:not([disabled])) .selection-item{cursor:pointer}:host([showSearch]:not([disabled]):focus) .selection-search{display:block;cursor:text;opacity:1}.ran-select{width:100%;height:100%;box-sizing:border-box;margin:0;padding:0;color:#000000e0;font-size:14px;line-height:1.57142857;list-style:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";position:relative;display:inline-block}.ran-select .selection{position:relative;background-color:#fff;border:1px solid #d9d9d9;transition:all .2s cubic-bezier(.645,.045,.355,1);width:100%;height:100%;padding:0 11px;box-sizing:border-box;margin:0;color:#000000e0;font-size:14px;line-height:1.57142857;list-style:none;font-family:inherit;display:flex;border-radius:6px}.ran-select .selection-search{position:absolute;top:0;left:0;height:100%;inset-inline-start:11px;inset-inline-end:11px;opacity:0;margin:0;padding:0;background:transparent;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit;cursor:not-allowed}.ran-select .selection-search::-webkit-search-cancel-button{display:none;-webkit-appearance:none}.ran-select .selection-search::part(ran-input){border:none;padding:0;height:100%;outline:none}.ran-select .selection-search::part(ran-input):active{border:none;padding:0;height:100%;outline:none;border-color:transparent;box-shadow:none;border-right-width:0px}.ran-select .selection-item{position:absolute;top:0;left:12px;margin:0;padding:0;background:transparent;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:inherit;height:100%;-webkit-user-select:none;user-select:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.ran-select .selection-select{color:#00000040}.ran-select .selection .icon{display:flex;align-items:center;color:#00000040;font-style:normal;text-align:center;text-transform:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;top:50%;inset-inline-start:auto;inset-inline-end:8px;height:12px;margin-top:-3px;font-size:12px;pointer-events:none}
`,Th={bottom:{add:"ran-select-dropdown-down-in",remove:"ran-select-dropdown-down-out"},top:{add:"ran-select-dropdown-up-in",remove:"ran-select-dropdown-up-out"}};class ef extends HTMLElement{constructor(){super(),Jr(this,"_slot"),Jr(this,"_shadowDom"),Jr(this,"_select"),Jr(this,"_selection"),Jr(this,"_search"),Jr(this,"_icon"),Jr(this,"_selectDropdown"),Jr(this,"_selectionDropdown"),Jr(this,"_selectDropDownInTimeId"),Jr(this,"_selectDropDownOutTimeId"),Jr(this,"_optionList"),Jr(this,"_optionLabelMapValue"),Jr(this,"_optionValueMapLabel"),Jr(this,"_activeOption"),Jr(this,"_text"),Jr(this,"_selector"),Jr(this,"setSelectDropdownDisplayNone",()=>{this._selectDropDownOutTimeId||this._selectionDropdown&&this._selectionDropdown.style.display!=="none"&&(fs(this._selectionDropdown,Th[this.placement].remove),this._selectDropDownOutTimeId=setTimeout(()=>{var m;(m=this._selectionDropdown)==null||m.style.setProperty("display","none"),this._selectionDropdown&&sa(this._selectionDropdown,Th[this.placement].remove),clearTimeout(this._selectDropDownOutTimeId),this._selectDropDownOutTimeId=void 0},300))}),Jr(this,"setSelectDropdownDisplayBlock",()=>{var m;this._selectDropDownInTimeId||this._selectionDropdown&&this._selectionDropdown.style.display!=="block"&&(fs(this._selectionDropdown,Th[this.placement].add),(m=this._selectionDropdown)==null||m.style.setProperty("display","block"),this._selectDropDownInTimeId=setTimeout(()=>{this._selectionDropdown&&sa(this._selectionDropdown,Th[this.placement].add),clearTimeout(this._selectDropDownInTimeId),this._selectDropDownInTimeId=void 0},200))}),Jr(this,"placementPosition",()=>{if(!this._selectionDropdown||!this._selectDropdown)return;const m=this.getBoundingClientRect(),{top:v,left:f,bottom:u,width:c,height:s,x:t,y:i}=m;this._selectionDropdown.style.setProperty("-ran-x",`${t+window.scrollX}`),this._selectionDropdown.style.setProperty("-ran-y",`${i+window.scrollY}`),this._selectionDropdown.style.setProperty("width",`${c}px`),this.placement==="top"?this._selectionDropdown.style.setProperty("inset",`${v+window.scrollY-this._selectionDropdown.clientHeight}px auto auto ${f+window.scrollX}px`):this._selectionDropdown.style.setProperty("inset",`${u+window.scrollY}px auto auto ${f+window.scrollX}px`)}),Jr(this,"selectMouseDown",()=>{us(this)||(this.setSelectDropdownDisplayNone(),this.setSelectDropdownDisplayBlock(),this.placementPosition())}),Jr(this,"selectBlur",()=>{this.setSelectDropdownDisplayNone()}),Jr(this,"clickOption",m=>{var v,f;let u=m.target;if((v=u.classList)!=null&&v.contains("ranui-select-dropdown-option-item")&&(u=u.children[0]),!((f=u.classList)!=null&&f.contains("ranui-select-dropdown-option-item-content")))return;const c=u.innerHTML,s=this._optionLabelMapValue.get(c);s&&(this.setAttribute("value",s),this._text.innerHTML=c,this._text.setAttribute("title",c),this._search.setAttribute("placeholder",c)),this._activeOption&&sa(this._activeOption,"ranui-select-dropdown-option-active"),setTimeout(()=>{this._activeOption=(u==null?void 0:u.parentElement)||void 0,this._activeOption&&fs(this._activeOption,"ranui-select-dropdown-option-active")},200),this.setSelectDropdownDisplayNone(),this.dispatchEvent(new CustomEvent("change",{detail:{value:s,label:c}}))}),Jr(this,"createOption",()=>{this._selectDropdown||(this._selectDropdown=document.createElement("div"),this._selectDropdown.addEventListener("click",this.clickOption),this._selectionDropdown=document.createElement("div"),this.dropdownclass?this._selectionDropdown.setAttribute("class",`${this.dropdownclass} ranui-select-dropdown`):this._selectionDropdown.setAttribute("class","ranui-select-dropdown"),this._selectDropdown.appendChild(this._selectionDropdown),this._selectionDropdown.style.setProperty("display","none"),document.body.appendChild(this._selectDropdown))}),Jr(this,"removeSelectDropdown",()=>{try{this._selectDropdown&&document.body.removeChild(this._selectDropdown)}catch{}}),Jr(this,"addOptionToSlot",()=>{this._slot.assignedElements().forEach(v=>{var f;if(v.tagName!=="R-OPTION")return;const u=v.innerHTML,c=v.getAttribute("value")||"";(f=this._optionList)==null||f.push({label:u,value:c}),this._optionLabelMapValue.get(u)&&console.warn(`${u} is repeat option`),this._optionValueMapLabel.get(c)&&console.warn(`${c} is repeat option`),this._optionLabelMapValue.set(u,c),this._optionValueMapLabel.set(c,u)}),this._optionList.forEach(v=>{if(this._selectionDropdown){const{label:f,value:u}=v,c=document.createElement("div");(this.getAttribute("defaultValue")||this.getAttribute("value"))===u?(c.setAttribute("class","ranui-select-dropdown-option-active ranui-select-dropdown-option-item"),this._activeOption=c):c.setAttribute("class","ranui-select-dropdown-option-item");const t=document.createElement("div");t.setAttribute("class","ranui-select-dropdown-option-item-content"),t.innerHTML=`${f}`,t.setAttribute("value",`${u}`),t.setAttribute("title",`${f}`),c.appendChild(t),this._selectionDropdown.appendChild(c)}}),this.setDefaultValue()}),Jr(this,"setDefaultValue",()=>{const m=this.getAttribute("defaultValue")||this.getAttribute("value");if(!m)return;const v=this._optionValueMapLabel.get(m);if(!v)return;this.setAttribute("value",m);const f=this.getBoundingClientRect(),{height:u}=f;this._text.style.setProperty("line-height",`${u}px`),this._text.innerHTML=v,this._text.setAttribute("title",v)}),Jr(this,"changeSearch",m=>{}),Jr(this,"setShowSearch",()=>{this._search.addEventListener("change",this.changeSearch)}),Jr(this,"listenSlotChange",()=>{this._slot.addEventListener("slotchange",this.addOptionToSlot)}),Jr(this,"removeListenSlotChange",()=>{this._slot.removeEventListener("slotchange",this.addOptionToSlot)}),this._slot=document.createElement("slot"),this._select=document.createElement("div"),this._select.setAttribute("class","ran-select"),this._select.setAttribute("part","select"),this._selection=document.createElement("div"),this._selection.setAttribute("class","selection"),this._selection.setAttribute("part","selection"),this._selector=document.createElement("div"),this._search=document.createElement("r-input"),this._search.setAttribute("class","selection-search"),this._search.setAttribute("part","search"),this._search.setAttribute("type","search"),this._search.setAttribute("autocomplete","off"),this._text=document.createElement("span"),this._text.setAttribute("class","selection-item"),this._text.setAttribute("part","selection-item"),this._icon=document.createElement("r-icon"),this._icon.setAttribute("class","icon"),this._icon.setAttribute("part","icon"),this._icon.setAttribute("name","arrow-down"),this._icon.setAttribute("color","#d9d9d9"),this._icon.setAttribute("size","16"),this._selector.appendChild(this._text),this._selector.appendChild(this._search),this._selection.appendChild(this._icon),this._selection.appendChild(this._selector),this._slot.setAttribute("class","slot"),this._select.appendChild(this._selection),this._select.appendChild(this._slot),this._optionList=[],this._optionLabelMapValue=new Map,this._optionValueMapLabel=new Map;const C=this.attachShadow({mode:"closed"}),e=document.createElement("style");e.textContent=iw,C.appendChild(e),this._shadowDom=C,C.appendChild(this._select)}static get observedAttributes(){return["disabled","sheet","clear","type","defaultValue","showSearch","placement","dropdownclass"]}get value(){return this.getAttribute("value")||""}set value(C){!us(this)&&C?this.setAttribute("value",C):this.removeAttribute("value")}get defaultValue(){return this.getAttribute("defaultValue")||""}set defaultValue(C){this.setAttribute("defaultValue",C||"")}get showSearch(){return this.getAttribute("showSearch")||""}set showSearch(C){this.setAttribute("showSearch",C||"")}get type(){return this.getAttribute("type")||""}set type(C){this.setAttribute("type",C||"")}get placement(){return this.getAttribute("placement")||"bottom"}set placement(C){this.setAttribute("placement",C||"")}get sheet(){return this.getAttribute("sheet")||""}set sheet(C){this.setAttribute("sheet",C||"")}get dropdownclass(){return this.getAttribute("dropdownclass")||""}set dropdownclass(C){this.setAttribute("dropdownclass",C||"")}get disabled(){return us(this)}set disabled(C){!C||C==="false"?(this.removeAttribute("disabled"),this._selection.removeAttribute("disabled")):(this.setAttribute("disabled",""),this._selection.setAttribute("disabled",""))}handlerExternalCss(){if(this.sheet)try{const C=new CSSStyleSheet;C.insertRule(this.sheet),this._shadowDom.adoptedStyleSheets=[C]}catch{console.error(`Failed to parse the rule in CSSStyleSheet: ${this.sheet}`)}}connectedCallback(){this.handlerExternalCss(),this.createOption(),this.addEventListener("mousedown",this.selectMouseDown),this.addEventListener("blur",this.selectBlur),this.listenSlotChange(),this.setShowSearch()}disconnectCallback(){var C;this.removeEventListener("mousedown",this.selectMouseDown),this.removeEventListener("blur",this.selectBlur),this.removeSelectDropdown(),(C=this._selectDropdown)==null||C.removeEventListener("click",this.clickOption),this.removeListenSlotChange()}attributeChangedCallback(C,e,m){C==="disabled"&&this._select&&(!m||m==="false"?(this._select.setAttribute("disabled",""),this._selection.setAttribute("disabled","")):(this._select.removeAttribute("disabled"),this._selection.removeAttribute("disabled"))),C==="sheet"&&this._shadowDom&&e!==m&&this.handlerExternalCss()}}function nw(){return typeof document<"u"&&!customElements.get("r-select")?(customElements.define("r-select",ef),ef):Bo("document is undefined or r-select is exist")}const sw=nw(),Lw=Object.freeze(Object.defineProperty({__proto__:null,Select:ef,default:sw},Symbol.toStringTag,{value:"Module"}));function aw(){if(typeof window<"u"&&!customElements.get("r-modal")){class re extends HTMLElement{constructor(){super()}}customElements.define("r-modal",re)}}const ow=aw(),Ow=Object.freeze(Object.defineProperty({__proto__:null,default:ow},Symbol.toStringTag,{value:"Module"}));var lw=Object.defineProperty,hw=(re,C,e)=>C in re?lw(re,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):re[C]=e,_t=(re,C,e)=>(hw(re,typeof C!="symbol"?C+"":C,e),e);const cw="";(function re(C){var e,m;e=this,m=function(){function v(N,R){var a=Object.keys(N);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(N);R&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(N,b).enumerable})),a.push.apply(a,h)}return a}function f(N){for(var R=1;R<arguments.length;R++){var a=arguments[R]!=null?arguments[R]:{};R%2?v(Object(a),!0).forEach(function(h){s(N,h,a[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(h){Object.defineProperty(N,h,Object.getOwnPropertyDescriptor(a,h))})}return N}function u(N,R){for(var a=0;a<R.length;a++){var h=R[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(N,p(h.key),h)}}function c(N,R,a){return R&&u(N.prototype,R),a&&u(N,a),Object.defineProperty(N,"prototype",{writable:!1}),N}function s(N,R,a){return(R=p(R))in N?Object.defineProperty(N,R,{value:a,enumerable:!0,configurable:!0,writable:!0}):N[R]=a,N}function t(){return t=Object.assign?Object.assign.bind():function(N){for(var R=1;R<arguments.length;R++){var a=arguments[R];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(N[h]=a[h])}return N},t.apply(this,arguments)}function i(N,R){N.prototype=Object.create(R.prototype),N.prototype.constructor=N,n(N,R)}function r(N){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},r(N)}function n(N,R){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},n(N,R)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(N,R,a){return d=l()?Reflect.construct.bind():function(h,b,A){var M=[null];M.push.apply(M,b);var U=new(Function.bind.apply(h,M));return A&&n(U,A.prototype),U},d.apply(null,arguments)}function o(N){var R=typeof Map=="function"?new Map:void 0;return o=function(a){if(a===null||(h=a,Function.toString.call(h).indexOf("[native code]")===-1))return a;var h;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(a))return R.get(a);R.set(a,b)}function b(){return d(a,arguments,r(this).constructor)}return b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),n(b,a)},o(N)}function g(N,R){(R==null||R>N.length)&&(R=N.length);for(var a=0,h=new Array(R);a<R;a++)h[a]=N[a];return h}function y(N,R){var a=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(a)return(a=a.call(N)).next.bind(a);if(Array.isArray(N)||(a=function(b,A){if(b){if(typeof b=="string")return g(b,A);var M=Object.prototype.toString.call(b).slice(8,-1);return M==="Object"&&b.constructor&&(M=b.constructor.name),M==="Map"||M==="Set"?Array.from(b):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?g(b,A):void 0}}(N))||R&&N&&typeof N.length=="number"){a&&(N=a);var h=0;return function(){return h>=N.length?{done:!0}:{done:!1,value:N[h++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(N){var R=function(a,h){if(typeof a!="object"||a===null)return a;var b=a[Symbol.toPrimitive];if(b!==void 0){var A=b.call(a,h||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(a)}(N,"string");return typeof R=="symbol"?R:String(R)}function E(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}var T={exports:{}};(function(N,R){var a,h,b,A,M;a=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,h=/^(?=([^\/?#]*))\1([^]*)$/,b=/(?:\/|^)\.(?=\/)/g,A=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,M={buildAbsoluteURL:function(U,X,Q){if(Q=Q||{},U=U.trim(),!(X=X.trim())){if(!Q.alwaysNormalize)return U;var q=M.parseURL(U);if(!q)throw new Error("Error trying to parse base URL.");return q.path=M.normalizePath(q.path),M.buildURLFromParts(q)}var oe=M.parseURL(X);if(!oe)throw new Error("Error trying to parse relative URL.");if(oe.scheme)return Q.alwaysNormalize?(oe.path=M.normalizePath(oe.path),M.buildURLFromParts(oe)):X;var pe=M.parseURL(U);if(!pe)throw new Error("Error trying to parse base URL.");if(!pe.netLoc&&pe.path&&pe.path[0]!=="/"){var me=h.exec(pe.path);pe.netLoc=me[1],pe.path=me[2]}pe.netLoc&&!pe.path&&(pe.path="/");var be={scheme:pe.scheme,netLoc:oe.netLoc,path:null,params:oe.params,query:oe.query,fragment:oe.fragment};if(!oe.netLoc&&(be.netLoc=pe.netLoc,oe.path[0]!=="/"))if(oe.path){var Se=pe.path,Re=Se.substring(0,Se.lastIndexOf("/")+1)+oe.path;be.path=M.normalizePath(Re)}else be.path=pe.path,oe.params||(be.params=pe.params,oe.query||(be.query=pe.query));return be.path===null&&(be.path=Q.alwaysNormalize?M.normalizePath(oe.path):oe.path),M.buildURLFromParts(be)},parseURL:function(U){var X=a.exec(U);return X?{scheme:X[1]||"",netLoc:X[2]||"",path:X[3]||"",params:X[4]||"",query:X[5]||"",fragment:X[6]||""}:null},normalizePath:function(U){for(U=U.split("").reverse().join("").replace(b,"");U.length!==(U=U.replace(A,"")).length;);return U.split("").reverse().join("")},buildURLFromParts:function(U){return U.scheme+U.netLoc+U.path+U.params+U.query+U.fragment}},N.exports=M})(T);var S=T.exports,x=Number.isFinite||function(N){return typeof N=="number"&&isFinite(N)},w=function(N){return N.MEDIA_ATTACHING="hlsMediaAttaching",N.MEDIA_ATTACHED="hlsMediaAttached",N.MEDIA_DETACHING="hlsMediaDetaching",N.MEDIA_DETACHED="hlsMediaDetached",N.BUFFER_RESET="hlsBufferReset",N.BUFFER_CODECS="hlsBufferCodecs",N.BUFFER_CREATED="hlsBufferCreated",N.BUFFER_APPENDING="hlsBufferAppending",N.BUFFER_APPENDED="hlsBufferAppended",N.BUFFER_EOS="hlsBufferEos",N.BUFFER_FLUSHING="hlsBufferFlushing",N.BUFFER_FLUSHED="hlsBufferFlushed",N.MANIFEST_LOADING="hlsManifestLoading",N.MANIFEST_LOADED="hlsManifestLoaded",N.MANIFEST_PARSED="hlsManifestParsed",N.LEVEL_SWITCHING="hlsLevelSwitching",N.LEVEL_SWITCHED="hlsLevelSwitched",N.LEVEL_LOADING="hlsLevelLoading",N.LEVEL_LOADED="hlsLevelLoaded",N.LEVEL_UPDATED="hlsLevelUpdated",N.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",N.LEVELS_UPDATED="hlsLevelsUpdated",N.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",N.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",N.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",N.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",N.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",N.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",N.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",N.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",N.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",N.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",N.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",N.CUES_PARSED="hlsCuesParsed",N.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",N.INIT_PTS_FOUND="hlsInitPtsFound",N.FRAG_LOADING="hlsFragLoading",N.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",N.FRAG_LOADED="hlsFragLoaded",N.FRAG_DECRYPTED="hlsFragDecrypted",N.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",N.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",N.FRAG_PARSING_METADATA="hlsFragParsingMetadata",N.FRAG_PARSED="hlsFragParsed",N.FRAG_BUFFERED="hlsFragBuffered",N.FRAG_CHANGED="hlsFragChanged",N.FPS_DROP="hlsFpsDrop",N.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",N.ERROR="hlsError",N.DESTROYING="hlsDestroying",N.KEY_LOADING="hlsKeyLoading",N.KEY_LOADED="hlsKeyLoaded",N.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",N.BACK_BUFFER_REACHED="hlsBackBufferReached",N}({}),I=function(N){return N.NETWORK_ERROR="networkError",N.MEDIA_ERROR="mediaError",N.KEY_SYSTEM_ERROR="keySystemError",N.MUX_ERROR="muxError",N.OTHER_ERROR="otherError",N}({}),D=function(N){return N.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",N.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",N.KEY_SYSTEM_NO_SESSION="keySystemNoSession",N.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",N.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",N.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",N.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",N.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",N.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",N.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",N.MANIFEST_LOAD_ERROR="manifestLoadError",N.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",N.MANIFEST_PARSING_ERROR="manifestParsingError",N.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",N.LEVEL_EMPTY_ERROR="levelEmptyError",N.LEVEL_LOAD_ERROR="levelLoadError",N.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",N.LEVEL_PARSING_ERROR="levelParsingError",N.LEVEL_SWITCH_ERROR="levelSwitchError",N.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",N.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",N.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",N.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",N.FRAG_LOAD_ERROR="fragLoadError",N.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",N.FRAG_DECRYPT_ERROR="fragDecryptError",N.FRAG_PARSING_ERROR="fragParsingError",N.FRAG_GAP="fragGap",N.REMUX_ALLOC_ERROR="remuxAllocError",N.KEY_LOAD_ERROR="keyLoadError",N.KEY_LOAD_TIMEOUT="keyLoadTimeOut",N.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",N.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",N.BUFFER_APPEND_ERROR="bufferAppendError",N.BUFFER_APPENDING_ERROR="bufferAppendingError",N.BUFFER_STALLED_ERROR="bufferStalledError",N.BUFFER_FULL_ERROR="bufferFullError",N.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",N.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",N.INTERNAL_EXCEPTION="internalException",N.INTERNAL_ABORTED="aborted",N.UNKNOWN="unknown",N}({}),V=function(){},ie={trace:V,debug:V,log:V,warn:V,info:V,error:V},ee=ie;function te(N){var R=self.console[N];return R?R.bind(self.console,"["+N+"] >"):V}function Y(N,R){if(self.console&&N===!0||typeof N=="object"){(function(a){for(var h=arguments.length,b=new Array(h>1?h-1:0),A=1;A<h;A++)b[A-1]=arguments[A];b.forEach(function(M){ee[M]=a[M]?a[M].bind(a):te(M)})})(N,"debug","log","info","warn","error");try{ee.log('Debug logs enabled for "'+R+'" in hls.js version 1.4.12')}catch{ee=ie}}else ee=ie}var W=ee,j=/^(\d+)x(\d+)$/,O=/(.+?)=(".*?"|.*?)(?:,|$)/g,k=function(){function N(a){for(var h in typeof a=="string"&&(a=N.parseAttrList(a)),a)a.hasOwnProperty(h)&&(h.substring(0,2)==="X-"&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(h)),this[h]=a[h])}var R=N.prototype;return R.decimalInteger=function(a){var h=parseInt(this[a],10);return h>Number.MAX_SAFE_INTEGER?1/0:h},R.hexadecimalInteger=function(a){if(this[a]){var h=(this[a]||"0x").slice(2);h=(1&h.length?"0":"")+h;for(var b=new Uint8Array(h.length/2),A=0;A<h.length/2;A++)b[A]=parseInt(h.slice(2*A,2*A+2),16);return b}return null},R.hexadecimalIntegerAsNumber=function(a){var h=parseInt(this[a],16);return h>Number.MAX_SAFE_INTEGER?1/0:h},R.decimalFloatingPoint=function(a){return parseFloat(this[a])},R.optionalFloat=function(a,h){var b=this[a];return b?parseFloat(b):h},R.enumeratedString=function(a){return this[a]},R.bool=function(a){return this[a]==="YES"},R.decimalResolution=function(a){var h=j.exec(this[a]);if(h!==null)return{width:parseInt(h[1],10),height:parseInt(h[2],10)}},N.parseAttrList=function(a){var h,b={};for(O.lastIndex=0;(h=O.exec(a))!==null;){var A=h[2];A.indexOf('"')===0&&A.lastIndexOf('"')===A.length-1&&(A=A.slice(1,-1)),b[h[1].trim()]=A}return b},N}();function B(N){return N==="SCTE35-OUT"||N==="SCTE35-IN"}var H=function(){function N(R,a){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,a){var h=a.attr;for(var b in h)if(Object.prototype.hasOwnProperty.call(R,b)&&R[b]!==h[b]){W.warn('DATERANGE tag attribute: "'+b+'" does not match for tags with ID: "'+R.ID+'"'),this._badValueForSameId=b;break}R=t(new k({}),h,R)}if(this.attr=R,this._startDate=new Date(R["START-DATE"]),"END-DATE"in this.attr){var A=new Date(this.attr["END-DATE"]);x(A.getTime())&&(this._endDate=A)}}return c(N,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var R=this.duration;return R!==null?new Date(this._startDate.getTime()+1e3*R):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var R=this.attr.decimalFloatingPoint("DURATION");if(x(R))return R}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&x(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),N}(),$=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},K="audio",z="video",F="audiovideo",L=function(){function N(R){var a;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((a={})[K]=null,a[z]=null,a[F]=null,a),this.baseurl=R}return N.prototype.setByteRange=function(R,a){var h=R.split("@",2),b=[];h.length===1?b[0]=a?a.byteRangeEndOffset:0:b[0]=parseInt(h[1]),b[1]=parseInt(h[0])+b[0],this._byteRange=b},c(N,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=S.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(R){this._url=R}}]),N}(),G=function(N){function R(h,b){var A;return(A=N.call(this,b)||this)._decryptdata=null,A.rawProgramDateTime=null,A.programDateTime=null,A.tagList=[],A.duration=0,A.sn=0,A.levelkeys=void 0,A.type=void 0,A.loader=null,A.keyLoader=null,A.level=-1,A.cc=0,A.startPTS=void 0,A.endPTS=void 0,A.startDTS=void 0,A.endDTS=void 0,A.start=0,A.deltaPTS=void 0,A.maxStartPTS=void 0,A.minEndPTS=void 0,A.stats=new $,A.urlId=0,A.data=void 0,A.bitrateTest=!1,A.title=null,A.initSegment=null,A.endList=void 0,A.gap=void 0,A.type=h,A}i(R,N);var a=R.prototype;return a.setKeyFormat=function(h){if(this.levelkeys){var b=this.levelkeys[h];b&&!this._decryptdata&&(this._decryptdata=b.getDecryptData(this.sn))}},a.abortRequests=function(){var h,b;(h=this.loader)==null||h.abort(),(b=this.keyLoader)==null||b.abort()},a.setElementaryStreamInfo=function(h,b,A,M,U,X){X===void 0&&(X=!1);var Q=this.elementaryStreams,q=Q[h];q?(q.startPTS=Math.min(q.startPTS,b),q.endPTS=Math.max(q.endPTS,A),q.startDTS=Math.min(q.startDTS,M),q.endDTS=Math.max(q.endDTS,U)):Q[h]={startPTS:b,endPTS:A,startDTS:M,endDTS:U,partial:X}},a.clearElementaryStreamInfo=function(){var h=this.elementaryStreams;h[K]=null,h[z]=null,h[F]=null},c(R,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var h=this.levelkeys.identity;if(h)this._decryptdata=h.getDecryptData(this.sn);else{var b=Object.keys(this.levelkeys);if(b.length===1)return this._decryptdata=this.levelkeys[b[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!x(this.programDateTime))return null;var h=x(this.duration)?this.duration:0;return this.programDateTime+1e3*h}},{key:"encrypted",get:function(){var h;if((h=this._decryptdata)!=null&&h.encrypted)return!0;if(this.levelkeys){var b=Object.keys(this.levelkeys),A=b.length;if(A>1||A===1&&this.levelkeys[b[0]].encrypted)return!0}return!1}}]),R}(L),le=function(N){function R(a,h,b,A,M){var U;(U=N.call(this,b)||this).fragOffset=0,U.duration=0,U.gap=!1,U.independent=!1,U.relurl=void 0,U.fragment=void 0,U.index=void 0,U.stats=new $,U.duration=a.decimalFloatingPoint("DURATION"),U.gap=a.bool("GAP"),U.independent=a.bool("INDEPENDENT"),U.relurl=a.enumeratedString("URI"),U.fragment=h,U.index=A;var X=a.enumeratedString("BYTERANGE");return X&&U.setByteRange(X,M),M&&(U.fragOffset=M.fragOffset+M.duration),U}return i(R,N),c(R,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var a=this.elementaryStreams;return!!(a.audio||a.video||a.audiovideo)}}]),R}(L),ge=function(){function N(R){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=R}return N.prototype.reloaded=function(R){if(!R)return this.advanced=!0,void(this.updated=!0);var a=this.lastPartSn-R.lastPartSn,h=this.lastPartIndex-R.lastPartIndex;this.updated=this.endSN!==R.endSN||!!h||!!a||!this.live,this.advanced=this.endSN>R.endSN||a>0||a===0&&h>0,this.updated||this.advanced?this.misses=Math.floor(.6*R.misses):this.misses=R.misses+1,this.availabilityDelay=R.availabilityDelay},c(N,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&x(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var R=this.driftEndTime-this.driftStartTime;return R>0?1e3*(this.driftEnd-this.driftStart)/R:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var R;return(R=this.partList)!=null&&R.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var R;return(R=this.fragments)!=null&&R.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var R;return(R=this.partList)!=null&&R.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var R;return(R=this.partList)!=null&&R.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),N}();function Ie(N){return Uint8Array.from(atob(N),function(R){return R.charCodeAt(0)})}function Oe(N){var R,a,h=N.split(":"),b=null;if(h[0]==="data"&&h.length===2){var A=h[1].split(";"),M=A[A.length-1].split(",");if(M.length===2){var U=M[0]==="base64",X=M[1];U?(A.splice(-1,1),b=Ie(X)):(R=Ke(X).subarray(0,16),(a=new Uint8Array(16)).set(R,16-R.length),b=a)}}return b}function Ke(N){return Uint8Array.from(unescape(encodeURIComponent(N)),function(R){return R.charCodeAt(0)})}var De={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Te="org.w3.clearkey",Z="com.apple.streamingkeydelivery",ue="com.microsoft.playready",Ee="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function _e(N){switch(N){case Z:return De.FAIRPLAY;case ue:return De.PLAYREADY;case Ee:return De.WIDEVINE;case Te:return De.CLEARKEY}}var he="edef8ba979d64acea3c827dcd51d21ed";function de(N){switch(N){case De.FAIRPLAY:return Z;case De.PLAYREADY:return ue;case De.WIDEVINE:return Ee;case De.CLEARKEY:return Te}}function ce(N){var R=N.drmSystems,a=N.widevineLicenseUrl,h=R?[De.FAIRPLAY,De.WIDEVINE,De.PLAYREADY,De.CLEARKEY].filter(function(b){return!!R[b]}):[];return!h[De.WIDEVINE]&&a&&h.push(De.WIDEVINE),h}var se=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function ne(N,R,a){return Uint8Array.prototype.slice?N.slice(R,a):new Uint8Array(Array.prototype.slice.call(N,R,a))}var we,Ne=function(N,R){return R+10<=N.length&&N[R]===73&&N[R+1]===68&&N[R+2]===51&&N[R+3]<255&&N[R+4]<255&&N[R+6]<128&&N[R+7]<128&&N[R+8]<128&&N[R+9]<128},ae=function(N,R){return R+10<=N.length&&N[R]===51&&N[R+1]===68&&N[R+2]===73&&N[R+3]<255&&N[R+4]<255&&N[R+6]<128&&N[R+7]<128&&N[R+8]<128&&N[R+9]<128},Pe=function(N,R){for(var a=R,h=0;Ne(N,R);)h+=10,h+=ze(N,R+6),ae(N,R+10)&&(h+=10),R+=h;if(h>0)return N.subarray(a,a+h)},ze=function(N,R){var a=0;return a=(127&N[R])<<21,a|=(127&N[R+1])<<14,a|=(127&N[R+2])<<7,a|=127&N[R+3]},ve=function(N,R){return Ne(N,R)&&ze(N,R+6)+10<=N.length-R},Ae=function(N){return N&&N.key==="PRIV"&&N.info==="com.apple.streaming.transportStreamTimestamp"},Fe=function(N){var R=String.fromCharCode(N[0],N[1],N[2],N[3]),a=ze(N,4);return{type:R,size:a,data:N.subarray(10,10+a)}},We=function(N){for(var R=0,a=[];Ne(N,R);){for(var h=ze(N,R+6),b=(R+=10)+h;R+8<b;){var A=Fe(N.subarray(R)),M=Je(A);M&&a.push(M),R+=A.size+10}ae(N,R)&&(R+=10)}return a},Je=function(N){return N.type==="PRIV"?Ge(N):N.type[0]==="W"?ut(N):et(N)},Ge=function(N){if(!(N.size<2)){var R=Be(N.data,!0),a=new Uint8Array(N.data.subarray(R.length+1));return{key:N.type,info:R,data:a.buffer}}},et=function(N){if(!(N.size<2)){if(N.type==="TXXX"){var R=1,a=Be(N.data.subarray(R),!0);R+=a.length+1;var h=Be(N.data.subarray(R));return{key:N.type,info:a,data:h}}var b=Be(N.data.subarray(1));return{key:N.type,data:b}}},ut=function(N){if(N.type==="WXXX"){if(N.size<2)return;var R=1,a=Be(N.data.subarray(R),!0);R+=a.length+1;var h=Be(N.data.subarray(R));return{key:N.type,info:a,data:h}}var b=Be(N.data);return{key:N.type,data:b}},at=function(N){if(N.data.byteLength===8){var R=new Uint8Array(N.data),a=1&R[3],h=(R[4]<<23)+(R[5]<<15)+(R[6]<<7)+R[7];return h/=45,a&&(h+=4772185884e-2),Math.round(h)}},Be=function(N,R){R===void 0&&(R=!1);var a=Qe();if(a){var h=a.decode(N);if(R){var b=h.indexOf("\0");return b!==-1?h.substring(0,b):h}return h.replace(/\0/g,"")}for(var A,M,U,X=N.length,Q="",q=0;q<X;){if((A=N[q++])===0&&R)return Q;if(A!==0&&A!==3)switch(A>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:Q+=String.fromCharCode(A);break;case 12:case 13:M=N[q++],Q+=String.fromCharCode((31&A)<<6|63&M);break;case 14:M=N[q++],U=N[q++],Q+=String.fromCharCode((15&A)<<12|(63&M)<<6|(63&U)<<0)}}return Q};function Qe(){return we||self.TextDecoder===void 0||(we=new self.TextDecoder("utf-8")),we}var rt=function(N){for(var R="",a=0;a<N.length;a++){var h=N[a].toString(16);h.length<2&&(h="0"+h),R+=h}return R},mt=Math.pow(2,32)-1,Ut=[].push,jt={video:1,audio:2,id3:3,text:4};function Ct(N){return String.fromCharCode.apply(null,N)}function Nt(N,R){var a=N[R]<<8|N[R+1];return a<0?65536+a:a}function St(N,R){var a=Mt(N,R);return a<0?4294967296+a:a}function Mt(N,R){return N[R]<<24|N[R+1]<<16|N[R+2]<<8|N[R+3]}function Dt(N,R,a){N[R]=a>>24,N[R+1]=a>>16&255,N[R+2]=a>>8&255,N[R+3]=255&a}function It(N,R){var a=[];if(!R.length)return a;for(var h=N.byteLength,b=0;b<h;){var A=St(N,b),M=A>1?b+A:h;if(Ct(N.subarray(b+4,b+8))===R[0])if(R.length===1)a.push(N.subarray(b+8,M));else{var U=It(N.subarray(b+8,M),R.slice(1));U.length&&Ut.apply(a,U)}b=M}return a}function $t(N){var R=[],a=N[0],h=8,b=St(N,h);h+=4,h+=a===0?8:16,h+=2;var A=N.length+0,M=Nt(N,h);h+=2;for(var U=0;U<M;U++){var X=h,Q=St(N,X);X+=4;var q=2147483647&Q;if((2147483648&Q)>>>31==1)return W.warn("SIDX has hierarchical references (not supported)"),null;var oe=St(N,X);X+=4,R.push({referenceSize:q,subsegmentDuration:oe,info:{duration:oe/b,start:A,end:A+q-1}}),A+=q,h=X+=4}return{earliestPresentationTime:0,timescale:b,version:a,referencesCount:M,references:R}}function Sr(N){for(var R=[],a=It(N,["moov","trak"]),h=0;h<a.length;h++){var b=a[h],A=It(b,["tkhd"])[0];if(A){var M=A[0],U=M===0?12:20,X=St(A,U),Q=It(b,["mdia","mdhd"])[0];if(Q){var q=St(Q,U=(M=Q[0])===0?12:20),oe=It(b,["mdia","hdlr"])[0];if(oe){var pe=Ct(oe.subarray(8,12)),me={soun:K,vide:z}[pe];if(me){var be=It(b,["mdia","minf","stbl","stsd"])[0],Se=void 0;be&&(Se=Ct(be.subarray(12,16))),R[X]={timescale:q,type:me},R[me]={timescale:q,id:X,codec:Se}}}}}}return It(N,["moov","mvex","trex"]).forEach(function(Re){var ye=St(Re,4),Ce=R[ye];Ce&&(Ce.default={duration:St(Re,12),flags:St(Re,20)})}),R}function pr(N){var R=It(N,["schm"])[0];if(R){var a=Ct(R.subarray(4,8));if(a==="cbcs"||a==="cenc")return It(N,["schi","tenc"])[0]}return W.error("[eme] missing 'schm' box"),null}function Xt(N){var R=St(N,0),a=8;1&R&&(a+=4),4&R&&(a+=4);for(var h=0,b=St(N,4),A=0;A<b;A++)256&R&&(h+=St(N,a),a+=4),512&R&&(a+=4),1024&R&&(a+=4),2048&R&&(a+=4);return h}function hr(N,R){var a=new Uint8Array(N.length+R.length);return a.set(N),a.set(R,N.length),a}function Ir(N,R){var a=[],h=R.samples,b=R.timescale,A=R.id,M=!1;return It(h,["moof"]).map(function(U){var X=U.byteOffset-8;It(U,["traf"]).map(function(Q){var q=It(Q,["tfdt"]).map(function(oe){var pe=oe[0],me=St(oe,4);return pe===1&&(me*=Math.pow(2,32),me+=St(oe,8)),me/b})[0];return q!==void 0&&(N=q),It(Q,["tfhd"]).map(function(oe){var pe=St(oe,4),me=16777215&St(oe,0),be=0,Se=(16&me)!=0,Re=0,ye=(32&me)!=0,Ce=8;pe===A&&(1&me&&(Ce+=8),2&me&&(Ce+=4),8&me&&(be=St(oe,Ce),Ce+=4),Se&&(Re=St(oe,Ce),Ce+=4),ye&&(Ce+=4),R.type==="video"&&(M=function($e){if(!$e)return!1;var He=$e.indexOf("."),Ze=He<0?$e:$e.substring(0,He);return Ze==="hvc1"||Ze==="hev1"||Ze==="dvh1"||Ze==="dvhe"}(R.codec)),It(Q,["trun"]).map(function($e){var He=$e[0],Ze=16777215&St($e,0),lt=(1&Ze)!=0,ht=0,wt=(4&Ze)!=0,dt=(256&Ze)!=0,gt=0,Pt=(512&Ze)!=0,xt=0,Wt=(1024&Ze)!=0,Qt=(2048&Ze)!=0,Vt=0,Gt=St($e,4),Jt=8;lt&&(ht=St($e,Jt),Jt+=4),wt&&(Jt+=4);for(var Kt=ht+X,kt=0;kt<Gt;kt++){if(dt?(gt=St($e,Jt),Jt+=4):gt=be,Pt?(xt=St($e,Jt),Jt+=4):xt=Re,Wt&&(Jt+=4),Qt&&(Vt=He===0?St($e,Jt):Mt($e,Jt),Jt+=4),R.type===z)for(var yr=0;yr<xt;){var kr=St(h,Kt);rr(M,h[Kt+=4])&&Wr(h.subarray(Kt,Kt+kr),M?2:1,N+Vt/b,a),Kt+=kr,yr+=kr+4}N+=gt/b}}))})})}),a}function rr(N,R){if(N){var a=R>>1&63;return a===39||a===40}return(31&R)==6}function Wr(N,R,a,h){var b=Or(N),A=0;A+=R;for(var M=0,U=0,X=!1,Q=0;A<b.length;){M=0;do{if(A>=b.length)break;M+=Q=b[A++]}while(Q===255);U=0;do{if(A>=b.length)break;U+=Q=b[A++]}while(Q===255);var q=b.length-A;if(!X&&M===4&&A<b.length){if(X=!0,b[A++]===181){var oe=Nt(b,A);if(A+=2,oe===49){var pe=St(b,A);if(A+=4,pe===1195456820){var me=b[A++];if(me===3){var be=b[A++],Se=64&be,Re=Se?2+3*(31&be):0,ye=new Uint8Array(Re);if(Se){ye[0]=be;for(var Ce=1;Ce<Re;Ce++)ye[Ce]=b[A++]}h.push({type:me,payloadType:M,pts:a,bytes:ye})}}}}}else if(M===5&&U<q){if(X=!0,U>16){for(var $e=[],He=0;He<16;He++){var Ze=b[A++].toString(16);$e.push(Ze.length==1?"0"+Ze:Ze),He!==3&&He!==5&&He!==7&&He!==9||$e.push("-")}for(var lt=U-16,ht=new Uint8Array(lt),wt=0;wt<lt;wt++)ht[wt]=b[A++];h.push({payloadType:M,pts:a,uuid:$e.join(""),userData:Be(ht),userDataBytes:ht})}}else if(U<q)A+=U;else if(U>q)break}}function Or(N){for(var R=N.byteLength,a=[],h=1;h<R-2;)N[h]===0&&N[h+1]===0&&N[h+2]===3?(a.push(h+2),h+=2):h++;if(a.length===0)return N;var b=R-a.length,A=new Uint8Array(b),M=0;for(h=0;h<b;M++,h++)M===a[0]&&(M++,a.shift()),A[h]=N[M];return A}function qt(N,R,a){if(N.byteLength!==16)throw new RangeError("Invalid system id");var h,b,A;if(R){h=1,b=new Uint8Array(16*R.length);for(var M=0;M<R.length;M++){var U=R[M];if(U.byteLength!==16)throw new RangeError("Invalid key");b.set(U,16*M)}}else h=0,b=new Uint8Array;h>0?(A=new Uint8Array(4),R.length>0&&new DataView(A.buffer).setUint32(0,R.length,!1)):A=new Uint8Array;var X=new Uint8Array(4);return a&&a.byteLength>0&&new DataView(X.buffer).setUint32(0,a.byteLength,!1),function(Q){for(var q=arguments.length,oe=new Array(q>1?q-1:0),pe=1;pe<q;pe++)oe[pe-1]=arguments[pe];for(var me=oe.length,be=8,Se=me;Se--;)be+=oe[Se].byteLength;var Re=new Uint8Array(be);for(Re[0]=be>>24&255,Re[1]=be>>16&255,Re[2]=be>>8&255,Re[3]=255&be,Re.set(Q,4),Se=0,be=8;Se<me;Se++)Re.set(oe[Se],be),be+=oe[Se].byteLength;return Re}([112,115,115,104],new Uint8Array([h,0,0,0]),N,A,b,X,a||new Uint8Array)}var Mr={},fr=function(){function N(a,h,b,A,M){A===void 0&&(A=[1]),M===void 0&&(M=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=a,this.uri=h,this.keyFormat=b,this.keyFormatVersions=A,this.iv=M,this.encrypted=!!a&&a!=="NONE",this.isCommonEncryption=this.encrypted&&a!=="AES-128"}N.clearKeyUriToKeyIdMap=function(){Mr={}};var R=N.prototype;return R.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Z:case Ee:case ue:case Te:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},R.getDecryptData=function(a){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof a!="number"&&(this.method!=="AES-128"||this.iv||W.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),a=0);var h=function(Re){for(var ye=new Uint8Array(16),Ce=12;Ce<16;Ce++)ye[Ce]=Re>>8*(15-Ce)&255;return ye}(a);return new N(this.method,this.uri,"identity",this.keyFormatVersions,h)}var b=Oe(this.uri);if(b)switch(this.keyFormat){case Ee:this.pssh=b,b.length>=22&&(this.keyId=b.subarray(b.length-22,b.length-6));break;case ue:var A=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=qt(A,null,b);var M=new Uint16Array(b.buffer,b.byteOffset,b.byteLength/2),U=String.fromCharCode.apply(null,Array.from(M)),X=U.substring(U.indexOf("<"),U.length),Q=new DOMParser().parseFromString(X,"text/xml").getElementsByTagName("KID")[0];if(Q){var q=Q.childNodes[0]?Q.childNodes[0].nodeValue:Q.getAttribute("VALUE");if(q){var oe=Ie(q).subarray(0,16);(function(Re){var ye=function(Ce,$e,He){var Ze=Ce[$e];Ce[$e]=Ce[He],Ce[He]=Ze};ye(Re,0,3),ye(Re,1,2),ye(Re,4,5),ye(Re,6,7)})(oe),this.keyId=oe}}break;default:var pe=b.subarray(0,16);if(pe.length!==16){var me=new Uint8Array(16);me.set(pe,16-pe.length),pe=me}this.keyId=pe}if(!this.keyId||this.keyId.byteLength!==16){var be=Mr[this.uri];if(!be){var Se=Object.keys(Mr).length%Number.MAX_SAFE_INTEGER;be=new Uint8Array(16),new DataView(be.buffer,12,4).setUint32(0,Se),Mr[this.uri]=be}this.keyId=be}return this},N}(),tr=/\{\$([a-zA-Z0-9-_]+)\}/g;function xr(N){return tr.test(N)}function ur(N,R,a){if(N.variableList!==null||N.hasVariableRefs)for(var h=a.length;h--;){var b=a[h],A=R[b];A&&(R[b]=er(N,A))}}function er(N,R){if(N.variableList!==null||N.hasVariableRefs){var a=N.variableList;return R.replace(tr,function(h){var b=h.substring(2,h.length-1),A=a==null?void 0:a[b];return A===void 0?(N.playlistParsingError||(N.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'+b+'"')),h):A})}return R}function zr(N,R,a){var h,b,A=N.variableList;if(A||(N.variableList=A={}),"QUERYPARAM"in R){h=R.QUERYPARAM;try{var M=new self.URL(a).searchParams;if(!M.has(h))throw new Error('"'+h+'" does not match any query parameter in URI: "'+a+'"');b=M.get(h)}catch(U){N.playlistParsingError||(N.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+U.message))}}else h=R.NAME,b=R.VALUE;h in A?N.playlistParsingError||(N.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'+h+'"')):A[h]=b||""}function ar(N,R,a){var h=R.IMPORT;if(a&&h in a){var b=N.variableList;b||(N.variableList=b={}),b[h]=a[h]}else N.playlistParsingError||(N.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'+h+'"'))}function ir(){if(typeof self<"u")return self.MediaSource||self.WebKitMediaSource}var Ue={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},it=ir();function ot(N,R){var a;return(a=it==null?void 0:it.isTypeSupported((R||"video")+'/mp4;codecs="'+N+'"'))!=null&&a}var Rt=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,zt=/#EXT-X-MEDIA:(.*)/g,mr=/^#EXT(?:INF|-X-TARGETDURATION):/m,Xr=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),fi=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),pi=function(){function N(){}return N.findGroup=function(R,a){for(var h=0;h<R.length;h++){var b=R[h];if(b.id===a)return b}},N.convertAVC1ToAVCOTI=function(R){var a=R.split(".");if(a.length>2){var h=a.shift()+".";return h+=parseInt(a.shift()).toString(16),h+=("000"+parseInt(a.shift()).toString(16)).slice(-4)}return R},N.resolve=function(R,a){return S.buildAbsoluteURL(a,R,{alwaysNormalize:!0})},N.isMediaPlaylist=function(R){return mr.test(R)},N.parseMasterPlaylist=function(R,a){var h,b={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:xr(R)},A=[];for(Rt.lastIndex=0;(h=Rt.exec(R))!=null;)if(h[1]){var M,U=new k(h[1]);ur(b,U,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var X=er(b,h[2]),Q={attrs:U,bitrate:U.decimalInteger("AVERAGE-BANDWIDTH")||U.decimalInteger("BANDWIDTH"),name:U.NAME,url:N.resolve(X,a)},q=U.decimalResolution("RESOLUTION");q&&(Q.width=q.width,Q.height=q.height),hn((U.CODECS||"").split(/[ ,]+/).filter(function($e){return $e}),Q),Q.videoCodec&&Q.videoCodec.indexOf("avc1")!==-1&&(Q.videoCodec=N.convertAVC1ToAVCOTI(Q.videoCodec)),(M=Q.unknownCodecs)!=null&&M.length||A.push(Q),b.levels.push(Q)}else if(h[3]){var oe=h[3],pe=h[4];switch(oe){case"SESSION-DATA":var me=new k(pe);ur(b,me,["DATA-ID","LANGUAGE","VALUE","URI"]);var be=me["DATA-ID"];be&&(b.sessionData===null&&(b.sessionData={}),b.sessionData[be]=me);break;case"SESSION-KEY":var Se=oi(pe,a,b);Se.encrypted&&Se.isSupported()?(b.sessionKeys===null&&(b.sessionKeys=[]),b.sessionKeys.push(Se)):W.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+pe+'"');break;case"DEFINE":var Re=new k(pe);ur(b,Re,["NAME","VALUE","QUERYPARAM"]),zr(b,Re,a);break;case"CONTENT-STEERING":var ye=new k(pe);ur(b,ye,["SERVER-URI","PATHWAY-ID"]),b.contentSteering={uri:N.resolve(ye["SERVER-URI"],a),pathwayId:ye["PATHWAY-ID"]||"."};break;case"START":b.startTimeOffset=ei(pe)}}var Ce=A.length>0&&A.length<b.levels.length;return b.levels=Ce?A:b.levels,b.levels.length===0&&(b.playlistParsingError=new Error("no levels found in manifest")),b},N.parseMasterPlaylistMedia=function(R,a,h){var b,A={},M=h.levels,U={AUDIO:M.map(function(Se){return{id:Se.attrs.AUDIO,audioCodec:Se.audioCodec}}),SUBTITLES:M.map(function(Se){return{id:Se.attrs.SUBTITLES,textCodec:Se.textCodec}}),"CLOSED-CAPTIONS":[]},X=0;for(zt.lastIndex=0;(b=zt.exec(R))!==null;){var Q=new k(b[1]),q=Q.TYPE;if(q){var oe=U[q],pe=A[q]||[];A[q]=pe,ur(h,Q,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var me={attrs:Q,bitrate:0,id:X++,groupId:Q["GROUP-ID"]||"",instreamId:Q["INSTREAM-ID"],name:Q.NAME||Q.LANGUAGE||"",type:q,default:Q.bool("DEFAULT"),autoselect:Q.bool("AUTOSELECT"),forced:Q.bool("FORCED"),lang:Q.LANGUAGE,url:Q.URI?N.resolve(Q.URI,a):""};if(oe!=null&&oe.length){var be=N.findGroup(oe,me.groupId)||oe[0];Ji(me,be,"audioCodec"),Ji(me,be,"textCodec")}pe.push(me)}}return A},N.parseLevelPlaylist=function(R,a,h,b,A,M){var U,X,Q,q=new ge(a),oe=q.fragments,pe=null,me=0,be=0,Se=0,Re=0,ye=null,Ce=new G(b,a),$e=-1,He=!1;for(Xr.lastIndex=0,q.m3u8=R,q.hasVariableRefs=xr(R);(U=Xr.exec(R))!==null;){He&&(He=!1,(Ce=new G(b,a)).start=Se,Ce.sn=me,Ce.cc=Re,Ce.level=h,pe&&(Ce.initSegment=pe,Ce.rawProgramDateTime=pe.rawProgramDateTime,pe.rawProgramDateTime=null));var Ze=U[1];if(Ze){Ce.duration=parseFloat(Ze);var lt=(" "+U[2]).slice(1);Ce.title=lt||null,Ce.tagList.push(lt?["INF",Ze,lt]:["INF",Ze])}else if(U[3]){if(x(Ce.duration)){Ce.start=Se,Q&&Gi(Ce,Q,q),Ce.sn=me,Ce.level=h,Ce.cc=Re,Ce.urlId=A,oe.push(Ce);var ht=(" "+U[3]).slice(1);Ce.relurl=er(q,ht),Kr(Ce,ye),ye=Ce,Se+=Ce.duration,me++,be=0,He=!0}}else if(U[4]){var wt=(" "+U[4]).slice(1);ye?Ce.setByteRange(wt,ye):Ce.setByteRange(wt)}else if(U[5])Ce.rawProgramDateTime=(" "+U[5]).slice(1),Ce.tagList.push(["PROGRAM-DATE-TIME",Ce.rawProgramDateTime]),$e===-1&&($e=oe.length);else{if(!(U=U[0].match(fi))){W.warn("No matches on slow regex match for level playlist!");continue}for(X=1;X<U.length&&U[X]===void 0;X++);var dt=(" "+U[X]).slice(1),gt=(" "+U[X+1]).slice(1),Pt=U[X+2]?(" "+U[X+2]).slice(1):"";switch(dt){case"PLAYLIST-TYPE":q.type=gt.toUpperCase();break;case"MEDIA-SEQUENCE":me=q.startSN=parseInt(gt);break;case"SKIP":var xt=new k(gt);ur(q,xt,["RECENTLY-REMOVED-DATERANGES"]);var Wt=xt.decimalInteger("SKIPPED-SEGMENTS");if(x(Wt)){q.skippedSegments=Wt;for(var Qt=Wt;Qt--;)oe.unshift(null);me+=Wt}var Vt=xt.enumeratedString("RECENTLY-REMOVED-DATERANGES");Vt&&(q.recentlyRemovedDateranges=Vt.split("	"));break;case"TARGETDURATION":q.targetduration=Math.max(parseInt(gt),1);break;case"VERSION":q.version=parseInt(gt);break;case"EXTM3U":break;case"ENDLIST":q.live=!1;break;case"#":(gt||Pt)&&Ce.tagList.push(Pt?[gt,Pt]:[gt]);break;case"DISCONTINUITY":Re++,Ce.tagList.push(["DIS"]);break;case"GAP":Ce.gap=!0,Ce.tagList.push([dt]);break;case"BITRATE":Ce.tagList.push([dt,gt]);break;case"DATERANGE":var Gt=new k(gt);ur(q,Gt,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),ur(q,Gt,Gt.clientAttrs);var Jt=new H(Gt,q.dateRanges[Gt.ID]);Jt.isValid||q.skippedSegments?q.dateRanges[Jt.id]=Jt:W.warn('Ignoring invalid DATERANGE tag: "'+gt+'"'),Ce.tagList.push(["EXT-X-DATERANGE",gt]);break;case"DEFINE":var Kt=new k(gt);ur(q,Kt,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Kt?ar(q,Kt,M):zr(q,Kt,a);break;case"DISCONTINUITY-SEQUENCE":Re=parseInt(gt);break;case"KEY":var kt=oi(gt,a,q);if(kt.isSupported()){if(kt.method==="NONE"){Q=void 0;break}Q||(Q={}),Q[kt.keyFormat]&&(Q=t({},Q)),Q[kt.keyFormat]=kt}else W.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+gt+'"');break;case"START":q.startTimeOffset=ei(gt);break;case"MAP":var yr=new k(gt);if(ur(q,yr,["BYTERANGE","URI"]),Ce.duration){var kr=new G(b,a);Xi(kr,yr,h,Q),pe=kr,Ce.initSegment=pe,pe.rawProgramDateTime&&!Ce.rawProgramDateTime&&(Ce.rawProgramDateTime=pe.rawProgramDateTime)}else Xi(Ce,yr,h,Q),pe=Ce,He=!0;break;case"SERVER-CONTROL":var Hr=new k(gt);q.canBlockReload=Hr.bool("CAN-BLOCK-RELOAD"),q.canSkipUntil=Hr.optionalFloat("CAN-SKIP-UNTIL",0),q.canSkipDateRanges=q.canSkipUntil>0&&Hr.bool("CAN-SKIP-DATERANGES"),q.partHoldBack=Hr.optionalFloat("PART-HOLD-BACK",0),q.holdBack=Hr.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Qi=new k(gt);q.partTarget=Qi.decimalFloatingPoint("PART-TARGET");break;case"PART":var Ai=q.partList;Ai||(Ai=q.partList=[]);var Un=be>0?Ai[Ai.length-1]:void 0,ai=be++,_n=new k(gt);ur(q,_n,["BYTERANGE","URI"]);var hi=new le(_n,Ce,a,ai,Un);Ai.push(hi),Ce.duration+=hi.duration;break;case"PRELOAD-HINT":var Ci=new k(gt);ur(q,Ci,["URI"]),q.preloadHint=Ci;break;case"RENDITION-REPORT":var jn=new k(gt);ur(q,jn,["URI"]),q.renditionReports=q.renditionReports||[],q.renditionReports.push(jn);break;default:W.warn("line parsed but not handled: "+U)}}}ye&&!ye.relurl?(oe.pop(),Se-=ye.duration,q.partList&&(q.fragmentHint=ye)):q.partList&&(Kr(Ce,ye),Ce.cc=Re,q.fragmentHint=Ce,Q&&Gi(Ce,Q,q));var as=oe.length,ri=oe[0],En=oe[as-1];if((Se+=q.skippedSegments*q.targetduration)>0&&as&&En){q.averagetargetduration=Se/as;var Qs=En.sn;q.endSN=Qs!=="initSegment"?Qs:0,q.live||(En.endList=!0),ri&&(q.startCC=ri.cc)}else q.endSN=0,q.startCC=0;return q.fragmentHint&&(Se+=q.fragmentHint.duration),q.totalduration=Se,q.endCC=Re,$e>0&&function(Za,os){for(var Ts=Za[os],Js=os;Js--;){var Jn=Za[Js];if(!Jn)return;Jn.programDateTime=Ts.programDateTime-1e3*Jn.duration,Ts=Jn}}(oe,$e),q},N}();function oi(N,R,a){var h,b,A=new k(N);ur(a,A,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var M=(h=A.METHOD)!=null?h:"",U=A.URI,X=A.hexadecimalInteger("IV"),Q=A.KEYFORMATVERSIONS,q=(b=A.KEYFORMAT)!=null?b:"identity";U&&A.IV&&!X&&W.error("Invalid IV: "+A.IV);var oe=U?pi.resolve(U,R):"",pe=(Q||"1").split("/").map(Number).filter(Number.isFinite);return new fr(M,oe,q,pe,X)}function ei(N){var R=new k(N).decimalFloatingPoint("TIME-OFFSET");return x(R)?R:null}function hn(N,R){["video","audio","text"].forEach(function(a){var h=N.filter(function(A){return function(M,U){var X=Ue[U];return!!X&&X[M.slice(0,4)]===!0}(A,a)});if(h.length){var b=h.filter(function(A){return A.lastIndexOf("avc1",0)===0||A.lastIndexOf("mp4a",0)===0});R[a+"Codec"]=b.length>0?b[0]:h[0],N=N.filter(function(A){return h.indexOf(A)===-1})}}),R.unknownCodecs=N}function Ji(N,R,a){var h=R[a];h&&(N[a]=h)}function Kr(N,R){N.rawProgramDateTime?N.programDateTime=Date.parse(N.rawProgramDateTime):R!=null&&R.programDateTime&&(N.programDateTime=R.endProgramDateTime),x(N.programDateTime)||(N.programDateTime=null,N.rawProgramDateTime=null)}function Xi(N,R,a,h){N.relurl=R.URI,R.BYTERANGE&&N.setByteRange(R.BYTERANGE),N.level=a,N.sn="initSegment",h&&(N.levelkeys=h),N.initSegment=null}function Gi(N,R,a){N.levelkeys=R;var h=a.encryptedFragments;h.length&&h[h.length-1].levelkeys===R||!Object.keys(R).some(function(b){return R[b].isCommonEncryption})||h.push(N)}var yi="manifest",Oi="level",Mi="audioTrack",qi="subtitleTrack",gr="main",Ki="audio",ji="subtitle";function ds(N){switch(N.type){case Mi:return Ki;case qi:return ji;default:return gr}}function rs(N,R){var a=N.url;return a!==void 0&&a.indexOf("data:")!==0||(a=R.url),a}var ps=function(){function N(a){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=a,this.registerListeners()}var R=N.prototype;return R.startLoad=function(a){},R.stopLoad=function(){this.destroyInternalLoaders()},R.registerListeners=function(){var a=this.hls;a.on(w.MANIFEST_LOADING,this.onManifestLoading,this),a.on(w.LEVEL_LOADING,this.onLevelLoading,this),a.on(w.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),a.on(w.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},R.unregisterListeners=function(){var a=this.hls;a.off(w.MANIFEST_LOADING,this.onManifestLoading,this),a.off(w.LEVEL_LOADING,this.onLevelLoading,this),a.off(w.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),a.off(w.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},R.createInternalLoader=function(a){var h=this.hls.config,b=h.pLoader,A=h.loader,M=new(b||A)(h);return this.loaders[a.type]=M,M},R.getInternalLoader=function(a){return this.loaders[a.type]},R.resetInternalLoader=function(a){this.loaders[a]&&delete this.loaders[a]},R.destroyInternalLoaders=function(){for(var a in this.loaders){var h=this.loaders[a];h&&h.destroy(),this.resetInternalLoader(a)}},R.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},R.onManifestLoading=function(a,h){var b=h.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:yi,url:b,deliveryDirectives:null})},R.onLevelLoading=function(a,h){var b=h.id,A=h.level,M=h.url,U=h.deliveryDirectives;this.load({id:b,level:A,responseType:"text",type:Oi,url:M,deliveryDirectives:U})},R.onAudioTrackLoading=function(a,h){var b=h.id,A=h.groupId,M=h.url,U=h.deliveryDirectives;this.load({id:b,groupId:A,level:null,responseType:"text",type:Mi,url:M,deliveryDirectives:U})},R.onSubtitleTrackLoading=function(a,h){var b=h.id,A=h.groupId,M=h.url,U=h.deliveryDirectives;this.load({id:b,groupId:A,level:null,responseType:"text",type:qi,url:M,deliveryDirectives:U})},R.load=function(a){var h,b,A,M=this,U=this.hls.config,X=this.getInternalLoader(a);if(X){var Q=X.context;if(Q&&Q.url===a.url)return void W.trace("[playlist-loader]: playlist request ongoing");W.log("[playlist-loader]: aborting previous loader for type: "+a.type),X.abort()}if(b=a.type===yi?U.manifestLoadPolicy.default:t({},U.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),X=this.createInternalLoader(a),(h=a.deliveryDirectives)!=null&&h.part&&(a.type===Oi&&a.level!==null?A=this.hls.levels[a.level].details:a.type===Mi&&a.id!==null?A=this.hls.audioTracks[a.id].details:a.type===qi&&a.id!==null&&(A=this.hls.subtitleTracks[a.id].details),A)){var q=A.partTarget,oe=A.targetduration;if(q&&oe){var pe=1e3*Math.max(3*q,.8*oe);b=t({},b,{maxTimeToFirstByteMs:Math.min(pe,b.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(pe,b.maxTimeToFirstByteMs)})}}var me=b.errorRetry||b.timeoutRetry||{},be={loadPolicy:b,timeout:b.maxLoadTimeMs,maxRetry:me.maxNumRetry||0,retryDelay:me.retryDelayMs||0,maxRetryDelay:me.maxRetryDelayMs||0},Se={onSuccess:function(Re,ye,Ce,$e){var He=M.getInternalLoader(Ce);M.resetInternalLoader(Ce.type);var Ze=Re.data;Ze.indexOf("#EXTM3U")===0?(ye.parsing.start=performance.now(),pi.isMediaPlaylist(Ze)?M.handleTrackOrLevelPlaylist(Re,ye,Ce,$e||null,He):M.handleMasterPlaylist(Re,ye,Ce,$e)):M.handleManifestParsingError(Re,Ce,new Error("no EXTM3U delimiter"),$e||null,ye)},onError:function(Re,ye,Ce,$e){M.handleNetworkError(ye,Ce,!1,Re,$e)},onTimeout:function(Re,ye,Ce){M.handleNetworkError(ye,Ce,!0,void 0,Re)}};X.load(a,be,Se)},R.handleMasterPlaylist=function(a,h,b,A){var M=this.hls,U=a.data,X=rs(a,b),Q=pi.parseMasterPlaylist(U,X);if(Q.playlistParsingError)this.handleManifestParsingError(a,b,Q.playlistParsingError,A,h);else{var q=Q.contentSteering,oe=Q.levels,pe=Q.sessionData,me=Q.sessionKeys,be=Q.startTimeOffset,Se=Q.variableList;this.variableList=Se;var Re=pi.parseMasterPlaylistMedia(U,X,Q),ye=Re.AUDIO,Ce=ye===void 0?[]:ye,$e=Re.SUBTITLES,He=Re["CLOSED-CAPTIONS"];Ce.length&&(Ce.some(function(Ze){return!Ze.url})||!oe[0].audioCodec||oe[0].attrs.AUDIO||(W.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),Ce.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new k({}),bitrate:0,url:""}))),M.trigger(w.MANIFEST_LOADED,{levels:oe,audioTracks:Ce,subtitles:$e,captions:He,contentSteering:q,url:X,stats:h,networkDetails:A,sessionData:pe,sessionKeys:me,startTimeOffset:be,variableList:Se})}},R.handleTrackOrLevelPlaylist=function(a,h,b,A,M){var U=this.hls,X=b.id,Q=b.level,q=b.type,oe=rs(a,b),pe=x(X)?X:0,me=x(Q)?Q:pe,be=ds(b),Se=pi.parseLevelPlaylist(a.data,oe,me,be,pe,this.variableList);if(q===yi){var Re={attrs:new k({}),bitrate:0,details:Se,name:"",url:oe};U.trigger(w.MANIFEST_LOADED,{levels:[Re],audioTracks:[],url:oe,stats:h,networkDetails:A,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}h.parsing.end=performance.now(),b.levelDetails=Se,this.handlePlaylistLoaded(Se,a,h,b,A,M)},R.handleManifestParsingError=function(a,h,b,A,M){this.hls.trigger(w.ERROR,{type:I.NETWORK_ERROR,details:D.MANIFEST_PARSING_ERROR,fatal:h.type===yi,url:a.url,err:b,error:b,reason:b.message,response:a,context:h,networkDetails:A,stats:M})},R.handleNetworkError=function(a,h,b,A,M){b===void 0&&(b=!1);var U="A network "+(b?"timeout":"error"+(A?" (status "+A.code+")":""))+" occurred while loading "+a.type;a.type===Oi?U+=": "+a.level+" id: "+a.id:a.type!==Mi&&a.type!==qi||(U+=" id: "+a.id+' group-id: "'+a.groupId+'"');var X=new Error(U);W.warn("[playlist-loader]: "+U);var Q=D.UNKNOWN,q=!1,oe=this.getInternalLoader(a);switch(a.type){case yi:Q=b?D.MANIFEST_LOAD_TIMEOUT:D.MANIFEST_LOAD_ERROR,q=!0;break;case Oi:Q=b?D.LEVEL_LOAD_TIMEOUT:D.LEVEL_LOAD_ERROR,q=!1;break;case Mi:Q=b?D.AUDIO_TRACK_LOAD_TIMEOUT:D.AUDIO_TRACK_LOAD_ERROR,q=!1;break;case qi:Q=b?D.SUBTITLE_TRACK_LOAD_TIMEOUT:D.SUBTITLE_LOAD_ERROR,q=!1}oe&&this.resetInternalLoader(a.type);var pe={type:I.NETWORK_ERROR,details:Q,fatal:q,url:a.url,loader:oe,context:a,error:X,networkDetails:h,stats:M};if(A){var me=(h==null?void 0:h.url)||a.url;pe.response=f({url:me,data:void 0},A)}this.hls.trigger(w.ERROR,pe)},R.handlePlaylistLoaded=function(a,h,b,A,M,U){var X=this.hls,Q=A.type,q=A.level,oe=A.id,pe=A.groupId,me=A.deliveryDirectives,be=rs(h,A),Se=ds(A),Re=typeof A.level=="number"&&Se===gr?q:void 0;if(a.fragments.length){a.targetduration||(a.playlistParsingError=new Error("Missing Target Duration"));var ye=a.playlistParsingError;if(ye)X.trigger(w.ERROR,{type:I.NETWORK_ERROR,details:D.LEVEL_PARSING_ERROR,fatal:!1,url:be,error:ye,reason:ye.message,response:h,context:A,level:Re,parent:Se,networkDetails:M,stats:b});else switch(a.live&&U&&(U.getCacheAge&&(a.ageHeader=U.getCacheAge()||0),U.getCacheAge&&!isNaN(a.ageHeader)||(a.ageHeader=0)),Q){case yi:case Oi:X.trigger(w.LEVEL_LOADED,{details:a,level:Re||0,id:oe||0,stats:b,networkDetails:M,deliveryDirectives:me});break;case Mi:X.trigger(w.AUDIO_TRACK_LOADED,{details:a,id:oe||0,groupId:pe||"",stats:b,networkDetails:M,deliveryDirectives:me});break;case qi:X.trigger(w.SUBTITLE_TRACK_LOADED,{details:a,id:oe||0,groupId:pe||"",stats:b,networkDetails:M,deliveryDirectives:me})}}else{var Ce=new Error("No Segments found in Playlist");X.trigger(w.ERROR,{type:I.NETWORK_ERROR,details:D.LEVEL_EMPTY_ERROR,fatal:!1,url:be,error:Ce,reason:Ce.message,response:h,context:A,level:Re,parent:Se,networkDetails:M,stats:b})}},N}();function la(N,R){var a;try{a=new Event("addtrack")}catch{(a=document.createEvent("Event")).initEvent("addtrack",!1,!1)}a.track=N,R.dispatchEvent(a)}function Ps(N,R){var a=N.mode;if(a==="disabled"&&(N.mode="hidden"),N.cues&&!N.cues.getCueById(R.id))try{if(N.addCue(R),!N.cues.getCueById(R.id))throw new Error("addCue is failed for: "+R)}catch(b){W.debug("[texttrack-utils]: "+b);try{var h=new self.TextTrackCue(R.startTime,R.endTime,R.text);h.id=R.id,N.addCue(h)}catch(A){W.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+A)}}a==="disabled"&&(N.mode=a)}function en(N){var R=N.mode;if(R==="disabled"&&(N.mode="hidden"),N.cues)for(var a=N.cues.length;a--;)N.removeCue(N.cues[a]);R==="disabled"&&(N.mode=R)}function Wn(N,R,a,h){var b=N.mode;if(b==="disabled"&&(N.mode="hidden"),N.cues&&N.cues.length>0)for(var A=function(U,X,Q){var q=[],oe=function(Se,Re){if(Re<Se[0].startTime)return 0;var ye=Se.length-1;if(Re>Se[ye].endTime)return-1;for(var Ce=0,$e=ye;Ce<=$e;){var He=Math.floor(($e+Ce)/2);if(Re<Se[He].startTime)$e=He-1;else{if(!(Re>Se[He].startTime&&Ce<ye))return He;Ce=He+1}}return Se[Ce].startTime-Re<Re-Se[$e].startTime?Ce:$e}(U,X);if(oe>-1)for(var pe=oe,me=U.length;pe<me;pe++){var be=U[pe];if(be.startTime>=X&&be.endTime<=Q)q.push(be);else if(be.startTime>Q)return q}return q}(N.cues,R,a),M=0;M<A.length;M++)h&&!h(A[M])||N.removeCue(A[M]);b==="disabled"&&(N.mode=b)}var tn="org.id3",ha="com.apple.quicktime.HLS",Mn="https://aomedia.org/emsg/ID3";function Vn(){if(typeof self<"u")return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var rn=function(){var N=Vn();try{new N(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function ms(N,R){return N.getTime()/1e3-R}var ca=function(){function N(a){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=a,this._registerListeners()}var R=N.prototype;return R.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},R._registerListeners=function(){var a=this.hls;a.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),a.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),a.on(w.MANIFEST_LOADING,this.onManifestLoading,this),a.on(w.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),a.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this),a.on(w.LEVEL_UPDATED,this.onLevelUpdated,this)},R._unregisterListeners=function(){var a=this.hls;a.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),a.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),a.off(w.MANIFEST_LOADING,this.onManifestLoading,this),a.off(w.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),a.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),a.off(w.LEVEL_UPDATED,this.onLevelUpdated,this)},R.onMediaAttached=function(a,h){this.media=h.media},R.onMediaDetaching=function(){this.id3Track&&(en(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},R.onManifestLoading=function(){this.dateRangeCuesAppended={}},R.createTrack=function(a){var h=this.getID3Track(a.textTracks);return h.mode="hidden",h},R.getID3Track=function(a){if(this.media){for(var h=0;h<a.length;h++){var b=a[h];if(b.kind==="metadata"&&b.label==="id3")return la(b,this.media),b}return this.media.addTextTrack("metadata","id3")}},R.onFragParsingMetadata=function(a,h){if(this.media){var b=this.hls.config,A=b.enableEmsgMetadataCues,M=b.enableID3MetadataCues;if(A||M){var U=h.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var X=Vn(),Q=0;Q<U.length;Q++){var q=U[Q].type;if((q!==Mn||A)&&M){var oe=We(U[Q].data);if(oe){var pe=U[Q].pts,me=pe+U[Q].duration;me>rn&&(me=rn),me-pe<=0&&(me=pe+.25);for(var be=0;be<oe.length;be++){var Se=oe[be];if(!Ae(Se)){this.updateId3CueEnds(pe,q);var Re=new X(pe,me,"");Re.value=Se,q&&(Re.type=q),this.id3Track.addCue(Re)}}}}}}}},R.updateId3CueEnds=function(a,h){var b,A=(b=this.id3Track)==null?void 0:b.cues;if(A)for(var M=A.length;M--;){var U=A[M];U.type===h&&U.startTime<a&&U.endTime===rn&&(U.endTime=a)}},R.onBufferFlushing=function(a,h){var b=h.startOffset,A=h.endOffset,M=h.type,U=this.id3Track,X=this.hls;if(X){var Q=X.config,q=Q.enableEmsgMetadataCues,oe=Q.enableID3MetadataCues;U&&(q||oe)&&Wn(U,b,A,M==="audio"?function(pe){return pe.type===tn&&oe}:M==="video"?function(pe){return pe.type===Mn&&q}:function(pe){return pe.type===tn&&oe||pe.type===Mn&&q})}},R.onLevelUpdated=function(a,h){var b=this,A=h.details;if(this.media&&A.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var M=this.dateRangeCuesAppended,U=this.id3Track,X=A.dateRanges,Q=Object.keys(X);if(U)for(var q=Object.keys(M).filter(function(Ce){return!Q.includes(Ce)}),oe=function(){var Ce=q[pe];Object.keys(M[Ce].cues).forEach(function($e){U.removeCue(M[Ce].cues[$e])}),delete M[Ce]},pe=q.length;pe--;)oe();var me=A.fragments[A.fragments.length-1];if(Q.length!==0&&x(me==null?void 0:me.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var be=me.programDateTime/1e3-me.start,Se=Vn(),Re=function(){var Ce=Q[ye],$e=X[Ce],He=M[Ce],Ze=(He==null?void 0:He.cues)||{},lt=(He==null?void 0:He.durationKnown)||!1,ht=ms($e.startDate,be),wt=rn,dt=$e.endDate;if(dt)wt=ms(dt,be),lt=!0;else if($e.endOnNext&&!lt){var gt=Q.reduce(function(Kt,kt){var yr=X[kt];return yr.class===$e.class&&yr.id!==kt&&yr.startDate>$e.startDate&&Kt.push(yr),Kt},[]).sort(function(Kt,kt){return Kt.startDate.getTime()-kt.startDate.getTime()})[0];gt&&(wt=ms(gt.startDate,be),lt=!0)}for(var Pt,xt,Wt=Object.keys($e.attr),Qt=0;Qt<Wt.length;Qt++){var Vt=Wt[Qt];if((xt=Vt)!=="ID"&&xt!=="CLASS"&&xt!=="START-DATE"&&xt!=="DURATION"&&xt!=="END-DATE"&&xt!=="END-ON-NEXT"){var Gt=Ze[Vt];if(Gt)lt&&!He.durationKnown&&(Gt.endTime=wt);else{var Jt=$e.attr[Vt];Gt=new Se(ht,wt,""),B(Vt)&&(Pt=Jt,Jt=Uint8Array.from(Pt.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),Gt.value={key:Vt,data:Jt},Gt.type=ha,Gt.id=Ce,b.id3Track.addCue(Gt),Ze[Vt]=Gt}}}M[Ce]={cues:Ze,dateRange:$e,durationKnown:lt}},ye=0;ye<Q.length;ye++)Re()}}},N}(),cn=function(){function N(a){var h=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return h.timeupdate()},this.hls=a,this.config=a.config,this.registerListeners()}var R=N.prototype;return R.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},R.registerListeners=function(){this.hls.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(w.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(w.ERROR,this.onError,this)},R.unregisterListeners=function(){this.hls.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(w.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(w.ERROR,this.onError,this)},R.onMediaAttached=function(a,h){this.media=h.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},R.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},R.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},R.onLevelUpdated=function(a,h){var b=h.details;this.levelDetails=b,b.advanced&&this.timeupdate(),!b.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},R.onError=function(a,h){var b;h.details===D.BUFFER_STALLED_ERROR&&(this.stallCount++,(b=this.levelDetails)!=null&&b.live&&W.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},R.timeupdate=function(){var a=this.media,h=this.levelDetails;if(a&&h){this.currentTime=a.currentTime;var b=this.computeLatency();if(b!==null){this._latency=b;var A=this.config,M=A.lowLatencyMode,U=A.maxLiveSyncPlaybackRate;if(M&&U!==1){var X=this.targetLatency;if(X!==null){var Q=b-X,q=Q<Math.min(this.maxLatency,X+h.targetduration);if(h.live&&q&&Q>.05&&this.forwardBufferLength>1){var oe=Math.min(2,Math.max(1,U)),pe=Math.round(2/(1+Math.exp(-.75*Q-this.edgeStalled))*20)/20;a.playbackRate=Math.min(oe,Math.max(1,pe))}else a.playbackRate!==1&&a.playbackRate!==0&&(a.playbackRate=1)}}}}},R.estimateLiveEdge=function(){var a=this.levelDetails;return a===null?null:a.edge+a.age},R.computeLatency=function(){var a=this.estimateLiveEdge();return a===null?null:a-this.currentTime},c(N,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var a=this.config,h=this.levelDetails;return a.liveMaxLatencyDuration!==void 0?a.liveMaxLatencyDuration:h?a.liveMaxLatencyDurationCount*h.targetduration:0}},{key:"targetLatency",get:function(){var a=this.levelDetails;if(a===null)return null;var h=a.holdBack,b=a.partHoldBack,A=a.targetduration,M=this.config,U=M.liveSyncDuration,X=M.liveSyncDurationCount,Q=M.lowLatencyMode,q=this.hls.userConfig,oe=Q&&b||h;(q.liveSyncDuration||q.liveSyncDurationCount||oe===0)&&(oe=U!==void 0?U:X*A);var pe=A;return oe+Math.min(1*this.stallCount,pe)}},{key:"liveSyncPosition",get:function(){var a=this.estimateLiveEdge(),h=this.targetLatency,b=this.levelDetails;if(a===null||h===null||b===null)return null;var A=b.edge,M=a-h-this.edgeStalled,U=A-b.totalduration,X=A-(this.config.lowLatencyMode&&b.partTarget||b.targetduration);return Math.min(Math.max(U,M),X)}},{key:"drift",get:function(){var a=this.levelDetails;return a===null?1:a.drift}},{key:"edgeStalled",get:function(){var a=this.levelDetails;if(a===null)return 0;var h=3*(this.config.lowLatencyMode&&a.partTarget||a.targetduration);return Math.max(a.age-h,0)}},{key:"forwardBufferLength",get:function(){var a=this.media,h=this.levelDetails;if(!a||!h)return 0;var b=a.buffered.length;return(b?a.buffered.end(b-1):h.edge)-this.currentTime}}]),N}(),Ds=["NONE","TYPE-0","TYPE-1",null],gs="",Ba="YES",fa="v2",ua=function(){function N(R,a,h){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=R,this.part=a,this.skip=h}return N.prototype.addDirectives=function(R){var a=new self.URL(R);return this.msn!==void 0&&a.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&a.searchParams.set("_HLS_part",this.part.toString()),this.skip&&a.searchParams.set("_HLS_skip",this.skip),a.href},N}(),zi=function(){function N(R){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[R.url],this._attrs=[R.attrs],this.bitrate=R.bitrate,R.details&&(this.details=R.details),this.id=R.id||0,this.name=R.name,this.width=R.width||0,this.height=R.height||0,this.audioCodec=R.audioCodec,this.videoCodec=R.videoCodec,this.unknownCodecs=R.unknownCodecs,this.codecSet=[R.videoCodec,R.audioCodec].filter(function(a){return a}).join(",").replace(/\.[^.,]+/g,"")}return N.prototype.addFallback=function(R){this.url.push(R.url),this._attrs.push(R.attrs)},c(N,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(R){var a=R%this.url.length;this._urlId!==a&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=a)}},{key:"audioGroupId",get:function(){var R;return(R=this.audioGroupIds)==null?void 0:R[this.urlId]}},{key:"textGroupId",get:function(){var R;return(R=this.textGroupIds)==null?void 0:R[this.urlId]}}]),N}();function vs(N,R){var a=R.startPTS;if(x(a)){var h,b=0;R.sn>N.sn?(b=a-N.start,h=N):(b=N.start-a,h=R),h.duration!==b&&(h.duration=b)}else R.sn>N.sn?N.cc===R.cc&&N.minEndPTS?R.start=N.start+(N.minEndPTS-N.start):R.start=N.start+N.duration:R.start=Math.max(N.start-R.duration,0)}function da(N,R,a,h,b,A){h-a<=0&&(W.warn("Fragment should have a positive duration",R),h=a+R.duration,A=b+R.duration);var M=a,U=h,X=R.startPTS,Q=R.endPTS;if(x(X)){var q=Math.abs(X-a);x(R.deltaPTS)?R.deltaPTS=Math.max(q,R.deltaPTS):R.deltaPTS=q,M=Math.max(a,X),a=Math.min(a,X),b=Math.min(b,R.startDTS),U=Math.min(h,Q),h=Math.max(h,Q),A=Math.max(A,R.endDTS)}var oe=a-R.start;R.start!==0&&(R.start=a),R.duration=h-R.start,R.startPTS=a,R.maxStartPTS=M,R.startDTS=b,R.endPTS=h,R.minEndPTS=U,R.endDTS=A;var pe,me=R.sn;if(!N||me<N.startSN||me>N.endSN)return 0;var be=me-N.startSN,Se=N.fragments;for(Se[be]=R,pe=be;pe>0;pe--)vs(Se[pe],Se[pe-1]);for(pe=be;pe<Se.length-1;pe++)vs(Se[pe],Se[pe+1]);return N.fragmentHint&&vs(Se[Se.length-1],N.fragmentHint),N.PTSKnown=N.alignedSliding=!0,oe}function fn(N,R){for(var a=null,h=N.fragments,b=h.length-1;b>=0;b--){var A=h[b].initSegment;if(A){a=A;break}}N.fragmentHint&&delete N.fragmentHint.endPTS;var M,U,X,Q,q,oe=0;if(function(ye,Ce,$e){for(var He=Ce.skippedSegments,Ze=Math.max(ye.startSN,Ce.startSN)-Ce.startSN,lt=(ye.fragmentHint?1:0)+(He?Ce.endSN:Math.min(ye.endSN,Ce.endSN))-Ce.startSN,ht=Ce.startSN-ye.startSN,wt=Ce.fragmentHint?Ce.fragments.concat(Ce.fragmentHint):Ce.fragments,dt=ye.fragmentHint?ye.fragments.concat(ye.fragmentHint):ye.fragments,gt=Ze;gt<=lt;gt++){var Pt=dt[ht+gt],xt=wt[gt];He&&!xt&&gt<He&&(xt=Ce.fragments[gt]=Pt),Pt&&xt&&$e(Pt,xt)}}(N,R,function(ye,Ce){ye.relurl&&(oe=ye.cc-Ce.cc),x(ye.startPTS)&&x(ye.endPTS)&&(Ce.start=Ce.startPTS=ye.startPTS,Ce.startDTS=ye.startDTS,Ce.maxStartPTS=ye.maxStartPTS,Ce.endPTS=ye.endPTS,Ce.endDTS=ye.endDTS,Ce.minEndPTS=ye.minEndPTS,Ce.duration=ye.endPTS-ye.startPTS,Ce.duration&&(M=Ce),R.PTSKnown=R.alignedSliding=!0),Ce.elementaryStreams=ye.elementaryStreams,Ce.loader=ye.loader,Ce.stats=ye.stats,Ce.urlId=ye.urlId,ye.initSegment&&(Ce.initSegment=ye.initSegment,a=ye.initSegment)}),a&&(R.fragmentHint?R.fragments.concat(R.fragmentHint):R.fragments).forEach(function(ye){var Ce;ye.initSegment&&ye.initSegment.relurl!==((Ce=a)==null?void 0:Ce.relurl)||(ye.initSegment=a)}),R.skippedSegments)if(R.deltaUpdateFailed=R.fragments.some(function(ye){return!ye}),R.deltaUpdateFailed){W.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var pe=R.skippedSegments;pe--;)R.fragments.shift();R.startSN=R.fragments[0].sn,R.startCC=R.fragments[0].cc}else R.canSkipDateRanges&&(R.dateRanges=(U=N.dateRanges,X=R.dateRanges,Q=R.recentlyRemovedDateranges,q=t({},U),Q&&Q.forEach(function(ye){delete q[ye]}),Object.keys(X).forEach(function(ye){var Ce=new H(X[ye].attr,q[ye]);Ce.isValid?q[ye]=Ce:W.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(X[ye].attr)+'"')}),q));var me=R.fragments;if(oe){W.warn("discontinuity sliding from playlist, take drift into account");for(var be=0;be<me.length;be++)me[be].cc+=oe}R.skippedSegments&&(R.startCC=R.fragments[0].cc),function(ye,Ce,$e){if(ye&&Ce)for(var He=0,Ze=0,lt=ye.length;Ze<=lt;Ze++){var ht=ye[Ze],wt=Ce[Ze+He];ht&&wt&&ht.index===wt.index&&ht.fragment.sn===wt.fragment.sn?$e(ht,wt):He--}}(N.partList,R.partList,function(ye,Ce){Ce.elementaryStreams=ye.elementaryStreams,Ce.stats=ye.stats}),M?da(R,M,M.startPTS,M.endPTS,M.startDTS,M.endDTS):pa(N,R),me.length&&(R.totalduration=R.edge-me[0].start),R.driftStartTime=N.driftStartTime,R.driftStart=N.driftStart;var Se=R.advancedDateTime;if(R.advanced&&Se){var Re=R.edge;R.driftStart||(R.driftStartTime=Se,R.driftStart=Re),R.driftEndTime=Se,R.driftEnd=Re}else R.driftEndTime=N.driftEndTime,R.driftEnd=N.driftEnd,R.advancedDateTime=N.advancedDateTime}function pa(N,R){var a=R.startSN+R.skippedSegments-N.startSN,h=N.fragments;a<0||a>=h.length||nn(R,h[a].start)}function nn(N,R){if(R){for(var a=N.fragments,h=N.skippedSegments;h<a.length;h++)a[h].start+=R;N.fragmentHint&&(N.fragmentHint.start+=R)}}function un(N,R,a){var h;return N!=null&&N.details?Ls((h=N.details)==null?void 0:h.partList,R,a):null}function Ls(N,R,a){if(N)for(var h=N.length;h--;){var b=N[h];if(b.index===a&&b.fragment.sn===R)return b}return null}function Xn(N){switch(N.details){case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_TIMEOUT:case D.LEVEL_LOAD_TIMEOUT:case D.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Ur(N,R){var a=Xn(R);return N.default[(a?"timeout":"error")+"Retry"]}function Pr(N,R){var a=N.backoff==="linear"?1:Math.pow(2,R);return Math.min(a*N.retryDelayMs,N.maxRetryDelayMs)}function Os(N){return f(f({},N),{errorRetry:null,timeoutRetry:null})}function bs(N,R,a,h){return!!N&&R<N.maxNumRetry&&(function(b){return b===0&&navigator.onLine===!1||!!b&&(b<400||b>499)}(h)||!!a)}var Ns=function(N,R){for(var a=0,h=N.length-1,b=null,A=null;a<=h;){var M=R(A=N[b=(a+h)/2|0]);if(M>0)a=b+1;else{if(!(M<0))return A;h=b-1}}return null};function Gn(N,R,a,h){a===void 0&&(a=0),h===void 0&&(h=0);var b=null;if(N?b=R[N.sn-R[0].sn+1]||null:a===0&&R[0].start===0&&(b=R[0]),b&&je(a,h,b)===0)return b;var A=Ns(R,je.bind(null,a,h));return!A||A===N&&b?b:A}function je(N,R,a){if(N===void 0&&(N=0),R===void 0&&(R=0),a.start<=N&&a.start+a.duration>N)return 0;var h=Math.min(R,a.duration+(a.deltaPTS?a.deltaPTS:0));return a.start+a.duration-h<=N?1:a.start-h>N&&a.start?-1:0}function qe(N,R,a){var h=1e3*Math.min(R,a.duration+(a.deltaPTS?a.deltaPTS:0));return(a.endProgramDateTime||0)-h>N}var vt,Ot=3e5,nr=0,Zt=2,Dr=5,Nr=0,Yr=1,Ar=2,wi=function(){function N(a){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=a,this.log=W.log.bind(W,"[info]:"),this.warn=W.warn.bind(W,"[warning]:"),this.error=W.error.bind(W,"[error]:"),this.registerListeners()}var R=N.prototype;return R.registerListeners=function(){var a=this.hls;a.on(w.ERROR,this.onError,this),a.on(w.MANIFEST_LOADING,this.onManifestLoading,this),a.on(w.LEVEL_UPDATED,this.onLevelUpdated,this)},R.unregisterListeners=function(){var a=this.hls;a&&(a.off(w.ERROR,this.onError,this),a.off(w.ERROR,this.onErrorOut,this),a.off(w.MANIFEST_LOADING,this.onManifestLoading,this),a.off(w.LEVEL_UPDATED,this.onLevelUpdated,this))},R.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},R.startLoad=function(a){this.playlistError=0},R.stopLoad=function(){},R.getVariantLevelIndex=function(a){return(a==null?void 0:a.type)===gr?a.level:this.hls.loadLevel},R.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},R.onLevelUpdated=function(){this.playlistError=0},R.onError=function(a,h){var b,A;if(!h.fatal){var M=this.hls,U=h.context;switch(h.details){case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:return void(h.errorAction=this.getFragRetryOrSwitchAction(h));case D.FRAG_PARSING_ERROR:if((b=h.frag)!=null&&b.gap)return void(h.errorAction={action:nr,flags:Nr});case D.FRAG_GAP:case D.FRAG_DECRYPT_ERROR:return h.errorAction=this.getFragRetryOrSwitchAction(h),void(h.errorAction.action=Zt);case D.LEVEL_EMPTY_ERROR:case D.LEVEL_PARSING_ERROR:var X,Q,q=h.parent===gr?h.level:M.loadLevel;return void(h.details===D.LEVEL_EMPTY_ERROR&&(X=h.context)!=null&&(Q=X.levelDetails)!=null&&Q.live?h.errorAction=this.getPlaylistRetryOrSwitchAction(h,q):(h.levelRetry=!1,h.errorAction=this.getLevelSwitchAction(h,q)));case D.LEVEL_LOAD_ERROR:case D.LEVEL_LOAD_TIMEOUT:return void(typeof(U==null?void 0:U.level)=="number"&&(h.errorAction=this.getPlaylistRetryOrSwitchAction(h,U.level)));case D.AUDIO_TRACK_LOAD_ERROR:case D.AUDIO_TRACK_LOAD_TIMEOUT:case D.SUBTITLE_LOAD_ERROR:case D.SUBTITLE_TRACK_LOAD_TIMEOUT:if(U){var oe=M.levels[M.loadLevel];if(oe&&(U.type===Mi&&U.groupId===oe.audioGroupId||U.type===qi&&U.groupId===oe.textGroupId))return h.errorAction=this.getPlaylistRetryOrSwitchAction(h,M.loadLevel),h.errorAction.action=Zt,void(h.errorAction.flags=Yr)}return;case D.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var pe=M.levels[M.loadLevel],me=pe==null?void 0:pe.attrs["HDCP-LEVEL"];return void(me&&(h.errorAction={action:Zt,flags:Ar,hdcpLevel:me}));case D.BUFFER_ADD_CODEC_ERROR:case D.REMUX_ALLOC_ERROR:return void(h.errorAction=this.getLevelSwitchAction(h,(A=h.level)!=null?A:M.loadLevel));case D.INTERNAL_EXCEPTION:case D.BUFFER_APPENDING_ERROR:case D.BUFFER_APPEND_ERROR:case D.BUFFER_FULL_ERROR:case D.LEVEL_SWITCH_ERROR:case D.BUFFER_STALLED_ERROR:case D.BUFFER_SEEK_OVER_HOLE:case D.BUFFER_NUDGE_ON_STALL:return void(h.errorAction={action:nr,flags:Nr})}if(h.type===I.KEY_SYSTEM_ERROR){var be=this.getVariantLevelIndex(h.frag);return h.levelRetry=!1,void(h.errorAction=this.getLevelSwitchAction(h,be))}}},R.getPlaylistRetryOrSwitchAction=function(a,h){var b,A=Ur(this.hls.config.playlistLoadPolicy,a),M=this.playlistError++,U=(b=a.response)==null?void 0:b.code;if(bs(A,M,Xn(a),U))return{action:Dr,flags:Nr,retryConfig:A,retryCount:M};var X=this.getLevelSwitchAction(a,h);return A&&(X.retryConfig=A,X.retryCount=M),X},R.getFragRetryOrSwitchAction=function(a){var h=this.hls,b=this.getVariantLevelIndex(a.frag),A=h.levels[b],M=h.config,U=M.fragLoadPolicy,X=M.keyLoadPolicy,Q=Ur(a.details.startsWith("key")?X:U,a),q=h.levels.reduce(function(be,Se){return be+Se.fragmentError},0);if(A){var oe;a.details!==D.FRAG_GAP&&A.fragmentError++;var pe=(oe=a.response)==null?void 0:oe.code;if(bs(Q,q,Xn(a),pe))return{action:Dr,flags:Nr,retryConfig:Q,retryCount:q}}var me=this.getLevelSwitchAction(a,b);return Q&&(me.retryConfig=Q,me.retryCount=q),me},R.getLevelSwitchAction=function(a,h){var b=this.hls;h==null&&(h=b.loadLevel);var A=this.hls.levels[h];if(A&&(A.loadError++,b.autoLevelEnabled)){for(var M,U,X=-1,Q=b.levels,q=b.loadLevel,oe=b.minAutoLevel,pe=b.maxAutoLevel,me=(M=a.frag)==null?void 0:M.type,be=(U=a.context)!=null?U:{},Se=be.type,Re=be.groupId,ye=Q.length;ye--;){var Ce=(ye+q)%Q.length;if(Ce!==q&&Ce>=oe&&Ce<=pe&&Q[Ce].loadError===0){var $e=Q[Ce];if(a.details===D.FRAG_GAP&&a.frag){var He=Q[Ce].details;if(He){var Ze=Gn(a.frag,He.fragments,a.frag.start);if(Ze!=null&&Ze.gap)continue}}else if(Se===Mi&&Re===$e.audioGroupId||Se===qi&&Re===$e.textGroupId||me===Ki&&A.audioGroupId===$e.audioGroupId||me===ji&&A.textGroupId===$e.textGroupId)continue;X=Ce;break}}if(X>-1&&b.loadLevel!==X)return a.levelRetry=!0,this.playlistError=0,{action:Zt,flags:Nr,nextAutoLevel:X}}return{action:Zt,flags:Yr}},R.onErrorOut=function(a,h){var b;switch((b=h.errorAction)==null?void 0:b.action){case nr:break;case Zt:this.sendAlternateToPenaltyBox(h),h.errorAction.resolved||h.details===D.FRAG_GAP||(h.fatal=!0)}h.fatal&&this.hls.stopLoad()},R.sendAlternateToPenaltyBox=function(a){var h=this.hls,b=a.errorAction;if(b){var A=b.flags,M=b.hdcpLevel,U=b.nextAutoLevel;switch(A){case Nr:this.switchLevel(a,U);break;case Yr:b.resolved||(b.resolved=this.redundantFailover(a));break;case Ar:M&&(h.maxHdcpLevel=Ds[Ds.indexOf(M)-1],b.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+h.maxHdcpLevel+'" or lower')}b.resolved||this.switchLevel(a,U)}},R.switchLevel=function(a,h){h!==void 0&&a.errorAction&&(this.warn("switching to level "+h+" after "+a.details),this.hls.nextAutoLevel=h,a.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},R.redundantFailover=function(a){var h=this,b=this.hls,A=this.penalizedRenditions,M=a.parent===gr?a.level:b.loadLevel,U=b.levels[M],X=U.url.length,Q=a.frag?a.frag.urlId:U.urlId;U.urlId!==Q||a.frag&&!U.details||this.penalizeRendition(U,a);for(var q=function(){var me=(Q+oe)%X,be=A[me];if(!be||function(Se,Re,ye){if(performance.now()-Se.lastErrorPerfMs>Ot)return!0;var Ce=Se.details;if(Re.details===D.FRAG_GAP&&Ce&&Re.frag){var $e=Re.frag.start,He=Gn(null,Ce.fragments,$e);if(He&&!He.gap)return!0}if(ye&&Se.errors.length<ye.errors.length){var Ze=Se.errors[Se.errors.length-1];if(Ce&&Ze.frag&&Re.frag&&Math.abs(Ze.frag.start-Re.frag.start)>3*Ce.targetduration)return!0}return!1}(be,a,A[Q]))return h.warn("Switching to Redundant Stream "+(me+1)+"/"+X+': "'+U.url[me]+'" after '+a.details),h.playlistError=0,b.levels.forEach(function(Se){Se.urlId=me}),b.nextLoadLevel=M,{v:!0}},oe=1;oe<X;oe++){var pe=q();if(typeof pe=="object")return pe.v}return!1},R.penalizeRendition=function(a,h){var b=this.penalizedRenditions,A=b[a.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};A.lastErrorPerfMs=performance.now(),A.errors.push(h),A.details=a.details,b[a.urlId]=A},N}(),mi=function(){function N(a,h){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=W.log.bind(W,h+":"),this.warn=W.warn.bind(W,h+":"),this.hls=a}var R=N.prototype;return R.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},R.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},R.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},R.stopLoad=function(){this.canLoad=!1,this.clearTimer()},R.switchParams=function(a,h){var b=h==null?void 0:h.renditionReports;if(b){for(var A=-1,M=0;M<b.length;M++){var U=b[M],X=void 0;try{X=new self.URL(U.URI,h.url).href}catch(me){W.warn("Could not construct new URL for Rendition Report: "+me),X=U.URI||""}if(X===a){A=M;break}X===a.substring(0,X.length)&&(A=M)}if(A!==-1){var Q=b[A],q=parseInt(Q["LAST-MSN"])||(h==null?void 0:h.lastPartSn),oe=parseInt(Q["LAST-PART"])||(h==null?void 0:h.lastPartIndex);if(this.hls.config.lowLatencyMode){var pe=Math.min(h.age-h.partTarget,h.targetduration);oe>=0&&pe>h.partTarget&&(oe+=1)}return new ua(q,oe>=0?oe:void 0,gs)}}},R.loadPlaylist=function(a){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},R.shouldLoadPlaylist=function(a){return this.canLoad&&!!a&&!!a.url&&(!a.details||a.details.live)},R.shouldReloadPlaylist=function(a){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(a)},R.playlistLoaded=function(a,h,b){var A=this,M=h.details,U=h.stats,X=self.performance.now(),Q=U.loading.first?Math.max(0,X-U.loading.first):0;if(M.advancedDateTime=Date.now()-Q,M.live||b!=null&&b.live){if(M.reloaded(b),b&&this.log("live playlist "+a+" "+(M.advanced?"REFRESHED "+M.lastPartSn+"-"+M.lastPartIndex:M.updated?"UPDATED":"MISSED")),b&&M.fragments.length>0&&fn(b,M),!this.canLoad||!M.live)return;var q,oe=void 0,pe=void 0;if(M.canBlockReload&&M.endSN&&M.advanced){var me=this.hls.config.lowLatencyMode,be=M.lastPartSn,Se=M.endSN,Re=M.lastPartIndex,ye=be===Se;Re!==-1?(oe=ye?Se+1:be,pe=ye?me?0:Re:Re+1):oe=Se+1;var Ce=M.age,$e=Ce+M.ageHeader,He=Math.min($e-M.partTarget,1.5*M.targetduration);if(He>0){if(b&&He>b.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+b.tuneInGoal+" to: "+He+" with playlist age: "+M.age),He=0;else{var Ze=Math.floor(He/M.targetduration);oe+=Ze,pe!==void 0&&(pe+=Math.round(He%M.targetduration/M.partTarget)),this.log("CDN Tune-in age: "+M.ageHeader+"s last advanced "+Ce.toFixed(2)+"s goal: "+He+" skip sn "+Ze+" to part "+pe)}M.tuneInGoal=He}if(q=this.getDeliveryDirectives(M,h.deliveryDirectives,oe,pe),me||!ye)return void this.loadPlaylist(q)}else(M.canBlockReload||M.canSkipUntil)&&(q=this.getDeliveryDirectives(M,h.deliveryDirectives,oe,pe));var lt=this.hls.mainForwardBufferInfo,ht=lt?lt.end-lt.len:0,wt=function(gt,Pt){Pt===void 0&&(Pt=1/0);var xt=1e3*gt.targetduration;if(gt.updated){var Wt=gt.fragments;if(Wt.length&&4*xt>Pt){var Qt=1e3*Wt[Wt.length-1].duration;Qt<xt&&(xt=Qt)}}else xt/=2;return Math.round(xt)}(M,1e3*(M.edge-ht));M.updated&&X>this.requestScheduled+wt&&(this.requestScheduled=U.loading.start),oe!==void 0&&M.canBlockReload?this.requestScheduled=U.loading.first+wt-(1e3*M.partTarget||1e3):this.requestScheduled===-1||this.requestScheduled+wt<X?this.requestScheduled=X:this.requestScheduled-X<=0&&(this.requestScheduled+=wt);var dt=this.requestScheduled-X;dt=Math.max(0,dt),this.log("reload live playlist "+a+" in "+Math.round(dt)+" ms"),this.timer=self.setTimeout(function(){return A.loadPlaylist(q)},dt)}else this.clearTimer()},R.getDeliveryDirectives=function(a,h,b,A){var M=function(U,X){var Q=U.canSkipUntil,q=U.canSkipDateRanges,oe=U.endSN;return Q&&(X!==void 0?X-oe:0)<Q?q?fa:Ba:gs}(a,b);return h!=null&&h.skip&&a.deltaUpdateFailed&&(b=h.msn,A=h.part,M=gs),new ua(b,A,M)},R.checkRetry=function(a){var h=this,b=a.details,A=Xn(a),M=a.errorAction,U=M||{},X=U.action,Q=U.retryCount,q=Q===void 0?0:Q,oe=U.retryConfig,pe=!!M&&!!oe&&(X===Dr||!M.resolved&&X===Zt);if(pe){var me;if(this.requestScheduled=-1,q>=oe.maxNumRetry)return!1;if(A&&(me=a.context)!=null&&me.deliveryDirectives)this.warn("Retrying playlist loading "+(q+1)+"/"+oe.maxNumRetry+' after "'+b+'" without delivery-directives'),this.loadPlaylist();else{var be=Pr(oe,q);this.timer=self.setTimeout(function(){return h.loadPlaylist()},be),this.warn("Retrying playlist loading "+(q+1)+"/"+oe.maxNumRetry+' after "'+b+'" in '+be+"ms")}a.levelRetry=!0,M.resolved=!0}return pe},N}(),ii=function(N){function R(h,b){var A;return(A=N.call(this,h,"[level-controller]")||this)._levels=[],A._firstLevel=-1,A._startLevel=void 0,A.currentLevel=null,A.currentLevelIndex=-1,A.manualLevelIndex=-1,A.steering=void 0,A.onParsedComplete=void 0,A.steering=b,A._registerListeners(),A}i(R,N);var a=R.prototype;return a._registerListeners=function(){var h=this.hls;h.on(w.MANIFEST_LOADING,this.onManifestLoading,this),h.on(w.MANIFEST_LOADED,this.onManifestLoaded,this),h.on(w.LEVEL_LOADED,this.onLevelLoaded,this),h.on(w.LEVELS_UPDATED,this.onLevelsUpdated,this),h.on(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),h.on(w.FRAG_LOADED,this.onFragLoaded,this),h.on(w.ERROR,this.onError,this)},a._unregisterListeners=function(){var h=this.hls;h.off(w.MANIFEST_LOADING,this.onManifestLoading,this),h.off(w.MANIFEST_LOADED,this.onManifestLoaded,this),h.off(w.LEVEL_LOADED,this.onLevelLoaded,this),h.off(w.LEVELS_UPDATED,this.onLevelsUpdated,this),h.off(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),h.off(w.FRAG_LOADED,this.onFragLoaded,this),h.off(w.ERROR,this.onError,this)},a.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),N.prototype.destroy.call(this)},a.startLoad=function(){this._levels.forEach(function(h){h.loadError=0,h.fragmentError=0}),N.prototype.startLoad.call(this)},a.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]},a.onManifestLoading=function(h,b){this.resetLevels()},a.onManifestLoaded=function(h,b){var A,M=[],U={};b.levels.forEach(function(X){var Q,q=X.attrs;((Q=X.audioCodec)==null?void 0:Q.indexOf("mp4a.40.34"))!==-1&&(vt||(vt=/chrome|firefox/i.test(navigator.userAgent)),vt&&(X.audioCodec=void 0));var oe=q.AUDIO,pe=q.CODECS,me=q["FRAME-RATE"],be=q["PATHWAY-ID"],Se=q.RESOLUTION,Re=q.SUBTITLES,ye=(be||".")+"-"+X.bitrate+"-"+Se+"-"+me+"-"+pe;(A=U[ye])?A.addFallback(X):(A=new zi(X),U[ye]=A,M.push(A)),ni(A,"audio",oe),ni(A,"text",Re)}),this.filterAndSortMediaOptions(M,b)},a.filterAndSortMediaOptions=function(h,b){var A=this,M=[],U=[],X=!1,Q=!1,q=!1,oe=h.filter(function(Ce){var $e=Ce.audioCodec,He=Ce.videoCodec,Ze=Ce.width,lt=Ce.height,ht=Ce.unknownCodecs;return X||(X=!(!Ze||!lt)),Q||(Q=!!He),q||(q=!!$e),!(ht!=null&&ht.length)&&(!$e||ot($e,"audio"))&&(!He||ot(He,"video"))});if((X||Q)&&q&&(oe=oe.filter(function(Ce){var $e=Ce.videoCodec,He=Ce.width,Ze=Ce.height;return!!$e||!(!He||!Ze)})),oe.length!==0){b.audioTracks&&gi(M=b.audioTracks.filter(function(Ce){return!Ce.audioCodec||ot(Ce.audioCodec,"audio")})),b.subtitles&&gi(U=b.subtitles);var pe=oe.slice(0);oe.sort(function(Ce,$e){return Ce.attrs["HDCP-LEVEL"]!==$e.attrs["HDCP-LEVEL"]?(Ce.attrs["HDCP-LEVEL"]||"")>($e.attrs["HDCP-LEVEL"]||"")?1:-1:Ce.bitrate!==$e.bitrate?Ce.bitrate-$e.bitrate:Ce.attrs["FRAME-RATE"]!==$e.attrs["FRAME-RATE"]?Ce.attrs.decimalFloatingPoint("FRAME-RATE")-$e.attrs.decimalFloatingPoint("FRAME-RATE"):Ce.attrs.SCORE!==$e.attrs.SCORE?Ce.attrs.decimalFloatingPoint("SCORE")-$e.attrs.decimalFloatingPoint("SCORE"):X&&Ce.height!==$e.height?Ce.height-$e.height:0});var me=pe[0];if(this.steering&&(oe=this.steering.filterParsedLevels(oe)).length!==pe.length){for(var be=0;be<pe.length;be++)if(pe[be].pathwayId===oe[0].pathwayId){me=pe[be];break}}this._levels=oe;for(var Se=0;Se<oe.length;Se++)if(oe[Se]===me){this._firstLevel=Se,this.log("manifest loaded, "+oe.length+" level(s) found, first bitrate: "+me.bitrate);break}var Re=q&&!Q,ye={levels:oe,audioTracks:M,subtitleTracks:U,sessionData:b.sessionData,sessionKeys:b.sessionKeys,firstLevel:this._firstLevel,stats:b.stats,audio:q,video:Q,altAudio:!Re&&M.some(function(Ce){return!!Ce.url})};this.hls.trigger(w.MANIFEST_PARSED,ye),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then(function(){if(A.hls){var Ce=new Error("no level with compatible codecs found in manifest");A.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:b.url,error:Ce,reason:Ce.message})}})},a.onError=function(h,b){!b.fatal&&b.context&&b.context.type===Oi&&b.context.level===this.level&&this.checkRetry(b)},a.onFragLoaded=function(h,b){var A=b.frag;if(A!==void 0&&A.type===gr){var M=this._levels[A.level];M!==void 0&&(M.loadError=0)}},a.onLevelLoaded=function(h,b){var A,M,U=b.level,X=b.details,Q=this._levels[U];if(!Q)return this.warn("Invalid level index "+U),void((M=b.deliveryDirectives)!=null&&M.skip&&(X.deltaUpdateFailed=!0));U===this.currentLevelIndex?(Q.fragmentError===0&&(Q.loadError=0),this.playlistLoaded(U,b,Q.details)):(A=b.deliveryDirectives)!=null&&A.skip&&(X.deltaUpdateFailed=!0)},a.onAudioTrackSwitched=function(h,b){var A=this.currentLevel;if(A){var M=this.hls.audioTracks[b.id].groupId;if(A.audioGroupIds&&A.audioGroupId!==M){for(var U=-1,X=0;X<A.audioGroupIds.length;X++)if(A.audioGroupIds[X]===M){U=X;break}U!==-1&&U!==A.urlId&&(A.urlId=U,this.canLoad&&this.startLoad())}}},a.loadPlaylist=function(h){N.prototype.loadPlaylist.call(this);var b=this.currentLevelIndex,A=this.currentLevel;if(A&&this.shouldLoadPlaylist(A)){var M=A.urlId,U=A.uri;if(h)try{U=h.addDirectives(U)}catch(Q){this.warn("Could not construct new URL with HLS Delivery Directives: "+Q)}var X=A.attrs["PATHWAY-ID"];this.log("Loading level index "+b+((h==null?void 0:h.msn)!==void 0?" at sn "+h.msn+" part "+h.part:"")+" with"+(X?" Pathway "+X:"")+" URI "+(M+1)+"/"+A.url.length+" "+U),this.clearTimer(),this.hls.trigger(w.LEVEL_LOADING,{url:U,level:b,id:M,deliveryDirectives:h||null})}},a.removeLevel=function(h,b){var A=this,M=function(X,Q){return Q!==b},U=this._levels.filter(function(X,Q){return Q!==h||(X.url.length>1&&b!==void 0?(X.url=X.url.filter(M),X.audioGroupIds&&(X.audioGroupIds=X.audioGroupIds.filter(M)),X.textGroupIds&&(X.textGroupIds=X.textGroupIds.filter(M)),X.urlId=0,!0):(A.steering&&A.steering.removeLevel(X),!1))});this.hls.trigger(w.LEVELS_UPDATED,{levels:U})},a.onLevelsUpdated=function(h,b){var A=b.levels;A.forEach(function(M,U){var X=M.details;X!=null&&X.fragments&&X.fragments.forEach(function(Q){Q.level=U})}),this._levels=A},c(R,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(h){var b=this._levels;if(b.length!==0){if(h<0||h>=b.length){var A=new Error("invalid level idx"),M=h<0;if(this.hls.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.LEVEL_SWITCH_ERROR,level:h,fatal:M,error:A,reason:A.message}),M)return;h=Math.min(h,b.length-1)}var U=this.currentLevelIndex,X=this.currentLevel,Q=X?X.attrs["PATHWAY-ID"]:void 0,q=b[h],oe=q.attrs["PATHWAY-ID"];if(this.currentLevelIndex=h,this.currentLevel=q,U!==h||!q.details||!X||Q!==oe){this.log("Switching to level "+h+(oe?" with Pathway "+oe:"")+" from level "+U+(Q?" with Pathway "+Q:""));var pe=t({},q,{level:h,maxBitrate:q.maxBitrate,attrs:q.attrs,uri:q.uri,urlId:q.urlId});delete pe._attrs,delete pe._urlId,this.hls.trigger(w.LEVEL_SWITCHING,pe);var me=q.details;if(!me||me.live){var be=this.switchParams(q.uri,X==null?void 0:X.details);this.loadPlaylist(be)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(h){this.manualLevelIndex=h,this._startLevel===void 0&&(this._startLevel=h),h!==-1&&(this.level=h)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(h){this._firstLevel=h}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var h=this.hls.config.startLevel;return h!==void 0?h:this._firstLevel}return this._startLevel},set:function(h){this._startLevel=h}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(h){this.level=h,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=h)}}]),R}(mi);function ni(N,R,a){a&&(R==="audio"?(N.audioGroupIds||(N.audioGroupIds=[]),N.audioGroupIds[N.url.length-1]=a):R==="text"&&(N.textGroupIds||(N.textGroupIds=[]),N.textGroupIds[N.url.length-1]=a))}function gi(N){var R={};N.forEach(function(a){var h=a.groupId||"";a.id=R[h]=R[h]||0,R[h]++})}var Ni="NOT_LOADED",ti="APPENDING",Hi="PARTIAL",ui="OK",Pn=function(){function N(a){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=a,this._registerListeners()}var R=N.prototype;return R._registerListeners=function(){var a=this.hls;a.on(w.BUFFER_APPENDED,this.onBufferAppended,this),a.on(w.FRAG_BUFFERED,this.onFragBuffered,this),a.on(w.FRAG_LOADED,this.onFragLoaded,this)},R._unregisterListeners=function(){var a=this.hls;a.off(w.BUFFER_APPENDED,this.onBufferAppended,this),a.off(w.FRAG_BUFFERED,this.onFragBuffered,this),a.off(w.FRAG_LOADED,this.onFragLoaded,this)},R.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},R.getAppendedFrag=function(a,h){var b=this.activePartLists[h];if(b)for(var A=b.length;A--;){var M=b[A];if(!M)break;var U=M.end;if(M.start<=a&&U!==null&&a<=U)return M}return this.getBufferedFrag(a,h)},R.getBufferedFrag=function(a,h){for(var b=this.fragments,A=Object.keys(b),M=A.length;M--;){var U=b[A[M]];if((U==null?void 0:U.body.type)===h&&U.buffered){var X=U.body;if(X.start<=a&&a<=X.end)return X}}return null},R.detectEvictedFragments=function(a,h,b,A){var M=this;this.timeRanges&&(this.timeRanges[a]=h);var U=(A==null?void 0:A.fragment.sn)||-1;Object.keys(this.fragments).forEach(function(X){var Q=M.fragments[X];if(Q&&!(U>=Q.body.sn))if(Q.buffered||Q.loaded){var q=Q.range[a];q&&q.time.some(function(oe){var pe=!M.isTimeBuffered(oe.startPTS,oe.endPTS,h);return pe&&M.removeFragment(Q.body),pe})}else Q.body.type===b&&M.removeFragment(Q.body)})},R.detectPartialFragments=function(a){var h=this,b=this.timeRanges,A=a.frag,M=a.part;if(b&&A.sn!=="initSegment"){var U=Yi(A),X=this.fragments[U];if(!(!X||X.buffered&&A.gap)){var Q=!A.relurl;Object.keys(b).forEach(function(q){var oe=A.elementaryStreams[q];if(oe){var pe=b[q],me=Q||oe.partial===!0;X.range[q]=h.getBufferedTimes(A,M,me,pe)}}),X.loaded=null,Object.keys(X.range).length?(X.buffered=!0,(X.body.endList=A.endList||X.body.endList)&&(this.endListFragments[X.body.type]=X),bn(X)||this.removeParts(A.sn-1,A.type)):this.removeFragment(X.body)}}},R.removeParts=function(a,h){var b=this.activePartLists[h];b&&(this.activePartLists[h]=b.filter(function(A){return A.fragment.sn>=a}))},R.fragBuffered=function(a,h){var b=Yi(a),A=this.fragments[b];!A&&h&&(A=this.fragments[b]={body:a,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},a.gap&&(this.hasGaps=!0)),A&&(A.loaded=null,A.buffered=!0)},R.getBufferedTimes=function(a,h,b,A){for(var M={time:[],partial:b},U=a.start,X=a.end,Q=a.minEndPTS||X,q=a.maxStartPTS||U,oe=0;oe<A.length;oe++){var pe=A.start(oe)-this.bufferPadding,me=A.end(oe)+this.bufferPadding;if(q>=pe&&Q<=me){M.time.push({startPTS:Math.max(U,A.start(oe)),endPTS:Math.min(X,A.end(oe))});break}if(U<me&&X>pe)M.partial=!0,M.time.push({startPTS:Math.max(U,A.start(oe)),endPTS:Math.min(X,A.end(oe))});else if(X<=pe)break}return M},R.getPartialFragment=function(a){var h,b,A,M=null,U=0,X=this.bufferPadding,Q=this.fragments;return Object.keys(Q).forEach(function(q){var oe=Q[q];oe&&bn(oe)&&(b=oe.body.start-X,A=oe.body.end+X,a>=b&&a<=A&&(h=Math.min(a-b,A-a),U<=h&&(M=oe.body,U=h)))}),M},R.isEndListAppended=function(a){var h=this.endListFragments[a];return h!==void 0&&(h.buffered||bn(h))},R.getState=function(a){var h=Yi(a),b=this.fragments[h];return b?b.buffered?bn(b)?Hi:ui:ti:Ni},R.isTimeBuffered=function(a,h,b){for(var A,M,U=0;U<b.length;U++){if(A=b.start(U)-this.bufferPadding,M=b.end(U)+this.bufferPadding,a>=A&&h<=M)return!0;if(h<=A)return!1}return!1},R.onFragLoaded=function(a,h){var b=h.frag,A=h.part;if(b.sn!=="initSegment"&&!b.bitrateTest){var M=A?null:h,U=Yi(b);this.fragments[U]={body:b,appendedPTS:null,loaded:M,buffered:!1,range:Object.create(null)}}},R.onBufferAppended=function(a,h){var b=this,A=h.frag,M=h.part,U=h.timeRanges;if(A.sn!=="initSegment"){var X=A.type;if(M){var Q=this.activePartLists[X];Q||(this.activePartLists[X]=Q=[]),Q.push(M)}this.timeRanges=U,Object.keys(U).forEach(function(q){var oe=U[q];b.detectEvictedFragments(q,oe,X,M)})}},R.onFragBuffered=function(a,h){this.detectPartialFragments(h)},R.hasFragment=function(a){var h=Yi(a);return!!this.fragments[h]},R.hasParts=function(a){var h;return!((h=this.activePartLists[a])==null||!h.length)},R.removeFragmentsInRange=function(a,h,b,A,M){var U=this;A&&!this.hasGaps||Object.keys(this.fragments).forEach(function(X){var Q=U.fragments[X];if(Q){var q=Q.body;q.type!==b||A&&!q.gap||q.start<h&&q.end>a&&(Q.buffered||M)&&U.removeFragment(q)}})},R.removeFragment=function(a){var h=Yi(a);a.stats.loaded=0,a.clearElementaryStreamInfo();var b=this.activePartLists[a.type];if(b){var A=a.sn;this.activePartLists[a.type]=b.filter(function(M){return M.fragment.sn!==A})}delete this.fragments[h],a.endList&&delete this.endListFragments[a.type]},R.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},N}();function bn(N){var R,a,h;return N.buffered&&(N.body.gap||((R=N.range.video)==null?void 0:R.partial)||((a=N.range.audio)==null?void 0:a.partial)||((h=N.range.audiovideo)==null?void 0:h.partial))}function Yi(N){return N.type+"_"+N.level+"_"+N.urlId+"_"+N.sn}var ke=Math.pow(2,17),Ve=function(){function N(a){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=a}var R=N.prototype;return R.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},R.abort=function(){this.loader&&this.loader.abort()},R.load=function(a,h){var b=this,A=a.url;if(!A)return Promise.reject(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:a,error:new Error("Fragment does not have a "+(A?"part list":"url")),networkDetails:null}));this.abort();var M=this.config,U=M.fLoader,X=M.loader;return new Promise(function(Q,q){if(b.loader&&b.loader.destroy(),a.gap){if(a.tagList.some(function(Se){return Se[0]==="GAP"}))return void q(Et(a));a.gap=!1}var oe=b.loader=a.loader=U?new U(M):new X(M),pe=st(a),me=Os(M.fragLoadPolicy.default),be={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:a.sn==="initSegment"?1/0:ke};a.stats=oe.stats,oe.load(pe,be,{onSuccess:function(Se,Re,ye,Ce){b.resetLoader(a,oe);var $e=Se.data;ye.resetIV&&a.decryptdata&&(a.decryptdata.iv=new Uint8Array($e.slice(0,16)),$e=$e.slice(16)),Q({frag:a,part:null,payload:$e,networkDetails:Ce})},onError:function(Se,Re,ye,Ce){b.resetLoader(a,oe),q(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:a,response:f({url:A,data:void 0},Se),error:new Error("HTTP Error "+Se.code+" "+Se.text),networkDetails:ye,stats:Ce}))},onAbort:function(Se,Re,ye){b.resetLoader(a,oe),q(new Ht({type:I.NETWORK_ERROR,details:D.INTERNAL_ABORTED,fatal:!1,frag:a,error:new Error("Aborted"),networkDetails:ye,stats:Se}))},onTimeout:function(Se,Re,ye){b.resetLoader(a,oe),q(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_TIMEOUT,fatal:!1,frag:a,error:new Error("Timeout after "+be.timeout+"ms"),networkDetails:ye,stats:Se}))},onProgress:function(Se,Re,ye,Ce){h&&h({frag:a,part:null,payload:ye,networkDetails:Ce})}})})},R.loadPart=function(a,h,b){var A=this;this.abort();var M=this.config,U=M.fLoader,X=M.loader;return new Promise(function(Q,q){if(A.loader&&A.loader.destroy(),a.gap||h.gap)q(Et(a,h));else{var oe=A.loader=a.loader=U?new U(M):new X(M),pe=st(a,h),me=Os(M.fragLoadPolicy.default),be={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ke};h.stats=oe.stats,oe.load(pe,be,{onSuccess:function(Se,Re,ye,Ce){A.resetLoader(a,oe),A.updateStatsFromPart(a,h);var $e={frag:a,part:h,payload:Se.data,networkDetails:Ce};b($e),Q($e)},onError:function(Se,Re,ye,Ce){A.resetLoader(a,oe),q(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:a,part:h,response:f({url:pe.url,data:void 0},Se),error:new Error("HTTP Error "+Se.code+" "+Se.text),networkDetails:ye,stats:Ce}))},onAbort:function(Se,Re,ye){a.stats.aborted=h.stats.aborted,A.resetLoader(a,oe),q(new Ht({type:I.NETWORK_ERROR,details:D.INTERNAL_ABORTED,fatal:!1,frag:a,part:h,error:new Error("Aborted"),networkDetails:ye,stats:Se}))},onTimeout:function(Se,Re,ye){A.resetLoader(a,oe),q(new Ht({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_TIMEOUT,fatal:!1,frag:a,part:h,error:new Error("Timeout after "+be.timeout+"ms"),networkDetails:ye,stats:Se}))}})}})},R.updateStatsFromPart=function(a,h){var b=a.stats,A=h.stats,M=A.total;if(b.loaded+=A.loaded,M){var U=Math.round(a.duration/h.duration),X=Math.min(Math.round(b.loaded/M),U),Q=(U-X)*Math.round(b.loaded/X);b.total=b.loaded+Q}else b.total=Math.max(b.loaded,b.total);var q=b.loading,oe=A.loading;q.start?q.first+=oe.first-oe.start:(q.start=oe.start,q.first=oe.first),q.end=oe.end},R.resetLoader=function(a,h){a.loader=null,this.loader===h&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),h.destroy()},N}();function st(N,R){R===void 0&&(R=null);var a=R||N,h={frag:N,part:R,responseType:"arraybuffer",url:a.url,headers:{},rangeStart:0,rangeEnd:0},b=a.byteRangeStartOffset,A=a.byteRangeEndOffset;if(x(b)&&x(A)){var M,U=b,X=A;if(N.sn==="initSegment"&&((M=N.decryptdata)==null?void 0:M.method)==="AES-128"){var Q=A-b;Q%16&&(X=A+(16-Q%16)),b!==0&&(h.resetIV=!0,U=b-16)}h.rangeStart=U,h.rangeEnd=X}return h}function Et(N,R){var a=new Error("GAP "+(N.gap?"tag":"attribute")+" found"),h={type:I.MEDIA_ERROR,details:D.FRAG_GAP,fatal:!1,frag:N,error:a,networkDetails:null};return R&&(h.part=R),(R||N).stats.aborted=!0,new Ht(h)}var Ht=function(N){function R(a){var h;return(h=N.call(this,a.error.message)||this).data=void 0,h.data=a,h}return i(R,N),R}(o(Error)),Bt=function(){function N(a){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=a}var R=N.prototype;return R.abort=function(a){for(var h in this.keyUriToKeyInfo){var b=this.keyUriToKeyInfo[h].loader;if(b){if(a&&a!==b.context.frag.type)return;b.abort()}}},R.detach=function(){for(var a in this.keyUriToKeyInfo){var h=this.keyUriToKeyInfo[a];(h.mediaKeySessionContext||h.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[a]}},R.destroy=function(){for(var a in this.detach(),this.keyUriToKeyInfo){var h=this.keyUriToKeyInfo[a].loader;h&&h.destroy()}this.keyUriToKeyInfo={}},R.createKeyLoadError=function(a,h,b,A,M){return h===void 0&&(h=D.KEY_LOAD_ERROR),new Ht({type:I.NETWORK_ERROR,details:h,fatal:!1,frag:a,response:M,error:b,networkDetails:A})},R.loadClear=function(a,h){var b=this;if(this.emeController&&this.config.emeEnabled)for(var A=a.sn,M=a.cc,U=function(){var Q=h[X];if(M<=Q.cc&&(A==="initSegment"||Q.sn==="initSegment"||A<Q.sn))return b.emeController.selectKeySystemFormat(Q).then(function(q){Q.setKeyFormat(q)}),"break"},X=0;X<h.length&&U()!=="break";X++);},R.load=function(a){var h=this;return!a.decryptdata&&a.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(a).then(function(b){return h.loadInternal(a,b)}):this.loadInternal(a)},R.loadInternal=function(a,h){var b,A;h&&a.setKeyFormat(h);var M=a.decryptdata;if(!M){var U=new Error(h?"Expected frag.decryptdata to be defined after setting format "+h:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(a,D.KEY_LOAD_ERROR,U))}var X=M.uri;if(!X)return Promise.reject(this.createKeyLoadError(a,D.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+X+'"')));var Q,q=this.keyUriToKeyInfo[X];if((b=q)!=null&&b.decryptdata.key)return M.key=q.decryptdata.key,Promise.resolve({frag:a,keyInfo:q});if((A=q)!=null&&A.keyLoadPromise)switch((Q=q.mediaKeySessionContext)==null?void 0:Q.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return q.keyLoadPromise.then(function(oe){return M.key=oe.keyInfo.decryptdata.key,{frag:a,keyInfo:q}})}switch(q=this.keyUriToKeyInfo[X]={decryptdata:M,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},M.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return M.keyFormat==="identity"?this.loadKeyHTTP(q,a):this.loadKeyEME(q,a);case"AES-128":return this.loadKeyHTTP(q,a);default:return Promise.reject(this.createKeyLoadError(a,D.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+M.method+'"')))}},R.loadKeyEME=function(a,h){var b={frag:h,keyInfo:a};if(this.emeController&&this.config.emeEnabled){var A=this.emeController.loadKey(b);if(A)return(a.keyLoadPromise=A.then(function(M){return a.mediaKeySessionContext=M,b})).catch(function(M){throw a.keyLoadPromise=null,M})}return Promise.resolve(b)},R.loadKeyHTTP=function(a,h){var b=this,A=this.config,M=new A.loader(A);return h.keyLoader=a.loader=M,a.keyLoadPromise=new Promise(function(U,X){var Q={keyInfo:a,frag:h,responseType:"arraybuffer",url:a.decryptdata.uri},q=A.keyLoadPolicy.default,oe={loadPolicy:q,timeout:q.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},pe={onSuccess:function(me,be,Se,Re){var ye=Se.frag,Ce=Se.keyInfo,$e=Se.url;if(!ye.decryptdata||Ce!==b.keyUriToKeyInfo[$e])return X(b.createKeyLoadError(ye,D.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),Re));Ce.decryptdata.key=ye.decryptdata.key=new Uint8Array(me.data),ye.keyLoader=null,Ce.loader=null,U({frag:ye,keyInfo:Ce})},onError:function(me,be,Se,Re){b.resetLoader(be),X(b.createKeyLoadError(h,D.KEY_LOAD_ERROR,new Error("HTTP Error "+me.code+" loading key "+me.text),Se,f({url:Q.url,data:void 0},me)))},onTimeout:function(me,be,Se){b.resetLoader(be),X(b.createKeyLoadError(h,D.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),Se))},onAbort:function(me,be,Se){b.resetLoader(be),X(b.createKeyLoadError(h,D.INTERNAL_ABORTED,new Error("key loading aborted"),Se))}};M.load(Q,oe,pe)})},R.resetLoader=function(a){var h=a.frag,b=a.keyInfo,A=a.url,M=b.loader;h.keyLoader===M&&(h.keyLoader=null,b.loader=null),delete this.keyUriToKeyInfo[A],M&&M.destroy()},N}(),br=function(){function N(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var R=N.prototype;return R.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},R.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},R.onHandlerDestroyed=function(){},R.hasInterval=function(){return!!this._tickInterval},R.hasNextTick=function(){return!!this._tickTimer},R.setInterval=function(a){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,a),!0)},R.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},R.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},R.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},R.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},R.doTick=function(){},N}(),Zr={length:0,start:function(){return 0},end:function(){return 0}},cr=function(){function N(){}return N.isBuffered=function(R,a){try{if(R){for(var h=N.getBuffered(R),b=0;b<h.length;b++)if(a>=h.start(b)&&a<=h.end(b))return!0}}catch{}return!1},N.bufferInfo=function(R,a,h){try{if(R){var b,A=N.getBuffered(R),M=[];for(b=0;b<A.length;b++)M.push({start:A.start(b),end:A.end(b)});return this.bufferedInfo(M,a,h)}}catch{}return{len:0,start:a,end:a,nextStart:void 0}},N.bufferedInfo=function(R,a,h){a=Math.max(0,a),R.sort(function(Se,Re){var ye=Se.start-Re.start;return ye||Re.end-Se.end});var b=[];if(h)for(var A=0;A<R.length;A++){var M=b.length;if(M){var U=b[M-1].end;R[A].start-U<h?R[A].end>U&&(b[M-1].end=R[A].end):b.push(R[A])}else b.push(R[A])}else b=R;for(var X,Q=0,q=a,oe=a,pe=0;pe<b.length;pe++){var me=b[pe].start,be=b[pe].end;if(a+h>=me&&a<be)q=me,Q=(oe=be)-a;else if(a+h<me){X=me;break}}return{len:Q,start:q||0,end:oe||0,nextStart:X}},N.getBuffered=function(R){try{return R.buffered}catch(a){return W.log("failed to get media.buffered",a),Zr}},N}(),li=function(N,R,a,h,b,A){h===void 0&&(h=0),b===void 0&&(b=-1),A===void 0&&(A=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=N,this.sn=R,this.id=a,this.size=h,this.part=b,this.partial=A};function _i(N,R){for(var a=null,h=0,b=N.length;h<b;h++){var A=N[h];if(A&&A.cc===R){a=A;break}}return a}function vi(N,R){if(N){var a=N.start+R;N.start=N.startPTS=a,N.endPTS=a+N.duration}}function qr(N,R){for(var a=R.fragments,h=0,b=a.length;h<b;h++)vi(a[h],N);R.fragmentHint&&vi(R.fragmentHint,N),R.alignedSliding=!0}function sn(N,R,a){R&&(function(h,b,A){if(function(U,X,Q){return!(!X.details||!(Q.endCC>Q.startCC||U&&U.cc<Q.startCC))}(h,A,b)){var M=function(U,X,Q){var q=U.fragments,oe=X.fragments;if(oe.length&&q.length){var pe=_i(q,oe[0].cc);if(pe&&(!pe||pe.startPTS))return pe;W.log("No frag in previous level to align on")}else W.log("No fragments to align")}(A.details,b);M&&x(M.start)&&(W.log("Adjusting PTS using last level due to CC increase within current level "+b.url),qr(M.start,b))}}(N,a,R),!a.alignedSliding&&R.details&&function(h,b){if(b.fragments.length&&h.hasProgramDateTime&&b.hasProgramDateTime){var A=b.fragments[0].programDateTime,M=h.fragments[0].programDateTime,U=(M-A)/1e3+b.fragments[0].start;U&&x(U)&&(W.log("Adjusting PTS using programDateTime delta "+(M-A)+"ms, sliding:"+U.toFixed(3)+" "+h.url+" "),qr(U,h))}}(a,R.details),a.alignedSliding||!R.details||a.skippedSegments||pa(R.details,a))}function $i(N,R){if(N.hasProgramDateTime&&R.hasProgramDateTime){var a=N.fragments,h=R.fragments;if(a.length&&h.length){var b=h[Math.round(h.length/2)-1],A=_i(a,b.cc)||a[Math.round(a.length/2)-1],M=b.programDateTime,U=A.programDateTime;M!==null&&U!==null&&qr((U-M)/1e3-(A.start-b.start),N)}}}var Dn=function(){function N(R,a){this.subtle=void 0,this.aesIV=void 0,this.subtle=R,this.aesIV=a}return N.prototype.decrypt=function(R,a){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},a,R)},N}(),dn=function(){function N(R,a){this.subtle=void 0,this.key=void 0,this.subtle=R,this.key=a}return N.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},N}(),Ln=function(){function N(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var R=N.prototype;return R.uint8ArrayToUint32Array_=function(a){for(var h=new DataView(a),b=new Uint32Array(4),A=0;A<4;A++)b[A]=h.getUint32(4*A);return b},R.initTable=function(){var a=this.sBox,h=this.invSBox,b=this.subMix,A=b[0],M=b[1],U=b[2],X=b[3],Q=this.invSubMix,q=Q[0],oe=Q[1],pe=Q[2],me=Q[3],be=new Uint32Array(256),Se=0,Re=0,ye=0;for(ye=0;ye<256;ye++)be[ye]=ye<128?ye<<1:ye<<1^283;for(ye=0;ye<256;ye++){var Ce=Re^Re<<1^Re<<2^Re<<3^Re<<4;Ce=Ce>>>8^255&Ce^99,a[Se]=Ce,h[Ce]=Se;var $e=be[Se],He=be[$e],Ze=be[He],lt=257*be[Ce]^16843008*Ce;A[Se]=lt<<24|lt>>>8,M[Se]=lt<<16|lt>>>16,U[Se]=lt<<8|lt>>>24,X[Se]=lt,lt=16843009*Ze^65537*He^257*$e^16843008*Se,q[Ce]=lt<<24|lt>>>8,oe[Ce]=lt<<16|lt>>>16,pe[Ce]=lt<<8|lt>>>24,me[Ce]=lt,Se?(Se=$e^be[be[be[Ze^$e]]],Re^=be[be[Re]]):Se=Re=1}},R.expandKey=function(a){for(var h=this.uint8ArrayToUint32Array_(a),b=!0,A=0;A<h.length&&b;)b=h[A]===this.key[A],A++;if(!b){this.key=h;var M=this.keySize=h.length;if(M!==4&&M!==6&&M!==8)throw new Error("Invalid aes key size="+M);var U,X,Q,q,oe=this.ksRows=4*(M+6+1),pe=this.keySchedule=new Uint32Array(oe),me=this.invKeySchedule=new Uint32Array(oe),be=this.sBox,Se=this.rcon,Re=this.invSubMix,ye=Re[0],Ce=Re[1],$e=Re[2],He=Re[3];for(U=0;U<oe;U++)U<M?Q=pe[U]=h[U]:(q=Q,U%M==0?(q=be[(q=q<<8|q>>>24)>>>24]<<24|be[q>>>16&255]<<16|be[q>>>8&255]<<8|be[255&q],q^=Se[U/M|0]<<24):M>6&&U%M==4&&(q=be[q>>>24]<<24|be[q>>>16&255]<<16|be[q>>>8&255]<<8|be[255&q]),pe[U]=Q=(pe[U-M]^q)>>>0);for(X=0;X<oe;X++)U=oe-X,q=3&X?pe[U]:pe[U-4],me[X]=X<4||U<=4?q:ye[be[q>>>24]]^Ce[be[q>>>16&255]]^$e[be[q>>>8&255]]^He[be[255&q]],me[X]=me[X]>>>0}},R.networkToHostOrderSwap=function(a){return a<<24|(65280&a)<<8|(16711680&a)>>8|a>>>24},R.decrypt=function(a,h,b){for(var A,M,U,X,Q,q,oe,pe,me,be,Se,Re,ye,Ce,$e=this.keySize+6,He=this.invKeySchedule,Ze=this.invSBox,lt=this.invSubMix,ht=lt[0],wt=lt[1],dt=lt[2],gt=lt[3],Pt=this.uint8ArrayToUint32Array_(b),xt=Pt[0],Wt=Pt[1],Qt=Pt[2],Vt=Pt[3],Gt=new Int32Array(a),Jt=new Int32Array(Gt.length),Kt=this.networkToHostOrderSwap;h<Gt.length;){for(me=Kt(Gt[h]),be=Kt(Gt[h+1]),Se=Kt(Gt[h+2]),Re=Kt(Gt[h+3]),Q=me^He[0],q=Re^He[1],oe=Se^He[2],pe=be^He[3],ye=4,Ce=1;Ce<$e;Ce++)A=ht[Q>>>24]^wt[q>>16&255]^dt[oe>>8&255]^gt[255&pe]^He[ye],M=ht[q>>>24]^wt[oe>>16&255]^dt[pe>>8&255]^gt[255&Q]^He[ye+1],U=ht[oe>>>24]^wt[pe>>16&255]^dt[Q>>8&255]^gt[255&q]^He[ye+2],X=ht[pe>>>24]^wt[Q>>16&255]^dt[q>>8&255]^gt[255&oe]^He[ye+3],Q=A,q=M,oe=U,pe=X,ye+=4;A=Ze[Q>>>24]<<24^Ze[q>>16&255]<<16^Ze[oe>>8&255]<<8^Ze[255&pe]^He[ye],M=Ze[q>>>24]<<24^Ze[oe>>16&255]<<16^Ze[pe>>8&255]<<8^Ze[255&Q]^He[ye+1],U=Ze[oe>>>24]<<24^Ze[pe>>16&255]<<16^Ze[Q>>8&255]<<8^Ze[255&q]^He[ye+2],X=Ze[pe>>>24]<<24^Ze[Q>>16&255]<<16^Ze[q>>8&255]<<8^Ze[255&oe]^He[ye+3],Jt[h]=Kt(A^xt),Jt[h+1]=Kt(X^Wt),Jt[h+2]=Kt(U^Qt),Jt[h+3]=Kt(M^Vt),xt=me,Wt=be,Qt=Se,Vt=Re,h+=4}return Jt.buffer},N}(),Bs=function(){function N(a,h){var b=(h===void 0?{}:h).removePKCS7Padding,A=b===void 0||b;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=a.enableSoftwareAES,this.removePKCS7Padding=A,A)try{var M=self.crypto;M&&(this.subtle=M.subtle||M.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var R=N.prototype;return R.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},R.isSync=function(){return this.useSoftware},R.flush=function(){var a=this.currentResult,h=this.remainderData;if(!a||h)return this.reset(),null;var b,A,M,U=new Uint8Array(a);return this.reset(),this.removePKCS7Padding?(A=(b=U).byteLength,(M=A&&new DataView(b.buffer).getUint8(A-1))?ne(b,0,A-M):b):U},R.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},R.decrypt=function(a,h,b){var A=this;return this.useSoftware?new Promise(function(M,U){A.softwareDecrypt(new Uint8Array(a),h,b);var X=A.flush();X?M(X.buffer):U(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(a),h,b)},R.softwareDecrypt=function(a,h,b){var A=this.currentIV,M=this.currentResult,U=this.remainderData;this.logOnce("JS AES decrypt"),U&&(a=hr(U,a),this.remainderData=null);var X=this.getValidChunk(a);if(!X.length)return null;A&&(b=A);var Q=this.softwareDecrypter;Q||(Q=this.softwareDecrypter=new Ln),Q.expandKey(h);var q=M;return this.currentResult=Q.decrypt(X.buffer,0,b),this.currentIV=ne(X,-16).buffer,q||null},R.webCryptoDecrypt=function(a,h,b){var A=this,M=this.subtle;return this.key===h&&this.fastAesKey||(this.key=h,this.fastAesKey=new dn(M,h)),this.fastAesKey.expandKey().then(function(U){return M?(A.logOnce("WebCrypto AES decrypt"),new Dn(M,new Uint8Array(b)).decrypt(a.buffer,U)):Promise.reject(new Error("web crypto not initialized"))}).catch(function(U){return W.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+U.name+": "+U.message),A.onWebCryptoError(a,h,b)})},R.onWebCryptoError=function(a,h,b){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(a,h,b);var A=this.flush();if(A)return A.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},R.getValidChunk=function(a){var h=a,b=a.length-a.length%16;return b!==a.length&&(h=ne(a,0,b),this.remainderData=ne(a,b)),h},R.logOnce=function(a){this.logEnabled&&(W.log("[decrypter]: "+a),this.logEnabled=!1)},N}(),ma=function(N){for(var R="",a=N.length,h=0;h<a;h++)R+="["+N.start(h).toFixed(3)+"-"+N.end(h).toFixed(3)+"]";return R},Ei="STOPPED",_r="IDLE",Fo="KEY_LOADING",Fs="FRAG_LOADING",Pi="FRAG_LOADING_WAITING_RETRY",Us="WAITING_TRACK",pn="PARSING",Fa="PARSED",ga="ENDED",va="ERROR",Ua="WAITING_INIT_PTS",js="WAITING_LEVEL",Uo=function(N){function R(h,b,A,M,U){var X;return(X=N.call(this)||this).hls=void 0,X.fragPrevious=null,X.fragCurrent=null,X.fragmentTracker=void 0,X.transmuxer=null,X._state=Ei,X.playlistType=void 0,X.media=null,X.mediaBuffer=null,X.config=void 0,X.bitrateTest=!1,X.lastCurrentTime=0,X.nextLoadPosition=0,X.startPosition=0,X.startTimeOffset=null,X.loadedmetadata=!1,X.retryDate=0,X.levels=null,X.fragmentLoader=void 0,X.keyLoader=void 0,X.levelLastLoaded=null,X.startFragRequested=!1,X.decrypter=void 0,X.initPTS=[],X.onvseeking=null,X.onvended=null,X.logPrefix="",X.log=void 0,X.warn=void 0,X.playlistType=U,X.logPrefix=M,X.log=W.log.bind(W,M+":"),X.warn=W.warn.bind(W,M+":"),X.hls=h,X.fragmentLoader=new Ve(h.config),X.keyLoader=A,X.fragmentTracker=b,X.config=h.config,X.decrypter=new Bs(h.config),h.on(w.MANIFEST_LOADED,X.onManifestLoaded,function(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(X)),X}i(R,N);var a=R.prototype;return a.doTick=function(){this.onTickEnd()},a.onTickEnd=function(){},a.startLoad=function(h){},a.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var h=this.fragCurrent;h!=null&&h.loader&&(h.abortRequests(),this.fragmentTracker.removeFragment(h)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ei},a._streamEnded=function(h,b){if(b.live||h.nextStart||!h.end||!this.media)return!1;var A=b.partList;if(A!=null&&A.length){var M=A[A.length-1];return cr.isBuffered(this.media,M.start+M.duration/2)}var U=b.fragments[b.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(U)},a.getLevelDetails=function(){var h;if(this.levels&&this.levelLastLoaded!==null)return(h=this.levels[this.levelLastLoaded])==null?void 0:h.details},a.onMediaAttached=function(h,b){var A=this.media=this.mediaBuffer=b.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),A.addEventListener("seeking",this.onvseeking),A.addEventListener("ended",this.onvended);var M=this.config;this.levels&&M.autoStartLoad&&this.state===Ei&&this.startLoad(M.startPosition)},a.onMediaDetaching=function(){var h=this.media;h!=null&&h.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),h&&this.onvseeking&&this.onvended&&(h.removeEventListener("seeking",this.onvseeking),h.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},a.onMediaSeeking=function(){var h=this.config,b=this.fragCurrent,A=this.media,M=this.mediaBuffer,U=this.state,X=A?A.currentTime:0,Q=cr.bufferInfo(M||A,X,h.maxBufferHole);if(this.log("media seeking to "+(x(X)?X.toFixed(3):X)+", state: "+U),this.state===ga)this.resetLoadingState();else if(b){var q=h.maxFragLookUpTolerance,oe=b.start-q,pe=b.start+b.duration+q;if(!Q.len||pe<Q.start||oe>Q.end){var me=X>pe;(X<oe||me)&&(me&&b.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),b.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}A&&(this.fragmentTracker.removeFragmentsInRange(X,1/0,this.playlistType,!0),this.lastCurrentTime=X),this.loadedmetadata||Q.len||(this.nextLoadPosition=this.startPosition=X),this.tickImmediate()},a.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},a.onManifestLoaded=function(h,b){this.startTimeOffset=b.startTimeOffset,this.initPTS=[]},a.onHandlerDestroying=function(){this.stopLoad(),N.prototype.onHandlerDestroying.call(this)},a.onHandlerDestroyed=function(){this.state=Ei,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,N.prototype.onHandlerDestroyed.call(this)},a.loadFragment=function(h,b,A){this._loadFragForPlayback(h,b,A)},a._loadFragForPlayback=function(h,b,A){var M=this;this._doFragLoad(h,b,A,function(U){if(M.fragContextChanged(h))return M.warn("Fragment "+h.sn+(U.part?" p: "+U.part.index:"")+" of level "+h.level+" was dropped during download."),void M.fragmentTracker.removeFragment(h);h.stats.chunkCount++,M._handleFragmentLoadProgress(U)}).then(function(U){if(U){var X=M.state;M.fragContextChanged(h)?(X===Fs||!M.fragCurrent&&X===pn)&&(M.fragmentTracker.removeFragment(h),M.state=_r):("payload"in U&&(M.log("Loaded fragment "+h.sn+" of level "+h.level),M.hls.trigger(w.FRAG_LOADED,U)),M._handleFragmentLoadComplete(U))}}).catch(function(U){M.state!==Ei&&M.state!==va&&(M.warn(U),M.resetFragmentLoading(h))})},a.clearTrackerIfNeeded=function(h){var b,A=this.fragmentTracker;if(A.getState(h)===ti){var M=h.type,U=this.getFwdBufferInfo(this.mediaBuffer,M),X=Math.max(h.duration,U?U.len:this.config.maxBufferLength);this.reduceMaxBufferLength(X)&&A.removeFragment(h)}else((b=this.mediaBuffer)==null?void 0:b.buffered.length)===0?A.removeAllFragments():A.hasParts(h.type)&&(A.detectPartialFragments({frag:h,part:null,stats:h.stats,id:h.type}),A.getState(h)===Hi&&A.removeFragment(h))},a.checkLiveUpdate=function(h){if(h.updated&&!h.live){var b=h.fragments[h.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:b,part:null,stats:b.stats,id:b.type})}h.fragments[0]||(h.deltaUpdateFailed=!0)},a.flushMainBuffer=function(h,b,A){if(A===void 0&&(A=null),h-b){var M={startOffset:h,endOffset:b,type:A};this.hls.trigger(w.BUFFER_FLUSHING,M)}},a._loadInitSegment=function(h,b){var A=this;this._doFragLoad(h,b).then(function(M){if(!M||A.fragContextChanged(h)||!A.levels)throw new Error("init load aborted");return M}).then(function(M){var U=A.hls,X=M.payload,Q=h.decryptdata;if(X&&X.byteLength>0&&Q&&Q.key&&Q.iv&&Q.method==="AES-128"){var q=self.performance.now();return A.decrypter.decrypt(new Uint8Array(X),Q.key.buffer,Q.iv.buffer).catch(function(oe){throw U.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_DECRYPT_ERROR,fatal:!1,error:oe,reason:oe.message,frag:h}),oe}).then(function(oe){var pe=self.performance.now();return U.trigger(w.FRAG_DECRYPTED,{frag:h,payload:oe,stats:{tstart:q,tdecrypt:pe}}),M.payload=oe,M})}return M}).then(function(M){var U=A.fragCurrent,X=A.hls;if(!A.levels)throw new Error("init load aborted, missing levels");var Q=h.stats;A.state=_r,b.fragmentError=0,h.data=new Uint8Array(M.payload),Q.parsing.start=Q.buffering.start=self.performance.now(),Q.parsing.end=Q.buffering.end=self.performance.now(),M.frag===U&&X.trigger(w.FRAG_BUFFERED,{stats:Q,frag:U,part:null,id:h.type}),A.tick()}).catch(function(M){A.state!==Ei&&A.state!==va&&(A.warn(M),A.resetFragmentLoading(h))})},a.fragContextChanged=function(h){var b=this.fragCurrent;return!h||!b||h.level!==b.level||h.sn!==b.sn||h.urlId!==b.urlId},a.fragBufferedComplete=function(h,b){var A,M,U,X,Q=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+h.type+" sn: "+h.sn+(b?" part: "+b.index:"")+" of "+(this.playlistType===gr?"level":"track")+" "+h.level+" (frag:["+((A=h.startPTS)!=null?A:NaN).toFixed(3)+"-"+((M=h.endPTS)!=null?M:NaN).toFixed(3)+"] > buffer:"+(Q?ma(cr.getBuffered(Q)):"(detached)")+")"),this.state=_r,Q&&(!this.loadedmetadata&&h.type==gr&&Q.buffered.length&&((U=this.fragCurrent)==null?void 0:U.sn)===((X=this.fragPrevious)==null?void 0:X.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},a.seekToStartPos=function(){},a._handleFragmentLoadComplete=function(h){var b=this.transmuxer;if(b){var A=h.frag,M=h.part,U=h.partsLoaded,X=!U||U.length===0||U.some(function(q){return!q}),Q=new li(A.level,A.sn,A.stats.chunkCount+1,0,M?M.index:-1,!X);b.flush(Q)}},a._handleFragmentLoadProgress=function(h){},a._doFragLoad=function(h,b,A,M){var U,X=this;A===void 0&&(A=null);var Q=b==null?void 0:b.details;if(!this.levels||!Q)throw new Error("frag load aborted, missing level"+(Q?"":" detail")+"s");var q=null;if(!h.encrypted||(U=h.decryptdata)!=null&&U.key?!h.encrypted&&Q.encryptedFragments.length&&this.keyLoader.loadClear(h,Q.encryptedFragments):(this.log("Loading key for "+h.sn+" of ["+Q.startSN+"-"+Q.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+h.level),this.state=Fo,this.fragCurrent=h,q=this.keyLoader.load(h).then(function(ye){if(!X.fragContextChanged(ye.frag))return X.hls.trigger(w.KEY_LOADED,ye),X.state===Fo&&(X.state=_r),ye}),this.hls.trigger(w.KEY_LOADING,{frag:h}),this.fragCurrent===null&&(q=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),A=Math.max(h.start,A||0),this.config.lowLatencyMode&&h.sn!=="initSegment"){var oe=Q.partList;if(oe&&M){A>h.end&&Q.fragmentHint&&(h=Q.fragmentHint);var pe=this.getNextPart(oe,h,A);if(pe>-1){var me,be=oe[pe];return this.log("Loading part sn: "+h.sn+" p: "+be.index+" cc: "+h.cc+" of playlist ["+Q.startSN+"-"+Q.endSN+"] parts [0-"+pe+"-"+(oe.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+h.level+", target: "+parseFloat(A.toFixed(3))),this.nextLoadPosition=be.start+be.duration,this.state=Fs,me=q?q.then(function(ye){return!ye||X.fragContextChanged(ye.frag)?null:X.doFragPartsLoad(h,be,b,M)}).catch(function(ye){return X.handleFragLoadError(ye)}):this.doFragPartsLoad(h,be,b,M).catch(function(ye){return X.handleFragLoadError(ye)}),this.hls.trigger(w.FRAG_LOADING,{frag:h,part:be,targetBufferTime:A}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):me}if(!h.url||this.loadedEndOfParts(oe,A))return Promise.resolve(null)}}this.log("Loading fragment "+h.sn+" cc: "+h.cc+" "+(Q?"of ["+Q.startSN+"-"+Q.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+h.level+", target: "+parseFloat(A.toFixed(3))),x(h.sn)&&!this.bitrateTest&&(this.nextLoadPosition=h.start+h.duration),this.state=Fs;var Se,Re=this.config.progressive;return Se=Re&&q?q.then(function(ye){return!ye||X.fragContextChanged(ye==null?void 0:ye.frag)?null:X.fragmentLoader.load(h,M)}).catch(function(ye){return X.handleFragLoadError(ye)}):Promise.all([this.fragmentLoader.load(h,Re?M:void 0),q]).then(function(ye){var Ce=ye[0];return!Re&&Ce&&M&&M(Ce),Ce}).catch(function(ye){return X.handleFragLoadError(ye)}),this.hls.trigger(w.FRAG_LOADING,{frag:h,targetBufferTime:A}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):Se},a.doFragPartsLoad=function(h,b,A,M){var U=this;return new Promise(function(X,Q){var q,oe=[],pe=(q=A.details)==null?void 0:q.partList;(function me(be){U.fragmentLoader.loadPart(h,be,M).then(function(Se){oe[be.index]=Se;var Re=Se.part;U.hls.trigger(w.FRAG_LOADED,Se);var ye=un(A,h.sn,be.index+1)||Ls(pe,h.sn,be.index+1);if(!ye)return X({frag:h,part:Re,partsLoaded:oe});me(ye)}).catch(Q)})(b)})},a.handleFragLoadError=function(h){if("data"in h){var b=h.data;h.data&&b.details===D.INTERNAL_ABORTED?this.handleFragLoadAborted(b.frag,b.part):this.hls.trigger(w.ERROR,b)}else this.hls.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,err:h,error:h,fatal:!0});return null},a._handleTransmuxerFlush=function(h){var b=this.getCurrentContext(h);if(b&&this.state===pn){var A=b.frag,M=b.part,U=b.level,X=self.performance.now();A.stats.parsing.end=X,M&&(M.stats.parsing.end=X),this.updateLevelTiming(A,M,U,h.partial)}else this.fragCurrent||this.state===Ei||this.state===va||(this.state=_r)},a.getCurrentContext=function(h){var b=this.levels,A=this.fragCurrent,M=h.level,U=h.sn,X=h.part;if(b==null||!b[M])return this.warn("Levels object was unset while buffering fragment "+U+" of level "+M+". The current chunk will not be buffered."),null;var Q=b[M],q=X>-1?un(Q,U,X):null,oe=q?q.fragment:function(pe,me,be){if(pe==null||!pe.details)return null;var Se=pe.details,Re=Se.fragments[me-Se.startSN];return Re||((Re=Se.fragmentHint)&&Re.sn===me?Re:me<Se.startSN&&be&&be.sn===me?be:null)}(Q,U,A);return oe?(A&&A!==oe&&(oe.stats=A.stats),{frag:oe,part:q,level:Q}):null},a.bufferFragmentData=function(h,b,A,M,U){var X;if(h&&this.state===pn){var Q=h.data1,q=h.data2,oe=Q;if(Q&&q&&(oe=hr(Q,q)),(X=oe)!=null&&X.length){var pe={type:h.type,frag:b,part:A,chunkMeta:M,parent:b.type,data:oe};if(this.hls.trigger(w.BUFFER_APPENDING,pe),h.dropped&&h.independent&&!A){if(U)return;this.flushBufferGap(b)}}}},a.flushBufferGap=function(h){var b=this.media;if(b)if(cr.isBuffered(b,b.currentTime)){var A=b.currentTime,M=cr.bufferInfo(b,A,0),U=h.duration,X=Math.min(2*this.config.maxFragLookUpTolerance,.25*U),Q=Math.max(Math.min(h.start-X,M.end-X),A+X);h.start-Q>X&&this.flushMainBuffer(Q,h.start)}else this.flushMainBuffer(0,h.start)},a.getFwdBufferInfo=function(h,b){var A=this.getLoadPosition();return x(A)?this.getFwdBufferInfoAtPos(h,A,b):null},a.getFwdBufferInfoAtPos=function(h,b,A){var M=this.config.maxBufferHole,U=cr.bufferInfo(h,b,M);if(U.len===0&&U.nextStart!==void 0){var X=this.fragmentTracker.getBufferedFrag(b,A);if(X&&U.nextStart<X.end)return cr.bufferInfo(h,b,Math.max(U.nextStart,M))}return U},a.getMaxBufferLength=function(h){var b,A=this.config;return b=h?Math.max(8*A.maxBufferSize/h,A.maxBufferLength):A.maxBufferLength,Math.min(b,A.maxMaxBufferLength)},a.reduceMaxBufferLength=function(h){var b=this.config,A=h||b.maxBufferLength;return b.maxMaxBufferLength>=A&&(b.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+b.maxMaxBufferLength+"s"),!0)},a.getAppendedFrag=function(h,b){var A=this.fragmentTracker.getAppendedFrag(h,gr);return A&&"fragment"in A?A.fragment:A},a.getNextFragment=function(h,b){var A=b.fragments,M=A.length;if(!M)return null;var U,X=this.config,Q=A[0].start;if(b.live){var q=X.initialLiveManifestSize;if(M<q)return this.warn("Not enough fragments to start playback (have: "+M+", need: "+q+")"),null;b.PTSKnown||this.startFragRequested||this.startPosition!==-1||(U=this.getInitialLiveFragment(b,A),this.startPosition=U?this.hls.liveSyncPosition||U.start:h)}else h<=Q&&(U=A[0]);if(!U){var oe=X.lowLatencyMode?b.partEnd:b.fragmentEnd;U=this.getFragmentAtPosition(h,oe,b)}return this.mapToInitFragWhenRequired(U)},a.isLoopLoading=function(h,b){var A=this.fragmentTracker.getState(h);return(A===ui||A===Hi&&!!h.gap)&&this.nextLoadPosition>b},a.getNextFragmentLoopLoading=function(h,b,A,M,U){var X=h.gap,Q=this.getNextFragment(this.nextLoadPosition,b);if(Q===null)return Q;if(h=Q,X&&h&&!h.gap&&A.nextStart){var q=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,A.nextStart,M);if(q!==null&&A.len+q.len>=U)return this.log('buffer full after gaps in "'+M+'" playlist starting at sn: '+h.sn),null}return h},a.mapToInitFragWhenRequired=function(h){return h==null||!h.initSegment||h!=null&&h.initSegment.data||this.bitrateTest?h:h.initSegment},a.getNextPart=function(h,b,A){for(var M=-1,U=!1,X=!0,Q=0,q=h.length;Q<q;Q++){var oe=h[Q];if(X=X&&!oe.independent,M>-1&&A<oe.start)break;var pe=oe.loaded;pe?M=-1:(U||oe.independent||X)&&oe.fragment===b&&(M=Q),U=pe}return M},a.loadedEndOfParts=function(h,b){var A=h[h.length-1];return A&&b>A.start&&A.loaded},a.getInitialLiveFragment=function(h,b){var A=this.fragPrevious,M=null;if(A){if(h.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+A.programDateTime),M=function(q,oe,pe){if(oe===null||!Array.isArray(q)||!q.length||!x(oe)||oe<(q[0].programDateTime||0)||oe>=(q[q.length-1].endProgramDateTime||0))return null;pe=pe||0;for(var me=0;me<q.length;++me){var be=q[me];if(qe(oe,pe,be))return be}return null}(b,A.endProgramDateTime,this.config.maxFragLookUpTolerance)),!M){var U=A.sn+1;if(U>=h.startSN&&U<=h.endSN){var X=b[U-h.startSN];A.cc===X.cc&&(M=X,this.log("Live playlist, switching playlist, load frag with next SN: "+M.sn))}M||(M=function(q,oe){return Ns(q,function(pe){return pe.cc<oe?1:pe.cc>oe?-1:0})}(b,A.cc),M&&this.log("Live playlist, switching playlist, load frag with same CC: "+M.sn))}}else{var Q=this.hls.liveSyncPosition;Q!==null&&(M=this.getFragmentAtPosition(Q,this.bitrateTest?h.fragmentEnd:h.edge,h))}return M},a.getFragmentAtPosition=function(h,b,A){var M,U=this.config,X=this.fragPrevious,Q=A.fragments,q=A.endSN,oe=A.fragmentHint,pe=U.maxFragLookUpTolerance,me=A.partList,be=!!(U.lowLatencyMode&&me!=null&&me.length&&oe);if(be&&oe&&!this.bitrateTest&&(Q=Q.concat(oe),q=oe.sn),M=h<b?Gn(X,Q,h,h>b-pe?0:pe):Q[Q.length-1]){var Se=M.sn-A.startSN,Re=this.fragmentTracker.getState(M);if((Re===ui||Re===Hi&&M.gap)&&(X=M),X&&M.sn===X.sn&&(!be||me[0].fragment.sn>M.sn)&&X&&M.level===X.level){var ye=Q[Se+1];M=M.sn<q&&this.fragmentTracker.getState(ye)!==ui?ye:null}}return M},a.synchronizeToLiveEdge=function(h){var b=this.config,A=this.media;if(A){var M=this.hls.liveSyncPosition,U=A.currentTime,X=h.fragments[0].start,Q=h.edge,q=U>=X-b.maxFragLookUpTolerance&&U<=Q;if(M!==null&&A.duration>M&&(U<M||!q)){var oe=b.liveMaxLatencyDuration!==void 0?b.liveMaxLatencyDuration:b.liveMaxLatencyDurationCount*h.targetduration;(!q&&A.readyState<4||U<Q-oe)&&(this.loadedmetadata||(this.nextLoadPosition=M),A.readyState&&(this.warn("Playback: "+U.toFixed(3)+" is located too far from the end of live sliding playlist: "+Q+", reset currentTime to : "+M.toFixed(3)),A.currentTime=M))}}},a.alignPlaylists=function(h,b){var A=this.levels,M=this.levelLastLoaded,U=this.fragPrevious,X=M!==null?A[M]:null,Q=h.fragments.length;if(!Q)return this.warn("No fragments in live playlist"),0;var q=h.fragments[0].start,oe=!b,pe=h.alignedSliding&&x(q);if(oe||!pe&&!q){sn(U,X,h);var me=h.fragments[0].start;return this.log("Live playlist sliding: "+me.toFixed(2)+" start-sn: "+(b?b.startSN:"na")+"->"+h.startSN+" prev-sn: "+(U?U.sn:"na")+" fragments: "+Q),me}return q},a.waitForCdnTuneIn=function(h){return h.live&&h.canBlockReload&&h.partTarget&&h.tuneInGoal>Math.max(h.partHoldBack,3*h.partTarget)},a.setStartPosition=function(h,b){var A=this.startPosition;if(A<b&&(A=-1),A===-1||this.lastCurrentTime===-1){var M=this.startTimeOffset!==null,U=M?this.startTimeOffset:h.startTimeOffset;U!==null&&x(U)?(A=b+U,U<0&&(A+=h.totalduration),A=Math.min(Math.max(b,A),b+h.totalduration),this.log("Start time offset "+U+" found in "+(M?"multivariant":"media")+" playlist, adjust startPosition to "+A),this.startPosition=A):h.live?A=this.hls.liveSyncPosition||b:this.startPosition=A=0,this.lastCurrentTime=A}this.nextLoadPosition=A},a.getLoadPosition=function(){var h=this.media,b=0;return this.loadedmetadata&&h?b=h.currentTime:this.nextLoadPosition&&(b=this.nextLoadPosition),b},a.handleFragLoadAborted=function(h,b){this.transmuxer&&h.sn!=="initSegment"&&h.stats.aborted&&(this.warn("Fragment "+h.sn+(b?" part "+b.index:"")+" of level "+h.level+" was aborted"),this.resetFragmentLoading(h))},a.resetFragmentLoading=function(h){this.fragCurrent&&(this.fragContextChanged(h)||this.state===Pi)||(this.state=_r)},a.onFragmentOrKeyLoadError=function(h,b){if(b.chunkMeta&&!b.frag){var A=this.getCurrentContext(b.chunkMeta);A&&(b.frag=A.frag)}var M=b.frag;if(M&&M.type===h&&this.levels)if(this.fragContextChanged(M)){var U;this.warn("Frag load error must match current frag to retry "+M.url+" > "+((U=this.fragCurrent)==null?void 0:U.url))}else{var X=b.details===D.FRAG_GAP;X&&this.fragmentTracker.fragBuffered(M,!0);var Q=b.errorAction,q=Q||{},oe=q.action,pe=q.retryCount,me=pe===void 0?0:pe,be=q.retryConfig;if(Q&&oe===Dr&&be){var Se;this.resetStartWhenNotLoaded((Se=this.levelLastLoaded)!=null?Se:M.level);var Re=Pr(be,me);this.warn("Fragment "+M.sn+" of "+h+" "+M.level+" errored with "+b.details+", retrying loading "+(me+1)+"/"+be.maxNumRetry+" in "+Re+"ms"),Q.resolved=!0,this.retryDate=self.performance.now()+Re,this.state=Pi}else be&&Q?(this.resetFragmentErrors(h),me<be.maxNumRetry?X||(Q.resolved=!0):W.warn(b.details+" reached or exceeded max retry ("+me+")")):(Q==null?void 0:Q.action)===Zt?this.state=js:this.state=va;this.tickImmediate()}},a.reduceLengthAndFlushBuffer=function(h){if(this.state===pn||this.state===Fa){var b=h.parent,A=this.getFwdBufferInfo(this.mediaBuffer,b),M=A&&A.len>.5;M&&this.reduceMaxBufferLength(A.len);var U=!M;return U&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+b+" buffer"),h.frag&&(this.fragmentTracker.removeFragment(h.frag),this.nextLoadPosition=h.frag.start),this.resetLoadingState(),U}return!1},a.resetFragmentErrors=function(h){h===Ki&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Ei&&(this.state=_r)},a.afterBufferFlushed=function(h,b,A){if(h){var M=cr.getBuffered(h);this.fragmentTracker.detectEvictedFragments(b,M,A),this.state===ga&&this.resetLoadingState()}},a.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=_r},a.resetStartWhenNotLoaded=function(h){if(!this.loadedmetadata){this.startFragRequested=!1;var b=this.levels?this.levels[h].details:null;b!=null&&b.live?(this.startPosition=-1,this.setStartPosition(b,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},a.resetWhenMissingContext=function(h){var b;this.warn("The loading context changed while buffering fragment "+h.sn+" of level "+h.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded((b=this.levelLastLoaded)!=null?b:h.level),this.resetLoadingState()},a.removeUnbufferedFrags=function(h){h===void 0&&(h=0),this.fragmentTracker.removeFragmentsInRange(h,1/0,this.playlistType,!1,!0)},a.updateLevelTiming=function(h,b,A,M){var U,X=this,Q=A.details;if(Q){if(Object.keys(h.elementaryStreams).reduce(function(oe,pe){var me=h.elementaryStreams[pe];if(me){var be=me.endPTS-me.startPTS;if(be<=0)return X.warn("Could not parse fragment "+h.sn+" "+pe+" duration reliably ("+be+")"),oe||!1;var Se=M?0:da(Q,h,me.startPTS,me.endPTS,me.startDTS,me.endDTS);return X.hls.trigger(w.LEVEL_PTS_UPDATED,{details:Q,level:A,drift:Se,type:pe,frag:h,start:me.startPTS,end:me.endPTS}),!0}return oe},!1))A.fragmentError=0;else if(((U=this.transmuxer)==null?void 0:U.error)===null){var q=new Error("Found no media in fragment "+h.sn+" of level "+h.level+" resetting transmuxer to fallback to playlist timing");if(A.fragmentError===0&&(A.fragmentError++,h.gap=!0,this.fragmentTracker.removeFragment(h),this.fragmentTracker.fragBuffered(h,!0)),this.warn(q.message),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:q,frag:h,reason:"Found no media in msn "+h.sn+' of level "'+A.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=Fa,this.hls.trigger(w.FRAG_PARSED,{frag:h,part:b})}else this.warn("level.details undefined")},a.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},a.recoverWorkerError=function(h){var b,A,M;h.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded((b=(A=this.levelLastLoaded)!=null?A:(M=this.fragCurrent)==null?void 0:M.level)!=null?b:0),this.resetLoadingState())},c(R,[{key:"state",get:function(){return this._state},set:function(h){var b=this._state;b!==h&&(this._state=h,this.log(b+"->"+h))}}]),R}(br);function _l(){return self.SourceBuffer||self.WebKitSourceBuffer}function Zi(N,R){return N===void 0&&(N=""),R===void 0&&(R=9e4),{type:N,id:-1,pid:-1,inputTimeScale:R,sequenceNumber:-1,samples:[],dropped:0}}var El=function(){function N(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var R=N.prototype;return R.resetInitSegment=function(a,h,b,A){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},R.resetTimeStamp=function(a){this.initPTS=a,this.resetContiguity()},R.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},R.canParse=function(a,h){return!1},R.appendFrame=function(a,h,b){},R.demux=function(a,h){this.cachedData&&(a=hr(this.cachedData,a),this.cachedData=null);var b,A=Pe(a,0),M=A?A.length:0,U=this._audioTrack,X=this._id3Track,Q=A?function(me){for(var be=We(me),Se=0;Se<be.length;Se++){var Re=be[Se];if(Ae(Re))return at(Re)}}(A):void 0,q=a.length;for((this.basePTS===null||this.frameIndex===0&&x(Q))&&(this.basePTS=Bh(Q,h,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),A&&A.length>0&&X.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:A,type:tn,duration:Number.POSITIVE_INFINITY});M<q;){if(this.canParse(a,M)){var oe=this.appendFrame(U,a,M);oe?(this.frameIndex++,this.lastPTS=oe.sample.pts,b=M+=oe.length):M=q}else ve(a,M)?(A=Pe(a,M),X.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:A,type:tn,duration:Number.POSITIVE_INFINITY}),b=M+=A.length):M++;if(M===q&&b!==q){var pe=ne(a,b);this.cachedData?this.cachedData=hr(this.cachedData,pe):this.cachedData=pe}}return{audioTrack:U,videoTrack:Zi(),id3Track:X,textTrack:Zi()}},R.demuxSampleAes=function(a,h,b){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},R.flush=function(a){var h=this.cachedData;return h&&(this.cachedData=null,this.demux(h,0)),{audioTrack:this._audioTrack,videoTrack:Zi(),id3Track:this._id3Track,textTrack:Zi()}},R.destroy=function(){},N}(),Bh=function(N,R,a){return x(N)?90*N:9e4*R+(a?9e4*a.baseTime/a.timescale:0)};function oo(N,R){return N[R]===255&&(246&N[R+1])==240}function jo(N,R){return 1&N[R+1]?7:9}function Kn(N,R){return(3&N[R+3])<<11|N[R+4]<<3|(224&N[R+5])>>>5}function zs(N,R){return R+1<N.length&&oo(N,R)}function Fh(N,R){if(zs(N,R)){var a=jo(N,R);if(R+a>=N.length)return!1;var h=Kn(N,R);if(h<=a)return!1;var b=R+h;return b===N.length||zs(N,b)}return!1}function Tl(N,R,a,h,b){if(!N.samplerate){var A=function(M,U,X,Q){var q,oe,pe,me,be=navigator.userAgent.toLowerCase(),Se=Q,Re=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];q=1+((192&U[X+2])>>>6);var ye=(60&U[X+2])>>>2;if(!(ye>Re.length-1))return pe=(1&U[X+2])<<2,pe|=(192&U[X+3])>>>6,W.log("manifest codec:"+Q+", ADTS type:"+q+", samplingIndex:"+ye),/firefox/i.test(be)?ye>=6?(q=5,me=new Array(4),oe=ye-3):(q=2,me=new Array(2),oe=ye):be.indexOf("android")!==-1?(q=2,me=new Array(2),oe=ye):(q=5,me=new Array(4),Q&&(Q.indexOf("mp4a.40.29")!==-1||Q.indexOf("mp4a.40.5")!==-1)||!Q&&ye>=6?oe=ye-3:((Q&&Q.indexOf("mp4a.40.2")!==-1&&(ye>=6&&pe===1||/vivaldi/i.test(be))||!Q&&pe===1)&&(q=2,me=new Array(2)),oe=ye)),me[0]=q<<3,me[0]|=(14&ye)>>1,me[1]|=(1&ye)<<7,me[1]|=pe<<3,q===5&&(me[1]|=(14&oe)>>1,me[2]=(1&oe)<<7,me[2]|=8,me[3]=0),{config:me,samplerate:Re[ye],channelCount:pe,codec:"mp4a.40."+q,manifestCodec:Se};M.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+ye})}(R,a,h,b);if(!A)return;N.config=A.config,N.samplerate=A.samplerate,N.channelCount=A.channelCount,N.codec=A.codec,N.manifestCodec=A.manifestCodec,W.log("parsed codec:"+N.codec+", rate:"+A.samplerate+", channels:"+A.channelCount)}}function Sl(N){return 9216e4/N}function Hs(N,R,a,h,b){var A,M=h+b*Sl(N.samplerate),U=function(be,Se){var Re=jo(be,Se);if(Se+Re<=be.length){var ye=Kn(be,Se)-Re;if(ye>0)return{headerLength:Re,frameLength:ye}}}(R,a);if(U){var X=U.frameLength,Q=U.headerLength,q=Q+X,oe=Math.max(0,a+q-R.length);oe?(A=new Uint8Array(q-Q)).set(R.subarray(a+Q,R.length),0):A=R.subarray(a+Q,a+q);var pe={unit:A,pts:M};return oe||N.samples.push(pe),{sample:pe,length:q,missing:oe}}var me=R.length-a;return(A=new Uint8Array(me)).set(R.subarray(a,R.length),0),{sample:{unit:A,pts:M},length:me,missing:-1}}var On=function(N){function R(h,b){var A;return(A=N.call(this)||this).observer=void 0,A.config=void 0,A.observer=h,A.config=b,A}i(R,N);var a=R.prototype;return a.resetInitSegment=function(h,b,A,M){N.prototype.resetInitSegment.call(this,h,b,A,M),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:b,duration:M,inputTimeScale:9e4,dropped:0}},R.probe=function(h){if(!h)return!1;for(var b=(Pe(h,0)||[]).length,A=h.length;b<A;b++)if(Fh(h,b))return W.log("ADTS sync word found !"),!0;return!1},a.canParse=function(h,b){return function(A,M){return function(U,X){return X+5<U.length}(A,M)&&oo(A,M)&&Kn(A,M)<=A.length-M}(h,b)},a.appendFrame=function(h,b,A){Tl(h,this.observer,b,A,h.manifestCodec);var M=Hs(h,b,A,this.basePTS,this.frameIndex);if(M&&M.missing===0)return M},R}(El),xl=/\/emsg[-/]ID3/i,Uh=function(){function N(a,h){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=h}var R=N.prototype;return R.resetTimeStamp=function(){},R.resetInitSegment=function(a,h,b,A){var M=this.videoTrack=Zi("video",1),U=this.audioTrack=Zi("audio",1),X=this.txtTrack=Zi("text",1);if(this.id3Track=Zi("id3",1),this.timeOffset=0,a!=null&&a.byteLength){var Q=Sr(a);if(Q.video){var q=Q.video,oe=q.id,pe=q.timescale,me=q.codec;M.id=oe,M.timescale=X.timescale=pe,M.codec=me}if(Q.audio){var be=Q.audio,Se=be.id,Re=be.timescale,ye=be.codec;U.id=Se,U.timescale=Re,U.codec=ye}X.id=jt.text,M.sampleDuration=0,M.duration=U.duration=A}},R.resetContiguity=function(){this.remainderData=null},N.probe=function(a){return It(a=a.length>16384?a.subarray(0,16384):a,["moof"]).length>0},R.demux=function(a,h){this.timeOffset=h;var b=a,A=this.videoTrack,M=this.txtTrack;if(this.config.progressive){this.remainderData&&(b=hr(this.remainderData,a));var U=function(Q){var q={valid:null,remainder:null},oe=It(Q,["moof"]);if(!oe)return q;if(oe.length<2)return q.remainder=Q,q;var pe=oe[oe.length-1];return q.valid=ne(Q,0,pe.byteOffset-8),q.remainder=ne(Q,pe.byteOffset-8),q}(b);this.remainderData=U.remainder,A.samples=U.valid||new Uint8Array}else A.samples=b;var X=this.extractID3Track(A,h);return M.samples=Ir(h,A),{videoTrack:A,audioTrack:this.audioTrack,id3Track:X,textTrack:this.txtTrack}},R.flush=function(){var a=this.timeOffset,h=this.videoTrack,b=this.txtTrack;h.samples=this.remainderData||new Uint8Array,this.remainderData=null;var A=this.extractID3Track(h,this.timeOffset);return b.samples=Ir(a,h),{videoTrack:h,audioTrack:Zi(),id3Track:A,textTrack:Zi()}},R.extractID3Track=function(a,h){var b=this.id3Track;if(a.samples.length){var A=It(a.samples,["emsg"]);A&&A.forEach(function(M){var U=function(oe){var pe=oe[0],me="",be="",Se=0,Re=0,ye=0,Ce=0,$e=0,He=0;if(pe===0){for(;Ct(oe.subarray(He,He+1))!=="\0";)me+=Ct(oe.subarray(He,He+1)),He+=1;for(me+=Ct(oe.subarray(He,He+1)),He+=1;Ct(oe.subarray(He,He+1))!=="\0";)be+=Ct(oe.subarray(He,He+1)),He+=1;be+=Ct(oe.subarray(He,He+1)),He+=1,Se=St(oe,12),Re=St(oe,16),Ce=St(oe,20),$e=St(oe,24),He=28}else if(pe===1){Se=St(oe,He+=4);var Ze=St(oe,He+=4),lt=St(oe,He+=4);for(He+=4,ye=Math.pow(2,32)*Ze+lt,Number.isSafeInteger(ye)||(ye=Number.MAX_SAFE_INTEGER,W.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),Ce=St(oe,He),$e=St(oe,He+=4),He+=4;Ct(oe.subarray(He,He+1))!=="\0";)me+=Ct(oe.subarray(He,He+1)),He+=1;for(me+=Ct(oe.subarray(He,He+1)),He+=1;Ct(oe.subarray(He,He+1))!=="\0";)be+=Ct(oe.subarray(He,He+1)),He+=1;be+=Ct(oe.subarray(He,He+1)),He+=1}return{schemeIdUri:me,value:be,timeScale:Se,presentationTime:ye,presentationTimeDelta:Re,eventDuration:Ce,id:$e,payload:oe.subarray(He,oe.byteLength)}}(M);if(xl.test(U.schemeIdUri)){var X=x(U.presentationTime)?U.presentationTime/U.timeScale:h+U.presentationTimeDelta/U.timeScale,Q=U.eventDuration===4294967295?Number.POSITIVE_INFINITY:U.eventDuration/U.timeScale;Q<=.001&&(Q=Number.POSITIVE_INFINITY);var q=U.payload;b.samples.push({data:q,len:q.byteLength,dts:X,pts:X,type:Mn,duration:Q})}})}return b},R.demuxSampleAes=function(a,h,b){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},R.destroy=function(){},N}(),lo=null,jh=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],zh=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Hh=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],ba=[0,1,1,4];function tt(N,R,a,h,b){if(!(a+24>R.length)){var A=pt(R,a);if(A&&a+A.frameLength<=R.length){var M=h+b*(9e4*A.samplesPerFrame/A.sampleRate),U={unit:R.subarray(a,a+A.frameLength),pts:M,dts:M};return N.config=[],N.channelCount=A.channelCount,N.samplerate=A.sampleRate,N.samples.push(U),{sample:U,length:A.frameLength,missing:0}}}}function pt(N,R){var a=N[R+1]>>3&3,h=N[R+1]>>1&3,b=N[R+2]>>4&15,A=N[R+2]>>2&3;if(a!==1&&b!==0&&b!==15&&A!==3){var M=N[R+2]>>1&1,U=N[R+3]>>6,X=1e3*jh[14*(a===3?3-h:h===3?3:4)+b-1],Q=zh[3*(a===3?0:a===2?1:2)+A],q=U===3?1:2,oe=Hh[a][h],pe=ba[h],me=8*oe*pe,be=Math.floor(oe*X/Q+M)*pe;if(lo===null){var Se=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);lo=Se?parseInt(Se[1]):0}return lo&&lo<=87&&h===2&&X>=224e3&&U===0&&(N[R+3]=128|N[R+3]),{sampleRate:Q,channelCount:q,frameLength:be,samplesPerFrame:me}}}function ct(N,R){return N[R]===255&&(224&N[R+1])==224&&(6&N[R+1])!=0}function Ft(N,R){return R+1<N.length&&ct(N,R)}function dr(N,R){if(R+1<N.length&&ct(N,R)){var a=pt(N,R),h=4;a!=null&&a.frameLength&&(h=a.frameLength);var b=R+h;return b===N.length||Ft(N,b)}return!1}var Vr=function(){function N(a){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=a,this.bytesAvailable=a.byteLength,this.word=0,this.bitsAvailable=0}var R=N.prototype;return R.loadWord=function(){var a=this.data,h=this.bytesAvailable,b=a.byteLength-h,A=new Uint8Array(4),M=Math.min(4,h);if(M===0)throw new Error("no bytes available");A.set(a.subarray(b,b+M)),this.word=new DataView(A.buffer).getUint32(0),this.bitsAvailable=8*M,this.bytesAvailable-=M},R.skipBits=function(a){var h;a=Math.min(a,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>a?(this.word<<=a,this.bitsAvailable-=a):(a-=this.bitsAvailable,a-=(h=a>>3)<<3,this.bytesAvailable-=h,this.loadWord(),this.word<<=a,this.bitsAvailable-=a)},R.readBits=function(a){var h=Math.min(this.bitsAvailable,a),b=this.word>>>32-h;if(a>32&&W.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=h,this.bitsAvailable>0)this.word<<=h;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(h=a-h)>0&&this.bitsAvailable?b<<h|this.readBits(h):b},R.skipLZ=function(){var a;for(a=0;a<this.bitsAvailable;++a)if(this.word&2147483648>>>a)return this.word<<=a,this.bitsAvailable-=a,a;return this.loadWord(),a+this.skipLZ()},R.skipUEG=function(){this.skipBits(1+this.skipLZ())},R.skipEG=function(){this.skipBits(1+this.skipLZ())},R.readUEG=function(){var a=this.skipLZ();return this.readBits(a+1)-1},R.readEG=function(){var a=this.readUEG();return 1&a?1+a>>>1:-1*(a>>>1)},R.readBoolean=function(){return this.readBits(1)===1},R.readUByte=function(){return this.readBits(8)},R.readUShort=function(){return this.readBits(16)},R.readUInt=function(){return this.readBits(32)},R.skipScalingList=function(a){for(var h=8,b=8,A=0;A<a;A++)b!==0&&(b=(h+this.readEG()+256)%256),h=b===0?h:b},R.readSPS=function(){var a,h,b,A=0,M=0,U=0,X=0,Q=this.readUByte.bind(this),q=this.readBits.bind(this),oe=this.readUEG.bind(this),pe=this.readBoolean.bind(this),me=this.skipBits.bind(this),be=this.skipEG.bind(this),Se=this.skipUEG.bind(this),Re=this.skipScalingList.bind(this);Q();var ye=Q();if(q(5),me(3),Q(),Se(),ye===100||ye===110||ye===122||ye===244||ye===44||ye===83||ye===86||ye===118||ye===128){var Ce=oe();if(Ce===3&&me(1),Se(),Se(),me(1),pe())for(h=Ce!==3?8:12,b=0;b<h;b++)pe()&&Re(b<6?16:64)}Se();var $e=oe();if($e===0)oe();else if($e===1)for(me(1),be(),be(),a=oe(),b=0;b<a;b++)be();Se(),me(1);var He=oe(),Ze=oe(),lt=q(1);lt===0&&me(1),me(1),pe()&&(A=oe(),M=oe(),U=oe(),X=oe());var ht=[1,1];if(pe()&&pe())switch(Q()){case 1:ht=[1,1];break;case 2:ht=[12,11];break;case 3:ht=[10,11];break;case 4:ht=[16,11];break;case 5:ht=[40,33];break;case 6:ht=[24,11];break;case 7:ht=[20,11];break;case 8:ht=[32,11];break;case 9:ht=[80,33];break;case 10:ht=[18,11];break;case 11:ht=[15,11];break;case 12:ht=[64,33];break;case 13:ht=[160,99];break;case 14:ht=[4,3];break;case 15:ht=[3,2];break;case 16:ht=[2,1];break;case 255:ht=[Q()<<8|Q(),Q()<<8|Q()]}return{width:Math.ceil(16*(He+1)-2*A-2*M),height:(2-lt)*(Ze+1)*16-(lt?2:4)*(U+X),pixelRatio:ht}},R.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},N}(),Ti=function(){function N(a,h,b){this.keyData=void 0,this.decrypter=void 0,this.keyData=b,this.decrypter=new Bs(h,{removePKCS7Padding:!1})}var R=N.prototype;return R.decryptBuffer=function(a){return this.decrypter.decrypt(a,this.keyData.key.buffer,this.keyData.iv.buffer)},R.decryptAacSample=function(a,h,b){var A=this,M=a[h].unit;if(!(M.length<=16)){var U=M.subarray(16,M.length-M.length%16),X=U.buffer.slice(U.byteOffset,U.byteOffset+U.length);this.decryptBuffer(X).then(function(Q){var q=new Uint8Array(Q);M.set(q,16),A.decrypter.isSync()||A.decryptAacSamples(a,h+1,b)})}},R.decryptAacSamples=function(a,h,b){for(;;h++){if(h>=a.length)return void b();if(!(a[h].unit.length<32||(this.decryptAacSample(a,h,b),this.decrypter.isSync())))return}},R.getAvcEncryptedData=function(a){for(var h=16*Math.floor((a.length-48)/160)+16,b=new Int8Array(h),A=0,M=32;M<a.length-16;M+=160,A+=16)b.set(a.subarray(M,M+16),A);return b},R.getAvcDecryptedUnit=function(a,h){for(var b=new Uint8Array(h),A=0,M=32;M<a.length-16;M+=160,A+=16)a.set(b.subarray(A,A+16),M);return a},R.decryptAvcSample=function(a,h,b,A,M){var U=this,X=Or(M.data),Q=this.getAvcEncryptedData(X);this.decryptBuffer(Q.buffer).then(function(q){M.data=U.getAvcDecryptedUnit(X,q),U.decrypter.isSync()||U.decryptAvcSamples(a,h,b+1,A)})},R.decryptAvcSamples=function(a,h,b,A){if(a instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;h++,b=0){if(h>=a.length)return void A();for(var M=a[h].units;!(b>=M.length);b++){var U=M[b];if(!(U.data.length<=48||U.type!==1&&U.type!==5||(this.decryptAvcSample(a,h,b,A,U),this.decrypter.isSync())))return}}},N}(),Er=188,zo=function(){function N(a,h,b){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=a,this.config=h,this.typeSupported=b}N.probe=function(a){var h=N.syncOffset(a);return h>0&&W.warn("MPEG2-TS detected but first sync word found @ offset "+h),h!==-1},N.syncOffset=function(a){for(var h=a.length,b=Math.min(940,a.length-Er)+1,A=0;A<b;){for(var M=!1,U=-1,X=0,Q=A;Q<h;Q+=Er){if(a[Q]!==71){if(X)return-1;break}if(X++,U===-1&&(U=Q)!==0&&(b=Math.min(U+18612,a.length-Er)+1),M||(M=an(a,Q)===0),M&&X>1&&(U===0&&X>2||Q+Er>b))return U}A++}return-1},N.createTrack=function(a,h){return{container:a==="video"||a==="audio"?"video/mp2t":void 0,type:a,id:jt[a],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:a==="audio"?h:void 0}};var R=N.prototype;return R.resetInitSegment=function(a,h,b,A){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=N.createTrack("video"),this._audioTrack=N.createTrack("audio",A),this._id3Track=N.createTrack("id3"),this._txtTrack=N.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=h,this.videoCodec=b,this._duration=A},R.resetTimeStamp=function(){},R.resetContiguity=function(){var a=this._audioTrack,h=this._avcTrack,b=this._id3Track;a&&(a.pesData=null),h&&(h.pesData=null),b&&(b.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},R.demux=function(a,h,b,A){var M;b===void 0&&(b=!1),A===void 0&&(A=!1),b||(this.sampleAes=null);var U=this._avcTrack,X=this._audioTrack,Q=this._id3Track,q=this._txtTrack,oe=U.pid,pe=U.pesData,me=X.pid,be=Q.pid,Se=X.pesData,Re=Q.pesData,ye=null,Ce=this.pmtParsed,$e=this._pmtId,He=a.length;if(this.remainderData&&(He=(a=hr(this.remainderData,a)).length,this.remainderData=null),He<Er&&!A)return this.remainderData=a,{audioTrack:X,videoTrack:U,id3Track:Q,textTrack:q};var Ze=Math.max(0,N.syncOffset(a));(He-=(He-Ze)%Er)<a.byteLength&&!A&&(this.remainderData=new Uint8Array(a.buffer,He,a.buffer.byteLength-He));for(var lt=0,ht=Ze;ht<He;ht+=Er)if(a[ht]===71){var wt=!!(64&a[ht+1]),dt=an(a,ht),gt=void 0;if((48&a[ht+3])>>4>1){if((gt=ht+5+a[ht+4])===ht+Er)continue}else gt=ht+4;switch(dt){case oe:wt&&(pe&&(M=Nn(pe))&&this.parseAVCPES(U,q,M,!1),pe={data:[],size:0}),pe&&(pe.data.push(a.subarray(gt,ht+Er)),pe.size+=ht+Er-gt);break;case me:if(wt){if(Se&&(M=Nn(Se)))switch(X.segmentCodec){case"aac":this.parseAACPES(X,M);break;case"mp3":this.parseMPEGPES(X,M)}Se={data:[],size:0}}Se&&(Se.data.push(a.subarray(gt,ht+Er)),Se.size+=ht+Er-gt);break;case be:wt&&(Re&&(M=Nn(Re))&&this.parseID3PES(Q,M),Re={data:[],size:0}),Re&&(Re.data.push(a.subarray(gt,ht+Er)),Re.size+=ht+Er-gt);break;case 0:wt&&(gt+=a[gt]+1),$e=this._pmtId=co(a,gt);break;case $e:wt&&(gt+=a[gt]+1);var Pt=$h(a,gt,this.typeSupported,b);(oe=Pt.avc)>0&&(U.pid=oe),(me=Pt.audio)>0&&(X.pid=me,X.segmentCodec=Pt.segmentCodec),(be=Pt.id3)>0&&(Q.pid=be),ye===null||Ce||(W.warn("MPEG-TS PMT found at "+ht+" after unknown PID '"+ye+"'. Backtracking to sync byte @"+Ze+" to parse all TS packets."),ye=null,ht=Ze-188),Ce=this.pmtParsed=!0;break;case 17:case 8191:break;default:ye=dt}}else lt++;if(lt>0){var xt=new Error("Found "+lt+" TS packet/s that do not start with 0x47");this.observer.emit(w.ERROR,w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:xt,reason:xt.message})}U.pesData=pe,X.pesData=Se,Q.pesData=Re;var Wt={audioTrack:X,videoTrack:U,id3Track:Q,textTrack:q};return A&&this.extractRemainingSamples(Wt),Wt},R.flush=function(){var a,h=this.remainderData;return this.remainderData=null,a=h?this.demux(h,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(a),this.sampleAes?this.decrypt(a,this.sampleAes):a},R.extractRemainingSamples=function(a){var h,b=a.audioTrack,A=a.videoTrack,M=a.id3Track,U=a.textTrack,X=A.pesData,Q=b.pesData,q=M.pesData;if(X&&(h=Nn(X))?(this.parseAVCPES(A,U,h,!0),A.pesData=null):A.pesData=X,Q&&(h=Nn(Q))){switch(b.segmentCodec){case"aac":this.parseAACPES(b,h);break;case"mp3":this.parseMPEGPES(b,h)}b.pesData=null}else Q!=null&&Q.size&&W.log("last AAC PES packet truncated,might overlap between fragments"),b.pesData=Q;q&&(h=Nn(q))?(this.parseID3PES(M,h),M.pesData=null):M.pesData=q},R.demuxSampleAes=function(a,h,b){var A=this.demux(a,b,!0,!this.config.progressive),M=this.sampleAes=new Ti(this.observer,this.config,h);return this.decrypt(A,M)},R.decrypt=function(a,h){return new Promise(function(b){var A=a.audioTrack,M=a.videoTrack;A.samples&&A.segmentCodec==="aac"?h.decryptAacSamples(A.samples,0,function(){M.samples?h.decryptAvcSamples(M.samples,0,0,function(){b(a)}):b(a)}):M.samples&&h.decryptAvcSamples(M.samples,0,0,function(){b(a)})})},R.destroy=function(){this._duration=0},R.parseAVCPES=function(a,h,b,A){var M,U=this,X=this.parseAVCNALu(a,b.data),Q=this.avcSample,q=!1;b.data=null,Q&&X.length&&!a.audFound&&(ys(Q,a),Q=this.avcSample=ho(!1,b.pts,b.dts,"")),X.forEach(function(oe){var pe;switch(oe.type){case 1:var me=!1;M=!0;var be,Se=oe.data;if(q&&Se.length>4){var Re=new Vr(Se).readSliceType();Re!==2&&Re!==4&&Re!==7&&Re!==9||(me=!0)}me&&(be=Q)!=null&&be.frame&&!Q.key&&(ys(Q,a),Q=U.avcSample=null),Q||(Q=U.avcSample=ho(!0,b.pts,b.dts,"")),Q.frame=!0,Q.key=me;break;case 5:M=!0,(pe=Q)!=null&&pe.frame&&!Q.key&&(ys(Q,a),Q=U.avcSample=null),Q||(Q=U.avcSample=ho(!0,b.pts,b.dts,"")),Q.key=!0,Q.frame=!0;break;case 6:M=!0,Wr(oe.data,1,b.pts,h.samples);break;case 7:if(M=!0,q=!0,!a.sps){var ye=oe.data,Ce=new Vr(ye).readSPS();a.width=Ce.width,a.height=Ce.height,a.pixelRatio=Ce.pixelRatio,a.sps=[ye],a.duration=U._duration;for(var $e=ye.subarray(1,4),He="avc1.",Ze=0;Ze<3;Ze++){var lt=$e[Ze].toString(16);lt.length<2&&(lt="0"+lt),He+=lt}a.codec=He}break;case 8:M=!0,a.pps||(a.pps=[oe.data]);break;case 9:M=!1,a.audFound=!0,Q&&ys(Q,a),Q=U.avcSample=ho(!1,b.pts,b.dts,"");break;case 12:M=!0;break;default:M=!1,Q&&(Q.debug+="unknown NAL "+oe.type+" ")}Q&&M&&Q.units.push(oe)}),A&&Q&&(ys(Q,a),this.avcSample=null)},R.getLastNalUnit=function(a){var h,b,A=this.avcSample;if(A&&A.units.length!==0||(A=a[a.length-1]),(h=A)!=null&&h.units){var M=A.units;b=M[M.length-1]}return b},R.parseAVCNALu=function(a,h){var b,A,M=h.byteLength,U=a.naluState||0,X=U,Q=[],q=0,oe=-1,pe=0;for(U===-1&&(oe=0,pe=31&h[0],U=0,q=1);q<M;)if(b=h[q++],U)if(U!==1)if(b)if(b===1){if(oe>=0){var me={data:h.subarray(oe,q-U-1),type:pe};Q.push(me)}else{var be=this.getLastNalUnit(a.samples);if(be&&(X&&q<=4-X&&be.state&&(be.data=be.data.subarray(0,be.data.byteLength-X)),(A=q-U-1)>0)){var Se=new Uint8Array(be.data.byteLength+A);Se.set(be.data,0),Se.set(h.subarray(0,A),be.data.byteLength),be.data=Se,be.state=0}}q<M?(oe=q,pe=31&h[q],U=0):U=-1}else U=0;else U=3;else U=b?0:2;else U=b?0:1;if(oe>=0&&U>=0){var Re={data:h.subarray(oe,M),type:pe,state:U};Q.push(Re)}if(Q.length===0){var ye=this.getLastNalUnit(a.samples);if(ye){var Ce=new Uint8Array(ye.data.byteLength+h.byteLength);Ce.set(ye.data,0),Ce.set(h,ye.data.byteLength),ye.data=Ce}}return a.naluState=U,Q},R.parseAACPES=function(a,h){var b,A,M,U=0,X=this.aacOverFlow,Q=h.data;if(X){this.aacOverFlow=null;var q=X.missing,oe=X.sample.unit.byteLength;if(q===-1){var pe=new Uint8Array(oe+Q.byteLength);pe.set(X.sample.unit,0),pe.set(Q,oe),Q=pe}else{var me=oe-q;X.sample.unit.set(Q.subarray(0,q),me),a.samples.push(X.sample),U=X.missing}}for(b=U,A=Q.length;b<A-1&&!zs(Q,b);b++);if(b!==U){var be,Se=b<A-1;be=Se?"AAC PES did not start with ADTS header,offset:"+b:"No ADTS header found in AAC PES";var Re=new Error(be);if(W.warn("parsing error: "+be),this.observer.emit(w.ERROR,w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Se,error:Re,reason:be}),!Se)return}if(Tl(a,this.observer,Q,b,this.audioCodec),h.pts!==void 0)M=h.pts;else{if(!X)return void W.warn("[tsdemuxer]: AAC PES unknown PTS");var ye=Sl(a.samplerate);M=X.sample.pts+ye}for(var Ce,$e=0;b<A;){if(b+=(Ce=Hs(a,Q,b,M,$e)).length,Ce.missing){this.aacOverFlow=Ce;break}for($e++;b<A-1&&!zs(Q,b);b++);}},R.parseMPEGPES=function(a,h){var b=h.data,A=b.length,M=0,U=0,X=h.pts;if(X!==void 0)for(;U<A;)if(Ft(b,U)){var Q=tt(a,b,U,X,M);if(!Q)break;U+=Q.length,M++}else U++;else W.warn("[tsdemuxer]: MPEG PES unknown PTS")},R.parseID3PES=function(a,h){if(h.pts!==void 0){var b=t({},h,{type:this._avcTrack?Mn:tn,duration:Number.POSITIVE_INFINITY});a.samples.push(b)}else W.warn("[tsdemuxer]: ID3 PES unknown PTS")},N}();function ho(N,R,a,h){return{key:N,frame:!1,pts:R,dts:a,units:[],debug:h,length:0}}function an(N,R){return((31&N[R+1])<<8)+N[R+2]}function co(N,R){return(31&N[R+10])<<8|N[R+11]}function $h(N,R,a,h){var b={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},A=R+3+((15&N[R+1])<<8|N[R+2])-4;for(R+=12+((15&N[R+10])<<8|N[R+11]);R<A;){var M=an(N,R);switch(N[R]){case 207:if(!h){W.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:b.audio===-1&&(b.audio=M);break;case 21:b.id3===-1&&(b.id3=M);break;case 219:if(!h){W.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:b.avc===-1&&(b.avc=M);break;case 3:case 4:a.mpeg!==!0&&a.mp3!==!0?W.log("MPEG audio found, not supported in this browser"):b.audio===-1&&(b.audio=M,b.segmentCodec="mp3");break;case 36:W.warn("Unsupported HEVC stream type found")}R+=5+((15&N[R+3])<<8|N[R+4])}return b}function Nn(N){var R,a,h,b,A,M=0,U=N.data;if(!N||N.size===0)return null;for(;U[0].length<19&&U.length>1;){var X=new Uint8Array(U[0].length+U[1].length);X.set(U[0]),X.set(U[1],U[0].length),U[0]=X,U.splice(1,1)}if(((R=U[0])[0]<<16)+(R[1]<<8)+R[2]===1){if((a=(R[4]<<8)+R[5])&&a>N.size-6)return null;var Q=R[7];192&Q&&(b=536870912*(14&R[9])+4194304*(255&R[10])+16384*(254&R[11])+128*(255&R[12])+(254&R[13])/2,64&Q?b-(A=536870912*(14&R[14])+4194304*(255&R[15])+16384*(254&R[16])+128*(255&R[17])+(254&R[18])/2)>54e5&&(W.warn(Math.round((b-A)/9e4)+"s delta between PTS and DTS, align them"),b=A):A=b);var q=(h=R[8])+9;if(N.size<=q)return null;N.size-=q;for(var oe=new Uint8Array(N.size),pe=0,me=U.length;pe<me;pe++){var be=(R=U[pe]).byteLength;if(q){if(q>be){q-=be;continue}R=R.subarray(q),be-=q,q=0}oe.set(R,M),M+=be}return a&&(a-=h+3),{data:oe,pts:b,dts:A,len:a}}return null}function ys(N,R){if(N.units.length&&N.frame){if(N.pts===void 0){var a=R.samples,h=a.length;if(!h)return void R.dropped++;var b=a[h-1];N.pts=b.pts,N.dts=b.dts}R.samples.push(N)}N.debug.length&&W.log(N.pts+"/"+N.dts+":"+N.debug)}var fo=function(N){function R(){return N.apply(this,arguments)||this}i(R,N);var a=R.prototype;return a.resetInitSegment=function(h,b,A,M){N.prototype.resetInitSegment.call(this,h,b,A,M),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:b,duration:M,inputTimeScale:9e4,dropped:0}},R.probe=function(h){if(!h)return!1;for(var b=(Pe(h,0)||[]).length,A=h.length;b<A;b++)if(dr(h,b))return W.log("MPEG Audio sync word found !"),!0;return!1},a.canParse=function(h,b){return function(A,M){return ct(A,M)&&4<=A.length-M}(h,b)},a.appendFrame=function(h,b,A){if(this.basePTS!==null)return tt(h,b,A,this.basePTS,this.frameIndex)},R}(El),Gr=function(){function N(){}return N.getSilentFrame=function(R,a){if(R==="mp4a.40.2"){if(a===1)return new Uint8Array([0,200,0,128,35,128]);if(a===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(a===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(a===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(a===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(a===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(a===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(a===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(a===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},N}(),ws=Math.pow(2,32)-1,Di=function(){function N(){}return N.init=function(){var R;for(R in N.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},N.types)N.types.hasOwnProperty(R)&&(N.types[R]=[R.charCodeAt(0),R.charCodeAt(1),R.charCodeAt(2),R.charCodeAt(3)]);var a=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);N.HDLR_TYPES={video:a,audio:h};var b=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0]);N.STTS=N.STSC=N.STCO=A,N.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),N.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),N.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var M=new Uint8Array([105,115,111,109]),U=new Uint8Array([97,118,99,49]),X=new Uint8Array([0,0,0,1]);N.FTYP=N.box(N.types.ftyp,M,X,M,U),N.DINF=N.box(N.types.dinf,N.box(N.types.dref,b))},N.box=function(R){for(var a=8,h=arguments.length,b=new Array(h>1?h-1:0),A=1;A<h;A++)b[A-1]=arguments[A];for(var M=b.length,U=M;M--;)a+=b[M].byteLength;var X=new Uint8Array(a);for(X[0]=a>>24&255,X[1]=a>>16&255,X[2]=a>>8&255,X[3]=255&a,X.set(R,4),M=0,a=8;M<U;M++)X.set(b[M],a),a+=b[M].byteLength;return X},N.hdlr=function(R){return N.box(N.types.hdlr,N.HDLR_TYPES[R])},N.mdat=function(R){return N.box(N.types.mdat,R)},N.mdhd=function(R,a){a*=R;var h=Math.floor(a/(ws+1)),b=Math.floor(a%(ws+1));return N.box(N.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,R>>24&255,R>>16&255,R>>8&255,255&R,h>>24,h>>16&255,h>>8&255,255&h,b>>24,b>>16&255,b>>8&255,255&b,85,196,0,0]))},N.mdia=function(R){return N.box(N.types.mdia,N.mdhd(R.timescale,R.duration),N.hdlr(R.type),N.minf(R))},N.mfhd=function(R){return N.box(N.types.mfhd,new Uint8Array([0,0,0,0,R>>24,R>>16&255,R>>8&255,255&R]))},N.minf=function(R){return R.type==="audio"?N.box(N.types.minf,N.box(N.types.smhd,N.SMHD),N.DINF,N.stbl(R)):N.box(N.types.minf,N.box(N.types.vmhd,N.VMHD),N.DINF,N.stbl(R))},N.moof=function(R,a,h){return N.box(N.types.moof,N.mfhd(R),N.traf(h,a))},N.moov=function(R){for(var a=R.length,h=[];a--;)h[a]=N.trak(R[a]);return N.box.apply(null,[N.types.moov,N.mvhd(R[0].timescale,R[0].duration)].concat(h).concat(N.mvex(R)))},N.mvex=function(R){for(var a=R.length,h=[];a--;)h[a]=N.trex(R[a]);return N.box.apply(null,[N.types.mvex].concat(h))},N.mvhd=function(R,a){a*=R;var h=Math.floor(a/(ws+1)),b=Math.floor(a%(ws+1)),A=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,R>>24&255,R>>16&255,R>>8&255,255&R,h>>24,h>>16&255,h>>8&255,255&h,b>>24,b>>16&255,b>>8&255,255&b,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return N.box(N.types.mvhd,A)},N.sdtp=function(R){var a,h,b=R.samples||[],A=new Uint8Array(4+b.length);for(a=0;a<b.length;a++)h=b[a].flags,A[a+4]=h.dependsOn<<4|h.isDependedOn<<2|h.hasRedundancy;return N.box(N.types.sdtp,A)},N.stbl=function(R){return N.box(N.types.stbl,N.stsd(R),N.box(N.types.stts,N.STTS),N.box(N.types.stsc,N.STSC),N.box(N.types.stsz,N.STSZ),N.box(N.types.stco,N.STCO))},N.avc1=function(R){var a,h,b,A=[],M=[];for(a=0;a<R.sps.length;a++)b=(h=R.sps[a]).byteLength,A.push(b>>>8&255),A.push(255&b),A=A.concat(Array.prototype.slice.call(h));for(a=0;a<R.pps.length;a++)b=(h=R.pps[a]).byteLength,M.push(b>>>8&255),M.push(255&b),M=M.concat(Array.prototype.slice.call(h));var U=N.box(N.types.avcC,new Uint8Array([1,A[3],A[4],A[5],255,224|R.sps.length].concat(A).concat([R.pps.length]).concat(M))),X=R.width,Q=R.height,q=R.pixelRatio[0],oe=R.pixelRatio[1];return N.box(N.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,X>>8&255,255&X,Q>>8&255,255&Q,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),U,N.box(N.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),N.box(N.types.pasp,new Uint8Array([q>>24,q>>16&255,q>>8&255,255&q,oe>>24,oe>>16&255,oe>>8&255,255&oe])))},N.esds=function(R){var a=R.config.length;return new Uint8Array([0,0,0,0,3,23+a,0,1,0,4,15+a,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([a]).concat(R.config).concat([6,1,2]))},N.mp4a=function(R){var a=R.samplerate;return N.box(N.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,R.channelCount,0,16,0,0,0,0,a>>8&255,255&a,0,0]),N.box(N.types.esds,N.esds(R)))},N.mp3=function(R){var a=R.samplerate;return N.box(N.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,R.channelCount,0,16,0,0,0,0,a>>8&255,255&a,0,0]))},N.stsd=function(R){return R.type==="audio"?R.segmentCodec==="mp3"&&R.codec==="mp3"?N.box(N.types.stsd,N.STSD,N.mp3(R)):N.box(N.types.stsd,N.STSD,N.mp4a(R)):N.box(N.types.stsd,N.STSD,N.avc1(R))},N.tkhd=function(R){var a=R.id,h=R.duration*R.timescale,b=R.width,A=R.height,M=Math.floor(h/(ws+1)),U=Math.floor(h%(ws+1));return N.box(N.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,a>>24&255,a>>16&255,a>>8&255,255&a,0,0,0,0,M>>24,M>>16&255,M>>8&255,255&M,U>>24,U>>16&255,U>>8&255,255&U,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,b>>8&255,255&b,0,0,A>>8&255,255&A,0,0]))},N.traf=function(R,a){var h=N.sdtp(R),b=R.id,A=Math.floor(a/(ws+1)),M=Math.floor(a%(ws+1));return N.box(N.types.traf,N.box(N.types.tfhd,new Uint8Array([0,0,0,0,b>>24,b>>16&255,b>>8&255,255&b])),N.box(N.types.tfdt,new Uint8Array([1,0,0,0,A>>24,A>>16&255,A>>8&255,255&A,M>>24,M>>16&255,M>>8&255,255&M])),N.trun(R,h.length+16+20+8+16+8+8),h)},N.trak=function(R){return R.duration=R.duration||4294967295,N.box(N.types.trak,N.tkhd(R),N.mdia(R))},N.trex=function(R){var a=R.id;return N.box(N.types.trex,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},N.trun=function(R,a){var h,b,A,M,U,X,Q=R.samples||[],q=Q.length,oe=12+16*q,pe=new Uint8Array(oe);for(a+=8+oe,pe.set([R.type==="video"?1:0,0,15,1,q>>>24&255,q>>>16&255,q>>>8&255,255&q,a>>>24&255,a>>>16&255,a>>>8&255,255&a],0),h=0;h<q;h++)A=(b=Q[h]).duration,M=b.size,U=b.flags,X=b.cts,pe.set([A>>>24&255,A>>>16&255,A>>>8&255,255&A,M>>>24&255,M>>>16&255,M>>>8&255,255&M,U.isLeading<<2|U.dependsOn,U.isDependedOn<<6|U.hasRedundancy<<4|U.paddingValue<<1|U.isNonSync,61440&U.degradPrio,15&U.degradPrio,X>>>24&255,X>>>16&255,X>>>8&255,255&X],12+16*h);return N.box(N.types.trun,pe)},N.initSegment=function(R){N.types||N.init();var a=N.moov(R),h=new Uint8Array(N.FTYP.byteLength+a.byteLength);return h.set(N.FTYP),h.set(a,N.FTYP.byteLength),h},N}();function ya(N,R,a,h){a===void 0&&(a=1),h===void 0&&(h=!1);var b=N*R*a;return h?Math.round(b):b}function ja(N,R){return R===void 0&&(R=!1),ya(N,1e3,1/9e4,R)}Di.types=void 0,Di.HDLR_TYPES=void 0,Di.STTS=void 0,Di.STSC=void 0,Di.STCO=void 0,Di.STSZ=void 0,Di.VMHD=void 0,Di.SMHD=void 0,Di.STSD=void 0,Di.FTYP=void 0,Di.DINF=void 0;var uo=null,Ho=null,wa=function(){function N(a,h,b,A){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=a,this.config=h,this.typeSupported=b,this.ISGenerated=!1,uo===null){var M=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);uo=M?parseInt(M[1]):0}if(Ho===null){var U=navigator.userAgent.match(/Safari\/(\d+)/i);Ho=U?parseInt(U[1]):0}}var R=N.prototype;return R.destroy=function(){},R.resetTimeStamp=function(a){W.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=a},R.resetNextTimestamp=function(){W.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},R.resetInitSegment=function(){W.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},R.getVideoStartPts=function(a){var h=!1,b=a.reduce(function(A,M){var U=M.pts-A;return U<-4294967296?(h=!0,Si(A,M.pts)):U>0?A:M.pts},a[0].pts);return h&&W.debug("PTS rollover detected"),b},R.remux=function(a,h,b,A,M,U,X,Q){var q,oe,pe,me,be,Se,Re=M,ye=M,Ce=a.pid>-1,$e=h.pid>-1,He=h.samples.length,Ze=a.samples.length>0,lt=X&&He>0||He>1;if((!Ce||Ze)&&(!$e||lt)||this.ISGenerated||X){this.ISGenerated||(pe=this.generateIS(a,h,M,U));var ht,wt=this.isVideoContiguous,dt=-1;if(lt&&(dt=function(Qt){for(var Vt=0;Vt<Qt.length;Vt++)if(Qt[Vt].key)return Vt;return-1}(h.samples),!wt&&this.config.forceKeyFrameOnDiscontinuity))if(Se=!0,dt>0){W.warn("[mp4-remuxer]: Dropped "+dt+" out of "+He+" video samples due to a missing keyframe");var gt=this.getVideoStartPts(h.samples);h.samples=h.samples.slice(dt),h.dropped+=dt,ht=ye+=(h.samples[0].pts-gt)/h.inputTimeScale}else dt===-1&&(W.warn("[mp4-remuxer]: No keyframe found out of "+He+" video samples"),Se=!1);if(this.ISGenerated){if(Ze&&lt){var Pt=this.getVideoStartPts(h.samples),xt=(Si(a.samples[0].pts,Pt)-Pt)/h.inputTimeScale;Re+=Math.max(0,xt),ye+=Math.max(0,-xt)}if(Ze){if(a.samplerate||(W.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),pe=this.generateIS(a,h,M,U)),oe=this.remuxAudio(a,Re,this.isAudioContiguous,U,$e||lt||Q===Ki?ye:void 0),lt){var Wt=oe?oe.endPTS-oe.startPTS:0;h.inputTimeScale||(W.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),pe=this.generateIS(a,h,M,U)),q=this.remuxVideo(h,ye,wt,Wt)}}else lt&&(q=this.remuxVideo(h,ye,wt,0));q&&(q.firstKeyFrame=dt,q.independent=dt!==-1,q.firstKeyFramePTS=ht)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(b.samples.length&&(be=za(b,M,this._initPTS,this._initDTS)),A.samples.length&&(me=$o(A,M,this._initPTS))),{audio:oe,video:q,initSegment:pe,independent:Se,text:me,id3:be}},R.generateIS=function(a,h,b,A){var M,U,X,Q=a.samples,q=h.samples,oe=this.typeSupported,pe={},me=this._initPTS,be=!me||A,Se="audio/mp4";if(be&&(M=U=1/0),a.config&&Q.length&&(a.timescale=a.samplerate,a.segmentCodec==="mp3"&&(oe.mpeg?(Se="audio/mpeg",a.codec=""):oe.mp3&&(a.codec="mp3")),pe.audio={id:"audio",container:Se,codec:a.codec,initSegment:a.segmentCodec==="mp3"&&oe.mpeg?new Uint8Array(0):Di.initSegment([a]),metadata:{channelCount:a.channelCount}},be&&(X=a.inputTimeScale,me&&X===me.timescale?be=!1:M=U=Q[0].pts-Math.round(X*b))),h.sps&&h.pps&&q.length&&(h.timescale=h.inputTimeScale,pe.video={id:"main",container:"video/mp4",codec:h.codec,initSegment:Di.initSegment([h]),metadata:{width:h.width,height:h.height}},be))if(X=h.inputTimeScale,me&&X===me.timescale)be=!1;else{var Re=this.getVideoStartPts(q),ye=Math.round(X*b);U=Math.min(U,Si(q[0].dts,Re)-ye),M=Math.min(M,Re-ye)}if(Object.keys(pe).length)return this.ISGenerated=!0,be?(this._initPTS={baseTime:M,timescale:X},this._initDTS={baseTime:U,timescale:X}):M=X=void 0,{tracks:pe,initPTS:M,timescale:X}},R.remuxVideo=function(a,h,b,A){var M,U,X=a.inputTimeScale,Q=a.samples,q=[],oe=Q.length,pe=this._initPTS,me=this.nextAvcDts,be=8,Se=this.videoSampleDuration,Re=Number.POSITIVE_INFINITY,ye=Number.NEGATIVE_INFINITY,Ce=!1;b&&me!==null||(me=h*X-(Q[0].pts-Si(Q[0].dts,Q[0].pts)));for(var $e=pe.baseTime*X/pe.timescale,He=0;He<oe;He++){var Ze=Q[He];Ze.pts=Si(Ze.pts-$e,me),Ze.dts=Si(Ze.dts-$e,me),Ze.dts<Q[He>0?He-1:He].dts&&(Ce=!0)}Ce&&Q.sort(function(Ja,ol){var cc=Ja.dts-ol.dts,Zl=Ja.pts-ol.pts;return cc||Zl}),M=Q[0].dts;var lt=(U=Q[Q.length-1].dts)-M,ht=lt?Math.round(lt/(oe-1)):Se||a.inputTimeScale/30;if(b){var wt=M-me,dt=wt>ht,gt=wt<-1;if((dt||gt)&&(dt?W.warn("AVC: "+ja(wt,!0)+" ms ("+wt+"dts) hole between fragments detected, filling it"):W.warn("AVC: "+ja(-wt,!0)+" ms ("+wt+"dts) overlapping between fragments detected"),!gt||me>=Q[0].pts)){M=me;var Pt=Q[0].pts-wt;Q[0].dts=M,Q[0].pts=Pt,W.log("Video: First PTS/DTS adjusted: "+ja(Pt,!0)+"/"+ja(M,!0)+", delta: "+ja(wt,!0)+" ms")}}M=Math.max(0,M);for(var xt=0,Wt=0,Qt=0;Qt<oe;Qt++){for(var Vt=Q[Qt],Gt=Vt.units,Jt=Gt.length,Kt=0,kt=0;kt<Jt;kt++)Kt+=Gt[kt].data.length;Wt+=Kt,xt+=Jt,Vt.length=Kt,Vt.dts=Math.max(Vt.dts,M),Re=Math.min(Vt.pts,Re),ye=Math.max(Vt.pts,ye)}U=Q[oe-1].dts;var yr,kr=Wt+4*xt+8;try{yr=new Uint8Array(kr)}catch(Ja){return void this.observer.emit(w.ERROR,w.ERROR,{type:I.MUX_ERROR,details:D.REMUX_ALLOC_ERROR,fatal:!1,error:Ja,bytes:kr,reason:"fail allocating video mdat "+kr})}var Hr=new DataView(yr.buffer);Hr.setUint32(0,kr),yr.set(Di.types.mdat,4);for(var Qi=!1,Ai=Number.POSITIVE_INFINITY,Un=Number.POSITIVE_INFINITY,ai=Number.NEGATIVE_INFINITY,_n=Number.NEGATIVE_INFINITY,hi=0;hi<oe;hi++){for(var Ci=Q[hi],jn=Ci.units,as=0,ri=0,En=jn.length;ri<En;ri++){var Qs=jn[ri],Za=Qs.data,os=Qs.data.byteLength;Hr.setUint32(be,os),be+=4,yr.set(Za,be),be+=os,as+=4+os}var Ts=void 0;if(hi<oe-1)Se=Q[hi+1].dts-Ci.dts,Ts=Q[hi+1].pts-Ci.pts;else{var Js=this.config,Jn=hi>0?Ci.dts-Q[hi-1].dts:ht;if(Ts=hi>0?Ci.pts-Q[hi-1].pts:ht,Js.stretchShortVideoTrack&&this.nextAudioPts!==null){var sl=Math.floor(Js.maxBufferHole*X),Qa=(A?Re+A*X:this.nextAudioPts)-Ci.pts;Qa>sl?((Se=Qa-Jn)<0?Se=Jn:Qi=!0,W.log("[mp4-remuxer]: It is approximately "+Qa/90+" ms to the next segment; using duration "+Se/90+" ms for the last video frame.")):Se=Jn}else Se=Jn}var Ss=Math.round(Ci.pts-Ci.dts);Ai=Math.min(Ai,Se),ai=Math.max(ai,Se),Un=Math.min(Un,Ts),_n=Math.max(_n,Ts),q.push(new Wo(Ci.key,Se,as,Ss))}if(q.length){if(uo){if(uo<70){var Yl=q[0].flags;Yl.dependsOn=2,Yl.isNonSync=0}}else if(Ho&&_n-Un<ai-Ai&&ht/ai<.025&&q[0].cts===0){W.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var qn=M,Tn=0,al=q.length;Tn<al;Tn++){var xo=qn+q[Tn].duration,oc=qn+q[Tn].cts;if(Tn<al-1){var lc=xo+q[Tn+1].cts;q[Tn].duration=lc-oc}else q[Tn].duration=Tn?q[Tn-1].duration:ht;q[Tn].cts=0,qn=xo}}}Se=Qi||!Se?ht:Se,this.nextAvcDts=me=U+Se,this.videoSampleDuration=Se,this.isVideoContiguous=!0;var hc={data1:Di.moof(a.sequenceNumber++,M,t({},a,{samples:q})),data2:yr,startPTS:Re/X,endPTS:(ye+Se)/X,startDTS:M/X,endDTS:me/X,type:"video",hasAudio:!1,hasVideo:!0,nb:q.length,dropped:a.dropped};return a.samples=[],a.dropped=0,hc},R.remuxAudio=function(a,h,b,A,M){var U=a.inputTimeScale,X=U/(a.samplerate?a.samplerate:U),Q=a.segmentCodec==="aac"?1024:1152,q=Q*X,oe=this._initPTS,pe=a.segmentCodec==="mp3"&&this.typeSupported.mpeg,me=[],be=M!==void 0,Se=a.samples,Re=pe?0:8,ye=this.nextAudioPts||-1,Ce=h*U,$e=oe.baseTime*U/oe.timescale;if(this.isAudioContiguous=b=b||Se.length&&ye>0&&(A&&Math.abs(Ce-ye)<9e3||Math.abs(Si(Se[0].pts-$e,Ce)-ye)<20*q),Se.forEach(function(ri){ri.pts=Si(ri.pts-$e,Ce)}),!b||ye<0){if(Se=Se.filter(function(ri){return ri.pts>=0}),!Se.length)return;ye=M===0?0:A&&!be?Math.max(0,Ce):Se[0].pts}if(a.segmentCodec==="aac")for(var He=this.config.maxAudioFramesDrift,Ze=0,lt=ye;Ze<Se.length;Ze++){var ht=Se[Ze],wt=ht.pts,dt=wt-lt,gt=Math.abs(1e3*dt/U);if(dt<=-He*q&&be)Ze===0&&(W.warn("Audio frame @ "+(wt/U).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*dt/U)+" ms."),this.nextAudioPts=ye=lt=wt);else if(dt>=He*q&&gt<1e4&&be){var Pt=Math.round(dt/q);(lt=wt-Pt*q)<0&&(Pt--,lt+=q),Ze===0&&(this.nextAudioPts=ye=lt),W.warn("[mp4-remuxer]: Injecting "+Pt+" audio frame @ "+(lt/U).toFixed(3)+"s due to "+Math.round(1e3*dt/U)+" ms gap.");for(var xt=0;xt<Pt;xt++){var Wt=Math.max(lt,0),Qt=Gr.getSilentFrame(a.manifestCodec||a.codec,a.channelCount);Qt||(W.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Qt=ht.unit.subarray()),Se.splice(Ze,0,{unit:Qt,pts:Wt}),lt+=q,Ze++}}ht.pts=lt,lt+=q}for(var Vt,Gt=null,Jt=null,Kt=0,kt=Se.length;kt--;)Kt+=Se[kt].unit.byteLength;for(var yr=0,kr=Se.length;yr<kr;yr++){var Hr=Se[yr],Qi=Hr.unit,Ai=Hr.pts;if(Jt!==null)me[yr-1].duration=Math.round((Ai-Jt)/X);else{if(b&&a.segmentCodec==="aac"&&(Ai=ye),Gt=Ai,!(Kt>0))return;Kt+=Re;try{Vt=new Uint8Array(Kt)}catch(ri){return void this.observer.emit(w.ERROR,w.ERROR,{type:I.MUX_ERROR,details:D.REMUX_ALLOC_ERROR,fatal:!1,error:ri,bytes:Kt,reason:"fail allocating audio mdat "+Kt})}pe||(new DataView(Vt.buffer).setUint32(0,Kt),Vt.set(Di.types.mdat,4))}Vt.set(Qi,Re);var Un=Qi.byteLength;Re+=Un,me.push(new Wo(!0,Q,Un,0)),Jt=Ai}var ai=me.length;if(ai){var _n=me[me.length-1];this.nextAudioPts=ye=Jt+X*_n.duration;var hi=pe?new Uint8Array(0):Di.moof(a.sequenceNumber++,Gt/X,t({},a,{samples:me}));a.samples=[];var Ci=Gt/U,jn=ye/U,as={data1:hi,data2:Vt,startPTS:Ci,endPTS:jn,startDTS:Ci,endDTS:jn,type:"audio",hasAudio:!0,hasVideo:!1,nb:ai};return this.isAudioContiguous=!0,as}},R.remuxEmptyAudio=function(a,h,b,A){var M=a.inputTimeScale,U=M/(a.samplerate?a.samplerate:M),X=this.nextAudioPts,Q=this._initDTS,q=9e4*Q.baseTime/Q.timescale,oe=(X!==null?X:A.startDTS*M)+q,pe=A.endDTS*M+q,me=1024*U,be=Math.ceil((pe-oe)/me),Se=Gr.getSilentFrame(a.manifestCodec||a.codec,a.channelCount);if(W.warn("[mp4-remuxer]: remux empty Audio"),Se){for(var Re=[],ye=0;ye<be;ye++){var Ce=oe+ye*me;Re.push({unit:Se,pts:Ce,dts:Ce})}return a.samples=Re,this.remuxAudio(a,h,b,!1)}W.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},N}();function Si(N,R){var a;if(R===null)return N;for(a=R<N?-8589934592:8589934592;Math.abs(N-R)>4294967296;)N+=a;return N}function za(N,R,a,h){var b=N.samples.length;if(b){for(var A=N.inputTimeScale,M=0;M<b;M++){var U=N.samples[M];U.pts=Si(U.pts-a.baseTime*A/a.timescale,R*A)/A,U.dts=Si(U.dts-h.baseTime*A/h.timescale,R*A)/A}var X=N.samples;return N.samples=[],{samples:X}}}function $o(N,R,a){var h=N.samples.length;if(h){for(var b=N.inputTimeScale,A=0;A<h;A++){var M=N.samples[A];M.pts=Si(M.pts-a.baseTime*b/a.timescale,R*b)/b}N.samples.sort(function(X,Q){return X.pts-Q.pts});var U=N.samples;return N.samples=[],{samples:U}}}var yn,Wo=function(N,R,a,h){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=R,this.size=a,this.cts=h,this.flags=new Al(N)},Al=function(N){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=N?2:1,this.isNonSync=N?0:1},po=function(){function N(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var R=N.prototype;return R.destroy=function(){},R.resetTimeStamp=function(a){this.initPTS=a,this.lastEndTime=null},R.resetNextTimestamp=function(){this.lastEndTime=null},R.resetInitSegment=function(a,h,b,A){this.audioCodec=h,this.videoCodec=b,this.generateInitSegment(function(M,U){if(!M||!U)return M;var X=U.keyId;return X&&U.isCommonEncryption&&It(M,["moov","trak"]).forEach(function(Q){var q=It(Q,["mdia","minf","stbl","stsd"])[0].subarray(8),oe=It(q,["enca"]),pe=oe.length>0;pe||(oe=It(q,["encv"])),oe.forEach(function(me){It(pe?me.subarray(28):me.subarray(78),["sinf"]).forEach(function(be){var Se=pr(be);if(Se){var Re=Se.subarray(8,24);Re.some(function(ye){return ye!==0})||(W.log("[eme] Patching keyId in 'enc"+(pe?"a":"v")+">sinf>>tenc' box: "+rt(Re)+" -> "+rt(X)),Se.set(X,8))}})})}),M}(a,A)),this.emitInitSegment=!0},R.generateInitSegment=function(a){var h=this.audioCodec,b=this.videoCodec;if(a==null||!a.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var A=this.initData=Sr(a);h||(h=Vo(A.audio,K)),b||(b=Vo(A.video,z));var M={};A.audio&&A.video?M.audiovideo={container:"video/mp4",codec:h+","+b,initSegment:a,id:"main"}:A.audio?M.audio={container:"audio/mp4",codec:h,initSegment:a,id:"audio"}:A.video?M.video={container:"video/mp4",codec:b,initSegment:a,id:"main"}:W.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=M},R.remux=function(a,h,b,A,M,U){var X,Q,q=this.initPTS,oe=this.lastEndTime,pe={audio:void 0,video:void 0,text:A,id3:b,initSegment:void 0};x(oe)||(oe=this.lastEndTime=M||0);var me=h.samples;if(me==null||!me.length)return pe;var be={initPTS:void 0,timescale:1},Se=this.initData;if((X=Se)!=null&&X.length||(this.generateInitSegment(me),Se=this.initData),(Q=Se)==null||!Q.length)return W.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),pe;this.emitInitSegment&&(be.tracks=this.initTracks,this.emitInitSegment=!1);var Re=function(dt,gt){for(var Pt=0,xt=0,Wt=0,Qt=It(dt,["moof","traf"]),Vt=0;Vt<Qt.length;Vt++){var Gt=Qt[Vt],Jt=It(Gt,["tfhd"])[0],Kt=gt[St(Jt,4)];if(Kt){var kt=Kt.default,yr=St(Jt,0)|(kt==null?void 0:kt.flags),kr=kt==null?void 0:kt.duration;8&yr&&(kr=St(Jt,2&yr?12:8));for(var Hr=Kt.timescale||9e4,Qi=It(Gt,["trun"]),Ai=0;Ai<Qi.length;Ai++)!(Pt=Xt(Qi[Ai]))&&kr&&(Pt=kr*St(Qi[Ai],4)),Kt.type===z?xt+=Pt/Hr:Kt.type===K&&(Wt+=Pt/Hr)}}if(xt===0&&Wt===0){for(var Un=0,ai=It(dt,["sidx"]),_n=0;_n<ai.length;_n++){var hi=$t(ai[_n]);hi!=null&&hi.references&&(Un+=hi.references.reduce(function(Ci,jn){return Ci+jn.info.duration||0},0))}return Un}return xt||Wt}(me,Se),ye=function(dt,gt){return It(gt,["moof","traf"]).reduce(function(Pt,xt){var Wt=It(xt,["tfdt"])[0],Qt=Wt[0],Vt=It(xt,["tfhd"]).reduce(function(Gt,Jt){var Kt=St(Jt,4),kt=dt[Kt];if(kt){var yr=St(Wt,4);if(Qt===1){if(yr===mt)return W.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),Gt;yr*=mt+1,yr+=St(Wt,8)}var kr=yr/(kt.timescale||9e4);if(isFinite(kr)&&(Gt===null||kr<Gt))return kr}return Gt},null);return Vt!==null&&isFinite(Vt)&&(Pt===null||Vt<Pt)?Vt:Pt},null)}(Se,me),Ce=ye===null?M:ye;(function(dt,gt,Pt,xt){if(dt===null)return!0;var Wt=Math.max(xt,1),Qt=gt-dt.baseTime/dt.timescale;return Math.abs(Qt-Pt)>Wt}(q,Ce,M,Re)||be.timescale!==q.timescale&&U)&&(be.initPTS=Ce-M,q&&q.timescale===1&&W.warn("Adjusting initPTS by "+(be.initPTS-q.baseTime)),this.initPTS=q={baseTime:be.initPTS,timescale:1});var $e=a?Ce-q.baseTime/q.timescale:oe,He=$e+Re;(function(dt,gt,Pt){It(gt,["moof","traf"]).forEach(function(xt){It(xt,["tfhd"]).forEach(function(Wt){var Qt=St(Wt,4),Vt=dt[Qt];if(Vt){var Gt=Vt.timescale||9e4;It(xt,["tfdt"]).forEach(function(Jt){var Kt=Jt[0],kt=St(Jt,4);if(Kt===0)kt-=Pt*Gt,Dt(Jt,4,kt=Math.max(kt,0));else{kt*=Math.pow(2,32),kt+=St(Jt,8),kt-=Pt*Gt,kt=Math.max(kt,0);var yr=Math.floor(kt/(mt+1)),kr=Math.floor(kt%(mt+1));Dt(Jt,4,yr),Dt(Jt,8,kr)}})}})})})(Se,me,q.baseTime/q.timescale),Re>0?this.lastEndTime=He:(W.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var Ze=!!Se.audio,lt=!!Se.video,ht="";Ze&&(ht+="audio"),lt&&(ht+="video");var wt={data1:me,startPTS:$e,startDTS:$e,endPTS:He,endDTS:He,type:ht,hasAudio:Ze,hasVideo:lt,nb:1,dropped:0};return pe.audio=wt.type==="audio"?wt:void 0,pe.video=wt.type!=="audio"?wt:void 0,pe.initSegment=be,pe.id3=za(b,M,q,q),A.samples.length&&(pe.text=$o(A,M,q)),pe},N}();function Vo(N,R){var a=N==null?void 0:N.codec;return a&&a.length>4?a:a==="hvc1"||a==="hev1"?"hvc1.1.6.L120.90":a==="av01"?"av01.0.04M.08":a==="avc1"||R===z?"avc1.42e01e":"mp4a.40.5"}try{yn=self.performance.now.bind(self.performance)}catch{W.debug("Unable to use Performance API on this environment"),yn=typeof self<"u"&&self.Date.now}var $s=[{demux:Uh,remux:po},{demux:zo,remux:wa},{demux:On,remux:wa},{demux:fo,remux:wa}],is=function(){function N(a,h,b,A,M){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=a,this.typeSupported=h,this.config=b,this.vendor=A,this.id=M}var R=N.prototype;return R.configure=function(a){this.transmuxConfig=a,this.decrypter&&this.decrypter.reset()},R.push=function(a,h,b,A){var M=this,U=b.transmuxing;U.executeStart=yn();var X=new Uint8Array(a),Q=this.currentTransmuxState,q=this.transmuxConfig;A&&(this.currentTransmuxState=A);var oe=A||Q,pe=oe.contiguous,me=oe.discontinuity,be=oe.trackSwitch,Se=oe.accurateTimeOffset,Re=oe.timeOffset,ye=oe.initSegmentChange,Ce=q.audioCodec,$e=q.videoCodec,He=q.defaultInitPts,Ze=q.duration,lt=q.initSegmentData,ht=function(Qt,Vt){var Gt=null;return Qt.byteLength>0&&Vt!=null&&Vt.key!=null&&Vt.iv!==null&&Vt.method!=null&&(Gt=Vt),Gt}(X,h);if(ht&&ht.method==="AES-128"){var wt=this.getDecrypter();if(!wt.isSync())return this.decryptionPromise=wt.webCryptoDecrypt(X,ht.key.buffer,ht.iv.buffer).then(function(Qt){var Vt=M.push(Qt,null,b);return M.decryptionPromise=null,Vt}),this.decryptionPromise;var dt=wt.softwareDecrypt(X,ht.key.buffer,ht.iv.buffer);if(b.part>-1&&(dt=wt.flush()),!dt)return U.executeEnd=yn(),_a(b);X=new Uint8Array(dt)}var gt=this.needsProbing(me,be);if(gt){var Pt=this.configureTransmuxer(X);if(Pt)return W.warn("[transmuxer] "+Pt.message),this.observer.emit(w.ERROR,w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:Pt,reason:Pt.message}),U.executeEnd=yn(),_a(b)}(me||be||ye||gt)&&this.resetInitSegment(lt,Ce,$e,Ze,h),(me||ye||gt)&&this.resetInitialTimestamp(He),pe||this.resetContiguity();var xt=this.transmux(X,ht,Re,Se,b),Wt=this.currentTransmuxState;return Wt.contiguous=!0,Wt.discontinuity=!1,Wt.trackSwitch=!1,U.executeEnd=yn(),xt},R.flush=function(a){var h=this,b=a.transmuxing;b.executeStart=yn();var A=this.decrypter,M=this.currentTransmuxState,U=this.decryptionPromise;if(U)return U.then(function(){return h.flush(a)});var X=[],Q=M.timeOffset;if(A){var q=A.flush();q&&X.push(this.push(q,null,a))}var oe=this.demuxer,pe=this.remuxer;if(!oe||!pe)return b.executeEnd=yn(),[_a(a)];var me=oe.flush(Q);return Ws(me)?me.then(function(be){return h.flushRemux(X,be,a),X}):(this.flushRemux(X,me,a),X)},R.flushRemux=function(a,h,b){var A=h.audioTrack,M=h.videoTrack,U=h.id3Track,X=h.textTrack,Q=this.currentTransmuxState,q=Q.accurateTimeOffset,oe=Q.timeOffset;W.log("[transmuxer.ts]: Flushed fragment "+b.sn+(b.part>-1?" p: "+b.part:"")+" of level "+b.level);var pe=this.remuxer.remux(A,M,U,X,oe,q,!0,this.id);a.push({remuxResult:pe,chunkMeta:b}),b.transmuxing.executeEnd=yn()},R.resetInitialTimestamp=function(a){var h=this.demuxer,b=this.remuxer;h&&b&&(h.resetTimeStamp(a),b.resetTimeStamp(a))},R.resetContiguity=function(){var a=this.demuxer,h=this.remuxer;a&&h&&(a.resetContiguity(),h.resetNextTimestamp())},R.resetInitSegment=function(a,h,b,A,M){var U=this.demuxer,X=this.remuxer;U&&X&&(U.resetInitSegment(a,h,b,A),X.resetInitSegment(a,h,b,M))},R.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},R.transmux=function(a,h,b,A,M){return h&&h.method==="SAMPLE-AES"?this.transmuxSampleAes(a,h,b,A,M):this.transmuxUnencrypted(a,b,A,M)},R.transmuxUnencrypted=function(a,h,b,A){var M=this.demuxer.demux(a,h,!1,!this.config.progressive),U=M.audioTrack,X=M.videoTrack,Q=M.id3Track,q=M.textTrack;return{remuxResult:this.remuxer.remux(U,X,Q,q,h,b,!1,this.id),chunkMeta:A}},R.transmuxSampleAes=function(a,h,b,A,M){var U=this;return this.demuxer.demuxSampleAes(a,h,b).then(function(X){return{remuxResult:U.remuxer.remux(X.audioTrack,X.videoTrack,X.id3Track,X.textTrack,b,A,!1,U.id),chunkMeta:M}})},R.configureTransmuxer=function(a){for(var h,b=this.config,A=this.observer,M=this.typeSupported,U=this.vendor,X=0,Q=$s.length;X<Q;X++)if($s[X].demux.probe(a)){h=$s[X];break}if(!h)return new Error("Failed to find demuxer by probing fragment data");var q=this.demuxer,oe=this.remuxer,pe=h.remux,me=h.demux;oe&&oe instanceof pe||(this.remuxer=new pe(A,b,M,U)),q&&q instanceof me||(this.demuxer=new me(A,b,M),this.probe=me.probe)},R.needsProbing=function(a,h){return!this.demuxer||!this.remuxer||a||h},R.getDecrypter=function(){var a=this.decrypter;return a||(a=this.decrypter=new Bs(this.config)),a},N}(),_a=function(N){return{remuxResult:{},chunkMeta:N}};function Ws(N){return"then"in N&&N.then instanceof Function}var Wh=function(N,R,a,h,b){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=N,this.videoCodec=R,this.initSegmentData=a,this.duration=h,this.defaultInitPts=b||null},Vh=function(N,R,a,h,b,A){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=N,this.contiguous=R,this.accurateTimeOffset=a,this.trackSwitch=h,this.timeOffset=b,this.initSegmentChange=A},Ha={exports:{}};(function(N){var R=Object.prototype.hasOwnProperty,a="~";function h(){}function b(X,Q,q){this.fn=X,this.context=Q,this.once=q||!1}function A(X,Q,q,oe,pe){if(typeof q!="function")throw new TypeError("The listener must be a function");var me=new b(q,oe||X,pe),be=a?a+Q:Q;return X._events[be]?X._events[be].fn?X._events[be]=[X._events[be],me]:X._events[be].push(me):(X._events[be]=me,X._eventsCount++),X}function M(X,Q){--X._eventsCount==0?X._events=new h:delete X._events[Q]}function U(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(a=!1)),U.prototype.eventNames=function(){var X,Q,q=[];if(this._eventsCount===0)return q;for(Q in X=this._events)R.call(X,Q)&&q.push(a?Q.slice(1):Q);return Object.getOwnPropertySymbols?q.concat(Object.getOwnPropertySymbols(X)):q},U.prototype.listeners=function(X){var Q=a?a+X:X,q=this._events[Q];if(!q)return[];if(q.fn)return[q.fn];for(var oe=0,pe=q.length,me=new Array(pe);oe<pe;oe++)me[oe]=q[oe].fn;return me},U.prototype.listenerCount=function(X){var Q=a?a+X:X,q=this._events[Q];return q?q.fn?1:q.length:0},U.prototype.emit=function(X,Q,q,oe,pe,me){var be=a?a+X:X;if(!this._events[be])return!1;var Se,Re,ye=this._events[be],Ce=arguments.length;if(ye.fn){switch(ye.once&&this.removeListener(X,ye.fn,void 0,!0),Ce){case 1:return ye.fn.call(ye.context),!0;case 2:return ye.fn.call(ye.context,Q),!0;case 3:return ye.fn.call(ye.context,Q,q),!0;case 4:return ye.fn.call(ye.context,Q,q,oe),!0;case 5:return ye.fn.call(ye.context,Q,q,oe,pe),!0;case 6:return ye.fn.call(ye.context,Q,q,oe,pe,me),!0}for(Re=1,Se=new Array(Ce-1);Re<Ce;Re++)Se[Re-1]=arguments[Re];ye.fn.apply(ye.context,Se)}else{var $e,He=ye.length;for(Re=0;Re<He;Re++)switch(ye[Re].once&&this.removeListener(X,ye[Re].fn,void 0,!0),Ce){case 1:ye[Re].fn.call(ye[Re].context);break;case 2:ye[Re].fn.call(ye[Re].context,Q);break;case 3:ye[Re].fn.call(ye[Re].context,Q,q);break;case 4:ye[Re].fn.call(ye[Re].context,Q,q,oe);break;default:if(!Se)for($e=1,Se=new Array(Ce-1);$e<Ce;$e++)Se[$e-1]=arguments[$e];ye[Re].fn.apply(ye[Re].context,Se)}}return!0},U.prototype.on=function(X,Q,q){return A(this,X,Q,q,!1)},U.prototype.once=function(X,Q,q){return A(this,X,Q,q,!0)},U.prototype.removeListener=function(X,Q,q,oe){var pe=a?a+X:X;if(!this._events[pe])return this;if(!Q)return M(this,pe),this;var me=this._events[pe];if(me.fn)me.fn!==Q||oe&&!me.once||q&&me.context!==q||M(this,pe);else{for(var be=0,Se=[],Re=me.length;be<Re;be++)(me[be].fn!==Q||oe&&!me[be].once||q&&me[be].context!==q)&&Se.push(me[be]);Se.length?this._events[pe]=Se.length===1?Se[0]:Se:M(this,pe)}return this},U.prototype.removeAllListeners=function(X){var Q;return X?(Q=a?a+X:X,this._events[Q]&&M(this,Q)):(this._events=new h,this._eventsCount=0),this},U.prototype.off=U.prototype.removeListener,U.prototype.addListener=U.prototype.on,U.prefixed=a,U.EventEmitter=U,N.exports=U})(Ha);var Vs=E(Ha.exports);function $a(N,R){if(!((a=R.remuxResult).audio||a.video||a.text||a.id3||a.initSegment))return!1;var a,h=[],b=R.remuxResult,A=b.audio,M=b.video;return A&&Cl(h,A),M&&Cl(h,M),N.postMessage({event:"transmuxComplete",data:R},h),!0}function Cl(N,R){R.data1&&N.push(R.data1.buffer),R.data2&&N.push(R.data2.buffer)}function Xo(N,R,a){R.reduce(function(h,b){return $a(N,b)||h},!1)||N.postMessage({event:"transmuxComplete",data:R[0]}),N.postMessage({event:"flush",data:a})}C!==void 0&&C&&function(N){var R=new Vs,a=function(b,A){N.postMessage({event:b,data:A})};R.on(w.FRAG_DECRYPTED,a),R.on(w.ERROR,a);var h=function(){var b=function(M){var U=function(X){a("workerLog",{logType:M,message:X})};W[M]=U};for(var A in W)b(A)};N.addEventListener("message",function(b){var A=b.data;switch(A.cmd){case"init":var M=JSON.parse(A.config);N.transmuxer=new is(R,A.typeSupported,M,A.vendor,A.id),Y(M.debug,A.id),h(),a("init",null);break;case"configure":N.transmuxer.configure(A.config);break;case"demux":var U=N.transmuxer.push(A.data,A.decryptdata,A.chunkMeta,A.state);Ws(U)?(N.transmuxer.async=!0,U.then(function(q){$a(N,q)}).catch(function(q){a(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,chunkMeta:A.chunkMeta,fatal:!1,error:q,err:q,reason:"transmuxer-worker push error"})})):(N.transmuxer.async=!1,$a(N,U));break;case"flush":var X=A.chunkMeta,Q=N.transmuxer.flush(X);Ws(Q)||N.transmuxer.async?(Ws(Q)||(Q=Promise.resolve(Q)),Q.then(function(q){Xo(N,q,X)}).catch(function(q){a(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,chunkMeta:A.chunkMeta,fatal:!1,error:q,err:q,reason:"transmuxer-worker flush error"})})):Xo(N,Q,X)}})}(self);var Go=ir()||{isTypeSupported:function(){return!1}},kl=function(){function N(a,h,b,A){var M=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var U=a.config;this.hls=a,this.id=h,this.useWorker=!!U.enableWorker,this.onTransmuxComplete=b,this.onFlush=A;var X=function(Re,ye){(ye=ye||{}).frag=M.frag,ye.id=M.id,Re===w.ERROR&&(M.error=ye.error),M.hls.trigger(Re,ye)};this.observer=new Vs,this.observer.on(w.FRAG_DECRYPTED,X),this.observer.on(w.ERROR,X);var Q,q,oe,pe,me={mp4:Go.isTypeSupported("video/mp4"),mpeg:Go.isTypeSupported("audio/mpeg"),mp3:Go.isTypeSupported('audio/mp4; codecs="mp3"')},be=navigator.vendor;if(!this.useWorker||typeof Worker>"u"||(U.workerPath,0))this.transmuxer=new is(this.observer,me,U,be,h);else try{U.workerPath?(W.log("loading Web Worker "+U.workerPath+' for "'+h+'"'),this.workerContext=(oe=U.workerPath,pe=new self.URL(oe,self.location.href).href,{worker:new self.Worker(pe),scriptURL:pe})):(W.log('injecting Web Worker for "'+h+'"'),this.workerContext=(Q=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+re.toString()+")(true);"],{type:"text/javascript"}),q=self.URL.createObjectURL(Q),{worker:new self.Worker(q),objectURL:q})),this.onwmsg=function(Re){return M.onWorkerMessage(Re)};var Se=this.workerContext.worker;Se.addEventListener("message",this.onwmsg),Se.onerror=function(Re){var ye=new Error(Re.message+"  ("+Re.filename+":"+Re.lineno+")");U.enableWorker=!1,W.warn('Error in "'+h+'" Web Worker, fallback to inline'),M.hls.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:ye})},Se.postMessage({cmd:"init",typeSupported:me,vendor:be,id:h,config:JSON.stringify(U)})}catch(Re){W.warn('Error setting up "'+h+'" Web Worker, fallback to inline',Re),this.resetWorker(),this.error=null,this.transmuxer=new is(this.observer,me,U,be,h)}}var R=N.prototype;return R.resetWorker=function(){if(this.workerContext){var a=this.workerContext,h=a.worker,b=a.objectURL;b&&self.URL.revokeObjectURL(b),h.removeEventListener("message",this.onwmsg),h.onerror=null,h.terminate(),this.workerContext=null}},R.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var a=this.transmuxer;a&&(a.destroy(),this.transmuxer=null)}var h=this.observer;h&&h.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},R.push=function(a,h,b,A,M,U,X,Q,q,oe){var pe,me,be=this;q.transmuxing.start=self.performance.now();var Se=this.transmuxer,Re=U?U.start:M.start,ye=M.decryptdata,Ce=this.frag,$e=!(Ce&&M.cc===Ce.cc),He=!(Ce&&q.level===Ce.level),Ze=Ce?q.sn-Ce.sn:-1,lt=this.part?q.part-this.part.index:-1,ht=Ze===0&&q.id>1&&q.id===(Ce==null?void 0:Ce.stats.chunkCount),wt=!He&&(Ze===1||Ze===0&&(lt===1||ht&&lt<=0)),dt=self.performance.now();(He||Ze||M.stats.parsing.start===0)&&(M.stats.parsing.start=dt),!U||!lt&&wt||(U.stats.parsing.start=dt);var gt=!(Ce&&((pe=M.initSegment)==null?void 0:pe.url)===((me=Ce.initSegment)==null?void 0:me.url)),Pt=new Vh($e,wt,Q,He,Re,gt);if(!wt||$e||gt){W.log("[transmuxer-interface, "+M.type+"]: Starting new transmux session for sn: "+q.sn+" p: "+q.part+" level: "+q.level+" id: "+q.id+`
        discontinuity: `+$e+`
        trackSwitch: `+He+`
        contiguous: `+wt+`
        accurateTimeOffset: `+Q+`
        timeOffset: `+Re+`
        initSegmentChange: `+gt);var xt=new Wh(b,A,h,X,oe);this.configureTransmuxer(xt)}if(this.frag=M,this.part=U,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:a,decryptdata:ye,chunkMeta:q,state:Pt},a instanceof ArrayBuffer?[a]:[]);else if(Se){var Wt=Se.push(a,ye,q,Pt);Ws(Wt)?(Se.async=!0,Wt.then(function(Qt){be.handleTransmuxComplete(Qt)}).catch(function(Qt){be.transmuxerError(Qt,q,"transmuxer-interface push error")})):(Se.async=!1,this.handleTransmuxComplete(Wt))}},R.flush=function(a){var h=this;a.transmuxing.start=self.performance.now();var b=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:a});else if(b){var A=b.flush(a);Ws(A)||b.async?(Ws(A)||(A=Promise.resolve(A)),A.then(function(M){h.handleFlushResult(M,a)}).catch(function(M){h.transmuxerError(M,a,"transmuxer-interface flush error")})):this.handleFlushResult(A,a)}},R.transmuxerError=function(a,h,b){this.hls&&(this.error=a,this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,chunkMeta:h,fatal:!1,error:a,err:a,reason:b}))},R.handleFlushResult=function(a,h){var b=this;a.forEach(function(A){b.handleTransmuxComplete(A)}),this.onFlush(h)},R.onWorkerMessage=function(a){var h=a.data,b=this.hls;switch(h.event){case"init":var A,M=(A=this.workerContext)==null?void 0:A.objectURL;M&&self.URL.revokeObjectURL(M);break;case"transmuxComplete":this.handleTransmuxComplete(h.data);break;case"flush":this.onFlush(h.data);break;case"workerLog":W[h.data.logType]&&W[h.data.logType](h.data.message);break;default:h.data=h.data||{},h.data.frag=this.frag,h.data.id=this.id,b.trigger(h.event,h.data)}},R.configureTransmuxer=function(a){var h=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:a}):h&&h.configure(a)},R.handleTransmuxComplete=function(a){a.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(a)},N}(),xi=function(){function N(a,h,b,A){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=a,this.media=h,this.fragmentTracker=b,this.hls=A}var R=N.prototype;return R.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},R.poll=function(a,h){var b=this.config,A=this.media,M=this.stalled;if(A!==null){var U=A.currentTime,X=A.seeking,Q=this.seeking&&!X,q=!this.seeking&&X;if(this.seeking=X,U===a){if(q||Q)this.stalled=null;else if(!(A.paused&&!X||A.ended||A.playbackRate===0)&&cr.getBuffered(A).length){var oe=cr.bufferInfo(A,U,0),pe=oe.len>0,me=oe.nextStart||0;if(pe||me){if(X){var be=oe.len>2,Se=!me||h&&h.start<=U||me-U>2&&!this.fragmentTracker.getPartialFragment(U);if(be||Se)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var Re,ye=Math.max(me,oe.start||0)-U,Ce=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,$e=!(Ce==null||(Re=Ce.details)==null)&&Re.live?2*Ce.details.targetduration:2,He=this.fragmentTracker.getPartialFragment(U);if(ye>0&&(ye<=$e||He))return void this._trySkipBufferHole(He)}var Ze=self.performance.now();if(M!==null){var lt=Ze-M;if(X||!(lt>=250)||(this._reportStall(oe),this.media)){var ht=cr.bufferInfo(A,U,b.maxBufferHole);this._tryFixBufferStall(ht,lt)}}else this.stalled=Ze}}}else if(this.moved=!0,M!==null){if(this.stallReported){var wt=self.performance.now()-M;W.warn("playback not stuck anymore @"+U+", after "+Math.round(wt)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},R._tryFixBufferStall=function(a,h){var b=this.config,A=this.fragmentTracker,M=this.media;if(M!==null){var U=M.currentTime,X=A.getPartialFragment(U);if(X&&(this._trySkipBufferHole(X)||!this.media))return;(a.len>b.maxBufferHole||a.nextStart&&a.nextStart-U<b.maxBufferHole)&&h>1e3*b.highBufferWatchdogPeriod&&(W.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},R._reportStall=function(a){var h=this.hls,b=this.media;if(!this.stallReported&&b){this.stallReported=!0;var A=new Error("Playback stalling at @"+b.currentTime+" due to low buffer ("+JSON.stringify(a)+")");W.warn(A.message),h.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_STALLED_ERROR,fatal:!1,error:A,buffer:a.len})}},R._trySkipBufferHole=function(a){var h=this.config,b=this.hls,A=this.media;if(A===null)return 0;var M=A.currentTime,U=cr.bufferInfo(A,M,0),X=M<U.start?U.start:U.nextStart;if(X){var Q=U.len<=h.maxBufferHole,q=U.len>0&&U.len<1&&A.readyState<3,oe=X-M;if(oe>0&&(Q||q)){if(oe>h.maxBufferHole){var pe=this.fragmentTracker,me=!1;if(M===0){var be=pe.getAppendedFrag(0,gr);be&&X<be.end&&(me=!0)}if(!me){var Se=a||pe.getAppendedFrag(M,gr);if(Se){for(var Re=!1,ye=Se.end;ye<X;){var Ce=pe.getPartialFragment(ye);if(!Ce){Re=!0;break}ye+=Ce.duration}if(Re)return 0}}}var $e=Math.max(X+.05,M+.1);if(W.warn("skipping hole, adjusting currentTime from "+M+" to "+$e),this.moved=!0,this.stalled=null,A.currentTime=$e,a&&!a.gap){var He=new Error("fragment loaded with buffer holes, seeking from "+M+" to "+$e);b.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:He,reason:He.message,frag:a})}return $e}}return 0},R._tryNudgeBuffer=function(){var a=this.config,h=this.hls,b=this.media,A=this.nudgeRetry;if(b!==null){var M=b.currentTime;if(this.nudgeRetry++,A<a.nudgeMaxRetry){var U=M+(A+1)*a.nudgeOffset,X=new Error("Nudging 'currentTime' from "+M+" to "+U);W.warn(X.message),b.currentTime=U,h.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_NUDGE_ON_STALL,error:X,fatal:!1})}else{var Q=new Error("Playhead still not moving while enough data buffered @"+M+" after "+a.nudgeMaxRetry+" nudges");W.error(Q.message),h.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_STALLED_ERROR,error:Q,fatal:!0})}}},N}(),Wi=function(N){function R(h,b,A){var M;return(M=N.call(this,h,b,A,"[stream-controller]",gr)||this).audioCodecSwap=!1,M.gapController=null,M.level=-1,M._forceStartLoad=!1,M.altAudio=!1,M.audioOnly=!1,M.fragPlaying=null,M.onvplaying=null,M.onvseeked=null,M.fragLastKbps=0,M.couldBacktrack=!1,M.backtrackFragment=null,M.audioCodecSwitch=!1,M.videoBuffer=null,M._registerListeners(),M}i(R,N);var a=R.prototype;return a._registerListeners=function(){var h=this.hls;h.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(w.MANIFEST_LOADING,this.onManifestLoading,this),h.on(w.MANIFEST_PARSED,this.onManifestParsed,this),h.on(w.LEVEL_LOADING,this.onLevelLoading,this),h.on(w.LEVEL_LOADED,this.onLevelLoaded,this),h.on(w.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),h.on(w.ERROR,this.onError,this),h.on(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),h.on(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),h.on(w.BUFFER_CREATED,this.onBufferCreated,this),h.on(w.BUFFER_FLUSHED,this.onBufferFlushed,this),h.on(w.LEVELS_UPDATED,this.onLevelsUpdated,this),h.on(w.FRAG_BUFFERED,this.onFragBuffered,this)},a._unregisterListeners=function(){var h=this.hls;h.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(w.MANIFEST_LOADING,this.onManifestLoading,this),h.off(w.MANIFEST_PARSED,this.onManifestParsed,this),h.off(w.LEVEL_LOADED,this.onLevelLoaded,this),h.off(w.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),h.off(w.ERROR,this.onError,this),h.off(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),h.off(w.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),h.off(w.BUFFER_CREATED,this.onBufferCreated,this),h.off(w.BUFFER_FLUSHED,this.onBufferFlushed,this),h.off(w.LEVELS_UPDATED,this.onLevelsUpdated,this),h.off(w.FRAG_BUFFERED,this.onFragBuffered,this)},a.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},a.startLoad=function(h){if(this.levels){var b=this.lastCurrentTime,A=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var M=A.startLevel;M===-1&&(A.config.testBandwidth&&this.levels.length>1?(M=0,this.bitrateTest=!0):M=A.nextAutoLevel),this.level=A.nextLoadLevel=M,this.loadedmetadata=!1}b>0&&h===-1&&(this.log("Override startPosition with lastCurrentTime @"+b.toFixed(3)),h=b),this.state=_r,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=h,this.tick()}else this._forceStartLoad=!0,this.state=Ei},a.stopLoad=function(){this._forceStartLoad=!1,N.prototype.stopLoad.call(this)},a.doTick=function(){switch(this.state){case js:var h,b=this.levels,A=this.level,M=b==null||(h=b[A])==null?void 0:h.details;if(M&&(!M.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(M))break;this.state=_r;break}if(this.hls.nextLoadLevel!==this.level){this.state=_r;break}break;case Pi:var U,X=self.performance.now(),Q=this.retryDate;(!Q||X>=Q||(U=this.media)!=null&&U.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=_r)}this.state===_r&&this.doTickIdle(),this.onTickEnd()},a.onTickEnd=function(){N.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},a.doTickIdle=function(){var h=this.hls,b=this.levelLastLoaded,A=this.levels,M=this.media,U=h.config,X=h.nextLoadLevel;if(b!==null&&(M||!this.startFragRequested&&U.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&A!=null&&A[X]){var Q=A[X],q=this.getMainFwdBufferInfo();if(q!==null){var oe=this.getLevelDetails();if(oe&&this._streamEnded(q,oe)){var pe={};return this.altAudio&&(pe.type="video"),this.hls.trigger(w.BUFFER_EOS,pe),void(this.state=ga)}h.loadLevel!==X&&h.manualLevel===-1&&this.log("Adapting to level "+X+" from level "+this.level),this.level=h.nextLoadLevel=X;var me=Q.details;if(!me||this.state===js||me.live&&this.levelLastLoaded!==X)return this.level=X,void(this.state=js);var be=q.len,Se=this.getMaxBufferLength(Q.maxBitrate);if(!(be>=Se)){this.backtrackFragment&&this.backtrackFragment.start>q.end&&(this.backtrackFragment=null);var Re=this.backtrackFragment?this.backtrackFragment.start:q.end,ye=this.getNextFragment(Re,me);if(this.couldBacktrack&&!this.fragPrevious&&ye&&ye.sn!=="initSegment"&&this.fragmentTracker.getState(ye)!==ui){var Ce,$e=((Ce=this.backtrackFragment)!=null?Ce:ye).sn-me.startSN,He=me.fragments[$e-1];He&&ye.cc===He.cc&&(ye=He,this.fragmentTracker.removeFragment(He))}else this.backtrackFragment&&q.len&&(this.backtrackFragment=null);if(ye&&this.isLoopLoading(ye,Re)){if(!ye.gap){var Ze=this.audioOnly&&!this.altAudio?K:z,lt=(Ze===z?this.videoBuffer:this.mediaBuffer)||this.media;lt&&this.afterBufferFlushed(lt,Ze,gr)}ye=this.getNextFragmentLoopLoading(ye,me,q,gr,Se)}ye&&(!ye.initSegment||ye.initSegment.data||this.bitrateTest||(ye=ye.initSegment),this.loadFragment(ye,Q,Re))}}}},a.loadFragment=function(h,b,A){var M=this.fragmentTracker.getState(h);this.fragCurrent=h,M===Ni||M===Hi?h.sn==="initSegment"?this._loadInitSegment(h,b):this.bitrateTest?(this.log("Fragment "+h.sn+" of level "+h.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(h,b)):(this.startFragRequested=!0,N.prototype.loadFragment.call(this,h,b,A)):this.clearTrackerIfNeeded(h)},a.getBufferedFrag=function(h){return this.fragmentTracker.getBufferedFrag(h,gr)},a.followingBufferedFrag=function(h){return h?this.getBufferedFrag(h.end+.5):null},a.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},a.nextLevelSwitch=function(){var h=this.levels,b=this.media;if(b!=null&&b.readyState){var A,M=this.getAppendedFrag(b.currentTime);M&&M.start>1&&this.flushMainBuffer(0,M.start-1);var U=this.getLevelDetails();if(U!=null&&U.live){var X=this.getMainFwdBufferInfo();if(!X||X.len<2*U.targetduration)return}if(!b.paused&&h){var Q=h[this.hls.nextLoadLevel],q=this.fragLastKbps;A=q&&this.fragCurrent?this.fragCurrent.duration*Q.maxBitrate/(1e3*q)+1:0}else A=0;var oe=this.getBufferedFrag(b.currentTime+A);if(oe){var pe=this.followingBufferedFrag(oe);if(pe){this.abortCurrentFrag();var me=pe.maxStartPTS?pe.maxStartPTS:pe.start,be=pe.duration,Se=Math.max(oe.end,me+Math.min(Math.max(be-this.config.maxFragLookUpTolerance,.5*be),.75*be));this.flushMainBuffer(Se,Number.POSITIVE_INFINITY)}}}},a.abortCurrentFrag=function(){var h=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,h&&(h.abortRequests(),this.fragmentTracker.removeFragment(h)),this.state){case Fo:case Fs:case Pi:case pn:case Fa:this.state=_r}this.nextLoadPosition=this.getLoadPosition()},a.flushMainBuffer=function(h,b){N.prototype.flushMainBuffer.call(this,h,b,this.altAudio?"video":null)},a.onMediaAttached=function(h,b){N.prototype.onMediaAttached.call(this,h,b);var A=b.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),A.addEventListener("playing",this.onvplaying),A.addEventListener("seeked",this.onvseeked),this.gapController=new xi(this.config,A,this.fragmentTracker,this.hls)},a.onMediaDetaching=function(){var h=this.media;h&&this.onvplaying&&this.onvseeked&&(h.removeEventListener("playing",this.onvplaying),h.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),N.prototype.onMediaDetaching.call(this)},a.onMediaPlaying=function(){this.tick()},a.onMediaSeeked=function(){var h=this.media,b=h?h.currentTime:null;x(b)&&this.log("Media seeked to "+b.toFixed(3));var A=this.getMainFwdBufferInfo();A!==null&&A.len!==0?this.tick():this.warn('Main forward buffer length on "seeked" event '+(A?A.len:"empty")+")")},a.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(w.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1},a.onManifestParsed=function(h,b){var A,M,U,X=!1,Q=!1;b.levels.forEach(function(q){(A=q.audioCodec)&&(A.indexOf("mp4a.40.2")!==-1&&(X=!0),A.indexOf("mp4a.40.5")!==-1&&(Q=!0))}),this.audioCodecSwitch=X&&Q&&typeof((U=_l())==null||(M=U.prototype)==null?void 0:M.changeType)!="function",this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=b.levels,this.startFragRequested=!1},a.onLevelLoading=function(h,b){var A=this.levels;if(A&&this.state===_r){var M=A[b.level];(!M.details||M.details.live&&this.levelLastLoaded!==b.level||this.waitForCdnTuneIn(M.details))&&(this.state=js)}},a.onLevelLoaded=function(h,b){var A,M=this.levels,U=b.level,X=b.details,Q=X.totalduration;if(M){this.log("Level "+U+" loaded ["+X.startSN+","+X.endSN+"]"+(X.lastPartSn?"[part-"+X.lastPartSn+"-"+X.lastPartIndex+"]":"")+", cc ["+X.startCC+", "+X.endCC+"] duration:"+Q);var q=M[U],oe=this.fragCurrent;!oe||this.state!==Fs&&this.state!==Pi||oe.level===b.level&&oe.urlId===q.urlId||!oe.loader||this.abortCurrentFrag();var pe=0;if(X.live||(A=q.details)!=null&&A.live){if(this.checkLiveUpdate(X),X.deltaUpdateFailed)return;pe=this.alignPlaylists(X,q.details)}if(q.details=X,this.levelLastLoaded=U,this.hls.trigger(w.LEVEL_UPDATED,{details:X,level:U}),this.state===js){if(this.waitForCdnTuneIn(X))return;this.state=_r}this.startFragRequested?X.live&&this.synchronizeToLiveEdge(X):this.setStartPosition(X,pe),this.tick()}else this.warn("Levels were reset while loading level "+U)},a._handleFragmentLoadProgress=function(h){var b,A=h.frag,M=h.part,U=h.payload,X=this.levels;if(X){var Q=X[A.level],q=Q.details;if(!q)return this.warn("Dropping fragment "+A.sn+" of level "+A.level+" after level details were reset"),void this.fragmentTracker.removeFragment(A);var oe=Q.videoCodec,pe=q.PTSKnown||!q.live,me=(b=A.initSegment)==null?void 0:b.data,be=this._getAudioCodec(Q),Se=this.transmuxer=this.transmuxer||new kl(this.hls,gr,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Re=M?M.index:-1,ye=Re!==-1,Ce=new li(A.level,A.sn,A.stats.chunkCount,U.byteLength,Re,ye),$e=this.initPTS[A.cc];Se.push(U,me,be,oe,A,M,q.totalduration,pe,Ce,$e)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},a.onAudioTrackSwitching=function(h,b){var A=this.altAudio;if(!b.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var M=this.fragCurrent;M&&(this.log("Switching to main audio track, cancel main fragment load"),M.abortRequests(),this.fragmentTracker.removeFragment(M)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var U=this.hls;A&&(U.trigger(w.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),U.trigger(w.AUDIO_TRACK_SWITCHED,b)}},a.onAudioTrackSwitched=function(h,b){var A=b.id,M=!!this.hls.audioTracks[A].url;if(M){var U=this.videoBuffer;U&&this.mediaBuffer!==U&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=U)}this.altAudio=M,this.tick()},a.onBufferCreated=function(h,b){var A,M,U=b.tracks,X=!1;for(var Q in U){var q=U[Q];if(q.id==="main"){if(M=Q,A=q,Q==="video"){var oe=U[Q];oe&&(this.videoBuffer=oe.buffer)}}else X=!0}X&&A?(this.log("Alternate track found, use "+M+".buffered to schedule main fragment loading"),this.mediaBuffer=A.buffer):this.mediaBuffer=this.media},a.onFragBuffered=function(h,b){var A=b.frag,M=b.part;if(!A||A.type===gr){if(this.fragContextChanged(A))return this.warn("Fragment "+A.sn+(M?" p: "+M.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Fa&&(this.state=_r));var U=M?M.stats:A.stats;this.fragLastKbps=Math.round(8*U.total/(U.buffering.end-U.loading.first)),A.sn!=="initSegment"&&(this.fragPrevious=A),this.fragBufferedComplete(A,M)}},a.onError=function(h,b){var A;if(b.fatal)this.state=va;else switch(b.details){case D.FRAG_GAP:case D.FRAG_PARSING_ERROR:case D.FRAG_DECRYPT_ERROR:case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(gr,b);break;case D.LEVEL_LOAD_ERROR:case D.LEVEL_LOAD_TIMEOUT:case D.LEVEL_PARSING_ERROR:b.levelRetry||this.state!==js||((A=b.context)==null?void 0:A.type)!==Oi||(this.state=_r);break;case D.BUFFER_FULL_ERROR:if(!b.parent||b.parent!=="main")return;this.reduceLengthAndFlushBuffer(b)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case D.INTERNAL_EXCEPTION:this.recoverWorkerError(b)}},a.checkBuffer=function(){var h=this.media,b=this.gapController;if(h&&b&&h.readyState){if(this.loadedmetadata||!cr.getBuffered(h).length){var A=this.state!==_r?this.fragCurrent:null;b.poll(this.lastCurrentTime,A)}this.lastCurrentTime=h.currentTime}},a.onFragLoadEmergencyAborted=function(){this.state=_r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},a.onBufferFlushed=function(h,b){var A=b.type;if(A!==K||this.audioOnly&&!this.altAudio){var M=(A===z?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(M,A,gr)}},a.onLevelsUpdated=function(h,b){this.levels=b.levels},a.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},a.seekToStartPos=function(){var h=this.media;if(h){var b=h.currentTime,A=this.startPosition;if(A>=0&&b<A){if(h.seeking)return void this.log("could not seek to "+A+", already seeking at "+b);var M=cr.getBuffered(h),U=(M.length?M.start(0):0)-A;U>0&&(U<this.config.maxBufferHole||U<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+U+" to match buffer start"),A+=U,this.startPosition=A),this.log("seek to target start position "+A+" from current time "+b),h.currentTime=A}}},a._getAudioCodec=function(h){var b=this.config.defaultAudioCodec||h.audioCodec;return this.audioCodecSwap&&b&&(this.log("Swapping audio codec"),b=b.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),b},a._loadBitrateTestFrag=function(h,b){var A=this;h.bitrateTest=!0,this._doFragLoad(h,b).then(function(M){var U=A.hls;if(M&&!A.fragContextChanged(h)){b.fragmentError=0,A.state=_r,A.startFragRequested=!1,A.bitrateTest=!1;var X=h.stats;X.parsing.start=X.parsing.end=X.buffering.start=X.buffering.end=self.performance.now(),U.trigger(w.FRAG_LOADED,M),h.bitrateTest=!1}})},a._handleTransmuxComplete=function(h){var b,A="main",M=this.hls,U=h.remuxResult,X=h.chunkMeta,Q=this.getCurrentContext(X);if(Q){var q=Q.frag,oe=Q.part,pe=Q.level,me=U.video,be=U.text,Se=U.id3,Re=U.initSegment,ye=pe.details,Ce=this.altAudio?void 0:U.audio;if(this.fragContextChanged(q))this.fragmentTracker.removeFragment(q);else{if(this.state=pn,Re){if(Re!=null&&Re.tracks){var $e=q.initSegment||q;this._bufferInitSegment(pe,Re.tracks,$e,X),M.trigger(w.FRAG_PARSING_INIT_SEGMENT,{frag:$e,id:A,tracks:Re.tracks})}var He=Re.initPTS,Ze=Re.timescale;x(He)&&(this.initPTS[q.cc]={baseTime:He,timescale:Ze},M.trigger(w.INIT_PTS_FOUND,{frag:q,id:A,initPTS:He,timescale:Ze}))}if(me&&ye&&q.sn!=="initSegment"){var lt=ye.fragments[q.sn-1-ye.startSN],ht=q.sn===ye.startSN,wt=!lt||q.cc>lt.cc;if(U.independent!==!1){var dt=me.startPTS,gt=me.endPTS,Pt=me.startDTS,xt=me.endDTS;if(oe)oe.elementaryStreams[me.type]={startPTS:dt,endPTS:gt,startDTS:Pt,endDTS:xt};else if(me.firstKeyFrame&&me.independent&&X.id===1&&!wt&&(this.couldBacktrack=!0),me.dropped&&me.independent){var Wt=this.getMainFwdBufferInfo(),Qt=(Wt?Wt.end:this.getLoadPosition())+this.config.maxBufferHole,Vt=me.firstKeyFramePTS?me.firstKeyFramePTS:dt;if(!ht&&Qt<Vt-this.config.maxBufferHole&&!wt)return void this.backtrack(q);wt&&(q.gap=!0),q.setElementaryStreamInfo(me.type,q.start,gt,q.start,xt,!0)}q.setElementaryStreamInfo(me.type,dt,gt,Pt,xt),this.backtrackFragment&&(this.backtrackFragment=q),this.bufferFragmentData(me,q,oe,X,ht||wt)}else{if(!ht&&!wt)return void this.backtrack(q);q.gap=!0}}if(Ce){var Gt=Ce.startPTS,Jt=Ce.endPTS,Kt=Ce.startDTS,kt=Ce.endDTS;oe&&(oe.elementaryStreams[K]={startPTS:Gt,endPTS:Jt,startDTS:Kt,endDTS:kt}),q.setElementaryStreamInfo(K,Gt,Jt,Kt,kt),this.bufferFragmentData(Ce,q,oe,X)}if(ye&&Se!=null&&(b=Se.samples)!=null&&b.length){var yr={id:A,frag:q,details:ye,samples:Se.samples};M.trigger(w.FRAG_PARSING_METADATA,yr)}if(ye&&be){var kr={id:A,frag:q,details:ye,samples:be.samples};M.trigger(w.FRAG_PARSING_USERDATA,kr)}}}else this.resetWhenMissingContext(X)},a._bufferInitSegment=function(h,b,A,M){var U=this;if(this.state===pn){this.audioOnly=!!b.audio&&!b.video,this.altAudio&&!this.audioOnly&&delete b.audio;var X=b.audio,Q=b.video,q=b.audiovideo;if(X){var oe=h.audioCodec,pe=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(oe&&(oe=oe.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),X.metadata.channelCount!==1&&pe.indexOf("firefox")===-1&&(oe="mp4a.40.5")),pe.indexOf("android")!==-1&&X.container!=="audio/mpeg"&&(oe="mp4a.40.2",this.log("Android: force audio codec to "+oe)),h.audioCodec&&h.audioCodec!==oe&&this.log('Swapping manifest audio codec "'+h.audioCodec+'" for "'+oe+'"'),X.levelCodec=oe,X.id="main",this.log("Init audio buffer, container:"+X.container+", codecs[selected/level/parsed]=["+(oe||"")+"/"+(h.audioCodec||"")+"/"+X.codec+"]")}Q&&(Q.levelCodec=h.videoCodec,Q.id="main",this.log("Init video buffer, container:"+Q.container+", codecs[level/parsed]=["+(h.videoCodec||"")+"/"+Q.codec+"]")),q&&this.log("Init audiovideo buffer, container:"+q.container+", codecs[level/parsed]=["+(h.attrs.CODECS||"")+"/"+q.codec+"]"),this.hls.trigger(w.BUFFER_CODECS,b),Object.keys(b).forEach(function(me){var be=b[me].initSegment;be!=null&&be.byteLength&&U.hls.trigger(w.BUFFER_APPENDING,{type:me,data:be,frag:A,part:null,chunkMeta:M,parent:A.type})}),this.tick()}},a.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,gr)},a.backtrack=function(h){this.couldBacktrack=!0,this.backtrackFragment=h,this.resetTransmuxer(),this.flushBufferGap(h),this.fragmentTracker.removeFragment(h),this.fragPrevious=null,this.nextLoadPosition=h.start,this.state=_r},a.checkFragmentChanged=function(){var h=this.media,b=null;if(h&&h.readyState>1&&h.seeking===!1){var A=h.currentTime;if(cr.isBuffered(h,A)?b=this.getAppendedFrag(A):cr.isBuffered(h,A+.1)&&(b=this.getAppendedFrag(A+.1)),b){this.backtrackFragment=null;var M=this.fragPlaying,U=b.level;M&&b.sn===M.sn&&M.level===U&&b.urlId===M.urlId||(this.fragPlaying=b,this.hls.trigger(w.FRAG_CHANGED,{frag:b}),M&&M.level===U||this.hls.trigger(w.LEVEL_SWITCHED,{level:U}))}}},c(R,[{key:"nextLevel",get:function(){var h=this.nextBufferedFrag;return h?h.level:-1}},{key:"currentFrag",get:function(){var h=this.media;return h?this.fragPlaying||this.getAppendedFrag(h.currentTime):null}},{key:"currentProgramDateTime",get:function(){var h=this.media;if(h){var b=h.currentTime,A=this.currentFrag;if(A&&x(b)&&x(A.programDateTime)){var M=A.programDateTime+1e3*(b-A.start);return new Date(M)}}return null}},{key:"currentLevel",get:function(){var h=this.currentFrag;return h?h.level:-1}},{key:"nextBufferedFrag",get:function(){var h=this.currentFrag;return h?this.followingBufferedFrag(h):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),R}(Uo),Ea=function(){function N(a,h,b){h===void 0&&(h=0),b===void 0&&(b=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=a,this.alpha_=a?Math.exp(Math.log(.5)/a):0,this.estimate_=h,this.totalWeight_=b}var R=N.prototype;return R.sample=function(a,h){var b=Math.pow(this.alpha_,a);this.estimate_=h*(1-b)+b*this.estimate_,this.totalWeight_+=a},R.getTotalWeight=function(){return this.totalWeight_},R.getEstimate=function(){if(this.alpha_){var a=1-Math.pow(this.alpha_,this.totalWeight_);if(a)return this.estimate_/a}return this.estimate_},N}(),Xh=function(){function N(a,h,b,A){A===void 0&&(A=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=b,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ea(a),this.fast_=new Ea(h),this.defaultTTFB_=A,this.ttfb_=new Ea(a)}var R=N.prototype;return R.update=function(a,h){var b=this.slow_,A=this.fast_,M=this.ttfb_;b.halfLife!==a&&(this.slow_=new Ea(a,b.getEstimate(),b.getTotalWeight())),A.halfLife!==h&&(this.fast_=new Ea(h,A.getEstimate(),A.getTotalWeight())),M.halfLife!==a&&(this.ttfb_=new Ea(a,M.getEstimate(),M.getTotalWeight()))},R.sample=function(a,h){var b=(a=Math.max(a,this.minDelayMs_))/1e3,A=8*h/b;this.fast_.sample(b,A),this.slow_.sample(b,A)},R.sampleTTFB=function(a){var h=a/1e3,b=Math.sqrt(2)*Math.exp(-Math.pow(h,2)/2);this.ttfb_.sample(b,Math.max(a,5))},R.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},R.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},R.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},R.destroy=function(){},N}(),Rl=function(){function N(a){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=a;var h=a.config;this.bwEstimator=new Xh(h.abrEwmaSlowVoD,h.abrEwmaFastVoD,h.abrEwmaDefaultEstimate),this.registerListeners()}var R=N.prototype;return R.registerListeners=function(){var a=this.hls;a.on(w.FRAG_LOADING,this.onFragLoading,this),a.on(w.FRAG_LOADED,this.onFragLoaded,this),a.on(w.FRAG_BUFFERED,this.onFragBuffered,this),a.on(w.LEVEL_SWITCHING,this.onLevelSwitching,this),a.on(w.LEVEL_LOADED,this.onLevelLoaded,this)},R.unregisterListeners=function(){var a=this.hls;a.off(w.FRAG_LOADING,this.onFragLoading,this),a.off(w.FRAG_LOADED,this.onFragLoaded,this),a.off(w.FRAG_BUFFERED,this.onFragBuffered,this),a.off(w.LEVEL_SWITCHING,this.onLevelSwitching,this),a.off(w.LEVEL_LOADED,this.onLevelLoaded,this)},R.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},R.onFragLoading=function(a,h){var b,A=h.frag;this.ignoreFragment(A)||(this.fragCurrent=A,this.partCurrent=(b=h.part)!=null?b:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))},R.onLevelSwitching=function(a,h){this.clearTimer()},R.getTimeToLoadFrag=function(a,h,b,A){return a+b/h+(A?this.lastLevelLoadSec:0)},R.onLevelLoaded=function(a,h){var b=this.hls.config,A=h.stats,M=A.total,U=A.bwEstimate;x(M)&&x(U)&&(this.lastLevelLoadSec=8*M/U),h.details.live?this.bwEstimator.update(b.abrEwmaSlowLive,b.abrEwmaFastLive):this.bwEstimator.update(b.abrEwmaSlowVoD,b.abrEwmaFastVoD)},R._abandonRulesCheck=function(){var a=this.fragCurrent,h=this.partCurrent,b=this.hls,A=b.autoLevelEnabled,M=b.media;if(a&&M){var U=performance.now(),X=h?h.stats:a.stats,Q=h?h.duration:a.duration,q=U-X.loading.start;if(X.aborted||X.loaded&&X.loaded===X.total||a.level===0)return this.clearTimer(),void(this._nextAutoLevel=-1);if(A&&!M.paused&&M.playbackRate&&M.readyState){var oe=b.mainForwardBufferInfo;if(oe!==null){var pe=this.bwEstimator.getEstimateTTFB(),me=Math.abs(M.playbackRate);if(!(q<=Math.max(pe,Q/(2*me)*1e3))){var be=oe.len/me;if(!(be>=2*Q/me)){var Se=X.loading.first?X.loading.first-X.loading.start:-1,Re=X.loaded&&Se>-1,ye=this.bwEstimator.getEstimate(),Ce=b.levels,$e=b.minAutoLevel,He=Ce[a.level],Ze=X.total||Math.max(X.loaded,Math.round(Q*He.maxBitrate/8)),lt=q-Se;lt<1&&Re&&(lt=Math.min(q,8*X.loaded/ye));var ht=Re?1e3*X.loaded/lt:0,wt=ht?(Ze-X.loaded)/ht:8*Ze/ye+pe/1e3;if(!(wt<=be)){var dt,gt=ht?8*ht:ye,Pt=Number.POSITIVE_INFINITY;for(dt=a.level-1;dt>$e;dt--){var xt=Ce[dt].maxBitrate;if((Pt=this.getTimeToLoadFrag(pe/1e3,gt,Q*xt,!Ce[dt].details))<be)break}Pt>=wt||Pt>10*Q||(b.nextLoadLevel=dt,Re?this.bwEstimator.sample(q-Math.min(pe,Se),X.loaded):this.bwEstimator.sampleTTFB(q),this.clearTimer(),W.warn("[abr] Fragment "+a.sn+(h?" part "+h.index:"")+" of level "+a.level+` is loading too slowly;
      Time to underbuffer: `+be.toFixed(3)+` s
      Estimated load time for current fragment: `+wt.toFixed(3)+` s
      Estimated load time for down switch fragment: `+Pt.toFixed(3)+` s
      TTFB estimate: `+Se+`
      Current BW estimate: `+(x(ye)?(ye/1024).toFixed(3):"Unknown")+` Kb/s
      New BW estimate: `+(this.bwEstimator.getEstimate()/1024).toFixed(3)+` Kb/s
      Aborting and switching to level `+dt),a.loader&&(this.fragCurrent=this.partCurrent=null,a.abortRequests()),b.trigger(w.FRAG_LOAD_EMERGENCY_ABORTED,{frag:a,part:h,stats:X}))}}}}}}},R.onFragLoaded=function(a,h){var b=h.frag,A=h.part,M=A?A.stats:b.stats;if(b.type===gr&&this.bwEstimator.sampleTTFB(M.loading.first-M.loading.start),!this.ignoreFragment(b)){if(this.clearTimer(),this.lastLoadedFragLevel=b.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var U=A?A.duration:b.duration,X=this.hls.levels[b.level],Q=(X.loaded?X.loaded.bytes:0)+M.loaded,q=(X.loaded?X.loaded.duration:0)+U;X.loaded={bytes:Q,duration:q},X.realBitrate=Math.round(8*Q/q)}if(b.bitrateTest){var oe={stats:M,frag:b,part:A,id:b.type};this.onFragBuffered(w.FRAG_BUFFERED,oe),b.bitrateTest=!1}}},R.onFragBuffered=function(a,h){var b=h.frag,A=h.part,M=A!=null&&A.stats.loaded?A.stats:b.stats;if(!M.aborted&&!this.ignoreFragment(b)){var U=M.parsing.end-M.loading.start-Math.min(M.loading.first-M.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(U,M.loaded),M.bwEstimate=this.bwEstimator.getEstimate(),b.bitrateTest?this.bitrateTestDelay=U/1e3:this.bitrateTestDelay=0}},R.ignoreFragment=function(a){return a.type!==gr||a.sn==="initSegment"},R.clearTimer=function(){self.clearInterval(this.timer)},R.getNextABRAutoLevel=function(){var a=this.fragCurrent,h=this.partCurrent,b=this.hls,A=b.maxAutoLevel,M=b.config,U=b.minAutoLevel,X=b.media,Q=h?h.duration:a?a.duration:0,q=X&&X.playbackRate!==0?Math.abs(X.playbackRate):1,oe=this.bwEstimator?this.bwEstimator.getEstimate():M.abrEwmaDefaultEstimate,pe=b.mainForwardBufferInfo,me=(pe?pe.len:0)/q,be=this.findBestLevel(oe,U,A,me,M.abrBandWidthFactor,M.abrBandWidthUpFactor);if(be>=0)return be;W.trace("[abr] "+(me?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var Se=Q?Math.min(Q,M.maxStarvationDelay):M.maxStarvationDelay,Re=M.abrBandWidthFactor,ye=M.abrBandWidthUpFactor;if(!me){var Ce=this.bitrateTestDelay;Ce&&(Se=(Q?Math.min(Q,M.maxLoadingDelay):M.maxLoadingDelay)-Ce,W.trace("[abr] bitrate test took "+Math.round(1e3*Ce)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*Se)+" ms"),Re=ye=1)}return be=this.findBestLevel(oe,U,A,me+Se,Re,ye),Math.max(be,0)},R.findBestLevel=function(a,h,b,A,M,U){for(var X,Q=this.fragCurrent,q=this.partCurrent,oe=this.lastLoadedFragLevel,pe=this.hls.levels,me=pe[oe],be=!(me==null||(X=me.details)==null||!X.live),Se=me==null?void 0:me.codecSet,Re=q?q.duration:Q?Q.duration:0,ye=this.bwEstimator.getEstimateTTFB()/1e3,Ce=h,$e=-1,He=b;He>=h;He--){var Ze=pe[He];if(!Ze||Se&&Ze.codecSet!==Se)Ze&&(Ce=Math.min(He,Ce),$e=Math.max(He,$e));else{$e!==-1&&W.trace("[abr] Skipped level(s) "+Ce+"-"+$e+' with CODECS:"'+pe[$e].attrs.CODECS+'"; not compatible with "'+me.attrs.CODECS+'"');var lt=Ze.details,ht=(q?lt==null?void 0:lt.partTarget:lt==null?void 0:lt.averagetargetduration)||Re,wt=void 0;wt=He<=oe?M*a:U*a;var dt=pe[He].maxBitrate,gt=this.getTimeToLoadFrag(ye,wt,dt*ht,lt===void 0);if(W.trace("[abr] level:"+He+" adjustedbw-bitrate:"+Math.round(wt-dt)+" avgDuration:"+ht.toFixed(1)+" maxFetchDuration:"+A.toFixed(1)+" fetchDuration:"+gt.toFixed(1)),wt>dt&&(gt===0||!x(gt)||be&&!this.bitrateTestDelay||gt<A))return He}}return-1},c(N,[{key:"nextAutoLevel",get:function(){var a=this._nextAutoLevel,h=this.bwEstimator;if(a!==-1&&!h.canEstimate())return a;var b=this.getNextABRAutoLevel();if(a!==-1){var A=this.hls.levels;if(A.length>Math.max(a,b)&&A[a].loadError<=A[b].loadError)return a}return a!==-1&&(b=Math.min(a,b)),b},set:function(a){this._nextAutoLevel=a}}]),N}(),Il=function(){function N(){this.chunks=[],this.dataLength=0}var R=N.prototype;return R.push=function(a){this.chunks.push(a),this.dataLength+=a.length},R.flush=function(){var a,h=this.chunks,b=this.dataLength;return h.length?(a=h.length===1?h[0]:function(A,M){for(var U=new Uint8Array(M),X=0,Q=0;Q<A.length;Q++){var q=A[Q];U.set(q,X),X+=q.length}return U}(h,b),this.reset(),a):new Uint8Array(0)},R.reset=function(){this.chunks.length=0,this.dataLength=0},N}(),Ko=function(N){function R(h,b,A){var M;return(M=N.call(this,h,b,A,"[audio-stream-controller]",Ki)||this).videoBuffer=null,M.videoTrackCC=-1,M.waitingVideoCC=-1,M.bufferedTrack=null,M.switchingTrack=null,M.trackId=-1,M.waitingData=null,M.mainDetails=null,M.bufferFlushed=!1,M.cachedTrackLoadedData=null,M._registerListeners(),M}i(R,N);var a=R.prototype;return a.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null},a._registerListeners=function(){var h=this.hls;h.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(w.MANIFEST_LOADING,this.onManifestLoading,this),h.on(w.LEVEL_LOADED,this.onLevelLoaded,this),h.on(w.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),h.on(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),h.on(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),h.on(w.ERROR,this.onError,this),h.on(w.BUFFER_RESET,this.onBufferReset,this),h.on(w.BUFFER_CREATED,this.onBufferCreated,this),h.on(w.BUFFER_FLUSHED,this.onBufferFlushed,this),h.on(w.INIT_PTS_FOUND,this.onInitPtsFound,this),h.on(w.FRAG_BUFFERED,this.onFragBuffered,this)},a._unregisterListeners=function(){var h=this.hls;h.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(w.MANIFEST_LOADING,this.onManifestLoading,this),h.off(w.LEVEL_LOADED,this.onLevelLoaded,this),h.off(w.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),h.off(w.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),h.off(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),h.off(w.ERROR,this.onError,this),h.off(w.BUFFER_RESET,this.onBufferReset,this),h.off(w.BUFFER_CREATED,this.onBufferCreated,this),h.off(w.BUFFER_FLUSHED,this.onBufferFlushed,this),h.off(w.INIT_PTS_FOUND,this.onInitPtsFound,this),h.off(w.FRAG_BUFFERED,this.onFragBuffered,this)},a.onInitPtsFound=function(h,b){var A=b.frag,M=b.id,U=b.initPTS,X=b.timescale;if(M==="main"){var Q=A.cc;this.initPTS[A.cc]={baseTime:U,timescale:X},this.log("InitPTS for cc: "+Q+" found from main: "+U),this.videoTrackCC=Q,this.state===Ua&&this.tick()}},a.startLoad=function(h){if(!this.levels)return this.startPosition=h,void(this.state=Ei);var b=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),b>0&&h===-1?(this.log("Override startPosition with lastCurrentTime @"+b.toFixed(3)),h=b,this.state=_r):(this.loadedmetadata=!1,this.state=Us),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=h,this.tick()},a.doTick=function(){switch(this.state){case _r:this.doTickIdle();break;case Us:var h,b=this.levels,A=this.trackId,M=b==null||(h=b[A])==null?void 0:h.details;if(M){if(this.waitForCdnTuneIn(M))break;this.state=Ua}break;case Pi:var U,X=performance.now(),Q=this.retryDate;(!Q||X>=Q||(U=this.media)!=null&&U.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=_r);break;case Ua:var q=this.waitingData;if(q){var oe=q.frag,pe=q.part,me=q.cache,be=q.complete;if(this.initPTS[oe.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=Fs;var Se={frag:oe,part:pe,payload:me.flush(),networkDetails:null};this._handleFragmentLoadProgress(Se),be&&N.prototype._handleFragmentLoadComplete.call(this,Se)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+oe.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var Re=this.getLoadPosition(),ye=cr.bufferInfo(this.mediaBuffer,Re,this.config.maxBufferHole);je(ye.end,this.config.maxFragLookUpTolerance,oe)<0&&(this.log("Waiting fragment cc ("+oe.cc+") @ "+oe.start+" cancelled because another fragment at "+ye.end+" is needed"),this.clearWaitingFragment())}}else this.state=_r}this.onTickEnd()},a.clearWaitingFragment=function(){var h=this.waitingData;h&&(this.fragmentTracker.removeFragment(h.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=_r)},a.resetLoadingState=function(){this.clearWaitingFragment(),N.prototype.resetLoadingState.call(this)},a.onTickEnd=function(){var h=this.media;h!=null&&h.readyState&&(this.lastCurrentTime=h.currentTime)},a.doTickIdle=function(){var h=this.hls,b=this.levels,A=this.media,M=this.trackId,U=h.config;if(b!=null&&b[M]&&(A||!this.startFragRequested&&U.startFragPrefetch)){var X=b[M],Q=X.details;if(!Q||Q.live&&this.levelLastLoaded!==M||this.waitForCdnTuneIn(Q))this.state=Us;else{var q=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&q&&(this.bufferFlushed=!1,this.afterBufferFlushed(q,K,Ki));var oe=this.getFwdBufferInfo(q,Ki);if(oe!==null){var pe=this.bufferedTrack,me=this.switchingTrack;if(!me&&this._streamEnded(oe,Q))return h.trigger(w.BUFFER_EOS,{type:"audio"}),void(this.state=ga);var be=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,gr),Se=oe.len,Re=this.getMaxBufferLength(be==null?void 0:be.len);if(!(Se>=Re)||me){var ye=Q.fragments[0].start,Ce=oe.end;if(me&&A){var $e=this.getLoadPosition();pe&&me.attrs!==pe.attrs&&(Ce=$e),Q.PTSKnown&&$e<ye&&(oe.end>ye||oe.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),A.currentTime=ye+.05)}var He=this.getNextFragment(Ce,Q),Ze=!1;if(He&&this.isLoopLoading(He,Ce)&&(Ze=!!He.gap,He=this.getNextFragmentLoopLoading(He,Q,oe,gr,Re)),He){var lt=be&&He.start>be.end+Q.targetduration;if(lt||(be==null||!be.len)&&oe.len){var ht=this.getAppendedFrag(He.start,gr);if(ht===null||(Ze||(Ze=!!ht.gap||!!lt&&be.len===0),lt&&!Ze||Ze&&oe.nextStart&&oe.nextStart<ht.end))return}this.loadFragment(He,X,Ce)}else this.bufferFlushed=!0}}}}},a.getMaxBufferLength=function(h){var b=N.prototype.getMaxBufferLength.call(this);return h?Math.min(Math.max(b,h),this.config.maxMaxBufferLength):b},a.onMediaDetaching=function(){this.videoBuffer=null,N.prototype.onMediaDetaching.call(this)},a.onAudioTracksUpdated=function(h,b){var A=b.audioTracks;this.resetTransmuxer(),this.levels=A.map(function(M){return new zi(M)})},a.onAudioTrackSwitching=function(h,b){var A=!!b.url;this.trackId=b.id;var M=this.fragCurrent;M&&(M.abortRequests(),this.removeUnbufferedFrags(M.start)),this.resetLoadingState(),A?this.setInterval(100):this.resetTransmuxer(),A?(this.switchingTrack=b,this.state=_r):(this.switchingTrack=null,this.bufferedTrack=b,this.state=Ei),this.tick()},a.onManifestLoading=function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1},a.onLevelLoaded=function(h,b){this.mainDetails=b.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(w.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},a.onAudioTrackLoaded=function(h,b){var A;if(this.mainDetails!=null){var M=this.levels,U=b.details,X=b.id;if(M){this.log("Track "+X+" loaded ["+U.startSN+","+U.endSN+"]"+(U.lastPartSn?"[part-"+U.lastPartSn+"-"+U.lastPartIndex+"]":"")+",duration:"+U.totalduration);var Q=M[X],q=0;if(U.live||(A=Q.details)!=null&&A.live){this.checkLiveUpdate(U);var oe=this.mainDetails;if(U.deltaUpdateFailed||!oe)return;!Q.details&&U.hasProgramDateTime&&oe.hasProgramDateTime?($i(U,oe),q=U.fragments[0].start):q=this.alignPlaylists(U,Q.details)}Q.details=U,this.levelLastLoaded=X,this.startFragRequested||!this.mainDetails&&U.live||this.setStartPosition(Q.details,q),this.state!==Us||this.waitForCdnTuneIn(U)||(this.state=_r),this.tick()}else this.warn("Audio tracks were reset while loading level "+X)}else this.cachedTrackLoadedData=b},a._handleFragmentLoadProgress=function(h){var b,A=h.frag,M=h.part,U=h.payload,X=this.config,Q=this.trackId,q=this.levels;if(q){var oe=q[Q];if(oe){var pe=oe.details;if(!pe)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(A.start);var me=X.defaultAudioCodec||oe.audioCodec||"mp4a.40.2",be=this.transmuxer;be||(be=this.transmuxer=new kl(this.hls,Ki,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var Se=this.initPTS[A.cc],Re=(b=A.initSegment)==null?void 0:b.data;if(Se!==void 0){var ye=M?M.index:-1,Ce=ye!==-1,$e=new li(A.level,A.sn,A.stats.chunkCount,U.byteLength,ye,Ce);be.push(U,Re,me,"",A,M,pe.totalduration,!1,$e,Se)}else this.log("Unknown video PTS for cc "+A.cc+", waiting for video PTS before demuxing audio frag "+A.sn+" of ["+pe.startSN+" ,"+pe.endSN+"],track "+Q),(this.waitingData=this.waitingData||{frag:A,part:M,cache:new Il,complete:!1}).cache.push(new Uint8Array(U)),this.waitingVideoCC=this.videoTrackCC,this.state=Ua}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+A.sn+" of level "+A.level+" will not be buffered")},a._handleFragmentLoadComplete=function(h){this.waitingData?this.waitingData.complete=!0:N.prototype._handleFragmentLoadComplete.call(this,h)},a.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},a.onBufferCreated=function(h,b){var A=b.tracks.audio;A&&(this.mediaBuffer=A.buffer||null),b.tracks.video&&(this.videoBuffer=b.tracks.video.buffer||null)},a.onFragBuffered=function(h,b){var A=b.frag,M=b.part;if(A.type===Ki)if(this.fragContextChanged(A))this.warn("Fragment "+A.sn+(M?" p: "+M.index:"")+" of level "+A.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:"false"));else{if(A.sn!=="initSegment"){this.fragPrevious=A;var U=this.switchingTrack;U&&(this.bufferedTrack=U,this.switchingTrack=null,this.hls.trigger(w.AUDIO_TRACK_SWITCHED,f({},U)))}this.fragBufferedComplete(A,M)}else if(!this.loadedmetadata&&A.type===gr){var X=this.videoBuffer||this.media;X&&cr.getBuffered(X).length&&(this.loadedmetadata=!0)}},a.onError=function(h,b){var A;if(b.fatal)this.state=va;else switch(b.details){case D.FRAG_GAP:case D.FRAG_PARSING_ERROR:case D.FRAG_DECRYPT_ERROR:case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ki,b);break;case D.AUDIO_TRACK_LOAD_ERROR:case D.AUDIO_TRACK_LOAD_TIMEOUT:case D.LEVEL_PARSING_ERROR:b.levelRetry||this.state!==Us||((A=b.context)==null?void 0:A.type)!==Mi||(this.state=_r);break;case D.BUFFER_FULL_ERROR:if(!b.parent||b.parent!=="audio")return;this.reduceLengthAndFlushBuffer(b)&&(this.bufferedTrack=null,N.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case D.INTERNAL_EXCEPTION:this.recoverWorkerError(b)}},a.onBufferFlushed=function(h,b){b.type===K&&(this.bufferFlushed=!0,this.state===ga&&(this.state=_r))},a._handleTransmuxComplete=function(h){var b,A="audio",M=this.hls,U=h.remuxResult,X=h.chunkMeta,Q=this.getCurrentContext(X);if(Q){var q=Q.frag,oe=Q.part,pe=Q.level.details,me=U.audio,be=U.text,Se=U.id3,Re=U.initSegment;if(!this.fragContextChanged(q)&&pe){if(this.state=pn,this.switchingTrack&&me&&this.completeAudioSwitch(this.switchingTrack),Re!=null&&Re.tracks){var ye=q.initSegment||q;this._bufferInitSegment(Re.tracks,ye,X),M.trigger(w.FRAG_PARSING_INIT_SEGMENT,{frag:ye,id:A,tracks:Re.tracks})}if(me){var Ce=me.startPTS,$e=me.endPTS,He=me.startDTS,Ze=me.endDTS;oe&&(oe.elementaryStreams[K]={startPTS:Ce,endPTS:$e,startDTS:He,endDTS:Ze}),q.setElementaryStreamInfo(K,Ce,$e,He,Ze),this.bufferFragmentData(me,q,oe,X)}if(Se!=null&&(b=Se.samples)!=null&&b.length){var lt=t({id:A,frag:q,details:pe},Se);M.trigger(w.FRAG_PARSING_METADATA,lt)}if(be){var ht=t({id:A,frag:q,details:pe},be);M.trigger(w.FRAG_PARSING_USERDATA,ht)}}else this.fragmentTracker.removeFragment(q)}else this.resetWhenMissingContext(X)},a._bufferInitSegment=function(h,b,A){if(this.state===pn){h.video&&delete h.video;var M=h.audio;if(M){M.levelCodec=M.codec,M.id="audio",this.log("Init audio buffer, container:"+M.container+", codecs[parsed]=["+M.codec+"]"),this.hls.trigger(w.BUFFER_CODECS,h);var U=M.initSegment;if(U!=null&&U.byteLength){var X={type:"audio",frag:b,part:null,chunkMeta:A,parent:b.type,data:U};this.hls.trigger(w.BUFFER_APPENDING,X)}this.tick()}}},a.loadFragment=function(h,b,A){var M,U=this.fragmentTracker.getState(h);this.fragCurrent=h,this.switchingTrack||U===Ni||U===Hi?h.sn==="initSegment"?this._loadInitSegment(h,b):(M=b.details)!=null&&M.live&&!this.initPTS[h.cc]?(this.log("Waiting for video PTS in continuity counter "+h.cc+" of live stream before loading audio fragment "+h.sn+" of level "+this.trackId),this.state=Ua):(this.startFragRequested=!0,N.prototype.loadFragment.call(this,h,b,A)):this.clearTrackerIfNeeded(h)},a.completeAudioSwitch=function(h){var b=this.hls,A=this.media,M=this.bufferedTrack,U=M==null?void 0:M.attrs,X=h.attrs;A&&U&&(U.CHANNELS!==X.CHANNELS||U.NAME!==X.NAME||U.LANGUAGE!==X.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),N.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=h,this.switchingTrack=null,b.trigger(w.AUDIO_TRACK_SWITCHED,f({},h))},R}(Uo),Wa=function(N){function R(h){var b;return(b=N.call(this,h,"[audio-track-controller]")||this).tracks=[],b.groupId=null,b.tracksInGroup=[],b.trackId=-1,b.currentTrack=null,b.selectDefaultTrack=!0,b.registerListeners(),b}i(R,N);var a=R.prototype;return a.registerListeners=function(){var h=this.hls;h.on(w.MANIFEST_LOADING,this.onManifestLoading,this),h.on(w.MANIFEST_PARSED,this.onManifestParsed,this),h.on(w.LEVEL_LOADING,this.onLevelLoading,this),h.on(w.LEVEL_SWITCHING,this.onLevelSwitching,this),h.on(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),h.on(w.ERROR,this.onError,this)},a.unregisterListeners=function(){var h=this.hls;h.off(w.MANIFEST_LOADING,this.onManifestLoading,this),h.off(w.MANIFEST_PARSED,this.onManifestParsed,this),h.off(w.LEVEL_LOADING,this.onLevelLoading,this),h.off(w.LEVEL_SWITCHING,this.onLevelSwitching,this),h.off(w.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),h.off(w.ERROR,this.onError,this)},a.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,N.prototype.destroy.call(this)},a.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0},a.onManifestParsed=function(h,b){this.tracks=b.audioTracks||[]},a.onAudioTrackLoaded=function(h,b){var A=b.id,M=b.groupId,U=b.details,X=this.tracksInGroup[A];if(X&&X.groupId===M){var Q=X.details;X.details=b.details,this.log("audio-track "+A+' "'+X.name+'" lang:'+X.lang+" group:"+M+" loaded ["+U.startSN+"-"+U.endSN+"]"),A===this.trackId&&this.playlistLoaded(A,b,Q)}else this.warn("Track with id:"+A+" and group:"+M+" not found in active group "+X.groupId)},a.onLevelLoading=function(h,b){this.switchLevel(b.level)},a.onLevelSwitching=function(h,b){this.switchLevel(b.level)},a.switchLevel=function(h){var b=this.hls.levels[h];if(b!=null&&b.audioGroupIds){var A=b.audioGroupIds[b.urlId];if(this.groupId!==A){this.groupId=A||null;var M=this.tracks.filter(function(X){return!A||X.groupId===A});this.selectDefaultTrack&&!M.some(function(X){return X.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=M;var U={audioTracks:M};this.log("Updating audio tracks, "+M.length+" track(s) found in group:"+A),this.hls.trigger(w.AUDIO_TRACKS_UPDATED,U),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}},a.onError=function(h,b){!b.fatal&&b.context&&b.context.type===Mi&&b.context.id===this.trackId&&b.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(b))},a.setAudioTrack=function(h){var b=this.tracksInGroup;if(h<0||h>=b.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var A=this.currentTrack;b[this.trackId];var M=b[h],U=M.groupId,X=M.name;if(this.log("Switching to audio-track "+h+' "'+X+'" lang:'+M.lang+" group:"+U),this.trackId=h,this.currentTrack=M,this.selectDefaultTrack=!1,this.hls.trigger(w.AUDIO_TRACK_SWITCHING,f({},M)),!M.details||M.details.live){var Q=this.switchParams(M.url,A==null?void 0:A.details);this.loadPlaylist(Q)}}},a.selectInitialTrack=function(){var h=this.tracksInGroup,b=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(b!==-1)this.setAudioTrack(b);else{var A=new Error("No track found for running audio group-ID: "+this.groupId+" track count: "+h.length);this.warn(A.message),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:A})}},a.findTrackId=function(h){for(var b=this.tracksInGroup,A=0;A<b.length;A++){var M=b[A];if((!this.selectDefaultTrack||M.default)&&(!h||h.attrs["STABLE-RENDITION-ID"]!==void 0&&h.attrs["STABLE-RENDITION-ID"]===M.attrs["STABLE-RENDITION-ID"]||h.name===M.name&&h.lang===M.lang))return M.id}return-1},a.loadPlaylist=function(h){N.prototype.loadPlaylist.call(this);var b=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(b)){var A=b.id,M=b.groupId,U=b.url;if(h)try{U=h.addDirectives(U)}catch(X){this.warn("Could not construct new URL with HLS Delivery Directives: "+X)}this.log("loading audio-track playlist "+A+' "'+b.name+'" lang:'+b.lang+" group:"+M),this.clearTimer(),this.hls.trigger(w.AUDIO_TRACK_LOADING,{url:U,id:A,groupId:M,deliveryDirectives:h||null})}},c(R,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(h){this.selectDefaultTrack=!1,this.setAudioTrack(h)}}]),R}(mi);function mo(N,R){if(N.length!==R.length)return!1;for(var a=0;a<N.length;a++)if(!Ta(N[a].attrs,R[a].attrs))return!1;return!0}function Ta(N,R){var a=N["STABLE-RENDITION-ID"];return a?a===R["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(function(h){return N[h]!==R[h]})}var Va=function(N){function R(h,b,A){var M;return(M=N.call(this,h,b,A,"[subtitle-stream-controller]",ji)||this).levels=[],M.currentTrackId=-1,M.tracksBuffered=[],M.mainDetails=null,M._registerListeners(),M}i(R,N);var a=R.prototype;return a.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},a._registerListeners=function(){var h=this.hls;h.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(w.MANIFEST_LOADING,this.onManifestLoading,this),h.on(w.LEVEL_LOADED,this.onLevelLoaded,this),h.on(w.ERROR,this.onError,this),h.on(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),h.on(w.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),h.on(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.on(w.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),h.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this),h.on(w.FRAG_BUFFERED,this.onFragBuffered,this)},a._unregisterListeners=function(){var h=this.hls;h.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(w.MANIFEST_LOADING,this.onManifestLoading,this),h.off(w.LEVEL_LOADED,this.onLevelLoaded,this),h.off(w.ERROR,this.onError,this),h.off(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),h.off(w.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),h.off(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.off(w.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),h.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),h.off(w.FRAG_BUFFERED,this.onFragBuffered,this)},a.startLoad=function(h){this.stopLoad(),this.state=_r,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=h,this.tick()},a.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},a.onMediaDetaching=function(){this.tracksBuffered=[],N.prototype.onMediaDetaching.call(this)},a.onLevelLoaded=function(h,b){this.mainDetails=b.details},a.onSubtitleFragProcessed=function(h,b){var A=b.frag,M=b.success;if(this.fragPrevious=A,this.state=_r,M){var U=this.tracksBuffered[this.currentTrackId];if(U){for(var X,Q=A.start,q=0;q<U.length;q++)if(Q>=U[q].start&&Q<=U[q].end){X=U[q];break}var oe=A.start+A.duration;X?X.end=oe:(X={start:Q,end:oe},U.push(X)),this.fragmentTracker.fragBuffered(A)}}},a.onBufferFlushing=function(h,b){var A=b.startOffset,M=b.endOffset;if(A===0&&M!==Number.POSITIVE_INFINITY){var U=M-1;if(U<=0)return;b.endOffsetSubtitles=Math.max(0,U),this.tracksBuffered.forEach(function(X){for(var Q=0;Q<X.length;)if(X[Q].end<=U)X.shift();else{if(!(X[Q].start<U))break;X[Q].start=U,Q++}}),this.fragmentTracker.removeFragmentsInRange(A,U,ji)}},a.onFragBuffered=function(h,b){var A;this.loadedmetadata||b.frag.type!==gr||(A=this.media)!=null&&A.buffered.length&&(this.loadedmetadata=!0)},a.onError=function(h,b){var A=b.frag;(A==null?void 0:A.type)===ji&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Ei&&(this.state=_r))},a.onSubtitleTracksUpdated=function(h,b){var A=this,M=b.subtitleTracks;mo(this.levels,M)?this.levels=M.map(function(U){return new zi(U)}):(this.tracksBuffered=[],this.levels=M.map(function(U){var X=new zi(U);return A.tracksBuffered[X.id]=[],X}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ji),this.fragPrevious=null,this.mediaBuffer=null)},a.onSubtitleTrackSwitch=function(h,b){if(this.currentTrackId=b.id,this.levels.length&&this.currentTrackId!==-1){var A=this.levels[this.currentTrackId];A!=null&&A.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,A&&this.setInterval(500)}else this.clearInterval()},a.onSubtitleTrackLoaded=function(h,b){var A,M=b.details,U=b.id,X=this.currentTrackId,Q=this.levels;if(Q.length){var q=Q[X];if(!(U>=Q.length||U!==X)&&q){this.mediaBuffer=this.mediaBufferTimeRanges;var oe=0;if(M.live||(A=q.details)!=null&&A.live){var pe=this.mainDetails;if(M.deltaUpdateFailed||!pe)return;var me=pe.fragments[0];q.details?(oe=this.alignPlaylists(M,q.details))===0&&me&&nn(M,oe=me.start):M.hasProgramDateTime&&pe.hasProgramDateTime?($i(M,pe),oe=M.fragments[0].start):me&&nn(M,oe=me.start)}q.details=M,this.levelLastLoaded=U,this.startFragRequested||!this.mainDetails&&M.live||this.setStartPosition(q.details,oe),this.tick(),M.live&&!this.fragCurrent&&this.media&&this.state===_r&&(Gn(null,M.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),q.details=void 0))}}},a._handleFragmentLoadComplete=function(h){var b=this,A=h.frag,M=h.payload,U=A.decryptdata,X=this.hls;if(!this.fragContextChanged(A)&&M&&M.byteLength>0&&U&&U.key&&U.iv&&U.method==="AES-128"){var Q=performance.now();this.decrypter.decrypt(new Uint8Array(M),U.key.buffer,U.iv.buffer).catch(function(q){throw X.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_DECRYPT_ERROR,fatal:!1,error:q,reason:q.message,frag:A}),q}).then(function(q){var oe=performance.now();X.trigger(w.FRAG_DECRYPTED,{frag:A,payload:q,stats:{tstart:Q,tdecrypt:oe}})}).catch(function(q){b.warn(q.name+": "+q.message),b.state=_r})}},a.doTick=function(){if(this.media){if(this.state===_r){var h=this.currentTrackId,b=this.levels,A=b[h];if(!b.length||!A||!A.details)return;var M=this.config,U=this.getLoadPosition(),X=cr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],U,M.maxBufferHole),Q=X.end,q=X.len,oe=this.getFwdBufferInfo(this.media,gr),pe=A.details;if(q>this.getMaxBufferLength(oe==null?void 0:oe.len)+pe.levelTargetDuration)return;var me=pe.fragments,be=me.length,Se=pe.edge,Re=null,ye=this.fragPrevious;if(Q<Se){var Ce=M.maxFragLookUpTolerance,$e=Q>Se-Ce?0:Ce;!(Re=Gn(ye,me,Math.max(me[0].start,Q),$e))&&ye&&ye.start<me[0].start&&(Re=me[0])}else Re=me[be-1];if(!Re)return;if((Re=this.mapToInitFragWhenRequired(Re)).sn!=="initSegment"){var He=me[Re.sn-pe.startSN-1];He&&He.cc===Re.cc&&this.fragmentTracker.getState(He)===Ni&&(Re=He)}this.fragmentTracker.getState(Re)===Ni&&this.loadFragment(Re,A,Q)}}else this.state=_r},a.getMaxBufferLength=function(h){var b=N.prototype.getMaxBufferLength.call(this);return h?Math.max(b,h):b},a.loadFragment=function(h,b,A){this.fragCurrent=h,h.sn==="initSegment"?this._loadInitSegment(h,b):(this.startFragRequested=!0,N.prototype.loadFragment.call(this,h,b,A))},c(R,[{key:"mediaBufferTimeRanges",get:function(){return new Xa(this.tracksBuffered[this.currentTrackId]||[])}}]),R}(Uo),Xa=function(N){this.buffered=void 0;var R=function(a,h,b){if((h>>>=0)>b-1)throw new DOMException("Failed to execute '"+a+"' on 'TimeRanges': The index provided ("+h+") is greater than the maximum bound ("+b+")");return N[h][a]};this.buffered={get length(){return N.length},end:function(a){return R("end",a,N.length)},start:function(a){return R("start",a,N.length)}}},go=function(N){function R(h){var b;return(b=N.call(this,h,"[subtitle-track-controller]")||this).media=null,b.tracks=[],b.groupId=null,b.tracksInGroup=[],b.trackId=-1,b.selectDefaultTrack=!0,b.queuedDefaultTrack=-1,b.trackChangeListener=function(){return b.onTextTracksChanged()},b.asyncPollTrackChange=function(){return b.pollTrackChange(0)},b.useTextTrackPolling=!1,b.subtitlePollingInterval=-1,b._subtitleDisplay=!0,b.registerListeners(),b}i(R,N);var a=R.prototype;return a.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,N.prototype.destroy.call(this)},a.registerListeners=function(){var h=this.hls;h.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.on(w.MANIFEST_LOADING,this.onManifestLoading,this),h.on(w.MANIFEST_PARSED,this.onManifestParsed,this),h.on(w.LEVEL_LOADING,this.onLevelLoading,this),h.on(w.LEVEL_SWITCHING,this.onLevelSwitching,this),h.on(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.on(w.ERROR,this.onError,this)},a.unregisterListeners=function(){var h=this.hls;h.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),h.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),h.off(w.MANIFEST_LOADING,this.onManifestLoading,this),h.off(w.MANIFEST_PARSED,this.onManifestParsed,this),h.off(w.LEVEL_LOADING,this.onLevelLoading,this),h.off(w.LEVEL_SWITCHING,this.onLevelSwitching,this),h.off(w.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),h.off(w.ERROR,this.onError,this)},a.onMediaAttached=function(h,b){this.media=b.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},a.pollTrackChange=function(h){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,h)},a.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),_s(this.media.textTracks).forEach(function(h){en(h)}),this.subtitleTrack=-1,this.media=null)},a.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},a.onManifestParsed=function(h,b){this.tracks=b.subtitleTracks},a.onSubtitleTrackLoaded=function(h,b){var A=b.id,M=b.details,U=this.trackId,X=this.tracksInGroup[U];if(X){var Q=X.details;X.details=b.details,this.log("subtitle track "+A+" loaded ["+M.startSN+"-"+M.endSN+"]"),A===this.trackId&&this.playlistLoaded(A,b,Q)}else this.warn("Invalid subtitle track id "+A)},a.onLevelLoading=function(h,b){this.switchLevel(b.level)},a.onLevelSwitching=function(h,b){this.switchLevel(b.level)},a.switchLevel=function(h){var b=this.hls.levels[h];if(b!=null&&b.textGroupIds){var A=b.textGroupIds[b.urlId],M=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==A){var U=this.tracks.filter(function(q){return!A||q.groupId===A});this.tracksInGroup=U;var X=this.findTrackId(M==null?void 0:M.name)||this.findTrackId();this.groupId=A||null;var Q={subtitleTracks:U};this.log("Updating subtitle tracks, "+U.length+' track(s) found in "'+A+'" group-id'),this.hls.trigger(w.SUBTITLE_TRACKS_UPDATED,Q),X!==-1&&this.setSubtitleTrack(X,M)}else this.shouldReloadPlaylist(M)&&this.setSubtitleTrack(this.trackId,M)}},a.findTrackId=function(h){for(var b=this.tracksInGroup,A=0;A<b.length;A++){var M=b[A];if((!this.selectDefaultTrack||M.default)&&(!h||h===M.name))return M.id}return-1},a.onError=function(h,b){!b.fatal&&b.context&&b.context.type===qi&&b.context.id===this.trackId&&b.context.groupId===this.groupId&&this.checkRetry(b)},a.loadPlaylist=function(h){N.prototype.loadPlaylist.call(this);var b=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(b)){var A=b.id,M=b.groupId,U=b.url;if(h)try{U=h.addDirectives(U)}catch(X){this.warn("Could not construct new URL with HLS Delivery Directives: "+X)}this.log("Loading subtitle playlist for id "+A),this.hls.trigger(w.SUBTITLE_TRACK_LOADING,{url:U,id:A,groupId:M,deliveryDirectives:h||null})}},a.toggleTrackModes=function(h){var b=this,A=this.media,M=this.trackId;if(A){var U=_s(A.textTracks),X=U.filter(function(oe){return oe.groupId===b.groupId});if(h===-1)[].slice.call(U).forEach(function(oe){oe.mode="disabled"});else{var Q=X[M];Q&&(Q.mode="disabled")}var q=X[h];q&&(q.mode=this.subtitleDisplay?"showing":"hidden")}},a.setSubtitleTrack=function(h,b){var A,M=this.tracksInGroup;if(this.media){if(this.trackId!==h&&this.toggleTrackModes(h),!(this.trackId===h&&(h===-1||(A=M[h])!=null&&A.details)||h<-1||h>=M.length)){this.clearTimer();var U=M[h];if(this.log("Switching to subtitle-track "+h+(U?' "'+U.name+'" lang:'+U.lang+" group:"+U.groupId:"")),this.trackId=h,U){var X=U.id,Q=U.groupId,q=Q===void 0?"":Q,oe=U.name,pe=U.type,me=U.url;this.hls.trigger(w.SUBTITLE_TRACK_SWITCH,{id:X,groupId:q,name:oe,type:pe,url:me});var be=this.switchParams(U.url,b==null?void 0:b.details);this.loadPlaylist(be)}else this.hls.trigger(w.SUBTITLE_TRACK_SWITCH,{id:h})}}else this.queuedDefaultTrack=h},a.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var h=-1,b=_s(this.media.textTracks),A=0;A<b.length;A++)if(b[A].mode==="hidden")h=A;else if(b[A].mode==="showing"){h=A;break}this.subtitleTrack!==h&&(this.subtitleTrack=h)}},c(R,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(h){this._subtitleDisplay=h,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(h){this.selectDefaultTrack=!1;var b=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(h,b)}}]),R}(mi);function _s(N){for(var R=[],a=0;a<N.length;a++){var h=N[a];h.kind!=="subtitles"&&h.kind!=="captions"||!h.label||R.push(N[a])}return R}var Gh=function(){function N(a){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=a}var R=N.prototype;return R.append=function(a,h){var b=this.queues[h];b.push(a),b.length===1&&this.buffers[h]&&this.executeNext(h)},R.insertAbort=function(a,h){this.queues[h].unshift(a),this.executeNext(h)},R.appendBlocker=function(a){var h,b=new Promise(function(M){h=M}),A={execute:h,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(A,a),b},R.executeNext=function(a){var h=this.buffers,b=this.queues,A=h[a],M=b[a];if(M.length){var U=M[0];try{U.execute()}catch(X){W.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),U.onError(X),A!=null&&A.updating||(M.shift(),this.executeNext(a))}}},R.shiftAndExecuteNext=function(a){this.queues[a].shift(),this.executeNext(a)},R.current=function(a){return this.queues[a][0]},N}(),Ml=ir(),Pl=/([ha]vc.)(?:\.[^.,]+)+/,Kh=function(){function N(a){var h=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var b=h.media,A=h.mediaSource;W.log("[buffer-controller]: Media source opened"),b&&(b.removeEventListener("emptied",h._onMediaEmptied),h.updateMediaElementDuration(),h.hls.trigger(w.MEDIA_ATTACHED,{media:b})),A&&A.removeEventListener("sourceopen",h._onMediaSourceOpen),h.checkPendingTracks()},this._onMediaSourceClose=function(){W.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){W.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var b=h.media,A=h._objectUrl;b&&b.src!==A&&W.error("Media element src was set while attaching MediaSource ("+A+" > "+b.src+")")},this.hls=a,this._initSourceBuffer(),this.registerListeners()}var R=N.prototype;return R.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},R.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},R.registerListeners=function(){var a=this.hls;a.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this),a.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),a.on(w.MANIFEST_LOADING,this.onManifestLoading,this),a.on(w.MANIFEST_PARSED,this.onManifestParsed,this),a.on(w.BUFFER_RESET,this.onBufferReset,this),a.on(w.BUFFER_APPENDING,this.onBufferAppending,this),a.on(w.BUFFER_CODECS,this.onBufferCodecs,this),a.on(w.BUFFER_EOS,this.onBufferEos,this),a.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this),a.on(w.LEVEL_UPDATED,this.onLevelUpdated,this),a.on(w.FRAG_PARSED,this.onFragParsed,this),a.on(w.FRAG_CHANGED,this.onFragChanged,this)},R.unregisterListeners=function(){var a=this.hls;a.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this),a.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),a.off(w.MANIFEST_LOADING,this.onManifestLoading,this),a.off(w.MANIFEST_PARSED,this.onManifestParsed,this),a.off(w.BUFFER_RESET,this.onBufferReset,this),a.off(w.BUFFER_APPENDING,this.onBufferAppending,this),a.off(w.BUFFER_CODECS,this.onBufferCodecs,this),a.off(w.BUFFER_EOS,this.onBufferEos,this),a.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),a.off(w.LEVEL_UPDATED,this.onLevelUpdated,this),a.off(w.FRAG_PARSED,this.onFragParsed,this),a.off(w.FRAG_CHANGED,this.onFragChanged,this)},R._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new Gh(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},R.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},R.onManifestParsed=function(a,h){var b=2;(h.audio&&!h.video||!h.altAudio)&&(b=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=b,W.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},R.onMediaAttaching=function(a,h){var b=this.media=h.media;if(b&&Ml){var A=this.mediaSource=new Ml;A.addEventListener("sourceopen",this._onMediaSourceOpen),A.addEventListener("sourceended",this._onMediaSourceEnded),A.addEventListener("sourceclose",this._onMediaSourceClose),b.src=self.URL.createObjectURL(A),this._objectUrl=b.src,b.addEventListener("emptied",this._onMediaEmptied)}},R.onMediaDetaching=function(){var a=this.media,h=this.mediaSource,b=this._objectUrl;if(h){if(W.log("[buffer-controller]: media source detaching"),h.readyState==="open")try{h.endOfStream()}catch(A){W.warn("[buffer-controller]: onMediaDetaching: "+A.message+" while calling endOfStream")}this.onBufferReset(),h.removeEventListener("sourceopen",this._onMediaSourceOpen),h.removeEventListener("sourceended",this._onMediaSourceEnded),h.removeEventListener("sourceclose",this._onMediaSourceClose),a&&(a.removeEventListener("emptied",this._onMediaEmptied),b&&self.URL.revokeObjectURL(b),a.src===b?(a.removeAttribute("src"),a.load()):W.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(w.MEDIA_DETACHED,void 0)},R.onBufferReset=function(){var a=this;this.getSourceBufferTypes().forEach(function(h){var b=a.sourceBuffer[h];try{b&&(a.removeBufferListeners(h),a.mediaSource&&a.mediaSource.removeSourceBuffer(b),a.sourceBuffer[h]=void 0)}catch(A){W.warn("[buffer-controller]: Failed to reset the "+h+" buffer",A)}}),this._initSourceBuffer()},R.onBufferCodecs=function(a,h){var b=this,A=this.getSourceBufferTypes().length;Object.keys(h).forEach(function(M){if(A){var U=b.tracks[M];if(U&&typeof U.buffer.changeType=="function"){var X=h[M],Q=X.id,q=X.codec,oe=X.levelCodec,pe=X.container,me=X.metadata,be=(U.levelCodec||U.codec).replace(Pl,"$1"),Se=(oe||q).replace(Pl,"$1");if(be!==Se){var Re=pe+";codecs="+(oe||q);b.appendChangeType(M,Re),W.log("[buffer-controller]: switching codec "+be+" to "+Se),b.tracks[M]={buffer:U.buffer,codec:q,container:pe,levelCodec:oe,metadata:me,id:Q}}}}else b.pendingTracks[M]=h[M]}),A||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},R.appendChangeType=function(a,h){var b=this,A=this.operationQueue,M={execute:function(){var U=b.sourceBuffer[a];U&&(W.log("[buffer-controller]: changing "+a+" sourceBuffer type to "+h),U.changeType(h)),A.shiftAndExecuteNext(a)},onStart:function(){},onComplete:function(){},onError:function(U){W.warn("[buffer-controller]: Failed to change "+a+" SourceBuffer type",U)}};A.append(M,a)},R.onBufferAppending=function(a,h){var b=this,A=this.hls,M=this.operationQueue,U=this.tracks,X=h.data,Q=h.type,q=h.frag,oe=h.part,pe=h.chunkMeta,me=pe.buffering[Q],be=self.performance.now();me.start=be;var Se=q.stats.buffering,Re=oe?oe.stats.buffering:null;Se.start===0&&(Se.start=be),Re&&Re.start===0&&(Re.start=be);var ye=U.audio,Ce=!1;Q==="audio"&&(ye==null?void 0:ye.container)==="audio/mpeg"&&(Ce=!this.lastMpegAudioChunk||pe.id===1||this.lastMpegAudioChunk.sn!==pe.sn,this.lastMpegAudioChunk=pe);var $e=q.start,He={execute:function(){if(me.executeStart=self.performance.now(),Ce){var Ze=b.sourceBuffer[Q];if(Ze){var lt=$e-Ze.timestampOffset;Math.abs(lt)>=.1&&(W.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+$e+" (delta: "+lt+") sn: "+q.sn+")"),Ze.timestampOffset=$e)}}b.appendExecutor(X,Q)},onStart:function(){},onComplete:function(){var Ze=self.performance.now();me.executeEnd=me.end=Ze,Se.first===0&&(Se.first=Ze),Re&&Re.first===0&&(Re.first=Ze);var lt=b.sourceBuffer,ht={};for(var wt in lt)ht[wt]=cr.getBuffered(lt[wt]);b.appendError=0,b.hls.trigger(w.BUFFER_APPENDED,{type:Q,frag:q,part:oe,chunkMeta:pe,parent:q.type,timeRanges:ht})},onError:function(Ze){W.error("[buffer-controller]: Error encountered while trying to append to the "+Q+" SourceBuffer",Ze);var lt={type:I.MEDIA_ERROR,parent:q.type,details:D.BUFFER_APPEND_ERROR,frag:q,part:oe,chunkMeta:pe,error:Ze,err:Ze,fatal:!1};Ze.code===DOMException.QUOTA_EXCEEDED_ERR?lt.details=D.BUFFER_FULL_ERROR:(b.appendError++,lt.details=D.BUFFER_APPEND_ERROR,b.appendError>A.config.appendErrorMaxRetry&&(W.error("[buffer-controller]: Failed "+A.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),lt.fatal=!0)),A.trigger(w.ERROR,lt)}};M.append(He,Q)},R.onBufferFlushing=function(a,h){var b=this,A=this.operationQueue,M=function(U){return{execute:b.removeExecutor.bind(b,U,h.startOffset,h.endOffset),onStart:function(){},onComplete:function(){b.hls.trigger(w.BUFFER_FLUSHED,{type:U})},onError:function(X){W.warn("[buffer-controller]: Failed to remove from "+U+" SourceBuffer",X)}}};h.type?A.append(M(h.type),h.type):this.getSourceBufferTypes().forEach(function(U){A.append(M(U),U)})},R.onFragParsed=function(a,h){var b=this,A=h.frag,M=h.part,U=[],X=M?M.elementaryStreams:A.elementaryStreams;X[F]?U.push("audiovideo"):(X[K]&&U.push("audio"),X[z]&&U.push("video")),U.length===0&&W.warn("Fragments must have at least one ElementaryStreamType set. type: "+A.type+" level: "+A.level+" sn: "+A.sn),this.blockBuffers(function(){var Q=self.performance.now();A.stats.buffering.end=Q,M&&(M.stats.buffering.end=Q);var q=M?M.stats:A.stats;b.hls.trigger(w.FRAG_BUFFERED,{frag:A,part:M,stats:q,id:A.type})},U)},R.onFragChanged=function(a,h){this.flushBackBuffer()},R.onBufferEos=function(a,h){var b=this;this.getSourceBufferTypes().reduce(function(A,M){var U=b.sourceBuffer[M];return!U||h.type&&h.type!==M||(U.ending=!0,U.ended||(U.ended=!0,W.log("[buffer-controller]: "+M+" sourceBuffer now EOS"))),A&&!(U&&!U.ended)},!0)&&(W.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){b.getSourceBufferTypes().forEach(function(M){var U=b.sourceBuffer[M];U&&(U.ending=!1)});var A=b.mediaSource;A&&A.readyState==="open"?(W.log("[buffer-controller]: Calling mediaSource.endOfStream()"),A.endOfStream()):A&&W.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+A.readyState)}))},R.onLevelUpdated=function(a,h){var b=h.details;b.fragments.length&&(this.details=b,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},R.flushBackBuffer=function(){var a=this.hls,h=this.details,b=this.media,A=this.sourceBuffer;if(b&&h!==null){var M=this.getSourceBufferTypes();if(M.length){var U=h.live&&a.config.liveBackBufferLength!==null?a.config.liveBackBufferLength:a.config.backBufferLength;if(x(U)&&!(U<0)){var X=b.currentTime,Q=h.levelTargetDuration,q=Math.max(U,Q),oe=Math.floor(X/Q)*Q-q;M.forEach(function(pe){var me=A[pe];if(me){var be=cr.getBuffered(me);if(be.length>0&&oe>be.start(0)){if(a.trigger(w.BACK_BUFFER_REACHED,{bufferEnd:oe}),h.live)a.trigger(w.LIVE_BACK_BUFFER_REACHED,{bufferEnd:oe});else if(me.ended&&be.end(be.length-1)-X<2*Q)return void W.info("[buffer-controller]: Cannot flush "+pe+" back buffer while SourceBuffer is in ended state");a.trigger(w.BUFFER_FLUSHING,{startOffset:0,endOffset:oe,type:pe})}}})}}}},R.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var a=this.details,h=this.hls,b=this.media,A=this.mediaSource,M=a.fragments[0].start+a.totalduration,U=b.duration,X=x(A.duration)?A.duration:0;a.live&&h.config.liveDurationInfinity?(W.log("[buffer-controller]: Media Source duration is set to Infinity"),A.duration=1/0,this.updateSeekableRange(a)):(M>X&&M>U||!x(U))&&(W.log("[buffer-controller]: Updating Media Source duration to "+M.toFixed(3)),A.duration=M)}},R.updateSeekableRange=function(a){var h=this.mediaSource,b=a.fragments;if(b.length&&a.live&&h!=null&&h.setLiveSeekableRange){var A=Math.max(0,b[0].start),M=Math.max(A,A+a.totalduration);h.setLiveSeekableRange(A,M)}},R.checkPendingTracks=function(){var a=this.bufferCodecEventsExpected,h=this.operationQueue,b=this.pendingTracks,A=Object.keys(b).length;if(A&&!a||A===2){this.createSourceBuffers(b),this.pendingTracks={};var M=this.getSourceBufferTypes();if(M.length)this.hls.trigger(w.BUFFER_CREATED,{tracks:this.tracks}),M.forEach(function(X){h.executeNext(X)});else{var U=new Error("could not create source buffer for media codec(s)");this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:U,reason:U.message})}}},R.createSourceBuffers=function(a){var h=this.sourceBuffer,b=this.mediaSource;if(!b)throw Error("createSourceBuffers called when mediaSource was null");for(var A in a)if(!h[A]){var M=a[A];if(!M)throw Error("source buffer exists for track "+A+", however track does not");var U=M.levelCodec||M.codec,X=M.container+";codecs="+U;W.log("[buffer-controller]: creating sourceBuffer("+X+")");try{var Q=h[A]=b.addSourceBuffer(X),q=A;this.addBufferListener(q,"updatestart",this._onSBUpdateStart),this.addBufferListener(q,"updateend",this._onSBUpdateEnd),this.addBufferListener(q,"error",this._onSBUpdateError),this.tracks[A]={buffer:Q,codec:U,container:M.container,levelCodec:M.levelCodec,metadata:M.metadata,id:M.id}}catch(oe){W.error("[buffer-controller]: error while trying to add sourceBuffer: "+oe.message),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:oe,mimeType:X})}}},R._onSBUpdateStart=function(a){this.operationQueue.current(a).onStart()},R._onSBUpdateEnd=function(a){var h=this.operationQueue;h.current(a).onComplete(),h.shiftAndExecuteNext(a)},R._onSBUpdateError=function(a,h){var b=new Error(a+" SourceBuffer error");W.error("[buffer-controller]: "+b,h),this.hls.trigger(w.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_APPENDING_ERROR,error:b,fatal:!1});var A=this.operationQueue.current(a);A&&A.onError(h)},R.removeExecutor=function(a,h,b){var A=this.media,M=this.mediaSource,U=this.operationQueue,X=this.sourceBuffer[a];if(!A||!M||!X)return W.warn("[buffer-controller]: Attempting to remove from the "+a+" SourceBuffer, but it does not exist"),void U.shiftAndExecuteNext(a);var Q=x(A.duration)?A.duration:1/0,q=x(M.duration)?M.duration:1/0,oe=Math.max(0,h),pe=Math.min(b,Q,q);pe>oe&&!X.ending?(X.ended=!1,W.log("[buffer-controller]: Removing ["+oe+","+pe+"] from the "+a+" SourceBuffer"),X.remove(oe,pe)):U.shiftAndExecuteNext(a)},R.appendExecutor=function(a,h){var b=this.operationQueue,A=this.sourceBuffer[h];if(!A)return W.warn("[buffer-controller]: Attempting to append to the "+h+" SourceBuffer, but it does not exist"),void b.shiftAndExecuteNext(h);A.ended=!1,A.appendBuffer(a)},R.blockBuffers=function(a,h){var b=this;if(h===void 0&&(h=this.getSourceBufferTypes()),!h.length)return W.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(a);var A=this.operationQueue,M=h.map(function(U){return A.appendBlocker(U)});Promise.all(M).then(function(){a(),h.forEach(function(U){var X=b.sourceBuffer[U];X!=null&&X.updating||A.shiftAndExecuteNext(U)})})},R.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},R.addBufferListener=function(a,h,b){var A=this.sourceBuffer[a];if(A){var M=b.bind(this,a);this.listeners[a].push({event:h,listener:M}),A.addEventListener(h,M)}},R.removeBufferListeners=function(a){var h=this.sourceBuffer[a];h&&this.listeners[a].forEach(function(b){h.removeEventListener(b.event,b.listener)})},N}(),Dl={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ga=function(N){var R=N;return Dl.hasOwnProperty(N)&&(R=Dl[N]),String.fromCharCode(R)},Bn=15,Yn=100,Me={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Sa={17:2,18:4,21:6,22:8,23:10,19:13,20:15},vo={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},wn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Lr=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Yh=function(){function N(){this.time=null,this.verboseLevel=0}return N.prototype.log=function(R,a){if(this.verboseLevel>=R){var h=typeof a=="function"?a():a;W.log(this.time+" ["+R+"] "+h)}},N}(),Xs=function(N){for(var R=[],a=0;a<N.length;a++)R.push(N[a].toString(16));return R},Ll=function(){function N(a,h,b,A,M){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=a||"white",this.underline=h||!1,this.italics=b||!1,this.background=A||"black",this.flash=M||!1}var R=N.prototype;return R.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},R.setStyles=function(a){for(var h=["foreground","underline","italics","background","flash"],b=0;b<h.length;b++){var A=h[b];a.hasOwnProperty(A)&&(this[A]=a[A])}},R.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},R.equals=function(a){return this.foreground===a.foreground&&this.underline===a.underline&&this.italics===a.italics&&this.background===a.background&&this.flash===a.flash},R.copy=function(a){this.foreground=a.foreground,this.underline=a.underline,this.italics=a.italics,this.background=a.background,this.flash=a.flash},R.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},N}(),Gs=function(){function N(a,h,b,A,M,U){this.uchar=void 0,this.penState=void 0,this.uchar=a||" ",this.penState=new Ll(h,b,A,M,U)}var R=N.prototype;return R.reset=function(){this.uchar=" ",this.penState.reset()},R.setChar=function(a,h){this.uchar=a,this.penState.copy(h)},R.setPenState=function(a){this.penState.copy(a)},R.equals=function(a){return this.uchar===a.uchar&&this.penState.equals(a.penState)},R.copy=function(a){this.uchar=a.uchar,this.penState.copy(a.penState)},R.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},N}(),Zh=function(){function N(a){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var h=0;h<Yn;h++)this.chars.push(new Gs);this.logger=a,this.pos=0,this.currPenState=new Ll}var R=N.prototype;return R.equals=function(a){for(var h=!0,b=0;b<Yn;b++)if(!this.chars[b].equals(a.chars[b])){h=!1;break}return h},R.copy=function(a){for(var h=0;h<Yn;h++)this.chars[h].copy(a.chars[h])},R.isEmpty=function(){for(var a=!0,h=0;h<Yn;h++)if(!this.chars[h].isEmpty()){a=!1;break}return a},R.setCursor=function(a){this.pos!==a&&(this.pos=a),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Yn&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Yn)},R.moveCursor=function(a){var h=this.pos+a;if(a>1)for(var b=this.pos+1;b<h+1;b++)this.chars[b].setPenState(this.currPenState);this.setCursor(h)},R.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},R.insertChar=function(a){var h=this;a>=144&&this.backSpace();var b=Ga(a);this.pos>=Yn?this.logger.log(0,function(){return"Cannot insert "+a.toString(16)+" ("+b+") at position "+h.pos+". Skipping it!"}):(this.chars[this.pos].setChar(b,this.currPenState),this.moveCursor(1))},R.clearFromPos=function(a){var h;for(h=a;h<Yn;h++)this.chars[h].reset()},R.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},R.clearToEndOfRow=function(){this.clearFromPos(this.pos)},R.getTextString=function(){for(var a=[],h=!0,b=0;b<Yn;b++){var A=this.chars[b].uchar;A!==" "&&(h=!1),a.push(A)}return h?"":a.join("")},R.setPenStyles=function(a){this.currPenState.setStyles(a),this.chars[this.pos].setPenState(this.currPenState)},N}(),Yo=function(){function N(a){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var h=0;h<Bn;h++)this.rows.push(new Zh(a));this.logger=a,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var R=N.prototype;return R.reset=function(){for(var a=0;a<Bn;a++)this.rows[a].clear();this.currRow=14},R.equals=function(a){for(var h=!0,b=0;b<Bn;b++)if(!this.rows[b].equals(a.rows[b])){h=!1;break}return h},R.copy=function(a){for(var h=0;h<Bn;h++)this.rows[h].copy(a.rows[h])},R.isEmpty=function(){for(var a=!0,h=0;h<Bn;h++)if(!this.rows[h].isEmpty()){a=!1;break}return a},R.backSpace=function(){this.rows[this.currRow].backSpace()},R.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},R.insertChar=function(a){this.rows[this.currRow].insertChar(a)},R.setPen=function(a){this.rows[this.currRow].setPenStyles(a)},R.moveCursor=function(a){this.rows[this.currRow].moveCursor(a)},R.setCursor=function(a){this.logger.log(2,"setCursor: "+a),this.rows[this.currRow].setCursor(a)},R.setPAC=function(a){this.logger.log(2,function(){return"pacData = "+JSON.stringify(a)});var h=a.row-1;if(this.nrRollUpRows&&h<this.nrRollUpRows-1&&(h=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==h){for(var b=0;b<Bn;b++)this.rows[b].clear();var A=this.currRow+1-this.nrRollUpRows,M=this.lastOutputScreen;if(M){var U=M.rows[A].cueStartTime,X=this.logger.time;if(U&&X!==null&&U<X)for(var Q=0;Q<this.nrRollUpRows;Q++)this.rows[h-this.nrRollUpRows+Q+1].copy(M.rows[A+Q])}}this.currRow=h;var q=this.rows[this.currRow];if(a.indent!==null){var oe=a.indent,pe=Math.max(oe-1,0);q.setCursor(a.indent),a.color=q.chars[pe].penState.foreground}var me={foreground:a.color,underline:a.underline,italics:a.italics,background:"black",flash:!1};this.setPen(me)},R.setBkgData=function(a){this.logger.log(2,function(){return"bkgData = "+JSON.stringify(a)}),this.backSpace(),this.setPen(a),this.insertChar(32)},R.setRollUpRows=function(a){this.nrRollUpRows=a},R.rollUp=function(){var a=this;if(this.nrRollUpRows!==null){this.logger.log(1,function(){return a.getDisplayText()});var h=this.currRow+1-this.nrRollUpRows,b=this.rows.splice(h,1)[0];b.clear(),this.rows.splice(this.currRow,0,b),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")},R.getDisplayText=function(a){a=a||!1;for(var h=[],b="",A=-1,M=0;M<Bn;M++){var U=this.rows[M].getTextString();U&&(A=M+1,a?h.push("Row "+A+": '"+U+"'"):h.push(U.trim()))}return h.length>0&&(b=a?"["+h.join(" | ")+"]":h.join(`
`)),b},R.getTextAndFormat=function(){return this.rows},N}(),Ol=function(){function N(a,h,b){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=a,this.outputFilter=h,this.mode=null,this.verbose=0,this.displayedMemory=new Yo(b),this.nonDisplayedMemory=new Yo(b),this.lastOutputScreen=new Yo(b),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=b}var R=N.prototype;return R.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},R.getHandler=function(){return this.outputFilter},R.setHandler=function(a){this.outputFilter=a},R.setPAC=function(a){this.writeScreen.setPAC(a)},R.setBkgData=function(a){this.writeScreen.setBkgData(a)},R.setMode=function(a){a!==this.mode&&(this.mode=a,this.logger.log(2,function(){return"MODE="+a}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=a)},R.insertChars=function(a){for(var h=this,b=0;b<a.length;b++)this.writeScreen.insertChar(a[b]);var A=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,function(){return A+": "+h.writeScreen.getDisplayText(!0)}),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(1,function(){return"DISPLAYED: "+h.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},R.ccRCL=function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},R.ccBS=function(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},R.ccAOF=function(){},R.ccAON=function(){},R.ccDER=function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},R.ccRU=function(a){this.logger.log(2,"RU("+a+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(a)},R.ccFON=function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},R.ccRDC=function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},R.ccTR=function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")},R.ccRTD=function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")},R.ccEDM=function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},R.ccCR=function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},R.ccENM=function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},R.ccEOC=function(){var a=this;if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var h=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=h,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,function(){return"DISP: "+a.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},R.ccTO=function(a){this.logger.log(2,"TO("+a+") - Tab Offset"),this.writeScreen.moveCursor(a)},R.ccMIDROW=function(a){var h={flash:!1};if(h.underline=a%2==1,h.italics=a>=46,h.italics)h.foreground="white";else{var b=Math.floor(a/2)-16;h.foreground=["white","green","blue","cyan","red","yellow","magenta"][b]}this.logger.log(2,"MIDROW: "+JSON.stringify(h)),this.writeScreen.setPen(h)},R.outputDataUpdate=function(a){a===void 0&&(a=!1);var h=this.logger.time;h!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,h,this.lastOutputScreen),a&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:h):this.cueStartTime=h,this.lastOutputScreen.copy(this.displayedMemory))},R.cueSplitAtTime=function(a){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,a,this.displayedMemory),this.cueStartTime=a))},N}(),Nl=function(){function N(a,h,b){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var A=new Yh;this.channels=[null,new Ol(a,h,A),new Ol(a+1,b,A)],this.cmdHistory={a:null,b:null},this.logger=A}var R=N.prototype;return R.getHandler=function(a){return this.channels[a].getHandler()},R.setHandler=function(a,h){this.channels[a].setHandler(h)},R.addData=function(a,h){var b,A,M,U=!1;this.logger.time=a;for(var X=0;X<h.length;X+=2)if(A=127&h[X],M=127&h[X+1],A!==0||M!==0){if(this.logger.log(3,"["+Xs([h[X],h[X+1]])+"] -> ("+Xs([A,M])+")"),(b=this.parseCmd(A,M))||(b=this.parseMidrow(A,M)),b||(b=this.parsePAC(A,M)),b||(b=this.parseBackgroundAttributes(A,M)),!b&&(U=this.parseChars(A,M))){var Q=this.currentChannel;Q&&Q>0?this.channels[Q].insertChars(U):this.logger.log(2,"No channel found yet. TEXT-MODE?")}b||U||this.logger.log(2,"Couldn't parse cleaned data "+Xs([A,M])+" orig: "+Xs([h[X],h[X+1]]))}},R.parseCmd=function(a,h){var b=this.cmdHistory;if(!((a===20||a===28||a===21||a===29)&&h>=32&&h<=47||(a===23||a===31)&&h>=33&&h<=35))return!1;if(Zn(a,h,b))return xa(null,null,b),this.logger.log(3,"Repeated command ("+Xs([a,h])+") is dropped"),!0;var A=a===20||a===21||a===23?1:2,M=this.channels[A];return a===20||a===21||a===28||a===29?h===32?M.ccRCL():h===33?M.ccBS():h===34?M.ccAOF():h===35?M.ccAON():h===36?M.ccDER():h===37?M.ccRU(2):h===38?M.ccRU(3):h===39?M.ccRU(4):h===40?M.ccFON():h===41?M.ccRDC():h===42?M.ccTR():h===43?M.ccRTD():h===44?M.ccEDM():h===45?M.ccCR():h===46?M.ccENM():h===47&&M.ccEOC():M.ccTO(h-32),xa(a,h,b),this.currentChannel=A,!0},R.parseMidrow=function(a,h){var b=0;if((a===17||a===25)&&h>=32&&h<=47){if((b=a===17?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var A=this.channels[b];return!!A&&(A.ccMIDROW(h),this.logger.log(3,"MIDROW ("+Xs([a,h])+")"),!0)}return!1},R.parsePAC=function(a,h){var b,A=this.cmdHistory;if(!((a>=17&&a<=23||a>=25&&a<=31)&&h>=64&&h<=127||(a===16||a===24)&&h>=64&&h<=95))return!1;if(Zn(a,h,A))return xa(null,null,A),!0;var M=a<=23?1:2;b=h>=64&&h<=95?M===1?Me[a]:vo[a]:M===1?Sa[a]:wn[a];var U=this.channels[M];return!!U&&(U.setPAC(this.interpretPAC(b,h)),xa(a,h,A),this.currentChannel=M,!0)},R.interpretPAC=function(a,h){var b,A={color:null,italics:!1,indent:null,underline:!1,row:a};return b=h>95?h-96:h-64,A.underline=(1&b)==1,b<=13?A.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(b/2)]:b<=15?(A.italics=!0,A.color="white"):A.indent=4*Math.floor((b-16)/2),A},R.parseChars=function(a,h){var b,A,M=null,U=null;if(a>=25?(b=2,U=a-8):(b=1,U=a),U>=17&&U<=19?(A=U===17?h+80:U===18?h+112:h+144,this.logger.log(2,"Special char '"+Ga(A)+"' in channel "+b),M=[A]):a>=32&&a<=127&&(M=h===0?[a]:[a,h]),M){var X=Xs(M);this.logger.log(3,"Char codes =  "+X.join(",")),xa(a,h,this.cmdHistory)}return M},R.parseBackgroundAttributes=function(a,h){var b;if(!((a===16||a===24)&&h>=32&&h<=47||(a===23||a===31)&&h>=45&&h<=47))return!1;var A={};a===16||a===24?(b=Math.floor((h-32)/2),A.background=Lr[b],h%2==1&&(A.background=A.background+"_semi")):h===45?A.background="transparent":(A.foreground="black",h===47&&(A.underline=!0));var M=a<=23?1:2;return this.channels[M].setBkgData(A),xa(a,h,this.cmdHistory),!0},R.reset=function(){for(var a=0;a<Object.keys(this.channels).length;a++){var h=this.channels[a];h&&h.reset()}this.cmdHistory={a:null,b:null}},R.cueSplitAtTime=function(a){for(var h=0;h<this.channels.length;h++){var b=this.channels[h];b&&b.cueSplitAtTime(a)}},N}();function xa(N,R,a){a.a=N,a.b=R}function Zn(N,R,a){return a.a===N&&a.b===R}var bo=function(){function N(a,h){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=a,this.trackName=h}var R=N.prototype;return R.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},R.newCue=function(a,h,b){(this.startTime===null||this.startTime>a)&&(this.startTime=a),this.endTime=h,this.screen=b,this.timelineController.createCaptionsTrack(this.trackName)},R.reset=function(){this.cueRanges=[],this.startTime=null},N}(),Zo=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var N=["","lr","rl"],R=["start","middle","end","left","right"];function a(M,U){if(typeof U!="string"||!Array.isArray(M))return!1;var X=U.toLowerCase();return!!~M.indexOf(X)&&X}function h(M){return a(R,M)}function b(M){for(var U=arguments.length,X=new Array(U>1?U-1:0),Q=1;Q<U;Q++)X[Q-1]=arguments[Q];for(var q=1;q<arguments.length;q++){var oe=arguments[q];for(var pe in oe)M[pe]=oe[pe]}return M}function A(M,U,X){var Q=this,q={enumerable:!0};Q.hasBeenReset=!1;var oe="",pe=!1,me=M,be=U,Se=X,Re=null,ye="",Ce=!0,$e="auto",He="start",Ze=50,lt="middle",ht=50,wt="middle";Object.defineProperty(Q,"id",b({},q,{get:function(){return oe},set:function(dt){oe=""+dt}})),Object.defineProperty(Q,"pauseOnExit",b({},q,{get:function(){return pe},set:function(dt){pe=!!dt}})),Object.defineProperty(Q,"startTime",b({},q,{get:function(){return me},set:function(dt){if(typeof dt!="number")throw new TypeError("Start time must be set to a number.");me=dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"endTime",b({},q,{get:function(){return be},set:function(dt){if(typeof dt!="number")throw new TypeError("End time must be set to a number.");be=dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"text",b({},q,{get:function(){return Se},set:function(dt){Se=""+dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"region",b({},q,{get:function(){return Re},set:function(dt){Re=dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"vertical",b({},q,{get:function(){return ye},set:function(dt){var gt=function(Pt){return a(N,Pt)}(dt);if(gt===!1)throw new SyntaxError("An invalid or illegal string was specified.");ye=gt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"snapToLines",b({},q,{get:function(){return Ce},set:function(dt){Ce=!!dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"line",b({},q,{get:function(){return $e},set:function(dt){if(typeof dt!="number"&&dt!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");$e=dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"lineAlign",b({},q,{get:function(){return He},set:function(dt){var gt=h(dt);if(!gt)throw new SyntaxError("An invalid or illegal string was specified.");He=gt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"position",b({},q,{get:function(){return Ze},set:function(dt){if(dt<0||dt>100)throw new Error("Position must be between 0 and 100.");Ze=dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"positionAlign",b({},q,{get:function(){return lt},set:function(dt){var gt=h(dt);if(!gt)throw new SyntaxError("An invalid or illegal string was specified.");lt=gt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"size",b({},q,{get:function(){return ht},set:function(dt){if(dt<0||dt>100)throw new Error("Size must be between 0 and 100.");ht=dt,this.hasBeenReset=!0}})),Object.defineProperty(Q,"align",b({},q,{get:function(){return wt},set:function(dt){var gt=h(dt);if(!gt)throw new SyntaxError("An invalid or illegal string was specified.");wt=gt,this.hasBeenReset=!0}})),Q.displayState=void 0}return A.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},A}(),Qh=function(){function N(){}return N.prototype.decode=function(R,a){if(!R)return"";if(typeof R!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(R))},N}();function Bl(N){function R(h,b,A,M){return 3600*(0|h)+60*(0|b)+(0|A)+parseFloat(M||0)}var a=N.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return a?parseFloat(a[2])>59?R(a[2],a[3],0,a[4]):R(a[1],a[2],a[3],a[4]):null}var Jh=function(){function N(){this.values=Object.create(null)}var R=N.prototype;return R.set=function(a,h){this.get(a)||h===""||(this.values[a]=h)},R.get=function(a,h,b){return b?this.has(a)?this.values[a]:h[b]:this.has(a)?this.values[a]:h},R.has=function(a){return a in this.values},R.alt=function(a,h,b){for(var A=0;A<b.length;++A)if(h===b[A]){this.set(a,h);break}},R.integer=function(a,h){/^-?\d+$/.test(h)&&this.set(a,parseInt(h,10))},R.percent=function(a,h){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(h)){var b=parseFloat(h);if(b>=0&&b<=100)return this.set(a,b),!0}return!1},N}();function Qn(N,R,a,h){var b=h?N.split(h):[N];for(var A in b)if(typeof b[A]=="string"){var M=b[A].split(a);M.length===2&&R(M[0],M[1])}}var Qo=new Zo(0,0,""),yo=Qo.align==="middle"?"middle":"center";function qh(N,R,a){var h=N;function b(){var M=Bl(N);if(M===null)throw new Error("Malformed timestamp: "+h);return N=N.replace(/^[^\sa-zA-Z-]+/,""),M}function A(){N=N.replace(/^\s+/,"")}if(A(),R.startTime=b(),A(),N.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+h);N=N.slice(3),A(),R.endTime=b(),A(),function(M,U){var X=new Jh;Qn(M,function(oe,pe){var me;switch(oe){case"region":for(var be=a.length-1;be>=0;be--)if(a[be].id===pe){X.set(oe,a[be].region);break}break;case"vertical":X.alt(oe,pe,["rl","lr"]);break;case"line":me=pe.split(","),X.integer(oe,me[0]),X.percent(oe,me[0])&&X.set("snapToLines",!1),X.alt(oe,me[0],["auto"]),me.length===2&&X.alt("lineAlign",me[1],["start",yo,"end"]);break;case"position":me=pe.split(","),X.percent(oe,me[0]),me.length===2&&X.alt("positionAlign",me[1],["start",yo,"end","line-left","line-right","auto"]);break;case"size":X.percent(oe,pe);break;case"align":X.alt(oe,pe,["start",yo,"end","left","right"])}},/:/,/\s/),U.region=X.get("region",null),U.vertical=X.get("vertical","");var Q=X.get("line","auto");Q==="auto"&&Qo.line===-1&&(Q=-1),U.line=Q,U.lineAlign=X.get("lineAlign","start"),U.snapToLines=X.get("snapToLines",!0),U.size=X.get("size",100),U.align=X.get("align",yo);var q=X.get("position","auto");q==="auto"&&Qo.position===50&&(q=U.align==="start"||U.align==="left"?0:U.align==="end"||U.align==="right"?100:50),U.position=q}(N,R)}function Fl(N){return N.replace(/<br(?: \/)?>/gi,`
`)}var ec=function(){function N(){this.state="INITIAL",this.buffer="",this.decoder=new Qh,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var R=N.prototype;return R.parse=function(a){var h=this;function b(){var Q=h.buffer,q=0;for(Q=Fl(Q);q<Q.length&&Q[q]!=="\r"&&Q[q]!==`
`;)++q;var oe=Q.slice(0,q);return Q[q]==="\r"&&++q,Q[q]===`
`&&++q,h.buffer=Q.slice(q),oe}a&&(h.buffer+=h.decoder.decode(a,{stream:!0}));try{var A="";if(h.state==="INITIAL"){if(!/\r\n|\n/.test(h.buffer))return this;var M=(A=b()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(M==null||!M[0])throw new Error("Malformed WebVTT signature.");h.state="HEADER"}for(var U=!1;h.buffer;){if(!/\r\n|\n/.test(h.buffer))return this;switch(U?U=!1:A=b(),h.state){case"HEADER":/:/.test(A)?Qn(A,function(Q,q){},/:/):A||(h.state="ID");continue;case"NOTE":A||(h.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(A)){h.state="NOTE";break}if(!A)continue;if(h.cue=new Zo(0,0,""),h.state="CUE",A.indexOf("-->")===-1){h.cue.id=A;continue}case"CUE":if(!h.cue){h.state="BADCUE";continue}try{qh(A,h.cue,h.regionList)}catch{h.cue=null,h.state="BADCUE";continue}h.state="CUETEXT";continue;case"CUETEXT":var X=A.indexOf("-->")!==-1;if(!A||X&&(U=!0)){h.oncue&&h.cue&&h.oncue(h.cue),h.cue=null,h.state="ID";continue}if(h.cue===null)continue;h.cue.text&&(h.cue.text+=`
`),h.cue.text+=A;continue;case"BADCUE":A||(h.state="ID")}}}catch{h.state==="CUETEXT"&&h.cue&&h.oncue&&h.oncue(h.cue),h.cue=null,h.state=h.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},R.flush=function(){var a=this;try{if((a.cue||a.state==="HEADER")&&(a.buffer+=`

`,a.parse()),a.state==="INITIAL"||a.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(h){a.onparsingerror&&a.onparsingerror(h)}return a.onflush&&a.onflush(),this},N}(),Ks=/\r\n|\n\r|\n|\r/g,Jo=function(N,R,a){return a===void 0&&(a=0),N.slice(a,a+R.length)===R},qo=function(N){for(var R=5381,a=N.length;a;)R=33*R^N.charCodeAt(--a);return(R>>>0).toString()};function mn(N,R,a){return qo(N.toString())+qo(R.toString())+qo(a)}function tc(N,R,a,h,b,A,M){var U,X,Q,q=new ec,oe=Be(new Uint8Array(N)).trim().replace(Ks,`
`).split(`
`),pe=[],me=R?(U=R.baseTime,(X=R.timescale)===void 0&&(X=1),ya(U,9e4,1/X)):0,be="00:00.000",Se=0,Re=0,ye=!0;q.oncue=function(Ce){var $e=a[h],He=a.ccOffset,Ze=(Se-me)/9e4;if($e!=null&&$e.new&&(Re!==void 0?He=a.ccOffset=$e.start:function(dt,gt,Pt){var xt=dt[gt],Wt=dt[xt.prevCC];if(!Wt||!Wt.new&&xt.new)return dt.ccOffset=dt.presentationOffset=xt.start,void(xt.new=!1);for(;(Qt=Wt)!=null&&Qt.new;){var Qt;dt.ccOffset+=xt.start-Wt.start,xt.new=!1,Wt=dt[(xt=Wt).prevCC]}dt.presentationOffset=Pt}(a,h,Ze)),Ze){if(!R)return void(Q=new Error("Missing initPTS for VTT MPEGTS"));He=Ze-a.presentationOffset}var lt=Ce.endTime-Ce.startTime,ht=Si(9e4*(Ce.startTime+He-Re),9e4*b)/9e4;Ce.startTime=Math.max(ht,0),Ce.endTime=Math.max(ht+lt,0);var wt=Ce.text.trim();Ce.text=decodeURIComponent(encodeURIComponent(wt)),Ce.id||(Ce.id=mn(Ce.startTime,Ce.endTime,wt)),Ce.endTime>0&&pe.push(Ce)},q.onparsingerror=function(Ce){Q=Ce},q.onflush=function(){Q?M(Q):A(pe)},oe.forEach(function(Ce){if(ye){if(Jo(Ce,"X-TIMESTAMP-MAP=")){ye=!1,Ce.slice(16).split(",").forEach(function($e){Jo($e,"LOCAL:")?be=$e.slice(6):Jo($e,"MPEGTS:")&&(Se=parseInt($e.slice(7)))});try{Re=function($e){var He=parseInt($e.slice(-3)),Ze=parseInt($e.slice(-6,-4)),lt=parseInt($e.slice(-9,-7)),ht=$e.length>9?parseInt($e.substring(0,$e.indexOf(":"))):0;if(!(x(He)&&x(Ze)&&x(lt)&&x(ht)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+$e);return He+=1e3*Ze,(He+=6e4*lt)+36e5*ht}(be)/1e3}catch($e){Q=$e}return}Ce===""&&(ye=!1)}q.parse(Ce+`
`)}),q.flush()}var el="stpp.ttml.im1t",Ul=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,jl=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,rc={left:"start",center:"center",right:"end",start:"start",end:"end"};function tl(N,R,a,h){var b=It(new Uint8Array(N),["mdat"]);if(b.length!==0){var A,M,U,X,Q=b.map(function(oe){return Be(oe)}),q=(A=R.baseTime,M=1,(U=R.timescale)===void 0&&(U=1),X===void 0&&(X=!1),ya(A,M,1/U,X));try{Q.forEach(function(oe){return a(function(pe,me){var be=new DOMParser().parseFromString(pe,"text/xml").getElementsByTagName("tt")[0];if(!be)throw new Error("Invalid ttml");var Se={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},Re=Object.keys(Se).reduce(function(Ze,lt){return Ze[lt]=be.getAttribute("ttp:"+lt)||Se[lt],Ze},{}),ye=be.getAttribute("xml:space")!=="preserve",Ce=zl(wo(be,"styling","style")),$e=zl(wo(be,"layout","region")),He=wo(be,"body","[begin]");return[].map.call(He,function(Ze){var lt=Hl(Ze,ye);if(!lt||!Ze.hasAttribute("begin"))return null;var ht=Ca(Ze.getAttribute("begin"),Re),wt=Ca(Ze.getAttribute("dur"),Re),dt=Ca(Ze.getAttribute("end"),Re);if(ht===null)throw Aa(Ze);if(dt===null){if(wt===null)throw Aa(Ze);dt=ht+wt}var gt=new Zo(ht-me,dt-me,lt);gt.id=mn(gt.startTime,gt.endTime,gt.text);var Pt=function(Qt,Vt,Gt){var Jt="http://www.w3.org/ns/ttml#styling",Kt=null,kt=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],yr=Qt!=null&&Qt.hasAttribute("style")?Qt.getAttribute("style"):null;return yr&&Gt.hasOwnProperty(yr)&&(Kt=Gt[yr]),kt.reduce(function(kr,Hr){var Qi=Ka(Vt,Jt,Hr)||Ka(Qt,Jt,Hr)||Ka(Kt,Jt,Hr);return Qi&&(kr[Hr]=Qi),kr},{})}($e[Ze.getAttribute("region")],Ce[Ze.getAttribute("style")],Ce),xt=Pt.textAlign;if(xt){var Wt=rc[xt];Wt&&(gt.lineAlign=Wt),gt.align=xt}return t(gt,Pt),gt}).filter(function(Ze){return Ze!==null})}(oe,q))})}catch(oe){h(oe)}}else h(new Error("Could not parse IMSC1 mdat"))}function wo(N,R,a){var h=N.getElementsByTagName(R)[0];return h?[].slice.call(h.querySelectorAll(a)):[]}function zl(N){return N.reduce(function(R,a){var h=a.getAttribute("xml:id");return h&&(R[h]=a),R},{})}function Hl(N,R){return[].slice.call(N.childNodes).reduce(function(a,h,b){var A;return h.nodeName==="br"&&b?a+`
`:(A=h.childNodes)!=null&&A.length?Hl(h,R):R?a+h.textContent.trim().replace(/\s+/g," "):a+h.textContent},"")}function Ka(N,R,a){return N&&N.hasAttributeNS(R,a)?N.getAttributeNS(R,a):null}function Aa(N){return new Error("Could not parse ttml timestamp "+N)}function Ca(N,R){if(!N)return null;var a=Bl(N);return a===null&&(Ul.test(N)?a=function(h,b){var A=Ul.exec(h),M=(0|A[4])+(0|A[5])/b.subFrameRate;return 3600*(0|A[1])+60*(0|A[2])+(0|A[3])+M/b.frameRate}(N,R):jl.test(N)&&(a=function(h,b){var A=jl.exec(h),M=Number(A[1]);switch(A[2]){case"h":return 3600*M;case"m":return 60*M;case"ms":return 1e3*M;case"f":return M/b.frameRate;case"t":return M/b.tickRate}return M}(N,R))),a}var ic=function(){function N(a){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=a,this.config=a.config,this.Cues=a.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var h=new bo(this,"textTrack1"),b=new bo(this,"textTrack2"),A=new bo(this,"textTrack3"),M=new bo(this,"textTrack4");this.cea608Parser1=new Nl(1,h,b),this.cea608Parser2=new Nl(3,A,M)}a.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this),a.on(w.MEDIA_DETACHING,this.onMediaDetaching,this),a.on(w.MANIFEST_LOADING,this.onManifestLoading,this),a.on(w.MANIFEST_LOADED,this.onManifestLoaded,this),a.on(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),a.on(w.FRAG_LOADING,this.onFragLoading,this),a.on(w.FRAG_LOADED,this.onFragLoaded,this),a.on(w.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),a.on(w.FRAG_DECRYPTED,this.onFragDecrypted,this),a.on(w.INIT_PTS_FOUND,this.onInitPtsFound,this),a.on(w.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),a.on(w.BUFFER_FLUSHING,this.onBufferFlushing,this)}var R=N.prototype;return R.destroy=function(){var a=this.hls;a.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this),a.off(w.MEDIA_DETACHING,this.onMediaDetaching,this),a.off(w.MANIFEST_LOADING,this.onManifestLoading,this),a.off(w.MANIFEST_LOADED,this.onManifestLoaded,this),a.off(w.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),a.off(w.FRAG_LOADING,this.onFragLoading,this),a.off(w.FRAG_LOADED,this.onFragLoaded,this),a.off(w.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),a.off(w.FRAG_DECRYPTED,this.onFragDecrypted,this),a.off(w.INIT_PTS_FOUND,this.onInitPtsFound,this),a.off(w.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),a.off(w.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},R.addCues=function(a,h,b,A,M){for(var U,X,Q,q,oe=!1,pe=M.length;pe--;){var me=M[pe],be=(U=me[0],X=me[1],Q=h,q=b,Math.min(X,q)-Math.max(U,Q));if(be>=0&&(me[0]=Math.min(me[0],h),me[1]=Math.max(me[1],b),oe=!0,be/(b-h)>.5))return}if(oe||M.push([h,b]),this.config.renderTextTracksNatively){var Se=this.captionsTracks[a];this.Cues.newCue(Se,h,b,A)}else{var Re=this.Cues.newCue(null,h,b,A);this.hls.trigger(w.CUES_PARSED,{type:"captions",cues:Re,track:a})}},R.onInitPtsFound=function(a,h){var b=this,A=h.frag,M=h.id,U=h.initPTS,X=h.timescale,Q=this.unparsedVttFrags;M==="main"&&(this.initPTS[A.cc]={baseTime:U,timescale:X}),Q.length&&(this.unparsedVttFrags=[],Q.forEach(function(q){b.onFragLoaded(w.FRAG_LOADED,q)}))},R.getExistingTrack=function(a){var h=this.media;if(h)for(var b=0;b<h.textTracks.length;b++){var A=h.textTracks[b];if(A[a])return A}return null},R.createCaptionsTrack=function(a){this.config.renderTextTracksNatively?this.createNativeTrack(a):this.createNonNativeTrack(a)},R.createNativeTrack=function(a){if(!this.captionsTracks[a]){var h=this.captionsProperties,b=this.captionsTracks,A=this.media,M=h[a],U=M.label,X=M.languageCode,Q=this.getExistingTrack(a);if(Q)b[a]=Q,en(b[a]),la(b[a],A);else{var q=this.createTextTrack("captions",U,X);q&&(q[a]=!0,b[a]=q)}}},R.createNonNativeTrack=function(a){if(!this.nonNativeCaptionsTracks[a]){var h=this.captionsProperties[a];if(h){var b={_id:a,label:h.label,kind:"captions",default:!!h.media&&!!h.media.default,closedCaptions:h.media};this.nonNativeCaptionsTracks[a]=b,this.hls.trigger(w.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[b]})}}},R.createTextTrack=function(a,h,b){var A=this.media;if(A)return A.addTextTrack(a,h,b)},R.onMediaAttaching=function(a,h){this.media=h.media,this._cleanTracks()},R.onMediaDetaching=function(){var a=this.captionsTracks;Object.keys(a).forEach(function(h){en(a[h]),delete a[h]}),this.nonNativeCaptionsTracks={}},R.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},R._cleanTracks=function(){var a=this.media;if(a){var h=a.textTracks;if(h)for(var b=0;b<h.length;b++)en(h[b])}},R.onSubtitleTracksUpdated=function(a,h){var b=this,A=h.subtitleTracks||[],M=A.some(function(Q){return Q.textCodec===el});if(this.config.enableWebVTT||M&&this.config.enableIMSC1){if(mo(this.tracks,A))return void(this.tracks=A);if(this.textTracks=[],this.tracks=A,this.config.renderTextTracksNatively){var U=this.media?this.media.textTracks:null;this.tracks.forEach(function(Q,q){var oe;if(U&&q<U.length){for(var pe=null,me=0;me<U.length;me++)if($l(U[me],Q)){pe=U[me];break}pe&&(oe=pe)}if(oe)en(oe);else{var be=b._captionsOrSubtitlesFromCharacteristics(Q);(oe=b.createTextTrack(be,Q.name,Q.lang))&&(oe.mode="disabled")}oe&&(oe.groupId=Q.groupId,b.textTracks.push(oe))})}else if(this.tracks.length){var X=this.tracks.map(function(Q){return{label:Q.name,kind:Q.type.toLowerCase(),default:Q.default,subtitleTrack:Q}});this.hls.trigger(w.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:X})}}},R._captionsOrSubtitlesFromCharacteristics=function(a){if(a.attrs.CHARACTERISTICS){var h=/transcribes-spoken-dialog/gi.test(a.attrs.CHARACTERISTICS),b=/describes-music-and-sound/gi.test(a.attrs.CHARACTERISTICS);if(h&&b)return"captions"}return"subtitles"},R.onManifestLoaded=function(a,h){var b=this;this.config.enableCEA708Captions&&h.captions&&h.captions.forEach(function(A){var M=/(?:CC|SERVICE)([1-4])/.exec(A.instreamId);if(M){var U="textTrack"+M[1],X=b.captionsProperties[U];X&&(X.label=A.name,A.lang&&(X.languageCode=A.lang),X.media=A)}})},R.closedCaptionsForLevel=function(a){var h=this.hls.levels[a.level];return h==null?void 0:h.attrs["CLOSED-CAPTIONS"]},R.onFragLoading=function(a,h){var b=this.cea608Parser1,A=this.cea608Parser2,M=this.lastSn,U=this.lastPartIndex;if(this.enabled&&b&&A&&h.frag.type===gr){var X,Q,q=h.frag.sn,oe=(X=h==null||(Q=h.part)==null?void 0:Q.index)!=null?X:-1;q===M+1||q===M&&oe===U+1||(b.reset(),A.reset()),this.lastSn=q,this.lastPartIndex=oe}},R.onFragLoaded=function(a,h){var b=h.frag,A=h.payload;if(b.type===ji)if(A.byteLength){var M=b.decryptdata,U="stats"in h;if(M==null||!M.encrypted||U){var X=this.tracks[b.level],Q=this.vttCCs;Q[b.cc]||(Q[b.cc]={start:b.start,prevCC:this.prevCC,new:!0},this.prevCC=b.cc),X&&X.textCodec===el?this._parseIMSC1(b,A):this._parseVTTs(h)}}else this.hls.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:b,error:new Error("Empty subtitle payload")})},R._parseIMSC1=function(a,h){var b=this,A=this.hls;tl(h,this.initPTS[a.cc],function(M){b._appendCues(M,a.level),A.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:a})},function(M){W.log("Failed to parse IMSC1: "+M),A.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a,error:M})})},R._parseVTTs=function(a){var h,b=this,A=a.frag,M=a.payload,U=this.initPTS,X=this.unparsedVttFrags,Q=U.length-1;if(U[A.cc]||Q!==-1){var q=this.hls;tc((h=A.initSegment)!=null&&h.data?hr(A.initSegment.data,new Uint8Array(M)):M,this.initPTS[A.cc],this.vttCCs,A.cc,A.start,function(oe){b._appendCues(oe,A.level),q.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:A})},function(oe){var pe=oe.message==="Missing initPTS for VTT MPEGTS";pe?X.push(a):b._fallbackToIMSC1(A,M),W.log("Failed to parse VTT cue: "+oe),pe&&Q>A.cc||q.trigger(w.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:A,error:oe})})}else X.push(a)},R._fallbackToIMSC1=function(a,h){var b=this,A=this.tracks[a.level];A.textCodec||tl(h,this.initPTS[a.cc],function(){A.textCodec=el,b._parseIMSC1(a,h)},function(){A.textCodec="wvtt"})},R._appendCues=function(a,h){var b=this.hls;if(this.config.renderTextTracksNatively){var A=this.textTracks[h];if(!A||A.mode==="disabled")return;a.forEach(function(X){return Ps(A,X)})}else{var M=this.tracks[h];if(!M)return;var U=M.default?"default":"subtitles"+h;b.trigger(w.CUES_PARSED,{type:"subtitles",cues:a,track:U})}},R.onFragDecrypted=function(a,h){h.frag.type===ji&&this.onFragLoaded(w.FRAG_LOADED,h)},R.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},R.onFragParsingUserdata=function(a,h){var b=this.cea608Parser1,A=this.cea608Parser2;if(this.enabled&&b&&A){var M=h.frag,U=h.samples;if(M.type!==gr||this.closedCaptionsForLevel(M)!=="NONE")for(var X=0;X<U.length;X++){var Q=U[X].bytes;if(Q){var q=this.extractCea608Data(Q);b.addData(U[X].pts,q[0]),A.addData(U[X].pts,q[1])}}}},R.onBufferFlushing=function(a,h){var b=h.startOffset,A=h.endOffset,M=h.endOffsetSubtitles,U=h.type,X=this.media;if(X&&!(X.currentTime<A)){if(!U||U==="video"){var Q=this.captionsTracks;Object.keys(Q).forEach(function(oe){return Wn(Q[oe],b,A)})}if(this.config.renderTextTracksNatively&&b===0&&M!==void 0){var q=this.textTracks;Object.keys(q).forEach(function(oe){return Wn(q[oe],b,M)})}}},R.extractCea608Data=function(a){for(var h=[[],[]],b=31&a[0],A=2,M=0;M<b;M++){var U=a[A++],X=127&a[A++],Q=127&a[A++];if((X!==0||Q!==0)&&4&U){var q=3&U;q!==0&&q!==1||(h[q].push(X),h[q].push(Q))}}return h},N}();function $l(N,R){return!!N&&N.label===R.name&&!(N.textTrack1||N.textTrack2)}var nc=function(){function N(a){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=a,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var R=N.prototype;return R.setStreamController=function(a){this.streamController=a},R.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},R.registerListeners=function(){var a=this.hls;a.on(w.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),a.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this),a.on(w.MANIFEST_PARSED,this.onManifestParsed,this),a.on(w.BUFFER_CODECS,this.onBufferCodecs,this),a.on(w.MEDIA_DETACHING,this.onMediaDetaching,this)},R.unregisterListener=function(){var a=this.hls;a.off(w.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),a.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this),a.off(w.MANIFEST_PARSED,this.onManifestParsed,this),a.off(w.BUFFER_CODECS,this.onBufferCodecs,this),a.off(w.MEDIA_DETACHING,this.onMediaDetaching,this)},R.onFpsDropLevelCapping=function(a,h){var b=this.hls.levels[h.droppedLevel];this.isLevelAllowed(b)&&this.restrictedLevels.push({bitrate:b.bitrate,height:b.height,width:b.width})},R.onMediaAttaching=function(a,h){this.media=h.media instanceof HTMLVideoElement?h.media:null,this.clientRect=null},R.onManifestParsed=function(a,h){var b=this.hls;this.restrictedLevels=[],this.firstLevel=h.firstLevel,b.config.capLevelToPlayerSize&&h.video&&this.startCapping()},R.onBufferCodecs=function(a,h){this.hls.config.capLevelToPlayerSize&&h.video&&this.startCapping()},R.onMediaDetaching=function(){this.stopCapping()},R.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var a=this.hls.levels;if(a.length){var h=this.hls;h.autoLevelCapping=this.getMaxLevel(a.length-1),h.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=h.autoLevelCapping}}},R.getMaxLevel=function(a){var h=this,b=this.hls.levels;if(!b.length)return-1;var A=b.filter(function(M,U){return h.isLevelAllowed(M)&&U<=a});return this.clientRect=null,N.getMaxLevelByMediaSize(A,this.mediaWidth,this.mediaHeight)},R.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},R.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},R.getDimensions=function(){if(this.clientRect)return this.clientRect;var a=this.media,h={width:0,height:0};if(a){var b=a.getBoundingClientRect();h.width=b.width,h.height=b.height,h.width||h.height||(h.width=b.right-b.left||a.width||0,h.height=b.bottom-b.top||a.height||0)}return this.clientRect=h,h},R.isLevelAllowed=function(a){return!this.restrictedLevels.some(function(h){return a.bitrate===h.bitrate&&a.width===h.width&&a.height===h.height})},N.getMaxLevelByMediaSize=function(a,h,b){if(a==null||!a.length)return-1;for(var A,M,U=a.length-1,X=0;X<a.length;X+=1){var Q=a[X];if((Q.width>=h||Q.height>=b)&&(A=Q,!(M=a[X+1])||A.width!==M.width||A.height!==M.height)){U=X;break}}return U},c(N,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var a=1;if(!this.hls.config.ignoreDevicePixelRatio)try{a=self.devicePixelRatio}catch{}return a}}]),N}(),ns=function(){function N(a){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=a,this.registerListeners()}var R=N.prototype;return R.setStreamController=function(a){this.streamController=a},R.registerListeners=function(){this.hls.on(w.MEDIA_ATTACHING,this.onMediaAttaching,this)},R.unregisterListeners=function(){this.hls.off(w.MEDIA_ATTACHING,this.onMediaAttaching,this)},R.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},R.onMediaAttaching=function(a,h){var b=this.hls.config;if(b.capLevelOnFPSDrop){var A=h.media instanceof self.HTMLVideoElement?h.media:null;this.media=A,A&&typeof A.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),b.fpsDroppedMonitoringPeriod)}},R.checkFPS=function(a,h,b){var A=performance.now();if(h){if(this.lastTime){var M=A-this.lastTime,U=b-this.lastDroppedFrames,X=h-this.lastDecodedFrames,Q=1e3*U/M,q=this.hls;if(q.trigger(w.FPS_DROP,{currentDropped:U,currentDecoded:X,totalDroppedFrames:b}),Q>0&&U>q.config.fpsDroppedMonitoringThreshold*X){var oe=q.currentLevel;W.warn("drop FPS ratio greater than max allowed value for currentLevel: "+oe),oe>0&&(q.autoLevelCapping===-1||q.autoLevelCapping>=oe)&&(oe-=1,q.trigger(w.FPS_DROP_LEVEL_CAPPING,{level:oe,droppedLevel:q.currentLevel}),q.autoLevelCapping=oe,this.streamController.nextLevelSwitch())}}this.lastTime=A,this.lastDroppedFrames=b,this.lastDecodedFrames=h}},R.checkFPSInterval=function(){var a=this.media;if(a)if(this.isVideoPlaybackQualityAvailable){var h=a.getVideoPlaybackQuality();this.checkFPS(a,h.totalVideoFrames,h.droppedVideoFrames)}else this.checkFPS(a,a.webkitDecodedFrameCount,a.webkitDroppedFrameCount)},N}(),ka="[eme]",Es=function(){function N(a){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=N.CDMCleanupPromise?[N.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=W.debug.bind(W,ka),this.log=W.log.bind(W,ka),this.warn=W.warn.bind(W,ka),this.error=W.error.bind(W,ka),this.hls=a,this.config=a.config,this.registerListeners()}var R=N.prototype;return R.destroy=function(){this.unregisterListeners(),this.onMediaDetached();var a=this.config;a.requestMediaKeySystemAccessFunc=null,a.licenseXhrSetup=a.licenseResponseCallback=void 0,a.drmSystems=a.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null},R.registerListeners=function(){this.hls.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(w.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(w.MANIFEST_LOADED,this.onManifestLoaded,this)},R.unregisterListeners=function(){this.hls.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(w.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(w.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(w.MANIFEST_LOADED,this.onManifestLoaded,this)},R.getLicenseServerUrl=function(a){var h=this.config,b=h.drmSystems,A=h.widevineLicenseUrl,M=b[a];if(M)return M.licenseUrl;if(a===De.WIDEVINE&&A)return A;throw new Error('no license server URL configured for key-system "'+a+'"')},R.getServerCertificateUrl=function(a){var h=this.config.drmSystems[a];if(h)return h.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+a+'"]')},R.attemptKeySystemAccess=function(a){var h=this,b=this.hls.levels,A=function(X,Q,q){return!!X&&q.indexOf(X)===Q},M=b.map(function(X){return X.audioCodec}).filter(A),U=b.map(function(X){return X.videoCodec}).filter(A);return M.length+U.length===0&&U.push("avc1.42e01e"),new Promise(function(X,Q){(function q(oe){var pe=oe.shift();h.getMediaKeysPromise(pe,M,U).then(function(me){return X({keySystem:pe,mediaKeys:me})}).catch(function(me){oe.length?q(oe):Q(me instanceof si?me:new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_ACCESS,error:me,fatal:!0},me.message))})})(a)})},R.requestMediaKeySystemAccess=function(a,h){var b=this.config.requestMediaKeySystemAccessFunc;if(typeof b!="function"){var A="Configured requestMediaKeySystemAccess is not a function "+b;return se===null&&self.location.protocol==="http:"&&(A="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(A))}return b(a,h)},R.getMediaKeysPromise=function(a,h,b){var A=this,M=function(q,oe,pe,me){var be;switch(q){case De.FAIRPLAY:be=["cenc","sinf"];break;case De.WIDEVINE:case De.PLAYREADY:be=["cenc"];break;case De.CLEARKEY:be=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+q)}return function(Se,Re,ye,Ce){return[{initDataTypes:Se,persistentState:Ce.persistentState||"not-allowed",distinctiveIdentifier:Ce.distinctiveIdentifier||"not-allowed",sessionTypes:Ce.sessionTypes||[Ce.sessionType||"temporary"],audioCapabilities:Re.map(function($e){return{contentType:'audio/mp4; codecs="'+$e+'"',robustness:Ce.audioRobustness||"",encryptionScheme:Ce.audioEncryptionScheme||null}}),videoCapabilities:ye.map(function($e){return{contentType:'video/mp4; codecs="'+$e+'"',robustness:Ce.videoRobustness||"",encryptionScheme:Ce.videoEncryptionScheme||null}})}]}(be,oe,pe,me)}(a,h,b,this.config.drmSystemOptions),U=this.keySystemAccessPromises[a],X=U==null?void 0:U.keySystemAccess;if(!X){this.log('Requesting encrypted media "'+a+'" key-system access with config: '+JSON.stringify(M)),X=this.requestMediaKeySystemAccess(a,M);var Q=this.keySystemAccessPromises[a]={keySystemAccess:X};return X.catch(function(q){A.log('Failed to obtain access to key-system "'+a+'": '+q)}),X.then(function(q){A.log('Access for key-system "'+q.keySystem+'" obtained');var oe=A.fetchServerCertificate(a);return A.log('Create media-keys for "'+a+'"'),Q.mediaKeys=q.createMediaKeys().then(function(pe){return A.log('Media-keys created for "'+a+'"'),oe.then(function(me){return me?A.setMediaKeysServerCertificate(pe,a,me):pe})}),Q.mediaKeys.catch(function(pe){A.error('Failed to create media-keys for "'+a+'"}: '+pe)}),Q.mediaKeys})}return X.then(function(){return U.mediaKeys})},R.createMediaKeySessionContext=function(a){var h=a.decryptdata,b=a.keySystem,A=a.mediaKeys;this.log('Creating key-system session "'+b+'" keyId: '+rt(h.keyId||[]));var M=A.createSession(),U={decryptdata:h,keySystem:b,mediaKeys:A,mediaKeysSession:M,keyStatus:"status-pending"};return this.mediaKeySessions.push(U),U},R.renewKeySession=function(a){var h=a.decryptdata;if(h.pssh){var b=this.createMediaKeySessionContext(a),A=this.getKeyIdString(h);this.keyIdToKeySessionPromise[A]=this.generateRequestWithPreferredKeySession(b,"cenc",h.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(a)},R.getKeyIdString=function(a){if(!a)throw new Error("Could not read keyId of undefined decryptdata");if(a.keyId===null)throw new Error("keyId is null");return rt(a.keyId)},R.updateKeySession=function(a,h){var b,A=a.mediaKeysSession;return this.log('Updating key-session "'+A.sessionId+'" for keyID '+rt(((b=a.decryptdata)==null?void 0:b.keyId)||[])+`
      } (data length: `+(h&&h.byteLength)+")"),A.update(h)},R.selectKeySystemFormat=function(a){var h=Object.keys(a.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+a.sn+" "+a.type+": "+a.level+") key formats "+h.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(h)),this.keyFormatPromise},R.getKeyFormatPromise=function(a){var h=this;return new Promise(function(b,A){var M=ce(h.config),U=a.map(_e).filter(function(X){return!!X&&M.indexOf(X)!==-1});return h.getKeySystemSelectionPromise(U).then(function(X){var Q=X.keySystem,q=de(Q);q?b(q):A(new Error('Unable to find format for key-system "'+Q+'"'))}).catch(A)})},R.loadKey=function(a){var h=this,b=a.keyInfo.decryptdata,A=this.getKeyIdString(b),M="(keyId: "+A+' format: "'+b.keyFormat+'" method: '+b.method+" uri: "+b.uri+")";this.log("Starting session for key "+M);var U=this.keyIdToKeySessionPromise[A];return U||(U=this.keyIdToKeySessionPromise[A]=this.getKeySystemForKeyPromise(b).then(function(X){var Q=X.keySystem,q=X.mediaKeys;return h.throwIfDestroyed(),h.log("Handle encrypted media sn: "+a.frag.sn+" "+a.frag.type+": "+a.frag.level+" using key "+M),h.attemptSetMediaKeys(Q,q).then(function(){h.throwIfDestroyed();var oe=h.createMediaKeySessionContext({keySystem:Q,mediaKeys:q,decryptdata:b});return h.generateRequestWithPreferredKeySession(oe,"cenc",b.pssh,"playlist-key")})})).catch(function(X){return h.handleError(X)}),U},R.throwIfDestroyed=function(a){if(!this.hls)throw new Error("invalid state")},R.handleError=function(a){this.hls&&(this.error(a.message),a instanceof si?this.hls.trigger(w.ERROR,a.data):this.hls.trigger(w.ERROR,{type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_KEYS,error:a,fatal:!0}))},R.getKeySystemForKeyPromise=function(a){var h=this.getKeyIdString(a),b=this.keyIdToKeySessionPromise[h];if(!b){var A=_e(a.keyFormat),M=A?[A]:ce(this.config);return this.attemptKeySystemAccess(M)}return b},R.getKeySystemSelectionPromise=function(a){if(a.length||(a=ce(this.config)),a.length===0)throw new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(a)},R._onMediaEncrypted=function(a){var h=this,b=a.initDataType,A=a.initData;if(this.debug('"'+a.type+'" event: init data type: "'+b+'"'),A!==null){var M,U;if(b==="sinf"&&this.config.drmSystems[De.FAIRPLAY]){var X=Ct(new Uint8Array(A));try{var Q=Ie(JSON.parse(X).sinf),q=pr(new Uint8Array(Q));if(!q)return;M=q.subarray(8,24),U=De.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var oe=function($e){if(!($e instanceof ArrayBuffer)||$e.byteLength<32)return null;var He={version:0,systemId:"",kids:null,data:null},Ze=new DataView($e),lt=Ze.getUint32(0);if($e.byteLength!==lt&&lt>44||Ze.getUint32(4)!==1886614376||(He.version=Ze.getUint32(8)>>>24,He.version>1))return null;He.systemId=rt(new Uint8Array($e,12,16));var ht=Ze.getUint32(28);if(He.version===0){if(lt-32<ht)return null;He.data=new Uint8Array($e,32,ht)}else if(He.version===1){He.kids=[];for(var wt=0;wt<ht;wt++)He.kids.push(new Uint8Array($e,32+16*wt,16))}return He}(A);if(oe===null)return;oe.version===0&&oe.systemId===he&&oe.data&&(M=oe.data.subarray(8,24)),U=function($e){if($e===he)return De.WIDEVINE}(oe.systemId)}if(U&&M){for(var pe=rt(M),me=this.keyIdToKeySessionPromise,be=this.mediaKeySessions,Se=me[pe],Re=function(){var $e=be[ye],He=$e.decryptdata;if(He.pssh||!He.keyId)return"continue";var Ze=rt(He.keyId);return pe===Ze||He.uri.replace(/-/g,"").indexOf(pe)!==-1?(Se=me[Ze],delete me[Ze],He.pssh=new Uint8Array(A),He.keyId=M,Se=me[pe]=Se.then(function(){return h.generateRequestWithPreferredKeySession($e,b,A,"encrypted-event-key-match")}),"break"):void 0},ye=0;ye<be.length;ye++){var Ce=Re();if(Ce!=="continue"&&Ce==="break")break}Se||(Se=me[pe]=this.getKeySystemSelectionPromise([U]).then(function($e){var He,Ze=$e.keySystem,lt=$e.mediaKeys;h.throwIfDestroyed();var ht=new fr("ISO-23001-7",pe,(He=de(Ze))!=null?He:"");return ht.pssh=new Uint8Array(A),ht.keyId=M,h.attemptSetMediaKeys(Ze,lt).then(function(){h.throwIfDestroyed();var wt=h.createMediaKeySessionContext({decryptdata:ht,keySystem:Ze,mediaKeys:lt});return h.generateRequestWithPreferredKeySession(wt,b,A,"encrypted-event-no-match")})})),Se.catch(function($e){return h.handleError($e)})}}},R._onWaitingForKey=function(a){this.log('"'+a.type+'" event')},R.attemptSetMediaKeys=function(a,h){var b=this,A=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+a+'"');var M=Promise.all(A).then(function(){if(!b.media)throw new Error("Attempted to set mediaKeys without media element attached");return b.media.setMediaKeys(h)});return this.setMediaKeysQueue.push(M),M.then(function(){b.log('Media-keys set for "'+a+'"'),A.push(M),b.setMediaKeysQueue=b.setMediaKeysQueue.filter(function(U){return A.indexOf(U)===-1})})},R.generateRequestWithPreferredKeySession=function(a,h,b,A){var M,U,X=this,Q=(M=this.config.drmSystems)==null||(U=M[a.keySystem])==null?void 0:U.generateRequest;if(Q)try{var q=Q.call(this.hls,h,b,a);if(!q)throw new Error("Invalid response from configured generateRequest filter");h=q.initDataType,b=a.decryptdata.pssh=q.initData?new Uint8Array(q.initData):null}catch(Se){var oe;if(this.warn(Se.message),(oe=this.hls)!=null&&oe.config.debug)throw Se}if(b===null)return this.log('Skipping key-session request for "'+A+'" (no initData)'),Promise.resolve(a);var pe=this.getKeyIdString(a.decryptdata);this.log('Generating key-session request for "'+A+'": '+pe+" (init data type: "+h+" length: "+(b?b.byteLength:null)+")");var me=new Vs;a.mediaKeysSession.onmessage=function(Se){var Re=a.mediaKeysSession;if(Re){var ye=Se.messageType,Ce=Se.message;X.log('"'+ye+'" message event for session "'+Re.sessionId+'" message size: '+Ce.byteLength),ye==="license-request"||ye==="license-renewal"?X.renewLicense(a,Ce).catch(function($e){X.handleError($e),me.emit("error",$e)}):ye==="license-release"?a.keySystem===De.FAIRPLAY&&(X.updateKeySession(a,Ke("acknowledged")),X.removeSession(a)):X.warn('unhandled media key message type "'+ye+'"')}else me.emit("error",new Error("invalid state"))},a.mediaKeysSession.onkeystatuseschange=function(Se){if(a.mediaKeysSession){X.onKeyStatusChange(a);var Re=a.keyStatus;me.emit("keyStatus",Re),Re==="expired"&&(X.warn(a.keySystem+" expired for key "+pe),X.renewKeySession(a))}else me.emit("error",new Error("invalid state"))};var be=new Promise(function(Se,Re){me.on("error",Re),me.on("keyStatus",function(ye){ye.startsWith("usable")?Se():ye==="output-restricted"?Re(new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):ye==="internal-error"?Re(new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+ye+'"')):ye==="expired"?Re(new Error("key expired while generating request")):X.warn('unhandled key status change "'+ye+'"')})});return a.mediaKeysSession.generateRequest(h,b).then(function(){var Se;X.log('Request generated for key-session "'+((Se=a.mediaKeysSession)==null?void 0:Se.sessionId)+'" keyId: '+pe)}).catch(function(Se){throw new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_SESSION,error:Se,fatal:!1},"Error generating key-session request: "+Se)}).then(function(){return be}).catch(function(Se){throw me.removeAllListeners(),X.removeSession(a),Se}).then(function(){return me.removeAllListeners(),a})},R.onKeyStatusChange=function(a){var h=this;a.mediaKeysSession.keyStatuses.forEach(function(b,A){h.log('key status change "'+b+'" for keyStatuses keyId: '+rt("buffer"in A?new Uint8Array(A.buffer,A.byteOffset,A.byteLength):new Uint8Array(A))+" session keyId: "+rt(new Uint8Array(a.decryptdata.keyId||[]))+" uri: "+a.decryptdata.uri),a.keyStatus=b})},R.fetchServerCertificate=function(a){var h=this.config,b=new h.loader(h),A=this.getServerCertificateUrl(a);return A?(this.log('Fetching serverCertificate for "'+a+'"'),new Promise(function(M,U){var X={responseType:"arraybuffer",url:A},Q=h.certLoadPolicy.default,q={loadPolicy:Q,timeout:Q.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},oe={onSuccess:function(pe,me,be,Se){M(pe.data)},onError:function(pe,me,be,Se){U(new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:be,response:f({url:X.url,data:void 0},pe)},'"'+a+'" certificate request failed ('+A+"). Status: "+pe.code+" ("+pe.text+")"))},onTimeout:function(pe,me,be){U(new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:be,response:{url:X.url,data:void 0}},'"'+a+'" certificate request timed out ('+A+")"))},onAbort:function(pe,me,be){U(new Error("aborted"))}};b.load(X,q,oe)})):Promise.resolve()},R.setMediaKeysServerCertificate=function(a,h,b){var A=this;return new Promise(function(M,U){a.setServerCertificate(b).then(function(X){A.log("setServerCertificate "+(X?"success":"not supported by CDM")+" ("+(b==null?void 0:b.byteLength)+') on "'+h+'"'),M(a)}).catch(function(X){U(new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:X,fatal:!0},X.message))})})},R.renewLicense=function(a,h){var b=this;return this.requestLicense(a,new Uint8Array(h)).then(function(A){return b.updateKeySession(a,new Uint8Array(A)).catch(function(M){throw new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:M,fatal:!0},M.message)})})},R.setupLicenseXHR=function(a,h,b,A){var M=this,U=this.config.licenseXhrSetup;return U?Promise.resolve().then(function(){if(!b.decryptdata)throw new Error("Key removed");return U.call(M.hls,a,h,b,A)}).catch(function(X){if(!b.decryptdata)throw X;return a.open("POST",h,!0),U.call(M.hls,a,h,b,A)}).then(function(X){return a.readyState||a.open("POST",h,!0),{xhr:a,licenseChallenge:X||A}}):(a.open("POST",h,!0),Promise.resolve({xhr:a,licenseChallenge:A}))},R.requestLicense=function(a,h){var b=this,A=this.config.keyLoadPolicy.default;return new Promise(function(M,U){var X=b.getLicenseServerUrl(a.keySystem);b.log("Sending license request to URL: "+X);var Q=new XMLHttpRequest;Q.responseType="arraybuffer",Q.onreadystatechange=function(){if(!b.hls||!a.mediaKeysSession)return U(new Error("invalid state"));if(Q.readyState===4)if(Q.status===200){b._requestLicenseFailureCount=0;var q=Q.response;b.log("License received "+(q instanceof ArrayBuffer?q.byteLength:q));var oe=b.config.licenseResponseCallback;if(oe)try{q=oe.call(b.hls,Q,X,a)}catch(Se){b.error(Se)}M(q)}else{var pe=A.errorRetry,me=pe?pe.maxNumRetry:0;if(b._requestLicenseFailureCount++,b._requestLicenseFailureCount>me||Q.status>=400&&Q.status<500)U(new si({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:Q,response:{url:X,data:void 0,code:Q.status,text:Q.statusText}},"License Request XHR failed ("+X+"). Status: "+Q.status+" ("+Q.statusText+")"));else{var be=me-b._requestLicenseFailureCount+1;b.warn("Retrying license request, "+be+" attempts left"),b.requestLicense(a,h).then(M,U)}}},a.licenseXhr&&a.licenseXhr.readyState!==XMLHttpRequest.DONE&&a.licenseXhr.abort(),a.licenseXhr=Q,b.setupLicenseXHR(Q,X,a,h).then(function(q){var oe=q.xhr,pe=q.licenseChallenge;oe.send(pe)})})},R.onMediaAttached=function(a,h){if(this.config.emeEnabled){var b=h.media;this.media=b,b.addEventListener("encrypted",this.onMediaEncrypted),b.addEventListener("waitingforkey",this.onWaitingForKey)}},R.onMediaDetached=function(){var a=this,h=this.media,b=this.mediaKeySessions;h&&(h.removeEventListener("encrypted",this.onMediaEncrypted),h.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},fr.clearKeyUriToKeyIdMap();var A=b.length;N.CDMCleanupPromise=Promise.all(b.map(function(M){return a.removeSession(M)}).concat(h==null?void 0:h.setMediaKeys(null).catch(function(M){a.log("Could not clear media keys: "+M+". media.src: "+(h==null?void 0:h.src))}))).then(function(){A&&(a.log("finished closing key sessions and clearing media keys"),b.length=0)}).catch(function(M){a.log("Could not close sessions and clear media keys: "+M+". media.src: "+(h==null?void 0:h.src))})},R.onManifestLoading=function(){this.keyFormatPromise=null},R.onManifestLoaded=function(a,h){var b=h.sessionKeys;if(b&&this.config.emeEnabled&&!this.keyFormatPromise){var A=b.reduce(function(M,U){return M.indexOf(U.keyFormat)===-1&&M.push(U.keyFormat),M},[]);this.log("Selecting key-system from session-keys "+A.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(A)}},R.removeSession=function(a){var h=this,b=a.mediaKeysSession,A=a.licenseXhr;if(b){this.log("Remove licenses and keys and close session "+b.sessionId),b.onmessage=null,b.onkeystatuseschange=null,A&&A.readyState!==XMLHttpRequest.DONE&&A.abort(),a.mediaKeysSession=a.decryptdata=a.licenseXhr=void 0;var M=this.mediaKeySessions.indexOf(a);return M>-1&&this.mediaKeySessions.splice(M,1),b.remove().catch(function(U){h.log("Could not remove session: "+U)}).then(function(){return b.close()}).catch(function(U){h.log("Could not close session: "+U)})}},N}();Es.CDMCleanupPromise=void 0;var si=function(N){function R(a,h){var b;return(b=N.call(this,h)||this).data=void 0,a.error||(a.error=new Error(h)),b.data=a,a.err=a.error,b}return i(R,N),R}(o(Error)),sc="m",Ya="a",_o="v",Ys="av",ss="i",Wl="tt",ac=function(){function N(a){var h=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){h.initialized&&(h.starved=!0),h.buffering=!0},this.onPlaying=function(){h.initialized||(h.initialized=!0),h.buffering=!1},this.applyPlaylistData=function(M){try{h.apply(M,{ot:sc,su:!h.initialized})}catch(U){W.warn("Could not generate manifest CMCD data.",U)}},this.applyFragmentData=function(M){try{var U=M.frag,X=h.hls.levels[U.level],Q=h.getObjectType(U),q={d:1e3*U.duration,ot:Q};Q!==_o&&Q!==Ya&&Q!=Ys||(q.br=X.bitrate/1e3,q.tb=h.getTopBandwidth(Q)/1e3,q.bl=h.getBufferLength(Q)),h.apply(M,q)}catch(oe){W.warn("Could not generate segment CMCD data.",oe)}},this.hls=a;var b=this.config=a.config,A=b.cmcd;A!=null&&(b.pLoader=this.createPlaylistLoader(),b.fLoader=this.createFragmentLoader(),this.sid=A.sessionId||N.uuid(),this.cid=A.contentId,this.useHeaders=A.useHeaders===!0,this.registerListeners())}var R=N.prototype;return R.registerListeners=function(){var a=this.hls;a.on(w.MEDIA_ATTACHED,this.onMediaAttached,this),a.on(w.MEDIA_DETACHED,this.onMediaDetached,this),a.on(w.BUFFER_CREATED,this.onBufferCreated,this)},R.unregisterListeners=function(){var a=this.hls;a.off(w.MEDIA_ATTACHED,this.onMediaAttached,this),a.off(w.MEDIA_DETACHED,this.onMediaDetached,this),a.off(w.BUFFER_CREATED,this.onBufferCreated,this)},R.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},R.onMediaAttached=function(a,h){this.media=h.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},R.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},R.onBufferCreated=function(a,h){var b,A;this.audioBuffer=(b=h.tracks.audio)==null?void 0:b.buffer,this.videoBuffer=(A=h.tracks.video)==null?void 0:A.buffer},R.createData=function(){var a;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:(a=this.media)==null?void 0:a.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},R.apply=function(a,h){h===void 0&&(h={}),t(h,this.createData());var b=h.ot===ss||h.ot===_o||h.ot===Ys;if(this.starved&&b&&(h.bs=!0,h.su=!0,this.starved=!1),h.su==null&&(h.su=this.buffering),this.useHeaders){var A=N.toHeaders(h);if(!Object.keys(A).length)return;a.headers||(a.headers={}),t(a.headers,A)}else{var M=N.toQuery(h);if(!M)return;a.url=N.appendQueryToUri(a.url,M)}},R.getObjectType=function(a){var h=a.type;return h==="subtitle"?Wl:a.sn==="initSegment"?ss:h==="audio"?Ya:h==="main"?this.hls.audioTracks.length?_o:Ys:void 0},R.getTopBandwidth=function(a){var h,b=0,A=this.hls;if(a===Ya)h=A.audioTracks;else{var M=A.maxAutoLevel,U=M>-1?M+1:A.levels.length;h=A.levels.slice(0,U)}for(var X,Q=y(h);!(X=Q()).done;){var q=X.value;q.bitrate>b&&(b=q.bitrate)}return b>0?b:NaN},R.getBufferLength=function(a){var h=this.hls.media,b=a===Ya?this.audioBuffer:this.videoBuffer;return b&&h?1e3*cr.bufferInfo(b,h.currentTime,this.config.maxBufferHole).len:NaN},R.createPlaylistLoader=function(){var a=this.config.pLoader,h=this.applyPlaylistData,b=a||this.config.loader;return function(){function A(U){this.loader=void 0,this.loader=new b(U)}var M=A.prototype;return M.destroy=function(){this.loader.destroy()},M.abort=function(){this.loader.abort()},M.load=function(U,X,Q){h(U),this.loader.load(U,X,Q)},c(A,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),A}()},R.createFragmentLoader=function(){var a=this.config.fLoader,h=this.applyFragmentData,b=a||this.config.loader;return function(){function A(U){this.loader=void 0,this.loader=new b(U)}var M=A.prototype;return M.destroy=function(){this.loader.destroy()},M.abort=function(){this.loader.abort()},M.load=function(U,X,Q){h(U),this.loader.load(U,X,Q)},c(A,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),A}()},N.uuid=function(){var a=URL.createObjectURL(new Blob),h=a.toString();return URL.revokeObjectURL(a),h.slice(h.lastIndexOf("/")+1)},N.serialize=function(a){for(var h,b=[],A=function(Se){return!Number.isNaN(Se)&&Se!=null&&Se!==""&&Se!==!1},M=function(Se){return Math.round(Se)},U=function(Se){return 100*M(Se/100)},X={br:M,d:M,bl:U,dl:U,mtp:U,nor:function(Se){return encodeURIComponent(Se)},rtp:U,tb:M},Q=y(Object.keys(a||{}).sort());!(h=Q()).done;){var q=h.value,oe=a[q];if(A(oe)&&!(q==="v"&&oe===1||q=="pr"&&oe===1)){var pe=X[q];pe&&(oe=pe(oe));var me=typeof oe,be=void 0;be=q==="ot"||q==="sf"||q==="st"?q+"="+oe:me==="boolean"?q:me==="number"?q+"="+oe:q+"="+JSON.stringify(oe),b.push(be)}}return b.join(",")},N.toHeaders=function(a){for(var h={},b=["Object","Request","Session","Status"],A=[{},{},{},{}],M={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},U=0,X=Object.keys(a);U<X.length;U++){var Q=X[U];A[M[Q]!=null?M[Q]:1][Q]=a[Q]}for(var q=0;q<A.length;q++){var oe=N.serialize(A[q]);oe&&(h["CMCD-"+b[q]]=oe)}return h},N.toQuery=function(a){return"CMCD="+encodeURIComponent(N.serialize(a))},N.appendQueryToUri=function(a,h){if(!h)return a;var b=a.includes("?")?"&":"?";return""+a+b+h},N}(),Eo=function(){function N(a){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=a,this.log=W.log.bind(W,"[content-steering]:"),this.registerListeners()}var R=N.prototype;return R.registerListeners=function(){var a=this.hls;a.on(w.MANIFEST_LOADING,this.onManifestLoading,this),a.on(w.MANIFEST_LOADED,this.onManifestLoaded,this),a.on(w.MANIFEST_PARSED,this.onManifestParsed,this),a.on(w.ERROR,this.onError,this)},R.unregisterListeners=function(){var a=this.hls;a&&(a.off(w.MANIFEST_LOADING,this.onManifestLoading,this),a.off(w.MANIFEST_LOADED,this.onManifestLoaded,this),a.off(w.MANIFEST_PARSED,this.onManifestParsed,this),a.off(w.ERROR,this.onError,this))},R.startLoad=function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var a=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,a)}else this.loadSteeringManifest(this.uri)},R.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)},R.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},R.removeLevel=function(a){var h=this.levels;h&&(this.levels=h.filter(function(b){return b!==a}))},R.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},R.onManifestLoaded=function(a,h){var b=h.contentSteering;b!==null&&(this.pathwayId=b.pathwayId,this.uri=b.uri,this.started&&this.startLoad())},R.onManifestParsed=function(a,h){this.audioTracks=h.audioTracks,this.subtitleTracks=h.subtitleTracks},R.onError=function(a,h){var b=h.errorAction;if((b==null?void 0:b.action)===Zt&&b.flags===Yr){var A=this.pathwayPriority,M=this.pathwayId;this.penalizedPathways[M]||(this.penalizedPathways[M]=performance.now()),!A&&this.levels&&(A=this.levels.reduce(function(U,X){return U.indexOf(X.pathwayId)===-1&&U.push(X.pathwayId),U},[])),A&&A.length>1&&(this.updatePathwayPriority(A),b.resolved=this.pathwayId!==M)}},R.filterParsedLevels=function(a){this.levels=a;var h=this.getLevelsForPathway(this.pathwayId);if(h.length===0){var b=a[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+b+'"'),h=this.getLevelsForPathway(b),this.pathwayId=b}return h.length!==a.length?(this.log("Found "+h.length+"/"+a.length+' levels in Pathway "'+this.pathwayId+'"'),h):a},R.getLevelsForPathway=function(a){return this.levels===null?[]:this.levels.filter(function(h){return a===h.pathwayId})},R.updatePathwayPriority=function(a){var h;this.pathwayPriority=a;var b=this.penalizedPathways,A=performance.now();Object.keys(b).forEach(function(oe){A-b[oe]>3e5&&delete b[oe]});for(var M=0;M<a.length;M++){var U=a[M];if(!b[U]){if(U===this.pathwayId)return;var X=this.hls.nextLoadLevel,Q=this.hls.levels[X];if((h=this.getLevelsForPathway(U)).length>0){this.log('Setting Pathway to "'+U+'"'),this.pathwayId=U,this.hls.trigger(w.LEVELS_UPDATED,{levels:h});var q=this.hls.levels[X];Q&&q&&this.levels&&(q.attrs["STABLE-VARIANT-ID"]!==Q.attrs["STABLE-VARIANT-ID"]&&q.bitrate!==Q.bitrate&&this.log("Unstable Pathways change from bitrate "+Q.bitrate+" to "+q.bitrate),this.hls.nextLoadLevel=X);break}}}},R.clonePathways=function(a){var h=this,b=this.levels;if(b){var A={},M={};a.forEach(function(U){var X=U.ID,Q=U["BASE-ID"],q=U["URI-REPLACEMENT"];if(!b.some(function(pe){return pe.pathwayId===X})){var oe=h.getLevelsForPathway(Q).map(function(pe){var me=t({},pe);me.details=void 0,me.url=rl(pe.uri,pe.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",q);var be=new k(pe.attrs);be["PATHWAY-ID"]=X;var Se=be.AUDIO&&be.AUDIO+"_clone_"+X,Re=be.SUBTITLES&&be.SUBTITLES+"_clone_"+X;Se&&(A[be.AUDIO]=Se,be.AUDIO=Se),Re&&(M[be.SUBTITLES]=Re,be.SUBTITLES=Re),me.attrs=be;var ye=new zi(me);return ni(ye,"audio",Se),ni(ye,"text",Re),ye});b.push.apply(b,oe),Vl(h.audioTracks,A,q,X),Vl(h.subtitleTracks,M,q,X)}})}},R.loadSteeringManifest=function(a){var h,b=this,A=this.hls.config,M=A.loader;this.loader&&this.loader.destroy(),this.loader=new M(A);try{h=new self.URL(a)}catch{return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+a)}if(h.protocol!=="data:"){var U=0|(this.hls.bandwidthEstimate||A.abrEwmaDefaultEstimate);h.searchParams.set("_HLS_pathway",this.pathwayId),h.searchParams.set("_HLS_throughput",""+U)}var X={responseType:"json",url:h.href},Q=A.steeringManifestLoadPolicy.default,q=Q.errorRetry||Q.timeoutRetry||{},oe={loadPolicy:Q,timeout:Q.maxLoadTimeMs,maxRetry:q.maxNumRetry||0,retryDelay:q.retryDelayMs||0,maxRetryDelay:q.maxRetryDelayMs||0},pe={onSuccess:function(me,be,Se,Re){b.log('Loaded steering manifest: "'+h+'"');var ye=me.data;if(ye.VERSION===1){b.updated=performance.now(),b.timeToLoad=ye.TTL;var Ce=ye["RELOAD-URI"],$e=ye["PATHWAY-CLONES"],He=ye["PATHWAY-PRIORITY"];if(Ce)try{b.uri=new self.URL(Ce,h).href}catch{return b.enabled=!1,void b.log("Failed to parse Steering Manifest RELOAD-URI: "+Ce)}b.scheduleRefresh(b.uri||Se.url),$e&&b.clonePathways($e),He&&b.updatePathwayPriority(He)}else b.log("Steering VERSION "+ye.VERSION+" not supported!")},onError:function(me,be,Se,Re){if(b.log("Error loading steering manifest: "+me.code+" "+me.text+" ("+be.url+")"),b.stopLoad(),me.code===410)return b.enabled=!1,void b.log("Steering manifest "+be.url+" no longer available");var ye=1e3*b.timeToLoad;if(me.code!==429)b.scheduleRefresh(b.uri||be.url,ye);else{var Ce=b.loader;if(typeof(Ce==null?void 0:Ce.getResponseHeader)=="function"){var $e=Ce.getResponseHeader("Retry-After");$e&&(ye=1e3*parseFloat($e))}b.log("Steering manifest "+be.url+" rate limited")}},onTimeout:function(me,be,Se){b.log("Timeout loading steering manifest ("+be.url+")"),b.scheduleRefresh(b.uri||be.url)}};this.log("Requesting steering manifest: "+h),this.loader.load(X,oe,pe)},R.scheduleRefresh=function(a,h){var b=this;h===void 0&&(h=1e3*this.timeToLoad),self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(function(){b.loadSteeringManifest(a)},h)},N}();function Vl(N,R,a,h){N&&Object.keys(R).forEach(function(b){var A=N.filter(function(M){return M.groupId===b}).map(function(M){var U=t({},M);return U.details=void 0,U.attrs=new k(U.attrs),U.url=U.attrs.URI=rl(M.url,M.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",a),U.groupId=U.attrs["GROUP-ID"]=R[b],U.attrs["PATHWAY-ID"]=h,U});N.push.apply(N,A)})}function rl(N,R,a,h){var b,A=h.HOST,M=h.PARAMS,U=h[a];R&&(b=U==null?void 0:U[R])&&(N=b);var X=new self.URL(N);return A&&!b&&(X.host=A),M&&Object.keys(M).sort().forEach(function(Q){Q&&X.searchParams.set(Q,M[Q])}),X.href}var Bi=/^age:\s*[\d.]+\s*$/im,To=function(){function N(a){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=a&&a.xhrSetup||null,this.stats=new $,this.retryDelay=0}var R=N.prototype;return R.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},R.abortInternal=function(){var a=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),a&&(a.onreadystatechange=null,a.onprogress=null,a.readyState!==4&&(this.stats.aborted=!0,a.abort()))},R.abort=function(){var a;this.abortInternal(),(a=this.callbacks)!=null&&a.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},R.load=function(a,h,b){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=a,this.config=h,this.callbacks=b,this.loadInternal()},R.loadInternal=function(){var a=this,h=this.config,b=this.context;if(h){var A=this.loader=new self.XMLHttpRequest,M=this.stats;M.loading.first=0,M.loaded=0,M.aborted=!1;var U=this.xhrSetup;U?Promise.resolve().then(function(){if(!a.stats.aborted)return U(A,b.url)}).catch(function(X){return A.open("GET",b.url,!0),U(A,b.url)}).then(function(){a.stats.aborted||a.openAndSendXhr(A,b,h)}).catch(function(X){a.callbacks.onError({code:A.status,text:X.message},b,A,M)}):this.openAndSendXhr(A,b,h)}},R.openAndSendXhr=function(a,h,b){a.readyState||a.open("GET",h.url,!0);var A=this.context.headers,M=b.loadPolicy,U=M.maxTimeToFirstByteMs,X=M.maxLoadTimeMs;if(A)for(var Q in A)a.setRequestHeader(Q,A[Q]);h.rangeEnd&&a.setRequestHeader("Range","bytes="+h.rangeStart+"-"+(h.rangeEnd-1)),a.onreadystatechange=this.readystatechange.bind(this),a.onprogress=this.loadprogress.bind(this),a.responseType=h.responseType,self.clearTimeout(this.requestTimeout),b.timeout=U&&x(U)?U:X,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),b.timeout),a.send()},R.readystatechange=function(){var a=this.context,h=this.loader,b=this.stats;if(a&&h){var A=h.readyState,M=this.config;if(!b.aborted&&A>=2&&(b.loading.first===0&&(b.loading.first=Math.max(self.performance.now(),b.loading.start),M.timeout!==M.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),M.timeout=M.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),M.loadPolicy.maxLoadTimeMs-(b.loading.first-b.loading.start)))),A===4)){self.clearTimeout(this.requestTimeout),h.onreadystatechange=null,h.onprogress=null;var U=h.status,X=h.responseType!=="text";if(U>=200&&U<300&&(X&&h.response||h.responseText!==null)){b.loading.end=Math.max(self.performance.now(),b.loading.first);var Q=X?h.response:h.responseText,q=h.responseType==="arraybuffer"?Q.byteLength:Q.length;if(b.loaded=b.total=q,b.bwEstimate=8e3*b.total/(b.loading.end-b.loading.first),!this.callbacks)return;var oe=this.callbacks.onProgress;if(oe&&oe(b,a,Q,h),!this.callbacks)return;var pe={url:h.responseURL,data:Q,code:U};this.callbacks.onSuccess(pe,b,a,h)}else{var me=M.loadPolicy.errorRetry;bs(me,b.retry,!1,U)?this.retry(me):(W.error(U+" while loading "+a.url),this.callbacks.onError({code:U,text:h.statusText},a,h,b))}}}},R.loadtimeout=function(){var a,h=(a=this.config)==null?void 0:a.loadPolicy.timeoutRetry;if(bs(h,this.stats.retry,!0))this.retry(h);else{W.warn("timeout while loading "+this.context.url);var b=this.callbacks;b&&(this.abortInternal(),b.onTimeout(this.stats,this.context,this.loader))}},R.retry=function(a){var h=this.context,b=this.stats;this.retryDelay=Pr(a,b.retry),b.retry++,W.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+h.url+", retrying "+b.retry+"/"+a.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},R.loadprogress=function(a){var h=this.stats;h.loaded=a.loaded,a.lengthComputable&&(h.total=a.total)},R.getCacheAge=function(){var a=null;if(this.loader&&Bi.test(this.loader.getAllResponseHeaders())){var h=this.loader.getResponseHeader("age");a=h?parseFloat(h):null}return a},R.getResponseHeader=function(a){return this.loader&&new RegExp("^"+a+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(a):null},N}(),Xl=/(\d+)-(\d+)\/(\d+)/,Fn=function(){function N(a){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=a.fetchSetup||il,this.controller=new self.AbortController,this.stats=new $}var R=N.prototype;return R.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},R.abortInternal=function(){var a=this.response;a!=null&&a.ok||(this.stats.aborted=!0,this.controller.abort())},R.abort=function(){var a;this.abortInternal(),(a=this.callbacks)!=null&&a.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},R.load=function(a,h,b){var A=this,M=this.stats;if(M.loading.start)throw new Error("Loader can only be used once.");M.loading.start=self.performance.now();var U=function(be,Se){var Re={method:"GET",mode:"cors",credentials:"same-origin",signal:Se,headers:new self.Headers(t({},be.headers))};return be.rangeEnd&&Re.headers.set("Range","bytes="+be.rangeStart+"-"+String(be.rangeEnd-1)),Re}(a,this.controller.signal),X=b.onProgress,Q=a.responseType==="arraybuffer",q=Q?"byteLength":"length",oe=h.loadPolicy,pe=oe.maxTimeToFirstByteMs,me=oe.maxLoadTimeMs;this.context=a,this.config=h,this.callbacks=b,this.request=this.fetchSetup(a,U),self.clearTimeout(this.requestTimeout),h.timeout=pe&&x(pe)?pe:me,this.requestTimeout=self.setTimeout(function(){A.abortInternal(),b.onTimeout(M,a,A.response)},h.timeout),self.fetch(this.request).then(function(be){A.response=A.loader=be;var Se=Math.max(self.performance.now(),M.loading.start);if(self.clearTimeout(A.requestTimeout),h.timeout=me,A.requestTimeout=self.setTimeout(function(){A.abortInternal(),b.onTimeout(M,a,A.response)},me-(Se-M.loading.start)),!be.ok){var Re=be.status,ye=be.statusText;throw new So(ye||"fetch, bad network response",Re,be)}return M.loading.first=Se,M.total=function(Ce){var $e=Ce.get("Content-Range");if($e){var He=function(lt){var ht=Xl.exec(lt);if(ht)return parseInt(ht[2])-parseInt(ht[1])+1}($e);if(x(He))return He}var Ze=Ce.get("Content-Length");if(Ze)return parseInt(Ze)}(be.headers)||M.total,X&&x(h.highWaterMark)?A.loadProgressively(be,M,a,h.highWaterMark,X):Q?be.arrayBuffer():a.responseType==="json"?be.json():be.text()}).then(function(be){var Se=A.response;self.clearTimeout(A.requestTimeout),M.loading.end=Math.max(self.performance.now(),M.loading.first);var Re=be[q];Re&&(M.loaded=M.total=Re);var ye={url:Se.url,data:be,code:Se.status};X&&!x(h.highWaterMark)&&X(M,a,be,Se),b.onSuccess(ye,M,a,Se)}).catch(function(be){if(self.clearTimeout(A.requestTimeout),!M.aborted){var Se=be&&be.code||0,Re=be?be.message:null;b.onError({code:Se,text:Re},a,be?be.details:null,M)}})},R.getCacheAge=function(){var a=null;if(this.response){var h=this.response.headers.get("age");a=h?parseFloat(h):null}return a},R.getResponseHeader=function(a){return this.response?this.response.headers.get(a):null},R.loadProgressively=function(a,h,b,A,M){A===void 0&&(A=0);var U=new Il,X=a.body.getReader();return function Q(){return X.read().then(function(q){if(q.done)return U.dataLength&&M(h,b,U.flush(),a),Promise.resolve(new ArrayBuffer(0));var oe=q.value,pe=oe.length;return h.loaded+=pe,pe<A||U.dataLength?(U.push(oe),U.dataLength>=A&&M(h,b,U.flush(),a)):M(h,b,oe,a),Q()}).catch(function(){return Promise.reject()})}()},N}();function il(N,R){return new self.Request(N.url,R)}var So=function(N){function R(a,h,b){var A;return(A=N.call(this,a)||this).code=void 0,A.details=void 0,A.code=h,A.details=b,A}return i(R,N),R}(o(Error)),Zs=/\s/,Gl=f(f({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:To,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Rl,bufferController:Kh,capLevelController:nc,errorController:wi,fpsController:ns,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:se,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:{newCue:function(N,R,a,h){for(var b,A,M,U,X,Q=[],q=self.VTTCue||self.TextTrackCue,oe=0;oe<h.rows.length;oe++)if(M=!0,U=0,X="",!(b=h.rows[oe]).isEmpty()){for(var pe,me=0;me<b.chars.length;me++)Zs.test(b.chars[me].uchar)&&M?U++:(X+=b.chars[me].uchar,M=!1);b.cueStartTime=R,R===a&&(a+=1e-4),U>=16?U--:U++;var be=Fl(X.trim()),Se=mn(R,a,be);N!=null&&(pe=N.cues)!=null&&pe.getCueById(Se)||((A=new q(R,a,be)).id=Se,A.line=oe+1,A.align="left",A.position=10+Math.min(80,10*Math.floor(8*U/32)),Q.push(A))}return N&&Q.length&&(Q.sort(function(Re,ye){return Re.line==="auto"||ye.line==="auto"?0:Re.line>8&&ye.line>8?ye.line-Re.line:Re.line-ye.line}),Q.forEach(function(Re){return Ps(N,Re)})),Q}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Va,subtitleTrackController:go,timelineController:ic,audioStreamController:Ko,audioTrackController:Wa,emeController:Es,cmcdController:ac,contentSteeringController:Eo});function Fi(N){return N&&typeof N=="object"?Array.isArray(N)?N.map(Fi):Object.keys(N).reduce(function(R,a){return R[a]=Fi(N[a]),R},{}):N}function nl(N){var R=N.loader;R!==Fn&&R!==To?(W.log("[config]: Custom loader detected, cannot enable progressive streaming"),N.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(N.loader=Fn,N.progressive=!0,N.enableSoftwareAES=!0,W.log("[config]: Progressive streaming enabled, using FetchLoader"))}var Kl=function(){function N(a){a===void 0&&(a={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Vs,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,Y(a.debug||!1,"Hls instance");var h=this.config=function(Pt,xt){if((xt.liveSyncDurationCount||xt.liveMaxLatencyDurationCount)&&(xt.liveSyncDuration||xt.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(xt.liveMaxLatencyDurationCount!==void 0&&(xt.liveSyncDurationCount===void 0||xt.liveMaxLatencyDurationCount<=xt.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(xt.liveMaxLatencyDuration!==void 0&&(xt.liveSyncDuration===void 0||xt.liveMaxLatencyDuration<=xt.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var Wt=Fi(Pt),Qt=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(function(Vt){var Gt=(Vt==="level"?"playlist":Vt)+"LoadPolicy",Jt=xt[Gt]===void 0,Kt=[];Qt.forEach(function(kt){var yr=Vt+"Loading"+kt,kr=xt[yr];if(kr!==void 0&&Jt){Kt.push(yr);var Hr=Wt[Gt].default;switch(xt[Gt]={default:Hr},kt){case"TimeOut":Hr.maxLoadTimeMs=kr,Hr.maxTimeToFirstByteMs=kr;break;case"MaxRetry":Hr.errorRetry.maxNumRetry=kr,Hr.timeoutRetry.maxNumRetry=kr;break;case"RetryDelay":Hr.errorRetry.retryDelayMs=kr,Hr.timeoutRetry.retryDelayMs=kr;break;case"MaxRetryTimeout":Hr.errorRetry.maxRetryDelayMs=kr,Hr.timeoutRetry.maxRetryDelayMs=kr}}}),Kt.length&&W.warn('hls.js config: "'+Kt.join('", "')+'" setting(s) are deprecated, use "'+Gt+'": '+JSON.stringify(xt[Gt]))}),f(f({},Wt),xt)}(N.DefaultConfig,a);this.userConfig=a,this._autoLevelCapping=-1,h.progressive&&nl(h);var b=h.abrController,A=h.bufferController,M=h.capLevelController,U=h.errorController,X=h.fpsController,Q=new U(this),q=this.abrController=new b(this),oe=this.bufferController=new A(this),pe=this.capLevelController=new M(this),me=new X(this),be=new ps(this),Se=new ca(this),Re=h.contentSteeringController,ye=Re?new Re(this):null,Ce=this.levelController=new ii(this,ye),$e=new Pn(this),He=new Bt(this.config),Ze=this.streamController=new Wi(this,$e,He);pe.setStreamController(Ze),me.setStreamController(Ze);var lt=[be,Ce,Ze];ye&&lt.splice(1,0,ye),this.networkControllers=lt;var ht=[q,oe,pe,me,Se,$e];this.audioTrackController=this.createController(h.audioTrackController,lt);var wt=h.audioStreamController;wt&&lt.push(new wt(this,$e,He)),this.subtitleTrackController=this.createController(h.subtitleTrackController,lt);var dt=h.subtitleStreamController;dt&&lt.push(new dt(this,$e,He)),this.createController(h.timelineController,ht),He.emeController=this.emeController=this.createController(h.emeController,ht),this.cmcdController=this.createController(h.cmcdController,ht),this.latencyController=this.createController(cn,ht),this.coreComponents=ht,lt.push(Q);var gt=Q.onErrorOut;typeof gt=="function"&&this.on(w.ERROR,gt,Q)}N.isSupported=function(){return function(){var a=ir();if(!a)return!1;var h=_l(),b=a&&typeof a.isTypeSupported=="function"&&a.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),A=!h||h.prototype&&typeof h.prototype.appendBuffer=="function"&&typeof h.prototype.remove=="function";return!!b&&!!A}()};var R=N.prototype;return R.createController=function(a,h){if(a){var b=new a(this);return h&&h.push(b),b}return null},R.on=function(a,h,b){b===void 0&&(b=this),this._emitter.on(a,h,b)},R.once=function(a,h,b){b===void 0&&(b=this),this._emitter.once(a,h,b)},R.removeAllListeners=function(a){this._emitter.removeAllListeners(a)},R.off=function(a,h,b,A){b===void 0&&(b=this),this._emitter.off(a,h,b,A)},R.listeners=function(a){return this._emitter.listeners(a)},R.emit=function(a,h,b){return this._emitter.emit(a,h,b)},R.trigger=function(a,h){if(this.config.debug)return this.emit(a,a,h);try{return this.emit(a,a,h)}catch(b){W.error("An internal error happened while handling event "+a+'. Error message: "'+b.message+'". Here is a stacktrace:',b),this.trigger(w.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,fatal:!1,event:a,error:b})}return!1},R.listenerCount=function(a){return this._emitter.listenerCount(a)},R.destroy=function(){W.log("destroy"),this.trigger(w.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(h){return h.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(h){return h.destroy()}),this.coreComponents.length=0;var a=this.config;a.xhrSetup=a.fetchSetup=void 0,this.userConfig=null},R.attachMedia=function(a){W.log("attachMedia"),this._media=a,this.trigger(w.MEDIA_ATTACHING,{media:a})},R.detachMedia=function(){W.log("detachMedia"),this.trigger(w.MEDIA_DETACHING,void 0),this._media=null},R.loadSource=function(a){this.stopLoad();var h=this.media,b=this.url,A=this.url=S.buildAbsoluteURL(self.location.href,a,{alwaysNormalize:!0});W.log("loadSource:"+A),h&&b&&(b!==A||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(h)),this.trigger(w.MANIFEST_LOADING,{url:a})},R.startLoad=function(a){a===void 0&&(a=-1),W.log("startLoad("+a+")"),this.networkControllers.forEach(function(h){h.startLoad(a)})},R.stopLoad=function(){W.log("stopLoad"),this.networkControllers.forEach(function(a){a.stopLoad()})},R.swapAudioCodec=function(){W.log("swapAudioCodec"),this.streamController.swapAudioCodec()},R.recoverMediaError=function(){W.log("recoverMediaError");var a=this._media;this.detachMedia(),a&&this.attachMedia(a)},R.removeLevel=function(a,h){h===void 0&&(h=0),this.levelController.removeLevel(a,h)},c(N,[{key:"levels",get:function(){var a=this.levelController.levels;return a||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(a){W.log("set currentLevel:"+a),this.loadLevel=a,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(a){W.log("set nextLevel:"+a),this.levelController.manualLevel=a,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(a){W.log("set loadLevel:"+a),this.levelController.manualLevel=a}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(a){this.levelController.nextLoadLevel=a}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(a){W.log("set firstLevel:"+a),this.levelController.firstLevel=a}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(a){W.log("set startLevel:"+a),a!==-1&&(a=Math.max(a,this.minAutoLevel)),this.levelController.startLevel=a}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(a){var h=!!a;h!==this.config.capLevelToPlayerSize&&(h?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=h)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(a){this._autoLevelCapping!==a&&(W.log("set autoLevelCapping:"+a),this._autoLevelCapping=a)}},{key:"bandwidthEstimate",get:function(){var a=this.abrController.bwEstimator;return a?a.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var a=this.abrController.bwEstimator;return a?a.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(a){Ds.indexOf(a)>-1&&(this._maxHdcpLevel=a)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var a=this.levels,h=this.config.minAutoBitrate;if(!a)return 0;for(var b=a.length,A=0;A<b;A++)if(a[A].maxBitrate>=h)return A;return 0}},{key:"maxAutoLevel",get:function(){var a,h=this.levels,b=this.autoLevelCapping,A=this.maxHdcpLevel;if(a=b===-1&&h&&h.length?h.length-1:b,A)for(var M=a;M--;){var U=h[M].attrs["HDCP-LEVEL"];if(U&&U<=A)return M}return a}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(a){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,a)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var a=this.audioTrackController;return a?a.audioTracks:[]}},{key:"audioTrack",get:function(){var a=this.audioTrackController;return a?a.audioTrack:-1},set:function(a){var h=this.audioTrackController;h&&(h.audioTrack=a)}},{key:"subtitleTracks",get:function(){var a=this.subtitleTrackController;return a?a.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var a=this.subtitleTrackController;return a?a.subtitleTrack:-1},set:function(a){var h=this.subtitleTrackController;h&&(h.subtitleTrack=a)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var a=this.subtitleTrackController;return!!a&&a.subtitleDisplay},set:function(a){var h=this.subtitleTrackController;h&&(h.subtitleDisplay=a)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(a){this.config.lowLatencyMode=a}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.12"}},{key:"Events",get:function(){return w}},{key:"ErrorTypes",get:function(){return I}},{key:"ErrorDetails",get:function(){return D}},{key:"DefaultConfig",get:function(){return N.defaultConfig?N.defaultConfig:Gl},set:function(a){N.defaultConfig=a}}]),N}();return Kl.defaultConfig=void 0,Kl},typeof exports=="object"&&typeof module<"u"?module.exports=m():typeof define=="function"&&define.amd?define(m):(e=typeof globalThis<"u"?globalThis:e||self).Hls=m()})(!1);const Sh=["play","playing","timeupdate"],fw=[{label:"2.0X",value:2},{label:"1.5X",value:1.5},{label:"1.0X",value:1},{label:"0.5X",value:.5}];function uw(){if(typeof document<"u"&&!customElements.get("r-player")){class re extends HTMLElement{constructor(){super(),_t(this,"ctx"),_t(this,"_player"),_t(this,"_container"),_t(this,"_slot"),_t(this,"_playerController"),_t(this,"_playerBtn"),_t(this,"_progress"),_t(this,"_progressDot"),_t(this,"_progressWrap"),_t(this,"_progressWrapValue"),_t(this,"requestAnimationFrameId"),_t(this,"moveProgress"),_t(this,"_playerControllerBottom"),_t(this,"_playerControllerBottomRight"),_t(this,"_playerControllerBottomLeft"),_t(this,"_playerControllerBottomPlayBtn"),_t(this,"_playerControllerBottomTimeCurrent"),_t(this,"_playerControllerBottomTimeDuration"),_t(this,"_playerControllerBottomTimeDivide"),_t(this,"_playControllerBottomClarity"),_t(this,"_playControllerBottomSpeed"),_t(this,"_playControllerBottomSpeedIcon"),_t(this,"_playControllerBottomVolumeProgress"),_t(this,"_playControllerBottomRightFullScreen"),_t(this,"_playControllerBottomVolume"),_t(this,"_playControllerBottomSpeedPopover"),_t(this,"controllerBarTimeId"),_t(this,"_playerTip"),_t(this,"_playerTipTime"),_t(this,"_playerTipText"),_t(this,"_volume"),_t(this,"_video"),_t(this,"_hls"),_t(this,"changeClarityToSetVideo",()=>{const{currentTime:m,playbackRate:v,volume:f,currentState:u}=this.ctx;this.setCurrentTime(m),this.setPlaybackRate(v),this.setVolume(f),Sh.includes(u)?this.play():this.pause()}),_t(this,"changeClarity",m=>{this.ctx.clarity=m.detail.value;const v=this.ctx.levelMap.get(m.detail.value);v&&this._hls&&(this._hls.loadSource(v),this._hls.startLoad(),this.changeClarityToSetVideo())}),_t(this,"createClaritySelect",()=>{const{levels:m,url:v}=this.ctx;if(this._playControllerBottomClarity.innerHTML="",m.length<=0)return;const f=document.createDocumentFragment();m.forEach(c=>{const{name:s,url:t}=c;if(!s||!t)return;this.ctx.levelMap.set(s,t);const i=document.createElement("r-option");i.setAttribute("value",s),i.innerHTML=s,f.appendChild(i)});const u=document.createElement("r-select");u.setAttribute("value",this.ctx.clarity||"Auto"),u.appendChild(f),u.setAttribute("type","text"),u.setAttribute("placement","top"),u.setAttribute("dropdownclass","video-clarity-dropdown"),u.addEventListener("change",this.changeClarity),this._playControllerBottomClarity.appendChild(u)}),_t(this,"manifestLoaded",(m,v)=>{if(m==="hlsManifestLoaded"){const{url:f,levels:u=[]}=v;if(u.length<=0)return;u.forEach(c=>{this.ctx.levelMap.get(c.name)!==c.url&&this.ctx.levels.push(c)}),this.ctx.levelMap.get("Auto")||(this.ctx.levels.push({name:"Auto",url:f}),this.ctx.levelMap.set("Auto",f)),this.ctx.url=f,this.createClaritySelect()}}),_t(this,"updatePlayer",()=>{var m;const{Hls:v}=window;this.contains(this._player)||this.appendChild(this._player),this._hls&&(this._hls.destroy(),this._hls=void 0),this._video=document.createElement("video"),this._video.setAttribute("class","ran-player-video"),this._video.setAttribute("preload","auto"),this._video.setAttribute("x5-video-player-type","h5"),this._video.setAttribute("x5-video-orientation","portrait"),this._video.setAttribute("webkit-playsinline","true"),this._video.setAttribute("playsinline","true"),this._video.setAttribute("controls","false"),this._video.controls=!1,this._video.setAttribute("initial-time","0.01"),v!=null&&v.isSupported()&&this.src&&(this._hls=new v,this._hls&&(this._hls.off(v.Events.MANIFEST_LOADED,this.manifestLoaded),this._hls.on(v.Events.MANIFEST_LOADED,this.manifestLoaded),this._hls.loadSource(this.src),this._hls.attachMedia(this._video)),this._container.appendChild(this._video),(m=this._video.parentElement)==null||m.setAttribute("class","ran-player-contain")),this.listenEvent()}),_t(this,"change",(m,v)=>{const f=this.getCurrentTime(),u=this.getTotalTime();this.dispatchEvent(new CustomEvent("change",{detail:{type:m,data:v,currentTime:f,duration:u,tag:this._video}}))}),_t(this,"onCanplay",m=>{this.ctx.currentState=m.type,sa(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),fs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),this.change("canplay",m),this.resize()}),_t(this,"onCanplaythrough",m=>{this.ctx.currentState=m.type,this.change("canplaythrough",m)}),_t(this,"onComplete",m=>{this.ctx.currentState=m.type,this.change("complete",m)}),_t(this,"onDurationchange",m=>{this.ctx.currentState=m.type,this.change("durationchange",m)}),_t(this,"onEmptied",m=>{this.ctx.currentState=m.type,this.change("emptied",m)}),_t(this,"onEnded",m=>{this.ctx.currentState=m.type,this.change("ended",m)}),_t(this,"onError",m=>{this.ctx.currentState=m.type,this.change("error",m)}),_t(this,"onLoadedmetadata",m=>{this.ctx.currentState=m.type,this.change("loadedmetadata",m)}),_t(this,"onLoadstart",m=>{this.ctx.currentState=m.type,this.change("loadstart",m)}),_t(this,"onProgress",m=>{this.ctx.currentState=m.type,this.change("progress",m)}),_t(this,"onRatechange",m=>{this.ctx.currentState=m.type,this.change("ratechange",m)}),_t(this,"onSeeked",m=>{this.ctx.currentState=m.type,this.change("seeked",m)}),_t(this,"onSeeking",m=>{this.ctx.currentState=m.type,this.change("seeking",m)}),_t(this,"onStalled",m=>{this.ctx.currentState=m.type,this.change("stalled",m)}),_t(this,"onSuspend",m=>{this.ctx.currentState=m.type,this.change("suspend",m)}),_t(this,"onLoadeddata",m=>{this.ctx.currentState=m.type;const v=this.getTotalTime();this.ctx.duration=v,this._playerControllerBottomTimeCurrent.innerText="00:00",this._playerControllerBottomTimeDivide.innerText="/",this._playerControllerBottomTimeDuration.innerText=wh(this.ctx.duration),this.change("loadeddata",m)}),_t(this,"onTimeupdate",m=>{this.ctx.currentState=m.type,this.change("timeupdate",m)}),_t(this,"onVolumechange",m=>{this.ctx.currentState=m.type,this.change("volumechange",m)}),_t(this,"onWaiting",m=>{this.ctx.currentState=m.type,this.change("waiting",m)}),_t(this,"onPlay",m=>{this.ctx.currentState=m.type,this.requestAnimationFrame(this.updateCurrentProgress),sa(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),fs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),this.showControllerBar(),this.change("play",m)}),_t(this,"onPlaying",m=>{this.ctx.currentState=m.type,this._playerBtn.style.setProperty("display","none"),sa(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),fs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),this.requestAnimationFrame(this.updateCurrentProgress),this.showControllerBar(),this.change("playing",m)}),_t(this,"onPause",m=>{this.ctx.currentState=m.type,this._playerBtn.style.setProperty("display","block"),this.change("pause",m),sa(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-pause"),fs(this._playerControllerBottomPlayBtn,"ran-player-controller-bottom-left-btn-play"),this.cancelAnimationFrame(),this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0)}),_t(this,"clearListenerEvent",()=>{this._video&&(this._video.removeEventListener("canplay",this.onCanplay),this._video.removeEventListener("canplaythrough",this.onCanplaythrough),this._video.removeEventListener("complete",this.onComplete),this._video.removeEventListener("durationchange",this.onDurationchange),this._video.removeEventListener("emptied",this.onEmptied),this._video.removeEventListener("ended",this.onEnded),this._video.removeEventListener("error",this.onError),this._video.removeEventListener("loadeddata",this.onLoadeddata),this._video.removeEventListener("loadedmetadata",this.onLoadedmetadata),this._video.removeEventListener("loadstart",this.onLoadstart),this._video.removeEventListener("pause",this.onPause),this._video.removeEventListener("play",this.onPlay),this._video.removeEventListener("playing",this.onPlaying),this._video.removeEventListener("progress",this.onProgress),this._video.removeEventListener("ratechange",this.onRatechange),this._video.removeEventListener("seeked",this.onSeeked),this._video.removeEventListener("seeking",this.onSeeking),this._video.removeEventListener("stalled",this.onStalled),this._video.removeEventListener("suspend",this.onSuspend),this._video.removeEventListener("timeupdate",this.onTimeupdate),this._video.removeEventListener("volumechange",this.onVolumechange),this._video.removeEventListener("waiting",this.onWaiting))}),_t(this,"listenEvent",()=>{this._video&&(this.clearListenerEvent(),this._video.addEventListener("canplay",this.onCanplay),this._video.addEventListener("canplaythrough",this.onCanplaythrough),this._video.addEventListener("complete",this.onComplete),this._video.addEventListener("durationchange",this.onDurationchange),this._video.addEventListener("emptied",this.onEmptied),this._video.addEventListener("ended",this.onEnded),this._video.addEventListener("error",this.onError),this._video.addEventListener("loadeddata",this.onLoadeddata),this._video.addEventListener("loadedmetadata",this.onLoadedmetadata),this._video.addEventListener("loadstart",this.onLoadstart),this._video.addEventListener("pause",this.onPause),this._video.addEventListener("play",this.onPlay),this._video.addEventListener("playing",this.onPlaying),this._video.addEventListener("progress",this.onProgress),this._video.addEventListener("ratechange",this.onRatechange),this._video.addEventListener("seeked",this.onSeeked),this._video.addEventListener("seeking",this.onSeeking),this._video.addEventListener("stalled",this.onStalled),this._video.addEventListener("suspend",this.onSuspend),this._video.addEventListener("timeupdate",this.onTimeupdate),this._video.addEventListener("volumechange",this.onVolumechange),this._video.addEventListener("waiting",this.onWaiting))}),_t(this,"showControllerBar",m=>{if(m&&m.target.classList.value.includes("ran-player-controller")){this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0);return}Sh.includes(this.ctx.currentState)?(this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0),this.controllerBarTimeId=setTimeout(()=>{this._playerController.style.setProperty("opacity","0"),clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0},2e3)):(this._playerController.style.setProperty("opacity","1"),this.controllerBarTimeId&&(clearTimeout(this.controllerBarTimeId),this.controllerBarTimeId=void 0))}),_t(this,"progressClick",m=>{const v=this._progressWrap.getBoundingClientRect(),f=m.clientX-v.left,u=_h(f/this._progress.offsetWidth);this.setCurrentTime(this.ctx.duration*u),this.updateCurrentProgress()}),_t(this,"progressDotMouseDown",m=>{this._playerBtn.style.setProperty("display","none"),this.moveProgress.mouseDown=!0,this.cancelAnimationFrame()}),_t(this,"progressDotMouseMove",m=>{if(this.showControllerBar(m),!this.moveProgress.mouseDown)return;const v=this._progress.getBoundingClientRect(),f=m.clientX-v.left-9,u=_h(f/this._progress.offsetWidth);this._progressWrapValue.style.setProperty("transform",`scaleX(${u})`),this._progressDot.style.setProperty("transform",`translateX(${u*this._progress.offsetWidth}px)`),this.moveProgress.percentage=Math.floor(u*100)/100}),_t(this,"progressDotMouseUp",()=>{if(!this.moveProgress.mouseDown)return;const m=this.moveProgress.percentage;this.setCurrentTime(this.ctx.duration*m),this.play(),this.moveProgress.mouseDown=!1,this.requestAnimationFrame(this.updateCurrentProgress)}),_t(this,"requestAnimationFrame",m=>{this.requestAnimationFrameId||(this.requestAnimationFrameId=window.requestAnimationFrame(()=>{m(),this.requestAnimationFrameId&&cancelAnimationFrame(this.requestAnimationFrameId),this.requestAnimationFrameId=void 0,this.requestAnimationFrame(m)}))}),_t(this,"cancelAnimationFrame",()=>{this.requestAnimationFrameId&&(cancelAnimationFrame(this.requestAnimationFrameId),this.requestAnimationFrameId=void 0)}),_t(this,"updateCurrentProgress",()=>{const m=this.getCurrentTime();this.ctx.currentTime=m;const{duration:v}=this.ctx;this._progressWrapValue.style.setProperty("transform",`scaleX(${m/v})`),this._progressDot.style.setProperty("transform",`translateX(${m/v*this._progress.offsetWidth}px)`),m>=0&&(this._playerControllerBottomTimeCurrent.innerText=wh(m))}),_t(this,"changeAttribute",(m,v,f,u,c)=>{m===u&&v!==f&&X1(c)()}),_t(this,"dispatchClickPlayerContainerAction",m=>{m.stopPropagation(),m.preventDefault(),Sh.includes(this.ctx.currentState)?(this.pause(),this._playerBtn.style.setProperty("display","block")):(this.play(),this._playerBtn.style.setProperty("display","none"))}),_t(this,"SpaceKeyDown",m=>{m.stopPropagation(),m.preventDefault();const{currentTime:v,duration:f}=this.ctx;if(m.code==="Space"&&this.dispatchClickPlayerBtnAction(m),m.code==="Escape"&&document.exitFullscreen().then(()=>{this.ctx.fullScreen=!1}).catch(u=>{}),m.code==="ArrowLeft"){const u=_h(v-5,0,f);this.setCurrentTime(u),this.play()}if(m.code==="ArrowRight"){const u=_h(v+5,0,f);this.setCurrentTime(u),this.play()}}),_t(this,"dispatchClickPlayerBtnAction",m=>{m.stopPropagation(),m.preventDefault(),Sh.includes(this.ctx.currentState)?(this.pause(),this._playerBtn.style.setProperty("display","block")):(this.play(),this._playerBtn.style.setProperty("display","none"))}),_t(this,"changeVolumeProgress",m=>{this._video&&(this.setVolume(m.detail.value),this.change("volume",m.detail.value),m.detail.value>0&&(this._volume=m.detail.value))}),_t(this,"openFullScreen",()=>{this.ctx.fullScreen?document.exitFullscreen().then(()=>{this.resize(),this.ctx.fullScreen=!1}).catch(m=>{}):this._player.requestFullscreen().then(()=>{this.resize(),this.ctx.fullScreen=!0}).catch(m=>{})}),_t(this,"changeSpeed",m=>{this.change("speed",m.detail.value),this.setPlaybackRate(m.detail.value)}),_t(this,"progressMouseEnter",m=>{this._playerTip.style.setProperty("opacity","1");const v=this._progress.getBoundingClientRect(),f=m.clientX-v.left;this._playerTipText.innerText?this._playerTip.style.setProperty("transform",`translate(calc(${f}px - 50%),-20px)`):this._playerTip.style.setProperty("transform",`translateX(calc(${f}px - 50%))`),this._playerTipTime.innerText=wh(f/this._progress.clientWidth*this.ctx.duration)}),_t(this,"progressMouseLeave",m=>{m.target.classList.contains("ran-player-controller-progress-wrap-dot")||this._playerTip.style.setProperty("opacity","0")}),_t(this,"progressMouseMove",m=>{const v=this._progress.getBoundingClientRect();this._playerTip.style.setProperty("opacity","1");const f=m.clientX-v.left;this._playerTipText.innerText?this._playerTip.style.setProperty("transform",`translate(calc(${f}px - 50%),-20px)`):this._playerTip.style.setProperty("transform",`translateX(calc(${f}px - 50%))`),this._playerTipTime.innerText=wh(f/this._progress.clientWidth*this.ctx.duration)}),_t(this,"changePlayerVolume",()=>{if(!this._video)return;const{volume:m}=this.ctx;m>0?(fs(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-mute"),sa(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-volume"),this._playControllerBottomVolumeProgress.setAttribute("percent","0"),this.setVolume(0),this.change("volume",0)):(fs(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-volume"),sa(this._playControllerBottomSpeedIcon,"ran-player-controller-bottom-right-volume-icon-mute"),this._playControllerBottomVolumeProgress.setAttribute("percent",`${this._volume||.5}`),this.setVolume(.5),this.change("volume",this._volume||.5))}),_t(this,"resize",()=>{if(this._video){const{width:m,height:v}=this._player.getBoundingClientRect();this._video.style.setProperty("width",`${m}px`),this._video.style.setProperty("height",`${v}px`)}this.updateCurrentProgress()}),_t(this,"fullScreenChange",()=>{var m;(m=document.fullscreenElement)!=null&&m.classList.contains("ran-player")?(this.change("fullscreen",!0),this.ctx.fullScreen=!0):(this.change("fullscreen",!1),this.ctx.fullScreen=!1)}),_t(this,"getPlaybackRate",()=>(this._video&&(this.ctx.playbackRate=this._video.playbackRate||0),this.ctx.playbackRate)),_t(this,"setPlaybackRate",m=>(this._video&&(this.ctx.playbackRate=m,this._video.playbackRate=m),this.ctx.playbackRate)),_t(this,"setVolume",m=>(this._video&&(this.ctx.volume=m,this._video.volume=m),this.ctx.volume)),_t(this,"getVolume",()=>(this._video&&(this.ctx.volume=this._video.volume||0),this.ctx.volume)),_t(this,"setCurrentTime",m=>(this._video&&(this.ctx.currentTime=m,this._video.currentTime=m),this.ctx.currentTime)),_t(this,"getCurrentTime",()=>(this._video&&(this.ctx.currentTime=this._video.currentTime||0),this.ctx.currentTime)),_t(this,"getTotalTime",()=>(this._video&&(this.ctx.duration=this._video.duration||0),this.ctx.duration)),_t(this,"play",m=>{this._video&&(m!==void 0&&m>=0&&(this.ctx.currentTime=m,this._video.currentTime=m),this._video.play())}),_t(this,"pause",()=>{this._video&&this._video.pause()}),this._player=document.createElement("div"),this._container=document.createElement("div"),this._slot=document.createElement("slot"),this._playerBtn=document.createElement("div"),this._progress=document.createElement("div"),this._progressWrap=document.createElement("div"),this._progressWrapValue=document.createElement("div"),this._progressDot=document.createElement("div"),this._playerControllerBottom=document.createElement("div"),this._playerControllerBottomRight=document.createElement("div"),this._playerControllerBottomLeft=document.createElement("div"),this._player.setAttribute("class","ran-player"),this._player.setAttribute("data-growing-ignore","true"),this._playerBtn.setAttribute("class","ran-player-play-btn"),this._progress.setAttribute("class","ran-player-controller-progress"),this._progressWrap.setAttribute("class","ran-player-controller-progress-wrap"),this._progressWrapValue.setAttribute("class","ran-player-controller-progress-wrap-value"),this._progressDot.setAttribute("class","ran-player-controller-progress-dot"),this._playerControllerBottom.setAttribute("class","ran-player-controller-bottom"),this._playerControllerBottomRight.setAttribute("class","ran-player-controller-bottom-right"),this._playerControllerBottomLeft.setAttribute("class","ran-player-controller-bottom-left"),this._playerControllerBottomPlayBtn=document.createElement("div"),this._playerControllerBottomPlayBtn.setAttribute("class","ran-player-controller-bottom-left-btn"),this._playerControllerBottomTimeCurrent=document.createElement("div"),this._playerControllerBottomTimeCurrent.setAttribute("class","ran-player-controller-bottom-left-time-current"),this._playerControllerBottomTimeDivide=document.createElement("div"),this._playerControllerBottomTimeDivide.setAttribute("class","ran-player-controller-bottom-left-time-divide"),this._playerControllerBottomTimeDuration=document.createElement("div"),this._playerControllerBottomTimeDuration.setAttribute("class","ran-player-controller-bottom-left-time-duration"),this._playControllerBottomSpeed=document.createElement("div"),this._playControllerBottomSpeed.setAttribute("class","ran-player-controller-bottom-right-speed"),this._playControllerBottomSpeedPopover=document.createElement("r-select"),this._playControllerBottomSpeedPopover.setAttribute("value","1"),this._playControllerBottomSpeedPopover.setAttribute("type","text"),this._playControllerBottomSpeedPopover.setAttribute("placement","top"),this._playControllerBottomSpeedPopover.setAttribute("dropdownclass","video-speed-dropdown"),this._playControllerBottomSpeedPopover.addEventListener("change",this.changeSpeed);const e=document.createDocumentFragment();fw.forEach(m=>{const{label:v,value:f}=m,u=document.createElement("r-option");u.innerHTML=v,u.setAttribute("value",`${f}`),e.appendChild(u)}),this._playControllerBottomSpeedPopover.appendChild(e),this._playControllerBottomSpeed.appendChild(this._playControllerBottomSpeedPopover),this._playControllerBottomVolume=document.createElement("div"),this._playControllerBottomVolume.setAttribute("class","ran-player-controller-bottom-right-volume"),this._playControllerBottomVolumeProgress=document.createElement("r-progress"),this._playControllerBottomVolumeProgress.setAttribute("class","ran-player-controller-bottom-right-volume-progress"),this._playControllerBottomVolumeProgress.setAttribute("percent","0.5"),this._playControllerBottomVolumeProgress.setAttribute("type","drag"),this._playControllerBottomSpeedIcon=document.createElement("div"),this._playControllerBottomSpeedIcon.setAttribute("class","ran-player-controller-bottom-right-volume-icon ran-player-controller-bottom-right-volume-icon-volume"),this._playControllerBottomClarity=document.createElement("div"),this._playControllerBottomClarity.setAttribute("class","ran-player-controller-bottom-right-clarity"),this._playControllerBottomRightFullScreen=document.createElement("div"),this._playControllerBottomRightFullScreen.setAttribute("class","ran-player-controller-bottom-right-full"),this._playerController=document.createElement("div"),this._playerController.setAttribute("class","ran-player-controller"),this._playerTip=document.createElement("div"),this._playerTip.setAttribute("class","ran-player-controller-tip"),this._playerTipTime=document.createElement("div"),this._playerTipTime.setAttribute("class","ran-player-controller-tip-time"),this._playerTipText=document.createElement("div"),this._playerTipText.setAttribute("class","ran-player-controller-tip-text"),this._playerTip.appendChild(Ma([this._playerTipTime,this._playerTipText])),this._playerController.appendChild(Ma([this._playerTip,this._progress,this._playerControllerBottom])),this._player.appendChild(Ma([this._container,this._slot,this._playerBtn,this._playerController])),this._progressWrap.appendChild(this._progressWrapValue),this._progress.appendChild(Ma([this._progressWrap,this._progressDot])),this._playerControllerBottom.appendChild(Ma([this._playerControllerBottomLeft,this._playerControllerBottomRight])),this._playerControllerBottomLeft.appendChild(Ma([this._playerControllerBottomPlayBtn,this._playerControllerBottomTimeCurrent,this._playerControllerBottomTimeDivide,this._playerControllerBottomTimeDuration])),this._playControllerBottomVolume.appendChild(Ma([this._playControllerBottomSpeedIcon,this._playControllerBottomVolumeProgress])),this._playerControllerBottomRight.appendChild(Ma([this._playControllerBottomClarity,this._playControllerBottomSpeed,this._playControllerBottomVolume,this._playControllerBottomRightFullScreen])),this.ctx={currentTime:0,duration:0,currentState:"",action:new $1,volume:.5,playbackRate:1,clarity:"",fullScreen:!1,levels:[],url:"",levelMap:new Map},this.moveProgress={percentage:0,mouseDown:!1}}static get observedAttributes(){return["src","volume","currentTime","playbackRate"]}get src(){return this.getAttribute("src")||""}set src(e){this.setAttribute("src",e||"")}get volume(){return this.getAttribute("volume")||""}set volume(e){this.setAttribute("volume",e||"")}get currentTime(){return this.getAttribute("currentTime")||""}set currentTime(e){this.setAttribute("currentTime",e||"")}get playbackRate(){return this.getAttribute("playbackRate")||""}set playbackRate(e){this.setAttribute("playbackRate",e||"")}connectedCallback(){this._container.addEventListener("click",this.dispatchClickPlayerContainerAction),this._playerBtn.addEventListener("click",this.dispatchClickPlayerBtnAction),document.body.addEventListener("keydown",this.SpaceKeyDown),this._progressDot.addEventListener("mousedown",this.progressDotMouseDown),this._playerControllerBottomPlayBtn.addEventListener("click",this.dispatchClickPlayerBtnAction),this._progress.addEventListener("click",this.progressClick),this._progress.addEventListener("mouseenter",this.progressMouseEnter),this._progress.addEventListener("mousemove",this.progressMouseMove),this._progress.addEventListener("mouseleave",this.progressMouseLeave),this._player.addEventListener("mousemove",this.progressDotMouseMove),this._player.addEventListener("mouseup",this.progressDotMouseUp),this._playControllerBottomVolumeProgress.addEventListener("change",this.changeVolumeProgress),this._playControllerBottomRightFullScreen.addEventListener("click",this.openFullScreen),this._playControllerBottomSpeedIcon.addEventListener("click",this.changePlayerVolume),document.addEventListener("fullscreenchange",this.fullScreenChange),window.addEventListener("resize",this.resize),this.updatePlayer()}disconnectCallback(){this._container.removeEventListener("click",this.dispatchClickPlayerContainerAction),this._playerBtn.removeEventListener("click",this.dispatchClickPlayerBtnAction),this._playerControllerBottomPlayBtn.removeEventListener("click",this.dispatchClickPlayerBtnAction),this.cancelAnimationFrame(),document.removeEventListener("keydown",this.SpaceKeyDown),this._progress.removeEventListener("click",this.progressClick),this._progress.removeEventListener("mouseenter",this.progressMouseEnter),this._progress.removeEventListener("mousemove",this.progressMouseMove),this._progress.removeEventListener("mouseleave",this.progressMouseLeave),this._progressDot.removeEventListener("mousedown",this.progressDotMouseDown),this._player.removeEventListener("mousemove",this.progressDotMouseMove),this._player.removeEventListener("mouseup",this.progressDotMouseUp),this._playControllerBottomVolumeProgress.removeEventListener("change",this.changeVolumeProgress),this._playControllerBottomRightFullScreen.removeEventListener("click",this.openFullScreen),window.removeEventListener("resize",this.resize),document.removeEventListener("fullscreenchange",this.fullScreenChange)}attributeChangedCallback(e,m,v){}}return customElements.define("r-player",re),re}}const dw=uw(),Nw=Object.freeze(Object.defineProperty({__proto__:null,default:dw},Symbol.toStringTag,{value:"Module"})),pw=["percent","type","total","dot"];class Sd extends HTMLElement{constructor(){super(),_t(this,"_progress"),_t(this,"_progressWrap"),_t(this,"_progressWrapValue"),_t(this,"_progressDot"),_t(this,"moveProgress"),_t(this,"progressClick",C=>{const e=this._progress.getBoundingClientRect(),m=C.clientX-e.left,v=Math.min(1,Math.max(0,m/this._progress.offsetWidth));this.percent=v*this.total,this._progressWrapValue.style.setProperty("transform",`scaleX(${v})`),this._progressDot.style.setProperty("transform",`translateX(${v*this._progress.offsetWidth}px)`),this.change()}),_t(this,"progressDotMouseDown",()=>{this.moveProgress.mouseDown=!0}),_t(this,"progressDotMouseMove",C=>{if(!this.moveProgress.mouseDown)return;const e=this._progress.getBoundingClientRect(),m=C.clientX-e.left,v=Math.min(1,Math.max(0,m/this._progress.offsetWidth));this.percent=v*this.total,this._progressWrapValue.style.setProperty("transform",`scaleX(${v})`),this._progressDot.style.setProperty("transform",`translateX(${v*this._progress.offsetWidth}px)`),this.change()}),_t(this,"progressDotMouseUp",C=>{this.moveProgress.mouseDown&&(this.moveProgress.mouseDown=!1)}),_t(this,"change",()=>{this.dispatchEvent(new CustomEvent("change",{detail:{value:this.percent,percent:this.percent,total:this.total}}))}),_t(this,"appendProgressDot",()=>{this.dot==="true"&&!this._progress.contains(this._progressDot)&&this._progress.appendChild(this._progressDot),this.dot==="false"&&this._progress.contains(this._progressDot)&&this._progress.removeChild(this._progressDot)}),_t(this,"updateCurrentProgress",()=>{const C=this.percent/this.total;this._progressWrapValue.style.setProperty("transform",`scaleX(${C})`),this._progressDot.style.setProperty("transform",`translateX(${C*this._progress.offsetWidth}px)`)}),_t(this,"dragEvent",()=>{this.type==="drag"&&(this._progress.addEventListener("click",this.progressClick),this._progressDot.addEventListener("mousedown",this.progressDotMouseDown),document.addEventListener("mousemove",this.progressDotMouseMove),document.addEventListener("mouseup",this.progressDotMouseUp))}),_t(this,"createProgress",()=>{this.contains(this._progress)||(this.appendChild(this._progress),this._progress.appendChild(this._progressDot))}),_t(this,"resize",()=>{this.updateCurrentProgress()}),this._progress=document.createElement("div"),this._progress.setAttribute("class","ran-progress"),this._progressWrap=document.createElement("div"),this._progressWrap.setAttribute("class","ran-progress-wrap"),this._progress.appendChild(this._progressWrap),this._progressWrapValue=document.createElement("div"),this._progressWrapValue.setAttribute("class","ran-progress-wrap-value"),this._progressWrap.appendChild(this._progressWrapValue),this._progressDot=document.createElement("div"),this._progressDot.setAttribute("class","ran-progress-dot"),this.moveProgress={mouseDown:!1}}static get observedAttributes(){return pw}get percent(){const C=this.getAttribute("percent")||"";return $c(C)>this.total?(console.error("percent must be < total"),this.total):$c(C)}set percent(C){this.setAttribute("percent",`${C||0}`)}get total(){const C=this.getAttribute("total");return C?$c(C):1}set total(C){this.setAttribute("total",C||"")}get type(){const C=["primary","drag"],e=this.getAttribute("type")||"";return C.includes(e)?e:"primary"}set type(C){this.setAttribute("type",C||"primary")}get animation(){const C=["play","pause"],e=this.getAttribute("animation")||"";return C.includes(e)?e:"pause"}set animation(C){this.setAttribute("animation",C||"pause")}get dot(){const C=["true","false"],e=this.getAttribute("dot")||"";return C.includes(e)?e:"true"}set dot(C){this.setAttribute("dot",C||"true")}connectedCallback(){this.dragEvent(),this.updateCurrentProgress(),window.addEventListener("resize",this.resize)}disconnectCallback(){this._progress.removeEventListener("click",this.progressClick),this._progressDot.removeEventListener("mousedown",this.progressDotMouseDown),document.removeEventListener("mousemove",this.progressDotMouseMove),document.removeEventListener("mouseup",this.progressDotMouseUp),window.removeEventListener("resize",this.resize)}attributeChangedCallback(C,e,m){e!==m&&(C==="type"&&this.createProgress(),C==="dot"&&this.appendProgressDot(),C==="percent"&&this.updateCurrentProgress())}}function mw(){if(typeof document<"u"&&!customElements.get("r-progress"))customElements.define("r-progress",Sd);else return Bo("document is undefined or r-progress is exist")}const gw=mw(),Bw=Object.freeze(Object.defineProperty({__proto__:null,Progress:Sd,default:gw},Symbol.toStringTag,{value:"Module"}));if(typeof document<"u"){const re=document.createElement("style");re.textContent=cw,document.body.appendChild(re)}export{xw as button,Aw as icon,Cw as image,kw as input,Rw as message,Ow as modal,Bw as progress,Dw as radar,Lw as select,Iw as skeleton,Pw as tab,Mw as tabpane,Nw as video};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/jszip.min-Dhs3nUkD.BsDI-Ugu.js","assets/chunks/commonjs-dynamic-modules-DLbDWi6a.CRNIONdy.js"])))=>i.map(i=>d[i]);
import{ak as gc}from"./framework.piCEMs4U.js";import{C as da}from"./colz-DJZvo_8B.DBiU5Tau.js";window.E0DD32CBDCB63F=function(){var o={version:"3.5.9"},h=[].slice,w=function(t){return h.call(t)},v=this.document;function z(t){return t&&(t.ownerDocument||t.document||t).documentElement}function B(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(v)try{w(v.documentElement.childNodes)[0].nodeType}catch{w=function(e){for(var n=e.length,r=new Array(n);n--;)r[n]=e[n];return r}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var T=this.Element.prototype,D=T.setAttribute,R=T.setAttributeNS,M=this.CSSStyleDeclaration.prototype,I=M.setProperty;T.setAttribute=function(e,n){D.call(this,e,n+"")},T.setAttributeNS=function(e,n,r){R.call(this,e,n,r+"")},M.setProperty=function(e,n,r){I.call(this,e,n+"",r)}}o.ascending=k;function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=t[n])!=null&&i>a&&(i=a)}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&i>a&&(i=a)}return i},o.max=function(t,e){var n=-1,r=t.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=t[n])!=null&&a>i&&(i=a)}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&a>i&&(i=a)}return i},o.extent=function(t,e){var n=-1,r=t.length,i,a,l;if(arguments.length===1){for(;++n<r;)if((a=t[n])!=null&&a>=a){i=l=a;break}for(;++n<r;)(a=t[n])!=null&&(i>a&&(i=a),l<a&&(l=a))}else{for(;++n<r;)if((a=e.call(t,t[n],n))!=null&&a>=a){i=l=a;break}for(;++n<r;)(a=e.call(t,t[n],n))!=null&&(i>a&&(i=a),l<a&&(l=a))}return[i,l]};function N(t){return t===null?NaN:+t}function C(t){return!isNaN(t)}o.sum=function(t,e){var n=0,r=t.length,i,a=-1;if(arguments.length===1)for(;++a<r;)C(i=+t[a])&&(n+=i);else for(;++a<r;)C(i=+e.call(t,t[a],a))&&(n+=i);return n},o.mean=function(t,e){var n=0,r=t.length,i,a=-1,l=r;if(arguments.length===1)for(;++a<r;)C(i=N(t[a]))?n+=i:--l;else for(;++a<r;)C(i=N(e.call(t,t[a],a)))?n+=i:--l;if(l)return n/l},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},o.median=function(t,e){var n=[],r=t.length,i,a=-1;if(arguments.length===1)for(;++a<r;)C(i=N(t[a]))&&n.push(i);else for(;++a<r;)C(i=N(e.call(t,t[a],a)))&&n.push(i);if(n.length)return o.quantile(n.sort(k),.5)},o.variance=function(t,e){var n=t.length,r=0,i,a,l=0,s=-1,u=0;if(arguments.length===1)for(;++s<n;)C(i=N(t[s]))&&(a=i-r,r+=a/++u,l+=a*(i-r));else for(;++s<n;)C(i=N(e.call(t,t[s],s)))&&(a=i-r,r+=a/++u,l+=a*(i-r));if(u>1)return l/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t&&Math.sqrt(t)};function q(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var G=q(k);o.bisectLeft=G.left,o.bisect=o.bisectRight=G.right,o.bisector=function(t){return q(t.length===1?function(e,n){return k(t(e),n)}:t)},o.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,r<2&&(e=0));for(var r=n-e,i,a;r;)a=Math.random()*r--|0,i=t[r+e],t[r+e]=t[a+e],t[a+e]=i;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=o.min(arguments,et),n=new Array(e);++t<e;)for(var r=-1,i,a=n[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return n};function et(t){return t.length}o.transpose=function(t){return o.zip.apply(o,t)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e=t.length,n,r=-1,i=0,a,l;++r<e;)i+=t[r].length;for(a=new Array(i);--e>=0;)for(l=t[e],n=l.length;--n>=0;)a[--i]=l[n];return a};var rt=Math.abs;o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r=[],i=vt(rt(n)),a=-1,l;if(t*=i,e*=i,n*=i,n<0)for(;(l=t+n*++a)>e;)r.push(l/i);else for(;(l=t+n*++a)<e;)r.push(l/i);return r};function vt(t){for(var e=1;t*e%1;)e*=10;return e}function Ft(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}o.map=function(t,e){var n=new dt;if(t instanceof dt)t.forEach(function(s,u){n.set(s,u)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(arguments.length===1)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e.call(t,a=t[r],r),a)}else for(var l in t)n.set(l,t[l]);return n};function dt(){this._=Object.create(null)}var ut="__proto__",Mt="\0";Ft(dt,{has:qt,get:function(t){return this._[Gt(t)]},set:function(t,e){return this._[Gt(t)]=e},remove:ce,keys:$t,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:Nt(e),value:this._[e]});return t},size:Et,empty:ee,forEach:function(t){for(var e in this._)t.call(this,Nt(e),this._[e])}});function Gt(t){return(t+="")===ut||t[0]===Mt?Mt+t:t}function Nt(t){return(t+="")[0]===Mt?t.slice(1):t}function qt(t){return Gt(t)in this._}function ce(t){return(t=Gt(t))in this._&&delete this._[t]}function $t(){var t=[];for(var e in this._)t.push(Nt(e));return t}function Et(){var t=0;for(var e in this._)++t;return t}function ee(){for(var t in this._)return!1;return!0}o.nest=function(){var t={},e=[],n=[],r,i;function a(s,u,c){if(c>=e.length)return i?i.call(t,u):r?u.sort(r):u;for(var f=-1,g=u.length,d=e[c++],x,A,m,_=new dt,y;++f<g;)(y=_.get(x=d(A=u[f])))?y.push(A):_.set(x,[A]);return s?(A=s(),m=function(F,b){A.set(F,a(s,b,c))}):(A={},m=function(F,b){A[F]=a(s,b,c)}),_.forEach(m),A}function l(s,u){if(u>=e.length)return s;var c=[],f=n[u++];return s.forEach(function(g,d){c.push({key:g,values:l(d,u)})}),f?c.sort(function(g,d){return f(g.key,d.key)}):c}return t.map=function(s,u){return a(u,s,0)},t.entries=function(s){return l(a(o.map,s,0),0)},t.key=function(s){return e.push(s),t},t.sortKeys=function(s){return n[e.length-1]=s,t},t.sortValues=function(s){return r=s,t},t.rollup=function(s){return i=s,t},t},o.set=function(t){var e=new le;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e};function le(){this._=Object.create(null)}Ft(le,{has:qt,add:function(t){return this._[Gt(t+="")]=!0,t},remove:ce,values:$t,size:Et,empty:ee,forEach:function(t){for(var e in this._)t.call(this,Nt(e))}}),o.behavior={};function ie(t){return t}o.rebind=function(t,e){for(var n=1,r=arguments.length,i;++n<r;)t[i=arguments[n]]=en(t,e,e[i]);return t};function en(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function ge(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ve.length;n<r;++n){var i=ve[n]+e;if(i in t)return i}}var ve=["webkit","ms","moz","Moz","o","O"];function ue(){}o.dispatch=function(){for(var t=new St,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=ae(t);return t};function St(){}St.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(arguments.length===2){if(e==null)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}};function ae(t){var e=[],n=new dt;function r(){for(var i=e,a=-1,l=i.length,s;++a<l;)(s=i[a].on)&&s.apply(this,arguments);return t}return r.on=function(i,a){var l=n.get(i),s;return arguments.length<2?l&&l.on:(l&&(l.on=null,e=e.slice(0,s=e.indexOf(l)).concat(e.slice(s+1)),n.remove(i)),a&&e.push(n.set(i,{on:a})),t)},r}o.event=null;function Qt(){o.event.preventDefault()}function me(){for(var t=o.event,e;e=t.sourceEvent;)t=e;return t}function Ce(t){for(var e=new St,n=0,r=arguments.length;++n<r;)e[arguments[n]]=ae(e);return e.of=function(i,a){return function(l){try{var s=l.sourceEvent=o.event;l.target=t,o.event=l,e[l.type].apply(i,a)}finally{o.event=s}}},e}o.requote=function(t){return t.replace(be,"\\$&")};var be=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_e={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function wt(t){return _e(t,Ot),t}var Ut=function(t,e){return e.querySelector(t)},re=function(t,e){return e.querySelectorAll(t)},ne=function(t,e){var n=t.matches||t[ge(t,"matchesSelector")];return ne=function(r,i){return n.call(r,i)},ne(t,e)};typeof Sizzle=="function"&&(Ut=function(t,e){return Sizzle(t,e)[0]||null},re=Sizzle,ne=Sizzle.matchesSelector),o.selection=function(){return o.select(v.documentElement)};var Ot=o.selection.prototype=[];Ot.select=function(t){var e=[],n,r,i,a;t=fe(t);for(var l=-1,s=this.length;++l<s;){e.push(n=[]),n.parentNode=(i=this[l]).parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(n.push(r=t.call(a,a.__data__,u,l)),r&&"__data__"in a&&(r.__data__=a.__data__)):n.push(null)}return wt(e)};function fe(t){return typeof t=="function"?t:function(){return Ut(t,this)}}Ot.selectAll=function(t){var e=[],n,r;t=Vt(t);for(var i=-1,a=this.length;++i<a;)for(var l=this[i],s=-1,u=l.length;++s<u;)(r=l[s])&&(e.push(n=w(t.call(r,r.__data__,s,i))),n.parentNode=r);return wt(e)};function Vt(t){return typeof t=="function"?t:function(){return re(t,this)}}var Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:Pe,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Pe.hasOwnProperty(n)?{space:Pe[n],local:t}:t}},Ot.attr=function(t,e){if(arguments.length<2){if(typeof t=="string"){var n=this.node();return t=o.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(mn(e,t[e]));return this}return this.each(mn(t,e))};function mn(t,e){t=o.ns.qualify(t);function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function l(){var u=e.apply(this,arguments);u==null?this.removeAttribute(t):this.setAttribute(t,u)}function s(){var u=e.apply(this,arguments);u==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,u)}return e==null?t.local?r:n:typeof e=="function"?t.local?s:l:t.local?a:i}function un(t){return t.trim().replace(/\s+/g," ")}Ot.classed=function(t,e){if(arguments.length<2){if(typeof t=="string"){var n=this.node(),r=(t=Se(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Cn(t[i]).test(e))return!1;return!0}for(e in t)this.each(Ae(e,t[e]));return this}return this.each(Ae(t,e))};function Cn(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function Se(t){return(t+"").trim().split(/^|\s+/)}function Ae(t,e){t=Se(t).map(nn);var n=t.length;function r(){for(var a=-1;++a<n;)t[a](this,e)}function i(){for(var a=-1,l=e.apply(this,arguments);++a<n;)t[a](this,l)}return typeof e=="function"?i:r}function nn(t){var e=Cn(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",un(i+" "+t))):n.setAttribute("class",un(i.replace(e," ")))}}Ot.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e="");for(n in t)this.each(Rn(n,t[n],e));return this}if(r<2){var i=this.node();return B(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(Rn(t,e,n))};function Rn(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function a(){var l=e.apply(this,arguments);l==null?this.style.removeProperty(t):this.style.setProperty(t,l,n)}return e==null?r:typeof e=="function"?a:i}Ot.property=function(t,e){if(arguments.length<2){if(typeof t=="string")return this.node()[t];for(e in t)this.each(Z(e,t[e]));return this}return this.each(Z(t,e))};function Z(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var a=e.apply(this,arguments);a==null?delete this[t]:this[t]=a}return e==null?n:typeof e=="function"?i:r}Ot.text=function(t){return arguments.length?this.each(typeof t=="function"?function(){var e=t.apply(this,arguments);this.textContent=e??""}:t==null?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ot.html=function(t){return arguments.length?this.each(typeof t=="function"?function(){var e=t.apply(this,arguments);this.innerHTML=e??""}:t==null?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ot.append=function(t){return t=cn(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})};function cn(t){function e(){var r=this.ownerDocument,i=this.namespaceURI;return i?r.createElementNS(i,t):r.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return typeof t=="function"?t:(t=o.ns.qualify(t)).local?n:e}Ot.insert=function(t,e){return t=cn(t),e=fe(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ot.remove=function(){return this.each(mr)};function mr(){var t=this.parentNode;t&&t.removeChild(this)}Ot.data=function(t,e){var n=-1,r=this.length,i,a;if(!arguments.length){for(t=new Array(r=(i=this[0]).length);++n<r;)(a=i[n])&&(t[n]=a.__data__);return t}function l(f,g){var d,x=f.length,A=g.length,m=Math.min(x,A),_=new Array(A),y=new Array(A),F=new Array(x),b,P;if(e){var W=new dt,Y=new Array(x),H;for(d=-1;++d<x;)(b=f[d])&&(W.has(H=e.call(b,b.__data__,d))?F[d]=b:W.set(H,b),Y[d]=H);for(d=-1;++d<A;)(b=W.get(H=e.call(g,P=g[d],d)))?b!==!0&&(_[d]=b,b.__data__=P):y[d]=He(P),W.set(H,!0);for(d=-1;++d<x;)d in Y&&W.get(Y[d])!==!0&&(F[d]=f[d])}else{for(d=-1;++d<m;)b=f[d],P=g[d],b?(b.__data__=P,_[d]=b):y[d]=He(P);for(;d<A;++d)y[d]=He(g[d]);for(;d<x;++d)F[d]=f[d]}y.update=_,y.parentNode=_.parentNode=F.parentNode=f.parentNode,s.push(y),u.push(_),c.push(F)}var s=_r([]),u=wt([]),c=wt([]);if(typeof t=="function")for(;++n<r;)l(i=this[n],t.call(i,i.parentNode.__data__,n));else for(;++n<r;)l(i=this[n],t);return u.enter=function(){return s},u.exit=function(){return c},u};function He(t){return{__data__:t}}Ot.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ot.filter=function(t){var e=[],n,r,i;typeof t!="function"&&(t=On(t));for(var a=0,l=this.length;a<l;a++){e.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=0,u=r.length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,a)&&n.push(i)}return wt(e)};function On(t){return function(){return ne(this,t)}}Ot.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n=this[t],r=n.length-1,i=n[r],a;--r>=0;)(a=n[r])&&(i&&i!==a.nextSibling&&i.parentNode.insertBefore(a,i),i=a);return this},Ot.sort=function(t){t=di.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()};function di(t){return arguments.length||(t=k),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}Ot.each=function(t){return Ze(this,function(e,n,r){t.call(e,e.__data__,n,r)})};function Ze(t,e){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],a=0,l=i.length,s;a<l;a++)(s=i[a])&&e(s,a,n);return t}Ot.call=function(t){var e=w(arguments);return t.apply(e[0]=this,e),this},Ot.empty=function(){return!this.node()},Ot.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},Ot.size=function(){var t=0;return Ze(this,function(){++t}),t};function _r(t){return _e(t,$e),t}var $e=[];o.selection.enter=_r,o.selection.enter.prototype=$e,$e.append=Ot.append,$e.empty=Ot.empty,$e.node=Ot.node,$e.call=Ot.call,$e.size=Ot.size,$e.select=function(t){for(var e=[],n,r,i,a,l,s=-1,u=this.length;++s<u;){i=(a=this[s]).update,e.push(n=[]),n.parentNode=a.parentNode;for(var c=-1,f=a.length;++c<f;)(l=a[c])?(n.push(i[c]=r=t.call(a.parentNode,l.__data__,c,s)),r.__data__=l.__data__):n.push(null)}return wt(e)},$e.insert=function(t,e){return arguments.length<2&&(e=S(this)),Ot.insert.call(this,t,e)};function S(t){var e,n;return function(r,i,a){var l=t[a].update,s=l.length,u;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(u=l[e])&&++e<s;);return u}}o.select=function(t){var e;return typeof t=="string"?(e=[Ut(t,v)],e.parentNode=v.documentElement):(e=[t],e.parentNode=z(t)),wt([e])},o.selectAll=function(t){var e;return typeof t=="string"?(e=w(re(t,v)),e.parentNode=v.documentElement):(e=w(t),e.parentNode=null),wt([e])},Ot.on=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e=!1);for(n in t)this.each(O(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(O(t,e,n))};function O(t,e,n){var r="__on"+t,i=t.indexOf("."),a=j;i>0&&(t=t.slice(0,i));var l=E.get(t);l&&(t=l,a=U);function s(){var f=this[r];f&&(this.removeEventListener(t,f,f.$),delete this[r])}function u(){var f=a(e,w(arguments));s.call(this),this.addEventListener(t,this[r]=f,f.$=n),f._=e}function c(){var f=new RegExp("^__on([^.]+)"+o.requote(t)+"$"),g;for(var d in this)if(g=d.match(f)){var x=this[d];this.removeEventListener(g[1],x,x.$),delete this[d]}}return i?e?u:s:e?ue:c}var E=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&E.forEach(function(t){"on"+t in v&&E.remove(t)});function j(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function U(t,e){var n=j(t,e);return function(r){var i=this,a=r.relatedTarget;(!a||a!==i&&!(a.compareDocumentPosition(i)&8))&&n.call(i,r)}}var J,at=0;function lt(t){var e=".dragsuppress-"+ ++at,n="click"+e,r=o.select(B(t)).on("touchmove"+e,Qt).on("dragstart"+e,Qt).on("selectstart"+e,Qt);if(J==null&&(J="onselectstart"in t?!1:ge(t.style,"userSelect")),J){var i=z(t).style,a=i[J];i[J]="none"}return function(l){if(r.on(e,null),J&&(i[J]=a),l){var s=function(){r.on(n,null)};r.on(n,function(){Qt(),s()},!0),setTimeout(s,0)}}}o.mouse=function(t){return ct(t,me())};var ot=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ct(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(ot<0){var i=B(t);if(i.scrollX||i.scrollY){n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();ot=!(a.f||a.e),n.remove()}}return ot?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=me().changedTouches),e){for(var r=0,i=e.length,a;r<i;++r)if((a=e[r]).identifier===n)return ct(t,a)}},o.behavior.drag=function(){var t=Ce(i,"drag","dragstart","dragend"),e=null,n=a(ue,o.mouse,B,"mousemove","mouseup"),r=a(kt,o.touch,ie,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(l,s,u,c,f){return function(){var g=this,d=o.event.target,x=g.parentNode,A=t.of(g,arguments),m=0,_=l(),y=".drag"+(_==null?"":"-"+_),F,b=o.select(u(d)).on(c+y,Y).on(f+y,H),P=lt(d),W=s(x,_);e?(F=e.apply(g,arguments),F=[F.x-W[0],F.y-W[1]]):F=[0,0],A({type:"dragstart"});function Y(){var V=s(x,_),st,gt;V&&(st=V[0]-W[0],gt=V[1]-W[1],m|=st|gt,W=V,A({type:"drag",x:V[0]+F[0],y:V[1]+F[1],dx:st,dy:gt}))}function H(){s(x,_)&&(b.on(c+y,null).on(f+y,null),P(m),A({type:"dragend"}))}}}return i.origin=function(l){return arguments.length?(e=l,i):e},o.rebind(i,t,"on")};function kt(){return o.event.changedTouches[0].identifier}o.touches=function(t,e){return arguments.length<2&&(e=me().touches),e?w(e).map(function(n){var r=ct(t,n);return r.identifier=n.identifier,r}):[]};var Q=1e-6,jt=Q*Q,it=Math.PI,K=2*it,Lt=K-Q,bt=it/2,_t=it/180,zt=180/it;function $(t){return t>0?1:t<0?-1:0}function X(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ht(t){return t>1?0:t<-1?it:Math.acos(t)}function Yt(t){return t>1?bt:t<-1?-bt:Math.asin(t)}function Wt(t){return((t=Math.exp(t))-1/t)/2}function Xt(t){return((t=Math.exp(t))+1/t)/2}function Jt(t){return((t=Math.exp(2*t))-1)/(t+1)}function te(t){return(t=Math.sin(t/2))*t}var Tt=Math.SQRT2,Rt=2,Bt=4;o.interpolateZoom=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],l=e[1],s=e[2],u=a-n,c=l-r,f=u*u+c*c,g,d;if(f<jt)d=Math.log(s/i)/Tt,g=function(F){return[n+F*u,r+F*c,i*Math.exp(Tt*F*d)]};else{var x=Math.sqrt(f),A=(s*s-i*i+Bt*f)/(2*i*Rt*x),m=(s*s-i*i-Bt*f)/(2*s*Rt*x),_=Math.log(Math.sqrt(A*A+1)-A),y=Math.log(Math.sqrt(m*m+1)-m);d=(y-_)/Tt,g=function(F){var b=F*d,P=Xt(_),W=i/(Rt*x)*(P*Jt(Tt*b+_)-Wt(_));return[n+W*u,r+W*c,i*P/Xt(Tt*b+_)]}}return g.duration=d*1e3,g},o.behavior.zoom=function(){var t={x:0,y:0,k:1},e,n,r,i=[960,500],a=oe,l=250,s=0,u="mousedown.zoom",c="mousemove.zoom",f="mouseup.zoom",g,d="touchstart.zoom",x,A=Ce(b,"zoomstart","zoom","zoomend"),m,_,y,F;ye||(ye="onwheel"in v?(Pt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Pt=function(){return o.event.wheelDelta},"mousewheel"):(Pt=function(){return-o.event.detail},"MozMousePixelScroll"));function b(nt){nt.on(u,Ct).on(ye+".zoom",ft).on("dblclick.zoom",yt).on(d,tt)}b.event=function(nt){nt.each(function(){var mt=A.of(this,arguments),Dt=t;Bn?o.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},gt(mt)}).tween("zoom:zoom",function(){var Ht=i[0],Zt=i[1],se=n?n[0]:Ht/2,pe=n?n[1]:Zt/2,Ee=o.interpolateZoom([(se-t.x)/t.k,(pe-t.y)/t.k,Ht/t.k],[(se-Dt.x)/Dt.k,(pe-Dt.y)/Dt.k,Ht/Dt.k]);return function(Ie){var Be=Ee(Ie),Re=Ht/Be[2];this.__chart__=t={x:se-Be[0]*Re,y:pe-Be[1]*Re,k:Re},At(mt)}}).each("interrupt.zoom",function(){xt(mt)}).each("end.zoom",function(){xt(mt)}):(this.__chart__=t,gt(mt),At(mt),xt(mt))})},b.translate=function(nt){return arguments.length?(t={x:+nt[0],y:+nt[1],k:t.k},st(),b):[t.x,t.y]},b.scale=function(nt){return arguments.length?(t={x:t.x,y:t.y,k:null},Y(+nt),st(),b):t.k},b.scaleExtent=function(nt){return arguments.length?(a=nt==null?oe:[+nt[0],+nt[1]],b):a},b.center=function(nt){return arguments.length?(r=nt&&[+nt[0],+nt[1]],b):r},b.size=function(nt){return arguments.length?(i=nt&&[+nt[0],+nt[1]],b):i},b.duration=function(nt){return arguments.length?(l=+nt,b):l},b.x=function(nt){return arguments.length?(_=nt,m=nt.copy(),t={x:0,y:0,k:1},b):_},b.y=function(nt){return arguments.length?(F=nt,y=nt.copy(),t={x:0,y:0,k:1},b):F};function P(nt){return[(nt[0]-t.x)/t.k,(nt[1]-t.y)/t.k]}function W(nt){return[nt[0]*t.k+t.x,nt[1]*t.k+t.y]}function Y(nt){t.k=Math.max(a[0],Math.min(a[1],nt))}function H(nt,mt){mt=W(mt),t.x+=nt[0]-mt[0],t.y+=nt[1]-mt[1]}function V(nt,mt,Dt,Ht){nt.__chart__={x:t.x,y:t.y,k:t.k},Y(Math.pow(2,Ht)),H(n=mt,Dt),nt=o.select(nt),l>0&&(nt=nt.transition().duration(l)),nt.call(b.event)}function st(){_&&_.domain(m.range().map(function(nt){return(nt-t.x)/t.k}).map(m.invert)),F&&F.domain(y.range().map(function(nt){return(nt-t.y)/t.k}).map(y.invert))}function gt(nt){s++||nt({type:"zoomstart"})}function At(nt){st(),nt({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function xt(nt){--s||(nt({type:"zoomend"}),n=null)}function Ct(){var nt=this,mt=A.of(nt,arguments),Dt=0,Ht=o.select(B(nt)).on(c,pe).on(f,Ee),Zt=P(o.mouse(nt)),se=lt(nt);si.call(nt),gt(mt);function pe(){Dt=1,H(o.mouse(nt),Zt),At(mt)}function Ee(){Ht.on(c,null).on(f,null),se(Dt),xt(mt)}}function tt(){var nt=this,mt=A.of(nt,arguments),Dt={},Ht=0,Zt,se=".zoom-"+o.event.changedTouches[0].identifier,pe="touchmove"+se,Ee="touchend"+se,Ie=[],Be=o.select(nt),Re=lt(nt);Oe(),gt(mt),Be.on(u,null).on(d,Oe);function Te(){var tn=o.touches(nt);return Zt=t.k,tn.forEach(function(Fe){Fe.identifier in Dt&&(Dt[Fe.identifier]=P(Fe))}),tn}function Oe(){var tn=o.event.target;o.select(tn).on(pe,In).on(Ee,hc),Ie.push(tn);for(var Fe=o.event.changedTouches,Xe=0,ln=Fe.length;Xe<ln;++Xe)Dt[Fe[Xe].identifier]=null;var We=Te(),Qn=Date.now();if(We.length===1){if(Qn-x<500){var zn=We[0];V(nt,zn,Dt[zn.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),Qt()}x=Qn}else if(We.length>1){var zn=We[0],kn=We[1],fi=zn[0]-kn[0],ws=zn[1]-kn[1];Ht=fi*fi+ws*ws}}function In(){var tn=o.touches(nt),Fe,Xe,ln,We;si.call(nt);for(var Qn=0,zn=tn.length;Qn<zn;++Qn,We=null)if(ln=tn[Qn],We=Dt[ln.identifier]){if(Xe)break;Fe=ln,Xe=We}if(We){var kn=(kn=ln[0]-Fe[0])*kn+(kn=ln[1]-Fe[1])*kn,fi=Ht&&Math.sqrt(kn/Ht);Fe=[(Fe[0]+ln[0])/2,(Fe[1]+ln[1])/2],Xe=[(Xe[0]+We[0])/2,(Xe[1]+We[1])/2],Y(fi*Zt)}x=null,H(Fe,Xe),At(mt)}function hc(){if(o.event.touches.length){for(var tn=o.event.changedTouches,Fe=0,Xe=tn.length;Fe<Xe;++Fe)delete Dt[tn[Fe].identifier];for(var ln in Dt)return void Te()}o.selectAll(Ie).on(se,null),Be.on(u,Ct).on(d,tt),Re(),xt(mt)}}function ft(){var nt=A.of(this,arguments);g?clearTimeout(g):(si.call(this),e=P(n=r||o.mouse(this)),gt(nt)),g=setTimeout(function(){g=null,xt(nt)},50),Qt(),Y(Math.pow(2,Pt()*.002)*t.k),H(n,e),At(nt)}function yt(){var nt=o.mouse(this),mt=Math.log(t.k)/Math.LN2;V(this,nt,P(nt),o.event.shiftKey?Math.ceil(mt)-1:Math.floor(mt)+1)}return o.rebind(b,A,"on")};var oe=[0,1/0],Pt,ye;o.color=Kt;function Kt(){}Kt.prototype.toString=function(){return this.rgb()+""},o.hsl=he;function he(t,e,n){return this instanceof he?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof he?new he(t.h,t.s,t.l):_a(""+t,ya,he):new he(t,e,n)}var je=he.prototype=new Kt;je.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new he(this.h,this.s,this.l/t)},je.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new he(this.h,this.s,t*this.l)},je.rgb=function(){return Mn(this.h,this.s,this.l)};function Mn(t,e,n){var r,i;t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;function a(s){return s>360?s-=360:s<0&&(s+=360),s<60?r+(i-r)*s/60:s<180?i:s<240?r+(i-r)*(240-s)/60:r}function l(s){return Math.round(a(s)*255)}return new ze(l(t+120),l(t),l(t-120))}o.hcl=ke;function ke(t,e,n){return this instanceof ke?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ke?new ke(t.h,t.c,t.l):t instanceof xe?yr(t.l,t.a,t.b):yr((t=va((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ke(t,e,n)}var Ne=ke.prototype=new Kt;Ne.brighter=function(t){return new ke(this.h,this.c,Math.min(100,this.l+rn*(arguments.length?t:1)))},Ne.darker=function(t){return new ke(this.h,this.c,Math.max(0,this.l-rn*(arguments.length?t:1)))},Ne.rgb=function(){return Ge(this.h,this.c,this.l).rgb()};function Ge(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new xe(n,Math.cos(t*=_t)*e,Math.sin(t)*e)}o.lab=xe;function xe(t,e,n){return this instanceof xe?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof xe?new xe(t.l,t.a,t.b):t instanceof ke?Ge(t.h,t.c,t.l):va((t=ze(t)).r,t.g,t.b):new xe(t,e,n)}var rn=18,Ve=.95047,an=1,Ue=1.08883,fn=xe.prototype=new Kt;fn.brighter=function(t){return new xe(Math.min(100,this.l+rn*(arguments.length?t:1)),this.a,this.b)},fn.darker=function(t){return new xe(Math.max(0,this.l-rn*(arguments.length?t:1)),this.a,this.b)},fn.rgb=function(){return jn(this.l,this.a,this.b)};function jn(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=tr(i)*Ve,r=tr(r)*an,a=tr(a)*Ue,new ze(mi(3.2404542*i-1.5371385*r-.4985314*a),mi(-.969266*i+1.8760108*r+.041556*a),mi(.0556434*i-.2040259*r+1.0572252*a))}function yr(t,e,n){return t>0?new ke(Math.atan2(n,e)*zt,Math.sqrt(e*e+n*n),t):new ke(NaN,NaN,t)}function tr(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pi(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mi(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}o.rgb=ze;function ze(t,e,n){return this instanceof ze?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ze?new ze(t.r,t.g,t.b):_a(""+t,ze,Mn):new ze(t,e,n)}function ma(t){return new ze(t>>16,t>>8&255,t&255)}function vr(t){return ma(t)+""}var xr=ze.prototype=new Kt;xr.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return!e&&!n&&!r?new ze(i,i,i):(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ze(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t)))},xr.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ze(t*this.r,t*this.g,t*this.b)},xr.hsl=function(){return ya(this.r,this.g,this.b)},xr.toString=function(){return"#"+Gn(this.r)+Gn(this.g)+Gn(this.b)};function Gn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _a(t,e,n){var r=0,i=0,a=0,l,s,u;if(l=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()),l)switch(s=l[2].split(","),l[1]){case"hsl":return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case"rgb":return e(yi(s[0]),yi(s[1]),yi(s[2]))}return(u=br.get(t))?e(u.r,u.g,u.b):(t!=null&&t.charAt(0)==="#"&&!isNaN(u=parseInt(t.slice(1),16))&&(t.length===4?(r=(u&3840)>>4,r=r>>4|r,i=u&240,i=i>>4|i,a=u&15,a=a<<4|a):t.length===7&&(r=(u&16711680)>>16,i=(u&65280)>>8,a=u&255)),e(r,i,a))}function ya(t,e,n){var r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),a=i-r,l,s,u=(i+r)/2;return a?(s=u<.5?a/(i+r):a/(2-i-r),t==i?l=(e-n)/a+(e<n?6:0):e==i?l=(n-t)/a+2:l=(t-e)/a+4,l*=60):(l=NaN,s=u>0&&u<1?0:l),new he(l,s,u)}function va(t,e,n){t=_i(t),e=_i(e),n=_i(n);var r=pi((.4124564*t+.3575761*e+.1804375*n)/Ve),i=pi((.2126729*t+.7151522*e+.072175*n)/an),a=pi((.0193339*t+.119192*e+.9503041*n)/Ue);return xe(116*i-16,500*(r-i),200*(i-a))}function _i(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yi(t){var e=parseFloat(t);return t.charAt(t.length-1)==="%"?Math.round(e*2.55):e}var br=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});br.forEach(function(t,e){br.set(t,ma(e))});function de(t){return typeof t=="function"?t:function(){return t}}o.functor=de,o.xhr=vi(ie);function vi(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=null),wr(e,n,t,r)}}function wr(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,u=null;this.XDomainRequest&&!("withCredentials"in s)&&/^(http(s)?:)?\/\//.test(t)&&(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=c:s.onreadystatechange=function(){s.readyState>3&&c()};function c(){var f=s.status,g;if(!f&&Ms(s)||f>=200&&f<300||f===304){try{g=n.call(i,s)}catch(d){a.error.call(i,d);return}a.load.call(i,g)}else a.error.call(i,s)}return s.onprogress=function(f){var g=o.event;o.event=f;try{a.progress.call(i,s)}finally{o.event=g}},i.header=function(f,g){return f=(f+"").toLowerCase(),arguments.length<2?l[f]:(g==null?delete l[f]:l[f]=g+"",i)},i.mimeType=function(f){return arguments.length?(e=f==null?null:f+"",i):e},i.responseType=function(f){return arguments.length?(u=f,i):u},i.response=function(f){return n=f,i},["get","post"].forEach(function(f){i[f]=function(){return i.send.apply(i,[f].concat(w(arguments)))}}),i.send=function(f,g,d){if(arguments.length===2&&typeof g=="function"&&(d=g,g=null),s.open(f,t,!0),e!=null&&!("accept"in l)&&(l.accept=e+",*/*"),s.setRequestHeader)for(var x in l)s.setRequestHeader(x,l[x]);return e!=null&&s.overrideMimeType&&s.overrideMimeType(e),u!=null&&(s.responseType=u),d!=null&&i.on("error",d).on("load",function(A){d(null,A)}),a.beforesend.call(i,s),s.send(g??null),i},i.abort=function(){return s.abort(),i},o.rebind(i,a,"on"),r==null?i:i.get(Cs(r))}function Cs(t){return t.length===1?function(e,n){t(e==null?n:null)}:t}function Ms(t){var e=t.responseType;return e&&e!=="text"?t.response:t.responseText}o.dsv=function(t,e){var n=new RegExp('["'+t+`
]`),r=t.charCodeAt(0);function i(c,f,g){arguments.length<3&&(g=f,f=null);var d=wr(c,e,f==null?a:l(f),g);return d.row=function(x){return arguments.length?d.response((f=x)==null?a:l(x)):f},d}function a(c){return i.parse(c.responseText)}function l(c){return function(f){return i.parse(f.responseText,c)}}i.parse=function(c,f){var g;return i.parseRows(c,function(d,x){if(g)return g(d,x-1);var A=new Function("d","return {"+d.map(function(m,_){return JSON.stringify(m)+": d["+_+"]"}).join(",")+"}");g=f?function(m,_){return f(A(m),_)}:A})},i.parseRows=function(c,f){var g={},d={},x=[],A=c.length,m=0,_=0,y,F;function b(){if(m>=A)return d;if(F)return F=!1,g;var W=m;if(c.charCodeAt(W)===34){for(var Y=W;Y++<A;)if(c.charCodeAt(Y)===34){if(c.charCodeAt(Y+1)!==34)break;++Y}m=Y+2;var H=c.charCodeAt(Y+1);return H===13?(F=!0,c.charCodeAt(Y+2)===10&&++m):H===10&&(F=!0),c.slice(W+1,Y).replace(/""/g,'"')}for(;m<A;){var H=c.charCodeAt(m++),V=1;if(H===10)F=!0;else if(H===13)F=!0,c.charCodeAt(m)===10&&(++m,++V);else if(H!==r)continue;return c.slice(W,m-V)}return c.slice(W)}for(;(y=b())!==d;){for(var P=[];y!==g&&y!==d;)P.push(y),y=b();f&&(P=f(P,_++))==null||x.push(P)}return x},i.format=function(c){if(Array.isArray(c[0]))return i.formatRows(c);var f=new le,g=[];return c.forEach(function(d){for(var x in d)f.has(x)||g.push(f.add(x))}),[g.map(u).join(t)].concat(c.map(function(d){return g.map(function(x){return u(d[x])}).join(t)})).join(`
`)},i.formatRows=function(c){return c.map(s).join(`
`)};function s(c){return c.map(u).join(t)}function u(c){return n.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}return i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var kr,Cr,Mr,Sr,xa=this[ge(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};o.timer=function(){Pr.apply(this,arguments)};function Pr(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return Cr?Cr.n=a:kr=a,Cr=a,Mr||(Sr=clearTimeout(Sr),Mr=1,xa(xi)),a}function xi(){var t=ba(),e=wa()-t;e>24?(isFinite(e)&&(clearTimeout(Sr),Sr=setTimeout(xi,e)),Mr=0):(Mr=1,xa(xi))}o.timer.flush=function(){ba(),wa()};function ba(){for(var t=Date.now(),e=kr;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function wa(){for(var t,e=kr,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:kr=e.n;return Cr=t,n}function bi(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ss=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(Ps);o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,bi(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n-1)/3)*3))),Ss[8+n/3]};function Ps(t,e){var n=Math.pow(10,rt(8-e)*3);return{scale:e>8?function(r){return r/n}:function(r){return r*n},symbol:t}}function As(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(l,s){for(var u=l.length,c=[],f=0,g=r[0],d=0;u>0&&g>0&&(d+g+1>s&&(g=Math.max(1,s-d)),c.push(l.substring(u-=g,u+g)),!((d+=g+1)>s));)g=r[f=(f+1)%r.length];return c.reverse().join(n)}:ie;return function(l){var s=ka.exec(l),u=s[1]||" ",c=s[2]||">",f=s[3]||"-",g=s[4]||"",d=s[5],x=+s[6],A=s[7],m=s[8],_=s[9],y=1,F="",b="",P=!1,W=!0;switch(m&&(m=+m.substring(1)),(d||u==="0"&&c==="=")&&(d=u="0",c="="),_){case"n":A=!0,_="g";break;case"%":y=100,b="%",_="f";break;case"p":y=100,b="%",_="r";break;case"b":case"o":case"x":case"X":g==="#"&&(F="0"+_.toLowerCase());case"c":W=!1;case"d":P=!0,m=0;break;case"s":y=-1,_="r";break}g==="$"&&(F=i[0],b=i[1]),_=="r"&&!m&&(_="g"),m!=null&&(_=="g"?m=Math.max(1,Math.min(21,m)):(_=="e"||_=="f")&&(m=Math.max(0,Math.min(20,m)))),_=Fs.get(_)||Ls;var Y=d&&A;return function(H){var V=b;if(P&&H%1)return"";var st=H<0||H===0&&1/H<0?(H=-H,"-"):f==="-"?"":f;if(y<0){var gt=o.formatPrefix(H,m);H=gt.scale(H),V=gt.symbol+b}else H*=y;H=_(H,m);var At=H.lastIndexOf("."),xt,Ct;if(At<0){var tt=W?H.lastIndexOf("e"):-1;tt<0?(xt=H,Ct=""):(xt=H.substring(0,tt),Ct=H.substring(tt))}else xt=H.substring(0,At),Ct=e+H.substring(At+1);!d&&A&&(xt=a(xt,1/0));var ft=F.length+xt.length+Ct.length+(Y?0:st.length),yt=ft<x?new Array(ft=x-ft+1).join(u):"";return Y&&(xt=a(yt+xt,yt.length?x-Ct.length:1/0)),st+=F,H=xt+Ct,(c==="<"?st+H+yt:c===">"?yt+st+H:c==="^"?yt.substring(0,ft>>=1)+st+H+yt.substring(ft):st+(Y?H:yt+H))+V}}}var ka=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Fs=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,bi(t,e))).toFixed(Math.max(0,Math.min(20,bi(t*(1+1e-15),e))))}});function Ls(t){return t+""}var It=o.time={},Le=Date;function hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gn.setUTCDate.apply(this._,arguments)},setDay:function(){gn.setUTCDay.apply(this._,arguments)},setFullYear:function(){gn.setUTCFullYear.apply(this._,arguments)},setHours:function(){gn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gn.setUTCSeconds.apply(this._,arguments)},setTime:function(){gn.setTime.apply(this._,arguments)}};var gn=Date.prototype;function Sn(t,e,n){function r(c){var f=t(c),g=a(f,1);return c-f<g-c?f:g}function i(c){return e(c=t(new Le(c-1)),1),c}function a(c,f){return e(c=new Le(+c),f),c}function l(c,f,g){var d=i(c),x=[];if(g>1)for(;d<f;)n(d)%g||x.push(new Date(+d)),e(d,1);else for(;d<f;)x.push(new Date(+d)),e(d,1);return x}function s(c,f,g){try{Le=hn;var d=new hn;return d._=c,l(d,f,g)}finally{Le=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=l;var u=t.utc=Ar(t);return u.floor=u,u.round=Ar(r),u.ceil=Ar(i),u.offset=Ar(a),u.range=s,t}function Ar(t){return function(e,n){try{Le=hn;var r=new hn;return r._=e,t(r,n)._}finally{Le=Date}}}It.year=Sn(function(t){return t=It.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),It.years=It.year.range,It.years.utc=It.year.utc.range,It.day=Sn(function(t){var e=new Le(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),It.days=It.day.range,It.days.utc=It.day.utc.range,It.dayOfYear=function(t){var e=It.year(t);return Math.floor((t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=It[t]=Sn(function(r){return(r=It.day(r)).setDate(r.getDate()-(r.getDay()+e)%7),r},function(r,i){r.setDate(r.getDate()+Math.floor(i)*7)},function(r){var i=It.year(r).getDay();return Math.floor((It.dayOfYear(r)+(i+e)%7)/7)-(i!==e)});It[t+"s"]=n.range,It[t+"s"].utc=n.utc.range,It[t+"OfYear"]=function(r){var i=It.year(r).getDay();return Math.floor((It.dayOfYear(r)+(i+e)%7)/7)}}),It.week=It.sunday,It.weeks=It.sunday.range,It.weeks.utc=It.sunday.utc.range,It.weekOfYear=It.sundayOfYear;function Ts(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,s=t.months,u=t.shortMonths;function c(tt){var ft=tt.length;function yt(nt){for(var mt=[],Dt=-1,Ht=0,Zt,se,pe;++Dt<ft;)tt.charCodeAt(Dt)===37&&(mt.push(tt.slice(Ht,Dt)),(se=Ca[Zt=tt.charAt(++Dt)])!=null&&(Zt=tt.charAt(++Dt)),(pe=P[Zt])&&(Zt=pe(nt,se??(Zt==="e"?" ":"0"))),mt.push(Zt),Ht=Dt+1);return mt.push(tt.slice(Ht,Dt)),mt.join("")}return yt.parse=function(nt){var mt={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},Dt=f(mt,tt,nt,0);if(Dt!=nt.length)return null;"p"in mt&&(mt.H=mt.H%12+mt.p*12);var Ht=mt.Z!=null&&Le!==hn,Zt=new(Ht?hn:Le);return"j"in mt?Zt.setFullYear(mt.y,0,mt.j):"W"in mt||"U"in mt?("w"in mt||(mt.w="W"in mt?1:0),Zt.setFullYear(mt.y,0,1),Zt.setFullYear(mt.y,0,"W"in mt?(mt.w+6)%7+mt.W*7-(Zt.getDay()+5)%7:mt.w+mt.U*7-(Zt.getDay()+6)%7)):Zt.setFullYear(mt.y,mt.m,mt.d),Zt.setHours(mt.H+(mt.Z/100|0),mt.M+mt.Z%100,mt.S,mt.L),Ht?Zt._:Zt},yt.toString=function(){return tt},yt}function f(tt,ft,yt,nt){for(var mt,Dt,Ht,Zt=0,se=ft.length,pe=yt.length;Zt<se;){if(nt>=pe)return-1;if(mt=ft.charCodeAt(Zt++),mt===37){if(Ht=ft.charAt(Zt++),Dt=W[Ht in Ca?ft.charAt(Zt++):Ht],!Dt||(nt=Dt(tt,yt,nt))<0)return-1}else if(mt!=yt.charCodeAt(nt++))return-1}return nt}c.utc=function(tt){var ft=c(tt);function yt(nt){try{Le=hn;var mt=new Le;return mt._=nt,ft(mt)}finally{Le=Date}}return yt.parse=function(nt){try{Le=hn;var mt=ft.parse(nt);return mt&&mt._}finally{Le=Date}},yt.toString=ft.toString,yt},c.multi=c.utc.multi=Ys;var g=o.map(),d=Fr(a),x=Lr(a),A=Fr(l),m=Lr(l),_=Fr(s),y=Lr(s),F=Fr(u),b=Lr(u);i.forEach(function(tt,ft){g.set(tt.toLowerCase(),ft)});var P={a:function(tt){return l[tt.getDay()]},A:function(tt){return a[tt.getDay()]},b:function(tt){return u[tt.getMonth()]},B:function(tt){return s[tt.getMonth()]},c:c(e),d:function(tt,ft){return De(tt.getDate(),ft,2)},e:function(tt,ft){return De(tt.getDate(),ft,2)},H:function(tt,ft){return De(tt.getHours(),ft,2)},I:function(tt,ft){return De(tt.getHours()%12||12,ft,2)},j:function(tt,ft){return De(1+It.dayOfYear(tt),ft,3)},L:function(tt,ft){return De(tt.getMilliseconds(),ft,3)},m:function(tt,ft){return De(tt.getMonth()+1,ft,2)},M:function(tt,ft){return De(tt.getMinutes(),ft,2)},p:function(tt){return i[+(tt.getHours()>=12)]},S:function(tt,ft){return De(tt.getSeconds(),ft,2)},U:function(tt,ft){return De(It.sundayOfYear(tt),ft,2)},w:function(tt){return tt.getDay()},W:function(tt,ft){return De(It.mondayOfYear(tt),ft,2)},x:c(n),X:c(r),y:function(tt,ft){return De(tt.getFullYear()%100,ft,2)},Y:function(tt,ft){return De(tt.getFullYear()%1e4,ft,4)},Z:Hs,"%":function(){return"%"}},W={a:Y,A:H,b:V,B:st,c:gt,d:Sa,e:Sa,H:Pa,I:Pa,j:js,L:qs,m:Os,M:Gs,p:Ct,S:Vs,U:Es,w:Ns,W:Bs,x:At,X:xt,y:Is,Y:Ds,Z:zs,"%":Us};function Y(tt,ft,yt){A.lastIndex=0;var nt=A.exec(ft.slice(yt));return nt?(tt.w=m.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function H(tt,ft,yt){d.lastIndex=0;var nt=d.exec(ft.slice(yt));return nt?(tt.w=x.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function V(tt,ft,yt){F.lastIndex=0;var nt=F.exec(ft.slice(yt));return nt?(tt.m=b.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function st(tt,ft,yt){_.lastIndex=0;var nt=_.exec(ft.slice(yt));return nt?(tt.m=y.get(nt[0].toLowerCase()),yt+nt[0].length):-1}function gt(tt,ft,yt){return f(tt,P.c.toString(),ft,yt)}function At(tt,ft,yt){return f(tt,P.x.toString(),ft,yt)}function xt(tt,ft,yt){return f(tt,P.X.toString(),ft,yt)}function Ct(tt,ft,yt){var nt=g.get(ft.slice(yt,yt+=2).toLowerCase());return nt==null?-1:(tt.p=nt,yt)}return c}var Ca={"-":"",_:" ",0:"0"},we=/^\s*\d+/,Ma=/^%/;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Fr(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Lr(t){for(var e=new dt,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ns(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Es(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Bs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ds(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Is(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.y=Rs(+r[0]),n+r[0].length):-1}function zs(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Rs(t){return t+(t>68?1900:2e3)}function Os(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Sa(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function js(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Pa(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Vs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qs(t,e,n){we.lastIndex=0;var r=we.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hs(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=rt(e)/60|0,i=rt(e)%60;return n+De(r,"0",2)+De(i,"0",2)}function Us(t,e,n){Ma.lastIndex=0;var r=Ma.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ys(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(r){for(var i=0,a=t[i];!a[1](r);)a=t[++i];return a[0](r)}}o.locale=function(t){return{numberFormat:As(t),timeFormat:Ts(t)}};var Aa=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});o.format=Aa.numberFormat,o.geo={};function wi(){}wi.prototype={s:0,t:0,add:function(t){Fa(t,this.t,Tr),Fa(Tr.s,this.s,this),this.s?this.t+=Tr.t:this.s=Tr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Tr=new wi;function Fa(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}o.geo.stream=function(t,e){t&&La.hasOwnProperty(t.type)?La[t.type](t,e):Nr(t,e)};function Nr(t,e){t&&Ta.hasOwnProperty(t.type)&&Ta[t.type](t,e)}var La={Feature:function(t,e){Nr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Nr(n[r].geometry,e)}},Ta={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ki(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ki(n[r],e,0)},Polygon:function(t,e){Na(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Na(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Nr(n[r],e)}};function ki(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function Na(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ki(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return Er=0,o.geo.stream(t,qe),Er};var Er,Pn=new wi,qe={sphere:function(){Er+=4*it},point:ue,lineStart:ue,lineEnd:ue,polygonStart:function(){Pn.reset(),qe.lineStart=Xs},polygonEnd:function(){var t=2*Pn;Er+=t<0?4*it+t:t,qe.lineStart=qe.lineEnd=qe.point=ue}};function Xs(){var t,e,n,r,i;qe.point=function(l,s){qe.point=a,n=(t=l)*_t,r=Math.cos(s=(e=s)*_t/2+it/4),i=Math.sin(s)};function a(l,s){l*=_t,s=s*_t/2+it/4;var u=l-n,c=u>=0?1:-1,f=c*u,g=Math.cos(s),d=Math.sin(s),x=i*d,A=r*g+x*Math.cos(f),m=x*c*Math.sin(f);Pn.add(Math.atan2(m,A)),n=l,r=g,i=d}qe.lineEnd=function(){a(t,e)}}function An(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Br(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Vn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ci(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ir(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function zr(t){return[Math.atan2(t[1],t[0]),Yt(t[2])]}function Rr(t,e){return rt(t[0]-e[0])<Q&&rt(t[1]-e[1])<Q}o.geo.bounds=function(){var t,e,n,r,i,a,l,s,u,c,f,g={point:d,lineStart:A,lineEnd:m,polygonStart:function(){g.point=_,g.lineStart=y,g.lineEnd=F,u=0,qe.polygonStart()},polygonEnd:function(){qe.polygonEnd(),g.point=d,g.lineStart=A,g.lineEnd=m,Pn<0?(t=-(n=180),e=-(r=90)):u>Q?r=90:u<-Q&&(e=-90),f[0]=t,f[1]=n}};function d(Y,H){c.push(f=[t=Y,n=Y]),H<e&&(e=H),H>r&&(r=H)}function x(Y,H){var V=An([Y*_t,H*_t]);if(s){var st=Vn(s,V),gt=[st[1],-st[0],0],At=Vn(gt,st);Ir(At),At=zr(At);var xt=Y-i,Ct=xt>0?1:-1,tt=At[0]*zt*Ct,ft=rt(xt)>180;if(ft^(Ct*i<tt&&tt<Ct*Y)){var yt=At[1]*zt;yt>r&&(r=yt)}else if(tt=(tt+360)%360-180,ft^(Ct*i<tt&&tt<Ct*Y)){var yt=-At[1]*zt;yt<e&&(e=yt)}else H<e&&(e=H),H>r&&(r=H);ft?Y<i?b(t,Y)>b(t,n)&&(n=Y):b(Y,n)>b(t,n)&&(t=Y):n>=t?(Y<t&&(t=Y),Y>n&&(n=Y)):Y>i?b(t,Y)>b(t,n)&&(n=Y):b(Y,n)>b(t,n)&&(t=Y)}else d(Y,H);s=V,i=Y}function A(){g.point=x}function m(){f[0]=t,f[1]=n,g.point=d,s=null}function _(Y,H){if(s){var V=Y-i;u+=rt(V)>180?V+(V>0?360:-360):V}else a=Y,l=H;qe.point(Y,H),x(Y,H)}function y(){qe.lineStart()}function F(){_(a,l),qe.lineEnd(),rt(u)>Q&&(t=-(n=180)),f[0]=t,f[1]=n,s=null}function b(Y,H){return(H-=Y)<0?H+360:H}function P(Y,H){return Y[0]-H[0]}function W(Y,H){return H[0]<=H[1]?H[0]<=Y&&Y<=H[1]:Y<H[0]||H[1]<Y}return function(Y){r=n=-(t=e=1/0),c=[],o.geo.stream(Y,g);var H=c.length;if(H){c.sort(P);for(var V=1,st=c[0],gt,At=[st];V<H;++V)gt=c[V],W(gt[0],st)||W(gt[1],st)?(b(st[0],gt[1])>b(st[0],st[1])&&(st[1]=gt[1]),b(gt[0],st[1])>b(st[0],st[1])&&(st[0]=gt[0])):At.push(st=gt);for(var xt=-1/0,Ct,H=At.length-1,V=0,st=At[H],gt;V<=H;st=gt,++V)gt=At[V],(Ct=b(st[1],gt[0]))>xt&&(xt=Ct,t=gt[0],n=st[1])}return c=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){er=Or=Fn=Ln=dn=_n=yn=on=qn=Hn=vn=0,o.geo.stream(t,Ke);var e=qn,n=Hn,r=vn,i=e*e+n*n+r*r;return i<jt&&(e=_n,n=yn,r=on,Or<Q&&(e=Fn,n=Ln,r=dn),i=e*e+n*n+r*r,i<jt)?[NaN,NaN]:[Math.atan2(n,e)*zt,Yt(r/Math.sqrt(i))*zt]};var er,Or,Fn,Ln,dn,_n,yn,on,qn,Hn,vn,Ke={sphere:ue,point:Mi,lineStart:Ea,lineEnd:Ba,polygonStart:function(){Ke.lineStart=Ws},polygonEnd:function(){Ke.lineStart=Ea}};function Mi(t,e){t*=_t;var n=Math.cos(e*=_t);nr(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function nr(t,e,n){++er,Fn+=(t-Fn)/er,Ln+=(e-Ln)/er,dn+=(n-dn)/er}function Ea(){var t,e,n;Ke.point=function(i,a){i*=_t;var l=Math.cos(a*=_t);t=l*Math.cos(i),e=l*Math.sin(i),n=Math.sin(a),Ke.point=r,nr(t,e,n)};function r(i,a){i*=_t;var l=Math.cos(a*=_t),s=l*Math.cos(i),u=l*Math.sin(i),c=Math.sin(a),f=Math.atan2(Math.sqrt((f=e*c-n*u)*f+(f=n*s-t*c)*f+(f=t*u-e*s)*f),t*s+e*u+n*c);Or+=f,_n+=f*(t+(t=s)),yn+=f*(e+(e=u)),on+=f*(n+(n=c)),nr(t,e,n)}}function Ba(){Ke.point=Mi}function Ws(){var t,e,n,r,i;Ke.point=function(l,s){t=l,e=s,Ke.point=a,l*=_t;var u=Math.cos(s*=_t);n=u*Math.cos(l),r=u*Math.sin(l),i=Math.sin(s),nr(n,r,i)},Ke.lineEnd=function(){a(t,e),Ke.lineEnd=Ba,Ke.point=Mi};function a(l,s){l*=_t;var u=Math.cos(s*=_t),c=u*Math.cos(l),f=u*Math.sin(l),g=Math.sin(s),d=r*g-i*f,x=i*c-n*g,A=n*f-r*c,m=Math.sqrt(d*d+x*x+A*A),_=n*c+r*f+i*g,y=m&&-ht(_)/m,F=Math.atan2(m,_);qn+=y*d,Hn+=y*x,vn+=y*A,Or+=F,_n+=F*(n+(n=c)),yn+=F*(r+(r=f)),on+=F*(i+(i=g)),nr(n,r,i)}}function Da(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function rr(){return!0}function Ia(t,e,n,r,i){var a=[],l=[];if(t.forEach(function(m){if(!((_=m.length-1)<=0)){var _,y=m[0],F=m[_];if(Rr(y,F)){i.lineStart();for(var b=0;b<_;++b)i.point((y=m[b])[0],y[1]);i.lineEnd();return}var P=new jr(y,m,null,!0),W=new jr(y,null,P,!1);P.o=W,a.push(P),l.push(W),P=new jr(F,m,null,!1),W=new jr(F,null,P,!0),P.o=W,a.push(P),l.push(W)}}),l.sort(e),za(a),za(l),!!a.length){for(var s=0,u=n,c=l.length;s<c;++s)l[s].e=u=!u;for(var f=a[0],g,d;;){for(var x=f,A=!0;x.v;)if((x=x.n)===f)return;g=x.z,i.lineStart();do{if(x.v=x.o.v=!0,x.e){if(A)for(var s=0,c=g.length;s<c;++s)i.point((d=g[s])[0],d[1]);else r(x.x,x.n.x,1,i);x=x.n}else{if(A){g=x.p.z;for(var s=g.length-1;s>=0;--s)i.point((d=g[s])[0],d[1])}else r(x.x,x.p.x,-1,i);x=x.p}x=x.o,g=x.z,A=!A}while(!x.v);i.lineEnd()}}}function za(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function jr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ra(t,e,n,r){return function(i,a){var l=e(a),s=i.invert(r[0],r[1]),u={point:c,lineStart:g,lineEnd:d,polygonStart:function(){u.point=b,u.lineStart=P,u.lineEnd=W,x=[],y=[]},polygonEnd:function(){u.point=c,u.lineStart=g,u.lineEnd=d,x=o.merge(x);var Y=tl(s,y);x.length?(_||(a.polygonStart(),_=!0),Ia(x,$s,Y,n,a)):Y&&(_||(a.polygonStart(),_=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),_&&(a.polygonEnd(),_=!1),x=y=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function c(Y,H){var V=i(Y,H);t(Y=V[0],H=V[1])&&a.point(Y,H)}function f(Y,H){var V=i(Y,H);l.point(V[0],V[1])}function g(){u.point=f,l.lineStart()}function d(){u.point=c,l.lineEnd()}var x,A=Oa(),m=e(A),_=!1,y,F;function b(Y,H){F.push([Y,H]);var V=i(Y,H);m.point(V[0],V[1])}function P(){m.lineStart(),F=[]}function W(){b(F[0][0],F[0][1]),m.lineEnd();var Y=m.clean(),H=A.buffer(),V,st=H.length;if(F.pop(),y.push(F),F=null,!!st){if(Y&1){V=H[0];var st=V.length-1,gt=-1,At;if(st>0){for(_||(a.polygonStart(),_=!0),a.lineStart();++gt<st;)a.point((At=V[gt])[0],At[1]);a.lineEnd()}return}st>1&&Y&2&&H.push(H.pop().concat(H.shift())),x.push(H.filter(Zs))}}return u}}function Zs(t){return t.length>1}function Oa(){var t=[],e;return{lineStart:function(){t.push(e=[])},point:function(n,r){e.push([n,r])},lineEnd:ue,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function $s(t,e){return((t=t.x)[0]<0?t[1]-bt-Q:bt-t[1])-((e=e.x)[0]<0?e[1]-bt-Q:bt-e[1])}var ja=Ra(rr,Ks,Qs,[-it,-it/2]);function Ks(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,l){var s=a>0?it:-it,u=rt(a-e);rt(u-it)<Q?(t.point(e,n=(n+l)/2>0?bt:-bt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&u>=it&&(rt(e-r)<Q&&(e-=r*Q),rt(a-s)<Q&&(a-=s*Q),n=Js(e,n,a,l),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=l),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Js(t,e,n,r){var i,a,l=Math.sin(t-n);return rt(l)>Q?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*l)):(e+r)/2}function Qs(t,e,n,r){var i;if(t==null)i=n*bt,r.point(-it,i),r.point(0,i),r.point(it,i),r.point(it,0),r.point(it,-i),r.point(0,-i),r.point(-it,-i),r.point(-it,0),r.point(-it,i);else if(rt(t[0]-e[0])>Q){var a=t[0]<e[0]?it:-it;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function tl(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,l=0;Pn.reset();for(var s=0,u=e.length;s<u;++s){var c=e[s],f=c.length;if(f)for(var g=c[0],d=g[0],x=g[1]/2+it/4,A=Math.sin(x),m=Math.cos(x),_=1;;){_===f&&(_=0),t=c[_];var y=t[0],F=t[1]/2+it/4,b=Math.sin(F),P=Math.cos(F),W=y-d,Y=W>=0?1:-1,H=Y*W,V=H>it,st=A*b;if(Pn.add(Math.atan2(st*Y*Math.sin(H),m*P+st*Math.cos(H))),a+=V?W+Y*K:W,V^d>=n^y>=n){var gt=Vn(An(g),An(t));Ir(gt);var At=Vn(i,gt);Ir(At);var xt=(V^W>=0?-1:1)*Yt(At[2]);(r>xt||r===xt&&(gt[0]||gt[1]))&&(l+=V^W>=0?1:-1)}if(!_++)break;d=y,A=b,m=P,g=t}}return(a<-Q||a<Q&&Pn<0)^l&1}function el(t){var e=Math.cos(t),n=e>0,r=rt(e)>Q,i=Ti(t,6*_t);return Ra(a,l,i,n?[0,-t]:[-it,t-it]);function a(c,f){return Math.cos(c)*Math.cos(f)>e}function l(c){var f,g,d,x,A;return{lineStart:function(){x=d=!1,A=1},point:function(m,_){var y=[m,_],F,b=a(m,_),P=n?b?0:u(m,_):b?u(m+(m<0?it:-it),_):0;if(!f&&(x=d=b)&&c.lineStart(),b!==d&&(F=s(f,y),(Rr(f,F)||Rr(y,F))&&(y[0]+=Q,y[1]+=Q,b=a(y[0],y[1]))),b!==d)A=0,b?(c.lineStart(),F=s(y,f),c.point(F[0],F[1])):(F=s(f,y),c.point(F[0],F[1]),c.lineEnd()),f=F;else if(r&&f&&n^b){var W;!(P&g)&&(W=s(y,f,!0))&&(A=0,n?(c.lineStart(),c.point(W[0][0],W[0][1]),c.point(W[1][0],W[1][1]),c.lineEnd()):(c.point(W[1][0],W[1][1]),c.lineEnd(),c.lineStart(),c.point(W[0][0],W[0][1])))}b&&(!f||!Rr(f,y))&&c.point(y[0],y[1]),f=y,d=b,g=P},lineEnd:function(){d&&c.lineEnd(),f=null},clean:function(){return A|(x&&d)<<1}}}function s(c,f,g){var d=An(c),x=An(f),A=[1,0,0],m=Vn(d,x),_=Br(m,m),y=m[0],F=_-y*y;if(!F)return!g&&c;var b=e*_/F,P=-e*y/F,W=Vn(A,m),Y=Dr(A,b),H=Dr(m,P);Ci(Y,H);var V=W,st=Br(Y,V),gt=Br(V,V),At=st*st-gt*(Br(Y,Y)-1);if(!(At<0)){var xt=Math.sqrt(At),Ct=Dr(V,(-st-xt)/gt);if(Ci(Ct,Y),Ct=zr(Ct),!g)return Ct;var tt=c[0],ft=f[0],yt=c[1],nt=f[1],mt;ft<tt&&(mt=tt,tt=ft,ft=mt);var Dt=ft-tt,Ht=rt(Dt-it)<Q,Zt=Ht||Dt<Q;if(!Ht&&nt<yt&&(mt=yt,yt=nt,nt=mt),Zt?Ht?yt+nt>0^Ct[1]<(rt(Ct[0]-tt)<Q?yt:nt):yt<=Ct[1]&&Ct[1]<=nt:Dt>it^(tt<=Ct[0]&&Ct[0]<=ft)){var se=Dr(V,(-st+xt)/gt);return Ci(se,Y),[Ct,zr(se)]}}}function u(c,f){var g=n?t:it-t,d=0;return c<-g?d|=1:c>g&&(d|=2),f<-g?d|=4:f>g&&(d|=8),d}}function Ga(t,e,n,r){return function(i){var a=i.a,l=i.b,s=a.x,u=a.y,c=l.x,f=l.y,g=0,d=1,x=c-s,A=f-u,m;if(m=t-s,!(!x&&m>0)){if(m/=x,x<0){if(m<g)return;m<d&&(d=m)}else if(x>0){if(m>d)return;m>g&&(g=m)}if(m=n-s,!(!x&&m<0)){if(m/=x,x<0){if(m>d)return;m>g&&(g=m)}else if(x>0){if(m<g)return;m<d&&(d=m)}if(m=e-u,!(!A&&m>0)){if(m/=A,A<0){if(m<g)return;m<d&&(d=m)}else if(A>0){if(m>d)return;m>g&&(g=m)}if(m=r-u,!(!A&&m<0)){if(m/=A,A<0){if(m>d)return;m>g&&(g=m)}else if(A>0){if(m<g)return;m<d&&(d=m)}return g>0&&(i.a={x:s+g*x,y:u+g*A}),d<1&&(i.b={x:s+d*x,y:u+d*A}),i}}}}}}var Gr=1e9;o.geo.clipExtent=function(){var t,e,n,r,i,a,l={stream:function(s){return i&&(i.valid=!1),i=a(s),i.valid=!0,i},extent:function(s){return arguments.length?(a=Va(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),l):[[t,e],[n,r]]}};return l.extent([[0,0],[960,500]])};function Va(t,e,n,r){return function(s){var u=s,c=Oa(),f=Ga(t,e,n,r),g,d,x,A={point:F,lineStart:At,lineEnd:xt,polygonStart:function(){s=c,g=[],d=[],gt=!0},polygonEnd:function(){s=u,g=o.merge(g);var tt=m([t,r]),ft=gt&&tt,yt=g.length;(ft||yt)&&(s.polygonStart(),ft&&(s.lineStart(),_(null,null,1,s),s.lineEnd()),yt&&Ia(g,a,tt,_,s),s.polygonEnd()),g=d=x=null}};function m(tt){for(var ft=0,yt=d.length,nt=tt[1],mt=0;mt<yt;++mt)for(var Dt=1,Ht=d[mt],Zt=Ht.length,se=Ht[0],pe;Dt<Zt;++Dt)pe=Ht[Dt],se[1]<=nt?pe[1]>nt&&X(se,pe,tt)>0&&++ft:pe[1]<=nt&&X(se,pe,tt)<0&&--ft,se=pe;return ft!==0}function _(tt,ft,yt,nt){var mt=0,Dt=0;if(tt==null||(mt=i(tt,yt))!==(Dt=i(ft,yt))||l(tt,ft)<0^yt>0)do nt.point(mt===0||mt===3?t:n,mt>1?r:e);while((mt=(mt+yt+4)%4)!==Dt);else nt.point(ft[0],ft[1])}function y(tt,ft){return t<=tt&&tt<=n&&e<=ft&&ft<=r}function F(tt,ft){y(tt,ft)&&s.point(tt,ft)}var b,P,W,Y,H,V,st,gt;function At(){A.point=Ct,d&&d.push(x=[]),st=!0,V=!1,Y=H=NaN}function xt(){g&&(Ct(b,P),W&&V&&c.rejoin(),g.push(c.buffer())),A.point=F,V&&s.lineEnd()}function Ct(tt,ft){tt=Math.max(-Gr,Math.min(Gr,tt)),ft=Math.max(-Gr,Math.min(Gr,ft));var yt=y(tt,ft);if(d&&x.push([tt,ft]),st)b=tt,P=ft,W=yt,st=!1,yt&&(s.lineStart(),s.point(tt,ft));else if(yt&&V)s.point(tt,ft);else{var nt={a:{x:Y,y:H},b:{x:tt,y:ft}};f(nt)?(V||(s.lineStart(),s.point(nt.a.x,nt.a.y)),s.point(nt.b.x,nt.b.y),yt||s.lineEnd(),gt=!1):yt&&(s.lineStart(),s.point(tt,ft),gt=!1)}Y=tt,H=ft,V=yt}return A};function i(s,u){return rt(s[0]-t)<Q?u>0?0:3:rt(s[0]-n)<Q?u>0?2:1:rt(s[1]-e)<Q?u>0?1:0:u>0?3:2}function a(s,u){return l(s.x,u.x)}function l(s,u){var c=i(s,1),f=i(u,1);return c!==f?c-f:c===0?u[1]-s[1]:c===1?s[0]-u[0]:c===2?s[1]-u[1]:u[0]-s[0]}}function Si(t){var e=0,n=it/3,r=Fi(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*it/180,n=a[1]*it/180):[e/it*180,n/it*180]},i}function qa(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function l(s,u){var c=Math.sqrt(i-2*r*Math.sin(u))/r;return[c*Math.sin(s*=r),a-c*Math.cos(s)]}return l.invert=function(s,u){var c=a-u;return[Math.atan2(s,c)/r,Yt((i-(s*s+c*c)*r*r)/(2*r))]},l}(o.geo.conicEqualArea=function(){return Si(qa)}).raw=qa,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t=o.geo.albers(),e=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),n=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),r,i={point:function(c,f){r=[c,f]}},a,l,s;function u(c){var f=c[0],g=c[1];return r=null,a(f,g),r||(l(f,g),r)||s(f,g),r}return u.invert=function(c){var f=t.scale(),g=t.translate(),d=(c[0]-g[0])/f,x=(c[1]-g[1])/f;return(x>=.12&&x<.234&&d>=-.425&&d<-.214?e:x>=.166&&x<.234&&d>=-.214&&d<-.115?n:t).invert(c)},u.stream=function(c){var f=t.stream(c),g=e.stream(c),d=n.stream(c);return{point:function(x,A){f.point(x,A),g.point(x,A),d.point(x,A)},sphere:function(){f.sphere(),g.sphere(),d.sphere()},lineStart:function(){f.lineStart(),g.lineStart(),d.lineStart()},lineEnd:function(){f.lineEnd(),g.lineEnd(),d.lineEnd()},polygonStart:function(){f.polygonStart(),g.polygonStart(),d.polygonStart()},polygonEnd:function(){f.polygonEnd(),g.polygonEnd(),d.polygonEnd()}}},u.precision=function(c){return arguments.length?(t.precision(c),e.precision(c),n.precision(c),u):t.precision()},u.scale=function(c){return arguments.length?(t.scale(c),e.scale(c*.35),n.scale(c),u.translate(t.translate())):t.scale()},u.translate=function(c){if(!arguments.length)return t.translate();var f=t.scale(),g=+c[0],d=+c[1];return a=t.translate(c).clipExtent([[g-.455*f,d-.238*f],[g+.455*f,d+.238*f]]).stream(i).point,l=e.translate([g-.307*f,d+.201*f]).clipExtent([[g-.425*f+Q,d+.12*f+Q],[g-.214*f-Q,d+.234*f-Q]]).stream(i).point,s=n.translate([g-.205*f,d+.212*f]).clipExtent([[g-.214*f+Q,d+.166*f+Q],[g-.115*f-Q,d+.234*f-Q]]).stream(i).point,u},u.scale(1070)};var Pi,Ai,xn={point:ue,lineStart:ue,lineEnd:ue,polygonStart:function(){Ai=0,xn.lineStart=nl},polygonEnd:function(){xn.lineStart=xn.lineEnd=xn.point=ue,Pi+=rt(Ai/2)}};function nl(){var t,e,n,r;xn.point=function(a,l){xn.point=i,t=n=a,e=r=l};function i(a,l){Ai+=r*a-n*l,n=a,r=l}xn.lineEnd=function(){i(t,e)}}var Vr,qr,Hr,Ur,rl={point:il,lineStart:ue,lineEnd:ue,polygonStart:ue,polygonEnd:ue};function il(t,e){t<Vr&&(Vr=t),t>Hr&&(Hr=t),e<qr&&(qr=e),e>Ur&&(Ur=e)}function al(){var t=Ha(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:l,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=l,n.point=r},pointRadius:function(u){return t=Ha(u),n},result:function(){if(e.length){var u=e.join("");return e=[],u}}};function r(u,c){e.push("M",u,",",c,t)}function i(u,c){e.push("M",u,",",c),n.point=a}function a(u,c){e.push("L",u,",",c)}function l(){n.point=r}function s(){e.push("Z")}return n}function Ha(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Je={point:Tn,lineStart:Ua,lineEnd:Ya,polygonStart:function(){Je.lineStart=ol},polygonEnd:function(){Je.point=Tn,Je.lineStart=Ua,Je.lineEnd=Ya}};function Tn(t,e){Fn+=t,Ln+=e,++dn}function Ua(){var t,e;Je.point=function(r,i){Je.point=n,Tn(t=r,e=i)};function n(r,i){var a=r-t,l=i-e,s=Math.sqrt(a*a+l*l);_n+=s*(t+r)/2,yn+=s*(e+i)/2,on+=s,Tn(t=r,e=i)}}function Ya(){Je.point=Tn}function ol(){var t,e,n,r;Je.point=function(a,l){Je.point=i,Tn(t=n=a,e=r=l)};function i(a,l){var s=a-n,u=l-r,c=Math.sqrt(s*s+u*u);_n+=c*(n+a)/2,yn+=c*(r+l)/2,on+=c,c=r*a-n*l,qn+=c*(n+a),Hn+=c*(r+l),vn+=c*3,Tn(n=a,r=l)}Je.lineEnd=function(){i(t,e)}}function sl(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:l,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=l,n.point=r},pointRadius:function(u){return e=u,n},result:ue};function r(u,c){t.moveTo(u+e,c),t.arc(u,c,e,0,K)}function i(u,c){t.moveTo(u,c),n.point=a}function a(u,c){t.lineTo(u,c)}function l(){n.point=r}function s(){t.closePath()}return n}function Xa(t){var e=.5,n=Math.cos(30*_t),r=16;function i(u){return(r?l:a)(u)}function a(u){return Za(u,function(c,f){c=t(c,f),u.point(c[0],c[1])})}function l(u){var c,f,g,d,x,A,m,_,y,F,b,P,W={point:Y,lineStart:H,lineEnd:st,polygonStart:function(){u.polygonStart(),W.lineStart=gt},polygonEnd:function(){u.polygonEnd(),W.lineStart=H}};function Y(Ct,tt){Ct=t(Ct,tt),u.point(Ct[0],Ct[1])}function H(){_=NaN,W.point=V,u.lineStart()}function V(Ct,tt){var ft=An([Ct,tt]),yt=t(Ct,tt);s(_,y,m,F,b,P,_=yt[0],y=yt[1],m=Ct,F=ft[0],b=ft[1],P=ft[2],r,u),u.point(_,y)}function st(){W.point=Y,u.lineEnd()}function gt(){H(),W.point=At,W.lineEnd=xt}function At(Ct,tt){V(c=Ct,tt),f=_,g=y,d=F,x=b,A=P,W.point=V}function xt(){s(_,y,m,F,b,P,f,g,c,d,x,A,r,u),W.lineEnd=st,st()}return W}function s(u,c,f,g,d,x,A,m,_,y,F,b,P,W){var Y=A-u,H=m-c,V=Y*Y+H*H;if(V>4*e&&P--){var st=g+y,gt=d+F,At=x+b,xt=Math.sqrt(st*st+gt*gt+At*At),Ct=Math.asin(At/=xt),tt=rt(rt(At)-1)<Q||rt(f-_)<Q?(f+_)/2:Math.atan2(gt,st),ft=t(tt,Ct),yt=ft[0],nt=ft[1],mt=yt-u,Dt=nt-c,Ht=H*mt-Y*Dt;(Ht*Ht/V>e||rt((Y*mt+H*Dt)/V-.5)>.3||g*y+d*F+x*b<n)&&(s(u,c,f,g,d,x,yt,nt,tt,st/=xt,gt/=xt,At,P,W),W.point(yt,nt),s(yt,nt,tt,st,gt,At,A,m,_,y,F,b,P,W))}}return i.precision=function(u){return arguments.length?(r=(e=u*u)>0&&16,i):Math.sqrt(e)},i}o.geo.path=function(){var t=4.5,e,n,r,i,a;function l(u){return u&&(typeof t=="function"&&i.pointRadius(+t.apply(this,arguments)),(!a||!a.valid)&&(a=r(i)),o.geo.stream(u,a)),i.result()}l.area=function(u){return Pi=0,o.geo.stream(u,r(xn)),Pi},l.centroid=function(u){return Fn=Ln=dn=_n=yn=on=qn=Hn=vn=0,o.geo.stream(u,r(Je)),vn?[qn/vn,Hn/vn]:on?[_n/on,yn/on]:dn?[Fn/dn,Ln/dn]:[NaN,NaN]},l.bounds=function(u){return Hr=Ur=-(Vr=qr=1/0),o.geo.stream(u,r(rl)),[[Vr,qr],[Hr,Ur]]},l.projection=function(u){return arguments.length?(r=(e=u)?u.stream||ll(u):ie,s()):e},l.context=function(u){return arguments.length?(i=(n=u)==null?new al:new sl(u),typeof t!="function"&&i.pointRadius(t),s()):n},l.pointRadius=function(u){return arguments.length?(t=typeof u=="function"?u:(i.pointRadius(+u),+u),l):t};function s(){return a=null,l}return l.projection(o.geo.albersUsa()).context(null)};function ll(t){var e=Xa(function(n,r){return t([n*zt,r*zt])});return function(n){return $a(e(n))}}o.geo.transform=function(t){return{stream:function(e){var n=new Wa(e);for(var r in t)n[r]=t[r];return n}}};function Wa(t){this.stream=t}Wa.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Za(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}o.geo.projection=bn,o.geo.projectionMutator=Fi;function bn(t){return Fi(function(){return t})()}function Fi(t){var e,n,r,i=Xa(function(V,st){return V=e(V,st),[V[0]*a+x,A-V[1]*a]}),a=150,l=480,s=250,u=0,c=0,f=0,g=0,d=0,x,A,m=ja,_=ie,y=null,F=null,b;function P(V){return V=r(V[0]*_t,V[1]*_t),[V[0]*a+x,A-V[1]*a]}function W(V){return V=r.invert((V[0]-x)/a,(A-V[1])/a),V&&[V[0]*zt,V[1]*zt]}P.stream=function(V){return b&&(b.valid=!1),b=$a(m(n,i(_(V)))),b.valid=!0,b},P.clipAngle=function(V){return arguments.length?(m=V==null?(y=V,ja):el((y=+V)*_t),H()):y},P.clipExtent=function(V){return arguments.length?(F=V,_=V?Va(V[0][0],V[0][1],V[1][0],V[1][1]):ie,H()):F},P.scale=function(V){return arguments.length?(a=+V,Y()):a},P.translate=function(V){return arguments.length?(l=+V[0],s=+V[1],Y()):[l,s]},P.center=function(V){return arguments.length?(u=V[0]%360*_t,c=V[1]%360*_t,Y()):[u*zt,c*zt]},P.rotate=function(V){return arguments.length?(f=V[0]%360*_t,g=V[1]%360*_t,d=V.length>2?V[2]%360*_t:0,Y()):[f*zt,g*zt,d*zt]},o.rebind(P,i,"precision");function Y(){r=Da(n=Li(f,g,d),e);var V=e(u,c);return x=l-V[0]*a,A=s+V[1]*a,H()}function H(){return b&&(b.valid=!1,b=null),P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&W,Y()}}function $a(t){return Za(t,function(e,n){t.point(e*_t,n*_t)})}function ir(t,e){return[t,e]}(o.geo.equirectangular=function(){return bn(ir)}).raw=ir.invert=ir,o.geo.rotation=function(t){t=Li(t[0]%360*_t,t[1]*_t,t.length>2?t[2]*_t:0);function e(n){return n=t(n[0]*_t,n[1]*_t),n[0]*=zt,n[1]*=zt,n}return e.invert=function(n){return n=t.invert(n[0]*_t,n[1]*_t),n[0]*=zt,n[1]*=zt,n},e};function Ka(t,e){return[t>it?t-K:t<-it?t+K:t,e]}Ka.invert=ir;function Li(t,e,n){return t?e||n?Da(Qa(t),to(e,n)):Qa(t):e||n?to(e,n):Ka}function Ja(t){return function(e,n){return e+=t,[e>it?e-K:e<-it?e+K:e,n]}}function Qa(t){var e=Ja(t);return e.invert=Ja(-t),e}function to(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);function l(s,u){var c=Math.cos(u),f=Math.cos(s)*c,g=Math.sin(s)*c,d=Math.sin(u),x=d*n+f*r;return[Math.atan2(g*i-x*a,f*n-d*r),Yt(x*i+g*a)]}return l.invert=function(s,u){var c=Math.cos(u),f=Math.cos(s)*c,g=Math.sin(s)*c,d=Math.sin(u),x=d*i-g*a;return[Math.atan2(g*i+d*a,f*n+x*r),Yt(x*n-f*r)]},l}o.geo.circle=function(){var t=[0,0],e,n=6,r;function i(){var a=typeof t=="function"?t.apply(this,arguments):t,l=Li(-a[0]*_t,-a[1]*_t,0).invert,s=[];return r(null,null,1,{point:function(u,c){s.push(u=l(u,c)),u[0]*=zt,u[1]*=zt}}),{type:"Polygon",coordinates:[s]}}return i.origin=function(a){return arguments.length?(t=a,i):t},i.angle=function(a){return arguments.length?(r=Ti((e=+a)*_t,n*_t),i):e},i.precision=function(a){return arguments.length?(r=Ti(e*_t,(n=+a)*_t),i):n},i.angle(90)};function Ti(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,l,s){var u=l*e;i!=null?(i=eo(n,i),a=eo(n,a),(l>0?i<a:i>a)&&(i+=l*K)):(i=t+l*K,a=t-.5*u);for(var c,f=i;l>0?f>a:f<a;f-=u)s.point((c=zr([n,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function eo(t,e){var n=An(e);n[0]-=t,Ir(n);var r=ht(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Q)%(2*Math.PI)}o.geo.distance=function(t,e){var n=(e[0]-t[0])*_t,r=t[1]*_t,i=e[1]*_t,a=Math.sin(n),l=Math.cos(n),s=Math.sin(r),u=Math.cos(r),c=Math.sin(i),f=Math.cos(i),g;return Math.atan2(Math.sqrt((g=f*a)*g+(g=u*c-s*f*l)*g),s*c+u*f*l)},o.geo.graticule=function(){var t,e,n,r,i,a,l,s,u=10,c=u,f=90,g=360,d,x,A,m,_=2.5;function y(){return{type:"MultiLineString",coordinates:F()}}function F(){return o.range(Math.ceil(r/f)*f,n,f).map(A).concat(o.range(Math.ceil(s/g)*g,l,g).map(m)).concat(o.range(Math.ceil(e/u)*u,t,u).filter(function(b){return rt(b%f)>Q}).map(d)).concat(o.range(Math.ceil(a/c)*c,i,c).filter(function(b){return rt(b%g)>Q}).map(x))}return y.lines=function(){return F().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[A(r).concat(m(l).slice(1),A(n).reverse().slice(1),m(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.majorExtent(b).minorExtent(b):y.minorExtent()},y.majorExtent=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],l=+b[1][1],r>n&&(b=r,r=n,n=b),s>l&&(b=s,s=l,l=b),y.precision(_)):[[r,s],[n,l]]},y.minorExtent=function(b){return arguments.length?(e=+b[0][0],t=+b[1][0],a=+b[0][1],i=+b[1][1],e>t&&(b=e,e=t,t=b),a>i&&(b=a,a=i,i=b),y.precision(_)):[[e,a],[t,i]]},y.step=function(b){return arguments.length?y.majorStep(b).minorStep(b):y.minorStep()},y.majorStep=function(b){return arguments.length?(f=+b[0],g=+b[1],y):[f,g]},y.minorStep=function(b){return arguments.length?(u=+b[0],c=+b[1],y):[u,c]},y.precision=function(b){return arguments.length?(_=+b,d=no(a,i,90),x=ro(e,t,_),A=no(s,l,90),m=ro(r,n,_),y):_},y.majorExtent([[-180,-90+Q],[180,90-Q]]).minorExtent([[-180,-80-Q],[180,80+Q]])};function no(t,e,n){var r=o.range(t,e-Q,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function ro(t,e,n){var r=o.range(t,e-Q,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function Ni(t){return t.source}function Ei(t){return t.target}o.geo.greatArc=function(){var t=Ni,e,n=Ei,r;function i(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),r||n.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(e||t.apply(this,arguments),r||n.apply(this,arguments))},i.source=function(a){return arguments.length?(t=a,e=typeof a=="function"?null:a,i):t},i.target=function(a){return arguments.length?(n=a,r=typeof a=="function"?null:a,i):n},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return ul(t[0]*_t,t[1]*_t,e[0]*_t,e[1]*_t)};function ul(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),l=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),f=l*Math.cos(n),g=l*Math.sin(n),d=2*Math.asin(Math.sqrt(te(r-e)+i*l*te(n-t))),x=1/Math.sin(d),A=d?function(m){var _=Math.sin(m*=d)*x,y=Math.sin(d-m)*x,F=y*u+_*f,b=y*c+_*g,P=y*a+_*s;return[Math.atan2(b,F)*zt,Math.atan2(P,Math.sqrt(F*F+b*b))*zt]}:function(){return[t*zt,e*zt]};return A.distance=d,A}o.geo.length=function(t){return Bi=0,o.geo.stream(t,Un),Bi};var Bi,Un={sphere:ue,point:ue,lineStart:cl,lineEnd:ue,polygonStart:ue,polygonEnd:ue};function cl(){var t,e,n;Un.point=function(i,a){t=i*_t,e=Math.sin(a*=_t),n=Math.cos(a),Un.point=r},Un.lineEnd=function(){Un.point=Un.lineEnd=ue};function r(i,a){var l=Math.sin(a*=_t),s=Math.cos(a),u=rt((i*=_t)-t),c=Math.cos(u);Bi+=Math.atan2(Math.sqrt((u=s*Math.sin(u))*u+(u=n*l-e*s*c)*u),e*l+n*s*c),t=i,e=l,n=s}}function ar(t,e){function n(r,i){var a=Math.cos(r),l=Math.cos(i),s=t(a*l);return[s*l*Math.sin(r),s*Math.sin(i)]}return n.invert=function(r,i){var a=Math.sqrt(r*r+i*i),l=e(a),s=Math.sin(l),u=Math.cos(l);return[Math.atan2(r*s,a*u),Math.asin(a&&i*s/a)]},n}var io=ar(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return bn(io)}).raw=io;var ao=ar(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},ie);(o.geo.azimuthalEquidistant=function(){return bn(ao)}).raw=ao;function oo(t,e){var n=Math.cos(t),r=function(s){return Math.tan(it/4+s/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;if(!i)return Yr;function l(s,u){a>0?u<-bt+Q&&(u=-bt+Q):u>bt-Q&&(u=bt-Q);var c=a/Math.pow(r(u),i);return[c*Math.sin(i*s),a-c*Math.cos(i*s)]}return l.invert=function(s,u){var c=a-u,f=$(i)*Math.sqrt(s*s+c*c);return[Math.atan2(s,c)/i,2*Math.atan(Math.pow(a/f,1/i))-bt]},l}(o.geo.conicConformal=function(){return Si(oo)}).raw=oo;function so(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(rt(r)<Q)return ir;function a(l,s){var u=i-s;return[u*Math.sin(r*l),i-u*Math.cos(r*l)]}return a.invert=function(l,s){var u=i-s;return[Math.atan2(l,u)/r,i-$(r)*Math.sqrt(l*l+u*u)]},a}(o.geo.conicEquidistant=function(){return Si(so)}).raw=so;var lo=ar(function(t){return 1/t},Math.atan);(o.geo.gnomonic=function(){return bn(lo)}).raw=lo;function Yr(t,e){return[t,Math.log(Math.tan(it/4+e/2))]}Yr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-bt]};function uo(t){var e=bn(t),n=e.scale,r=e.translate,i=e.clipExtent,a;return e.scale=function(){var l=n.apply(e,arguments);return l===e?a?e.clipExtent(null):e:l},e.translate=function(){var l=r.apply(e,arguments);return l===e?a?e.clipExtent(null):e:l},e.clipExtent=function(l){var s=i.apply(e,arguments);if(s===e){if(a=l==null){var u=it*n(),c=r();i([[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]])}}else a&&(s=null);return s},e.clipExtent(null)}(o.geo.mercator=function(){return uo(Yr)}).raw=Yr;var co=ar(function(){return 1},Math.asin);(o.geo.orthographic=function(){return bn(co)}).raw=co;var fo=ar(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(o.geo.stereographic=function(){return bn(fo)}).raw=fo;function Di(t,e){return[Math.log(Math.tan(it/4+e/2)),-t]}Di.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-bt]},(o.geo.transverseMercator=function(){var t=uo(Di),e=t.center,n=t.rotate;return t.center=function(r){return r?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return r?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90])}).raw=Di,o.geom={};function Yn(t){return t[0]}function or(t){return t[1]}o.geom.hull=function(t){var e=Yn,n=or;if(arguments.length)return r(t);function r(i){if(i.length<3)return[];var a=de(e),l=de(n),s,u=i.length,c=[],f=[];for(s=0;s<u;s++)c.push([+a.call(this,i[s],s),+l.call(this,i[s],s),s]);for(c.sort(fl),s=0;s<u;s++)f.push([c[s][0],-c[s][1]]);var g=ho(c),d=ho(f),x=d[0]===g[0],A=d[d.length-1]===g[g.length-1],m=[];for(s=g.length-1;s>=0;--s)m.push(i[c[g[s]][2]]);for(s=+x;s<d.length-A;++s)m.push(i[c[d[s]][2]]);return m}return r.x=function(i){return arguments.length?(e=i,r):e},r.y=function(i){return arguments.length?(n=i,r):n},r};function ho(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&X(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function fl(t,e){return t[0]-e[0]||t[1]-e[1]}o.geom.polygon=function(t){return _e(t,Xr),t};var Xr=o.geom.polygon.prototype=[];Xr.area=function(){for(var t=-1,e=this.length,n,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return i*.5},Xr.centroid=function(t){var e=-1,n=this.length,r=0,i=0,a,l=this[n-1],s;for(arguments.length||(t=-1/(6*this.area()));++e<n;)a=l,l=this[e],s=a[0]*l[1]-l[0]*a[1],r+=(a[0]+l[0])*s,i+=(a[1]+l[1])*s;return[r*t,i*t]},Xr.clip=function(t){for(var e,n=go(t),r=-1,i=this.length-go(this),a,l,s=this[i-1],u,c,f;++r<i;){for(e=t.slice(),t.length=0,u=this[r],c=e[(l=e.length-n)-1],a=-1;++a<l;)f=e[a],Ii(f,s,u)?(Ii(c,s,u)||t.push(zi(c,f,s,u)),t.push(f)):Ii(c,s,u)&&t.push(zi(c,f,s,u)),c=f;n&&t.push(t[0]),s=u}return t};function Ii(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function zi(t,e,n,r){var i=t[0],a=n[0],l=e[0]-i,s=r[0]-a,u=t[1],c=n[1],f=e[1]-u,g=r[1]-c,d=(s*(u-c)-g*(i-a))/(g*l-s*f);return[i+d*l,u+d*f]}function go(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}var Xn,Nn,Wn,po=[],Ri,sr,mo=[];function hl(){$r(this),this.edge=this.site=this.circle=null}function _o(t){var e=po.pop()||new hl;return e.site=t,e}function Oi(t){$n(t),Wn.remove(t),po.push(t),$r(t)}function gl(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,l=t.N,s=[t];Oi(t);for(var u=a;u.circle&&rt(n-u.circle.x)<Q&&rt(r-u.circle.cy)<Q;)a=u.P,s.unshift(u),Oi(u),u=a;s.unshift(u),$n(u);for(var c=l;c.circle&&rt(n-c.circle.x)<Q&&rt(r-c.circle.cy)<Q;)l=c.N,s.push(c),Oi(c),c=l;s.push(c),$n(c);var f=s.length,g;for(g=1;g<f;++g)c=s[g],u=s[g-1],Wr(c.edge,u.site,c.site,i);u=s[0],c=s[f-1],c.edge=lr(u.site,c.site,null,i),Zn(u),Zn(c)}function dl(t){for(var e=t.x,n=t.y,r,i,a,l,s=Wn._;s;)if(a=yo(s,n)-e,a>Q)s=s.L;else if(l=e-pl(s,n),l>Q){if(!s.R){r=s;break}s=s.R}else{a>-Q?(r=s.P,i=s):l>-Q?(r=s,i=s.N):r=i=s;break}var u=_o(t);if(Wn.insert(r,u),!(!r&&!i)){if(r===i){$n(r),i=_o(r.site),Wn.insert(u,i),u.edge=i.edge=lr(r.site,u.site),Zn(r),Zn(i);return}if(!i){u.edge=lr(r.site,u.site);return}$n(r),$n(i);var c=r.site,f=c.x,g=c.y,d=t.x-f,x=t.y-g,A=i.site,m=A.x-f,_=A.y-g,y=2*(d*_-x*m),F=d*d+x*x,b=m*m+_*_,P={x:(_*F-x*b)/y+f,y:(d*b-m*F)/y+g};Wr(i.edge,c,A,P),u.edge=lr(c,t,null,P),i.edge=lr(t,A,null,P),Zn(r),Zn(i)}}function yo(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var l=t.P;if(!l)return-1/0;n=l.site;var s=n.x,u=n.y,c=u-e;if(!c)return s;var f=s-r,g=1/a-1/c,d=f/c;return g?(-d+Math.sqrt(d*d-2*g*(f*f/(-2*c)-u+c/2+i-a/2)))/g+r:(r+s)/2}function pl(t,e){var n=t.N;if(n)return yo(n,e);var r=t.site;return r.y===e?r.x:1/0}function vo(t){this.site=t,this.edges=[]}vo.prototype.prepare=function(){for(var t=this.edges,e=t.length,n;e--;)n=t[e].edge,(!n.b||!n.a)&&t.splice(e,1);return t.sort(xo),t.length};function ml(t){for(var e=t[0][0],n=t[1][0],r=t[0][1],i=t[1][1],a,l,s,u,c=Nn,f=c.length,g,d,x,A,m,_;f--;)if(g=c[f],!(!g||!g.prepare()))for(x=g.edges,A=x.length,d=0;d<A;)_=x[d].end(),s=_.x,u=_.y,m=x[++d%A].start(),a=m.x,l=m.y,(rt(s-a)>Q||rt(u-l)>Q)&&(x.splice(d,0,new Zr(xl(g.site,_,rt(s-e)<Q&&i-u>Q?{x:e,y:rt(a-e)<Q?l:i}:rt(u-i)<Q&&n-s>Q?{x:rt(l-i)<Q?a:n,y:i}:rt(s-n)<Q&&u-r>Q?{x:n,y:rt(a-n)<Q?l:r}:rt(u-r)<Q&&s-e>Q?{x:rt(l-r)<Q?a:e,y:r}:null),g.site,null)),++A)}function xo(t,e){return e.angle-t.angle}function _l(){$r(this),this.x=this.y=this.arc=this.site=this.cy=null}function Zn(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,i=t.site,a=n.site;if(r!==a){var l=i.x,s=i.y,u=r.x-l,c=r.y-s,f=a.x-l,_=a.y-s,g=2*(u*_-c*f);if(!(g>=-jt)){var d=u*u+c*c,x=f*f+_*_,A=(_*d-c*x)/g,m=(u*x-f*d)/g,_=m+s,y=mo.pop()||new _l;y.arc=t,y.site=i,y.x=A+l,y.y=_+Math.sqrt(A*A+m*m),y.cy=_,t.circle=y;for(var F=null,b=sr._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x)if(b.L)b=b.L;else{F=b.P;break}else if(b.R)b=b.R;else{F=b;break}sr.insert(F,y),F||(Ri=y)}}}}function $n(t){var e=t.circle;e&&(e.P||(Ri=e.N),sr.remove(e),mo.push(e),$r(e),t.circle=null)}function yl(t){for(var e=Xn,n=Ga(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length,i;r--;)i=e[r],(!vl(i,t)||!n(i)||rt(i.a.x-i.b.x)<Q&&rt(i.a.y-i.b.y)<Q)&&(i.a=i.b=null,e.splice(r,1))}function vl(t,e){var n=t.b;if(n)return!0;var r=t.a,i=e[0][0],a=e[1][0],l=e[0][1],s=e[1][1],u=t.l,c=t.r,f=u.x,g=u.y,d=c.x,x=c.y,A=(f+d)/2,m=(g+x)/2,_,y;if(x===g){if(A<i||A>=a)return;if(f>d){if(!r)r={x:A,y:l};else if(r.y>=s)return;n={x:A,y:s}}else{if(!r)r={x:A,y:s};else if(r.y<l)return;n={x:A,y:l}}}else if(_=(f-d)/(x-g),y=m-_*A,_<-1||_>1)if(f>d){if(!r)r={x:(l-y)/_,y:l};else if(r.y>=s)return;n={x:(s-y)/_,y:s}}else{if(!r)r={x:(s-y)/_,y:s};else if(r.y<l)return;n={x:(l-y)/_,y:l}}else if(g<x){if(!r)r={x:i,y:_*i+y};else if(r.x>=a)return;n={x:a,y:_*a+y}}else{if(!r)r={x:a,y:_*a+y};else if(r.x<i)return;n={x:i,y:_*i+y}}return t.a=r,t.b=n,!0}function bo(t,e){this.l=t,this.r=e,this.a=this.b=null}function lr(t,e,n,r){var i=new bo(t,e);return Xn.push(i),n&&Wr(i,t,e,n),r&&Wr(i,e,t,r),Nn[t.i].edges.push(new Zr(i,t,e)),Nn[e.i].edges.push(new Zr(i,e,t)),i}function xl(t,e,n){var r=new bo(t,null);return r.a=e,r.b=n,Xn.push(r),r}function Wr(t,e,n,r){!t.a&&!t.b?(t.a=r,t.l=e,t.r=n):t.l===n?t.b=r:t.a=r}function Zr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}Zr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ji(){this._=null}function $r(t){t.U=t.C=t.L=t.R=t.P=t.N=null}ji.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=wo(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ur(this,n),t=n,n=t.U),n.C=!1,r.C=!0,cr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ur(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,l;if(r?i?a=wo(i):a=r:a=i,e?e.L===t?e.L=a:e.R=a:this._=a,r&&i?(l=a.C,a.C=t.C,a.L=r,r.U=a,a!==i?(e=a.U,a.U=t.U,t=a.R,e.L=t,a.R=i,i.U=a):(a.U=e,e=a,t=a.R)):(l=t.C,t=a),t&&(t.U=e),!l){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,ur(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,cr(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,ur(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,cr(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,ur(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,cr(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function ur(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function wo(t){for(;t.L;)t=t.L;return t}function Gi(t,e){var n=t.sort(bl).pop(),r,i,a;for(Xn=[],Nn=new Array(t.length),Wn=new ji,sr=new ji;;)if(a=Ri,n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x))(n.x!==r||n.y!==i)&&(Nn[n.i]=new vo(n),dl(n),r=n.x,i=n.y),n=t.pop();else if(a)gl(a.arc);else break;e&&(yl(e),ml(e));var l={cells:Nn,edges:Xn};return Wn=sr=Xn=Nn=null,l}function bl(t,e){return e.y-t.y||e.x-t.x}o.geom.voronoi=function(t){var e=Yn,n=or,r=e,i=n,a=Kr;if(t)return l(t);function l(u){var c=new Array(u.length),f=a[0][0],g=a[0][1],d=a[1][0],x=a[1][1];return Gi(s(u),a).cells.forEach(function(A,m){var _=A.edges,y=A.site,F=c[m]=_.length?_.map(function(b){var P=b.start();return[P.x,P.y]}):y.x>=f&&y.x<=d&&y.y>=g&&y.y<=x?[[f,x],[d,x],[d,g],[f,g]]:[];F.point=u[m]}),c}function s(u){return u.map(function(c,f){return{x:Math.round(r(c,f)/Q)*Q,y:Math.round(i(c,f)/Q)*Q,i:f}})}return l.links=function(u){return Gi(s(u)).edges.filter(function(c){return c.l&&c.r}).map(function(c){return{source:u[c.l.i],target:u[c.r.i]}})},l.triangles=function(u){var c=[];return Gi(s(u)).cells.forEach(function(f,g){for(var d=f.site,x=f.edges.sort(xo),A=-1,m=x.length,_,y=x[m-1].edge,F=y.l===d?y.r:y.l;++A<m;)_=F,y=x[A].edge,F=y.l===d?y.r:y.l,g<_.i&&g<F.i&&wl(d,_,F)<0&&c.push([u[g],u[_.i],u[F.i]])}),c},l.x=function(u){return arguments.length?(r=de(e=u),l):e},l.y=function(u){return arguments.length?(i=de(n=u),l):n},l.clipExtent=function(u){return arguments.length?(a=u??Kr,l):a===Kr?null:a},l.size=function(u){return arguments.length?l.clipExtent(u&&[[0,0],u]):a===Kr?null:a&&a[1]},l};var Kr=[[-1e6,-1e6],[1e6,1e6]];function wl(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var a=Yn,l=or,s;if(s=arguments.length)return a=kl,l=Cl,s===3&&(i=n,r=e,n=e=0),u(t);function u(c){var f,g=de(a),d=de(l),x,A,m,_,y,F,b,P;if(e!=null)y=e,F=n,b=r,P=i;else if(b=P=-(y=F=1/0),x=[],A=[],_=c.length,s)for(m=0;m<_;++m)f=c[m],f.x<y&&(y=f.x),f.y<F&&(F=f.y),f.x>b&&(b=f.x),f.y>P&&(P=f.y),x.push(f.x),A.push(f.y);else for(m=0;m<_;++m){var W=+g(f=c[m],m),Y=+d(f,m);W<y&&(y=W),Y<F&&(F=Y),W>b&&(b=W),Y>P&&(P=Y),x.push(W),A.push(Y)}var H=b-y,V=P-F;H>V?P=F+H:b=y+V;function st(xt,Ct,tt,ft,yt,nt,mt,Dt){if(!(isNaN(tt)||isNaN(ft)))if(xt.leaf){var Ht=xt.x,Zt=xt.y;if(Ht!=null)if(rt(Ht-tt)+rt(Zt-ft)<.01)gt(xt,Ct,tt,ft,yt,nt,mt,Dt);else{var se=xt.point;xt.x=xt.y=xt.point=null,gt(xt,se,Ht,Zt,yt,nt,mt,Dt),gt(xt,Ct,tt,ft,yt,nt,mt,Dt)}else xt.x=tt,xt.y=ft,xt.point=Ct}else gt(xt,Ct,tt,ft,yt,nt,mt,Dt)}function gt(xt,Ct,tt,ft,yt,nt,mt,Dt){var Ht=(yt+mt)*.5,Zt=(nt+Dt)*.5,se=tt>=Ht,pe=ft>=Zt,Ee=pe<<1|se;xt.leaf=!1,xt=xt.nodes[Ee]||(xt.nodes[Ee]=ko()),se?yt=Ht:mt=Ht,pe?nt=Zt:Dt=Zt,st(xt,Ct,tt,ft,yt,nt,mt,Dt)}var At=ko();if(At.add=function(xt){st(At,xt,+g(xt,++m),+d(xt,m),y,F,b,P)},At.visit=function(xt){fr(xt,At,y,F,b,P)},At.find=function(xt){return Ml(At,xt[0],xt[1],y,F,b,P)},m=-1,e==null){for(;++m<_;)st(At,c[m],x[m],A[m],y,F,b,P);--m}else c.forEach(At.add);return x=A=c=f=null,At}return u.x=function(c){return arguments.length?(a=c,u):a},u.y=function(c){return arguments.length?(l=c,u):l},u.extent=function(c){return arguments.length?(c==null?e=n=r=i=null:(e=+c[0][0],n=+c[0][1],r=+c[1][0],i=+c[1][1]),u):e==null?null:[[e,n],[r,i]]},u.size=function(c){return arguments.length?(c==null?e=n=r=i=null:(e=n=0,r=+c[0],i=+c[1]),u):e==null?null:[r-e,i-n]},u};function kl(t){return t.x}function Cl(t){return t.y}function ko(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fr(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var l=(n+i)*.5,s=(r+a)*.5,u=e.nodes;u[0]&&fr(t,u[0],n,r,l,s),u[1]&&fr(t,u[1],l,r,i,s),u[2]&&fr(t,u[2],n,s,l,a),u[3]&&fr(t,u[3],l,s,i,a)}}function Ml(t,e,n,r,i,a,l){var s=1/0,u;return function c(f,g,d,x,A){if(!(g>a||d>l||x<r||A<i)){if(m=f.point){var m,_=e-f.x,y=n-f.y,F=_*_+y*y;if(F<s){var b=Math.sqrt(s=F);r=e-b,i=n-b,a=e+b,l=n+b,u=m}}for(var P=f.nodes,W=(g+x)*.5,Y=(d+A)*.5,H=e>=W,V=n>=Y,st=V<<1|H,gt=st+4;st<gt;++st)if(f=P[st&3])switch(st&3){case 0:c(f,g,d,W,Y);break;case 1:c(f,W,d,x,Y);break;case 2:c(f,g,Y,W,A);break;case 3:c(f,W,Y,x,A);break}}}(t,r,i,a,l),u}o.interpolateRgb=Vi;function Vi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,l=e.g-r,s=e.b-i;return function(u){return"#"+Gn(Math.round(n+a*u))+Gn(Math.round(r+l*u))+Gn(Math.round(i+s*u))}}o.interpolateObject=Co;function Co(t,e){var n={},r={},i;for(i in t)i in e?n[i]=En(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(a){for(i in n)r[i]=n[i](a);return r}}o.interpolateNumber=pn;function pn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}o.interpolateString=Mo;function Mo(t,e){var n=qi.lastIndex=Hi.lastIndex=0,r,i,a,l=-1,s=[],u=[];for(t=t+"",e=e+"";(r=qi.exec(t))&&(i=Hi.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[l]?s[l]+=a:s[++l]=a),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,u.push({i:l,x:pn(r,i)})),n=Hi.lastIndex;return n<e.length&&(a=e.slice(n),s[l]?s[l]+=a:s[++l]=a),s.length<2?u[0]?(e=u[0].x,function(c){return e(c)+""}):function(){return e}:(e=u.length,function(c){for(var f=0,g;f<e;++f)s[(g=u[f]).i]=g.x(c);return s.join("")})}var qi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hi=new RegExp(qi.source,"g");o.interpolate=En;function En(t,e){for(var n=o.interpolators.length,r;--n>=0&&!(r=o.interpolators[n](t,e)););return r}o.interpolators=[function(t,e){var n=typeof e;return(n==="string"?br.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Vi:Mo:e instanceof Kt?Vi:Array.isArray(e)?Jr:n==="object"&&isNaN(e)?Co:pn)(t,e)}],o.interpolateArray=Jr;function Jr(t,e){var n=[],r=[],i=t.length,a=e.length,l=Math.min(t.length,e.length),s;for(s=0;s<l;++s)n.push(En(t[s],e[s]));for(;s<i;++s)r[s]=t[s];for(;s<a;++s)r[s]=e[s];return function(u){for(s=0;s<l;++s)r[s]=n[s](u);return r}}var So=function(){return ie},Sl=o.map({linear:So,poly:Nl,quad:function(){return Fl},cubic:function(){return Ll},sin:function(){return El},exp:function(){return Bl},circle:function(){return Dl},elastic:Il,back:zl,bounce:function(){return Rl}}),Pl=o.map({in:ie,out:Po,"in-out":Ao,"out-in":function(t){return Ao(Po(t))}});o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=Sl.get(n)||So,r=Pl.get(r)||ie,Al(r(n.apply(null,h.call(arguments,1))))};function Al(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Po(t){return function(e){return 1-t(1-e)}}function Ao(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}}function Fl(t){return t*t}function Ll(t){return t*t*t}function Tl(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Nl(t){return function(e){return Math.pow(e,t)}}function El(t){return 1-Math.cos(t*bt)}function Bl(t){return Math.pow(2,10*(t-1))}function Dl(t){return 1-Math.sqrt(1-t*t)}function Il(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/K*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*K/e)}}function zl(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Rl(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}o.interpolateHcl=Ol;function Ol(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,l=e.c-r,s=e.l-i;return isNaN(l)&&(l=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(u){return Ge(n+a*u,r+l*u,i+s*u)+""}}o.interpolateHsl=jl;function jl(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,l=e.s-r,s=e.l-i;return isNaN(l)&&(l=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(u){return Mn(n+a*u,r+l*u,i+s*u)+""}}o.interpolateLab=Gl;function Gl(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,l=e.a-r,s=e.b-i;return function(u){return jn(n+a*u,r+l*u,i+s*u)+""}}o.interpolateRound=Fo;function Fo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}o.transform=function(t){var e=v.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(n){if(n!=null){e.setAttribute("transform",n);var r=e.transform.baseVal.consolidate()}return new Lo(r?r.matrix:ql)})(t)};function Lo(t){var e=[t.a,t.b],n=[t.c,t.d],r=No(e),i=To(e,n),a=No(Vl(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*zt,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*zt:0}Lo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function To(t,e){return t[0]*e[0]+t[1]*e[1]}function No(t){var e=Math.sqrt(To(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vl(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}var ql={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=Eo;function Kn(t){return t.length?t.pop()+",":""}function Hl(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:pn(t[0],e[0])},{i:i-2,x:pn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Ul(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Kn(n)+"rotate(",null,")")-2,x:pn(t,e)})):e&&n.push(Kn(n)+"rotate("+e+")")}function Yl(t,e,n,r){t!==e?r.push({i:n.push(Kn(n)+"skewX(",null,")")-2,x:pn(t,e)}):e&&n.push(Kn(n)+"skewX("+e+")")}function Xl(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Kn(n)+"scale(",null,",",null,")");r.push({i:i-4,x:pn(t[0],e[0])},{i:i-2,x:pn(t[1],e[1])})}else(e[0]!==1||e[1]!==1)&&n.push(Kn(n)+"scale("+e+")")}function Eo(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),Hl(t.translate,e.translate,n,r),Ul(t.rotate,e.rotate,n,r),Yl(t.skew,e.skew,n,r),Xl(t.scale,e.scale,n,r),t=e=null,function(i){for(var a=-1,l=r.length,s;++a<l;)n[(s=r[a]).i]=s.x(i);return n.join("")}}function Wl(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Zl(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push($l(t[n]));return e}};function $l(t){for(var e=t.source,n=t.target,r=Kl(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Bo(t){for(var e=[],n=t.parent;n!=null;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Kl(t,e){if(t===e)return t;for(var n=Bo(t),r=Bo(e),i=n.pop(),a=r.pop(),l=null;i===a;)l=i,i=n.pop(),a=r.pop();return l}o.layout.chord=function(){var t={},e,n,r,i,a=0,l,s,u;function c(){var g={},d=[],x=o.range(i),A=[],m,_,y,F,b;for(e=[],n=[],m=0,F=-1;++F<i;){for(_=0,b=-1;++b<i;)_+=r[F][b];d.push(_),A.push(o.range(i)),m+=_}for(l&&x.sort(function(At,xt){return l(d[At],d[xt])}),s&&A.forEach(function(At,xt){At.sort(function(Ct,tt){return s(r[xt][Ct],r[xt][tt])})}),m=(K-a*i)/m,_=0,F=-1;++F<i;){for(y=_,b=-1;++b<i;){var P=x[F],W=A[P][b],Y=r[P][W],H=_,V=_+=Y*m;g[P+"-"+W]={index:P,subindex:W,startAngle:H,endAngle:V,value:Y}}n[P]={index:P,startAngle:y,endAngle:_,value:(_-y)/m},_+=a}for(F=-1;++F<i;)for(b=F-1;++b<i;){var st=g[F+"-"+b],gt=g[b+"-"+F];(st.value||gt.value)&&e.push(st.value<gt.value?{source:gt,target:st}:{source:st,target:gt})}u&&f()}function f(){e.sort(function(g,d){return u((g.source.value+g.target.value)/2,(d.source.value+d.target.value)/2)})}return t.matrix=function(g){return arguments.length?(i=(r=g)&&r.length,e=n=null,t):r},t.padding=function(g){return arguments.length?(a=g,e=n=null,t):a},t.sortGroups=function(g){return arguments.length?(l=g,e=n=null,t):l},t.sortSubgroups=function(g){return arguments.length?(s=g,e=null,t):s},t.sortChords=function(g){return arguments.length?(u=g,e&&f(),t):u},t.chords=function(){return e||c(),e},t.groups=function(){return n||c(),n},t},o.layout.force=function(){var t={},e=o.dispatch("start","tick","end"),n,r=[1,1],i,a,l=.9,s=nu,u=ru,c=-30,f=iu,g=.1,d=.64,x=[],A=[],m,_,y;function F(P){return function(W,Y,H,V){if(W.point!==P){var st=W.cx-P.x,gt=W.cy-P.y,At=V-Y,xt=st*st+gt*gt;if(At*At/d<xt){if(xt<f){var Ct=W.charge/xt;P.px-=st*Ct,P.py-=gt*Ct}return!0}if(W.point&&xt&&xt<f){var Ct=W.pointCharge/xt;P.px-=st*Ct,P.py-=gt*Ct}}return!W.charge}}t.tick=function(){if((a*=.99)<.005)return n=null,e.end({type:"end",alpha:a=0}),!0;var P=x.length,W=A.length,Y,H,V,st,gt,At,xt,Ct,tt;for(H=0;H<W;++H)V=A[H],st=V.source,gt=V.target,Ct=gt.x-st.x,tt=gt.y-st.y,(At=Ct*Ct+tt*tt)&&(At=a*_[H]*((At=Math.sqrt(At))-m[H])/At,Ct*=At,tt*=At,gt.x-=Ct*(xt=st.weight+gt.weight?st.weight/(st.weight+gt.weight):.5),gt.y-=tt*xt,st.x+=Ct*(xt=1-xt),st.y+=tt*xt);if((xt=a*g)&&(Ct=r[0]/2,tt=r[1]/2,H=-1,xt))for(;++H<P;)V=x[H],V.x+=(Ct-V.x)*xt,V.y+=(tt-V.y)*xt;if(c)for(Do(Y=o.geom.quadtree(x),a,y),H=-1;++H<P;)(V=x[H]).fixed||Y.visit(F(V));for(H=-1;++H<P;)V=x[H],V.fixed?(V.x=V.px,V.y=V.py):(V.x-=(V.px-(V.px=V.x))*l,V.y-=(V.py-(V.py=V.y))*l);e.tick({type:"tick",alpha:a})},t.nodes=function(P){return arguments.length?(x=P,t):x},t.links=function(P){return arguments.length?(A=P,t):A},t.size=function(P){return arguments.length?(r=P,t):r},t.linkDistance=function(P){return arguments.length?(s=typeof P=="function"?P:+P,t):s},t.distance=t.linkDistance,t.linkStrength=function(P){return arguments.length?(u=typeof P=="function"?P:+P,t):u},t.friction=function(P){return arguments.length?(l=+P,t):l},t.charge=function(P){return arguments.length?(c=typeof P=="function"?P:+P,t):c},t.chargeDistance=function(P){return arguments.length?(f=P*P,t):Math.sqrt(f)},t.gravity=function(P){return arguments.length?(g=+P,t):g},t.theta=function(P){return arguments.length?(d=P*P,t):Math.sqrt(d)},t.alpha=function(P){return arguments.length?(P=+P,a?P>0?a=P:(n.c=null,n.t=NaN,n=null,e.start({type:"end",alpha:a=0})):P>0&&(e.start({type:"start",alpha:a=P}),n=Pr(t.tick)),t):a},t.start=function(){var P,W=x.length,Y=A.length,H=r[0],V=r[1],st,gt;for(P=0;P<W;++P)(gt=x[P]).index=P,gt.weight=0;for(P=0;P<Y;++P)gt=A[P],typeof gt.source=="number"&&(gt.source=x[gt.source]),typeof gt.target=="number"&&(gt.target=x[gt.target]),++gt.source.weight,++gt.target.weight;for(P=0;P<W;++P)gt=x[P],isNaN(gt.x)&&(gt.x=At("x",H)),isNaN(gt.y)&&(gt.y=At("y",V)),isNaN(gt.px)&&(gt.px=gt.x),isNaN(gt.py)&&(gt.py=gt.y);if(m=[],typeof s=="function")for(P=0;P<Y;++P)m[P]=+s.call(this,A[P],P);else for(P=0;P<Y;++P)m[P]=s;if(_=[],typeof u=="function")for(P=0;P<Y;++P)_[P]=+u.call(this,A[P],P);else for(P=0;P<Y;++P)_[P]=u;if(y=[],typeof c=="function")for(P=0;P<W;++P)y[P]=+c.call(this,x[P],P);else for(P=0;P<W;++P)y[P]=c;function At(xt,Ct){if(!st){for(st=new Array(W),yt=0;yt<W;++yt)st[yt]=[];for(yt=0;yt<Y;++yt){var tt=A[yt];st[tt.source.index].push(tt.target),st[tt.target.index].push(tt.source)}}for(var ft=st[P],yt=-1,nt=ft.length,mt;++yt<nt;)if(!isNaN(mt=ft[yt][xt]))return mt;return Math.random()*Ct}return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){if(i||(i=o.behavior.drag().origin(ie).on("dragstart.force",Jl).on("drag.force",b).on("dragend.force",Ql)),!arguments.length)return i;this.on("mouseover.force",tu).on("mouseout.force",eu).call(i)};function b(P){P.px=o.event.x,P.py=o.event.y,t.resume()}return o.rebind(t,e,"on")};function Jl(t){t.fixed|=2}function Ql(t){t.fixed&=-7}function tu(t){t.fixed|=4,t.px=t.x,t.py=t.y}function eu(t){t.fixed&=-5}function Do(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a=t.nodes,l=a.length,s=-1,u;++s<l;)u=a[s],u!=null&&(Do(u,e,n),t.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}var nu=20,ru=1,iu=1/0;o.layout.hierarchy=function(){var t=su,e=au,n=ou;function r(i){var a=[i],l=[],s;for(i.depth=0;(s=a.pop())!=null;)if(l.push(s),(c=e.call(r,s,s.depth))&&(u=c.length)){for(var u,c,f;--u>=0;)a.push(f=c[u]),f.parent=s,f.depth=s.depth+1;n&&(s.value=0),s.children=c}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return sn(i,function(g){var d,x;t&&(d=g.children)&&d.sort(t),n&&(x=g.parent)&&(x.value+=g.value)}),l}return r.sort=function(i){return arguments.length?(t=i,r):t},r.children=function(i){return arguments.length?(e=i,r):e},r.value=function(i){return arguments.length?(n=i,r):n},r.revalue=function(i){return n&&(gr(i,function(a){a.children&&(a.value=0)}),sn(i,function(a){var l;a.children||(a.value=+n.call(r,a,a.depth)||0),(l=a.parent)&&(l.value+=a.value)})),i},r};function hr(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=lu,t}function gr(t,e){for(var n=[t];(t=n.pop())!=null;)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function sn(t,e){for(var n=[t],r=[];(t=n.pop())!=null;)if(r.push(t),(l=t.children)&&(a=l.length))for(var i=-1,a,l;++i<a;)n.push(l[i]);for(;(t=r.pop())!=null;)e(t)}function au(t){return t.children}function ou(t){return t.value}function su(t,e){return e.value-t.value}function lu(t){return o.merge(t.map(function(e){return(e.children||[]).map(function(n){return{source:e,target:n}})}))}o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(a,l,s,u){var c=a.children;if(a.x=l,a.y=a.depth*u,a.dx=s,a.dy=u,c&&(g=c.length)){var f=-1,g,d,x;for(s=a.value?s/a.value:0;++f<g;)n(d=c[f],l,x=d.value*s,u),l+=x}}function r(a){var l=a.children,s=0;if(l&&(c=l.length))for(var u=-1,c;++u<c;)s=Math.max(s,r(l[u]));return 1+s}function i(a,l){var s=t.call(this,a,l);return n(s[0],0,e[0],e[1]/r(s[0])),s}return i.size=function(a){return arguments.length?(e=a,i):e},hr(i,t)},o.layout.pie=function(){var t=Number,e=Io,n=0,r=K,i=0;function a(l){var s=l.length,u=l.map(function(F,b){return+t.call(a,F,b)}),c=+(typeof n=="function"?n.apply(this,arguments):n),f=(typeof r=="function"?r.apply(this,arguments):r)-c,g=Math.min(Math.abs(f)/s,+(typeof i=="function"?i.apply(this,arguments):i)),d=g*(f<0?-1:1),x=o.sum(u),A=x?(f-s*d)/x:0,m=o.range(s),_=[],y;return e!=null&&m.sort(e===Io?function(F,b){return u[b]-u[F]}:function(F,b){return e(l[F],l[b])}),m.forEach(function(F){_[F]={data:l[F],value:y=u[F],startAngle:c,endAngle:c+=y*A+d,padAngle:g}}),_}return a.value=function(l){return arguments.length?(t=l,a):t},a.sort=function(l){return arguments.length?(e=l,a):e},a.startAngle=function(l){return arguments.length?(n=l,a):n},a.endAngle=function(l){return arguments.length?(r=l,a):r},a.padAngle=function(l){return arguments.length?(i=l,a):i},a};var Io={};o.layout.stack=function(){var t=ie,e=Ui,n=Yi,r=fu,i=uu,a=cu;function l(s,u){if(!(A=s.length))return s;var c=s.map(function(F,b){return t.call(l,F,b)}),f=c.map(function(F){return F.map(function(b,P){return[i.call(l,b,P),a.call(l,b,P)]})}),g=e.call(l,f,u);c=o.permute(c,g),f=o.permute(f,g);var d=n.call(l,f,u),x=c[0].length,A,m,_,y;for(_=0;_<x;++_)for(r.call(l,c[0][_],y=d[_],f[0][_][1]),m=1;m<A;++m)r.call(l,c[m][_],y+=f[m-1][_][1],f[m][_][1]);return s}return l.values=function(s){return arguments.length?(t=s,l):t},l.order=function(s){return arguments.length?(e=typeof s=="function"?s:hu.get(s)||Ui,l):e},l.offset=function(s){return arguments.length?(n=typeof s=="function"?s:gu.get(s)||Yi,l):n},l.x=function(s){return arguments.length?(i=s,l):i},l.y=function(s){return arguments.length?(a=s,l):a},l.out=function(s){return arguments.length?(r=s,l):r},l};function uu(t){return t.x}function cu(t){return t.y}function fu(t,e,n){t.y0=e,t.y=n}var hu=o.map({"inside-out":function(t){var e=t.length,n,r,i=t.map(du),a=t.map(pu),l=o.range(e).sort(function(g,d){return i[g]-i[d]}),s=0,u=0,c=[],f=[];for(n=0;n<e;++n)r=l[n],s<u?(s+=a[r],c.push(r)):(u+=a[r],f.push(r));return f.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Ui}),gu=o.map({silhouette:function(t){var e=t.length,n=t[0].length,r=[],i=0,a,l,s,u=[];for(l=0;l<n;++l){for(a=0,s=0;a<e;a++)s+=t[a][l][1];s>i&&(i=s),r.push(s)}for(l=0;l<n;++l)u[l]=(i-r[l])/2;return u},wiggle:function(t){var e=t.length,n=t[0],r=n.length,i,a,l,s,u,c,f,g,d,x=[];for(x[0]=g=d=0,a=1;a<r;++a){for(i=0,s=0;i<e;++i)s+=t[i][a][1];for(i=0,u=0,f=n[a][0]-n[a-1][0];i<e;++i){for(l=0,c=(t[i][a][1]-t[i][a-1][1])/(2*f);l<i;++l)c+=(t[l][a][1]-t[l][a-1][1])/f;u+=c*t[i][a][1]}x[a]=g-=s?u/s*f:0,g<d&&(d=g)}for(a=0;a<r;++a)x[a]-=d;return x},expand:function(t){var e=t.length,n=t[0].length,r=1/e,i,a,l,s=[];for(a=0;a<n;++a){for(i=0,l=0;i<e;i++)l+=t[i][a][1];if(l)for(i=0;i<e;i++)t[i][a][1]/=l;else for(i=0;i<e;i++)t[i][a][1]=r}for(a=0;a<n;++a)s[a]=0;return s},zero:Yi});function Ui(t){return o.range(t.length)}function Yi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function du(t){for(var e=1,n=0,r=t[0][1],i,a=t.length;e<a;++e)(i=t[e][1])>r&&(n=e,r=i);return n}function pu(t){return t.reduce(mu,0)}function mu(t,e){return t+e[1]}o.layout.histogram=function(){var t=!0,e=Number,n=yu,r=_u;function i(a,d){for(var s=[],u=a.map(e,this),c=n.call(this,u,d),f=r.call(this,c,u,d),g,d=-1,x=u.length,A=f.length-1,m=t?1:1/x,_;++d<A;)g=s[d]=[],g.dx=f[d+1]-(g.x=f[d]),g.y=0;if(A>0)for(d=-1;++d<x;)_=u[d],_>=c[0]&&_<=c[1]&&(g=s[o.bisect(f,_,1,A)-1],g.y+=m,g.push(a[d]));return s}return i.value=function(a){return arguments.length?(e=a,i):e},i.range=function(a){return arguments.length?(n=de(a),i):n},i.bins=function(a){return arguments.length?(r=typeof a=="number"?function(l){return zo(l,a)}:de(a),i):r},i.frequency=function(a){return arguments.length?(t=!!a,i):t},i};function _u(t,e){return zo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function zo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function yu(t){return[o.min(t),o.max(t)]}o.layout.pack=function(){var t=o.layout.hierarchy().sort(vu),e=0,n=[1,1],r;function i(a,l){var s=t.call(this,a,l),u=s[0],c=n[0],f=n[1],g=r==null?Math.sqrt:typeof r=="function"?r:function(){return r};if(u.x=u.y=0,sn(u,function(x){x.r=+g(x.value)}),sn(u,jo),e){var d=e*(r?1:Math.max(2*u.r/c,2*u.r/f))/2;sn(u,function(x){x.r+=d}),sn(u,jo),sn(u,function(x){x.r-=d})}return Go(u,c/2,f/2,r?1:1/Math.max(2*u.r/c,2*u.r/f)),s}return i.size=function(a){return arguments.length?(n=a,i):n},i.radius=function(a){return arguments.length?(r=a==null||typeof a=="function"?a:+a,i):r},i.padding=function(a){return arguments.length?(e=+a,i):e},hr(i,t)};function vu(t,e){return t.value-e.value}function Xi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ro(t,e){t._pack_next=e,e._pack_prev=t}function Oo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return .999*i*i>n*n+r*r}function jo(t){if(!(e=t.children)||!(d=e.length))return;var e,n=1/0,r=-1/0,i=1/0,a=-1/0,l,s,u,c,f,g,d;function x(P){n=Math.min(P.x-P.r,n),r=Math.max(P.x+P.r,r),i=Math.min(P.y-P.r,i),a=Math.max(P.y+P.r,a)}if(e.forEach(xu),l=e[0],l.x=-l.r,l.y=0,x(l),d>1&&(s=e[1],s.x=s.r,s.y=0,x(s),d>2))for(u=e[2],Vo(l,s,u),x(u),Xi(l,u),l._pack_prev=u,Xi(u,s),s=l._pack_next,c=3;c<d;c++){Vo(l,s,u=e[c]);var A=0,m=1,_=1;for(f=s._pack_next;f!==s;f=f._pack_next,m++)if(Oo(f,u)){A=1;break}if(A==1)for(g=l._pack_prev;g!==f._pack_prev&&!Oo(g,u);g=g._pack_prev,_++);A?(m<_||m==_&&s.r<l.r?Ro(l,s=f):Ro(l=g,s),c--):(Xi(l,u),s=u,x(u))}var y=(n+r)/2,F=(i+a)/2,b=0;for(c=0;c<d;c++)u=e[c],u.x-=y,u.y-=F,b=Math.max(b,u.r+Math.sqrt(u.x*u.x+u.y*u.y));t.r=b,e.forEach(bu)}function xu(t){t._pack_next=t._pack_prev=t}function bu(t){delete t._pack_next,delete t._pack_prev}function Go(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,l=i.length;++a<l;)Go(i[a],e,n,r)}function Vo(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var l=e.r+n.r,s=i*i+a*a;l*=l,r*=r;var u=.5+(r-l)/(2*s),c=Math.sqrt(Math.max(0,2*l*(r+s)-(r-=s)*r-l*l))/(2*s);n.x=t.x+u*i+c*a,n.y=t.y+u*a-c*i}else n.x=t.x+r,n.y=t.y}o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=qo,n=[1,1],r=null;function i(f,g){var d=t.call(this,f,g),x=d[0],A=a(x);if(sn(A,l),A.parent.m=-A.z,gr(A,s),r)gr(x,c);else{var m=x,_=x,y=x;gr(x,function(W){W.x<m.x&&(m=W),W.x>_.x&&(_=W),W.depth>y.depth&&(y=W)});var F=e(m,_)/2-m.x,b=n[0]/(_.x+e(_,m)/2+F),P=n[1]/(y.depth||1);gr(x,function(W){W.x=(W.x+F)*b,W.y=W.depth*P})}return d}function a(f){for(var g={A:null,children:[f]},d=[g],x;(x=d.pop())!=null;)for(var A=x.children,m,_=0,y=A.length;_<y;++_)d.push((A[_]=m={_:A[_],parent:x,children:(m=A[_].children)&&m.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:_}).a=m);return g.children[0]}function l(f){var g=f.children,d=f.parent.children,x=f.i?d[f.i-1]:null;if(g.length){ku(f);var A=(g[0].z+g[g.length-1].z)/2;x?(f.z=x.z+e(f._,x._),f.m=f.z-A):f.z=A}else x&&(f.z=x.z+e(f._,x._));f.parent.A=u(f,x,f.parent.A||d[0])}function s(f){f._.x=f.z+f.parent.m,f.m+=f.parent.m}function u(f,g,d){if(g){for(var x=f,A=f,m=g,_=x.parent.children[0],y=x.m,F=A.m,b=m.m,P=_.m,W;m=Zi(m),x=Wi(x),m&&x;)_=Wi(_),A=Zi(A),A.a=f,W=m.z+b-x.z-y+e(m._,x._),W>0&&(wu(Cu(m,f,d),f,W),y+=W,F+=W),b+=m.m,y+=x.m,P+=_.m,F+=A.m;m&&!Zi(A)&&(A.t=m,A.m+=b-F),x&&!Wi(_)&&(_.t=x,_.m+=y-P,d=f)}return d}function c(f){f.x*=n[0],f.y=f.depth*n[1]}return i.separation=function(f){return arguments.length?(e=f,i):e},i.size=function(f){return arguments.length?(r=(n=f)==null?c:null,i):r?null:n},i.nodeSize=function(f){return arguments.length?(r=(n=f)==null?null:c,i):r?n:null},hr(i,t)};function qo(t,e){return t.parent==e.parent?1:2}function Wi(t){var e=t.children;return e.length?e[0]:t.t}function Zi(t){var e=t.children,n;return(n=e.length)?e[n-1]:t.t}function wu(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ku(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function Cu(t,e,n){return t.a.parent===e.parent?t.a:n}o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=qo,n=[1,1],r=!1;function i(a,l){var s=t.call(this,a,l),u=s[0],c,f=0;sn(u,function(m){var _=m.children;_&&_.length?(m.x=Su(_),m.y=Mu(_)):(m.x=c?f+=e(m,c):0,m.y=0,c=m)});var g=Ho(u),d=Uo(u),x=g.x-e(g,d)/2,A=d.x+e(d,g)/2;return sn(u,r?function(m){m.x=(m.x-u.x)*n[0],m.y=(u.y-m.y)*n[1]}:function(m){m.x=(m.x-x)/(A-x)*n[0],m.y=(1-(u.y?m.y/u.y:1))*n[1]}),s}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=(n=a)==null,i):r?null:n},i.nodeSize=function(a){return arguments.length?(r=(n=a)!=null,i):r?n:null},hr(i,t)};function Mu(t){return 1+o.max(t,function(e){return e.y})}function Su(t){return t.reduce(function(e,n){return e+n.x},0)/t.length}function Ho(t){var e=t.children;return e&&e.length?Ho(e[0]):t}function Uo(t){var e=t.children,n;return e&&(n=e.length)?Uo(e[n-1]):t}o.layout.treemap=function(){var t=o.layout.hierarchy(),e=Math.round,n=[1,1],r=null,i=$i,a=!1,l,s="squarify",u=.5*(1+Math.sqrt(5));function c(m,_){for(var y=-1,F=m.length,b,P;++y<F;)P=(b=m[y]).value*(_<0?0:_),b.area=isNaN(P)||P<=0?0:P}function f(m){var _=m.children;if(_&&_.length){var y=i(m),F=[],b=_.slice(),P,W=1/0,Y,H=s==="slice"?y.dx:s==="dice"?y.dy:s==="slice-dice"?m.depth&1?y.dy:y.dx:Math.min(y.dx,y.dy),V;for(c(b,y.dx*y.dy/m.value),F.area=0;(V=b.length)>0;)F.push(P=b[V-1]),F.area+=P.area,s!=="squarify"||(Y=d(F,H))<=W?(b.pop(),W=Y):(F.area-=F.pop().area,x(F,H,y,!1),H=Math.min(y.dx,y.dy),F.length=F.area=0,W=1/0);F.length&&(x(F,H,y,!0),F.length=F.area=0),_.forEach(f)}}function g(m){var _=m.children;if(_&&_.length){var y=i(m),F=_.slice(),b,P=[];for(c(F,y.dx*y.dy/m.value),P.area=0;b=F.pop();)P.push(b),P.area+=b.area,b.z!=null&&(x(P,b.z?y.dx:y.dy,y,!F.length),P.length=P.area=0);_.forEach(g)}}function d(m,_){for(var y=m.area,F,b=0,P=1/0,W=-1,Y=m.length;++W<Y;)(F=m[W].area)&&(F<P&&(P=F),F>b&&(b=F));return y*=y,_*=_,y?Math.max(_*b*u/y,y/(_*P*u)):1/0}function x(m,_,y,F){var b=-1,P=m.length,W=y.x,Y=y.y,H=_?e(m.area/_):0,V;if(_==y.dx){for((F||H>y.dy)&&(H=y.dy);++b<P;)V=m[b],V.x=W,V.y=Y,V.dy=H,W+=V.dx=Math.min(y.x+y.dx-W,H?e(V.area/H):0);V.z=!0,V.dx+=y.x+y.dx-W,y.y+=H,y.dy-=H}else{for((F||H>y.dx)&&(H=y.dx);++b<P;)V=m[b],V.x=W,V.y=Y,V.dx=H,Y+=V.dy=Math.min(y.y+y.dy-Y,H?e(V.area/H):0);V.z=!1,V.dy+=y.y+y.dy-Y,y.x+=H,y.dx-=H}}function A(m){var _=l||t(m),y=_[0];return y.x=y.y=0,y.value?(y.dx=n[0],y.dy=n[1]):y.dx=y.dy=0,l&&t.revalue(y),c([y],y.dx*y.dy/y.value),(l?g:f)(y),a&&(l=_),_}return A.size=function(m){return arguments.length?(n=m,A):n},A.padding=function(m){if(!arguments.length)return r;function _(b){var P=m.call(A,b,b.depth);return P==null?$i(b):Yo(b,typeof P=="number"?[P,P,P,P]:P)}function y(b){return Yo(b,m)}var F;return i=(r=m)==null?$i:(F=typeof m)=="function"?_:(F==="number"&&(m=[m,m,m,m]),y),A},A.round=function(m){return arguments.length?(e=m?Math.round:Number,A):e!=Number},A.sticky=function(m){return arguments.length?(a=m,l=null,A):a},A.ratio=function(m){return arguments.length?(u=m,A):u},A.mode=function(m){return arguments.length?(s=m+"",A):s},hr(A,t)};function $i(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Yo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var r,i,a;do r=Math.random()*2-1,i=Math.random()*2-1,a=r*r+i*i;while(!a||a>1);return t+e*r*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};function Jn(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Qr(t){return t.rangeExtent?t.rangeExtent():Jn(t.range())}function Pu(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(l){return a(i(l))}}function Ki(t,e){var n=0,r=t.length-1,i=t[n],a=t[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Au(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Fu}var Fu={floor:ie,ceil:ie};function Lu(t,e,n,r){var i=[],a=[],l=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<=s;)i.push(n(t[l-1],t[l])),a.push(r(e[l-1],e[l]));return function(u){var c=o.bisect(t,u,1,s)-1;return a[c](i[c](u))}}o.scale.linear=function(){return Xo([0,1],[0,1],En,!1)};function Xo(t,e,n,r){var i,a;function l(){var u=Math.min(t.length,e.length)>2?Lu:Pu,c=r?Zl:Wl;return i=u(t,e,c,n),a=u(e,t,c,En),s}function s(u){return i(u)}return s.invert=function(u){return a(u)},s.domain=function(u){return arguments.length?(t=u.map(Number),l()):t},s.range=function(u){return arguments.length?(e=u,l()):e},s.rangeRound=function(u){return s.range(u).interpolate(Fo)},s.clamp=function(u){return arguments.length?(r=u,l()):r},s.interpolate=function(u){return arguments.length?(n=u,l()):n},s.ticks=function(u){return Qi(t,u)},s.tickFormat=function(u,c){return ta(t,u,c)},s.nice=function(u){return Wo(t,u),l()},s.copy=function(){return Xo(t,e,n,r)},l()}function Ji(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Wo(t,e){return Ki(t,Au(dr(t,e)[2]))}function dr(t,e){e==null&&(e=10);var n=Jn(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function Qi(t,e){return o.range.apply(o,dr(t,e))}function ta(t,e,n){var r=dr(t,e);if(n){var i=ka.exec(n);if(i.shift(),i[8]==="s"){var a=o.formatPrefix(Math.max(rt(r[0]),rt(r[1])));return i[7]||(i[7]="."+ti(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(l){return n(a.scale(l))+a.symbol}}i[7]||(i[7]="."+Nu(i[8],r)),n=i.join("")}else n=",."+ti(r[2])+"f";return o.format(n)}var Tu={s:1,g:1,p:1,r:1,e:1};function ti(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Nu(t,e){var n=ti(e[2]);return t in Tu?Math.abs(n-ti(Math.max(rt(e[0]),rt(e[1]))))+ +(t!=="e"):n-(t==="%")*2}o.scale.log=function(){return Zo(o.scale.linear().domain([0,1]),10,!0,[1,10])};function Zo(t,e,n,r){function i(s){return(n?Math.log(s<0?0:s):-Math.log(s>0?0:-s))/Math.log(e)}function a(s){return n?Math.pow(e,s):-Math.pow(e,-s)}function l(s){return t(i(s))}return l.invert=function(s){return a(t.invert(s))},l.domain=function(s){return arguments.length?(n=s[0]>=0,t.domain((r=s.map(Number)).map(i)),l):r},l.base=function(s){return arguments.length?(e=+s,t.domain(r.map(i)),l):e},l.nice=function(){var s=Ki(r.map(i),n?Math:Eu);return t.domain(s),r=s.map(a),l},l.ticks=function(){var s=Jn(r),u=[],c=s[0],f=s[1],g=Math.floor(i(c)),d=Math.ceil(i(f)),x=e%1?2:e;if(isFinite(d-g)){if(n){for(;g<d;g++)for(var A=1;A<x;A++)u.push(a(g)*A);u.push(a(g))}else for(u.push(a(g));g++<d;)for(var A=x-1;A>0;A--)u.push(a(g)*A);for(g=0;u[g]<c;g++);for(d=u.length;u[d-1]>f;d--);u=u.slice(g,d)}return u},l.tickFormat=function(s,u){if(!arguments.length)return $o;arguments.length<2?u=$o:typeof u!="function"&&(u=o.format(u));var c=Math.max(.1,s/l.ticks().length),f=n?(g=1e-12,Math.ceil):(g=-1e-12,Math.floor),g;return function(d){return d/a(f(i(d)+g))<=c?u(d):""}},l.copy=function(){return Zo(t.copy(),e,n,r)},Ji(l,t)}var $o=o.format(".0e"),Eu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};o.scale.pow=function(){return Ko(o.scale.linear(),1,[0,1])};function Ko(t,e,n){var r=ei(e),i=ei(1/e);function a(l){return t(r(l))}return a.invert=function(l){return i(t.invert(l))},a.domain=function(l){return arguments.length?(t.domain((n=l.map(Number)).map(r)),a):n},a.ticks=function(l){return Qi(n,l)},a.tickFormat=function(l,s){return ta(n,l,s)},a.nice=function(l){return a.domain(Wo(n,l))},a.exponent=function(l){return arguments.length?(r=ei(e=l),i=ei(1/e),t.domain(n.map(r)),a):e},a.copy=function(){return Ko(t.copy(),e,n)},Ji(a,t)}function ei(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return Jo([],{t:"range",a:[[]]})};function Jo(t,e){var n,r,i;function a(s){return r[((n.get(s)||(e.t==="range"?n.set(s,t.push(s)):NaN))-1)%r.length]}function l(s,u){return o.range(t.length).map(function(c){return s+u*c})}return a.domain=function(s){if(!arguments.length)return t;t=[],n=new dt;for(var u=-1,c=s.length,f;++u<c;)n.has(f=s[u])||n.set(f,t.push(f));return a[e.t].apply(a,e.a)},a.range=function(s){return arguments.length?(r=s,i=0,e={t:"range",a:arguments},a):r},a.rangePoints=function(s,u){arguments.length<2&&(u=0);var c=s[0],f=s[1],g=t.length<2?(c=(c+f)/2,0):(f-c)/(t.length-1+u);return r=l(c+g*u/2,g),i=0,e={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(s,u){arguments.length<2&&(u=0);var c=s[0],f=s[1],g=t.length<2?(c=f=Math.round((c+f)/2),0):(f-c)/(t.length-1+u)|0;return r=l(c+Math.round(g*u/2+(f-c-(t.length-1+u)*g)/2),g),i=0,e={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(s,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var f=s[1]<s[0],g=s[f-0],d=s[1-f],x=(d-g)/(t.length-u+2*c);return r=l(g+x*c,x),f&&r.reverse(),i=x*(1-u),e={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(s,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var f=s[1]<s[0],g=s[f-0],d=s[1-f],x=Math.floor((d-g)/(t.length-u+2*c));return r=l(g+Math.round((d-g-(t.length-u)*x)/2),x),f&&r.reverse(),i=Math.round(x*(1-u)),e={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return i},a.rangeExtent=function(){return Jn(e.a[0])},a.copy=function(){return Jo(t,e)},a.domain(t)}o.scale.category10=function(){return o.scale.ordinal().range(Bu)},o.scale.category20=function(){return o.scale.ordinal().range(Du)},o.scale.category20b=function(){return o.scale.ordinal().range(Iu)},o.scale.category20c=function(){return o.scale.ordinal().range(zu)};var Bu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vr),Du=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vr),Iu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vr),zu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vr);o.scale.quantile=function(){return Qo([],[])};function Qo(t,e){var n;function r(){var a=0,l=e.length;for(n=[];++a<l;)n[a-1]=o.quantile(t,a/l);return i}function i(a){if(!isNaN(a=+a))return e[o.bisect(n,a)]}return i.domain=function(a){return arguments.length?(t=a.map(N).filter(C).sort(k),r()):t},i.range=function(a){return arguments.length?(e=a,r()):e},i.quantiles=function(){return n},i.invertExtent=function(a){return a=e.indexOf(a),a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},i.copy=function(){return Qo(t,e)},r()}o.scale.quantize=function(){return ts(0,1,[0,1])};function ts(t,e,n){var r,i;function a(s){return n[Math.max(0,Math.min(i,Math.floor(r*(s-t))))]}function l(){return r=n.length/(e-t),i=n.length-1,a}return a.domain=function(s){return arguments.length?(t=+s[0],e=+s[s.length-1],l()):[t,e]},a.range=function(s){return arguments.length?(n=s,l()):n},a.invertExtent=function(s){return s=n.indexOf(s),s=s<0?NaN:s/r+t,[s,s+1/r]},a.copy=function(){return ts(t,e,n)},l()}o.scale.threshold=function(){return es([.5],[0,1])};function es(t,e){function n(r){if(r<=r)return e[o.bisect(t,r)]}return n.domain=function(r){return arguments.length?(t=r,n):t},n.range=function(r){return arguments.length?(e=r,n):e},n.invertExtent=function(r){return r=e.indexOf(r),[t[r-1],t[r]]},n.copy=function(){return es(t,e)},n}o.scale.identity=function(){return ns([0,1])};function ns(t){function e(n){return+n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(n){return Qi(t,n)},e.tickFormat=function(n,r){return ta(t,n,r)},e.copy=function(){return ns(t)},e}o.svg={};function Ru(){return 0}o.svg.arc=function(){var t=Ou,e=ju,n=Ru,r=ni,i=rs,a=is,l=Gu;function s(){var c=Math.max(0,+t.apply(this,arguments)),f=Math.max(0,+e.apply(this,arguments)),g=i.apply(this,arguments)-bt,d=a.apply(this,arguments)-bt,x=Math.abs(d-g),A=g>d?0:1;if(f<c&&(m=f,f=c,c=m),x>=Lt)return u(f,A)+(c?u(c,1-A):"")+"Z";var m,_,y,F,b=0,P=0,W,Y,H,V,st,gt,At,xt,Ct=[];if((F=(+l.apply(this,arguments)||0)/2)&&(y=r===ni?Math.sqrt(c*c+f*f):+r.apply(this,arguments),A||(P*=-1),f&&(P=Yt(y/f*Math.sin(F))),c&&(b=Yt(y/c*Math.sin(F)))),f){W=f*Math.cos(g+P),Y=f*Math.sin(g+P),H=f*Math.cos(d-P),V=f*Math.sin(d-P);var tt=Math.abs(d-g-2*P)<=it?0:1;if(P&&ri(W,Y,H,V)===A^tt){var ft=(g+d)/2;W=f*Math.cos(ft),Y=f*Math.sin(ft),H=V=null}}else W=Y=0;if(c){st=c*Math.cos(d-b),gt=c*Math.sin(d-b),At=c*Math.cos(g+b),xt=c*Math.sin(g+b);var yt=Math.abs(g-d+2*b)<=it?0:1;if(b&&ri(st,gt,At,xt)===1-A^yt){var nt=(g+d)/2;st=c*Math.cos(nt),gt=c*Math.sin(nt),At=xt=null}}else st=gt=0;if(x>Q&&(m=Math.min(Math.abs(f-c)/2,+n.apply(this,arguments)))>.001){_=c<f^A?0:1;var mt=m,Dt=m;if(x<it){var Ht=At==null?[st,gt]:H==null?[W,Y]:zi([W,Y],[At,xt],[H,V],[st,gt]),Zt=W-Ht[0],se=Y-Ht[1],pe=H-Ht[0],Ee=V-Ht[1],Ie=1/Math.sin(Math.acos((Zt*pe+se*Ee)/(Math.sqrt(Zt*Zt+se*se)*Math.sqrt(pe*pe+Ee*Ee)))/2),Be=Math.sqrt(Ht[0]*Ht[0]+Ht[1]*Ht[1]);Dt=Math.min(m,(c-Be)/(Ie-1)),mt=Math.min(m,(f-Be)/(Ie+1))}if(H!=null){var Re=ii(At==null?[st,gt]:[At,xt],[W,Y],f,mt,A),Te=ii([H,V],[st,gt],f,mt,A);m===mt?Ct.push("M",Re[0],"A",mt,",",mt," 0 0,",_," ",Re[1],"A",f,",",f," 0 ",1-A^ri(Re[1][0],Re[1][1],Te[1][0],Te[1][1]),",",A," ",Te[1],"A",mt,",",mt," 0 0,",_," ",Te[0]):Ct.push("M",Re[0],"A",mt,",",mt," 0 1,",_," ",Te[0])}else Ct.push("M",W,",",Y);if(At!=null){var Oe=ii([W,Y],[At,xt],c,-Dt,A),In=ii([st,gt],H==null?[W,Y]:[H,V],c,-Dt,A);m===Dt?Ct.push("L",In[0],"A",Dt,",",Dt," 0 0,",_," ",In[1],"A",c,",",c," 0 ",A^ri(In[1][0],In[1][1],Oe[1][0],Oe[1][1]),",",1-A," ",Oe[1],"A",Dt,",",Dt," 0 0,",_," ",Oe[0]):Ct.push("L",In[0],"A",Dt,",",Dt," 0 0,",_," ",Oe[0])}else Ct.push("L",st,",",gt)}else Ct.push("M",W,",",Y),H!=null&&Ct.push("A",f,",",f," 0 ",tt,",",A," ",H,",",V),Ct.push("L",st,",",gt),At!=null&&Ct.push("A",c,",",c," 0 ",yt,",",1-A," ",At,",",xt);return Ct.push("Z"),Ct.join("")}function u(c,f){return"M0,"+c+"A"+c+","+c+" 0 1,"+f+" 0,"+-c+"A"+c+","+c+" 0 1,"+f+" 0,"+c}return s.innerRadius=function(c){return arguments.length?(t=de(c),s):t},s.outerRadius=function(c){return arguments.length?(e=de(c),s):e},s.cornerRadius=function(c){return arguments.length?(n=de(c),s):n},s.padRadius=function(c){return arguments.length?(r=c==ni?ni:de(c),s):r},s.startAngle=function(c){return arguments.length?(i=de(c),s):i},s.endAngle=function(c){return arguments.length?(a=de(c),s):a},s.padAngle=function(c){return arguments.length?(l=de(c),s):l},s.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-bt;return[Math.cos(f)*c,Math.sin(f)*c]},s};var ni="auto";function Ou(t){return t.innerRadius}function ju(t){return t.outerRadius}function rs(t){return t.startAngle}function is(t){return t.endAngle}function Gu(t){return t&&t.padAngle}function ri(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function ii(t,e,n,r,i){var a=t[0]-e[0],l=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+l*l),u=s*l,c=-s*a,f=t[0]+u,g=t[1]+c,d=e[0]+u,x=e[1]+c,A=(f+d)/2,m=(g+x)/2,_=d-f,y=x-g,F=_*_+y*y,b=n-r,P=f*x-d*g,W=(y<0?-1:1)*Math.sqrt(Math.max(0,b*b*F-P*P)),Y=(P*y-_*W)/F,H=(-P*_-y*W)/F,V=(P*y+_*W)/F,st=(-P*_+y*W)/F,gt=Y-A,At=H-m,xt=V-A,Ct=st-m;return gt*gt+At*At>xt*xt+Ct*Ct&&(Y=V,H=st),[[Y-u,H-c],[Y*n/b,H*n/b]]}function as(t){var e=Yn,n=or,r=rr,i=Qe,a=i.key,l=.7;function s(u){var c=[],f=[],g=-1,d=u.length,x,A=de(e),m=de(n);function _(){c.push("M",i(t(f),l))}for(;++g<d;)r.call(this,x=u[g],g)?f.push([+A.call(this,x,g),+m.call(this,x,g)]):f.length&&(_(),f=[]);return f.length&&_(),c.length?c.join(""):null}return s.x=function(u){return arguments.length?(e=u,s):e},s.y=function(u){return arguments.length?(n=u,s):n},s.defined=function(u){return arguments.length?(r=u,s):r},s.interpolate=function(u){return arguments.length?(typeof u=="function"?a=i=u:a=(i=ea.get(u)||Qe).key,s):a},s.tension=function(u){return arguments.length?(l=u,s):l},s}o.svg.line=function(){return as(ie)};var ea=o.map({linear:Qe,"linear-closed":os,step:Vu,"step-before":na,"step-after":ra,basis:ss,"basis-open":Yu,"basis-closed":Xu,bundle:Wu,cardinal:Uu,"cardinal-open":qu,"cardinal-closed":Hu,monotone:Ku});ea.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});function Qe(t){return t.length>1?t.join("L"):t+"Z"}function os(t){return t.join("L")+"Z"}function Vu(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function na(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ra(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function qu(t,e){return t.length<4?Qe(t):t[1]+ai(t.slice(1,-1),ia(t,e))}function Hu(t,e){return t.length<3?os(t):t[0]+ai((t.push(t[0]),t),ia([t[t.length-2]].concat(t,[t[1]]),e))}function Uu(t,e){return t.length<3?Qe(t):t[0]+ai(t,ia(t,e))}function ai(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Qe(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],l=e[0],s=l,u=1;if(n&&(r+="Q"+(a[0]-l[0]*2/3)+","+(a[1]-l[1]*2/3)+","+a[0]+","+a[1],i=t[1],u=2),e.length>1){s=e[1],a=t[u],u++,r+="C"+(i[0]+l[0])+","+(i[1]+l[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,u++)a=t[u],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var f=t[u];r+="Q"+(a[0]+s[0]*2/3)+","+(a[1]+s[1]*2/3)+","+f[0]+","+f[1]}return r}function ia(t,e){for(var n=[],r=(1-e)/2,i,a=t[0],l=t[1],s=1,u=t.length;++s<u;)i=a,a=l,l=t[s],n.push([r*(l[0]-i[0]),r*(l[1]-i[1])]);return n}function ss(t){if(t.length<3)return Qe(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],l=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",Ye(wn,l),",",Ye(wn,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],l.shift(),l.push(r[0]),s.shift(),s.push(r[1]),aa(u,l,s);return t.pop(),u.push("L",r),u.join("")}function Yu(t){if(t.length<4)return Qe(t);for(var e=[],n=-1,r=t.length,i,a=[0],l=[0];++n<3;)i=t[n],a.push(i[0]),l.push(i[1]);for(e.push(Ye(wn,a)+","+Ye(wn,l)),--n;++n<r;)i=t[n],a.shift(),a.push(i[0]),l.shift(),l.push(i[1]),aa(e,a,l);return e.join("")}function Xu(t){for(var e,n=-1,r=t.length,i=r+4,a,l=[],s=[];++n<4;)a=t[n%r],l.push(a[0]),s.push(a[1]);for(e=[Ye(wn,l),",",Ye(wn,s)],--n;++n<i;)a=t[n%r],l.shift(),l.push(a[0]),s.shift(),s.push(a[1]),aa(e,l,s);return e.join("")}function Wu(t,e){var n=t.length-1;if(n)for(var r=t[0][0],i=t[0][1],a=t[n][0]-r,l=t[n][1]-i,s=-1,u,c;++s<=n;)u=t[s],c=s/n,u[0]=e*u[0]+(1-e)*(r+c*a),u[1]=e*u[1]+(1-e)*(i+c*l);return ss(t)}function Ye(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}var ls=[0,2/3,1/3,0],us=[0,1/3,2/3,0],wn=[0,1/6,2/3,1/6];function aa(t,e,n){t.push("C",Ye(ls,e),",",Ye(ls,n),",",Ye(us,e),",",Ye(us,n),",",Ye(wn,e),",",Ye(wn,n))}function oa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Zu(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],l=r[0]=oa(i,a);++e<n;)r[e]=(l+(l=oa(i=a,a=t[e+1])))/2;return r[e]=l,r}function $u(t){for(var e=[],n,r,i,a,l=Zu(t),s=-1,u=t.length-1;++s<u;)n=oa(t[s],t[s+1]),rt(n)<Q?l[s]=l[s+1]=0:(r=l[s]/n,i=l[s+1]/n,a=r*r+i*i,a>9&&(a=n*3/Math.sqrt(a),l[s]=a*r,l[s+1]=a*i));for(s=-1;++s<=u;)a=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+l[s]*l[s])),e.push([a||0,l[s]*a||0]);return e}function Ku(t){return t.length<3?Qe(t):t[0]+ai(t,$u(t))}o.svg.line.radial=function(){var t=as(cs);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t};function cs(t){for(var e,n=-1,r=t.length,i,a;++n<r;)e=t[n],i=e[0],a=e[1]-bt,e[0]=i*Math.cos(a),e[1]=i*Math.sin(a);return t}function fs(t){var e=Yn,n=Yn,r=0,i=or,a=rr,l=Qe,s=l.key,u=l,c="L",f=.7;function g(d){var x=[],A=[],m=[],_=-1,y=d.length,F,b=de(e),P=de(r),W=e===n?function(){return H}:de(n),Y=r===i?function(){return V}:de(i),H,V;function st(){x.push("M",l(t(m),f),c,u(t(A.reverse()),f),"Z")}for(;++_<y;)a.call(this,F=d[_],_)?(A.push([H=+b.call(this,F,_),V=+P.call(this,F,_)]),m.push([+W.call(this,F,_),+Y.call(this,F,_)])):A.length&&(st(),A=[],m=[]);return A.length&&st(),x.length?x.join(""):null}return g.x=function(d){return arguments.length?(e=n=d,g):n},g.x0=function(d){return arguments.length?(e=d,g):e},g.x1=function(d){return arguments.length?(n=d,g):n},g.y=function(d){return arguments.length?(r=i=d,g):i},g.y0=function(d){return arguments.length?(r=d,g):r},g.y1=function(d){return arguments.length?(i=d,g):i},g.defined=function(d){return arguments.length?(a=d,g):a},g.interpolate=function(d){return arguments.length?(typeof d=="function"?s=l=d:s=(l=ea.get(d)||Qe).key,u=l.reverse||l,c=l.closed?"M":"L",g):s},g.tension=function(d){return arguments.length?(f=d,g):f},g}na.reverse=ra,ra.reverse=na,o.svg.area=function(){return fs(ie)},o.svg.area.radial=function(){var t=fs(cs);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Ni,e=Ei,n=Ju,r=rs,i=is;function a(f,g){var d=l(this,t,f,g),x=l(this,e,f,g);return"M"+d.p0+u(d.r,d.p1,d.a1-d.a0)+(s(d,x)?c(d.r,d.p1,d.r,d.p0):c(d.r,d.p1,x.r,x.p0)+u(x.r,x.p1,x.a1-x.a0)+c(x.r,x.p1,d.r,d.p0))+"Z"}function l(f,g,d,x){var A=g.call(f,d,x),m=n.call(f,A,x),_=r.call(f,A,x)-bt,y=i.call(f,A,x)-bt;return{r:m,a0:_,a1:y,p0:[m*Math.cos(_),m*Math.sin(_)],p1:[m*Math.cos(y),m*Math.sin(y)]}}function s(f,g){return f.a0==g.a0&&f.a1==g.a1}function u(f,g,d){return"A"+f+","+f+" 0 "+ +(d>it)+",1 "+g}function c(f,g,d,x){return"Q 0,0 "+x}return a.radius=function(f){return arguments.length?(n=de(f),a):n},a.source=function(f){return arguments.length?(t=de(f),a):t},a.target=function(f){return arguments.length?(e=de(f),a):e},a.startAngle=function(f){return arguments.length?(r=de(f),a):r},a.endAngle=function(f){return arguments.length?(i=de(f),a):i},a};function Ju(t){return t.radius}o.svg.diagonal=function(){var t=Ni,e=Ei,n=hs;function r(i,a){var l=t.call(this,i,a),s=e.call(this,i,a),u=(l.y+s.y)/2,c=[l,{x:l.x,y:u},{x:s.x,y:u},s];return c=c.map(n),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return r.source=function(i){return arguments.length?(t=de(i),r):t},r.target=function(i){return arguments.length?(e=de(i),r):e},r.projection=function(i){return arguments.length?(n=i,r):n},r};function hs(t){return[t.x,t.y]}o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=hs,n=t.projection;return t.projection=function(r){return arguments.length?n(Qu(e=r)):e},t};function Qu(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-bt;return[n*Math.cos(r),n*Math.sin(r)]}}o.svg.symbol=function(){var t=ec,e=tc;function n(r,i){return(ds.get(t.call(this,r,i))||gs)(e.call(this,r,i))}return n.type=function(r){return arguments.length?(t=de(r),n):t},n.size=function(r){return arguments.length?(e=de(r),n):e},n};function tc(){return 64}function ec(){return"circle"}function gs(t){var e=Math.sqrt(t/it);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}var ds=o.map({circle:gs,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ps)),n=e*ps;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/oi),n=e*oi/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/oi),n=e*oi/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=ds.keys();var oi=Math.sqrt(3),ps=Math.tan(30*_t);Ot.transition=function(t){for(var e=Bn||++_s,n=la(t),r=[],i,a,l=li||{time:Date.now(),ease:Tl,delay:0,duration:250},s=-1,u=this.length;++s<u;){r.push(i=[]);for(var c=this[s],f=-1,g=c.length;++f<g;)(a=c[f])&&ui(a,f,n,e,l),i.push(a)}return pr(r,n,e)},Ot.interrupt=function(t){return this.each(t==null?si:ms(la(t)))};var si=ms(la());function ms(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function pr(t,e,n){return _e(t,Me),t.namespace=e,t.id=n,t}var Me=[],_s=0,Bn,li;Me.call=Ot.call,Me.empty=Ot.empty,Me.node=Ot.node,Me.size=Ot.size,o.transition=function(t,e){return t&&t.transition?Bn?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=Me,Me.select=function(t){var e=this.id,n=this.namespace,r=[],i,a,l;t=fe(t);for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var c=this[s],f=-1,g=c.length;++f<g;)(l=c[f])&&(a=t.call(l,l.__data__,f,s))?("__data__"in l&&(a.__data__=l.__data__),ui(a,f,n,e,l[n][e]),i.push(a)):i.push(null)}return pr(r,n,e)},Me.selectAll=function(t){var e=this.id,n=this.namespace,r=[],i,a,l,s,u;t=Vt(t);for(var c=-1,f=this.length;++c<f;)for(var g=this[c],d=-1,x=g.length;++d<x;)if(l=g[d]){u=l[n][e],a=t.call(l,l.__data__,d,c),r.push(i=[]);for(var A=-1,m=a.length;++A<m;)(s=a[A])&&ui(s,A,n,e,u),i.push(s)}return pr(r,n,e)},Me.filter=function(t){var e=[],n,r,i;typeof t!="function"&&(t=On(t));for(var a=0,l=this.length;a<l;a++){e.push(n=[]);for(var r=this[a],s=0,u=r.length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,a)&&n.push(i)}return pr(e,this.namespace,this.id)},Me.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):Ze(this,e==null?function(i){i[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})};function sa(t,e,n,r){var i=t.id,a=t.namespace;return Ze(t,typeof n=="function"?function(l,s,u){l[a][i].tween.set(e,r(n.call(l,l.__data__,s,u)))}:(n=r(n),function(l){l[a][i].tween.set(e,n)}))}Me.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n=t=="transform"?Eo:En,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function l(u){return u==null?i:(u+="",function(){var c=this.getAttribute(r),f;return c!==u&&(f=n(c,u),function(g){this.setAttribute(r,f(g))})})}function s(u){return u==null?a:(u+="",function(){var c=this.getAttributeNS(r.space,r.local),f;return c!==u&&(f=n(c,u),function(g){this.setAttributeNS(r.space,r.local,f(g))})})}return sa(this,"attr."+t,e,r.local?s:l)},Me.attrTween=function(t,e){var n=o.ns.qualify(t);function r(a,l){var s=e.call(this,a,l,this.getAttribute(n));return s&&function(u){this.setAttribute(n,s(u))}}function i(a,l){var s=e.call(this,a,l,this.getAttributeNS(n.space,n.local));return s&&function(u){this.setAttributeNS(n.space,n.local,s(u))}}return this.tween("attr."+t,n.local?i:r)},Me.style=function(t,e,n){var r=arguments.length;if(r<3){if(typeof t!="string"){r<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function a(l){return l==null?i:(l+="",function(){var s=B(this).getComputedStyle(this,null).getPropertyValue(t),u;return s!==l&&(u=En(s,l),function(c){this.style.setProperty(t,u(c),n)})})}return sa(this,"style."+t,e,a)},Me.styleTween=function(t,e,n){arguments.length<3&&(n="");function r(i,a){var l=e.call(this,i,a,B(this).getComputedStyle(this,null).getPropertyValue(t));return l&&function(s){this.style.setProperty(t,l(s),n)}}return this.tween("style."+t,r)},Me.text=function(t){return sa(this,"text",t,nc)};function nc(t){return t==null&&(t=""),function(){this.textContent=t}}Me.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Me.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:(typeof t!="function"&&(t=o.ease.apply(o,arguments)),Ze(this,function(r){r[n][e].ease=t}))},Me.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Ze(this,typeof t=="function"?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},Me.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Ze(this,typeof t=="function"?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Me.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=li,a=Bn;try{Bn=n,Ze(this,function(l,s,u){li=l[r][n],t.call(l,l.__data__,s,u)})}finally{li=i,Bn=a}}else Ze(this,function(l){var s=l[r][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},Me.transition=function(){for(var t=this.id,e=++_s,n=this.namespace,r=[],i,a,l,s,u=0,c=this.length;u<c;u++){r.push(i=[]);for(var a=this[u],f=0,g=a.length;f<g;f++)(l=a[f])&&(s=l[n][t],ui(l,f,n,e,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})),i.push(l)}return pr(r,n,e)};function la(t){return t==null?"__transition__":"__transition_"+t+"__"}function ui(t,e,n,r,i){var a=t[n]||(t[n]={active:0,count:0}),l=a[r],s,u,c,f,g;function d(m){var _=l.delay;if(u.t=_+s,_<=m)return x(m-_);u.c=x}function x(m){var _=a.active,y=a[_];y&&(y.timer.c=null,y.timer.t=NaN,--a.count,delete a[_],y.event&&y.event.interrupt.call(t,t.__data__,y.index));for(var F in a)if(+F<r){var b=a[F];b.timer.c=null,b.timer.t=NaN,--a.count,delete a[F]}u.c=A,Pr(function(){return u.c&&A(m||1)&&(u.c=null,u.t=NaN),1},0,s),a.active=r,l.event&&l.event.start.call(t,t.__data__,e),g=[],l.tween.forEach(function(P,W){(W=W.call(t,t.__data__,e))&&g.push(W)}),f=l.ease,c=l.duration}function A(m){for(var _=m/c,y=f(_),F=g.length;F>0;)g[--F].call(t,y);if(_>=1)return l.event&&l.event.end.call(t,t.__data__,e),--a.count?delete a[r]:delete t[n],1}l||(s=i.time,u=Pr(d,0,s),l=a[r]={tween:new dt,time:s,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++a.count)}o.svg.axis=function(){var t=o.scale.linear(),e=ys,n=6,r=6,i=3,a=[10],l=null,s;function u(c){c.each(function(){var f=o.select(this),g=this.__chart__||t,d=this.__chart__=t.copy(),x=l??(d.ticks?d.ticks.apply(d,a):d.domain()),A=s??(d.tickFormat?d.tickFormat.apply(d,a):ie),m=f.selectAll(".tick").data(x,d),_=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Q),y=o.transition(m.exit()).style("opacity",Q).remove(),F=o.transition(m.order()).style("opacity",1),b=Math.max(n,0)+i,P,W=Qr(d),Y=f.selectAll(".domain").data([0]),H=(Y.enter().append("path").attr("class","domain"),o.transition(Y));_.append("line"),_.append("text");var V=_.select("line"),st=F.select("line"),gt=m.select("text").text(A),At=_.select("text"),xt=F.select("text"),Ct=e==="top"||e==="left"?-1:1,tt,ft,yt,nt;if(e==="bottom"||e==="top"?(P=ic,tt="x",yt="y",ft="x2",nt="y2",gt.attr("dy",Ct<0?"0em":".71em").style("text-anchor","middle"),H.attr("d","M"+W[0]+","+Ct*r+"V0H"+W[1]+"V"+Ct*r)):(P=ac,tt="y",yt="x",ft="y2",nt="x2",gt.attr("dy",".32em").style("text-anchor",Ct<0?"end":"start"),H.attr("d","M"+Ct*r+","+W[0]+"H0V"+W[1]+"H"+Ct*r)),V.attr(nt,Ct*n),At.attr(yt,Ct*b),st.attr(ft,0).attr(nt,Ct*n),xt.attr(tt,0).attr(yt,Ct*b),d.rangeBand){var mt=d,Dt=mt.rangeBand()/2;g=d=function(Ht){return mt(Ht)+Dt}}else g.rangeBand?g=d:y.call(P,d,g);_.call(P,g,d),F.call(P,d,d)})}return u.scale=function(c){return arguments.length?(t=c,u):t},u.orient=function(c){return arguments.length?(e=c in rc?c+"":ys,u):e},u.ticks=function(){return arguments.length?(a=w(arguments),u):a},u.tickValues=function(c){return arguments.length?(l=c,u):l},u.tickFormat=function(c){return arguments.length?(s=c,u):s},u.tickSize=function(c){var f=arguments.length;return f?(n=+c,r=+arguments[f-1],u):n},u.innerTickSize=function(c){return arguments.length?(n=+c,u):n},u.outerTickSize=function(c){return arguments.length?(r=+c,u):r},u.tickPadding=function(c){return arguments.length?(i=+c,u):i},u.tickSubdivide=function(){return arguments.length&&u},u};var ys="bottom",rc={top:1,right:1,bottom:1,left:1};function ic(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate("+(isFinite(i)?i:n(r))+",0)"})}function ac(t,e,n){t.attr("transform",function(r){var i=e(r);return"translate(0,"+(isFinite(i)?i:n(r))+")"})}o.svg.brush=function(){var t=Ce(f,"brushstart","brush","brushend"),e=null,n=null,r=[0,0],i=[0,0],a,l,s=!0,u=!0,c=ua[0];function f(m){m.each(function(){var _=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",A).on("touchstart.brush",A),y=_.selectAll(".background").data([0]);y.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),_.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var F=_.selectAll(".resize").data(c,ie);F.exit().remove(),F.enter().append("g").attr("class",function(Y){return"resize "+Y}).style("cursor",function(Y){return oc[Y]}).append("rect").attr("x",function(Y){return/[ew]$/.test(Y)?-3:null}).attr("y",function(Y){return/^[ns]/.test(Y)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),F.style("display",f.empty()?"none":null);var b=o.transition(_),P=o.transition(y),W;e&&(W=Qr(e),P.attr("x",W[0]).attr("width",W[1]-W[0]),d(b)),n&&(W=Qr(n),P.attr("y",W[0]).attr("height",W[1]-W[0]),x(b)),g(b)})}f.event=function(m){m.each(function(){var _=t.of(this,arguments),y={x:r,y:i,i:a,j:l},F=this.__chart__||y;this.__chart__=y,Bn?o.select(this).transition().each("start.brush",function(){a=F.i,l=F.j,r=F.x,i=F.y,_({type:"brushstart"})}).tween("brush:brush",function(){var b=Jr(r,y.x),P=Jr(i,y.y);return a=l=null,function(W){r=y.x=b(W),i=y.y=P(W),_({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=y.i,l=y.j,_({type:"brush",mode:"resize"}),_({type:"brushend"})}):(_({type:"brushstart"}),_({type:"brush",mode:"resize"}),_({type:"brushend"}))})};function g(m){m.selectAll(".resize").attr("transform",function(_){return"translate("+r[+/e$/.test(_)]+","+i[+/^s/.test(_)]+")"})}function d(m){m.select(".extent").attr("x",r[0]),m.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function x(m){m.select(".extent").attr("y",i[0]),m.selectAll(".extent,.e>rect,.w>rect").attr("height",i[1]-i[0])}function A(){var m=this,_=o.select(o.event.target),y=t.of(m,arguments),F=o.select(m),b=_.datum(),P=!/^(n|s)$/.test(b)&&e,W=!/^(e|w)$/.test(b)&&n,Y=_.classed("extent"),H=lt(m),V,st=o.mouse(m),gt,At=o.select(B(m)).on("keydown.brush",tt).on("keyup.brush",ft);if(o.event.changedTouches?At.on("touchmove.brush",yt).on("touchend.brush",mt):At.on("mousemove.brush",yt).on("mouseup.brush",mt),F.interrupt().selectAll("*").interrupt(),Y)st[0]=r[0]-st[0],st[1]=i[0]-st[1];else if(b){var xt=+/w$/.test(b),Ct=+/^n/.test(b);gt=[r[1-xt]-st[0],i[1-Ct]-st[1]],st[0]=r[xt],st[1]=i[Ct]}else o.event.altKey&&(V=st.slice());F.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",_.style("cursor")),y({type:"brushstart"}),yt();function tt(){o.event.keyCode==32&&(Y||(V=null,st[0]-=r[1],st[1]-=i[1],Y=2),Qt())}function ft(){o.event.keyCode==32&&Y==2&&(st[0]+=r[1],st[1]+=i[1],Y=0,Qt())}function yt(){var Dt=o.mouse(m),Ht=!1;gt&&(Dt[0]+=gt[0],Dt[1]+=gt[1]),Y||(o.event.altKey?(V||(V=[(r[0]+r[1])/2,(i[0]+i[1])/2]),st[0]=r[+(Dt[0]<V[0])],st[1]=i[+(Dt[1]<V[1])]):V=null),P&&nt(Dt,e,0)&&(d(F),Ht=!0),W&&nt(Dt,n,1)&&(x(F),Ht=!0),Ht&&(g(F),y({type:"brush",mode:Y?"move":"resize"}))}function nt(Dt,Ht,Zt){var se=Qr(Ht),pe=se[0],Ee=se[1],Ie=st[Zt],Be=Zt?i:r,Re=Be[1]-Be[0],Te,Oe;if(Y&&(pe-=Ie,Ee-=Re+Ie),Te=(Zt?u:s)?Math.max(pe,Math.min(Ee,Dt[Zt])):Dt[Zt],Y?Oe=(Te+=Ie)+Re:(V&&(Ie=Math.max(pe,Math.min(Ee,2*V[Zt]-Te))),Ie<Te?(Oe=Te,Te=Ie):Oe=Ie),Be[0]!=Te||Be[1]!=Oe)return Zt?l=null:a=null,Be[0]=Te,Be[1]=Oe,!0}function mt(){yt(),F.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),o.select("body").style("cursor",null),At.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),H(),y({type:"brushend"})}}return f.x=function(m){return arguments.length?(e=m,c=ua[!e<<1|!n],f):e},f.y=function(m){return arguments.length?(n=m,c=ua[!e<<1|!n],f):n},f.clamp=function(m){return arguments.length?(e&&n?(s=!!m[0],u=!!m[1]):e?s=!!m:n&&(u=!!m),f):e&&n?[s,u]:e?s:n?u:null},f.extent=function(m){var _,y,F,b,P;return arguments.length?(e&&(_=m[0],y=m[1],n&&(_=_[0],y=y[0]),a=[_,y],e.invert&&(_=e(_),y=e(y)),y<_&&(P=_,_=y,y=P),(_!=r[0]||y!=r[1])&&(r=[_,y])),n&&(F=m[0],b=m[1],e&&(F=F[1],b=b[1]),l=[F,b],n.invert&&(F=n(F),b=n(b)),b<F&&(P=F,F=b,b=P),(F!=i[0]||b!=i[1])&&(i=[F,b])),f):(e&&(a?(_=a[0],y=a[1]):(_=r[0],y=r[1],e.invert&&(_=e.invert(_),y=e.invert(y)),y<_&&(P=_,_=y,y=P))),n&&(l?(F=l[0],b=l[1]):(F=i[0],b=i[1],n.invert&&(F=n.invert(F),b=n.invert(b)),b<F&&(P=F,F=b,b=P))),e&&n?[[_,F],[y,b]]:e?[_,y]:n&&[F,b])},f.clear=function(){return f.empty()||(r=[0,0],i=[0,0],a=l=null),f},f.empty=function(){return!!e&&r[0]==r[1]||!!n&&i[0]==i[1]},o.rebind(f,t,"on")};var oc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ua=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ca=It.format=Aa.timeFormat,vs=ca.utc,xs=vs("%Y-%m-%dT%H:%M:%S.%LZ");ca.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?fa:xs;function fa(t){return t.toISOString()}fa.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},fa.toString=xs.toString,It.second=Sn(function(t){return new Le(Math.floor(t/1e3)*1e3)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*1e3)},function(t){return t.getSeconds()}),It.seconds=It.second.range,It.seconds.utc=It.second.utc.range,It.minute=Sn(function(t){return new Le(Math.floor(t/6e4)*6e4)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*6e4)},function(t){return t.getMinutes()}),It.minutes=It.minute.range,It.minutes.utc=It.minute.utc.range,It.hour=Sn(function(t){var e=t.getTimezoneOffset()/60;return new Le((Math.floor(t/36e5-e)+e)*36e5)},function(t,e){t.setTime(t.getTime()+Math.floor(e)*36e5)},function(t){return t.getHours()}),It.hours=It.hour.range,It.hours.utc=It.hour.utc.range,It.month=Sn(function(t){return t=It.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),It.months=It.month.range,It.months.utc=It.month.utc.range;function ha(t,e,n){function r(a){return t(a)}r.invert=function(a){return Dn(t.invert(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain().map(Dn)};function i(a,l){var s=a[1]-a[0],u=s/l,c=o.bisect(ci,u);return c==ci.length?[e.year,dr(a.map(function(f){return f/31536e6}),l)[2]]:c?e[u/ci[c-1]<ci[c]/u?c-1:c]:[lc,dr(a,l)[2]]}return r.nice=function(a,l){var s=r.domain(),u=Jn(s),c=a==null?i(u,10):typeof a=="number"&&i(u,a);c&&(a=c[0],l=c[1]);function f(g){return!isNaN(g)&&!a.range(g,Dn(+g+1),l).length}return r.domain(Ki(s,l>1?{floor:function(g){for(;f(g=a.floor(g));)g=Dn(g-1);return g},ceil:function(g){for(;f(g=a.ceil(g));)g=Dn(+g+1);return g}}:a))},r.ticks=function(a,l){var s=Jn(r.domain()),u=a==null?i(s,10):typeof a=="number"?i(s,a):!a.range&&[{range:a},l];return u&&(a=u[0],l=u[1]),a.range(s[0],Dn(+s[1]+1),l<1?1:l)},r.tickFormat=function(){return n},r.copy=function(){return ha(t.copy(),e,n)},Ji(r,t)}function Dn(t){return new Date(t)}var ci=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ga=[[It.second,1],[It.second,5],[It.second,15],[It.second,30],[It.minute,1],[It.minute,5],[It.minute,15],[It.minute,30],[It.hour,1],[It.hour,3],[It.hour,6],[It.hour,12],[It.day,1],[It.day,2],[It.week,1],[It.month,1],[It.month,3],[It.year,1]],sc=ca.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&t.getDate()!=1}],["%b %d",function(t){return t.getDate()!=1}],["%B",function(t){return t.getMonth()}],["%Y",rr]]),lc={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Dn)},floor:ie,ceil:ie};ga.year=It.year,It.scale=function(){return ha(o.scale.linear(),ga,sc)};var bs=ga.map(function(t){return[t[0].utc,t[1]]}),uc=vs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&t.getUTCDate()!=1}],["%b %d",function(t){return t.getUTCDate()!=1}],["%B",function(t){return t.getUTCMonth()}],["%Y",rr]]);bs.year=It.year.utc,It.scale.utc=function(){return ha(o.scale.linear(),bs,uc)},o.text=vi(function(t){return t.responseText}),o.json=function(t,e){return wr(t,"application/json",cc,e)};function cc(t){return JSON.parse(t.responseText)}o.html=function(t,e){return wr(t,"text/html",fc,e)};function fc(t){var e=v.createRange();return e.selectNode(v.body),e.createContextualFragment(t.responseText)}return o.xml=vi(function(t){return t.responseXML}),o};const pt=window.E0DD32CBDCB63F();let gi=1;function dc(p){const o="<",w=">",I=`\r
	>/= `;let k=0;function N(){const C=[];for(;p[k];){if(p.charCodeAt(k)===60){if(p.charCodeAt(k+1)===47)return k=p.indexOf(w,k),C;if(p.charCodeAt(k+1)===33){if(p.charCodeAt(k+2)===45){for(;!(p.charCodeAt(k)===62&&p.charCodeAt(k-1)===45&&p.charCodeAt(k-2)===45&&k!==-1);)k=p.indexOf(w,k+1);k===-1&&(k=p.length)}else for(k+=2;p.charCodeAt(k)!==62;k++);k++;continue}else if(p.charCodeAt(k+1)===63){k=p.indexOf(w,k),k++;continue}k++;let q=k;for(;I.indexOf(p[k])===-1;k++);const G=p.slice(q,k);let et=!1,rt={};for(;p.charCodeAt(k)!==62;k++){const Ft=p.charCodeAt(k);if(Ft>64&&Ft<91||Ft>96&&Ft<123){for(q=k;I.indexOf(p[k])===-1;k++);const dt=p.slice(q,k);let ut=p.charCodeAt(k);for(;ut!==39&&ut!==34;)k++,ut=p.charCodeAt(k);const Mt=p[k],Gt=++k;k=p.indexOf(Mt,Gt);const Nt=p.slice(Gt,k);et||(rt={},et=!0),rt[dt]=Nt}}let vt;p.charCodeAt(k-1)!==47&&(k++,vt=N()),C.push({children:vt,tagName:G,attrs:rt})}else{const q=k;k=p.indexOf(o,k)-1,k===-2&&(k=p.length);const G=p.slice(q,k+1);G.trim().length>0&&C.push(G)}k++}return C}return gi=1,ks(N())}function ks(p){const o={};if(p===void 0)return{};if(p.length===1&&(typeof p[0]=="string"||p[0]instanceof String))return new String(p[0]);p.forEach(function(h){if(typeof h!="string"&&(o[h.tagName]||(o[h.tagName]=[])),typeof h=="object"){const w=ks(h.children);h.attrs&&(w.attrs=h.attrs),w.attrs===void 0?w.attrs={order:gi}:w.attrs.order=gi,gi++,o[h.tagName].push(w)}});for(const h in o)o[h].length===1&&(o[h]=o[h][0]);return o}function pa(p){const o=new Uint8Array(p);let h="";for(let w=0;w<o.byteLength;w++)h+=String.fromCharCode(o[w]);return btoa(h)}function pc(p){const o=p.lastIndexOf(".");return o===0||o===-1?"":p.substr(p.lastIndexOf(".")+1)}function mc(p,o){const h=[];let w=0,v="",z="";const B={};let T;p(async S=>{switch(S.type){case"processPPTX":{try{await D(S.data)}catch(O){console.error("AN ERROR HAPPENED DURING processPPTX",O),o({type:"ERROR",data:O.toString()})}break}}});async function D(S){var O;const j=await(await gc(()=>import("./jszip.min-Dhs3nUkD.BsDI-Ugu.js"),__vite__mapDeps([0,1])).then(ct=>ct.j)).loadAsync(S),U=Date.now();if(j.file("docProps/thumbnail.jpeg")){const ct=await((O=j.file("docProps/thumbnail.jpeg"))==null?void 0:O.async("base64"));o({type:"pptx-thumb",data:ct})}const J=await M(j),at=await I(j);v=await k(j),T=await R(j,"ppt/tableStyles.xml"),o({type:"slideSize",data:at});const lt=J.slides.length;for(let ct=0;ct<lt;ct++){const kt=J.slides[ct],Q=await N(j,kt,ct,at);o({type:"slide",data:Q}),o({type:"progress-update",data:(ct+1)*100/lt})}o({type:"globalCSS",data:Nt()});const ot=Date.now();o({type:"Done",data:{time:ot-U,charts:h}})}async function R(S,O){var E;return dc(await((E=S.file(O))==null?void 0:E.async("text"))||"")}async function M(S){const E=(await R(S,"[Content_Types].xml")).Types.Override,j=[],U=[];for(let J=0;J<E.length;J++)switch(E[J].attrs.ContentType){case"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":j.push(E[J].attrs.PartName.substr(1));break;case"application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml":U.push(E[J].attrs.PartName.substr(1));break}return{slides:j,slideLayouts:U}}async function I(S){const E=(await R(S,"ppt/presentation.xml"))["p:presentation"]["p:sldSz"].attrs;return{width:parseInt(E.cx)*96/914400,height:parseInt(E.cy)*96/914400}}async function k(S){const E=(await R(S,"ppt/_rels/presentation.xml.rels")).Relationships.Relationship;let j;if(E.constructor===Array){for(let U=0;U<E.length;U++)if(E[U].attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"){j=E[U].attrs.Target;break}}else E.attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"&&(j=E.attrs.Target);if(j===void 0)throw Error("Can't open theme file.");return R(S,"ppt/"+j)}async function N(S,O,E,j){o({type:"INFO",data:"Processing slide"+(E+1)});const U=O.replace("slides/slide","slides/_rels/slide")+".rels";let at=(await R(S,U)).Relationships.Relationship,lt="";const ot={};if(at.constructor===Array)for(let Pt=0;Pt<at.length;Pt++)switch(at[Pt].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout":lt=at[Pt].attrs.Target.replace("../","ppt/");break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink":default:ot[at[Pt].attrs.Id]={type:at[Pt].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Pt].attrs.Target.replace("../","ppt/")}}else lt=at.attrs.Target.replace("../","ppt/");const ct=await R(S,lt),kt=C(ct),Q=ct["p:sldLayout"]["p:clrMapOvr"]["a:overrideClrMapping"];Q!==void 0&&(z=Q.attrs);const jt=lt.replace("slideLayouts/slideLayout","slideLayouts/_rels/slideLayout")+".rels";at=(await R(S,jt)).Relationships.Relationship;let K="";const Lt={};if(at.constructor===Array)for(let Pt=0;Pt<at.length;Pt++)switch(at[Pt].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster":K=at[Pt].attrs.Target.replace("../","ppt/");break;default:Lt[at[Pt].attrs.Id]={type:at[Pt].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Pt].attrs.Target.replace("../","ppt/")}}else K=at.attrs.Target.replace("../","ppt/");const bt=await R(S,K),_t=Z(bt,["p:sldMaster","p:txStyles"]),zt=C(bt),$=K.replace("slideMasters/slideMaster","slideMasters/_rels/slideMaster")+".rels";at=(await R(S,$)).Relationships.Relationship;let ht="";const Yt={};if(at.constructor===Array)for(let Pt=0;Pt<at.length;Pt++)switch(at[Pt].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme":ht=at[Pt].attrs.Target.replace("../","ppt/");break;default:Yt[at[Pt].attrs.Id]={type:at[Pt].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:at[Pt].attrs.Target.replace("../","ppt/")}}else ht=at.attrs.Target.replace("../","ppt/");ht!==void 0&&(v=await R(S,ht));const Wt=await R(S,O),Xt=Wt["p:sld"]["p:cSld"]["p:spTree"],Jt={zip:S,slideLayoutTables:kt,slideMasterTables:zt,slideResObj:ot,slideMasterTextStyles:_t,layoutResObj:Lt,masterResObj:Yt},te=await _e(Wt,ct,bt,Jt),Tt=Math.min(j.width,document.body.clientWidth),Rt=j.width/Tt,Bt=j.height/Rt;let oe="<section style='width:"+Tt+"px; height:"+Bt+"px;"+te+"'>";for(const Pt in Xt)if(Xt[Pt].constructor===Array)for(let ye=0;ye<Xt[Pt].length;ye++)oe+=await q(Pt,Xt[Pt][ye],Jt);else oe+=await q(Pt,Xt[Pt],Jt);return oe+"</section>"}function C(S){const O=Object.keys(S),E=S[O[0]]["p:cSld"]["p:spTree"],j={},U={},J={};for(const at in E){if(at==="p:nvGrpSpPr"||at==="p:grpSpPr")continue;const lt=E[at];if(lt.constructor===Array)for(let ot=0;ot<lt.length;ot++){const ct=lt[ot]["p:nvSpPr"],kt=Z(ct,["p:cNvPr","attrs","id"]),Q=Z(ct,["p:nvPr","p:ph","attrs","idx"]),jt=Z(ct,["p:nvPr","p:ph","attrs","type"]);kt!==void 0&&(j[kt]=lt[ot]),Q!==void 0&&(U[Q]=lt[ot]),jt!==void 0&&(J[jt]=lt[ot])}else{const ot=lt["p:nvSpPr"],ct=Z(ot,["p:cNvPr","attrs","id"]),kt=Z(ot,["p:nvPr","p:ph","attrs","idx"]),Q=Z(ot,["p:nvPr","p:ph","attrs","type"]);ct!==void 0&&(j[ct]=lt),kt!==void 0&&(U[kt]=lt),Q!==void 0&&(J[Q]=lt)}}return{idTable:j,idxTable:U,typeTable:J}}async function q(S,O,E){let j="";switch(S){case"p:sp":j=await et(O,E);break;case"p:cxnSp":j=await rt(O,E);break;case"p:pic":j=await Ft(O,E);break;case"p:graphicFrame":j=await dt(O,E);break;case"p:grpSp":j=await G(O,E);break}return j}async function G(S,O){const E=.00010498687664041995,j=S["p:grpSpPr"]["a:xfrm"],U=parseInt(j["a:off"].attrs.x)*E,J=parseInt(j["a:off"].attrs.y)*E,at=parseInt(j["a:chOff"].attrs.x)*E,lt=parseInt(j["a:chOff"].attrs.y)*E,ot=parseInt(j["a:ext"].attrs.cx)*E,ct=parseInt(j["a:ext"].attrs.cy)*E,kt=parseInt(j["a:chExt"].attrs.cx)*E,Q=parseInt(j["a:chExt"].attrs.cy)*E;let it="<div class='block group' style='z-index: "+S.attrs.order+"; top: "+(J-lt)+"px; left: "+(U-at)+"px; width: "+(ot-kt)+"px; height: "+(ct-Q)+"px;'>";for(const K in S)if(S[K].constructor===Array)for(let Lt=0;Lt<S[K].length;Lt++)it+=await q(K,S[K][Lt],O);else it+=await q(K,S[K],O);return it+="</div>",it}async function et(S,O){const E=S["p:nvSpPr"]["p:cNvPr"].attrs.id,j=S["p:nvSpPr"]["p:cNvPr"].attrs.name,U=S["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:S["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.idx;let J=S["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:S["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.type;const at=S.attrs.order;let lt,ot;return J!==void 0?(lt=O.slideLayoutTables.typeTable[J],ot=O.slideMasterTables.typeTable[J]):U!==void 0&&(lt=O.slideLayoutTables.idxTable[U],ot=O.slideMasterTables.idxTable[U]),J===void 0&&(J=Z(lt,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]),J===void 0&&(J=Z(ot,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]))),await vt(S,lt,ot,E,j,U,J,at,O)}async function rt(S,O){const E=S["p:nvCxnSpPr"]["p:cNvPr"].attrs.id,j=S["p:nvCxnSpPr"]["p:cNvPr"].attrs.name,U=S.attrs.order;return await vt(S,void 0,void 0,E,j,void 0,void 0,U,O)}async function vt(S,O,E,j,U,J,at,lt,ot){const ct=["p:spPr","a:xfrm"],kt=Z(S,ct),Q=Z(O,ct),jt=Z(E,ct);let it="";const K=Z(S,["attrs","order"]),Lt=Z(S,["p:spPr","a:prstGeom","attrs","prst"]),bt=Z(S,["p:spPr","a:custGeom"]);let _t=!1;(Z(kt,["attrs","flipV"])==="1"||Z(kt,["attrs","flipH"])==="1")&&(_t=!0);const zt=He(Z(kt,["attrs","rot"]));let $=0,X=0,ht={},Yt,Wt,Xt,Jt=!1,te=!1;if(Lt!==void 0||bt!==void 0){const Tt=Z(kt,["a:ext","attrs"]);$=parseInt(Tt.cx)*96/914400,X=parseInt(Tt.cy)*96/914400,it+="<svg class='drawing' _id='"+j+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,void 0,void 0)+ee(kt,void 0,void 0)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",it+="<defs>",Xt=await Ut(S,!0,ot);const Rt=re(Z(S,["p:spPr"]));if(Rt==="GRADIENT_FILL"){Jt=!0;const Bt=Xt.color,oe=Xt.rot,Pt=di($.toString(),X.toString(),oe,Bt,K);it+=Pt}else if(Rt==="PIC_FILL"){te=!0;const Bt=$e(Xt,K);it+=Bt}if(ht=be(S,!0),Yt=Z(S,["p:spPr","a:ln","a:headEnd","attrs"]),Wt=Z(S,["p:spPr","a:ln","a:tailEnd","attrs"]),Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")||Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")){const Bt="<marker id='markerTriangle_"+K+"' viewBox='0 0 10 10' refX='1' refY='5' markerWidth='5' markerHeight='5' stroke='"+ht.color+"' fill='"+ht.color+"' orient='auto-start-reverse' markerUnits='strokeWidth'><path d='M 0 0 L 10 5 L 0 10 z' /></marker>";it+=Bt}it+="</defs>"}if(Lt!==void 0&&bt===void 0){switch(Lt){case"accentBorderCallout1":case"accentBorderCallout2":case"accentBorderCallout3":case"accentCallout1":case"accentCallout2":case"accentCallout3":case"actionButtonBackPrevious":case"actionButtonBeginning":case"actionButtonBlank":case"actionButtonDocument":case"actionButtonEnd":case"actionButtonForwardNext":case"actionButtonHelp":case"actionButtonHome":case"actionButtonInformation":case"actionButtonMovie":case"actionButtonReturn":case"actionButtonSound":case"arc":case"bevel":case"blockArc":case"borderCallout1":case"borderCallout2":case"borderCallout3":case"bracePair":case"bracketPair":case"callout1":case"callout2":case"callout3":case"can":case"chartPlus":case"chartStar":case"chartX":case"chevron":case"chord":case"cloud":case"cloudCallout":case"corner":case"cornerTabs":case"cube":case"diagStripe":case"donut":case"doubleWave":case"downArrowCallout":case"ellipseRibbon":case"ellipseRibbon2":case"flowChartAlternateProcess":case"flowChartCollate":case"flowChartConnector":case"flowChartDecision":case"flowChartDelay":case"flowChartDisplay":case"flowChartDocument":case"flowChartExtract":case"flowChartInputOutput":case"flowChartInternalStorage":case"flowChartMagneticDisk":case"flowChartMagneticDrum":case"flowChartMagneticTape":case"flowChartManualInput":case"flowChartManualOperation":case"flowChartMerge":case"flowChartMultidocument":case"flowChartOfflineStorage":case"flowChartOffpageConnector":case"flowChartOnlineStorage":case"flowChartOr":case"flowChartPredefinedProcess":case"flowChartPreparation":case"flowChartProcess":case"flowChartPunchedCard":case"flowChartPunchedTape":case"flowChartSort":case"flowChartSummingJunction":case"flowChartTerminator":case"folderCorner":case"frame":case"funnel":case"gear6":case"gear9":case"halfFrame":case"heart":case"homePlate":case"horizontalScroll":case"irregularSeal1":case"irregularSeal2":case"leftArrowCallout":case"leftBrace":case"leftBracket":case"leftRightArrowCallout":case"leftRightRibbon":case"lightningBolt":case"lineInv":case"mathDivide":case"mathEqual":case"mathMinus":case"mathMultiply":case"mathNotEqual":case"mathPlus":case"moon":case"nonIsoscelesTrapezoid":case"noSmoking":case"pie":case"pieWedge":case"plaque":case"plaqueTabs":case"quadArrowCallout":case"rect":case"ribbon":case"ribbon2":case"rightArrowCallout":case"rightBrace":case"rightBracket":case"round1Rect":case"round2DiagRect":case"round2SameRect":case"smileyFace":case"snip1Rect":case"snip2DiagRect":case"snip2SameRect":case"snipRoundRect":case"squareTabs":case"star10":case"star12":case"star16":case"star24":case"star32":case"star4":case"star5":case"star6":case"star7":case"star8":case"sun":case"teardrop":case"upArrowCallout":case"upDownArrowCallout":case"verticalScroll":case"wave":case"wedgeEllipseCallout":case"wedgeRectCallout":case"wedgeRoundRectCallout":{it+="<rect x='0' y='0' width='"+$+"' height='"+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"ellipse":{it+="<ellipse cx='"+$/2+"' cy='"+X/2+"' rx='"+$/2+"' ry='"+X/2+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"roundRect":{it+="<rect x='0' y='0' width='"+$+"' height='"+X+"' rx='7' ry='7' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"bentConnector2":{let Tt;_t?Tt="M 0 "+$+" L "+X+" "+$+" L "+X+" 0":Tt="M "+$+" 0 L "+$+" "+X+" L 0 "+X,it+="<path d='"+Tt+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' fill='none' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>";break}case"rtTriangle":{it+=" <polygon points='0 0,0 "+X+","+$+" "+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"triangle":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.5;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))*96/9144e3),it+=" <polygon points='"+$*Rt+" 0,0 "+X+","+$+" "+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"diamond":{it+=" <polygon points='"+$/2+" 0,0 "+X/2+","+$/2+" "+X+","+$+" "+X/2+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"trapezoid":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))*96/9144e3*.5/.7407),it+=" <polygon points='"+$*Rt+" 0,0 "+X+","+$+" "+X+","+(1-Rt)*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"parallelogram":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25,Bt;$>X?Bt=$/X:Bt=X/$,Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5/Bt),it+=" <polygon points='"+Rt*$+" 0,0 "+X+","+(1-Rt)*$+" "+X+","+$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"pentagon":{it+=" <polygon points='"+.5*$+" 0,0 "+.375*X+","+.15*$+" "+X+","+.85*$+" "+X+","+$+" "+.375*X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"hexagon":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"])||[];let Rt;for(let Pt=0;Pt<Tt.length;Pt++)Z(Tt[Pt],["attrs","name"])==="adj"&&(Rt=Z(Tt[Pt],["attrs","fmla"]));let Bt=.25;Rt!==void 0&&(Bt=parseInt(Rt.substr(4))*96/9144e3*.5/.62211),it+=" <polygon points='"+$*Bt+" 0,0 "+X/2+","+$*Bt+" "+X+","+(1-Bt)*$+" "+X+","+$+" "+X/2+","+(1-Bt)*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"heptagon":{it+=" <polygon points='"+.5*$+" 0,"+$/8+" "+X/4+",0 "+5/8*X+","+$/4+" "+X+","+3/4*$+" "+X+","+$+" "+5/8*X+","+7/8*$+" "+X/4+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"octagon":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5);const Bt=1-Rt;it+=" <polygon points='"+Rt*$+" 0,0 "+Rt*X+",0 "+Bt*X+","+Rt*$+" "+X+","+Bt*$+" "+X+","+$+" "+Bt*X+","+$+" "+Rt*X+","+Bt*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"decagon":{it+=" <polygon points='"+3/8*$+" 0,"+$/8+" "+X/8+",0 "+X/2+","+$/8+" "+7/8*X+","+3/8*$+" "+X+","+5/8*$+" "+X+","+7/8*$+" "+7/8*X+","+$+" "+X/2+","+7/8*$+" "+X/8+","+5/8*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"dodecagon":{it+=" <polygon points='"+3/8*$+" 0,"+$/8+" "+X/8+",0 "+3/8*X+",0 "+5/8*X+","+$/8+" "+7/8*X+","+3/8*$+" "+X+","+5/8*$+" "+X+","+7/8*$+" "+7/8*X+","+$+" "+5/8*X+","+$+" "+3/8*X+","+7/8*$+" "+X/8+","+5/8*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"bentConnector3":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.5;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5,_t?it+=" <polyline points='"+$+" 0,"+(1-Rt)*$+" 0,"+(1-Rt)*$+" "+X+",0 "+X+"' fill='transparent'' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ":it+=" <polyline points='0 0,"+Rt*$+" 0,"+Rt*$+" "+X+","+$+" "+X+"' fill='transparent'' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>");break}case"plus":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Rt=.25;Tt!==void 0&&(Rt=parseInt(Tt.substr(4))/1e5);const Bt=1-Rt;it+=" <polygon points='"+Rt*$+" 0,"+Rt*$+" "+Rt*X+",0 "+Rt*X+",0 "+Bt*X+","+Rt*$+" "+Bt*X+","+Rt*$+" "+X+","+Bt*$+" "+X+","+Bt*$+" "+Bt*X+","+$+" "+Bt*X+","+ +$+" "+Rt*X+","+Bt*$+" "+Rt*X+","+Bt*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"line":case"straightConnector1":case"bentConnector4":case"bentConnector5":case"curvedConnector2":case"curvedConnector3":case"curvedConnector4":case"curvedConnector5":{_t?it+="<line x1='"+$+"' y1='0' x2='0' y2='"+X+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ":it+="<line x1='0' y1='0' x2='"+$+"' y2='"+X+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ",Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' "),it+="/>";break}case"rightArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt="",Bt=.5,oe,Pt=.5;const ye=$/X;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=Z(Tt[Kt],["attrs","fmla"]),Pt=1-parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+$+" "+X/2+","+Pt*$+" 0,"+Pt*$+" "+Bt*X+",0 "+Bt*X+",0 "+(1-Bt)*X+","+Pt*$+" "+(1-Bt)*X+", "+Pt*$+" "+X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"leftArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=$/X;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=Z(Tt[Kt],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='0 "+X/2+","+Pt*$+" "+X+","+Pt*$+" "+(1-Bt)*X+","+$+" "+(1-Bt)*X+","+$+" "+Bt*X+","+Pt*$+" "+Bt*X+", "+Pt*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"downArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=X/$;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=Z(Tt[Kt],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+(.5-Bt)*$+" 0,"+(.5-Bt)*$+" "+(1-Pt)*X+",0 "+(1-Pt)*X+","+$/2+" "+X+","+$+" "+(1-Pt)*X+","+(.5+Bt)*$+" "+(1-Pt)*X+", "+(.5+Bt)*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"upArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=X/$;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=Z(Tt[Kt],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+$/2+" 0,0 "+Pt*X+","+(.5-Bt)*$+" "+Pt*X+","+(.5-Bt)*$+" "+X+","+(.5+Bt)*$+" "+X+","+(.5+Bt)*$+" "+Pt*X+", "+$+" "+Pt*X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"leftRightArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=$/X;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=Z(Tt[Kt],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='0 "+X/2+","+Pt*$+" "+X+","+Pt*$+" "+(1-Bt)*X+","+(1-Pt)*$+" "+(1-Bt)*X+","+(1-Pt)*$+" "+X+","+$+" "+X/2+", "+(1-Pt)*$+" 0,"+(1-Pt)*$+" "+Bt*X+","+Pt*$+" "+Bt*X+","+Pt*$+" 0' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"upDownArrow":{const Tt=Z(S,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Rt,Bt=.5,oe,Pt=.5;const ye=X/$;if(Tt!==void 0)for(let Kt=0;Kt<Tt.length;Kt++){const he=Z(Tt[Kt],["attrs","name"]);he==="adj1"?(Rt=Z(Tt[Kt],["attrs","fmla"]),Bt=.5-parseInt(Rt.substr(4))/2e5):he==="adj2"&&(oe=Z(Tt[Kt],["attrs","fmla"]),Pt=parseInt(oe.substr(4))/1e5/ye)}it+=" <polygon points='"+$/2+" 0,0 "+Pt*X+","+Bt*$+" "+Pt*X+","+Bt*$+" "+(1-Pt)*X+",0 "+(1-Pt)*X+","+$/2+" "+X+", "+$+" "+(1-Pt)*X+","+(1-Bt)*$+" "+(1-Pt)*X+","+(1-Bt)*$+" "+Pt*X+","+$+" "+Pt*X+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' />";break}case"bentArrow":case"bentUpArrow":case"stripedRightArrow":case"quadArrow":case"circularArrow":case"swooshArrow":case"leftRightUpArrow":case"leftUpArrow":case"leftCircularArrow":case"notchedRightArrow":case"curvedDownArrow":case"curvedLeftArrow":case"curvedRightArrow":case"curvedUpArrow":case"uturnArrow":case"leftRightCircularArrow":break;case void 0:default:console.warn("Undefine shape type.")}it+="</svg>",it+="<div class='block content "+ie(S,O,E)+"' _id='"+j+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,Q,jt)+ee(kt,Q,jt)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await ut(S["p:txBody"],O,E,at,ot)),it+="</div>"}else if(bt!==void 0){const Tt=Z(bt,["a:pathLst"]),Rt=Z(Tt,["a:path","a:close"]),Bt=Z(Tt,["a:path","a:moveTo","a:pt","attrs"])||{x:"0",y:"0"},oe=parseInt(Bt.x)*96/914400,Pt=parseInt(Bt.y)*96/914400;let ye="M"+oe+","+Pt;const Kt=Z(Tt,["a:path"]),he=Kt["a:lnTo"],je=Kt["a:cubicBezTo"],Mn=[];he!==void 0&&Object.keys(he).forEach(function(Ge){const xe=he[Ge]["a:pt"];xe!==void 0&&Object.keys(xe).forEach(function(rn){const Ve={},an=xe[rn],Ue=an.x,fn=an.y,jn=an.order;Ve.type="lnto",Ve.order=jn,Ve.x=Ue,Ve.y=fn,Mn.push(Ve)})}),je!==void 0&&Object.keys(je).forEach(function(Ge){const xe=je[Ge]["a:pt"];xe!==void 0&&Object.keys(xe).forEach(function(rn){const Ve=xe[rn];Object.keys(Ve).forEach(function(an){const Ue={},fn=Ve[an],jn=fn.x,yr=fn.y,tr=fn.order;Ue.type="cubicBezTo",Ue.order=tr,Ue.x=jn,Ue.y=yr,Mn.push(Ue)})})});const ke=Mn.slice(0);ke.sort(function(Ge,xe){return Ge.order-xe.order});let Ne=0;for(;Ne<ke.length;)if(ke[Ne].type==="lnto"){const Ge=parseInt(ke[Ne].x)*96/914400,xe=parseInt(ke[Ne].y)*96/914400;ye+="L"+Ge+","+xe,Ne++}else{const Ge=parseInt(ke[Ne].x)*96/914400,xe=parseInt(ke[Ne].y)*96/914400,rn=parseInt(ke[Ne+1].x)*96/914400,Ve=parseInt(ke[Ne+1].y)*96/914400,an=parseInt(ke[Ne+2].x)*96/914400,Ue=parseInt(ke[Ne+2].y)*96/914400;ye+="C"+Ge+","+xe+" "+rn+","+Ve+" "+an+","+Ue,Ne+=3}it+="<path d='"+ye+"' fill='"+(te?"url(#imgPtrn_"+K+")":Jt?"url(#linGrd_"+K+")":Xt)+"' stroke='"+ht.color+"' stroke-width='"+ht.width+"' stroke-dasharray='"+ht.strokeDasharray+"' ",Rt!==void 0||(Yt!==void 0&&(Yt.type==="triangle"||Yt.type==="arrow")&&(it+="marker-start='url(#markerTriangle_"+K+")' "),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(it+="marker-end='url(#markerTriangle_"+K+")' ")),it+="/>",it+="</svg>",it+="<div class='block content "+ie(S,O,E)+"' _id='"+j+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,Q,jt)+ee(kt,Q,jt)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await ut(S["p:txBody"],O,E,at,ot)),it+="</div>"}else it+="<div class='block content "+ie(S,O,E)+"' _id='"+j+"' _idx='"+J+"' _type='"+at+"' Name='"+U+"' style='"+Et(kt,Q,jt)+ee(kt,Q,jt)+be(S,!1)+await Ut(S,!1,ot)+" z-index: "+lt+";transform: rotate("+zt+"deg);'>",S["p:txBody"]!==void 0&&(it+=await ut(S["p:txBody"],O,E,at="",ot)),it+="</div>";return it}async function Ft(S,O){const E=S.attrs.order,j=S["p:blipFill"]["a:blip"].attrs["r:embed"],U=O.slideResObj[j].target,J=pc(U).toLowerCase(),lt=await O.zip.file(U).async("arraybuffer");let ot="";const ct=S["p:spPr"]["a:xfrm"],kt=He(S["p:spPr"]["a:xfrm"].attrs.rot);return ot=On(J),"<div class='block content' style='"+Et(ct,void 0,void 0)+ee(ct,void 0,void 0)+" z-index: "+E+";transform: rotate("+kt+"deg);'><img src='data:"+ot+";base64,"+pa(lt)+"' style='width: 100%; height: 100%'/></div>"}async function dt(S,O){let E="";switch(Z(S,["a:graphic","a:graphicData","attrs","uri"])){case"http://schemas.openxmlformats.org/drawingml/2006/table":E=await qt(S,O);break;case"http://schemas.openxmlformats.org/drawingml/2006/chart":E=await ce(S,O);break;case"http://schemas.openxmlformats.org/drawingml/2006/diagram":E=$t(S);break}return E}async function ut(S,O,E,j,U){let J="";const at=U&&U.slideMasterTextStyles;if(S===void 0)return J;let lt,ot;if(S["a:p"].constructor===Array)for(let ct=0;ct<S["a:p"].length;ct++){if(lt=S["a:p"][ct],ot=lt["a:r"],J+="<div  class='"+le(lt,O||{},E||{},j,at)+"'>",J+=await Mt(lt,O,E,j,U||{}),ot===void 0)J+=Gt(lt,O,E,j,U||{});else if(ot.constructor===Array)for(let kt=0;kt<ot.length;kt++)J+=Gt(ot[kt],O,E,j,U||{}),lt["a:br"]!==void 0&&(J+="<br>");else J+=Gt(ot,O,E,j,U||{});J+="</div>"}else{if(lt=S["a:p"],ot=lt["a:r"],J+="<div class='slide-prgrph "+le(lt,O||{},E||{},j,at)+"'>",J+=await Mt(lt,O,E,j,U),ot===void 0)J+=Gt(lt,O,E,j,U||{});else if(ot.constructor===Array)for(let ct=0;ct<ot.length;ct++)J+=Gt(ot[ct],O,E,j,U||{}),lt["a:br"]!==void 0&&(J+="<br>");else J+=Gt(ot,O,E,j,U||{});J+="</div>"}return J}async function Mt(S,O,E,j,U){const J=U&&U.slideMasterTextStyles,at=S["a:r"];let lt,ot,ct,kt;at!==void 0?(lt=ge(at),ot=ve(at,O,E,j,J)):(lt=ge(S),ot=ve(S,O,E,j,J));let Q="";const jt=S["a:pPr"],it=Z(jt,["attrs","rtl"]);let K=!1;it!==void 0&&it==="1"&&(K=!0);let Lt=parseInt(Z(jt,["attrs","lvl"]));isNaN(Lt)&&(Lt=0);const bt=Z(jt,["a:buChar","attrs","char"]);let _t="TYPE_NONE";const zt=Z(jt,["a:buAutoNum","attrs","type"]),$=Z(jt,["a:buBlip"]);bt!==void 0&&(_t="TYPE_BULLET"),zt!==void 0&&(_t="TYPE_NUMERIC"),$!==void 0&&(_t="TYPE_BULPIC");let X={};_t!=="TYPE_NONE"&&(X=Z(jt,["a:buFont","attrs"]));let ht="NoNe";if(jt){const Jt=jt["a:buClr"];Jt!==void 0&&(ht=Vt(Jt)||"")}ht==="NoNe"?ct=lt:ct="#"+ht;let Yt;if(Yt=Z(jt,["a:buSzPts","attrs","val"]),Yt!==void 0)kt=parseInt(Yt)/100+"pt";else if(Yt=Z(jt,["a:buSzPct","attrs","val"]),Yt!==void 0){const Jt=parseInt(Yt)/1e5,te=ot.substr(0,ot.length-2);kt=Jt*parseInt(te)+"pt"}else kt=ot;let Wt,Xt;if(_t==="TYPE_BULLET")X!==void 0?(Wt=parseInt(Z(jt,["attrs","marL"]))*96/914400,Xt=parseInt(X.pitchFamily),isNaN(Wt)&&(Wt=328600*96/914400),isNaN(Xt)&&(Xt=0),Q="<span style='font-family: "+X.typeface+"; margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;color:"+ct+";font-size:"+kt+";",K&&(Q+=" float: right;  direction:rtl"),Q+="'>"+bt+"</span>"):(Wt=328600*96/914400*Lt,Q="<span style='margin-left: "+Wt+"px;'>"+bt+"</span>");else if(_t==="TYPE_NUMERIC")X!==void 0?(Wt=parseInt(Z(jt,["attrs","marL"]))*96/914400,Xt=parseInt(X.pitchFamily),isNaN(Wt)&&(Wt=328600*96/914400),isNaN(Xt)&&(Xt=0),Q="<span style='margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;color:"+ct+";font-size:"+kt+";",K?Q+=" float: right; direction:rtl;":Q+=" float: left; direction:ltr;",Q+="' data-bulltname = '"+zt+"' data-bulltlvl = '"+Lt+"' class='numeric-bullet-style'></span>"):(Wt=328600*96/914400*Lt,Q="<span style='margin-left: "+Wt+"px;",K?Q+=" float: right; direction:rtl;":Q+=" float: left; direction:ltr;",Q+="' data-bulltname = '"+zt+"' data-bulltlvl = '"+Lt+"' class='numeric-bullet-style'></span>");else if(_t==="TYPE_BULPIC"){Wt=parseInt(Z(jt,["attrs","marL"]))*96/914400,Xt=parseInt(Z(jt,["attrs","marR"]))*96/914400,isNaN(Xt)&&(Xt=0),isNaN(Wt)?Wt=328600*96/914400:Wt=0;const Jt=Z($,["a:blip","attrs","r:embed"]);let te;if(Jt!==void 0){const Tt=U&&U.slideResObj[Jt].target,Rt=U&&await U.zip.file(Tt).async("arraybuffer"),Bt=Tt.split(".").pop();te="<img src='data:"+On(Bt)+";base64,"+pa(Rt)+"' style='width: 100%; height: 100%'/>"}Jt===void 0&&(te="&#8227;"),Q="<span style='margin-left: "+Wt*Lt+"px; margin-right: "+Xt+"px;width:"+kt+";display: inline-block; ",K&&(Q+=" float: right;direction:rtl"),Q+="'>"+te+"  </span>"}else Q="<span style='margin-left: "+328600*96/914400*Lt+"px; margin-right: 0px;'></span>";return Q}function Gt(S,O,E,j,U){const J=U.slideMasterTextStyles;let at=S["a:t"];typeof at!="string"&&!(at instanceof String)&&(at=Z(S,["a:fld","a:t"]),typeof at!="string"&&!(at instanceof String)&&(at="&nbsp;"));let lt="color:"+ge(S)+";font-size:"+ve(S,O,E,j,J)+";font-family:"+en(S,j)+";font-weight:"+ue(S)+";font-style:"+St(S)+";text-decoration:"+ae(S)+";text-align:"+Qt(S)+";vertical-align:"+me(S)+";";const ot=Z(S,["a:rPr","a:highlight"]);ot!==void 0&&(lt+="background-color:#"+Vt(ot)+";",lt+="Opacity:"+Se(ot)+";");let ct="";lt in B?ct=B[lt].name:(ct="_css_"+(Object.keys(B).length+1),B[lt]={name:ct,text:lt});const kt=Z(S,["a:rPr","a:hlinkClick","attrs","r:id"]);if(kt!==void 0){const Q=U.slideResObj[kt].target;return"<span class='text-block "+ct+"'><a href='"+Q+"' target='_blank'>"+at.replace(/\s/,"&nbsp;")+"</a></span>"}else return"<span class='text-block "+ct+"'>"+at.replace(/\s/,"&nbsp;")+"</span>"}function Nt(){let S="";for(const O in B)S+="section ."+B[O].name+"{"+B[O].text+`}
`;return S}async function qt(S,O){const E=S.attrs.order,j=Z(S,["a:graphic","a:graphicData","a:tbl"]),U=Z(S,["p:xfrm"]),J=Z(S,["a:graphic","a:graphicData","a:tbl","a:tblPr"]),at=Z(S,["a:graphic","a:graphicData","a:tbl","a:tblGrid","a:gridCol"]);let lt="";J!==void 0&&(lt=J.attrs.rtl===1?"dir=rtl":"dir=ltr");const ot=J.attrs.firstRow,ct=J.attrs.bandRow;let kt="<table "+lt+" style='border-collapse: collapse;"+Et(U,void 0,void 0)+ee(U,void 0,void 0)+" z-index: "+E+";'>";const Q=j["a:tr"];if(Q.constructor===Array)for(let jt=0;jt<Q.length;jt++){const it=Q[jt].attrs.h;let K=0,Lt="";it!==void 0&&(K=parseInt(it)*96/914400,Lt+="height:"+K+"px;");let bt={};const _t=J["a:tableStyleId"];if(_t!==void 0){const $=T["a:tblStyleLst"]["a:tblStyle"]||[];for(let X=0;X<$.length;X++)$[X].attrs.styleId===_t&&(bt=$[X])}if(jt===0&&ot!==void 0){let $="fff",X=1;if(bt["a:firstRow"]!==void 0){const ht=Z(bt,["a:firstRow","a:tcStyle","a:fill","a:solidFill"]);ht!==void 0&&($=Vt(ht),X=Se(ht));const Yt=Z(bt,["a:firstRow","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}Z(bt,["a:firstRow","a:tcTxStyle"])}Lt+=" background-color:#"+$+"; opacity:"+X+";"}else if(jt>0&&ct!==void 0){let $="fff",X=1;if(jt%2===0){if(bt["a:band2H"]!==void 0){const ht=Z(bt,["a:band2H","a:tcStyle","a:fill","a:solidFill"]);ht!==void 0&&($=Vt(ht),X=Se(ht));const Yt=Z(bt,["a:band2H","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}Z(bt,["a:band2H","a:tcTxStyle"])}}else if(bt["a:band1H"]!==void 0){const ht=Z(bt,["a:band1H","a:tcStyle","a:fill","a:solidFill"]);ht!==void 0&&($=Vt(ht),X=Se(ht));const Yt=Z(bt,["a:band1H","a:tcStyle","a:tcBdr"]);if(Yt!==void 0){const Wt=Ce(Yt);Lt+=Wt}Z(bt,["a:band1H","a:tcTxStyle"])}Lt+=" background-color:#"+$+"; opacity:"+X+";"}kt+="<tr style='"+Lt+"'>";const zt=Q[jt]["a:tc"];if(zt.constructor===Array)for(let $=0;$<zt.length;$++){const X=await ut(zt[$]["a:txBody"],void 0,void 0,void 0,O),ht=Z(zt[$],["attrs","rowSpan"]),Yt=Z(zt[$],["attrs","gridSpan"]),Wt=Z(zt[$],["attrs","vMerge"]),Xt=Z(zt[$],["attrs","hMerge"]),Jt=at[$].attrs.w;let te="";if(Jt!==void 0){const oe=parseInt(Jt)*96/914400;te+="width:"+oe+"px;"}const Tt=zt[$]["a:tcPr"]["a:solidFill"];let Rt="",Bt=1;if(Tt!==void 0)Rt=Vt(Tt),Bt=Se(Tt);else{const oe=J["a:tableStyleId"];if(oe!==void 0){const Pt=T["a:tblStyleLst"]["a:tblStyle"]||[];for(let ye=0;ye<Pt.length;ye++)Pt[ye].attrs.styleId}}Rt!==""&&(te+=" background-color:#"+Rt+";",te+=" opacity"+Bt+";"),ht!==void 0?kt+="<td rowspan='"+parseInt(ht)+"' style='"+te+"'>"+X+"</td>":Yt!==void 0?kt+="<td colspan='"+parseInt(Yt)+"' style='"+te+"'>"+X+"</td>":Wt===void 0&&Xt===void 0&&(kt+="<td style='"+te+"'>"+X+"</td>")}else{const $=await ut(zt["a:txBody"]),X=at[0].attrs.w;let ht="";if(X!==void 0){const Jt=parseInt(X)*96/914400;ht+="width:"+Jt+"px;"}const Yt=zt["a:tcPr"]["a:solidFill"];let Wt="",Xt=1;Yt!==void 0&&(Wt=Vt(Yt),Xt=Se(Yt)),Wt!==""&&(ht+=" background-color:#"+Wt+";",ht+=" opacity"+Xt+";"),kt+="<td style='"+ht+"'>"+$+"</td>"}kt+="</tr>"}else{const jt=Q.attrs.h;let it=0;jt!==void 0?(it=parseInt(jt)*96/914400,kt+="<tr style='height:"+it+"px;'>"):kt+="<tr>";const K=Q["a:tc"];if(K.constructor===Array)for(let Lt=0;Lt<K.length;Lt++){const bt=await ut(K[Lt]["a:txBody"]),_t=at[Lt].attrs.w;let zt="";if(_t!==void 0){const Yt=parseInt(_t)*96/914400;zt+="width:"+Yt+"px;"}const $=K[Lt]["a:tcPr"]["a:solidFill"];let X="",ht=1;$!==void 0&&(X=Vt($),ht=Se($)),X!==""&&(zt+=" background-color:#"+X+";",zt+=" opacity"+ht+";"),kt+="<td style='"+zt+"'>"+bt+"</td>"}else{const Lt=await ut(K["a:txBody"]),bt=at[0].attrs.w;let _t="";if(bt!==void 0){const ht=parseInt(bt)*96/914400;_t+="width:"+ht+"px;"}const zt=K["a:tcPr"]["a:solidFill"];let $="",X=1;zt!==void 0&&($=Vt(zt),X=Se(zt)),$!==""&&(_t+=" background-color:#"+$+";",_t+=" opacity"+X+";"),kt+="<td style='"+_t+"'>"+Lt+"</td>"}kt+="</tr>"}return kt}async function ce(S,O){const E=S.attrs.order,j=Z(S,["p:xfrm"]),U="<div id='chart"+w+"' class='block content' style='"+Et(j,void 0,void 0)+ee(j,void 0,void 0)+" z-index: "+E+";'></div>",J=S["a:graphic"]["a:graphicData"]["c:chart"].attrs["r:id"],at=O.slideResObj[J].target,lt=await R(O.zip,at),ot=Z(lt,["c:chartSpace","c:chart","c:plotArea"]);let ct=null;for(const kt in ot)switch(kt){case"c:lineChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"lineChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:barChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"barChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:pieChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"pieChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:pie3DChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"pie3DChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:areaChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"areaChart",chartData:nn(ot[kt]["c:ser"])}};break;case"c:scatterChart":ct={type:"createChart",data:{chartID:"chart"+w,chartType:"scatterChart",chartData:nn(ot[kt]["c:ser"])}};break}return ct!=null&&h.push(ct),w++,U}function $t(S){const O=Z(S,["p:xfrm"]);return"<div class='block content' style='border: 1px dotted;"+Et(O,void 0,void 0)+ee(O,void 0,void 0)+"'>TODO: diagram</div>"}function Et(S,O,E){let j,U=-1,J=-1;return S!==void 0?j=S["a:off"].attrs:O!==void 0?j=O["a:off"].attrs:E!==void 0&&(j=E["a:off"].attrs),j===void 0?"":(U=parseInt(j.x)*96/914400,J=parseInt(j.y)*96/914400,isNaN(U)||isNaN(J)?"":"top:"+J+"px; left:"+U+"px;")}function ee(S,O,E){let j,U=-1,J=-1;return S!==void 0?j=S["a:ext"].attrs:O!==void 0?j=O["a:ext"].attrs:E!==void 0&&(j=E["a:ext"].attrs),j===void 0?"":(U=parseInt(j.cx)*96/914400,J=parseInt(j.cy)*96/914400,isNaN(U)||isNaN(J)?"":"width:"+U+"px; height:"+J+"px;")}function le(S,O,E,j,U){let J=Z(S,["a:pPr","attrs","algn"]);if(J===void 0&&(J=Z(O,["p:txBody","a:p","a:pPr","attrs","algn"]),J===void 0&&(J=Z(E,["p:txBody","a:p","a:pPr","attrs","algn"]),J===void 0)))switch(j){case"title":case"subTitle":case"ctrTitle":{J=Z(U,["p:titleStyle","a:lvl1pPr","attrs","alng"]);break}default:J=Z(U,["p:otherStyle","a:lvl1pPr","attrs","alng"])}if(J===void 0){if(j==="title"||j==="subTitle"||j==="ctrTitle")return"h-mid";if(j==="sldNum")return"h-right"}return J==="ctr"?"h-mid":J==="r"?"h-right":"h-left"}function ie(S,O,E,j,U){let J=Z(S,["p:txBody","a:bodyPr","attrs","anchor"]);return J===void 0&&(J=Z(O,["p:txBody","a:bodyPr","attrs","anchor"]),J===void 0&&(J=Z(E,["p:txBody","a:bodyPr","attrs","anchor"]))),J==="ctr"?"v-mid":J==="b"?"v-down":"v-up"}function en(S,O,E){let j=Z(S,["a:rPr","a:latin","attrs","typeface"]);if(j===void 0){const U=Z(v,["a:theme","a:themeElements","a:fontScheme"]);O==="title"||O==="subTitle"||O==="ctrTitle"?j=Z(U,["a:majorFont","a:latin","attrs","typeface"]):O==="body"?j=Z(U,["a:minorFont","a:latin","attrs","typeface"]):j=Z(U,["a:minorFont","a:latin","attrs","typeface"])}return j===void 0?"inherit":j}function ge(S,O,E){const j=Rn(S,"a:rPr a:solidFill"),U=Vt(j);return U===void 0||U==="FFF"?"#000":"#"+U}function ve(S,O,E,j,U){let J=16,at="";return S["a:rPr"]!==void 0&&(J=parseInt(S["a:rPr"].attrs.sz)/100),(isNaN(J)||J===void 0)&&(at=Z(O,["p:txBody","a:lstStyle","a:lvl1pPr","a:defRPr","attrs","sz"]),J=parseInt(at)/100),(isNaN(J)||J===void 0)&&(j==="title"||j==="subTitle"||j==="ctrTitle"?at=Z(U,["p:titleStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):j==="body"?at=Z(U,["p:bodyStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):j==="dt"||j==="sldNum"?at="1200":j===void 0&&(at=Z(U,["p:otherStyle","a:lvl1pPr","a:defRPr","attrs","sz"])),J=parseInt(at)/100),Z(S,["a:rPr","attrs","baseline"])!==void 0&&!isNaN(J)&&(J-=10),isNaN(J)?"inherit":J+"pt"}function ue(S,O,E){return S["a:rPr"]!==void 0&&S["a:rPr"].attrs.b==="1"?"bold":"initial"}function St(S,O,E){return S["a:rPr"]!==void 0&&S["a:rPr"].attrs.i==="1"?"italic":"normal"}function ae(S,O,E){if(S["a:rPr"]!==void 0){const j=S["a:rPr"].attrs.u!==void 0?S["a:rPr"].attrs.u:"none",U=S["a:rPr"].attrs.strike!==void 0?S["a:rPr"].attrs.strike:"noStrike";return j!=="none"&&U==="noStrike"?"underline":j==="none"&&U!=="noStrike"?"line-through":j!=="none"&&U!=="noStrike"?"underline line-through":"initial"}else return"initial"}function Qt(S,O,E){const j=Z(S,["a:pPr","attrs","algn"]);let U="initial";if(j!==void 0)switch(j){case"l":{U="left";break}case"r":{U="right";break}case"ctr":{U="center";break}case"just":{U="justify";break}case"dist":{U="justify";break}default:U="initial"}return U}function me(S,O,E){const j=Z(S,["a:rPr","attrs","baseline"]);return j===void 0?"baseline":parseInt(j)/1e3+"%"}function Ce(S){let O="",E,j;return S["a:bottom"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:bottom"]["a:ln"]}},j=be(E,!1),O+=j.replace("border","border-bottom")),S["a:top"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:top"]["a:ln"]}},j=be(E,!1),O+=j.replace("border","border-top")),S["a:right"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:right"]["a:ln"]}},j=be(E,!1),O+=j.replace("border","border-right")),S["a:left"]!==void 0&&(E={"p:spPr":{"a:ln":S["a:left"]["a:ln"]}},j=be(E,!1),O+=j.replace("border","border-left")),O}function be(S,O){let E="border: ";const j=S["p:spPr"]["a:ln"],U=parseInt(Z(j,["attrs","w"]))/12700;isNaN(U)||U<1?E+="1pt ":E+=U+"pt ";const J=Z(j,["a:prstDash","attrs","val"]);let at="0";switch(J){case"solid":{E+="solid",at="0";break}case"dash":{E+="dashed",at="5";break}case"dashDot":{E+="dashed",at="5, 5, 1, 5";break}case"dot":{E+="dotted",at="1, 5";break}case"lgDash":{E+="dashed",at="10, 5";break}case"lgDashDotDot":{E+="dashed",at="10, 5, 1, 5, 1, 5";break}case"sysDash":{E+="dashed",at="5, 2";break}case"sysDashDot":{E+="dashed",at="5, 2, 1, 5";break}case"sysDashDotDot":{E+="dashed",at="5, 2, 1, 5, 1, 5";break}case"sysDot":{E+="dotted",at="2, 5";break}default:E+="solid",at="0"}let lt=Z(j,["a:solidFill","a:srgbClr","attrs","val"]);if(lt===void 0){const ot=Z(j,["a:solidFill","a:schemeClr"]);if(ot!==void 0){const ct="a:"+Z(ot,["attrs","val"]);lt=Ae(ct,void 0)}}if(lt===void 0){const ot=Z(S,["p:style","a:lnRef","a:schemeClr"]);if(ot!==void 0){const ct="a:"+Z(ot,["attrs","val"]);lt=Ae(ct,void 0)}if(lt!==void 0){let ct=Z(ot,["a:shade","attrs","val"]);if(ct!==void 0){ct=(parseInt(ct)/1e5).toString();const kt=new da("#"+lt);kt.setLum(Number(kt.hsl.l)*Number(ct)),lt=kt.hex.replace("#","")}}}return lt===void 0?O?lt="none":lt="#000":lt="#"+lt,E+=" "+lt+" ",O?{color:lt,width:U,type:J,strokeDasharray:at}:E+";"}async function _e(S,O,E,j){let U=Z(S,["p:sld","p:cSld","p:bg","p:bgPr"]),J=Z(S,["p:sld","p:cSld","p:bg","p:bgRef"]),at;if(U!==void 0){const lt=re(U);if(lt==="SOLID_FILL"){const ot=U["a:solidFill"],ct=Vt(ot),kt=Se(ot);at="background: rgba("+wt(ct)+","+kt+");"}else if(lt==="GRADIENT_FILL"){const ot=U["a:gradFill"],ct=ot["a:gsLst"]["a:gs"],kt=[],Q=[];for(let K=0;K<ct.length;K++){let Lt="",bt;if(ct[K]["a:srgbClr"]!==void 0)bt=Z(ct[K],["a:srgbClr","attrs","val"]),Lt=Z(ct[K],["a:srgbClr","a:tint","attrs","val"]);else if(ct[K]["a:schemeClr"]!==void 0){const _t=Z(ct[K],["a:schemeClr","attrs","val"]);bt=Ae("a:"+_t,E),Lt=Z(ct[K],["a:schemeClr","a:tint","attrs","val"])}kt[K]=bt,Q[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ot["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<ct.length;K++)K===ct.length-1?at+="rgba("+wt(kt[K])+","+Q[K]+"));":at+="rgba("+wt(kt[K])+","+Q[K]+"), "}else if(lt==="PIC_FILL"){const ot=await Ot("slideBg",U["a:blipFill"],j),ct=U.attrs.order;at="background-image: url("+ot+");  z-index: "+ct+";"}}else if(J!==void 0){let lt="";if(J["a:srgbClr"]!==void 0)lt=Z(J,["a:srgbClr","attrs","val"]);else if(J["a:schemeClr"]!==void 0){const ct=Z(J,["a:schemeClr","attrs","val"]);lt=Ae("a:"+ct,E)}const ot=Number(J.attrs.idx);if(!(ot===0||ot===1e3)){if(!(ot>0&&ot<1e3)){if(ot>1e3){const ct=ot-1e3,kt=v["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],Q=[];Object.keys(kt).forEach(function(Lt){const bt=kt[Lt];if(Lt!=="attrs")if(bt.constructor===Array)for(let _t=0;_t<bt.length;_t++){const zt={};zt[Lt]=bt[_t],zt.idex=bt[_t].attrs.order,Q.push(zt)}else{const _t={};_t[Lt]=bt,_t.idex=bt.attrs.order,Q.push(_t)}});const jt=Q.slice(0);jt.sort(function(Lt,bt){return Lt.idex-bt.idex});const it=jt[ct-1],K=re(it);if(K==="SOLID_FILL"){const Lt=it["a:solidFill"],bt=Se(Lt);at="background: rgba("+wt(lt)+","+bt+");"}else if(K==="GRADIENT_FILL"){const Lt=it["a:gradFill"],bt=Lt["a:gsLst"]["a:gs"],_t=[];for(let X=0;X<bt.length;X++){const ht=Z(bt[X],["a:schemeClr","a:tint","attrs","val"]);_t[X]=ht!==void 0?parseInt(ht)/1e5:1}const zt=Lt["a:lin"];let $=90;zt!==void 0&&($=He(zt.attrs.ang)+90),at="background: linear-gradient("+$+"deg,";for(let X=0;X<bt.length;X++)X===bt.length-1?at+="rgba("+wt(lt)+","+_t[X]+"));":at+="rgba("+wt(lt)+","+_t[X]+"), "}}}}}else if(U=Z(O,["p:sldLayout","p:cSld","p:bg","p:bgPr"]),J=Z(O,["p:sldLayout","p:cSld","p:bg","p:bgRef"]),U!==void 0){const lt=re(U);if(lt==="SOLID_FILL"){const ot=U["a:solidFill"],ct=Vt(ot),kt=Se(ot);at="background: rgba("+wt(ct)+","+kt+");"}else if(lt==="GRADIENT_FILL"){const ot=U["a:gradFill"],ct=ot["a:gsLst"]["a:gs"],kt=[],Q=[];for(let K=0;K<ct.length;K++){let Lt="",bt;if(ct[K]["a:srgbClr"]!==void 0)bt=Z(ct[K],["a:srgbClr","attrs","val"]),Lt=Z(ct[K],["a:srgbClr","a:tint","attrs","val"]);else if(ct[K]["a:schemeClr"]!==void 0){const _t=Z(ct[K],["a:schemeClr","attrs","val"]);bt=Ae("a:"+_t,E),Lt=Z(ct[K],["a:schemeClr","a:tint","attrs","val"])}kt[K]=bt,Q[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ot["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<ct.length;K++)K===ct.length-1?at+="rgba("+wt(kt[K])+","+Q[K]+"));":at+="rgba("+wt(kt[K])+","+Q[K]+"), "}else if(lt==="PIC_FILL"){const ot=await Ot("layoutBg",U["a:blipFill"],j),ct=U.attrs.order;at="background-image: url("+ot+");  z-index: "+ct+";"}}else if(J!==void 0)at="background: red;";else if(U=Z(E,["p:sldMaster","p:cSld","p:bg","p:bgPr"]),J=Z(E,["p:sldMaster","p:cSld","p:bg","p:bgRef"]),U!==void 0){const lt=re(U);if(lt==="SOLID_FILL"){const ot=U["a:solidFill"],ct=Vt(ot),kt=Se(ot);at="background: rgba("+wt(ct)+","+kt+");"}else if(lt==="GRADIENT_FILL"){const ot=U["a:gradFill"],ct=ot["a:gsLst"]["a:gs"],kt=[],Q=[];for(let K=0;K<ct.length;K++){let Lt="",bt;if(ct[K]["a:srgbClr"]!==void 0)bt=Z(ct[K],["a:srgbClr","attrs","val"]),Lt=Z(ct[K],["a:srgbClr","a:tint","attrs","val"]);else if(ct[K]["a:schemeClr"]!==void 0){const _t=Z(ct[K],["a:schemeClr","attrs","val"]);bt=Ae("a:"+_t,E),Lt=Z(ct[K],["a:schemeClr","a:tint","attrs","val"])}kt[K]=bt,Q[K]=Lt!==void 0?parseInt(Lt)/1e5:1}const jt=ot["a:lin"];let it=90;jt!==void 0&&(it=He(jt.attrs.ang)+90),at="background: linear-gradient("+it+"deg,";for(let K=0;K<ct.length;K++)K===ct.length-1?at+="rgba("+wt(kt[K])+","+Q[K]+"));":at+="rgba("+wt(kt[K])+","+Q[K]+"), "}else if(lt==="PIC_FILL"){const ot=await Ot("masterBg",U["a:blipFill"],j),ct=U.attrs.order;at="background-image: url("+ot+");  z-index: "+ct+";"}}else if(J!==void 0){let lt="";if(J["a:srgbClr"]!==void 0)lt=Z(J,["a:srgbClr","attrs","val"]);else if(J["a:schemeClr"]!==void 0){const ct=Z(J,["a:schemeClr","attrs","val"]);lt=Ae("a:"+ct,E)}const ot=Number(J.attrs.idx);if(!(ot===0||ot===1e3)){if(!(ot>0&&ot<1e3)){if(ot>1e3){const ct=ot-1e3,kt=v["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],Q=[];Object.keys(kt).forEach(function(Lt){const bt=kt[Lt];if(Lt!=="attrs")if(bt.constructor===Array)for(let _t=0;_t<bt.length;_t++){const zt={};zt[Lt]=bt[_t],zt.idex=bt[_t].attrs.order,Q.push(zt)}else{const _t={};_t[Lt]=bt,_t.idex=bt.attrs.order,Q.push(_t)}});const jt=Q.slice(0);jt.sort(function(Lt,bt){return Lt.idex-bt.idex});const it=jt[ct-1],K=re(it);if(K==="SOLID_FILL"){const Lt=it["a:solidFill"],bt=Se(Lt);at="background: rgba("+wt(lt)+","+bt+");"}else if(K==="GRADIENT_FILL"){const Lt=it["a:gradFill"],bt=Lt["a:gsLst"]["a:gs"],_t=[];for(let X=0;X<bt.length;X++){const ht=Z(bt[X],["a:schemeClr","a:tint","attrs","val"]);_t[X]=ht!==void 0?parseInt(ht)/1e5:1}const zt=Lt["a:lin"];let $=90;zt!==void 0&&($=He(zt.attrs.ang)+90),at="background: linear-gradient("+$+"deg,";for(let X=0;X<bt.length;X++)X===bt.length-1?at+="rgba("+wt(lt)+","+_t[X]+"));":at+="rgba("+wt(lt)+","+_t[X]+"), "}}}}}return at}function wt(S="FFFFFF"){const O=new ArrayBuffer(4);new DataView(O).setUint32(0,parseInt(S,16),!1);const j=new Uint8Array(O);return j[1]+","+j[2]+","+j[3]}async function Ut(S,O,E){const j=re(Z(S,["p:spPr"]));let U;if(j==="NO_FILL")return O?"none":"background-color: initial;";if(j==="SOLID_FILL"){const J=S["p:spPr"]["a:solidFill"];U=Vt(J)}else if(j==="GRADIENT_FILL"){const J=S["p:spPr"]["a:gradFill"];U=ne(J)}else if(j==="PATTERN_FILL"){const J=S["p:spPr"]["a:pattFill"];U=fe(J)}else if(j==="PIC_FILL"){const J=S["p:spPr"]["a:blipFill"];U=await Ot("slideBg",J,E)}if(U===void 0){const J=Z(S,["p:style","a:fillRef"]);U=Vt(J)}if(U!==void 0)if(j==="GRADIENT_FILL"){if(O)return U;{const J=U.color;let lt="background: linear-gradient("+U.rot+"deg,";for(let ot=0;ot<J.length;ot++)ot===J.length-1?lt+=J[ot]+");":lt+=J[ot]+", ";return lt}}else return j==="PIC_FILL"?O?U:"background-image:url("+U+");":O?(U=new da(U).rgb.toString(),U):"background-color: #"+U+";";else return O?"none":"background-color: initial;"}function re(S){let O="";return S["a:noFill"]!==void 0&&(O="NO_FILL"),S["a:solidFill"]!==void 0&&(O="SOLID_FILL"),S["a:gradFill"]!==void 0&&(O="GRADIENT_FILL"),S["a:pattFill"]!==void 0&&(O="PATTERN_FILL"),S["a:blipFill"]!==void 0&&(O="PIC_FILL"),O}function ne(S){const O=S["a:gsLst"]["a:gs"],E=[];for(let J=0;J<O.length;J++){let at=Vt(O[J]);if(O[J]["a:srgbClr"]!==void 0){let lt=parseInt(Z(S,["a:srgbClr","a:lumMod","attrs","val"]))/1e5,ot=parseInt(Z(S,["a:srgbClr","a:lumOff","attrs","val"]))/1e5;isNaN(lt)&&(lt=1),isNaN(ot)&&(ot=0),at=mr(at,lt,ot)}else if(O[J]["a:schemeClr"]!==void 0){let lt=parseInt(Z(O[J],["a:schemeClr","a:lumMod","attrs","val"]))/1e5,ot=parseInt(Z(O[J],["a:schemeClr","a:lumOff","attrs","val"]))/1e5;isNaN(lt)&&(lt=1),isNaN(ot)&&(ot=0),at=mr(at,lt,ot)}E[J]=at}const j=S["a:lin"];let U=0;return j!==void 0&&(U=He(j.attrs.ang)+90),{color:E,rot:U}}async function Ot(S,O,E){const j=O["a:blip"].attrs["r:embed"];let U;if(S==="slideBg"?U=Z(E,["slideResObj",j,"target"]):S==="layoutBg"?U=Z(E,["layoutResObj",j,"target"]):S==="masterBg"&&(U=Z(E,["masterResObj",j,"target"])),U===void 0)return;const J=U.split(".").pop();if(J==="xml")return;const at=await E.zip.file(U).async("arraybuffer");return"data:"+On(J)+";base64,"+pa(at)}function fe(S){const O=S["a:bgClr"];return Vt(O)}function Vt(S){if(S===void 0)return;let O="FFF";if(S["a:srgbClr"]!==void 0)O=Z(S,["a:srgbClr","attrs","val"]);else if(S["a:schemeClr"]!==void 0){const E=Z(S,["a:schemeClr","attrs","val"]);O=Ae("a:"+E,void 0)}else if(S["a:scrgbClr"]!==void 0){const E=S["a:scrgbClr"].attrs,j=E.r.indexOf("%")!==-1?E.r.split("%").shift():E.r,U=E.g.indexOf("%")!==-1?E.g.split("%").shift():E.g,J=E.b.indexOf("%")!==-1?E.b.split("%").shift():E.b;O=Pe(255*(Number(j)/100))+Pe(255*(Number(U)/100))+Pe(255*(Number(J)/100))}else if(S["a:prstClr"]!==void 0){const E=S["a:prstClr"].attrs.val;O=Cn(E)}else if(S["a:hslClr"]!==void 0){const E=S["a:hslClr"].attrs,j=Number(E.hue)/1e5,U=Number(E.sat.indexOf("%")!==-1?E.sat.split("%").shift():E.sat)/100,J=Number(E.lum.indexOf("%")!==-1?E.lum.split("%").shift():E.lum)/100,at=mn(j,U,J);O=Pe(at.r)+Pe(at.g)+Pe(at.b)}else if(S["a:sysClr"]!==void 0){const E=Z(S,["a:sysClr","attrs","lastClr"]);E!==void 0&&(O=E)}return O}function Pe(S){let O=S.toString(16);for(;O.length<2;)O="0"+O;return O}function mn(S,O,E){let j;S=S/60,E<=.5?j=E*(O+1):j=E+O-E*O;const U=E*2-j,J=un(U,j,S+2)*255,at=un(U,j,S)*255,lt=un(U,j,S-2)*255;return{r:J,g:at,b:lt}}function un(S,O,E){return E<0&&(E+=6),E>=6&&(E-=6),E<1?(O-S)*E+S:E<3?O:E<4?(O-S)*(4-E)+S:S}function Cn(S){let O;const E=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],j=["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"],U=E.indexOf(S);return U!==-1&&(O=j[U]),O}function Se(S){if(S===void 0)return;let O=1;if(S["a:srgbClr"]!==void 0){const E=Z(S,["a:srgbClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:schemeClr"]!==void 0){const E=Z(S,["a:schemeClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:scrgbClr"]!==void 0){const E=Z(S,["a:scrgbClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:prstClr"]!==void 0){const E=Z(S,["a:prstClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:hslClr"]!==void 0){const E=Z(S,["a:hslClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}else if(S["a:sysClr"]!==void 0){const E=Z(S,["a:sysClr","a:tint","attrs","val"]);E!==void 0&&(O=parseInt(E)/1e5)}return O}function Ae(S,O){(z===""||z===void 0)&&(z=Z(O,["p:sldMaster","p:clrMap","attrs"])||{});const E=S.substr(2);switch(E){case"tx1":case"tx2":case"bg1":case"bg2":{S="a:"+z[E.toString()];break}}const j=Z(v,["a:theme","a:themeElements","a:clrScheme",S]);let U=Z(j,["a:srgbClr","attrs","val"]);return U===void 0&&(U=Z(j,["a:sysClr","attrs","lastClr"])),U}function nn(S){const O=[];if(S===void 0)return O;if(S["c:xVal"]!==void 0){let E=[];cn(S["c:xVal"]["c:numRef"]["c:numCache"]["c:pt"],function(j,U){return E.push(parseFloat(j["c:v"])),""}),O.push(E),E=[],cn(S["c:yVal"]["c:numRef"]["c:numCache"]["c:pt"],function(j,U){return E.push(parseFloat(j["c:v"])),""}),O.push(E)}else cn(S,function(E,j){const U=[],J=Z(E,["c:tx","c:strRef","c:strCache","c:pt","c:v"])||j,at={};return Z(E,["c:cat","c:strRef","c:strCache","c:pt"])!==void 0?cn(E["c:cat"]["c:strRef"]["c:strCache"]["c:pt"],function(lt,ot){return at[lt.attrs.idx]=lt["c:v"],""}):Z(E,["c:cat","c:numRef","c:numCache","c:pt"])!==void 0&&cn(E["c:cat"]["c:numRef"]["c:numCache"]["c:pt"],function(lt,ot){return at[lt.attrs.idx]=lt["c:v"],""}),Z(E,["c:val","c:numRef","c:numCache","c:pt"])!==void 0&&cn(E["c:val"]["c:numRef"]["c:numCache"]["c:pt"],function(lt,ot){return U.push({x:lt.attrs.idx,y:parseFloat(lt["c:v"])}),""}),O.push({key:J,values:U,xlabels:at}),""});return O}function Rn(S,O){return Z(S,O.trim().split(/\s+/))}function Z(S,O){if(O.constructor!==Array)throw Error("Error of path type! path is not array.");if(S===void 0)return;const E=O.length;for(let j=0;j<E;j++)if(S=S[O[j]],S===void 0)return;return S}function cn(S,O){if(S===void 0)return;let E="";if(S.constructor===Array){const j=S.length;for(let U=0;U<j;U++)E+=O(S[U],U)}else E+=O(S,0);return E}function mr(S="#FFFFFF",O,E){const j=new da(S);return j.setLum(j.hsl.l*(1+E)),j.rgb.toString()}function He(S){return S===""||S==null?0:Math.round(Number(S)/6e4)}function On(S){let O="";switch(S.toLowerCase()){case"jpg":case"jpeg":{O="image/jpeg";break}case"png":{O="image/png";break}case"gif":{O="image/gif";break}case"emf":{O="image/x-emf";break}case"wmf":{O="image/x-wmf";break}case"svg":{O="image/svg+xml";break}default:O="image/*"}return O}function di(S,O,E,j,U){const J=Ze(j.length-2),at=_r(E,O,S),lt=at[0],ot=at[1],ct=at[2],kt=at[3],Q=J.length,jt=Q<20?100:1e3,it=' gradientUnits="userSpaceOnUse" x1="'+lt+'%" y1="'+ot+'%" x2="'+ct+'%" y2="'+kt+'%"';let K='<linearGradient id="linGrd_'+U+'"'+it+`>
`;for(let Lt=0;Lt<Q;Lt++)K+='<stop offset="'+Math.round(parseFloat(J[Lt])/100*jt)/jt+'" stop-color="'+j[Lt]+'"',K+=`/>
`;return K+=`</linearGradient>
`,K}function Ze(S){const O=["0%","100%"];if(S===0)return!0;{let E=S;for(;E--;){const U=100-100/(S+1)*(E+1)+"%";O.splice(-1,0,U)}}return O}function _r(S,O,E){const j=parseFloat(E),U=parseFloat(O),J=parseFloat(S);let at=2,lt=2;const ot=j/2,ct=U/2;let kt=2,Q=2,jt=2,it=2;const K=(J%360+360)%360,Lt=(360-K)*Math.PI/180,bt=Math.tan(Lt),_t=ct-bt*ot;K===0?(kt=j,Q=ct,jt=0,it=ct):K<90?(lt=j,at=0):K===90?(kt=ot,Q=0,jt=ot,it=U):K<180?(lt=0,at=0):K===180?(kt=0,Q=ct,jt=j,it=ct):K<270?(lt=0,at=U):K===270?(kt=ot,Q=U,jt=ot,it=0):(lt=j,at=U);const zt=at+lt/bt;kt=kt===2?bt*(zt-_t)/(Math.pow(bt,2)+1):kt,Q=Q===2?bt*kt+_t:Q,jt=jt===2?j-kt:jt,it=it===2?U-Q:it;const $=Math.round(jt/j*100*100)/100,X=Math.round(it/U*100*100)/100,ht=Math.round(kt/j*100*100)/100,Yt=Math.round(Q/U*100*100)/100;return[$,X,ht,Yt]}function $e(S,O){let E='<pattern id="imgPtrn_'+O+'"  patternContentUnits="objectBoundingBox"  width="1" height="1">';return E+='<image  xlink:href="'+S+'" preserveAspectRatio="none" width="1" height="1"></image>',E+="</pattern>",E}}const L={version:"2.2.0",plot:{},aggregateMethod:{}};L.axis=function(p,o,h,w,v,z){this.chart=p,this.position=o,this.categoryFields=v==null?h:[].concat(v),this.measure=w,this.timeField=v,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=z??!0,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var B,T,D=[],R=!1;if(this.chart&&this.chart.series){for(B=0;B<this.chart.series.length;B+=1)T=this.chart.series[B],T[this.position]===this&&(T.data&&T.data.length>0?D=D.concat(T.data):R=!0);R&&this.chart.data&&(D=D.concat(this.chart.data))}return D},this._getFontSize=function(){var B;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?B=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?B=this.fontSize:B=this.fontSize+"px",B},this._getFormat=function(){var B,T,D,R,M,I,k;return this.tickFormat!==null&&this.tickFormat!==void 0?this._hasTimeField()?B=pt.timeFormat(this.tickFormat):B=pt.format(this.tickFormat):this.showPercent?B=pt.format(".0%"):this.useLog&&this.measure!==null?B=function(N){var C=Math.floor(Math.abs(N),0).toString().length,q=Math.min(Math.floor((C-1)/3),4),G="kmBT".substring(q-1,q),et=Math.round(N/Math.pow(1e3,q)*10).toString().slice(-1)==="0"?0:1;return N===0?0:pt.format(",."+et+"f")(N/Math.pow(1e3,q))+G}:this.measure!==null?(T=Math.floor(Math.abs(this._max),0).toString(),D=Math.floor(Math.abs(this._min),0).toString(),R=Math.max(D.length,T.length),R>3?(M=Math.min(Math.floor((R-1)/3),4),I="kmBT".substring(M-1,M),k=R-M*3<=1?1:0,B=function(N){return N===0?0:pt.format(",."+k+"f")(N/Math.pow(1e3,M))+I}):(k=Math.max(-(this._tick_step?Math.floor(Math.log(this._tick_step)/Math.LN10):0),0),B=pt.format(",."+k+"f"))):B=function(N){return N},B},this._getTimePeriod=function(){var B=this.timePeriod,T=30,D=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(D/1e3<=T?B=pt.timeSecond:D/6e4<=T?B=pt.timeMinute:D/36e5<=T?B=pt.timeHour:D/864e5<=T?B=pt.timeHay:D/6048e5<=T?B=pt.timeWeek:D/26298e5<=T?B=pt.timeMonth:B=pt.timeYear),B},this._getTooltipText=function(B,T){if(this._hasTimeField())T[this.position+"Field"][0]&&B.push(this.timeField+": "+this._getFormat()(T[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(D,R){D!=null&&T[this.position+"Field"][R]&&B.push(D+(T[this.position+"Field"][R]!==D?": "+T[this.position+"Field"][R]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":B.push(this.measure+": "+this._getFormat()(T.width));break;case"y":B.push(this.measure+": "+this._getFormat()(T.height));break;case"p":B.push(this.measure+": "+this._getFormat()(T.angle)+" ("+pt.format(".0%")(T.piePct)+")");break;default:B.push(this.measure+": "+this._getFormat()(T[this.position+"Value"]));break}},this._getTopMaster=function(){var B=this;return this.master!==null&&this.master!==void 0&&(B=this.master._getTopMaster()),B},this._hasCategories=function(){return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0},this._hasMeasure=function(){return this.measure!==null&&this.measure!==void 0},this._hasTimeField=function(){return this.timeField!==null&&this.timeField!==void 0},this._parseDate=function(B){var T;return this.dateParseFormat===null||this.dateParseFormat===void 0?isNaN(B)?T=Date.parse(B):T=new Date(B):T=pt.timeParse(this.dateParseFormat)(B),T},this._update=function(B){var T=[],D,R,M,I,k=this.ticks||10,N=function(C,q,G){var et=C.categoryFields[0],rt=C._getAxisData(),vt=et,Ft=!1,dt=!0,ut=null,Mt,Gt;for(Mt=0;Mt<rt.length;Mt+=1)if(ut=C._parseDate(rt[Mt][et]),ut!=null&&isNaN(ut)){dt=!1;break}return dt||C.chart.series.forEach(function(Nt){Nt[q]===C&&Nt[G]._hasMeasure()&&(vt=Nt[G].measure,Ft=!0)},this),Gt=C._orderRules.concat({ordering:vt,desc:Ft}),L._getOrderedList(rt,et,Gt)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=this.overrideMin!==null?this.overrideMin:this._min,this._max=this.overrideMax!==null?this.overrideMax:this._max,this.position==="x"&&(this._scale===null||B)){if(this._hasTimeField()?this._scale=pt.scaleTime().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=pt.scaleLog().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(T=N(this,"x","y"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(C){T=T.concat(N(C,"x","y"))},this),this._scale=pt.scalePoint().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(T.concat([""]))):this._scale=pt.scaleLinear().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=pt.axisBottom().scale(this._scale),this.ticks&&this._draw.ticks(k);break;case 1:this._draw=pt.axisTop().scale(this._scale),this.ticks&&this._draw.ticks(k);break}}else if(this.position==="y"&&(this._scale===null||B)){if(this._hasTimeField()?this._scale=pt.scaleTime().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=pt.scaleLog().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(T=N(this,"y","x"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(C){T=T.concat(N(C,"y","x"))},this),this._scale=pt.scalePoint().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(T.concat([""]))):this._scale=pt.scaleLinear().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=pt.axisLeft().scale(this._scale),this.ticks&&this._draw.ticks(k);break;case 1:this._draw=pt.axisRight().scale(this._scale),this.ticks&&this._draw.ticks(k);break}}else this.position.length>0&&this.position[0]==="z"&&this._scale===null?this.useLog?this._scale=pt.scaleLog().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=pt.scaleLinear().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="p"&&this._scale===null?this.useLog?this._scale=pt.scaleLog().range([0,360]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=pt.scaleLinear().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="c"&&this._scale===null&&(this._scale=pt.scaleLinear().range([0,this.colors===null||this.colors.length===1?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));return this._slaves!==null&&this._slaves!==void 0&&this._slaves.length>0&&this._slaves.forEach(function(C){C._scale=this._scale},this),(B==null||B===!1)&&!this._hasTimeField()&&this._scale!==null&&this._scale.ticks!==null&&this._scale.ticks!==void 0&&this._scale.ticks(k).length>0&&(this.position==="x"||this.position==="y")&&(D=this._scale.ticks(k),R=D[1]-D[0],M=((this._max-this._min)%R).toFixed(0),this._tick_step=R,M!==0&&(this._max=Math.ceil(this._max/R)*R,this._min=Math.floor(this._min/R)*R,this._update(!0))),T!=null&&T.length>0?I=this._scale.copy()(T[0]):this._min>0?I=this._scale.copy()(this._min):this._max<0?I=this._scale.copy()(this._max):I=this._scale.copy()(0),this._origin!==I&&(this._previousOrigin=this._origin===null?I:this._origin,this._origin=I),this},this.addGroupOrderRule=function(B,T){this._groupOrderRules.push({ordering:B,desc:T})},this.addOrderRule=function(B,T){this._orderRules.push({ordering:B,desc:T})}};L.chart=function(p,o){this.svg=p,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=o,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease=pt.easeCubicInOut,this.staggerDraw=!1,this.transition={},this._group=p.append("g"),this._group.attr("class","dimple-chart"),this._gridlines_group=this._group.insert("g"),this._gridlines_group.attr("class","dimple-gridlines-group"),this._axis_group=this._group.insert("g"),this._axis_group.attr("class","dimple-axis-group"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(h,w){var v=0,z=0,B=-1;for(v=0;v<this.axes.length;v+=1){if(this.axes[v]===h){B=z;break}(w==null||w[0]===this.axes[v].position[0])&&(z+=1)}return B},this._getAllData=function(){var h=[];return this.data!==null&&this.data!==void 0&&this.data.length>0&&(h=h.concat(this.data)),this.series!==null&&this.series!==void 0&&this.series.length>0&&this.series.forEach(function(w){w.data!==null&&w.data!==void 0&&w.data.length>0&&(h=h.concat(w.data))}),h},this._getData=function(h,w,v,z,B,T,D,R,M,I){var k=[],N=function(St,ae){var Qt=[];return St!==null&&(St._hasTimeField()?Qt.push(St._parseDate(ae[St.timeField])):St._hasCategories()&&St.categoryFields.forEach(function(me){Qt.push(ae[me])},this)),Qt},C={x:!1,y:!1,z:!1,p:!1,c:!1},q={x:[],y:[]},G={x:[],y:[],z:[],p:[]},et={min:null,max:null},rt,vt={x:[],y:[],z:[],p:[]},Ft=[],dt={},ut={x:0,y:0,z:0,p:0},Mt,Gt="",Nt=[],qt=[],ce=[],$t="",Et=[],ee="",le=[],ie="",en=[],ge=[],ve=h,ue=[];this.storyboard&&this.storyboard.categoryFields.length>0&&(Gt=this.storyboard.categoryFields[0],Nt=L._getOrderedList(ve,Gt,this.storyboard._orderRules)),T&&T._hasCategories()&&T._hasMeasure()&&($t=T.categoryFields[0],Et=L._getOrderedList(ve,$t,T._orderRules.concat([{ordering:T.measure,desc:!0}]))),D&&D._hasCategories()&&D._hasMeasure()&&(ee=D.categoryFields[0],le=L._getOrderedList(ve,ee,D._orderRules.concat([{ordering:D.measure,desc:!0}]))),M&&M._hasCategories()&&M._hasMeasure()&&(ie=M.categoryFields[0],en=L._getOrderedList(ve,ie,M._orderRules.concat([{ordering:M.measure,desc:!0}]))),ve.length>0&&w&&w.length>0&&(ge=[].concat(z),qt=[],w.forEach(function(St){ve[0][St]!==void 0&&qt.push(St)},this),M&&M._hasMeasure()?ge.push({ordering:M.measure,desc:!0}):I&&I._hasMeasure()?ge.push({ordering:I.measure,desc:!0}):R&&R._hasMeasure()?ge.push({ordering:R.measure,desc:!0}):T&&T._hasMeasure()?ge.push({ordering:T.measure,desc:!0}):D&&D._hasMeasure()&&ge.push({ordering:D.measure,desc:!0}),ce=L._getOrderedList(ve,qt,ge)),ve.sort(function(St,ae){var Qt=0,me,Ce,be,_e,wt,Ut;if(Gt!==""&&(Qt=Nt.indexOf(St[Gt])-Nt.indexOf(ae[Gt])),$t!==""&&Qt===0&&(Qt=Et.indexOf(St[$t])-Et.indexOf(ae[$t])),ee!==""&&Qt===0&&(Qt=le.indexOf(St[ee])-le.indexOf(ae[ee])),ie!==""&&Qt===0&&(Qt=en.indexOf(St[ie])-le.indexOf(ae[ie])),qt&&qt.length>0&&Qt===0)for(me=[].concat(qt),Qt=0,be=0;be<ce.length;be+=1){for(Ce=[].concat(ce[be]),wt=!0,Ut=!0,_e=0;_e<me.length;_e+=1)wt=wt&&St[me[_e]]===Ce[_e],Ut=Ut&&ae[me[_e]]===Ce[_e];if(wt||Ut){wt&&Ut?Qt=0:wt?Qt=-1:Qt=1;break}}return Qt}),ve.forEach(function(St){var ae=-1,Qt=N(T,St),me=N(D,St),Ce=N(R,St),be=N(M,St),_e=[],wt,Ut,re,ne,Ot;if(!w||w.length===0)_e=["All"];else for(re=0;re<w.length;re+=1)St[w[re]]===void 0?_e.push(w[re]):_e.push(St[w[re]]);for(wt=_e.join("/")+"_"+Qt.join("/")+"_"+me.join("/")+"_"+be.join("/")+"_"+Ce.join("/"),Ut=0;Ut<k.length;Ut+=1)if(k[Ut].key===wt){ae=Ut;break}ae===-1&&(ne={key:wt,aggField:_e,xField:Qt,xValue:null,xCount:0,yField:me,yValue:null,yCount:0,pField:be,pValue:null,pCount:0,zField:Ce,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},k.push(ne),ae=k.length-1),Ot=function(fe,Vt){var Pe=!0,mn={value:0,count:1},un={value:0,count:1},Cn,Se="",Ae;Vt!==null&&(Cn=Vt.getFrameValue(),Vt.categoryFields.forEach(function(nn,Rn){Rn>0&&(Se+="/"),Se+=St[nn],Pe=Se===Cn},this)),fe!=null&&Pe&&(Ae=k[ae],fe._hasMeasure()&&St[fe.measure]!==null&&St[fe.measure]!==void 0&&(Ae[fe.position+"ValueList"].indexOf(St[fe.measure])===-1&&Ae[fe.position+"ValueList"].push(St[fe.measure]),isNaN(parseFloat(St[fe.measure]))&&(C[fe.position]=!0),mn.value=Ae[fe.position+"Value"],mn.count=Ae[fe.position+"Count"],un.value=St[fe.measure],Ae[fe.position+"Value"]=v(mn,un),Ae[fe.position+"Count"]+=1))},Ot(T,this.storyboard),Ot(D,this.storyboard),Ot(R,this.storyboard),Ot(M,this.storyboard),Ot(I,this.storyboard)},this),T&&T._hasCategories()&&T.categoryFields.length>1&&q.x!==void 0&&(ue=[],D._hasMeasure()&&ue.push({ordering:D.measure,desc:!0}),q.x=L._getOrderedList(ve,T.categoryFields[1],T._groupOrderRules.concat(ue))),D&&D._hasCategories()&&D.categoryFields.length>1&&q.y!==void 0&&(ue=[],T._hasMeasure()&&ue.push({ordering:T.measure,desc:!0}),q.y=L._getOrderedList(ve,D.categoryFields[1],D._groupOrderRules.concat(ue)),q.y.reverse()),k.forEach(function(St){T!==null&&(C.x===!0&&(St.xValue=St.xValueList.length),T._hasMeasure()&&T._hasCategories()?rt=(G.x[St.xField.join("/")]||0)+(T._hasMeasure()?Math.abs(St.xValue):0):rt=(G.x[St.xField.join("/")]||0)+(D._hasMeasure()?Math.abs(St.yValue):0),G.x[St.xField.join("/")]=rt),D!==null&&(C.y===!0&&(St.yValue=St.yValueList.length),D._hasMeasure()&&D._hasCategories()?rt=(G.y[St.yField.join("/")]||0)+(D._hasMeasure()?Math.abs(St.yValue):0):rt=(G.y[St.yField.join("/")]||0)+(T._hasMeasure()?Math.abs(St.xValue):0),G.y[St.yField.join("/")]=rt),M!==null&&(C.p===!0&&(St.pValue=St.pValueList.length),rt=(G.p[St.pField.join("/")]||0)+(M._hasMeasure()?Math.abs(St.pValue):0),G.p[St.pField.join("/")]=rt),R!==null&&(C.z===!0&&(St.zValue=St.zValueList.length),rt=(G.z[St.zField.join("/")]||0)+(R._hasMeasure()?Math.abs(St.zValue):0),G.z[St.zField.join("/")]=rt),I!==null&&((et.min===null||St.cValue<et.min)&&(et.min=St.cValue),(et.max===null||St.cValue>et.max)&&(et.max=St.cValue))},this);for(Mt in G.x)Object.prototype.hasOwnProperty.call(G.x,Mt)&&(ut.x+=G.x[Mt]);for(Mt in G.y)Object.prototype.hasOwnProperty.call(G.y,Mt)&&(ut.y+=G.y[Mt]);for(Mt in G.p)Object.prototype.hasOwnProperty.call(G.p,Mt)&&(ut.p+=G.p[Mt]);for(Mt in G.z)Object.prototype.hasOwnProperty.call(G.z,Mt)&&(ut.z+=G.z[Mt]);return k.forEach(function(St){var ae,Qt,me,Ce,be,_e=function(wt,Ut,re){var ne,Ot,fe,Vt,Pe;wt!=null&&(Vt=wt.position,wt._hasCategories()?wt._hasMeasure()?(ne=St[wt.position+"Field"].join("/"),Ot=wt.showPercent?G[wt.position][ne]/ut[wt.position]:G[wt.position][ne],Ft.indexOf(ne)===-1&&(dt[ne]=Ot+(Ft.length>0?dt[Ft[Ft.length-1]]:0),Ft.push(ne)),fe=St[Vt+"Bound"]=St["c"+Vt]=(Vt==="x"||Vt==="y")&&B?dt[ne]:Ot,St[re]=Ot,St[Vt]=fe-(Vt==="x"&&Ot>=0||Vt==="y"&&Ot<=0?Ot:0)):(St[Vt]=St["c"+Vt]=St[Vt+"Field"][0],St[re]=1,q[Vt]!==void 0&&q[Vt]!==null&&q[Vt].length>=2&&(St[Vt+"Offset"]=q[Vt].indexOf(St[Vt+"Field"][1]),St[re]=1/q[Vt].length)):(Ot=wt.showPercent?St[Vt+"Value"]/G[Ut][St[Ut+"Field"].join("/")]:St[Vt+"Value"],ne=St[Ut+"Field"].join("/")+(St[Vt+"Value"]>=0),Pe=vt[Vt][ne]=(vt[Vt][ne]===null||vt[Vt][ne]===void 0||Vt==="z"||Vt==="p"?0:vt[Vt][ne])+Ot,fe=St[Vt+"Bound"]=St["c"+Vt]=(Vt==="x"||Vt==="y")&&B?Pe:Ot,St[re]=Ot,St[Vt]=fe-(Vt==="x"&&Ot>=0||Vt==="y"&&Ot<=0?Ot:0)))};_e(T,"y","width"),_e(D,"x","height"),_e(R,"z","r"),_e(M,"p","angle"),I!==null&&et.min!==null&&et.max!==null&&(et.min===et.max&&(et.min-=.5,et.max+=.5),et.min=I.overrideMin||et.min,et.max=I.overrideMax||et.max,St.cValue=St.cValue>et.max?et.max:St.cValue<et.min?et.min:St.cValue,me=pt.scaleLinear().range([0,I.colors===null||I.colors.length===1?1:I.colors.length-1]).domain([et.min,et.max]),Ce=me(St.cValue),be=Ce-Math.floor(Ce),St.cValue===et.max&&(be=1),I.colors&&I.colors.length===1?(ae=pt.rgb(I.colors[0]),Qt=pt.rgb(this.getColor(St.aggField.slice(-1)[0]).fill)):I.colors&&I.colors.length>1?(ae=pt.rgb(I.colors[Math.floor(Ce)]),Qt=pt.rgb(I.colors[Math.ceil(Ce)])):(ae=pt.rgb("white"),Qt=pt.rgb(this.getColor(St.aggField.slice(-1)[0]).fill)),ae.r=Math.floor(ae.r+(Qt.r-ae.r)*be),ae.g=Math.floor(ae.g+(Qt.g-ae.g)*be),ae.b=Math.floor(ae.b+(Qt.b-ae.b)*be),St.fill=ae.toString(),St.stroke=ae.darker(.5).toString())},this),k},this._getDelay=function(h,w,v){return function(z){var B=0;return v&&w.staggerDraw&&(v.x._hasCategories()?B=L._helpers.cx(z,w,v)/w._widthPixels()*h:v.y._hasCategories()&&(B=(1-L._helpers.cy(z,w,v)/w._heightPixels())*h)),B}},this._getSeriesData=function(){this.series!==null&&this.series!==void 0&&this.series.forEach(function(h){var w=h.data||this.data||[],v=[].concat(h.categoryFields||"All"),z=this._getData(w,v,h.aggregate,h._orderRules,h._isStacked(),h.x,h.y,h.z,h.p,h.c),B=[],T,D,R,M,I,k,N={},C=h.startAngle*(Math.PI/180)||0,q=(h.endAngle||360)*(Math.PI/180);if(C>q&&(C-=2*Math.PI),h.p&&v.length>0){if(h.x&&h.y){for(v.pop(),B=this._getData(w,["__dimple_placeholder__"].concat(v),h.aggregate,h._orderRules,h._isStacked(),h.x,h.y,h.z,h.p,h.c),T=0;T<z.length;T+=1)for(R=["__dimple_placeholder__"].concat(z[T].aggField),R.pop(),h.x&&h.x._hasCategories()&&(R=R.concat(z[T].xField)),h.y&&h.y._hasCategories()&&(R=R.concat(z[T].yField)),M=R.join("|"),D=0;D<B.length;D+=1)if(I=[].concat(B[D].aggField),h.x&&h.x._hasCategories()&&(I=I.concat(B[D].xField)),h.y&&h.y._hasCategories()&&(I=I.concat(B[D].yField)),k=I.join("|"),M===k){z[T].xField=B[D].xField,z[T].xValue=B[D].xValue,z[T].xCount=B[D].xCount,z[T].yField=B[D].yField,z[T].yValue=B[D].yValue,z[T].yCount=B[D].yCount,z[T].zField=B[D].zField,z[T].zValue=B[D].zValue,z[T].zCount=B[D].zCount,z[T].x=B[D].x,z[T].y=B[D].y,z[T].r=B[D].r,z[T].xOffset=B[D].xOffset,z[T].yOffset=B[D].yOffset,z[T].width=B[D].width,z[T].height=B[D].height,z[T].cx=B[D].cx,z[T].cy=B[D].cy,z[T].xBound=B[D].xBound,z[T].yBound=B[D].yBound,z[T].xValueList=B[D].xValueList,z[T].yValueList=B[D].yValueList,z[T].zValueList=B[D].zValueList,z[T].cValueList=B[D].cValueList,z[T].pieKey=B[D].key,z[T].value=z.pValue,N[B[D].key]||(N[B[D].key]={total:0,angle:C}),N[B[D].key].total+=z[T].pValue;break}}else for(T=0;T<z.length;T+=1)z[T].pieKey="All",z[T].value=z.pValue,N[z[T].pieKey]||(N[z[T].pieKey]={total:0,angle:C}),N[z[T].pieKey].total+=z[T].pValue;for(T=0;T<z.length;T+=1)N[z[T].pieKey].total===0?z[T].piePct=0:z[T].piePct=z[T].pValue/N[z[T].pieKey].total,z[T].startAngle=N[z[T].pieKey].angle,z[T].endAngle=z[T].startAngle+z[T].piePct*(q-C),N[z[T].pieKey].angle=z[T].endAngle}h._positionData=z},this)},this._handleTransition=function(h,w,v,z){var B=null;return w===0?B=h:(B=h.transition().duration(w).delay(v._getDelay(w,v,z)),L._ease(B,v.ease)),B},this._heightPixels=function(){return L._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(h){h._eventHandlers!==null&&h._eventHandlers.length>0&&h._eventHandlers.forEach(function(w){var v,z=function(B){var T=new L.eventArgs;h.chart.storyboard!==null&&(T.frameValue=h.chart.storyboard.getFrameValue()),T.seriesValue=B.aggField,T.xValue=B.x,T.yValue=B.y,T.zValue=B.z,T.pValue=B.p,T.colorValue=B.cValue,T.seriesShapes=h.shapes,T.selectedShape=pt.select(this),w.handler(T)};if(w.handler!==null&&typeof w.handler=="function")if(h._markers!==null&&h._markers!==void 0)for(v in h._markers)Object.prototype.hasOwnProperty.call(h._markers,v)&&h._markers[v].on(w.event,z);else h.shapes.on(w.event,z)},this)},this._widthPixels=function(){return L._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return L._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return L._parseYPosition(this.y,this.svg.node())},this.addAxis=function(h,w,v,z){var B=null,T=null,D;if(w!=null&&(w=[].concat(w)),typeof h=="string"||h instanceof String)B=new L.axis(this,h,w,v,z),this.axes.push(B);else{if(T=h,B=new L.axis(this,T.position,w,v,z),B._hasMeasure()!==T._hasMeasure()?D="You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.":B._hasTimeField()!==T._hasTimeField()?D="You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.":(B.categoryFields===null||B.categoryFields===void 0?0:B.categoryFields.length)!==(T.categoryFields===null||T.categoryFields===void 0?0:T.categoryFields.length)&&(D="You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type."),D)throw D;T._slaves.push(B)}return B},this.addCategoryAxis=function(h,w){return this.addAxis(h,w,null)},this.addColorAxis=function(h,w){var v=this.addAxis("c",null,h);return v.colors=w==null?null:[].concat(w),v},this.addLegend=function(h,w,v,z,B,T){T=T==null?this.series:[].concat(T),B=B??"left";var D=new L.legend(this,h,w,v,z,B,T);return this.legends.push(D),D},this.addLogAxis=function(h,w,v){var z=this.addAxis(h,null,w,null);return v!=null&&(z.logBase=v),z.useLog=!0,z},this.addMeasureAxis=function(h,w){return this.addAxis(h,null,w)},this.addPctAxis=function(h,w,v){var z=null;return v!=null?z=this.addAxis(h,v,w):z=this.addMeasureAxis(h,w),z.showPercent=!0,z},this.addSeries=function(h,w,v){v==null&&(v=this.axes),w==null&&(w=L.plot.bubble);var z=null,B=null,T=null,D=null,R=null,M;return v.forEach(function(I){I!==null&&w.supportedAxes.indexOf(I.position)>-1&&(z===null&&I.position[0]==="x"?z=I:B===null&&I.position[0]==="y"?B=I:T===null&&I.position[0]==="z"?T=I:D===null&&I.position[0]==="c"?D=I:D===null&&I.position[0]==="p"&&(R=I))},this),h&&(h=[].concat(h)),M=new L.series(this,h,z,B,T,D,R,w,L.aggregateMethod.sum,w.stacked),this.series.push(M),M},this.addTimeAxis=function(h,w,v,z){var B=this.addAxis(h,null,null,w);return B.tickFormat=z,B.dateParseFormat=v,B},this.assignClass=function(h,w){return this._assignedClasses[h]=w,this._assignedClasses[h]},this.assignColor=function(h,w,v,z){return this._assignedColors[h]=new L.color(w,v,z),this._assignedColors[h]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new L.color("#80B1D3"),new L.color("#FB8072"),new L.color("#FDB462"),new L.color("#B3DE69"),new L.color("#FFED6F"),new L.color("#BC80BD"),new L.color("#8DD3C7"),new L.color("#CCEBC5"),new L.color("#FFFFB3"),new L.color("#BEBADA"),new L.color("#FCCDE5"),new L.color("#D9D9D9")],this.draw=function(h,w){h=h||0;var v=null,z=null,B,T=!1,D=!1,R=this._xPixels(),M=this._yPixels(),I=this._widthPixels(),k=this._heightPixels(),N;return(w==null||w===!1)&&this._getSeriesData(),this.axes.forEach(function(C){C._scale=null},this),this.axes.forEach(function(C){if(C._min=0,C._max=0,N=[],C._hasMeasure()){var q=!1;this.series.forEach(function(G){if(G._deepMatch(C)){var et=G._axisBounds(C.position);C._min>et.min&&(C._min=et.min),C._max<et.max&&(C._max=et.max),q=!0}},this),q||this._getAllData().forEach(function(G){C._min>G[C.measure]&&(C._min=G[C.measure]),C._max<G[C.measure]&&(C._max=G[C.measure])},this)}else C._hasTimeField()?(C._min=null,C._max=null,this.series.forEach(function(G){G._deepMatch(C)&&G[C.position].timeField!==null&&G[C.position].timeField!==void 0&&N.indexOf(G[C.position].timeField)===-1&&N.push(G[C.position].timeField)},this),C._getAxisData().forEach(function(G){N.forEach(function(et){var rt=C._parseDate(G[et]);(C._min===null||rt<C._min)&&(C._min=rt),(C._max===null||rt>C._max)&&(C._max=rt)},this)},this)):C._hasCategories()&&(C._min=0,B=[],this.series.forEach(function(G){G._deepMatch(C)&&G[C.position].categoryFields[0]!==null&&G[C.position].categoryFields[0]!==void 0&&N.indexOf(G[C.position].categoryFields[0])===-1&&N.push(G[C.position].categoryFields[0])},this),C._getAxisData().forEach(function(G){N.forEach(function(et){B.indexOf(G[et])===-1&&B.push(G[et])},this)},this),C._max=B.length);C._slaves!==null&&C._slaves!==void 0&&C._slaves.length>0&&C._slaves.forEach(function(G){G._min=C._min,G._max=C._max},this),C._update(),v===null&&C.position==="x"?v=C:z===null&&C.position==="y"&&(z=C)},this),this.axes.forEach(function(C){var q=!1,G=null,et=0,rt=null,vt=!1,Ft=0,dt={l:null,t:null,r:null,b:null},ut=0,Mt=0,Gt="",Nt=this,qt=function(Et){var ee;return G===null||h===0||q?ee=Et:ee=Nt._handleTransition(Et,h,Nt),ee},ce=function(){var Et=pt.select(this).selectAll("text");return!C.measure&&C._max>0&&(C.position==="x"?Et.attr("x",I/C._max/2):C.position==="y"&&Et.attr("y",-1*(k/C._max)/2)),C.categoryFields&&C.categoryFields.length>0&&(C===v&&(z.categoryFields===null||z.categoryFields.length===0)&&Et.attr("y",M+k-z._scale(0)+9),C===z&&(v.categoryFields===null||v.categoryFields.length===0)&&Et.attr("x",-1*(v._scale(0)-R)-9)),this},$t=function(Et){return function(){var ee=pt.select(this).attr("class")||"";return ee.indexOf(Et)===-1&&(ee+=" "+Et),ee.trim()}};C.gridlineShapes===null?(C.showGridlines||C.showGridlines===null&&!C._hasCategories()&&(!T&&C.position==="x"||!D&&C.position==="y"))&&(C.gridlineShapes=this._gridlines_group.append("g").attr("class","dimple-gridline"),C.position==="x"?T=!0:D=!0):C.position==="x"?T=!0:D=!0,C.shapes===null&&(C.shapes=this._axis_group.append("g").attr("class","dimple-axis dimple-axis-"+C.position).each(function(){Nt.noFormats||pt.select(this).style("font-family",C.fontFamily).style("font-size",C._getFontSize())}),q=!0),C===v&&z!==null?(G="translate(0, "+(z.categoryFields===null||z.categoryFields.length===0?z._scale(0):M+k)+")",rt="translate(0, "+(C===v?M+k:M)+")",et=-k):C===z&&v!==null?(G="translate("+(v.categoryFields===null||v.categoryFields.length===0?v._scale(0):R)+", 0)",rt="translate("+(C===z?R:R+I)+", 0)",et=-I):C.position==="x"?(rt=G="translate(0, "+(C===v?M+k:M)+")",et=-k):C.position==="y"&&(rt=G="translate("+(C===z?R:R+I)+", 0)",et=-I),G!==null&&C._draw!==null&&(C._hasTimeField()?qt(C.shapes).call(C._draw.ticks(C._getTimePeriod(),C.timeInterval).tickFormat(C._getFormat())).attr("transform",G).each(ce):C.useLog?qt(C.shapes).call(C._draw.ticks(4,C._getFormat())).attr("transform",G).each(ce):qt(C.shapes).call(C._draw.tickFormat(C._getFormat())).attr("transform",G).each(ce),C.gridlineShapes!==null&&qt(C.gridlineShapes).call(C._draw.tickSize(et,0,0).tickFormat("")).attr("transform",rt)),qt(C.shapes.selectAll("text")).attr("class",$t(Nt.customClassList.axisLabel)).call(function(Et){Nt.noFormats||Et.style("font-family",C.fontFamily).style("font-size",C._getFontSize())}),qt(C.shapes.selectAll("path, line")).attr("class",$t(Nt.customClassList.axisLine)).call(function(Et){Nt.noFormats||Et.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),C.gridlineShapes!==null&&(C.gridlineShapes.selectAll("path").remove(),qt(C.gridlineShapes.selectAll("line")).attr("class",$t(Nt.customClassList.gridline)).call(function(Et){Nt.noFormats||Et.style("fill","none").style("stroke","lightgray").style("opacity",.8)})),(C.measure===null||C.measure===void 0)&&(C.autoRotateLabel?C===v?(Ft=0,C.shapes.selectAll("text").each(function(){var Et=this.getComputedTextLength();Ft=Et>Ft?Et:Ft}),Ft>I/C.shapes.selectAll("text").nodes().length?(vt=!0,C.shapes.selectAll("text").style("text-anchor","start").each(function(){var Et=this.getBBox();pt.select(this).attr("transform","rotate(90,"+Et.x+","+(Et.y+Et.height/2)+") translate(-5, 0)")})):(vt=!1,C.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):C.position==="x"&&(Ft=0,C.shapes.selectAll("text").each(function(){var Et=this.getComputedTextLength();Ft=Et>Ft?Et:Ft}),Ft>I/C.shapes.selectAll("text").nodes().length?(vt=!0,C.shapes.selectAll("text").style("text-anchor","end").each(function(){var Et=this.getBBox();pt.select(this).attr("transform","rotate(90,"+(Et.x+Et.width)+","+(Et.y+Et.height/2)+") translate(5, 0)")})):(vt=!1,C.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(vt=!1,C.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),C.titleShape!==null&&C.titleShape!==void 0&&C.titleShape.remove(),C.shapes.selectAll("text").each(function(){var Et=this.getBBox();(dt.l===null||-9-Et.width<dt.l)&&(dt.l=-9-Et.width),(dt.r===null||Et.x+Et.width>dt.r)&&(dt.r=Et.x+Et.width),vt?((dt.t===null||Et.y+Et.height-Et.width<dt.t)&&(dt.t=Et.y+Et.height-Et.width),(dt.b===null||Et.height+Et.width>dt.b)&&(dt.b=Et.height+Et.width)):((dt.t===null||Et.y<dt.t)&&(dt.t=Et.y),(dt.b===null||9+Et.height>dt.b)&&(dt.b=9+Et.height))}),C.position==="x"?(C===v?Mt=M+k+dt.b+5:Mt=M+dt.t-10,ut=R+I/2):C.position==="y"&&(C===z?ut=R+dt.l-10:ut=R+I+dt.r+20,Mt=M+k/2,Gt="rotate(270, "+ut+", "+Mt+")"),!C.hidden&&(C.position==="x"||C.position==="y")&&C.title!==null&&(C.titleShape=this._axis_group.append("text").attr("class","dimple-axis dimple-title "+Nt.customClassList.axisTitle+" dimple-axis-"+C.position),C.titleShape.attr("x",ut).attr("y",Mt).attr("text-anchor","middle").attr("transform",Gt).text(C.title!==void 0?C.title:C.categoryFields===null||C.categoryFields===void 0||C.categoryFields.length===0?C.measure:C.categoryFields.join("/")).each(function(){Nt.noFormats||pt.select(this).style("font-family",C.fontFamily).style("font-size",C._getFontSize())}),C===v?C.titleShape.each(function(){pt.select(this).attr("y",Mt+this.getBBox().height/1.65)}):C===z&&C.titleShape.each(function(){pt.select(this).attr("x",ut+this.getBBox().height/1.65)}))},this),this.series.forEach(function(C){C.plot.draw(this,C,h),this._registerEventHandlers(C)},this),this.legends.forEach(function(C){C._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(h){return this._assignedClasses[h]||(this._assignedClasses[h]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[h]},this.getColor=function(h){return(this._assignedColors[h]===null||this._assignedColors[h]===void 0)&&(this._assignedColors[h]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[h]},this.setBounds=function(h,w,v,z){return this.x=h,this.y=w,this.width=v,this.height=z,this._xPixels=function(){return L._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return L._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return L._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return L._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(h,w,v,z){return this.x=h,this.y=w,this.width=0,this.height=0,this._xPixels=function(){return L._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return L._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return L._parentWidth(this.svg.node())-this._xPixels()-L._parseXPosition(v,this.svg.node())},this._heightPixels=function(){return L._parentHeight(this.svg.node())-this._yPixels()-L._parseYPosition(z,this.svg.node())},this},this.setStoryboard=function(h,w){return this.storyboard=new L.storyboard(this,h),w!=null&&(this.storyboard.onTick=w),this.storyboard}};L.color=function(p,o,h){this.fill=p,this.stroke=o??pt.rgb(p).darker(.5).toString(),this.opacity=h??.8};L.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null};L.legend=function(p,o,h,w,v,z,B){this.chart=p,this.series=B,this.x=o,this.y=h,this.width=w,this.height=v,this.horizontalAlign=z,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var T=this._getEntries(),D=0,R=0,M=0,I=0,k=15,N=9,C=5,q=this,G;this.shapes&&this.shapes.remove(),G=this.chart._group.selectAll(".dimple-dont-select-any").data(T).enter().append("g").attr("class",function(et){return"dimple-legend "+L._createClass(et.aggField)}).attr("opacity",1),G.append("text").attr("class",function(et){return"dimple-legend dimple-legend-text "+L._createClass(et.aggField)+" "+q.chart.customClassList.legendLabel}).text(function(et){return et.key}).call(function(et){q.chart.noFormats||et.style("font-family",q.fontFamily).style("font-size",q._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var et=this.getBBox();et.width>D&&(D=et.width),et.height>R&&(R=et.height)}),G.append("rect").attr("class",function(et){return"dimple-legend dimple-legend-key "+L._createClass(et.aggField)}).attr("height",N).attr("width",k),R=(R<N?N:R)+q._getVerticalPadding(),D+=k+q._getHorizontalPadding(),G.each(function(et){M+D>q._widthPixels()&&(M=0,I+=R),I>q._heightPixels()?pt.select(this).remove():(pt.select(this).select("text").attr("x",q.horizontalAlign==="left"?q._xPixels()+k+C+M:q._xPixels()+(q._widthPixels()-M-D)+k+C).attr("y",function(){return q._yPixels()+I+this.getBBox().height/1.65}).attr("width",q._widthPixels()).attr("height",q._heightPixels()),pt.select(this).select("rect").attr("class",function(rt){return"dimple-legend dimple-legend-key "+L._createClass(rt.aggField)+" "+q.chart.customClassList.legendKey+" "+rt.css}).attr("x",q.horizontalAlign==="left"?q._xPixels()+M:q._xPixels()+(q._widthPixels()-M-D)).attr("y",q._yPixels()+I).attr("height",N).attr("width",k).call(function(rt){q.chart.noFormats||rt.style("fill",et.fill).style("stroke",et.stroke).style("opacity",et.opacity).style("shape-rendering","crispEdges")}),M+=D)}),this.shapes=G},this._getEntries=function(){var T=[];return this.series&&this.series.forEach(function(D){var R=D._positionData;R.forEach(function(M){var I=-1,k,N=D.plot.grouped&&!D.x._hasCategories()&&!D.y._hasCategories()&&M.aggField.length<2?"All":M.aggField.slice(-1)[0];for(k=0;k<T.length;k+=1)if(T[k].key===N){I=k;break}I===-1&&D.chart._assignedColors[N]&&(T.push({key:N,fill:D.chart._assignedColors[N].fill,stroke:D.chart._assignedColors[N].stroke,opacity:D.chart._assignedColors[N].opacity,css:D.chart._assignedClasses[N],series:D,aggField:M.aggField}),I=T.length-1)})},this),T},this._getFontSize=function(){var T;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?T=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?T=this.fontSize:T=this.fontSize+"px",T},this._getHorizontalPadding=function(){var T;return isNaN(this.horizontalPadding)?T=20:T=this.horizontalPadding,T},this._getVerticalPadding=function(){var T;return isNaN(this.verticalPadding)?T=2:T=this.verticalPadding,T},this._heightPixels=function(){return L._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return L._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return L._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return L._parseYPosition(this.y,this.chart.svg.node())}};L.series=function(p,o,h,w,v,z,B,T,D,R){this.chart=p,this.x=h,this.y=w,this.z=v,this.c=z,this.p=B,this.plot=T,this.categoryFields=o,this.aggregate=D,this.stacked=R,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._group=p._group.append("g"),this._group.attr("class","dimple-series-group-"+p.series.length),this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(M){var I={min:0,max:0},k=null,N=null,C=[],q,G,et,rt=this._positionData;return M==="x"?(k=this.x,N=this.y):M==="y"?(k=this.y,N=this.x):M==="z"?k=this.z:M==="p"?k=this.p:M==="c"&&(k=this.c),k.showPercent?rt.forEach(function(vt){vt[k.position+"Bound"]<I.min&&(I.min=vt[k.position+"Bound"]),vt[k.position+"Bound"]>I.max&&(I.max=vt[k.position+"Bound"])},this):N===null||N.categoryFields===null||N.categoryFields.length===0?rt.forEach(function(vt){this._isStacked()&&(k.position==="x"||k.position==="y")?vt[k.position+"Value"]<0?I.min=I.min+vt[k.position+"Value"]:I.max=I.max+vt[k.position+"Value"]:(vt[k.position+"Value"]<I.min&&(I.min=vt[k.position+"Value"]),vt[k.position+"Value"]>I.max&&(I.max=vt[k.position+"Value"]))},this):(q=k.position+"Value",G=N.position+"Field",et=[],rt.forEach(function(vt){var Ft=vt[G].join("/"),dt=et.indexOf(Ft);dt===-1&&(et.push(Ft),dt=et.length-1),C[dt]===void 0&&(C[dt]={min:0,max:0}),this.stacked?vt[q]<0?C[dt].min=C[dt].min+vt[q]:C[dt].max=C[dt].max+vt[q]:(vt[q]<C[dt].min&&(C[dt].min=vt[q]),vt[q]>C[dt].max&&(C[dt].max=vt[q]))},this),C.forEach(function(vt){vt!==void 0&&(vt.min<I.min&&(I.min=vt.min),vt.max>I.max&&(I.max=vt.max))},this)),I},this._deepMatch=function(M){var I=!1;return this[M.position]===M?I=!0:M._slaves!==void 0&&M._slaves!==null&&M._slaves.length>0&&M._slaves.forEach(function(k){I=I||this._deepMatch(k)},this),I},this._dropLineOrigin=function(){var M=0,I=0,k={x:null,y:null},N={x:null,y:null};return this.chart.axes.forEach(function(C){C.position==="x"&&N.x===null?C._hasTimeField()?N.x=this.chart._xPixels():N.x=C._origin:C.position==="y"&&N.y===null&&(C._hasTimeField()?N.y=this.chart._yPixels()+this.chart._heightPixels():N.y=C._origin)},this),this.chart.axes.forEach(function(C){C.position==="x"&&!this.x.hidden?(this._deepMatch(C)&&(M===0?k.y=N.y:M===1&&(k.y=this.chart._yPixels())),M+=1):C.position==="y"&&!this.y.hidden&&(this._deepMatch(C)&&(I===0?k.x=N.x:I===1&&(k.x=this.chart._xPixels()+this.chart._widthPixels())),I+=1)},this),k},this._getTooltipFontSize=function(){var M;return!this.tooltipFontSize||this.tooltipFontSize.toString().toLowerCase()==="auto"?M=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.tooltipFontSize)?M=this.tooltipFontSize:M=this.tooltipFontSize+"px",M},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(M,I){this._eventHandlers.push({event:M,handler:I})},this.addOrderRule=function(M,I){this._orderRules.push({ordering:M,desc:I})},this.getTooltipText=function(M){var I=[];return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0&&this.categoryFields.forEach(function(k,N){k!=null&&M.aggField[N]!==null&&M.aggField[N]!==void 0&&I.push(k+(M.aggField[N]!==k?": "+M.aggField[N]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(I,M),this.y&&this.y._hasCategories()&&this.y._getTooltipText(I,M),this.z&&this.z._hasCategories()&&this.z._getTooltipText(I,M),this.p._getTooltipText(I,M)):(this.x&&this.x._getTooltipText(I,M),this.y&&this.y._getTooltipText(I,M),this.z&&this.z._getTooltipText(I,M)),this.c&&this.c._getTooltipText(I,M),I.filter(function(k,N){return I.indexOf(k)===N})}};L.storyboard=function(p,o){o!=null&&(o=[].concat(o)),this.chart=p,this.categoryFields=o,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){var h=this,w=0;h.storyLabel||(h.chart.axes.forEach(function(v){v.position==="x"&&(w+=1)},h),h.storyLabel=h.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",h.chart._xPixels()+h.chart._widthPixels()*.01).attr("y",h.chart._yPixels()+(h.chart._heightPixels()/35>10?h.chart._heightPixels()/35:10)*(w>1?1.25:-1)).call(function(v){p.noFormats||v.style("font-family",h.fontFamily).style("font-size",h._getFontSize())})),h.storyLabel.text(h.categoryFields.join("\\")+": "+h.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(h){var w=-1,v="";this.categoryFields!==null&&(this.categoryFields.forEach(function(z,B){B>0&&(v+="/"),v+=h[z]},this),w=this._categories.indexOf(v),w===-1&&(this._categories.push(v),w=this._categories.length-1))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){var h;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?h=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?h=this.fontSize:h=this.fontSize+"px",h},this._goToFrameIndex=function(h){this._frame=h%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(h,w){this._orderRules.push({ordering:h,desc:w})},this.getFrameValue=function(){var h=null;return this._frame>=0&&this._getCategories().length>this._frame&&(h=this._getCategories()[this._frame]),h},this.goToFrame=function(h){if(this._getCategories().length>0){var w=this._getCategories().indexOf(h);this._goToFrameIndex(w)}},this.pauseAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){this._animationTimer===null&&(this.onTick!==null&&this.onTick(this.getFrameValue()),this._animationTimer=setInterval(function(h){return function(){h._goToFrameIndex(h._frame+1),h.onTick!==null&&h.onTick(h.getFrameValue()),h._drawText(h.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}};L.aggregateMethod.avg=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),p.count=p.count===null||p.count===void 0?1:parseFloat(p.count),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),o.count=o.count===null||o.count===void 0?1:parseFloat(o.count),(p.value*p.count+o.value*o.count)/(p.count+o.count)};L.aggregateMethod.count=function(p,o){return p.count=p.count===null||p.count===void 0?0:parseFloat(p.count),o.count=o.count===null||o.count===void 0?0:parseFloat(o.count),p.count+o.count};L.aggregateMethod.max=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),p.value>o.value?p.value:o.value};L.aggregateMethod.min=function(p,o){return p.value===null?parseFloat(o.value):parseFloat(p.value)<parseFloat(o.value)?parseFloat(p.value):parseFloat(o.value)};L.aggregateMethod.sum=function(p,o){return p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),o.value=o.value===null||o.value===void 0?0:parseFloat(o.value),p.value+o.value};L.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(p,o,h){var w=o._positionData,v=[],z=null,B="dimple-series-"+p.series.indexOf(o),T=o.x._hasCategories()||o.y._hasCategories()?0:1,D,R=!1,M,I,k,N,C,q,G,et,rt,vt,Ft={},dt=[],ut,Mt=[],Gt,Nt,qt,ce,$t,Et,ee,le,ie,en,ge,ve,ue=function(){return function(wt,Ut,re,ne){pt.select(Ut).style("opacity",1),L._showPointTooltip(wt,Ut,re,ne)}},St=function(wt){return function(Ut,re,ne,Ot){pt.select(re).style("opacity",Ot.lineMarkers||wt.data.length<2?L._helpers.opacity(Ut,ne,Ot):0),L._removeTooltip(Ut,re,ne,Ot)}},ae=function(wt,Ut){L._drawMarkers(wt,p,o,h,B,R,ue(),St(wt),Ut)},Qt=function(wt,Ut){var re;return o.interpolation==="step"&&o[wt]._hasCategories()?(re=L._helpers[wt](Ut,p,o)+(wt==="y"?L._helpers.height(Ut,p,o):0),o[wt].categoryFields.length<2&&(re+=(wt==="y"?1:-1)*L._helpers[wt+"Gap"](p,o))):re=L._helpers["c"+wt](Ut,p,o),parseFloat(re)},me=function(wt,Ut){var re=pt.line().x(function(ne){return o.x._hasCategories()||!Ut?ne.x:o.x[Ut]}).y(function(ne){return o.y._hasCategories()||!Ut?ne.y:o.y[Ut]});return L._interpolate(re,wt),re},Ce=function(wt,Ut){return parseFloat(wt)-parseFloat(Ut)},be=function(wt,Ut){return parseFloat(wt.x)-parseFloat(Ut.x)},_e=function(wt,Ut,re){var ne,Ot=Ut[Ut.length-1],fe,Vt=9999,Pe=Ot;for(ne=0;ne<wt.length;ne+=1)(wt[ne].x!==Ot.x||wt[ne].y!==Ot.y)&&(fe=180-Math.atan2(wt[ne].x-Ot.x,wt[ne].y-Ot.y)*(180/Math.PI),fe>re&&fe<Vt&&(Pe=wt[ne],Vt=fe));return Ut.push(Pe),Vt};for(D=o.interpolation==="step"?"step-after":o.interpolation,vt=L._getSeriesOrder(o.data||p.data,o),o.c&&(o.x._hasCategories()&&o.y._hasMeasure()||o.y._hasCategories()&&o.x._hasMeasure())&&(R=!0),o.x._hasCategories()?(ge="x",ve="y"):o.y._hasCategories()&&(ge="y",ve="x"),M=0;M<w.length;M+=1){for(N=[],q=-1,k=T;k<w[M].aggField.length;k+=1)N.push(w[M].aggField[k]);for(C=L._createClass(N),k=0;k<v.length;k+=1)if(v[k].keyString===C){q=k;break}q===-1&&(q=v.length,v.push({key:N,keyString:C,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:ge&&w[M][ge+"Field"]&&w[M][ge+"Field"].length>=2?w[M][ge+"Field"][0]:"All"})),v[q].data.push(w[M])}for(vt&&v.sort(function(wt,Ut){return L._arrayIndexCompare(vt,wt.key,Ut.key)}),M=0;M<v.length;M+=1){for(v[M].data.sort(L._getSeriesSortPredicate(p,o,vt)),I=0;I<v[M].data.length;I+=1)v[M].points.push({x:Qt("x",v[M].data[I]),y:Qt("y",v[M].data[I])}),ge&&(Ft[v[M].group]||(Ft[v[M].group]={}),Ft[v[M].group][v[M].points[v[M].points.length-1][ge]]=o[ve]._origin);ut=v[M].points,o.interpolation==="step"&&ut.length>1&&ge&&(o.x._hasCategories()?(ut.push({x:2*ut[ut.length-1].x-ut[ut.length-2].x,y:ut[ut.length-1].y}),Ft[v[M].group][ut[ut.length-1][ge]]=o[ve]._origin):o.y._hasCategories()&&(ut=[{x:ut[0].x,y:2*ut[0].y-ut[1].y}].concat(ut),Ft[v[M].group][ut[0][ge]]=o[ve]._origin,v[M].points=ut))}for(qt in Ft)if(Object.prototype.hasOwnProperty.call(Ft,qt)){dt[qt]=[];for(ce in Ft[qt])Object.prototype.hasOwnProperty.call(Ft[qt],ce)&&dt[qt].push(parseFloat(ce));dt[qt].sort(Ce)}for(M=0;M<v.length;M+=1){if(ut=v[M].points,$t=v[M].group,Gt=[],Mt=[],R&&L._addGradient(v[M].key,"fill-area-gradient-"+v[M].keyString,o.x._hasCategories()?o.x:o.y,w,p,h,"fill"),dt[$t]&&dt[$t].length>0)for(I=0,k=0;I<dt[$t].length;I+=1)dt[$t][I]>=ut[0][ge]&&dt[$t][I]<=ut[ut.length-1][ge]&&(Nt={},Nt[ge]=dt[$t][I],Nt[ve]=Ft[$t][dt[$t][I]],Gt.push(Nt),ut[k][ge]>dt[$t][I]?Mt.push(Nt):(Mt.push(ut[k]),Ft[v[M].group][dt[$t][I]]=ut[k][ve],k+=1));else if(o._orderRules&&o._orderRules.length>0)Mt=ut.concat(ut[0]);else{ut=ut.sort(be),Mt.push(ut[0]),en=0;do en=_e(ut,Mt,en);while(Mt.length<=ut.length&&(Mt[0].x!==Mt[Mt.length-1].x||Mt[0].y!==Mt[Mt.length-1].y))}Gt=Gt.reverse(),Et=me(D,"_previousOrigin")(Mt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D,"_previousOrigin")(Gt),le=me("linear","_previousOrigin")(Mt),ie=le.indexOf("L")===-1?void 0:le.indexOf("L"),v[M].entry=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ie):0),Et=me(D)(Mt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D)(Gt),le=me("linear")(Mt),ie=le.indexOf("L")===-1?void 0:le.indexOf("L"),v[M].update=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ie):0),Et=me(D,"_origin")(Mt),ee=me(D==="step-after"?"step-before":D==="step-before"?"step-after":D,"_origin")(Gt),le=me("linear","_origin")(Mt),ie=le.indexOf("L")===-1?void 0:le.indexOf("L"),v[M].exit=Et+(ee&&ee.length>0?"L"+ee.substring(1):"")+(le&&le.length>0?"L"+le.substring(1,ie):0),v[M].color=p.getColor(v[M].key.length>0?v[M].key[v[M].key.length-1]:"All"),v[M].css=p.getClass(v[M].key.length>0?v[M].key[v[M].key.length-1]:"All")}p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?z=o.shapes.data(v,function(wt){return wt.key}):z=o._group.selectAll("."+B).data(v,function(wt){return wt.key}),G=z.enter().append("path").attr("id",function(wt){return L._createClass([wt.key])}).attr("class",function(wt){return B+" dimple-line "+wt.keyString+" "+p.customClassList.areaSeries+" "+wt.css}).attr("d",function(wt){return wt.entry}).call(function(wt){p.noFormats||wt.attr("opacity",function(Ut){return R?1:Ut.color.opacity}).style("fill",function(Ut){return R?"url(#"+L._createClass(["fill-area-gradient-"+Ut.keyString])+")":Ut.color.fill}).style("stroke",function(Ut){return R?"url(#"+L._createClass(["stroke-area-gradient-"+Ut.keyString])+")":Ut.color.stroke}).style("stroke-width",o.lineWeight)}).each(function(wt){wt.markerData=wt.data,ae(wt,this)}),et=p._handleTransition(z.merge(G),h,p).attr("d",function(wt){return wt.update}).each(function(wt){wt.markerData=wt.data,ae(wt,this)}),rt=p._handleTransition(z.exit(),h,p).attr("d",function(wt){return wt.exit}).each(function(wt){wt.markerData=[],ae(wt,this)}),L._postDrawHandling(o,et,rt,h),o.shapes=o._group.selectAll("."+B)}};L.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(p,o,h){var w=o._positionData,v=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-bar"],B,T,D,R=!o._isStacked()&&o.x._hasMeasure(),M=!o._isStacked()&&o.y._hasMeasure(),I="none";o.x._hasCategories()&&o.y._hasCategories()?I="both":o.x._hasCategories()?I="x":o.y._hasCategories()&&(I="y"),p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?v=o.shapes.data(w,function(k){return k.key}):v=o._group.selectAll("."+z.join(".")).data(w,function(k){return k.key}),B=v.enter().append("rect").attr("id",function(k){return L._createClass([k.key])}).attr("class",function(k){var N=[];return N=N.concat(k.aggField),N=N.concat(k.xField),N=N.concat(k.yField),z.join(" ")+" "+L._createClass(N)+" "+p.customClassList.barSeries+" "+L._helpers.css(k,p)}).attr("x",function(k){var N=o.x._previousOrigin;return I==="x"?N=L._helpers.x(k,p,o):I==="both"&&(N=L._helpers.cx(k,p,o)),N}).attr("y",function(k){var N=o.y._previousOrigin;return I==="y"?N=L._helpers.y(k,p,o):I==="both"&&(N=L._helpers.cy(k,p,o)),N}).attr("width",function(k){return I==="x"?L._helpers.width(k,p,o):0}).attr("height",function(k){return I==="y"?L._helpers.height(k,p,o):0}).on("mouseover",function(k){L._showBarTooltip(k,this,p,o)}).on("mouseleave",function(k){L._removeTooltip(k,this,p,o)}).call(function(k){p.noFormats||k.attr("opacity",function(N){return L._helpers.opacity(N,p,o)}).style("fill",function(N){return L._helpers.fill(N,p,o)}).style("stroke",function(N){return L._helpers.stroke(N,p,o)})}),T=p._handleTransition(v.merge(B),h,p,o).attr("x",function(k){return R?L._helpers.cx(k,p,o)-o.x.floatingBarWidth/2:L._helpers.x(k,p,o)}).attr("y",function(k){return M?L._helpers.cy(k,p,o)-o.y.floatingBarWidth/2:L._helpers.y(k,p,o)}).attr("width",function(k){return R?o.x.floatingBarWidth:L._helpers.width(k,p,o)}).attr("height",function(k){return M?o.y.floatingBarWidth:L._helpers.height(k,p,o)}).call(function(k){p.noFormats||k.attr("fill",function(N){return L._helpers.fill(N,p,o)}).attr("stroke",function(N){return L._helpers.stroke(N,p,o)})}),D=p._handleTransition(v.exit(),h,p,o).attr("x",function(k){var N=o.x._origin;return I==="x"?N=L._helpers.x(k,p,o):I==="both"&&(N=L._helpers.cx(k,p,o)),N}).attr("y",function(k){var N=o.y._origin;return I==="y"?N=L._helpers.y(k,p,o):I==="both"&&(N=L._helpers.cy(k,p,o)),N}).attr("width",function(k){return I==="x"?L._helpers.width(k,p,o):0}).attr("height",function(k){return I==="y"?L._helpers.height(k,p,o):0}),L._postDrawHandling(o,T,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};L.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(p,o,h){var w=o._positionData,v=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-bubble"],B,T,D;p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?v=o.shapes.data(w,function(R){return R.key}):v=o._group.selectAll("."+z.join(".")).data(w,function(R){return R.key}),B=v.enter().append("circle").attr("id",function(R){return L._createClass([R.key])}).attr("class",function(R){var M=[];return M=M.concat(R.aggField),M=M.concat(R.xField),M=M.concat(R.yField),M=M.concat(R.zField),z.join(" ")+" "+L._createClass(M)+" "+p.customClassList.bubbleSeries+" "+L._helpers.css(R,p)}).attr("cx",function(R){return o.x._hasCategories()?L._helpers.cx(R,p,o):o.x._previousOrigin}).attr("cy",function(R){return o.y._hasCategories()?L._helpers.cy(R,p,o):o.y._previousOrigin}).attr("r",0).on("mouseover",function(R){L._showPointTooltip(R,this,p,o)}).on("mouseleave",function(R){L._removeTooltip(R,this,p,o)}).call(function(R){p.noFormats||R.attr("opacity",function(M){return L._helpers.opacity(M,p,o)}).style("fill",function(M){return L._helpers.fill(M,p,o)}).style("stroke",function(M){return L._helpers.stroke(M,p,o)})}),T=p._handleTransition(v.merge(B),h,p,o).attr("cx",function(R){return L._helpers.cx(R,p,o)}).attr("cy",function(R){return L._helpers.cy(R,p,o)}).attr("r",function(R){return L._helpers.r(R,p,o)}).call(function(R){p.noFormats||R.attr("fill",function(M){return L._helpers.fill(M,p,o)}).attr("stroke",function(M){return L._helpers.stroke(M,p,o)})}),D=p._handleTransition(v.exit(),h,p,o).attr("r",0).attr("cx",function(R){return o.x._hasCategories()?L._helpers.cx(R,p,o):o.x._origin}).attr("cy",function(R){return o.y._hasCategories()?L._helpers.cy(R,p,o):o.y._origin}),L._postDrawHandling(o,T,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};L.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(p,o,h){var w=o._positionData,v=[],z=null,B="dimple-series-"+p.series.indexOf(o),T=o.x._hasCategories()||o.y._hasCategories()?0:1,D,R=!1,M,I,k,N,C,q,G,et,rt,vt,Ft=function(){return function(Nt,qt,ce,$t){pt.select(qt).style("opacity",1),L._showPointTooltip(Nt,qt,ce,$t)}},dt=function(Nt){return function(qt,ce,$t,Et){pt.select(ce).style("opacity",Et.lineMarkers||Nt.data.length<2?L._helpers.opacity(qt,$t,Et):0),L._removeTooltip(qt,ce,$t,Et)}},ut=function(Nt,qt){L._drawMarkers(Nt,p,o,h,B,R,Ft(),dt(Nt),qt)},Mt=function(Nt,qt){var ce;return o.interpolation==="step"&&o[Nt]._hasCategories()?(o.barGap=0,o.clusterBarGap=0,ce=L._helpers[Nt](qt,p,o)+(Nt==="y"?L._helpers.height(qt,p,o):0)):ce=L._helpers["c"+Nt](qt,p,o),parseFloat(ce.toFixed(1))},Gt=function(Nt,qt){var ce=pt.line().x(function($t){return o.x._hasCategories()||!qt?$t.x:o.x[qt]}).y(function($t){return o.y._hasCategories()||!qt?$t.y:o.y[qt]});return L._interpolate(ce,Nt),ce};for(D=o.interpolation==="step"?"step-after":o.interpolation,vt=L._getSeriesOrder(o.data||p.data,o),o.c&&(o.x._hasCategories()&&o.y._hasMeasure()||o.y._hasCategories()&&o.x._hasMeasure())&&(R=!0),M=0;M<w.length;M+=1){for(N=[],q=-1,k=T;k<w[M].aggField.length;k+=1)N.push(w[M].aggField[k]);for(C=L._createClass(N),k=0;k<v.length;k+=1)if(v[k].keyString===C){q=k;break}q===-1&&(q=v.length,v.push({key:N,keyString:C,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),v[q].data.push(w[M])}for(vt&&v.sort(function(Nt,qt){return L._arrayIndexCompare(vt,Nt.key,qt.key)}),M=0;M<v.length;M+=1){for(v[M].data.sort(L._getSeriesSortPredicate(p,o,vt)),R&&L._addGradient(v[M].key,"fill-line-gradient-"+v[M].keyString,o.x._hasCategories()?o.x:o.y,w,p,h,"fill"),I=0;I<v[M].data.length;I+=1)v[M].points.push({x:Mt("x",v[M].data[I]),y:Mt("y",v[M].data[I])});o.interpolation==="step"&&v[M].points.length>1&&(o.x._hasCategories()?v[M].points.push({x:2*v[M].points[v[M].points.length-1].x-v[M].points[v[M].points.length-2].x,y:v[M].points[v[M].points.length-1].y}):o.y._hasCategories()&&(v[M].points=[{x:v[M].points[0].x,y:2*v[M].points[0].y-v[M].points[1].y}].concat(v[M].points))),v&&v[M]&&v[M].points&&v[M].points.length===1&&v[M].points.push({x:v[M].points[0].x,y:v[M].points[0].y}),v[M].entry=Gt(D,"_previousOrigin")(v[M].points),v[M].update=Gt(D)(v[M].points),v[M].exit=Gt(D,"_origin")(v[M].points),v[M].color=p.getColor(v[M].key.length>0?v[M].key[v[M].key.length-1]:"All"),v[M].css=p.getClass(v[M].key.length>0?v[M].key[v[M].key.length-1]:"All")}p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?z=o.shapes.data(v,function(Nt){return Nt.key}):z=o._group.selectAll("."+B).data(v,function(Nt){return Nt.key}),G=z.enter().append("path").attr("id",function(Nt){return L._createClass([Nt.key])}).attr("class",function(Nt){return B+" dimple-line "+Nt.keyString+" "+p.customClassList.lineSeries+" "+Nt.css}).attr("d",function(Nt){return Nt.entry}).call(function(Nt){p.noFormats||Nt.attr("opacity",function(qt){return R?1:qt.color.opacity}).style("fill","none").style("stroke",function(qt){return R?"url(#"+L._createClass(["fill-line-gradient-"+qt.keyString])+")":qt.color.stroke}).style("stroke-width",o.lineWeight)}).each(function(Nt){Nt.markerData=Nt.data,ut(Nt,this)}),et=p._handleTransition(z.merge(G),h,p).attr("d",function(Nt){return Nt.update}).each(function(Nt){Nt.markerData=Nt.data,ut(Nt,this)}),rt=p._handleTransition(z.exit(),h,p).attr("d",function(Nt){return Nt.exit}).each(function(Nt){Nt.markerData=[],ut(Nt,this)}),L._postDrawHandling(o,et,rt,h),o.shapes=o._group.selectAll("."+B)}};L.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(p,o,h){var w=o._positionData,v=null,z=["dimple-series-"+p.series.indexOf(o),"dimple-pie"],B,T,D,R=function(q){var G;return o.x&&o.y?G=L._helpers.r(q,p,o):G=p._widthPixels()<p._heightPixels()?p._widthPixels()/2:p._heightPixels()/2,G},M=function(q){var G=R(q);return o.outerRadius&&(G=L._parsePosition(o.outerRadius,G)),Math.max(G,0)},I=function(q){var G=0;return o.innerRadius&&(G=L._parsePosition(o.innerRadius,R(q))),Math.max(G,0)},k=function(q){var G;return G=pt.arc().innerRadius(I(q)).outerRadius(M(q)),G(q)},N=function(q){q.innerRadius=I(q),q.outerRadius=M(q);var G=pt.interpolate(this._current,q),et;return et=pt.arc().innerRadius(function(rt){return rt.innerRadius}).outerRadius(function(rt){return rt.outerRadius}),this._current=G(0),function(rt){return et(G(rt))}},C=function(q){return function(G){var et,rt;return o.x&&o.y?(!q||o.x._hasCategories()?et=L._helpers.cx(G,p,o):et=o.x._previousOrigin,!q||o.y._hasCategories()?rt=L._helpers.cy(G,p,o):rt=o.y._previousOrigin):(et=p._xPixels()+p._widthPixels()/2,rt=p._yPixels()+p._heightPixels()/2),"translate("+et+","+rt+")"}};p._tooltipGroup&&p._tooltipGroup.remove(),o.shapes?v=o.shapes.data(w,function(q){return q.key}):v=o._group.selectAll("."+z.join(".")).data(w,function(q){return q.key}),B=v.enter().append("path").attr("id",function(q){return L._createClass([q.key])}).attr("class",function(q){var G=[];return G=G.concat(q.aggField),G=G.concat(q.pField),z.join(" ")+" "+L._createClass(G)+" "+p.customClassList.pieSeries+" "+L._helpers.css(q,p)}).attr("d",k).on("mouseover",function(q){L._showBarTooltip(q,this,p,o)}).on("mouseleave",function(q){L._removeTooltip(q,this,p,o)}).call(function(q){p.noFormats||q.attr("opacity",function(G){return L._helpers.opacity(G,p,o)}).style("fill",function(G){return L._helpers.fill(G,p,o)}).style("stroke",function(G){return L._helpers.stroke(G,p,o)})}).attr("transform",C(!0)).each(function(q){this._current=q,q.innerRadius=I(q),q.outerRadius=M(q)}),T=p._handleTransition(v.merge(B),h,p,o).call(function(q){h&&h>0?q.attrTween("d",N):q.attr("d",k),p.noFormats||q.attr("fill",function(G){return L._helpers.fill(G,p,o)}).attr("stroke",function(G){return L._helpers.stroke(G,p,o)})}).attr("transform",C(!1)),D=p._handleTransition(v.exit(),h,p,o).attr("transform",C(!0)).attr("d",k),L._postDrawHandling(o,T,D,h),o.shapes=o._group.selectAll("."+z.join("."))}};L._addGradient=function(p,o,h,w,v,z,B){var T=[].concat(p),D=v.svg.select("#"+L._createClass([o])),R=[],M=h.position+"Field",I=!0,k=[];w.forEach(function(N){R.indexOf(N[M])===-1&&N.aggField.join("_")===T.join("_")&&R.push(N[M])},this),R=R.sort(function(N,C){return h._scale(N)-h._scale(C)}),D.node()===null&&(I=!1,D=v.svg.append("defs").append("linearGradient").attr("id",L._createClass([o])).attr("gradientUnits","userSpaceOnUse").attr("x1",h.position==="x"?h._scale(R[0])+v._widthPixels()/R.length/2:0).attr("y1",h.position==="y"?h._scale(R[0])-v._heightPixels()/R.length/2:0).attr("x2",h.position==="x"?h._scale(R[R.length-1])+v._widthPixels()/R.length/2:0).attr("y2",h.position==="y"?h._scale(R[R.length-1])-v._heightPixels()/R.length/2:0)),R.forEach(function(N,C){var q={},G=0;for(G=0;G<w.length;G=G+1)if(w[G].aggField.join("_")===T.join("_")&&w[G][M].join("_")===N.join("_")){q=w[G];break}k.push({offset:Math.round(C/(R.length-1)*100)+"%",color:q[B]})},this),I?v._handleTransition(D.selectAll("stop").data(k),z,v).attr("offset",function(N){return N.offset}).attr("stop-color",function(N){return N.color}):D.selectAll("stop").data(k).enter().append("stop").attr("offset",function(N){return N.offset}).attr("stop-color",function(N){return N.color})};L._arrayIndexCompare=function(p,o,h){var w,v,z,B,T,D;for(v=0;v<p.length;v+=1){for(B=!0,T=!0,D=[].concat(p[v]),z=0;z<o.length;z+=1)B=B&&o[z]===D[z];for(z=0;z<h.length;z+=1)T=T&&h[z]===D[z];if(B||T){B&&T?w=0:B?w=-1:w=1;break}}return w};L._createClass=function(p){var o,h=[],w;if(w=function(v){var z=v.charCodeAt(0),B="-";return z>=65&&z<=90&&(B=v.toLowerCase()),B},p.length>0)for(o=0;o<p.length;o+=1)p[o]&&h.push("dimple-"+p[o].toString().replace(/[^a-z\d]/g,w));else h=["dimple-all"];return h.join(" ")};L._drawMarkerBacks=function(p,o,h,w,v,z){var B,T=["dimple-marker-back",v,p.keyString],D,R;h.lineMarkers&&(h._markerBacks===null||h._markerBacks===void 0||h._markerBacks[p.keyString]===void 0?B=h._group.selectAll("."+T.join(".")).data(p.markerData):B=h._markerBacks[p.keyString].data(p.markerData,function(M){return M.key}),z.nextSibling&&z.nextSibling.id?R=B.enter().insert("circle","#"+z.nextSibling.id):R=B.enter().append("circle"),R.attr("id",function(M){return L._createClass([M.key+" Marker Back"])}).attr("class",function(M){var I=[];return h.x._hasCategories()&&(I=I.concat(M.xField)),h.y._hasCategories()&&(I=I.concat(M.yField)),L._createClass(I)+" "+T.join(" ")}).attr("cx",function(M){return h.x._hasCategories()?L._helpers.cx(M,o,h):h.x._previousOrigin}).attr("cy",function(M){return h.y._hasCategories()?L._helpers.cy(M,o,h):h.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),o._handleTransition(B.merge(R),w,o).attr("cx",function(M){return L._helpers.cx(M,o,h)}).attr("cy",function(M){return L._helpers.cy(M,o,h)}).attr("r",2+h.lineWeight),D=o._handleTransition(B.exit(),w,o).attr("cx",function(M){return h.x._hasCategories()?L._helpers.cx(M,o,h):h.x._origin}).attr("cy",function(M){return h.y._hasCategories()?L._helpers.cy(M,o,h):h.y._origin}).attr("r",0),w===0?D.remove():D.each("end",function(){pt.select(this).remove()}),(h._markerBacks===void 0||h._markerBacks===null)&&(h._markerBacks={}),h._markerBacks[p.keyString]=B)};L._drawMarkers=function(p,o,h,w,v,z,B,T,D){var R,M=["dimple-marker",v,p.keyString],I,k;h._markers===null||h._markers===void 0||h._markers[p.keyString]===void 0?R=h._group.selectAll("."+M.join(".")).data(p.markerData):R=h._markers[p.keyString].data(p.markerData,function(N){return N.key}),D.nextSibling&&D.nextSibling.id?k=R.enter().insert("circle","#"+D.nextSibling.id):k=R.enter().append("circle"),k.attr("id",function(N){return L._createClass([N.key+" Marker"])}).attr("class",function(N){var C=[],q=o.getClass(N.aggField.length>0?N.aggField[N.aggField.length-1]:"All");return h.x._hasCategories()&&(C=C.concat(N.xField)),h.y._hasCategories()&&(C=C.concat(N.yField)),L._createClass(C)+" "+M.join(" ")+" "+o.customClassList.lineMarker+" "+q}).on("mouseover",function(N){B(N,this,o,h)}).on("mouseleave",function(N){T(N,this,o,h)}).attr("cx",function(N){return h.x._hasCategories()?L._helpers.cx(N,o,h):h.x._previousOrigin}).attr("cy",function(N){return h.y._hasCategories()?L._helpers.cy(N,o,h):h.y._previousOrigin}).attr("r",0).attr("opacity",h.lineMarkers||p.data.length<2?p.color.opacity:0).call(function(N){o.noFormats||N.attr("fill","white").style("stroke-width",h.lineWeight).attr("stroke",function(C){return z?L._helpers.fill(C,o,h):p.color.stroke})}),o._handleTransition(R.merge(k),w,o).attr("cx",function(N){return L._helpers.cx(N,o,h)}).attr("cy",function(N){return L._helpers.cy(N,o,h)}).attr("r",2+h.lineWeight).attr("opacity",h.lineMarkers||p.data.length<2?p.color.opacity:0).call(function(N){o.noFormats||N.attr("fill","white").style("stroke-width",h.lineWeight).attr("stroke",function(C){return z?L._helpers.fill(C,o,h):p.color.stroke})}),I=o._handleTransition(R.exit(),w,o).attr("cx",function(N){return h.x._hasCategories()?L._helpers.cx(N,o,h):h.x._origin}).attr("cy",function(N){return h.y._hasCategories()?L._helpers.cy(N,o,h):h.y._origin}).attr("r",0),w===0?I.remove():I.each("end",function(){pt.select(this).remove()}),(h._markers===void 0||h._markers===null)&&(h._markers={}),h._markers[p.keyString]=R,L._drawMarkerBacks(p,o,h,w,v,D)};L._ease=function(p,o){if(p&&o&&Object.prototype.toString.call(o)==="[object String]"){switch(o){case"linear":o=pt.easeLinear;break;case"poly":o=pt.easePoly;break;case"quad":o=pt.easeQuad;break;case"cubic":o=pt.easeCubic;break;case"sin":o=pt.easeSin;break;case"exp":o=pt.easeExp;break;case"circle":o=pt.easeCircle;break;case"elastic":o=pt.easeElastic;break;case"back":o=pt.easeBack;break;case"bounce":o=pt.easeBounce;break}p.ease(o)}};L._getOrderedList=function(p,o,h){var w,v=[],z=[],B=[].concat(o),T=[].concat(o),D=[];return h!=null&&(D=D.concat(h)),D=D.concat({ordering:B,desc:!1}),D.forEach(function(R){var M,I=[],k=[];if(typeof R.ordering=="function"){if(p&&p.length>0)for(M in p[0])Object.prototype.hasOwnProperty.call(p[0],M)&&T.indexOf(M)===-1&&T.push(M)}else if(!(R.ordering instanceof Array))T.push(R.ordering);else{for(M=0;M<R.ordering.length;M+=1)p&&p.length>0&&Object.prototype.hasOwnProperty.call(p[0],R.ordering[M])&&k.push(R.ordering[M]),I.push(R.ordering[M]);k.length>I.length/2?T.concat(k):R.values=I}},this),w=L._rollUp(p,B,T),D.length>=1&&(D.forEach(function(R){var M=R.desc===null||R.desc===void 0?!1:R.desc,I=R.ordering,k=[],N=function(q){var G=0,et;for(et=0;et<q.length;et+=1)if(!isNaN(q[et]))G+=parseFloat(q[et]);else{G=void 0;break}return G},C=function(q,G){var et=0,rt=N(q),vt=N(G);return!isNaN(rt)&&!isNaN(vt)?et=parseFloat(rt)-parseFloat(vt):!isNaN(Date.parse(q[0]))&&!isNaN(Date.parse(G[0]))?et=Date.parse(q[0])-Date.parse(G[0]):q[0]<G[0]?et=-1:q[0]>G[0]&&(et=1),et};typeof I=="function"?v.push(function(q,G){return(M?-1:1)*I(q,G)}):R.values&&R.values.length>0?(R.values.forEach(function(q){k.push([].concat(q).join("|"))},this),v.push(function(q,G){var et="",rt="",vt,Ft,dt;for(dt=0;dt<B.length;dt+=1)dt>0&&(et+="|",rt+="|"),et+=q[B[dt]],rt+=G[B[dt]];return vt=k.indexOf(et),Ft=k.indexOf(rt),vt=vt<0?M?-1:k.length:vt,Ft=Ft<0?M?-1:k.length:Ft,(M?-1:1)*(vt-Ft)})):[].concat(R.ordering).forEach(function(q){v.push(function(G,et){var rt=0;return G[q]!==void 0&&et[q]!==void 0&&(rt=C([].concat(G[q]),[].concat(et[q]))),(M?-1:1)*rt})})}),w.sort(function(R,M){for(var I=0,k=0;I<v.length&&k===0;)k=v[I](R,M),I+=1;return k}),w.forEach(function(R){var M,I=[];if(B.length===1)z.push(R[B[0]]);else{for(M=0;M<B.length;M+=1)I.push(R[B[M]]);z.push(I)}},this)),z};L._getSeriesOrder=function(p,o){var h=[].concat(o._orderRules),w=o.categoryFields,v=[];return w!=null&&w.length>0&&(o.c!==null&&o.c!==void 0&&o.c._hasMeasure()&&h.push({ordering:o.c.measure,desc:!0}),o.x._hasMeasure()&&h.push({ordering:o.x.measure,desc:!0}),o.y._hasMeasure()&&h.push({ordering:o.y.measure,desc:!0}),v=L._getOrderedList(p,w,h)),v};L._getSeriesSortPredicate=function(p,o,h){return function(w,v){var z=0;return o.x._hasCategories()&&(z=L._helpers.cx(w,p,o)-L._helpers.cx(v,p,o)),z===0&&o.y._hasCategories()&&(z=L._helpers.cy(w,p,o)-L._helpers.cy(v,p,o)),z===0&&h&&(z=L._arrayIndexCompare(h,w.aggField,v.aggField)),z}};L._helpers={cx:function(p,o,h){var w=0;return h.x.measure!==null&&h.x.measure!==void 0?w=h.x._scale(p.cx):h.x._hasCategories()&&h.x.categoryFields.length>=2?w=h.x._scale(p.cx)+L._helpers.xGap(o,h)+(p.xOffset+.5)*((o._widthPixels()/h.x._max-2*L._helpers.xGap(o,h))*p.width):w=h.x._scale(p.cx)+o._widthPixels()/h.x._max/2,w},cy:function(p,o,h){var w=0;return h.y.measure!==null&&h.y.measure!==void 0?w=h.y._scale(p.cy):h.y.categoryFields!==null&&h.y.categoryFields!==void 0&&h.y.categoryFields.length>=2?w=h.y._scale(p.cy)-o._heightPixels()/h.y._max+L._helpers.yGap(o,h)+(p.yOffset+.5)*((o._heightPixels()/h.y._max-2*L._helpers.yGap(o,h))*p.height):w=h.y._scale(p.cy)-o._heightPixels()/h.y._max/2,w},r:function(p,o,h){var w=0,v=1;return h.z===null||h.z===void 0?w=!h.radius||h.radius==="auto"?5:h.radius:(h.radius&&h.radius!=="auto"&&h.radius>1&&(v=h.radius/h.z._scale(h.z._max)),h.z._hasMeasure()?w=h.z._scale(p.r)*v:w=h.z._scale(o._heightPixels()/100)*v),w},xGap:function(p,o){var h=0;return(o.x.measure===null||o.x.measure===void 0)&&o.barGap>0&&(h=p._widthPixels()/o.x._max*(o.barGap>.99?.99:o.barGap)/2),h},xClusterGap:function(p,o,h){var w=0;return h.x.categoryFields!==null&&h.x.categoryFields!==void 0&&h.x.categoryFields.length>=2&&h.clusterBarGap>0&&!h.x._hasMeasure()&&(w=p.width*(o._widthPixels()/h.x._max-L._helpers.xGap(o,h)*2)*(h.clusterBarGap>.99?.99:h.clusterBarGap)/2),w},yGap:function(p,o){var h=0;return(o.y.measure===null||o.y.measure===void 0)&&o.barGap>0&&(h=p._heightPixels()/o.y._max*(o.barGap>.99?.99:o.barGap)/2),h},yClusterGap:function(p,o,h){var w=0;return h.y.categoryFields!==null&&h.y.categoryFields!==void 0&&h.y.categoryFields.length>=2&&h.clusterBarGap>0&&!h.y._hasMeasure()&&(w=p.height*(o._heightPixels()/h.y._max-L._helpers.yGap(o,h)*2)*(h.clusterBarGap>.99?.99:h.clusterBarGap)/2),w},x:function(p,o,h){var w=0;return h.x._hasTimeField()?w=h.x._scale(p.x)-L._helpers.width(p,o,h)/2:h.x.measure!==null&&h.x.measure!==void 0?w=h.x._scale(p.x):w=h.x._scale(p.x)+L._helpers.xGap(o,h)+p.xOffset*(L._helpers.width(p,o,h)+2*L._helpers.xClusterGap(p,o,h))+L._helpers.xClusterGap(p,o,h),w},y:function(p,o,h){var w=0;return h.y._hasTimeField()?w=h.y._scale(p.y)-L._helpers.height(p,o,h)/2:h.y.measure!==null&&h.y.measure!==void 0?w=h.y._scale(p.y):w=h.y._scale(p.y)-o._heightPixels()/h.y._max+L._helpers.yGap(o,h)+p.yOffset*(L._helpers.height(p,o,h)+2*L._helpers.yClusterGap(p,o,h))+L._helpers.yClusterGap(p,o,h),w},width:function(p,o,h){var w=0;return h.x.measure!==null&&h.x.measure!==void 0?w=Math.abs(h.x._scale(p.x<0?p.x-p.width:p.x+p.width)-h.x._scale(p.x)):h.x._hasTimeField()?w=h.x.floatingBarWidth:w=p.width*(o._widthPixels()/h.x._max-L._helpers.xGap(o,h)*2)-L._helpers.xClusterGap(p,o,h)*2,w},height:function(p,o,h){var w=0;return h.y._hasTimeField()?w=h.y.floatingBarWidth:h.y.measure!==null&&h.y.measure!==void 0?w=Math.abs(h.y._scale(p.y)-h.y._scale(p.y<=0?p.y+p.height:p.y-p.height)):w=p.height*(o._heightPixels()/h.y._max-L._helpers.yGap(o,h)*2)-L._helpers.yClusterGap(p,o,h)*2,w},opacity:function(p,o,h){var w=0;return h.c!==null&&h.c!==void 0?w=p.opacity:w=o.getColor(p.aggField.slice(-1)[0]).opacity,w},fill:function(p,o,h){var w=0;return h.c!==null&&h.c!==void 0?w=p.fill:w=o.getColor(p.aggField.slice(-1)[0]).fill,w},stroke:function(p,o,h){var w=0;return h.c!==null&&h.c!==void 0?w=p.stroke:w=o.getColor(p.aggField.slice(-1)[0]).stroke,w},css:function(p,o){return o.getClass(p.aggField.slice(-1)[0])}};L._interpolate=function(p,o){if(p&&o){if(Object.prototype.toString.call(o)==="[object String]")switch(o){case"linear":o=pt.curveLinear;break;case"linear-closed":o=pt.curveLinearClosed;break;case"step":o=pt.curveStep;break;case"step-before":o=pt.curveStepBefore;break;case"step-after":o=pt.curveStepAfter;break;case"basis":o=pt.curveBasis;break;case"basis-open":o=pt.curveBasisOpen;break;case"basis-closed":o=pt.curveBasisClosed;break;case"bundle":o=pt.curveBundle;break;case"cardinal":o=pt.curveCardinal;break;case"cardinal-open":o=pt.curveCardinalOpen;break;case"cardinal-closed":o=pt.curveCardinalClosed;break;case"monotone":o=pt.curveMonotoneX;break}p.curve(o)}};L._parentHeight=function(p){var o=p.getBoundingClientRect().height;return(!o||o<0)&&(o=p.clientHeight),o};L._parentWidth=function(p){var o=p.getBoundingClientRect().width;return(!o||o<0)&&(o=p.clientWidth),o};L._parsePosition=function(p,o){var h=0,w;return p&&(w=p.toString().split(","),w.forEach(function(v){v&&(isNaN(v)?v.slice(-1)==="%"?h+=o*(parseFloat(v.slice(0,v.length-1))/100):v.slice(-2)==="px"?h+=parseFloat(v.slice(0,v.length-2)):h=p:h+=parseFloat(v))},this)),h<0&&(h=o+h),h};L._parseXPosition=function(p,o){return L._parsePosition(p,L._parentWidth(o))};L._parseYPosition=function(p,o){return L._parsePosition(p,L._parentHeight(o))};L._postDrawHandling=function(p,o,h,w){w===0?(o.each(function(v,z){p.afterDraw&&p.afterDraw(this,v,z)}),h.remove()):(o.on("end",function(v,z){p.afterDraw&&p.afterDraw(this,v,z)}),h.call(function(){p.shapes&&p.shapes.exit().remove()}))};L._removeTooltip=function(p,o,h,w){h._tooltipGroup&&h._tooltipGroup.remove()};L._rollUp=function(p,o,h){var w=[];return o!=null?o=[].concat(o):o=[],p.forEach(function(v){var z=-1,B={},T=!0;w.forEach(function(D,R){z===-1&&(T=!0,o.forEach(function(M){T=T&&v[M]===D[M]},this),T&&(z=R))},this),z!==-1?B=w[z]:(o.forEach(function(D){B[D]=v[D]},this),w.push(B),z=w.length-1),h.forEach(function(D){o.indexOf(D)===-1&&(B[D]===void 0&&(B[D]=[]),B[D]=B[D].concat(v[D]))},this),w[z]=B},this),w};L._showBarTooltip=function(p,o,h,w){var v=5,z=10,B=750,T=pt.select(o),D=T.node().getBBox().x,R=T.node().getBBox().y,M=T.node().getBBox().width,I=T.node().getBBox().height,k=T.attr("opacity"),N=T.attr("fill"),C=w._dropLineOrigin(),q=pt.rgb(pt.rgb(N).r+.6*(255-pt.rgb(N).r),pt.rgb(N).g+.6*(255-pt.rgb(N).g),pt.rgb(N).b+.6*(255-pt.rgb(N).b)),G=pt.rgb(pt.rgb(N).r+.8*(255-pt.rgb(N).r),pt.rgb(N).g+.8*(255-pt.rgb(N).g),pt.rgb(N).b+.8*(255-pt.rgb(N).b)),et,rt,vt=w.getTooltipText(p),Ft=0,dt=0,ut=0,Mt,Gt,Nt,qt,ce=function($t,Et){var ee=T.node().getCTM(),le=h.svg.node().createSVGPoint();return le.x=$t||0,le.y=Et||0,le.matrixTransform(ee)};h._tooltipGroup!==null&&h._tooltipGroup!==void 0&&h._tooltipGroup.remove(),h._tooltipGroup=h.svg.append("g"),w.p||(qt=w._isStacked()?1:M/2,!w.x._hasCategories()&&C.y!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<w.x._origin?D+qt:D+M-qt).attr("y1",R<C.y?R+I:R).attr("x2",D<w.x._origin?D+qt:D+M-qt).attr("y2",R<C.y?R+I:R).call(function($t){h.noFormats||$t.style("fill","none").style("stroke",N).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",k)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("y2",R<C.y?C.y-1:C.y+1),qt=w._isStacked()?1:I/2,!w.y._hasCategories()&&C.x!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<C.x?D+M:D).attr("y1",R<w.y._origin?R+qt:R+I-qt).attr("x2",D<C.x?D+M:D).attr("y2",R<w.y._origin?R+qt:R+I-qt).call(function($t){h.noFormats||$t.style("fill","none").style("stroke",N).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",k)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("x2",D<C.x?C.x-1:C.x+1)),et=h._tooltipGroup.append("g"),rt=et.append("rect").attr("class","dimple-tooltip "+h.customClassList.tooltipBox),et.selectAll(".dimple-dont-select-any").data(vt).enter().append("text").attr("class","dimple-tooltip "+h.customClassList.tooltipLabel).text(function($t){return $t}).call(function($t){h.noFormats||$t.style("font-family",w.tooltipFontFamily).style("font-size",w._getTooltipFontSize())}),et.each(function(){dt=this.getBBox().width>dt?this.getBBox().width:dt,ut=this.getBBox().width>ut?this.getBBox().height:ut}),et.selectAll("text").attr("x",0).attr("y",function(){return Ft+=this.getBBox().height,Ft-this.getBBox().height/2}),rt.attr("x",-v).attr("y",-v).attr("height",Math.floor(Ft+v)-.5).attr("width",dt+2*v).attr("rx",5).attr("ry",5).call(function($t){h.noFormats||$t.style("fill",G).style("stroke",q).style("stroke-width",2).style("opacity",.95)}),ce(D+M+v+z+dt).x<parseFloat(h.svg.node().getBBox().width)?(Mt=D+M+v+z,Gt=R+I/2-(Ft-(ut-v))/2):ce(D-(v+z+dt)).x>0?(Mt=D-(v+z+dt),Gt=R+I/2-(Ft-(ut-v))/2):ce(0,R+I+Ft+z+v).y<parseFloat(h.svg.node().getBBox().height)?(Mt=D+M/2-(2*v+dt)/2,Mt=Mt>0?Mt:z,Mt=Mt+dt<parseFloat(h.svg.node().getBBox().width)?Mt:parseFloat(h.svg.node().getBBox().width)-dt-z,Gt=R+I+2*v):(Mt=D+M/2-(2*v+dt)/2,Mt=Mt>0?Mt:z,Mt=Mt+dt<parseFloat(h.svg.node().getBBox().width)?Mt:parseFloat(h.svg.node().getBBox().width)-dt-z,Gt=R-Ft-(ut-v)),Nt=ce(Mt,Gt),et.attr("transform","translate("+Nt.x+" , "+Nt.y+")")};L._showPointTooltip=function(p,o,h,w){var v=5,z=10,B=750,T=pt.select(o),D=parseFloat(T.attr("cx")),R=parseFloat(T.attr("cy")),M=parseFloat(T.attr("r")),I=L._helpers.opacity(p,h,w),k=T.attr("stroke"),N=w._dropLineOrigin(),C=pt.rgb(pt.rgb(k).r+.6*(255-pt.rgb(k).r),pt.rgb(k).g+.6*(255-pt.rgb(k).g),pt.rgb(k).b+.6*(255-pt.rgb(k).b)),q=pt.rgb(pt.rgb(k).r+.8*(255-pt.rgb(k).r),pt.rgb(k).g+.8*(255-pt.rgb(k).g),pt.rgb(k).b+.8*(255-pt.rgb(k).b)),G=0,et=0,rt=0,vt,Ft,dt=w.getTooltipText(p),ut,Mt;h._tooltipGroup!==null&&h._tooltipGroup!==void 0&&h._tooltipGroup.remove(),h._tooltipGroup=h.svg.append("g"),h._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+h.customClassList.lineMarkerCircle).attr("cx",D).attr("cy",R).attr("r",M).call(function(Gt){h.noFormats||Gt.attr("opacity",0).style("fill","none").style("stroke",k).style("stroke-width",1)}).transition().duration(B/2).ease(pt.easeLinear).attr("r",M+w.lineWeight+2).call(function(Gt){h.noFormats||Gt.attr("opacity",1).style("stroke-width",2)}),N.y!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D).attr("y1",R<N.y?R+M+w.lineWeight+2:R-M-w.lineWeight-2).attr("x2",D).attr("y2",R<N.y?R+M+w.lineWeight+2:R-M-w.lineWeight-2).call(function(Gt){h.noFormats||Gt.style("fill","none").style("stroke",k).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("y2",R<N.y?N.y-1:N.y+1),N.x!==null&&h._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+h.customClassList.tooltipDropLine).attr("x1",D<N.x?D+M+w.lineWeight+2:D-M-w.lineWeight-2).attr("y1",R).attr("x2",D<N.x?D+M+w.lineWeight+2:D-M-w.lineWeight-2).attr("y2",R).call(function(Gt){h.noFormats||Gt.style("fill","none").style("stroke",k).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(B/2).duration(B/2).ease(pt.easeLinear).attr("x2",D<N.x?N.x-1:N.x+1),vt=h._tooltipGroup.append("g"),Ft=vt.append("rect").attr("class","dimple-tooltip "+h.customClassList.tooltipBox),vt.selectAll(".dont-select-any").data(dt).enter().append("text").attr("class","dimple-tooltip "+h.customClassList.tooltipLabel).text(function(Gt){return Gt}).call(function(Gt){h.noFormats||Gt.style("font-family",w.tooltipFontFamily).style("font-size",w._getTooltipFontSize())}),vt.each(function(){et=this.getBBox().width>et?this.getBBox().width:et,rt=this.getBBox().width>rt?this.getBBox().height:rt}),vt.selectAll("text").attr("x",0).attr("y",function(){return G+=this.getBBox().height,G-this.getBBox().height/2}),Ft.attr("x",-v).attr("y",-v).attr("height",Math.floor(G+v)-.5).attr("width",et+2*v).attr("rx",5).attr("ry",5).call(function(Gt){h.noFormats||Gt.style("fill",q).style("stroke",C).style("stroke-width",2).style("opacity",.95)}),D+M+v+z+et<parseFloat(h.svg.node().getBBox().width)?(ut=D+M+v+z,Mt=R-(G-(rt-v))/2):D-M-(v+z+et)>0?(ut=D-M-(v+z+et),Mt=R-(G-(rt-v))/2):R+M+G+z+v<parseFloat(h.svg.node().getBBox().height)?(ut=D-(2*v+et)/2,ut=ut>0?ut:z,ut=ut+et<parseFloat(h.svg.node().getBBox().width)?ut:parseFloat(h.svg.node().getBBox().width)-et-z,Mt=R+M+2*v):(ut=D-(2*v+et)/2,ut=ut>0?ut:z,ut=ut+et<parseFloat(h.svg.node().getBBox().width)?ut:parseFloat(h.svg.node().getBBox().width)-et-z,Mt=R-G-(rt-v)),vt.attr("transform","translate("+ut+" , "+Mt+")")};L.filterData=function(p,o,h){var w=p;return o!==null&&h!==null&&(h!=null&&(h=[].concat(h)),w=[],p.forEach(function(v){(v[o]===null||h.indexOf([].concat(v[o]).join("/"))>-1)&&w.push(v)},this)),w};L.getUniqueValues=function(p,o){var h=[];return o!=null&&(o=[].concat(o),p.forEach(function(w){var v="";o.forEach(function(z,B){B>0&&(v+="/"),v+=w[z]},this),h.indexOf(v)===-1&&h.push(v)},this)),h};L.newSvg=function(p,o,h){var w=null;if(p==null&&(p="body"),w=pt.select(p),w.empty())throw"The '"+p+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return w.append("svg").attr("width",o).attr("height",h)};const hi=(p,o,h)=>{(p==null||p===void 0)&&(p="body");const w=pt.select(p);if(w.empty())throw"The '"+p+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return w.append("svg").attr("width",o).attr("height",h)},vc=p=>{if(typeof window<"u"){const{pptx:I,resultElement:k,thumbElement:N,onError:C,onLoad:q}=p,G=document.createElement("div");G.setAttribute("class","r-preview-pptx-main"),k.innerHTML="",k.appendChild(G);let et=!1;return new Promise((rt,vt)=>{const Ft=ut=>{if(et)return;const Mt=document.createElement("div"),Gt=document.createElement("style");switch(ut.type){case"slide":Mt.innerHTML=ut.data,G.appendChild(Mt);break;case"pptx-thumb":N&&(N==null||N.setAttribute("src",`data:image/jpeg;base64,${ut.data}`));break;case"slideSize":break;case"globalCSS":Gt.innerHTML=ut.data,G.appendChild(Gt);break;case"Done":et=!0,o(ut.data.charts),q&&q({success:!0,data:ut}),rt(ut.data.time);break;case"WARN":console.warn("PPTX processing warning: ",ut.data);break;case"ERROR":et=!0,console.error("PPTX processing error: ",ut.data),C&&C({success:!1,data:ut}),vt(new Error(ut.data));break}},dt={postMessage};mc(ut=>{dt.postMessage=ut},Ft),dt.postMessage({type:"processPPTX",data:I})}).then(rt=>{const vt=()=>{const Ft=Math.max(...Array.from(G.children).filter(ut=>ut.nodeName==="section").map(ut=>ut.offsetWidth)),dt=G.children[0].offsetWidth;G.setAttribute("style",`transform: scale(${dt/Ft}),transform-origin': 'top left'`)};return vt(),window.addEventListener("resize",vt),z(document.getElementsByClassName("block")),z(document.getElementsByTagName("td")),rt})}function o(I){for(let k=0;k<I.length;k++)w(I[k].data)}function h(I){const k=[],N=[],C=[];return I.forEach((q,G)=>{const et=q.key;C[G]=q.key,q.values.forEach((rt,vt)=>{const Ft=q.xlabels[vt];N[vt]=q.xlabels[vt],k.push({name:Ft,group:et,value:rt.y})})}),{data:k,xLabels:N,groupLabels:C}}function w(I){const k=I.chartID,N=I.chartType,C=I.chartData;let q=[];switch(N){case"lineChart":{const{data:G,xLabels:et,groupLabels:rt}=h(C);q=G;const vt=document.getElementById(k)||document.body,Ft=vt&&hi(`#${k}`,vt.style.width,vt.style.height),dt=new L.chart(Ft,q),ut=dt.addCategoryAxis("x","name");ut.addOrderRule(et),ut.addGroupOrderRule(rt),ut.title=null;const Mt=dt.addMeasureAxis("y","value");Mt.title=null,dt.addSeries("group",L.plot.line),dt.addLegend(60,10,500,20,"right"),dt.draw();break}case"barChart":{const{data:G,xLabels:et,groupLabels:rt}=h(C);q=G;const vt=document.getElementById(k)||document.body,Ft=hi("#"+k,vt.style.width,vt.style.height),dt=new L.chart(Ft,q),ut=dt.addCategoryAxis("x",["name","group"]);ut.addOrderRule(et),ut.addGroupOrderRule(rt),ut.title=null;const Mt=dt.addMeasureAxis("y","value");Mt.title=null,dt.addSeries("group",L.plot.bar),dt.addLegend(60,10,500,20,"right"),dt.draw();break}case"pieChart":case"pie3DChart":{const{data:G,groupLabels:et}=h(C);q=G;const rt=document.getElementById(k)||document.body,vt=hi(`#${k}`,rt.style.width,rt.style.height),Ft=new L.chart(vt,q);Ft.addMeasureAxis("p","value").addOrderRule(et),Ft.addSeries("name",L.plot.pie),Ft.addLegend(50,20,400,300,"left"),Ft.draw();break}case"areaChart":{const{data:G,xLabels:et,groupLabels:rt}=h(C);q=G;const vt=document.getElementById(k)||document.body,Ft=hi("#"+k,vt.style.width,vt.style.height),dt=new L.chart(Ft,q),ut=dt.addCategoryAxis("x","name");ut.addOrderRule(et),ut.addGroupOrderRule(rt),ut.title=null;const Mt=dt.addMeasureAxis("y","value");Mt.title=null,dt.addSeries("group",L.plot.area),dt.addLegend(60,10,500,20,"right"),dt.draw();break}case"scatterChart":{for(let G=0;G<C.length;G++){const et=[];for(let rt=0;rt<C[G].length;rt++)et.push({x:rt,y:C[G][rt]});q.push({key:"data"+(G+1),values:et})}break}}}function v(I,k){const N=[],C=q=>{q.forEach(G=>{G.children.length>0&&C(Array.from(G.children)),Array.from(G.classList).includes(k)&&N.push(G)})};return I.children.length>0&&C(Array.from(I.children)),N}function z(I){const k=Array.from(I);for(let N=0;N<k.length;N++){const C=v(k[N],"numeric-bullet-style");if(C.length>0){let q="",G="",et=0;const rt=[];let vt=0;const Ft=[];for(let dt=0;dt<C.length;dt++){const ut=C[dt].getAttribute("data-bulltname"),Mt=C[dt].getAttribute("data-bulltlvl");et===0?(q=ut,G=Mt,rt[vt]=et,Ft[vt]=ut,et++):ut===q&&Mt===G?(q=ut,G=Mt,et++,rt[vt]=et,Ft[vt]=ut):ut!==q&&Mt===G||ut!==q&&Number(Mt)>Number(G)?(q=ut,G=Mt,vt++,rt[vt]=et,Ft[vt]=ut,et=1):ut!==q&&Number(Mt)<Number(G)&&(q=ut,G=Mt,vt--,et=rt[vt]+1);const Gt=B(Ft[vt],et);C[dt].innerHTML=Gt.toString()}}}}function B(I,k){let N="";switch(I){case"arabicPeriod":N=k+". ";break;case"arabicParenR":N=k+") ";break;case"alphaLcParenR":N=M(k,"lowerCase")+") ";break;case"alphaLcPeriod":N=M(k,"lowerCase")+". ";break;case"alphaUcParenR":N=M(k,"upperCase")+") ";break;case"alphaUcPeriod":N=M(k,"upperCase")+". ";break;case"romanUcPeriod":N=T(k)+". ";break;case"romanLcParenR":N=T(k)+") ";break;case"hebrew2Minus":N=D.format(Number(k))+"-";break;default:N=k}return N}function T(I){if(!+I)return!1;const k=String(+I).split(""),N=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let C="",q=3;for(;q--;)C=(N[+k.pop()+q*10]||"")+C;return new Array(+k.join("")+1).join("M")+C}const D=R([[1e3,""],[400,"×ª"],[300,"×©"],[200,"×¨"],[100,"×§"],[90,"×¦"],[80,"×¤"],[70,"×¢"],[60,"×¡"],[50,"× "],[40,"×"],[30,"×"],[20,"×"],[10,"×"],[9,"×"],[8,"×"],[7,"×"],[6,"×"],[5,"×"],[4,"×"],[3,"×"],[2,"×"],[1,"×"],[/××/,"××´×"],[/××/,"××´×"],[/([×-×ª])([×-×ª])$/,"$1×´$2"],[/^([×-×ª])$/,"$1×³"]]);function R(I){return{format:function(k){let N="";return I.forEach(C=>{const q=C[0];if(parseInt(q.toString())>0)for(;k>=Number(q);k-=Number(q))N+=C[1];else N=N.replace(q.toString(),C[1])}),N}}}function M(I,k){I=Number(I)-1;let N="";return k==="upperCase"?N=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toUpperCase():k==="lowerCase"&&(N=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toLowerCase()),N}};export{vc as renderPptx};

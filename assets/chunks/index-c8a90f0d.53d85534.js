import{g as ek}from"./commonjs-dynamic-modules-2ceabb0b.23156833.js";import{r as nk}from"./jszip.min-97cf7c6a.4dec9da4.js";import{C as Wu}from"./colz-746223ab.12984b03.js";(function(l={},p){typeof exports=="object"&&typeof module<"u"?p(exports):typeof define=="function"&&define.amd?define(["exports"],p):p(l.d3=l.d3||{})})(globalThis,function(l){var p="4.12.0",g=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},C=function(t){return t.length===1&&(t=w(t)),{left:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};function w(t){return function(e,n){return g(t(e),n)}}var D=C(g),L=D.right,P=D.left,R=function(t,e){e==null&&(e=B);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a};function B(t,e){return[t,e]}var x=function(t,e,n){var r=t.length,i=e.length,a=new Array(r*i),o,s,u,c;for(n==null&&(n=B),o=u=0;o<r;++o)for(c=t[o],s=0;s<i;++s,++u)a[u]=n(c,e[s]);return a},I=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},b=function(t){return t===null?NaN:+t},E=function(t,e){var n=t.length,r=0,i=-1,a=0,o,s,u=0;if(e==null)for(;++i<n;)isNaN(o=b(t[i]))||(s=o-a,a+=s/++r,u+=s*(o-a));else for(;++i<n;)isNaN(o=b(e(t[i],i,t)))||(s=o-a,a+=s/++r,u+=s*(o-a));if(r>1)return u/(r-1)},k=function(t,e){var n=E(t,e);return n&&Math.sqrt(n)},V=function(t,e){var n=t.length,r=-1,i,a,o;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=o=i;++r<n;)(i=t[r])!=null&&(a>i&&(a=i),o<i&&(o=i))}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=o=i;++r<n;)(i=e(t[r],r,t))!=null&&(a>i&&(a=i),o<i&&(o=i));return[a,o]},G=Array.prototype,tt=G.slice,gt=G.map,ht=function(t){return function(){return t}},mt=function(t){return t},ot=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a},st=Math.sqrt(50),bt=Math.sqrt(10),$t=Math.sqrt(2),At=function(t,e,n){var r,i=-1,a,o,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),(s=Bt(t,e,n))===0||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(t+i)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(t-i)/s;return r&&o.reverse(),o};function Bt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=st?10:a>=bt?5:a>=$t?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=st?10:a>=bt?5:a>=$t?2:1)}function le(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=st?i*=10:a>=bt?i*=5:a>=$t&&(i*=2),e<t?-i:i}var Zt=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Ft=function(){var t=mt,e=V,n=Zt;function r(i){var a,o=i.length,s,u=new Array(o);for(a=0;a<o;++a)u[a]=t(i[a],a,i);var c=e(u),h=c[0],d=c[1],f=n(u,h,d);Array.isArray(f)||(f=le(h,d,f),f=ot(Math.ceil(h/f)*f,Math.floor(d/f)*f,f));for(var v=f.length;f[0]<=h;)f.shift(),--v;for(;f[v-1]>d;)f.pop(),--v;var y=new Array(v+1),m;for(a=0;a<=v;++a)m=y[a]=[],m.x0=a>0?f[a-1]:h,m.x1=a<v?f[a]:d;for(a=0;a<o;++a)s=u[a],h<=s&&s<=d&&y[L(f,s,0,v)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ht(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:ht([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?ht(tt.call(i)):ht(i),r):n},r},te=function(t,e,n){if(n==null&&(n=b),!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}},ge=function(t,e,n){return t=gt.call(t,b).sort(g),Math.ceil((n-e)/(2*(te(t,.75)-te(t,.25))*Math.pow(t.length,-1/3)))},Ue=function(t,e,n){return Math.ceil((n-e)/(3.5*k(t)*Math.pow(t.length,-1/3)))},In=function(t,e){var n=t.length,r=-1,i,a;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=i;++r<n;)(i=t[r])!=null&&i>a&&(a=i)}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=i;++r<n;)(i=e(t[r],r,t))!=null&&i>a&&(a=i);return a},_e=function(t,e){var n=t.length,r=n,i=-1,a,o=0;if(e==null)for(;++i<n;)isNaN(a=b(t[i]))?--r:o+=a;else for(;++i<n;)isNaN(a=b(e(t[i],i,t)))?--r:o+=a;if(r)return o/r},Fe=function(t,e){var n=t.length,r=-1,i,a=[];if(e==null)for(;++r<n;)isNaN(i=b(t[r]))||a.push(i);else for(;++r<n;)isNaN(i=b(e(t[r],r,t)))||a.push(i);return te(a.sort(g),.5)},un=function(t){for(var e=t.length,n,r=-1,i=0,a,o;++r<e;)i+=t[r].length;for(a=new Array(i);--e>=0;)for(o=t[e],n=o.length;--n>=0;)a[--i]=o[n];return a},_t=function(t,e){var n=t.length,r=-1,i,a;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=i;++r<n;)(i=t[r])!=null&&a>i&&(a=i)}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=i;++r<n;)(i=e(t[r],r,t))!=null&&a>i&&(a=i);return a},ue=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},fe=function(t,e){if(n=t.length){var n,r=0,i=0,a,o=t[i];for(e==null&&(e=g);++r<n;)(e(a=t[r],o)<0||e(o,o)!==0)&&(o=a,i=r);if(e(o,o)===0)return i}},Se=function(t,e,n){for(var r=(n??t.length)-(e=e==null?0:+e),i,a;r;)a=Math.random()*r--|0,i=t[r+e],t[r+e]=t[a+e],t[a+e]=i;return t},Be=function(t,e){var n=t.length,r=-1,i,a=0;if(e==null)for(;++r<n;)(i=+t[r])&&(a+=i);else for(;++r<n;)(i=+e(t[r],r,t))&&(a+=i);return a},Ne=function(t){if(!(a=t.length))return[];for(var e=-1,n=_t(t,Le),r=new Array(n);++e<n;)for(var i=-1,a,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r};function Le(t){return t.length}var yt=function(){return Ne(arguments)},Gt=Array.prototype.slice,ce=function(t){return t},ie=1,re=2,pe=3,Dt=4,Ye=1e-6;function yr(t){return"translate("+(t+.5)+",0)"}function nr(t){return"translate(0,"+(t+.5)+")"}function Or(t){return function(e){return+t(e)}}function Oe(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function He(){return!this.__axis}function hn(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u=t===ie||t===Dt?-1:1,c=t===Dt||t===re?"x":"y",h=t===ie||t===pe?yr:nr;function d(f){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):ce),m=Math.max(a,0)+s,_=e.range(),S=+_[0]+.5,O=+_[_.length-1]+.5,T=(e.bandwidth?Oe:Or)(e.copy()),z=f.selection?f.selection():f,j=z.selectAll(".domain").data([null]),et=z.selectAll(".tick").data(v,e).order(),Z=et.exit(),lt=et.enter().append("g").attr("class","tick"),J=et.select("line"),xt=et.select("text");j=j.merge(j.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),et=et.merge(lt),J=J.merge(lt.append("line").attr("stroke","#000").attr(c+"2",u*a)),xt=xt.merge(lt.append("text").attr("fill","#000").attr(c,u*m).attr("dy",t===ie?"0em":t===pe?"0.71em":"0.32em")),f!==z&&(j=j.transition(f),et=et.transition(f),J=J.transition(f),xt=xt.transition(f),Z=Z.transition(f).attr("opacity",Ye).attr("transform",function(vt){return isFinite(vt=T(vt))?h(vt):this.getAttribute("transform")}),lt.attr("opacity",Ye).attr("transform",function(vt){var ut=this.parentNode.__axis;return h(ut&&isFinite(ut=ut(vt))?ut:T(vt))})),Z.remove(),j.attr("d",t===Dt||t==re?"M"+u*o+","+S+"H0.5V"+O+"H"+u*o:"M"+S+","+u*o+"V0.5H"+O+"V"+u*o),et.attr("opacity",1).attr("transform",function(vt){return h(T(vt))}),J.attr(c+"2",u*a),xt.attr(c,u*m).text(y),z.filter(He).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===re?"start":t===Dt?"end":"middle"),z.each(function(){this.__axis=T})}return d.scale=function(f){return arguments.length?(e=f,d):e},d.ticks=function(){return n=Gt.call(arguments),d},d.tickArguments=function(f){return arguments.length?(n=f==null?[]:Gt.call(f),d):n.slice()},d.tickValues=function(f){return arguments.length?(r=f==null?null:Gt.call(f),d):r&&r.slice()},d.tickFormat=function(f){return arguments.length?(i=f,d):i},d.tickSize=function(f){return arguments.length?(a=o=+f,d):a},d.tickSizeInner=function(f){return arguments.length?(a=+f,d):a},d.tickSizeOuter=function(f){return arguments.length?(o=+f,d):o},d.tickPadding=function(f){return arguments.length?(s=+f,d):s},d}function mi(t){return hn(ie,t)}function W(t){return hn(re,t)}function rr(t){return hn(pe,t)}function Sa(t){return hn(Dt,t)}var Dn={value:function(){}};function bn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n)throw new Error("illegal type: "+r);n[r]=[]}return new $r(n)}function $r(t){this._=t}function ps(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$r.prototype=bn.prototype={constructor:$r,on:function(t,e){var n=this._,r=ps(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=vs(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=Ta(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ta(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $r(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function vs(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ta(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Dn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var M="http://www.w3.org/1999/xhtml",$={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},F=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),$.hasOwnProperty(e)?{space:$[e],local:t}:t};function U(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===M&&e.documentElement.namespaceURI===M?e.createElement(t):e.createElementNS(n,t)}}function Y(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var K=function(t){var e=F(t);return(e.local?Y:U)(e)},nt=0;function it(){return new rt}function rt(){this._="@"+(++nt).toString(36)}rt.prototype=it.prototype={constructor:rt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ct=function(t){return function(){return this.matches(t)}};if(typeof document<"u"){var dt=document.documentElement;if(!dt.matches){var Et=dt.webkitMatchesSelector||dt.msMatchesSelector||dt.mozMatchesSelector||dt.oMatchesSelector;ct=function(t){return function(){return Et.call(this,t)}}}}var Rt=ct,pt={};if(l.event=null,typeof document<"u"){var Q=document.documentElement;"onmouseenter"in Q||(pt={mouseenter:"mouseover",mouseleave:"mouseout"})}function St(t,e,n){return t=Tt(t,e,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function Tt(t,e,n){return function(r){var i=l.event;l.event=r;try{t.call(this,this.__data__,e,n)}finally{l.event=i}}}function zt(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function jt(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):e[++r]=a;++r?e.length=r:delete this.__on}}}function q(t,e,n){var r=pt.hasOwnProperty(t.type)?St:Tt;return function(i,a,o){var s=this.__on,u,c=r(e,a,o);if(s){for(var h=0,d=s.length;h<d;++h)if((u=s[h]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),u.value=e;return}}this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(u):this.__on=[u]}}var H=function(t,e,n){var r=zt(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,h;u<c;++u)for(i=0,h=s[u];i<a;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(s=e?q:jt,n==null&&(n=!1),i=0;i<a;++i)this.each(s(r[i],e,n));return this};function at(t,e,n,r){var i=l.event;t.sourceEvent=l.event,l.event=t;try{return e.apply(n,r)}finally{l.event=i}}var Wt=function(){for(var t=l.event,e;e=t.sourceEvent;)t=e;return t},Ht=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Vt=function(t){var e=Wt();return e.changedTouches&&(e=e.changedTouches[0]),Ht(t,e)};function Jt(){}var ee=function(t){return t==null?Jt:function(){return this.querySelector(t)}},Nt=function(t){typeof t!="function"&&(t=ee(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,c,h=0;h<o;++h)(u=a[h])&&(c=t.call(u,u.__data__,h,a))&&("__data__"in u&&(c.__data__=u.__data__),s[h]=c);return new tn(r,this._parents)};function Lt(){return[]}var Pt=function(t){return t==null?Lt:function(){return this.querySelectorAll(t)}},se=function(t){typeof t!="function"&&(t=Pt(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,c=0;c<s;++c)(u=o[c])&&(r.push(t.call(u,u.__data__,c,o)),i.push(u));return new tn(r,i)},Ct=function(t){typeof t!="function"&&(t=Rt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&s.push(u);return new tn(r,this._parents)},Te=function(t){return new Array(t.length)},ae=function(){return new tn(this._enter||this._groups.map(Te),this._parents)};function Ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ae.prototype={constructor:Ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var An=function(t){return function(){return t}},Vr="$";function dn(t,e,n,r,i,a){for(var o=0,s,u=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Ae(t,a[o]);for(;o<u;++o)(s=e[o])&&(i[o]=s)}function cn(t,e,n,r,i,a,o){var s,u,c={},h=e.length,d=a.length,f=new Array(h),v;for(s=0;s<h;++s)(u=e[s])&&(f[s]=v=Vr+o.call(u,u.__data__,s,e),v in c?i[s]=u:c[v]=u);for(s=0;s<d;++s)v=Vr+o.call(t,a[s],s,a),(u=c[v])?(r[s]=u,u.__data__=a[s],c[v]=null):n[s]=new Ae(t,a[s]);for(s=0;s<h;++s)(u=e[s])&&c[f[s]]===u&&(i[s]=u)}var Pn=function(t,e){if(!t)return v=new Array(this.size()),c=-1,this.each(function(et){v[++c]=et}),v;var n=e?cn:dn,r=this._parents,i=this._groups;typeof t!="function"&&(t=An(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),c=0;c<a;++c){var h=r[c],d=i[c],f=d.length,v=t.call(h,h&&h.__data__,c,r),y=v.length,m=s[c]=new Array(y),_=o[c]=new Array(y),S=u[c]=new Array(f);n(h,d,m,_,S,v,e);for(var O=0,T=0,z,j;O<y;++O)if(z=m[O]){for(O>=T&&(T=O+1);!(j=_[T])&&++T<y;);z._next=j||null}}return o=new tn(o,r),o._enter=s,o._exit=u,o},Je=function(){return new tn(this._exit||this._groups.map(Te),this._parents)},mr=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],c=n[s],h=u.length,d=o[s]=new Array(h),f,v=0;v<h;++v)(f=u[v]||c[v])&&(d[v]=f);for(;s<r;++s)o[s]=e[s];return new tn(o,this._parents)},xn=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this},Hn=function(t){t||(t=Fn);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),c,h=0;h<s;++h)(c=o[h])&&(u[h]=c);u.sort(e)}return new tn(i,this._parents).order()};function Fn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var _r=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},_i=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},ys=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},ms=function(){var t=0;return this.each(function(){++t}),t},Hd=function(){return!this.node()},Xd=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this};function Wd(t){return function(){this.removeAttribute(t)}}function qd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jd(t,e){return function(){this.setAttribute(t,e)}}function Zd(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kd(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Qd(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Jd=function(t,e){var n=F(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?qd:Wd:typeof e=="function"?n.local?Qd:Kd:n.local?Zd:jd)(n,e))},_s=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function tg(t){return function(){this.style.removeProperty(t)}}function eg(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ng(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var rg=function(t,e,n){return arguments.length>1?this.each((e==null?tg:typeof e=="function"?ng:eg)(t,e,n??"")):wr(this.node(),t)};function wr(t,e){return t.style.getPropertyValue(e)||_s(t).getComputedStyle(t,null).getPropertyValue(e)}function ig(t){return function(){delete this[t]}}function ag(t,e){return function(){this[t]=e}}function og(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}var sg=function(t,e){return arguments.length>1?this.each((e==null?ig:typeof e=="function"?og:ag)(t,e)):this.node()[t]};function ju(t){return t.trim().split(/^|\s+/)}function ws(t){return t.classList||new Zu(t)}function Zu(t){this._node=t,this._names=ju(t.getAttribute("class")||"")}Zu.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ku(t,e){for(var n=ws(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Qu(t,e){for(var n=ws(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function lg(t){return function(){Ku(this,t)}}function ug(t){return function(){Qu(this,t)}}function cg(t,e){return function(){(e.apply(this,arguments)?Ku:Qu)(this,t)}}var fg=function(t,e){var n=ju(t+"");if(arguments.length<2){for(var r=ws(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?cg:e?lg:ug)(n,e))};function hg(){this.textContent=""}function dg(t){return function(){this.textContent=t}}function gg(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}var pg=function(t){return arguments.length?this.each(t==null?hg:(typeof t=="function"?gg:dg)(t)):this.node().textContent};function vg(){this.innerHTML=""}function yg(t){return function(){this.innerHTML=t}}function mg(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}var _g=function(t){return arguments.length?this.each(t==null?vg:(typeof t=="function"?mg:yg)(t)):this.node().innerHTML};function wg(){this.nextSibling&&this.parentNode.appendChild(this)}var bg=function(){return this.each(wg)};function xg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var kg=function(){return this.each(xg)},Cg=function(t){var e=typeof t=="function"?t:K(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function Mg(){return null}var Sg=function(t,e){var n=typeof t=="function"?t:K(t),r=e==null?Mg:typeof e=="function"?e:ee(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})};function Tg(){var t=this.parentNode;t&&t.removeChild(this)}var Ag=function(){return this.each(Tg)},Pg=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};function Ju(t,e,n){var r=_s(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Fg(t,e){return function(){return Ju(this,t,e)}}function Ng(t,e){return function(){return Ju(this,t,e.apply(this,arguments))}}var Eg=function(t,e){return this.each((typeof e=="function"?Ng:Fg)(t,e))},bs=[null];function tn(t,e){this._groups=t,this._parents=e}function br(){return new tn([[document.documentElement]],bs)}tn.prototype=br.prototype={constructor:tn,select:Nt,selectAll:se,filter:Ct,data:Pn,enter:ae,exit:Je,merge:mr,order:xn,sort:Hn,call:_r,nodes:_i,node:ys,size:ms,empty:Hd,each:Xd,attr:Jd,style:rg,property:sg,classed:fg,text:pg,html:_g,raise:bg,lower:kg,append:Cg,insert:Sg,remove:Ag,datum:Pg,on:H,dispatch:Eg};var gn=function(t){return typeof t=="string"?new tn([[document.querySelector(t)]],[document.documentElement]):new tn([[t]],bs)},Lg=function(t){return typeof t=="string"?new tn([document.querySelectorAll(t)],[document.documentElement]):new tn([t??[]],bs)},Aa=function(t,e,n){arguments.length<3&&(n=e,e=Wt().changedTouches);for(var r=0,i=e?e.length:0,a;r<i;++r)if((a=e[r]).identifier===n)return Ht(t,a);return null},Rg=function(t,e){e==null&&(e=Wt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Ht(t,e[n]);return i};function xs(){l.event.stopImmediatePropagation()}var Gr=function(){l.event.preventDefault(),l.event.stopImmediatePropagation()},Pa=function(t){var e=t.document.documentElement,n=gn(t).on("dragstart.drag",Gr,!0);"onselectstart"in e?n.on("selectstart.drag",Gr,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Fa(t,e){var n=t.document.documentElement,r=gn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Gr,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Na=function(t){return function(){return t}};function ks(t,e,n,r,i,a,o,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=c}ks.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ig(){return!l.event.button}function Dg(){return this.parentNode}function Bg(t){return t??{x:l.event.x,y:l.event.y}}function zg(){return"ontouchstart"in this}var Og=function(){var t=Ig,e=Dg,n=Bg,r=zg,i={},a=bn("start","drag","end"),o=0,s,u,c,h,d=0;function f(z){z.on("mousedown.drag",v).filter(r).on("touchstart.drag",_).on("touchmove.drag",S).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(){if(!(h||!t.apply(this,arguments))){var z=T("mouse",e.apply(this,arguments),Vt,this,arguments);z&&(gn(l.event.view).on("mousemove.drag",y,!0).on("mouseup.drag",m,!0),Pa(l.event.view),xs(),c=!1,s=l.event.clientX,u=l.event.clientY,z("start"))}}function y(){if(Gr(),!c){var z=l.event.clientX-s,j=l.event.clientY-u;c=z*z+j*j>d}i.mouse("drag")}function m(){gn(l.event.view).on("mousemove.drag mouseup.drag",null),Fa(l.event.view,c),Gr(),i.mouse("end")}function _(){if(t.apply(this,arguments)){var z=l.event.changedTouches,j=e.apply(this,arguments),et=z.length,Z,lt;for(Z=0;Z<et;++Z)(lt=T(z[Z].identifier,j,Aa,this,arguments))&&(xs(),lt("start"))}}function S(){var z=l.event.changedTouches,j=z.length,et,Z;for(et=0;et<j;++et)(Z=i[z[et].identifier])&&(Gr(),Z("drag"))}function O(){var z=l.event.changedTouches,j=z.length,et,Z;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),et=0;et<j;++et)(Z=i[z[et].identifier])&&(xs(),Z("end"))}function T(z,j,et,Z,lt){var J=et(j,z),xt,vt,ut,N=a.copy();if(at(new ks(f,"beforestart",xt,z,o,J[0],J[1],0,0,N),function(){return(l.event.subject=xt=n.apply(Z,lt))==null?!1:(vt=xt.x-J[0]||0,ut=xt.y-J[1]||0,!0)}))return function X(ft){var wt=J,kt;switch(ft){case"start":i[z]=X,kt=o++;break;case"end":delete i[z],--o;case"drag":J=et(j,z),kt=o;break}at(new ks(f,ft,xt,z,kt,J[0]+vt,J[1]+ut,J[0]-wt[0],J[1]-wt[1],N),N.apply,N,[ft,Z,lt])}}return f.filter=function(z){return arguments.length?(t=typeof z=="function"?z:Na(!!z),f):t},f.container=function(z){return arguments.length?(e=typeof z=="function"?z:Na(z),f):e},f.subject=function(z){return arguments.length?(n=typeof z=="function"?z:Na(z),f):n},f.touchable=function(z){return arguments.length?(r=typeof z=="function"?z:Na(!!z),f):r},f.on=function(){var z=a.on.apply(a,arguments);return z===a?f:z},f.clickDistance=function(z){return arguments.length?(d=(z=+z)*z,f):Math.sqrt(d)},f},Ur=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function wi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ir(){}var xr=.7,Yr=1/xr,Hr="\\s*([+-]?\\d+)\\s*",bi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$g=/^#([0-9a-f]{3})$/,Vg=/^#([0-9a-f]{6})$/,Gg=new RegExp("^rgb\\("+[Hr,Hr,Hr]+"\\)$"),Ug=new RegExp("^rgb\\("+[Bn,Bn,Bn]+"\\)$"),Yg=new RegExp("^rgba\\("+[Hr,Hr,Hr,bi]+"\\)$"),Hg=new RegExp("^rgba\\("+[Bn,Bn,Bn,bi]+"\\)$"),Xg=new RegExp("^hsl\\("+[bi,Bn,Bn]+"\\)$"),Wg=new RegExp("^hsla\\("+[bi,Bn,Bn,bi]+"\\)$"),tc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ur(ir,ar,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}});function ar(t){var e;return t=(t+"").trim().toLowerCase(),(e=$g.exec(t))?(e=parseInt(e[1],16),new We(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1)):(e=Vg.exec(t))?ec(parseInt(e[1],16)):(e=Gg.exec(t))?new We(e[1],e[2],e[3],1):(e=Ug.exec(t))?new We(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yg.exec(t))?nc(e[1],e[2],e[3],e[4]):(e=Hg.exec(t))?nc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xg.exec(t))?rc(e[1],e[2]/100,e[3]/100,1):(e=Wg.exec(t))?rc(e[1],e[2]/100,e[3]/100,e[4]):tc.hasOwnProperty(t)?ec(tc[t]):t==="transparent"?new We(NaN,NaN,NaN,0):null}function ec(t){return new We(t>>16&255,t>>8&255,t&255,1)}function nc(t,e,n,r){return r<=0&&(t=e=n=NaN),new We(t,e,n,r)}function Cs(t){return t instanceof ir||(t=ar(t)),t?(t=t.rgb(),new We(t.r,t.g,t.b,t.opacity)):new We}function xi(t,e,n,r){return arguments.length===1?Cs(t):new We(t,e,n,r??1)}function We(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ur(We,xi,wi(ir,{brighter:function(t){return t=t==null?Yr:Math.pow(Yr,t),new We(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?xr:Math.pow(xr,t),new We(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}}));function rc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zn(t,e,n,r)}function qg(t){if(t instanceof zn)return new zn(t.h,t.s,t.l,t.opacity);if(t instanceof ir||(t=ar(t)),!t)return new zn;if(t instanceof zn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new zn(o,s,u,t.opacity)}function Ea(t,e,n,r){return arguments.length===1?qg(t):new zn(t,e,n,r??1)}function zn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ur(zn,Ea,wi(ir,{brighter:function(t){return t=t==null?Yr:Math.pow(Yr,t),new zn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?xr:Math.pow(xr,t),new zn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new We(Ms(t>=240?t-240:t+120,i,r),Ms(t,i,r),Ms(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));function Ms(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var ic=Math.PI/180,ac=180/Math.PI,La=18,oc=.95047,sc=1,lc=1.08883,uc=4/29,Xr=6/29,cc=3*Xr*Xr,jg=Xr*Xr*Xr;function Ss(t){if(t instanceof Xn)return new Xn(t.l,t.a,t.b,t.opacity);if(t instanceof or){var e=t.h*ic;return new Xn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof We||(t=Cs(t));var n=Fs(t.r),r=Fs(t.g),i=Fs(t.b),a=Ts((.4124564*n+.3575761*r+.1804375*i)/oc),o=Ts((.2126729*n+.7151522*r+.072175*i)/sc),s=Ts((.0193339*n+.119192*r+.9503041*i)/lc);return new Xn(116*o-16,500*(a-o),200*(o-s),t.opacity)}function Ra(t,e,n,r){return arguments.length===1?Ss(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Ur(Xn,Ra,wi(ir,{brighter:function(t){return new Xn(this.l+La*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Xn(this.l-La*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=sc*As(t),e=oc*As(e),n=lc*As(n),new We(Ps(3.2404542*e-1.5371385*t-.4985314*n),Ps(-.969266*e+1.8760108*t+.041556*n),Ps(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}}));function Ts(t){return t>jg?Math.pow(t,1/3):t/cc+uc}function As(t){return t>Xr?t*t*t:cc*(t-uc)}function Ps(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fs(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Zg(t){if(t instanceof or)return new or(t.h,t.c,t.l,t.opacity);t instanceof Xn||(t=Ss(t));var e=Math.atan2(t.b,t.a)*ac;return new or(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ia(t,e,n,r){return arguments.length===1?Zg(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Ur(or,Ia,wi(ir,{brighter:function(t){return new or(this.h,this.c,this.l+La*(t??1),this.opacity)},darker:function(t){return new or(this.h,this.c,this.l-La*(t??1),this.opacity)},rgb:function(){return Ss(this).rgb()}}));var fc=-.14861,Ns=1.78277,Es=-.29227,Da=-.90649,ki=1.97294,hc=ki*Da,dc=ki*Ns,gc=Ns*Es-Da*fc;function Kg(t){if(t instanceof kr)return new kr(t.h,t.s,t.l,t.opacity);t instanceof We||(t=Cs(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(gc*r+hc*e-dc*n)/(gc+hc-dc),a=r-i,o=(ki*(n-i)-Es*a)/Da,s=Math.sqrt(o*o+a*a)/(ki*i*(1-i)),u=s?Math.atan2(o,a)*ac-120:NaN;return new kr(u<0?u+360:u,s,i,t.opacity)}function Nn(t,e,n,r){return arguments.length===1?Kg(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ur(kr,Nn,wi(ir,{brighter:function(t){return t=t==null?Yr:Math.pow(Yr,t),new kr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?xr:Math.pow(xr,t),new kr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ic,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new We(255*(e+n*(fc*r+Ns*i)),255*(e+n*(Es*r+Da*i)),255*(e+n*(ki*r)),this.opacity)}}));function pc(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}var vc=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return pc((n-r/e)*e,o,i,a,s)}},yc=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return pc((n-r/e)*e,i,a,o,s)}},Ba=function(t){return function(){return t}};function mc(t,e){return function(n){return t+n*e}}function Qg(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ls(t,e){var n=e-t;return n?mc(t,n>180||n<-180?n-360*Math.round(n/360):n):Ba(isNaN(t)?e:t)}function Jg(t){return(t=+t)==1?Xe:function(e,n){return n-e?Qg(e,n,t):Ba(isNaN(e)?n:e)}}function Xe(t,e){var n=e-t;return n?mc(t,n):Ba(isNaN(t)?e:t)}var Ci=function t(e){var n=Jg(e);function r(i,a){var o=n((i=xi(i)).r,(a=xi(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),c=Xe(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=u(h),i.opacity=c(h),i+""}}return r.gamma=t,r}(1);function _c(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=xi(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=a(u),s+""}}}var tp=_c(vc),ep=_c(yc),wc=function(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Mi(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}},bc=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},pn=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},xc=function(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mi(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}},Rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Is=new RegExp(Rs.source,"g");function np(t){return function(){return t}}function rp(t){return function(e){return t(e)+""}}var Ds=function(t,e){var n=Rs.lastIndex=Is.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Rs.exec(t))&&(i=Is.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:pn(r,i)})),n=Is.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?rp(u[0].x):np(e):(e=u.length,function(c){for(var h=0,d;h<e;++h)s[(d=u[h]).i]=d.x(c);return s.join("")})},Mi=function(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ba(e):(n==="number"?pn:n==="string"?(r=ar(e))?(e=r,Ci):Ds:e instanceof ar?Ci:e instanceof Date?bc:Array.isArray(e)?wc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xc:pn)(t,e)},kc=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},Cc=180/Math.PI,Bs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Mc=function(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Cc,skewX:Math.atan(u)*Cc,scaleX:o,scaleY:s}},Si,zs,Sc,za;function ip(t){return t==="none"?Bs:(Si||(Si=document.createElement("DIV"),zs=document.documentElement,Sc=document.defaultView),Si.style.transform=t,t=Sc.getComputedStyle(zs.appendChild(Si),null).getPropertyValue("transform"),zs.removeChild(Si),t=t.slice(7,-1).split(","),Mc(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ap(t){return t==null||(za||(za=document.createElementNS("http://www.w3.org/2000/svg","g")),za.setAttribute("transform",t),!(t=za.transform.baseVal.consolidate()))?Bs:(t=t.matrix,Mc(t.a,t.b,t.c,t.d,t.e,t.f))}function Tc(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,h,d,f,v,y){if(c!==d||h!==f){var m=v.push("translate(",null,e,null,n);y.push({i:m-4,x:pn(c,d)},{i:m-2,x:pn(h,f)})}else(d||f)&&v.push("translate("+d+e+f+n)}function o(c,h,d,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:pn(c,h)})):h&&d.push(i(d)+"rotate("+h+r)}function s(c,h,d,f){c!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:pn(c,h)}):h&&d.push(i(d)+"skewX("+h+r)}function u(c,h,d,f,v,y){if(c!==d||h!==f){var m=v.push(i(v)+"scale(",null,",",null,")");y.push({i:m-4,x:pn(c,d)},{i:m-2,x:pn(h,f)})}else(d!==1||f!==1)&&v.push(i(v)+"scale("+d+","+f+")")}return function(c,h){var d=[],f=[];return c=t(c),h=t(h),a(c.translateX,c.translateY,h.translateX,h.translateY,d,f),o(c.rotate,h.rotate,d,f),s(c.skewX,h.skewX,d,f),u(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,f),c=h=null,function(v){for(var y=-1,m=f.length,_;++y<m;)d[(_=f[y]).i]=_.x(v);return d.join("")}}}var Ac=Tc(ip,"px, ","px)","deg)"),Pc=Tc(ap,", ",")",")"),Ti=Math.SQRT2,Os=2,Fc=4,op=1e-12;function Nc(t){return((t=Math.exp(t))+1/t)/2}function sp(t){return((t=Math.exp(t))-1/t)/2}function lp(t){return((t=Math.exp(2*t))-1)/(t+1)}var Ec=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=a-n,c=o-r,h=u*u+c*c,d,f;if(h<op)f=Math.log(s/i)/Ti,d=function(O){return[n+O*u,r+O*c,i*Math.exp(Ti*O*f)]};else{var v=Math.sqrt(h),y=(s*s-i*i+Fc*h)/(2*i*Os*v),m=(s*s-i*i-Fc*h)/(2*s*Os*v),_=Math.log(Math.sqrt(y*y+1)-y),S=Math.log(Math.sqrt(m*m+1)-m);f=(S-_)/Ti,d=function(O){var T=O*f,z=Nc(_),j=i/(Os*v)*(z*lp(Ti*T+_)-sp(_));return[n+j*u,r+j*c,i*z/Nc(Ti*T+_)]}}return d.duration=f*1e3,d};function Lc(t){return function(e,n){var r=t((e=Ea(e)).h,(n=Ea(n)).h),i=Xe(e.s,n.s),a=Xe(e.l,n.l),o=Xe(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=a(s),e.opacity=o(s),e+""}}}var up=Lc(Ls),cp=Lc(Xe);function fp(t,e){var n=Xe((t=Ra(t)).l,(e=Ra(e)).l),r=Xe(t.a,e.a),i=Xe(t.b,e.b),a=Xe(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function Rc(t){return function(e,n){var r=t((e=Ia(e)).h,(n=Ia(n)).h),i=Xe(e.c,n.c),a=Xe(e.l,n.l),o=Xe(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=a(s),e.opacity=o(s),e+""}}}var hp=Rc(Ls),dp=Rc(Xe);function Ic(t){return function e(n){n=+n;function r(i,a){var o=t((i=Nn(i)).h,(a=Nn(a)).h),s=Xe(i.s,a.s),u=Xe(i.l,a.l),c=Xe(i.opacity,a.opacity);return function(h){return i.h=o(h),i.s=s(h),i.l=u(Math.pow(h,n)),i.opacity=c(h),i+""}}return r.gamma=e,r}(1)}var gp=Ic(Ls),Oa=Ic(Xe),pp=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Wr=0,Ai=0,Pi=0,Dc=1e3,$a,Fi,Va=0,Cr=0,Ga=0,Ni=typeof performance=="object"&&performance.now?performance:Date,Bc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qr(){return Cr||(Bc(vp),Cr=Ni.now()+Ga)}function vp(){Cr=0}function Ei(){this._call=this._time=this._next=null}Ei.prototype=Ua.prototype={constructor:Ei,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qr():+n)+(e==null?0:+e),!this._next&&Fi!==this&&(Fi?Fi._next=this:$a=this,Fi=this),this._call=t,this._time=n,$s()},stop:function(){this._call&&(this._call=null,this._time=1/0,$s())}};function Ua(t,e,n){var r=new Ei;return r.restart(t,e,n),r}function zc(){qr(),++Wr;for(var t=$a,e;t;)(e=Cr-t._time)>=0&&t._call.call(null,e),t=t._next;--Wr}function Oc(){Cr=(Va=Ni.now())+Ga,Wr=Ai=0;try{zc()}finally{Wr=0,mp(),Cr=0}}function yp(){var t=Ni.now(),e=t-Va;e>Dc&&(Ga-=e,Va=t)}function mp(){for(var t,e=$a,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$a=n);Fi=t,$s(r)}function $s(t){if(!Wr){Ai&&(Ai=clearTimeout(Ai));var e=t-Cr;e>24?(t<1/0&&(Ai=setTimeout(Oc,t-Ni.now()-Ga)),Pi&&(Pi=clearInterval(Pi))):(Pi||(Va=Ni.now(),Pi=setInterval(yp,Dc)),Wr=1,Bc(Oc))}}var Vs=function(t,e,n){var r=new Ei;return e=e==null?0:+e,r.restart(function(i){r.stop(),t(i+e)},e,n),r},_p=function(t,e,n){var r=new Ei,i=e;return e==null?(r.restart(t,e,n),r):(e=+e,n=n==null?qr():+n,r.restart(function a(o){o+=i,r.restart(a,i+=e,n),t(o)},e,n),r)},wp=bn("start","end","interrupt"),bp=[],$c=0,Gs=1,Ya=2,Us=3,Vc=4,Ys=5,Ha=6,Xa=function(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;xp(t,n,{name:e,index:r,group:i,on:wp,tween:bp,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:$c})};function Hs(t,e){var n=En(t,e);if(n.state>$c)throw new Error("too late; already scheduled");return n}function Mr(t,e){var n=En(t,e);if(n.state>Ya)throw new Error("too late; already started");return n}function En(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function xp(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ua(a,0,n.time);function a(c){n.state=Gs,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,d,f,v;if(n.state!==Gs)return u();for(h in r)if(v=r[h],v.name===n.name){if(v.state===Us)return Vs(o);v.state===Vc?(v.state=Ha,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[h]):+h<e&&(v.state=Ha,v.timer.stop(),delete r[h])}if(Vs(function(){n.state===Us&&(n.state=Vc,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Ya,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ya){for(n.state=Us,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(v=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=v);i.length=d+1}}function s(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ys,1),d=-1,f=i.length;++d<f;)i[d].call(null,h);n.state===Ys&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ha,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}var Sr=function(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>Ya&&r.state<Ys,r.state=Ha,r.timer.stop(),i&&r.on.call("interrupt",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}},kp=function(t){return this.each(function(){Sr(this,t)})};function Cp(t,e){var n,r;return function(){var i=Mr(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Mp(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Mr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}a.tween=i}}var Sp=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=En(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Cp:Mp)(n,t,e))};function Xs(t,e,n){var r=t._id;return t.each(function(){var i=Mr(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return En(i,r).value[e]}}var Gc=function(t,e){var n;return(typeof e=="number"?pn:e instanceof ar?Ci:(n=ar(e))?(e=n,Ci):Ds)(t,e)};function Tp(t){return function(){this.removeAttribute(t)}}function Ap(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pp(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}}function Fp(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}function Np(t,e,n){var r,i,a;return function(){var o,s=n(this);return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),o===s?null:o===r&&s===i?a:a=e(r=o,i=s))}}function Ep(t,e,n){var r,i,a;return function(){var o,s=n(this);return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),o===s?null:o===r&&s===i?a:a=e(r=o,i=s))}}var Lp=function(t,e){var n=F(t),r=n==="transform"?Pc:Gc;return this.attrTween(t,typeof e=="function"?(n.local?Ep:Np)(n,r,Xs(this,"attr."+t,e)):e==null?(n.local?Ap:Tp)(n):(n.local?Fp:Pp)(n,r,e+""))};function Rp(t,e){function n(){var r=this,i=e.apply(r,arguments);return i&&function(a){r.setAttributeNS(t.space,t.local,i(a))}}return n._value=e,n}function Ip(t,e){function n(){var r=this,i=e.apply(r,arguments);return i&&function(a){r.setAttribute(t,i(a))}}return n._value=e,n}var Dp=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=F(t);return this.tween(n,(r.local?Rp:Ip)(r,e))};function Bp(t,e){return function(){Hs(this,t).delay=+e.apply(this,arguments)}}function zp(t,e){return e=+e,function(){Hs(this,t).delay=e}}var Op=function(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bp:zp)(e,t)):En(this.node(),e).delay};function $p(t,e){return function(){Mr(this,t).duration=+e.apply(this,arguments)}}function Vp(t,e){return e=+e,function(){Mr(this,t).duration=e}}var Gp=function(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$p:Vp)(e,t)):En(this.node(),e).duration};function Up(t,e){if(typeof e!="function")throw new Error;return function(){Mr(this,t).ease=e}}var Yp=function(t){var e=this._id;return arguments.length?this.each(Up(e,t)):En(this.node(),e).ease},Hp=function(t){typeof t!="function"&&(t=Rt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&t.call(u,u.__data__,c,a)&&s.push(u);return new On(r,this._parents,this._name,this._id)},Xp=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],c=n[s],h=u.length,d=o[s]=new Array(h),f,v=0;v<h;++v)(f=u[v]||c[v])&&(d[v]=f);for(;s<r;++s)o[s]=e[s];return new On(o,this._parents,this._name,this._id)};function Wp(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qp(t,e,n){var r,i,a=Wp(e)?Hs:Mr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var jp=function(t,e){var n=this._id;return arguments.length<2?En(this.node(),n).on.on(t):this.each(qp(n,t,e))};function Zp(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var Kp=function(){return this.on("end.remove",Zp(this._id))},Qp=function(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ee(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,c=a[o]=new Array(u),h,d,f=0;f<u;++f)(h=s[f])&&(d=t.call(h,h.__data__,f,s))&&("__data__"in h&&(d.__data__=h.__data__),c[f]=d,Xa(c[f],e,n,f,c,En(h,n)));return new On(a,this._parents,e,n)},Jp=function(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Pt(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],c=u.length,h,d=0;d<c;++d)if(h=u[d]){for(var f=t.call(h,h.__data__,d,u),v,y=En(h,n),m=0,_=f.length;m<_;++m)(v=f[m])&&Xa(v,e,n,m,f,y);a.push(f),o.push(h)}return new On(a,o,e,n)},tv=br.prototype.constructor,ev=function(){return new tv(this._groups,this._parents)};function nv(t,e){var n,r,i;return function(){var a=wr(this,t),o=(this.style.removeProperty(t),wr(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function rv(t){return function(){this.style.removeProperty(t)}}function iv(t,e,n){var r,i;return function(){var a=wr(this,t);return a===n?null:a===r?i:i=e(r=a,n)}}function av(t,e,n){var r,i,a;return function(){var o=wr(this,t),s=n(this);return s==null&&(s=(this.style.removeProperty(t),wr(this,t))),o===s?null:o===r&&s===i?a:a=e(r=o,i=s)}}var ov=function(t,e,n){var r=(t+="")=="transform"?Ac:Gc;return e==null?this.styleTween(t,nv(t,r)).on("end.style."+t,rv(t)):this.styleTween(t,typeof e=="function"?av(t,r,Xs(this,"style."+t,e)):iv(t,r,e+""),n)};function sv(t,e,n){function r(){var i=this,a=e.apply(i,arguments);return a&&function(o){i.style.setProperty(t,a(o),n)}}return r._value=e,r}var lv=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,sv(t,e,n??""))};function uv(t){return function(){this.textContent=t}}function cv(t){return function(){var e=t(this);this.textContent=e??""}}var fv=function(t){return this.tween("text",typeof t=="function"?cv(Xs(this,"text",t)):uv(t==null?"":t+""))},hv=function(){for(var t=this._name,e=this._id,n=Yc(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,c=0;c<s;++c)if(u=o[c]){var h=En(u,e);Xa(u,t,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new On(r,this._parents,t,n)},dv=0;function On(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Uc(t){return br().transition(t)}function Yc(){return++dv}var jr=br.prototype;On.prototype=Uc.prototype={constructor:On,select:Qp,selectAll:Jp,filter:Hp,merge:Xp,selection:ev,transition:hv,call:jr.call,nodes:jr.nodes,node:jr.node,size:jr.size,empty:jr.empty,each:jr.each,on:jp,attr:Lp,attrTween:Dp,style:ov,styleTween:lv,text:fv,remove:Kp,tween:Sp,delay:Op,duration:Gp,ease:Yp};function gv(t){return+t}function pv(t){return t*t}function vv(t){return t*(2-t)}function Hc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function yv(t){return t*t*t}function mv(t){return--t*t*t+1}function Ws(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qs=3,_v=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(qs),wv=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(qs),Xc=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(qs),Wc=Math.PI,qc=Wc/2;function bv(t){return 1-Math.cos(t*qc)}function xv(t){return Math.sin(t*qc)}function jc(t){return(1-Math.cos(Wc*t))/2}function kv(t){return Math.pow(2,10*t-10)}function Cv(t){return 1-Math.pow(2,-10*t)}function Zc(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Mv(t){return 1-Math.sqrt(1-t*t)}function Sv(t){return Math.sqrt(1- --t*t)}function Kc(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var js=4/11,Tv=6/11,Av=8/11,Pv=3/4,Fv=9/11,Nv=10/11,Ev=15/16,Lv=21/22,Rv=63/64,Wa=1/js/js;function Iv(t){return 1-Li(1-t)}function Li(t){return(t=+t)<js?Wa*t*t:t<Av?Wa*(t-=Tv)*t+Pv:t<Nv?Wa*(t-=Fv)*t+Ev:Wa*(t-=Lv)*t+Rv}function Dv(t){return((t*=2)<=1?1-Li(1-t):Li(t-1)+1)/2}var Zs=1.70158,Bv=function t(e){e=+e;function n(r){return r*r*((e+1)*r-e)}return n.overshoot=t,n}(Zs),zv=function t(e){e=+e;function n(r){return--r*r*((e+1)*r+e)+1}return n.overshoot=t,n}(Zs),Qc=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(Zs),Zr=2*Math.PI,Ks=1,Qs=.3,Ov=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zr);function i(a){return e*Math.pow(2,10*--a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return t(a,n*Zr)},i.period=function(a){return t(e,a)},i}(Ks,Qs),Jc=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zr);function i(a){return 1-e*Math.pow(2,-10*(a=+a))*Math.sin((a+r)/n)}return i.amplitude=function(a){return t(a,n*Zr)},i.period=function(a){return t(e,a)},i}(Ks,Qs),$v=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Zr);function i(a){return((a=a*2-1)<0?e*Math.pow(2,10*a)*Math.sin((r-a)/n):2-e*Math.pow(2,-10*a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return t(a,n*Zr)},i.period=function(a){return t(e,a)},i}(Ks,Qs),Js={time:null,delay:0,duration:250,ease:Ws};function Vv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Js.time=qr(),Js;return n}var Gv=function(t){var e,n;t instanceof On?(e=t._id,t=t._name):(e=Yc(),(n=Js).time=qr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,c=0;c<s;++c)(u=o[c])&&Xa(u,t,e,c,o,n||Vv(u,e));return new On(r,this._parents,t,e)};br.prototype.interrupt=kp,br.prototype.transition=Gv;var Uv=[null],Yv=function(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>Gs&&r.name===e)return new On([[t]],Uv,e,+i)}return null},tf=function(t){return function(){return t}},Hv=function(t,e,n){this.target=t,this.type=e,this.selection=n};function ef(){l.event.stopImmediatePropagation()}var qa=function(){l.event.preventDefault(),l.event.stopImmediatePropagation()},nf={name:"drag"},tl={name:"space"},Kr={name:"handle"},Qr={name:"center"},ja={name:"x",handles:["e","w"].map(Ri),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Za={name:"y",handles:["n","s"].map(Ri),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Xv={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ri),input:function(t){return t},output:function(t){return t}},Wn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},rf={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},af={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Wv={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},qv={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ri(t){return{type:t}}function jv(){return!l.event.button}function Zv(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function el(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function nl(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Kv(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Qv(){return rl(ja)}function Jv(){return rl(Za)}var t1=function(){return rl(Xv)};function rl(t){var e=Zv,n=jv,r=bn(o,"start","brush","end"),i=6,a;function o(f){var v=f.property("__brush",d).selectAll(".overlay").data([Ri("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Wn.overlay).merge(v).each(function(){var m=el(this).extent;gn(this).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1])}),f.selectAll(".selection").data([Ri("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Wn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var y=f.selectAll(".handle").data(t.handles,function(m){return m.type});y.exit().remove(),y.enter().append("rect").attr("class",function(m){return"handle handle--"+m.type}).attr("cursor",function(m){return Wn[m.type]}),f.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",h)}o.move=function(f,v){f.selection?f.on("start.brush",function(){u(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){u(this,arguments).end()}).tween("brush",function(){var y=this,m=y.__brush,_=u(y,arguments),S=m.selection,O=t.input(typeof v=="function"?v.apply(this,arguments):v,m.extent),T=Mi(S,O);function z(j){m.selection=j===1&&nl(O)?null:T(j),s.call(y),_.brush()}return S&&O?z:z(1)}):f.each(function(){var y=this,m=arguments,_=y.__brush,S=t.input(typeof v=="function"?v.apply(y,m):v,_.extent),O=u(y,m).beforestart();Sr(y),_.selection=S==null||nl(S)?null:S,s.call(y),O.start().brush().end()})};function s(){var f=gn(this),v=el(this).selection;v?(f.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),f.selectAll(".handle").style("display",null).attr("x",function(y){return y.type[y.type.length-1]==="e"?v[1][0]-i/2:v[0][0]-i/2}).attr("y",function(y){return y.type[0]==="s"?v[1][1]-i/2:v[0][1]-i/2}).attr("width",function(y){return y.type==="n"||y.type==="s"?v[1][0]-v[0][0]+i:i}).attr("height",function(y){return y.type==="e"||y.type==="w"?v[1][1]-v[0][1]+i:i})):f.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(f,v){return f.__brush.emitter||new c(f,v)}function c(f,v){this.that=f,this.args=v,this.state=f.__brush,this.active=0}c.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(f){at(new Hv(o,f,t.output(this.state.selection)),r.apply,r,[f,this.that,this.args])}};function h(){if(l.event.touches){if(l.event.changedTouches.length<l.event.touches.length)return qa()}else if(a)return;if(!n.apply(this,arguments))return;var f=this,v=l.event.target.__data__.type,y=(l.event.metaKey?v="overlay":v)==="selection"?nf:l.event.altKey?Qr:Kr,m=t===Za?null:Wv[v],_=t===ja?null:qv[v],S=el(f),O=S.extent,T=S.selection,z=O[0][0],j,et,Z=O[0][1],lt,J,xt=O[1][0],vt,ut,N=O[1][1],X,ft,wt,kt,Kt,qt=m&&_&&l.event.shiftKey,ye,de,Ce=Vt(f),me=Ce,Me=u(f,arguments).beforestart();v==="overlay"?S.selection=T=[[j=t===Za?z:Ce[0],lt=t===ja?Z:Ce[1]],[vt=t===Za?xt:j,X=t===ja?N:lt]]:(j=T[0][0],lt=T[0][1],vt=T[1][0],X=T[1][1]),et=j,J=lt,ut=vt,ft=X;var we=gn(f).attr("pointer-events","none"),ln=we.selectAll(".overlay").attr("cursor",Wn[v]);if(l.event.touches)we.on("touchmove.brush",Qt,!0).on("touchend.brush touchcancel.brush",Mt,!0);else{var It=gn(l.event.view).on("keydown.brush",Qe,!0).on("keyup.brush",ke,!0).on("mousemove.brush",Qt,!0).on("mouseup.brush",Mt,!0);Pa(l.event.view)}ef(),Sr(f),s.call(f),Me.start();function Qt(){var Pe=Vt(f);qt&&!ye&&!de&&(Math.abs(Pe[0]-me[0])>Math.abs(Pe[1]-me[1])?de=!0:ye=!0),me=Pe,Kt=!0,qa(),ne()}function ne(){var Pe;switch(wt=me[0]-Ce[0],kt=me[1]-Ce[1],y){case tl:case nf:{m&&(wt=Math.max(z-j,Math.min(xt-vt,wt)),et=j+wt,ut=vt+wt),_&&(kt=Math.max(Z-lt,Math.min(N-X,kt)),J=lt+kt,ft=X+kt);break}case Kr:{m<0?(wt=Math.max(z-j,Math.min(xt-j,wt)),et=j+wt,ut=vt):m>0&&(wt=Math.max(z-vt,Math.min(xt-vt,wt)),et=j,ut=vt+wt),_<0?(kt=Math.max(Z-lt,Math.min(N-lt,kt)),J=lt+kt,ft=X):_>0&&(kt=Math.max(Z-X,Math.min(N-X,kt)),J=lt,ft=X+kt);break}case Qr:{m&&(et=Math.max(z,Math.min(xt,j-wt*m)),ut=Math.max(z,Math.min(xt,vt+wt*m))),_&&(J=Math.max(Z,Math.min(N,lt-kt*_)),ft=Math.max(Z,Math.min(N,X+kt*_)));break}}ut<et&&(m*=-1,Pe=j,j=vt,vt=Pe,Pe=et,et=ut,ut=Pe,v in rf&&ln.attr("cursor",Wn[v=rf[v]])),ft<J&&(_*=-1,Pe=lt,lt=X,X=Pe,Pe=J,J=ft,ft=Pe,v in af&&ln.attr("cursor",Wn[v=af[v]])),S.selection&&(T=S.selection),ye&&(et=T[0][0],ut=T[1][0]),de&&(J=T[0][1],ft=T[1][1]),(T[0][0]!==et||T[0][1]!==J||T[1][0]!==ut||T[1][1]!==ft)&&(S.selection=[[et,J],[ut,ft]],s.call(f),Me.brush())}function Mt(){if(ef(),l.event.touches){if(l.event.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500),we.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Fa(l.event.view,Kt),It.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);we.attr("pointer-events","all"),ln.attr("cursor",Wn.overlay),S.selection&&(T=S.selection),nl(T)&&(S.selection=null,s.call(f)),Me.end()}function Qe(){switch(l.event.keyCode){case 16:{qt=m&&_;break}case 18:{y===Kr&&(m&&(vt=ut-wt*m,j=et+wt*m),_&&(X=ft-kt*_,lt=J+kt*_),y=Qr,ne());break}case 32:{(y===Kr||y===Qr)&&(m<0?vt=ut-wt:m>0&&(j=et-wt),_<0?X=ft-kt:_>0&&(lt=J-kt),y=tl,ln.attr("cursor",Wn.selection),ne());break}default:return}qa()}function ke(){switch(l.event.keyCode){case 16:{qt&&(ye=de=qt=!1,ne());break}case 18:{y===Qr&&(m<0?vt=ut:m>0&&(j=et),_<0?X=ft:_>0&&(lt=J),y=Kr,ne());break}case 32:{y===tl&&(l.event.altKey?(m&&(vt=ut-wt*m,j=et+wt*m),_&&(X=ft-kt*_,lt=J+kt*_),y=Qr):(m<0?vt=ut:m>0&&(j=et),_<0?X=ft:_>0&&(lt=J),y=Kr),ln.attr("cursor",Wn[v]),ne());break}default:return}qa()}}function d(){var f=this.__brush||{selection:null};return f.extent=e.apply(this,arguments),f.dim=t,f}return o.extent=function(f){return arguments.length?(e=typeof f=="function"?f:tf([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),o):e},o.filter=function(f){return arguments.length?(n=typeof f=="function"?f:tf(!!f),o):n},o.handleSize=function(f){return arguments.length?(i=+f,o):i},o.on=function(){var f=r.on.apply(r,arguments);return f===r?o:f},o}var of=Math.cos,sf=Math.sin,lf=Math.PI,Ka=lf/2,uf=lf*2,cf=Math.max;function e1(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var n1=function(){var t=0,e=null,n=null,r=null;function i(a){var o=a.length,s=[],u=ot(o),c=[],h=[],d=h.groups=new Array(o),f=new Array(o*o),v,y,m,_,S,O;for(v=0,S=-1;++S<o;){for(y=0,O=-1;++O<o;)y+=a[S][O];s.push(y),c.push(ot(o)),v+=y}for(e&&u.sort(function(xt,vt){return e(s[xt],s[vt])}),n&&c.forEach(function(xt,vt){xt.sort(function(ut,N){return n(a[vt][ut],a[vt][N])})}),v=cf(0,uf-t*o)/v,_=v?t:uf/o,y=0,S=-1;++S<o;){for(m=y,O=-1;++O<o;){var T=u[S],z=c[T][O],j=a[T][z],et=y,Z=y+=j*v;f[z*o+T]={index:T,subindex:z,startAngle:et,endAngle:Z,value:j}}d[T]={index:T,startAngle:m,endAngle:y,value:s[T]},y+=_}for(S=-1;++S<o;)for(O=S-1;++O<o;){var lt=f[O*o+S],J=f[S*o+O];(lt.value||J.value)&&h.push(lt.value<J.value?{source:J,target:lt}:{source:lt,target:J})}return r?h.sort(r):h}return i.padAngle=function(a){return arguments.length?(t=cf(0,a),i):t},i.sortGroups=function(a){return arguments.length?(e=a,i):e},i.sortSubgroups=function(a){return arguments.length?(n=a,i):n},i.sortChords=function(a){return arguments.length?(a==null?r=null:(r=e1(a))._=a,i):r&&r._},i},r1=Array.prototype.slice,il=function(t){return function(){return t}},al=Math.PI,ol=2*al,Tr=1e-6,i1=ol-Tr;function sl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sr(){return new sl}sl.prototype=sr.prototype={constructor:sl,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,u=r-e,c=a-t,h=o-e,d=c*c+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Tr)if(!(Math.abs(h*s-u*c)>Tr)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-a,v=r-o,y=s*s+u*u,m=f*f+v*v,_=Math.sqrt(y),S=Math.sqrt(d),O=i*Math.tan((al-Math.acos((y+d-m)/(2*_*S)))/2),T=O/S,z=O/_;Math.abs(T-1)>Tr&&(this._+="L"+(t+T*c)+","+(e+T*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>c*v)+","+(this._x1=t+z*s)+","+(this._y1=e+z*u)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n;var o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,c=e+s,h=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Tr||Math.abs(this._y1-c)>Tr)&&(this._+="L"+u+","+c),n&&(d<0&&(d=d%ol+ol),d>i1?this._+="A"+n+","+n+",0,1,"+h+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=u)+","+(this._y1=c):d>Tr&&(this._+="A"+n+","+n+",0,"+ +(d>=al)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function a1(t){return t.source}function o1(t){return t.target}function s1(t){return t.radius}function l1(t){return t.startAngle}function u1(t){return t.endAngle}var c1=function(){var t=a1,e=o1,n=s1,r=l1,i=u1,a=null;function o(){var s,u=r1.call(arguments),c=t.apply(this,u),h=e.apply(this,u),d=+n.apply(this,(u[0]=c,u)),f=r.apply(this,u)-Ka,v=i.apply(this,u)-Ka,y=d*of(f),m=d*sf(f),_=+n.apply(this,(u[0]=h,u)),S=r.apply(this,u)-Ka,O=i.apply(this,u)-Ka;if(a||(a=s=sr()),a.moveTo(y,m),a.arc(0,0,d,f,v),(f!==S||v!==O)&&(a.quadraticCurveTo(0,0,_*of(S),_*sf(S)),a.arc(0,0,_,S,O)),a.quadraticCurveTo(0,0,y,m),a.closePath(),s)return a=null,s+""||null}return o.radius=function(s){return arguments.length?(n=typeof s=="function"?s:il(+s),o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:il(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:il(+s),o):i},o.source=function(s){return arguments.length?(t=s,o):t},o.target=function(s){return arguments.length?(e=s,o):e},o.context=function(s){return arguments.length?(a=s??null,o):a},o},kn="$";function Qa(){}Qa.prototype=$n.prototype={constructor:Qa,has:function(t){return kn+t in this},get:function(t){return this[kn+t]},set:function(t,e){return this[kn+t]=e,this},remove:function(t){var e=kn+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===kn&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===kn&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===kn&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===kn&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===kn&&++t;return t},empty:function(){for(var t in this)if(t[0]===kn)return!1;return!0},each:function(t){for(var e in this)e[0]===kn&&t(this[e],e.slice(1),this)}};function $n(t,e){var n=new Qa;if(t instanceof Qa)t.each(function(s,u){n.set(u,s)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}var f1=function(){var t=[],e=[],n,r,i;function a(s,u,c,h){if(u>=t.length)return n!=null&&s.sort(n),r!=null?r(s):s;for(var d=-1,f=s.length,v=t[u++],y,m,_=$n(),S,O=c();++d<f;)(S=_.get(y=v(m=s[d])+""))?S.push(m):_.set(y,[m]);return _.each(function(T,z){h(O,z,a(T,u,c,h))}),O}function o(s,u){if(++u>t.length)return s;var c,h=e[u-1];return r!=null&&u>=t.length?c=s.entries():(c=[],s.each(function(d,f){c.push({key:f,values:o(d,u)})})),h!=null?c.sort(function(d,f){return h(d.key,f.key)}):c}return i={object:function(s){return a(s,0,h1,d1)},map:function(s){return a(s,0,ff,hf)},entries:function(s){return o(a(s,0,ff,hf),0)},key:function(s){return t.push(s),i},sortKeys:function(s){return e[t.length-1]=s,i},sortValues:function(s){return n=s,i},rollup:function(s){return r=s,i}}};function h1(){return{}}function d1(t,e,n){t[e]=n}function ff(){return $n()}function hf(t,e,n){t.set(e,n)}function Ja(){}var Ar=$n.prototype;Ja.prototype=df.prototype={constructor:Ja,has:Ar.has,add:function(t){return t+="",this[kn+t]=t,this},remove:Ar.remove,clear:Ar.clear,values:Ar.keys,size:Ar.size,empty:Ar.empty,each:Ar.each};function df(t,e){var n=new Ja;if(t instanceof Ja)t.each(function(a){n.add(a)});else if(t){var r=-1,i=t.length;if(e==null)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}var g1=function(t){var e=[];for(var n in t)e.push(n);return e},p1=function(t){var e=[];for(var n in t)e.push(t[n]);return e},v1=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},gf={},ll={},ul=34,Ii=10,cl=13;function pf(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}")}function y1(t,e){var n=pf(t);return function(r,i){return e(n(r),i,t)}}function m1(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}var fl=function(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(c,h){var d,f,v=i(c,function(y,m){if(d)return d(y,m-1);f=y,d=h?y1(y,h):pf(y)});return v.columns=f||[],v}function i(c,h){var d=[],f=c.length,v=0,y=0,m,_=f<=0,S=!1;c.charCodeAt(f-1)===Ii&&--f,c.charCodeAt(f-1)===cl&&--f;function O(){if(_)return ll;if(S)return S=!1,gf;var z,j=v,et;if(c.charCodeAt(j)===ul){for(;v++<f&&c.charCodeAt(v)!==ul||c.charCodeAt(++v)===ul;);return(z=v)>=f?_=!0:(et=c.charCodeAt(v++))===Ii?S=!0:et===cl&&(S=!0,c.charCodeAt(v)===Ii&&++v),c.slice(j+1,z-1).replace(/""/g,'"')}for(;v<f;){if((et=c.charCodeAt(z=v++))===Ii)S=!0;else if(et===cl)S=!0,c.charCodeAt(v)===Ii&&++v;else if(et!==n)continue;return c.slice(j,z)}return _=!0,c.slice(j,f)}for(;(m=O())!==ll;){for(var T=[];m!==gf&&m!==ll;)T.push(m),m=O();h&&(T=h(T,y++))==null||d.push(T)}return d}function a(c,h){return h==null&&(h=m1(c)),[h.map(u).join(t)].concat(c.map(function(d){return h.map(function(f){return u(d[f])}).join(t)})).join(`
`)}function o(c){return c.map(s).join(`
`)}function s(c){return c.map(u).join(t)}function u(c){return c==null?"":e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:a,formatRows:o}},to=fl(","),vf=to.parse,_1=to.parseRows,w1=to.format,b1=to.formatRows,eo=fl("	"),yf=eo.parse,x1=eo.parseRows,k1=eo.format,C1=eo.formatRows,M1=function(t,e){var n;t==null&&(t=0),e==null&&(e=0);function r(){var i,a=n.length,o,s=0,u=0;for(i=0;i<a;++i)o=n[i],s+=o.x,u+=o.y;for(s=s/a-t,u=u/a-e,i=0;i<a;++i)o=n[i],o.x-=s,o.y-=u}return r.initialize=function(i){n=i},r.x=function(i){return arguments.length?(t=+i,r):t},r.y=function(i){return arguments.length?(e=+i,r):e},r},$e=function(t){return function(){return t}},lr=function(){return(Math.random()-.5)*1e-6},S1=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return mf(this.cover(e,n),e,n,t)};function mf(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,u=t._y0,c=t._x1,h=t._y1,d,f,v,y,m,_,S,O;if(!a)return t._root=o,t;for(;a.length;)if((m=e>=(d=(s+c)/2))?s=d:c=d,(_=n>=(f=(u+h)/2))?u=f:h=f,i=a,!(a=a[S=_<<1|m]))return i[S]=o,t;if(v=+t._x.call(null,a.data),y=+t._y.call(null,a.data),e===v&&n===y)return o.next=a,i?i[S]=o:t._root=o,t;do i=i?i[S]=new Array(4):t._root=new Array(4),(m=e>=(d=(s+c)/2))?s=d:c=d,(_=n>=(f=(u+h)/2))?u=f:h=f;while((S=_<<1|m)===(O=(y>=f)<<1|v>=d));return i[O]=a,i[S]=o,t}function T1(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),u=1/0,c=1/0,h=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<u&&(u=i),i>h&&(h=i),a<c&&(c=a),a>d&&(d=a));for(h<u&&(u=this._x0,h=this._x1),d<c&&(c=this._y0,d=this._y1),this.cover(u,c).cover(h,d),n=0;n<r;++n)mf(this,o[n],s[n],t[n]);return this}var A1=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else if(n>t||t>i||r>e||e>a){var o=i-n,s=this._root,u,c;switch(c=(e<(r+a)/2)<<1|t<(n+i)/2){case 0:{do u=new Array(4),u[c]=s,s=u;while(o*=2,i=n+o,a=r+o,t>i||e>a);break}case 1:{do u=new Array(4),u[c]=s,s=u;while(o*=2,n=i-o,a=r+o,n>t||e>a);break}case 2:{do u=new Array(4),u[c]=s,s=u;while(o*=2,i=n+o,r=a-o,t>i||r>e);break}case 3:{do u=new Array(4),u[c]=s,s=u;while(o*=2,n=i-o,r=a-o,n>t||r>e);break}}this._root&&this._root.length&&(this._root=s)}else return this;return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},P1=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},F1=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},en=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},N1=function(t,e,n){var r,i=this._x0,a=this._y0,o,s,u,c,h=this._x1,d=this._y1,f=[],v=this._root,y,m;for(v&&f.push(new en(v,i,a,h,d)),n==null?n=1/0:(i=t-n,a=e-n,h=t+n,d=e+n,n*=n);y=f.pop();)if(!(!(v=y.node)||(o=y.x0)>h||(s=y.y0)>d||(u=y.x1)<i||(c=y.y1)<a))if(v.length){var _=(o+u)/2,S=(s+c)/2;f.push(new en(v[3],_,S,u,c),new en(v[2],o,S,_,c),new en(v[1],_,s,u,S),new en(v[0],o,s,_,S)),(m=(e>=S)<<1|t>=_)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=y)}else{var O=t-+this._x.call(null,v.data),T=e-+this._y.call(null,v.data),z=O*O+T*T;if(z<n){var j=Math.sqrt(n=z);i=t-j,a=e-j,h=t+j,d=e+j,r=v.data}}return r},E1=function(t){if(isNaN(h=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,u=this._x1,c=this._y1,h,d,f,v,y,m,_,S;if(!n)return this;if(n.length)for(;;){if((y=h>=(f=(o+u)/2))?o=f:u=f,(m=d>=(v=(s+c)/2))?s=v:c=v,e=n,!(n=n[_=m<<1|y]))return this;if(!n.length)break;(e[_+1&3]||e[_+2&3]||e[_+3&3])&&(r=e,S=_)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[_]=a:delete e[_],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[S]=n:this._root=n),this):(this._root=a,this)};function L1(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}var R1=function(){return this._root},I1=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},D1=function(t){var e=[],n,r=this._root,i,a,o,s,u;for(r&&e.push(new en(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,u=n.y1)&&r.length){var c=(a+s)/2,h=(o+u)/2;(i=r[3])&&e.push(new en(i,c,h,s,u)),(i=r[2])&&e.push(new en(i,a,h,c,u)),(i=r[1])&&e.push(new en(i,c,o,s,h)),(i=r[0])&&e.push(new en(i,a,o,c,h))}return this},B1=function(t){var e=[],n=[],r;for(this._root&&e.push(new en(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,u=r.x1,c=r.y1,h=(o+u)/2,d=(s+c)/2;(a=i[0])&&e.push(new en(a,o,s,h,d)),(a=i[1])&&e.push(new en(a,h,s,u,d)),(a=i[2])&&e.push(new en(a,o,d,h,c)),(a=i[3])&&e.push(new en(a,h,d,u,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this};function z1(t){return t[0]}var O1=function(t){return arguments.length?(this._x=t,this):this._x};function $1(t){return t[1]}var V1=function(t){return arguments.length?(this._y=t,this):this._y};function no(t,e,n){var r=new hl(e??z1,n??$1,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function hl(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function _f(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var nn=no.prototype=hl.prototype;nn.copy=function(){var t=new hl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=_f(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=_f(r));return t},nn.add=S1,nn.addAll=T1,nn.cover=A1,nn.data=P1,nn.extent=F1,nn.find=N1,nn.remove=E1,nn.removeAll=L1,nn.root=R1,nn.size=I1,nn.visit=D1,nn.visitAfter=B1,nn.x=O1,nn.y=V1;function G1(t){return t.x+t.vx}function U1(t){return t.y+t.vy}var Y1=function(t){var e,n,r=1,i=1;typeof t!="function"&&(t=$e(t==null?1:+t));function a(){for(var u,c=e.length,h,d,f,v,y,m,_=0;_<i;++_)for(h=no(e,G1,U1).visitAfter(o),u=0;u<c;++u)d=e[u],y=n[d.index],m=y*y,f=d.x+d.vx,v=d.y+d.vy,h.visit(S);function S(O,T,z,j,et){var Z=O.data,lt=O.r,J=y+lt;if(Z){if(Z.index>d.index){var xt=f-Z.x-Z.vx,vt=v-Z.y-Z.vy,ut=xt*xt+vt*vt;ut<J*J&&(xt===0&&(xt=lr(),ut+=xt*xt),vt===0&&(vt=lr(),ut+=vt*vt),ut=(J-(ut=Math.sqrt(ut)))/ut*r,d.vx+=(xt*=ut)*(J=(lt*=lt)/(m+lt)),d.vy+=(vt*=ut)*J,Z.vx-=xt*(J=1-J),Z.vy-=vt*J)}return}return T>f+J||j<f-J||z>v+J||et<v-J}}function o(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function s(){if(e){var u,c=e.length,h;for(n=new Array(c),u=0;u<c;++u)h=e[u],n[h.index]=+t(h,u,e)}}return a.initialize=function(u){e=u,s()},a.iterations=function(u){return arguments.length?(i=+u,a):i},a.strength=function(u){return arguments.length?(r=+u,a):r},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:$e(+u),s(),a):t},a};function H1(t){return t.index}function wf(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var X1=function(t){var e=H1,n=h,r,i=$e(30),a,o,s,u,c=1;t==null&&(t=[]);function h(m){return 1/Math.min(s[m.source.index],s[m.target.index])}function d(m){for(var _=0,S=t.length;_<c;++_)for(var O=0,T,z,j,et,Z,lt,J;O<S;++O)T=t[O],z=T.source,j=T.target,et=j.x+j.vx-z.x-z.vx||lr(),Z=j.y+j.vy-z.y-z.vy||lr(),lt=Math.sqrt(et*et+Z*Z),lt=(lt-a[O])/lt*m*r[O],et*=lt,Z*=lt,j.vx-=et*(J=u[O]),j.vy-=Z*J,z.vx+=et*(J=1-J),z.vy+=Z*J}function f(){if(o){var m,_=o.length,S=t.length,O=$n(o,e),T;for(m=0,s=new Array(_);m<S;++m)T=t[m],T.index=m,typeof T.source!="object"&&(T.source=wf(O,T.source)),typeof T.target!="object"&&(T.target=wf(O,T.target)),s[T.source.index]=(s[T.source.index]||0)+1,s[T.target.index]=(s[T.target.index]||0)+1;for(m=0,u=new Array(S);m<S;++m)T=t[m],u[m]=s[T.source.index]/(s[T.source.index]+s[T.target.index]);r=new Array(S),v(),a=new Array(S),y()}}function v(){if(o)for(var m=0,_=t.length;m<_;++m)r[m]=+n(t[m],m,t)}function y(){if(o)for(var m=0,_=t.length;m<_;++m)a[m]=+i(t[m],m,t)}return d.initialize=function(m){o=m,f()},d.links=function(m){return arguments.length?(t=m,f(),d):t},d.id=function(m){return arguments.length?(e=m,d):e},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:$e(+m),v(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:$e(+m),y(),d):i},d};function W1(t){return t.x}function q1(t){return t.y}var j1=10,Z1=Math.PI*(3-Math.sqrt(5)),K1=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=$n(),u=Ua(h),c=bn("tick","end");t==null&&(t=[]);function h(){d(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function d(){var y,m=t.length,_;for(n+=(a-n)*i,s.each(function(S){S(n)}),y=0;y<m;++y)_=t[y],_.fx==null?_.x+=_.vx*=o:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=o:(_.y=_.fy,_.vy=0)}function f(){for(var y=0,m=t.length,_;y<m;++y){if(_=t[y],_.index=y,isNaN(_.x)||isNaN(_.y)){var S=j1*Math.sqrt(y),O=y*Z1;_.x=S*Math.cos(O),_.y=S*Math.sin(O)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function v(y){return y.initialize&&y.initialize(t),y}return f(),e={tick:d,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(y){return arguments.length?(t=y,f(),s.each(v),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(a=+y,e):a},velocityDecay:function(y){return arguments.length?(o=1-y,e):1-o},force:function(y,m){return arguments.length>1?(m==null?s.remove(y):s.set(y,v(m)),e):s.get(y)},find:function(y,m,_){var S=0,O=t.length,T,z,j,et,Z;for(_==null?_=1/0:_*=_,S=0;S<O;++S)et=t[S],T=y-et.x,z=m-et.y,j=T*T+z*z,j<_&&(Z=et,_=j);return Z},on:function(y,m){return arguments.length>1?(c.on(y,m),e):c.on(y)}}},Q1=function(){var t,e,n,r=$e(-30),i,a=1,o=1/0,s=.81;function u(f){var v,y=t.length,m=no(t,W1,q1).visitAfter(h);for(n=f,v=0;v<y;++v)e=t[v],m.visit(d)}function c(){if(t){var f,v=t.length,y;for(i=new Array(v),f=0;f<v;++f)y=t[f],i[y.index]=+r(y,f,t)}}function h(f){var v=0,y,m,_=0,S,O,T;if(f.length){for(S=O=T=0;T<4;++T)(y=f[T])&&(m=Math.abs(y.value))&&(v+=y.value,_+=m,S+=m*y.x,O+=m*y.y);f.x=S/_,f.y=O/_}else{y=f,y.x=y.data.x,y.y=y.data.y;do v+=i[y.data.index];while(y=y.next)}f.value=v}function d(f,v,y,m){if(!f.value)return!0;var _=f.x-e.x,S=f.y-e.y,O=m-v,T=_*_+S*S;if(O*O/s<T)return T<o&&(_===0&&(_=lr(),T+=_*_),S===0&&(S=lr(),T+=S*S),T<a&&(T=Math.sqrt(a*T)),e.vx+=_*f.value*n/T,e.vy+=S*f.value*n/T),!0;if(f.length||T>=o)return;(f.data!==e||f.next)&&(_===0&&(_=lr(),T+=_*_),S===0&&(S=lr(),T+=S*S),T<a&&(T=Math.sqrt(a*T)));do f.data!==e&&(O=i[f.data.index]*n/T,e.vx+=_*O,e.vy+=S*O);while(f=f.next)}return u.initialize=function(f){t=f,c()},u.strength=function(f){return arguments.length?(r=typeof f=="function"?f:$e(+f),c(),u):r},u.distanceMin=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.distanceMax=function(f){return arguments.length?(o=f*f,u):Math.sqrt(o)},u.theta=function(f){return arguments.length?(s=f*f,u):Math.sqrt(s)},u},J1=function(t,e,n){var r,i=$e(.1),a,o;typeof t!="function"&&(t=$e(+t)),e==null&&(e=0),n==null&&(n=0);function s(c){for(var h=0,d=r.length;h<d;++h){var f=r[h],v=f.x-e||1e-6,y=f.y-n||1e-6,m=Math.sqrt(v*v+y*y),_=(o[h]-m)*a[h]*c/m;f.vx+=v*_,f.vy+=y*_}}function u(){if(r){var c,h=r.length;for(a=new Array(h),o=new Array(h),c=0;c<h;++c)o[c]=+t(r[c],c,r),a[c]=isNaN(o[c])?0:+i(r[c],c,r)}}return s.initialize=function(c){r=c,u()},s.strength=function(c){return arguments.length?(i=typeof c=="function"?c:$e(+c),u(),s):i},s.radius=function(c){return arguments.length?(t=typeof c=="function"?c:$e(+c),u(),s):t},s.x=function(c){return arguments.length?(e=+c,s):e},s.y=function(c){return arguments.length?(n=+c,s):n},s},ty=function(t){var e=$e(.1),n,r,i;typeof t!="function"&&(t=$e(t==null?0:+t));function a(s){for(var u=0,c=n.length,h;u<c;++u)h=n[u],h.vx+=(i[u]-h.x)*r[u]*s}function o(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:$e(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:$e(+s),o(),a):t},a},ey=function(t){var e=$e(.1),n,r,i;typeof t!="function"&&(t=$e(t==null?0:+t));function a(s){for(var u=0,c=n.length,h;u<c;++u)h=n[u],h.vy+=(i[u]-h.y)*r[u]*s}function o(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:$e(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:$e(+s),o(),a):t},a},ro=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Jr=function(t){return t=ro(Math.abs(t)),t?t[1]:NaN},ny=function(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}},ry=function(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}},iy=function(t,e){t=t.toPrecision(e);t:for(var n=t.length,r=1,i=-1,a;r<n;++r)switch(t[r]){case".":i=a=r;break;case"0":i===0&&(i=r),a=r;break;case"e":break t;default:i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(a+1):t},bf,ay=function(t,e){var n=ro(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(bf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ro(t,Math.max(0,e+a-1))[0]},xf=function(t,e){var n=ro(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},kf={"":iy,"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return xf(t*100,e)},r:xf,s:ay,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},oy=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Di(t){return new dl(t)}Di.prototype=dl.prototype;function dl(t){if(!(e=oy.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),h=e[9]||"";h==="n"?(u=!0,h="g"):kf[h]||(h=""),(o||n==="0"&&r==="=")&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=u,this.precision=c,this.type=h}dl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var Cf=function(t){return t},Mf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Sf=function(t){var e=t.grouping&&t.thousands?ny(t.grouping,t.thousands):Cf,n=t.currency,r=t.decimal,i=t.numerals?ry(t.numerals):Cf,a=t.percent||"%";function o(u){u=Di(u);var c=u.fill,h=u.align,d=u.sign,f=u.symbol,v=u.zero,y=u.width,m=u.comma,_=u.precision,S=u.type,O=f==="$"?n[0]:f==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=f==="$"?n[1]:/[%p]/.test(S)?a:"",z=kf[S],j=!S||/[defgprs%]/.test(S);_=_==null?S?6:12:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function et(Z){var lt=O,J=T,xt,vt,ut;if(S==="c")J=z(Z)+J,Z="";else{Z=+Z;var N=Z<0;if(Z=z(Math.abs(Z),_),N&&+Z==0&&(N=!1),lt=(N?d==="("?d:"-":d==="-"||d==="("?"":d)+lt,J=J+(S==="s"?Mf[8+bf/3]:"")+(N&&d==="("?")":""),j){for(xt=-1,vt=Z.length;++xt<vt;)if(ut=Z.charCodeAt(xt),48>ut||ut>57){J=(ut===46?r+Z.slice(xt+1):Z.slice(xt))+J,Z=Z.slice(0,xt);break}}}m&&!v&&(Z=e(Z,1/0));var X=lt.length+Z.length+J.length,ft=X<y?new Array(y-X+1).join(c):"";switch(m&&v&&(Z=e(ft+Z,ft.length?y-J.length:1/0),ft=""),h){case"<":Z=lt+Z+J+ft;break;case"=":Z=lt+ft+Z+J;break;case"^":Z=ft.slice(0,X=ft.length>>1)+lt+Z+J+ft.slice(X);break;default:Z=ft+lt+Z+J;break}return i(Z)}return et.toString=function(){return u+""},et}function s(u,c){var h=o((u=Di(u),u.type="f",u)),d=Math.max(-8,Math.min(8,Math.floor(Jr(c)/3)))*3,f=Math.pow(10,-d),v=Mf[8+d/3];return function(y){return h(f*y)+v}}return{format:o,formatPrefix:s}},io;Tf({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function Tf(t){return io=Sf(t),l.format=io.format,l.formatPrefix=io.formatPrefix,io}var Af=function(t){return Math.max(0,-Jr(Math.abs(t)))},Pf=function(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jr(e)/3)))*3-Jr(Math.abs(t)))},Ff=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jr(e)-Jr(t))+1},ur=function(){return new ao};function ao(){this.reset()}ao.prototype={constructor:ao,reset:function(){this.s=this.t=0},add:function(t){Nf(oo,t,this.t),Nf(this,oo.s,this.s),this.s?this.t+=oo.t:this.s=oo.t},valueOf:function(){return this.s}};var oo=new ao;function Nf(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var Yt=1e-6,Ef=1e-12,he=Math.PI,ze=he/2,so=he/4,fn=he*2,Ee=180/he,Xt=he/180,ve=Math.abs,ti=Math.atan,rn=Math.atan2,Ut=Math.cos,lo=Math.ceil,Lf=Math.exp,uo=Math.log,gl=Math.pow,Ot=Math.sin,Bi=Math.sign||function(t){return t>0?1:t<0?-1:0},Ve=Math.sqrt,pl=Math.tan;function Rf(t){return t>1?0:t<-1?he:Math.acos(t)}function vn(t){return t>1?ze:t<-1?-ze:Math.asin(t)}function If(t){return(t=Ot(t/2))*t}function Re(){}function co(t,e){t&&Bf.hasOwnProperty(t.type)&&Bf[t.type](t,e)}var Df={Feature:function(t,e){co(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)co(n[r].geometry,e)}},Bf={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){vl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vl(n[r],e,0)},Polygon:function(t,e){zf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)zf(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)co(n[r],e)}};function vl(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function zf(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)vl(t[n],e,1);e.polygonEnd()}var Ln=function(t,e){t&&Df.hasOwnProperty(t.type)?Df[t.type](t,e):co(t,e)},fo=ur(),ho=ur(),Of,$f,yl,ml,_l,Vn={point:Re,lineStart:Re,lineEnd:Re,polygonStart:function(){fo.reset(),Vn.lineStart=sy,Vn.lineEnd=ly},polygonEnd:function(){var t=+fo;ho.add(t<0?fn+t:t),this.lineStart=this.lineEnd=this.point=Re},sphere:function(){ho.add(fn)}};function sy(){Vn.point=uy}function ly(){Vf(Of,$f)}function uy(t,e){Vn.point=Vf,Of=t,$f=e,t*=Xt,e*=Xt,yl=t,ml=Ut(e=e/2+so),_l=Ot(e)}function Vf(t,e){t*=Xt,e*=Xt,e=e/2+so;var n=t-yl,r=n>=0?1:-1,i=r*n,a=Ut(e),o=Ot(e),s=_l*o,u=ml*a+s*Ut(i),c=s*r*Ot(i);fo.add(rn(c,u)),yl=t,ml=a,_l=o}var cy=function(t){return ho.reset(),Ln(t,Vn),ho*2};function go(t){return[rn(t[1],t[0]),vn(t[2])]}function Pr(t){var e=t[0],n=t[1],r=Ut(n);return[r*Ut(e),r*Ot(e),Ot(n)]}function po(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ei(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function wl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function vo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function yo(t){var e=Ve(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ie,yn,De,Cn,Fr,Gf,Uf,ni,zi=ur(),cr,qn,jn={point:bl,lineStart:Hf,lineEnd:Xf,polygonStart:function(){jn.point=Wf,jn.lineStart=fy,jn.lineEnd=hy,zi.reset(),Vn.polygonStart()},polygonEnd:function(){Vn.polygonEnd(),jn.point=bl,jn.lineStart=Hf,jn.lineEnd=Xf,fo<0?(Ie=-(De=180),yn=-(Cn=90)):zi>Yt?Cn=90:zi<-Yt&&(yn=-90),qn[0]=Ie,qn[1]=De}};function bl(t,e){cr.push(qn=[Ie=t,De=t]),e<yn&&(yn=e),e>Cn&&(Cn=e)}function Yf(t,e){var n=Pr([t*Xt,e*Xt]);if(ni){var r=ei(ni,n),i=[r[1],-r[0],0],a=ei(i,r);yo(a),a=go(a);var o=t-Fr,s=o>0?1:-1,u=a[0]*Ee*s,c,h=ve(o)>180;h^(s*Fr<u&&u<s*t)?(c=a[1]*Ee,c>Cn&&(Cn=c)):(u=(u+360)%360-180,h^(s*Fr<u&&u<s*t)?(c=-a[1]*Ee,c<yn&&(yn=c)):(e<yn&&(yn=e),e>Cn&&(Cn=e))),h?t<Fr?mn(Ie,t)>mn(Ie,De)&&(De=t):mn(t,De)>mn(Ie,De)&&(Ie=t):De>=Ie?(t<Ie&&(Ie=t),t>De&&(De=t)):t>Fr?mn(Ie,t)>mn(Ie,De)&&(De=t):mn(t,De)>mn(Ie,De)&&(Ie=t)}else cr.push(qn=[Ie=t,De=t]);e<yn&&(yn=e),e>Cn&&(Cn=e),ni=n,Fr=t}function Hf(){jn.point=Yf}function Xf(){qn[0]=Ie,qn[1]=De,jn.point=bl,ni=null}function Wf(t,e){if(ni){var n=t-Fr;zi.add(ve(n)>180?n+(n>0?360:-360):n)}else Gf=t,Uf=e;Vn.point(t,e),Yf(t,e)}function fy(){Vn.lineStart()}function hy(){Wf(Gf,Uf),Vn.lineEnd(),ve(zi)>Yt&&(Ie=-(De=180)),qn[0]=Ie,qn[1]=De,ni=null}function mn(t,e){return(e-=t)<0?e+360:e}function dy(t,e){return t[0]-e[0]}function qf(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var gy=function(t){var e,n,r,i,a,o,s;if(Cn=De=-(Ie=yn=1/0),cr=[],Ln(t,jn),n=cr.length){for(cr.sort(dy),e=1,r=cr[0],a=[r];e<n;++e)i=cr[e],qf(r,i[0])||qf(r,i[1])?(mn(r[0],i[1])>mn(r[0],r[1])&&(r[1]=i[1]),mn(i[0],r[1])>mn(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(s=mn(r[1],i[0]))>o&&(o=s,Ie=i[0],De=r[1])}return cr=qn=null,Ie===1/0||yn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ie,yn],[De,Cn]]},Oi,mo,_o,wo,bo,xo,ko,Co,xl,kl,Cl,jf,Zf,an,on,sn,Rn={sphere:Re,point:Ml,lineStart:Kf,lineEnd:Qf,polygonStart:function(){Rn.lineStart=yy,Rn.lineEnd=my},polygonEnd:function(){Rn.lineStart=Kf,Rn.lineEnd=Qf}};function Ml(t,e){t*=Xt,e*=Xt;var n=Ut(e);$i(n*Ut(t),n*Ot(t),Ot(e))}function $i(t,e,n){++Oi,_o+=(t-_o)/Oi,wo+=(e-wo)/Oi,bo+=(n-bo)/Oi}function Kf(){Rn.point=py}function py(t,e){t*=Xt,e*=Xt;var n=Ut(e);an=n*Ut(t),on=n*Ot(t),sn=Ot(e),Rn.point=vy,$i(an,on,sn)}function vy(t,e){t*=Xt,e*=Xt;var n=Ut(e),r=n*Ut(t),i=n*Ot(t),a=Ot(e),o=rn(Ve((o=on*a-sn*i)*o+(o=sn*r-an*a)*o+(o=an*i-on*r)*o),an*r+on*i+sn*a);mo+=o,xo+=o*(an+(an=r)),ko+=o*(on+(on=i)),Co+=o*(sn+(sn=a)),$i(an,on,sn)}function Qf(){Rn.point=Ml}function yy(){Rn.point=_y}function my(){Jf(jf,Zf),Rn.point=Ml}function _y(t,e){jf=t,Zf=e,t*=Xt,e*=Xt,Rn.point=Jf;var n=Ut(e);an=n*Ut(t),on=n*Ot(t),sn=Ot(e),$i(an,on,sn)}function Jf(t,e){t*=Xt,e*=Xt;var n=Ut(e),r=n*Ut(t),i=n*Ot(t),a=Ot(e),o=on*a-sn*i,s=sn*r-an*a,u=an*i-on*r,c=Ve(o*o+s*s+u*u),h=vn(c),d=c&&-h/c;xl+=d*o,kl+=d*s,Cl+=d*u,mo+=h,xo+=h*(an+(an=r)),ko+=h*(on+(on=i)),Co+=h*(sn+(sn=a)),$i(an,on,sn)}var wy=function(t){Oi=mo=_o=wo=bo=xo=ko=Co=xl=kl=Cl=0,Ln(t,Rn);var e=xl,n=kl,r=Cl,i=e*e+n*n+r*r;return i<Ef&&(e=xo,n=ko,r=Co,mo<Yt&&(e=_o,n=wo,r=bo),i=e*e+n*n+r*r,i<Ef)?[NaN,NaN]:[rn(n,e)*Ee,vn(r/Ve(i))*Ee]},ri=function(t){return function(){return t}},th=function(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n};function Sl(t,e){return[t>he?t-fn:t<-he?t+fn:t,e]}Sl.invert=Sl;function Tl(t,e,n){return(t%=fn)?e||n?th(nh(t),rh(e,n)):nh(t):e||n?rh(e,n):Sl}function eh(t){return function(e,n){return e+=t,[e>he?e-fn:e<-he?e+fn:e,n]}}function nh(t){var e=eh(t);return e.invert=eh(-t),e}function rh(t,e){var n=Ut(t),r=Ot(t),i=Ut(e),a=Ot(e);function o(s,u){var c=Ut(u),h=Ut(s)*c,d=Ot(s)*c,f=Ot(u),v=f*n+h*r;return[rn(d*i-v*a,h*n-f*r),vn(v*i+d*a)]}return o.invert=function(s,u){var c=Ut(u),h=Ut(s)*c,d=Ot(s)*c,f=Ot(u),v=f*i-d*a;return[rn(d*i+f*a,h*n+v*r),vn(v*n-h*r)]},o}var ih=function(t){t=Tl(t[0]*Xt,t[1]*Xt,t.length>2?t[2]*Xt:0);function e(n){return n=t(n[0]*Xt,n[1]*Xt),n[0]*=Ee,n[1]*=Ee,n}return e.invert=function(n){return n=t.invert(n[0]*Xt,n[1]*Xt),n[0]*=Ee,n[1]*=Ee,n},e};function ah(t,e,n,r,i,a){if(n){var o=Ut(e),s=Ot(e),u=r*n;i==null?(i=e+r*fn,a=e-u/2):(i=oh(o,i),a=oh(o,a),(r>0?i<a:i>a)&&(i+=r*fn));for(var c,h=i;r>0?h>a:h<a;h-=u)c=go([o,-s*Ut(h),-s*Ot(h)]),t.point(c[0],c[1])}}function oh(t,e){e=Pr(e),e[0]-=t,yo(e);var n=Rf(-e[1]);return((-e[2]<0?-n:n)+fn-Yt)%fn}var by=function(){var t=ri([0,0]),e=ri(90),n=ri(6),r,i,a={point:o};function o(u,c){r.push(u=i(u,c)),u[0]*=Ee,u[1]*=Ee}function s(){var u=t.apply(this,arguments),c=e.apply(this,arguments)*Xt,h=n.apply(this,arguments)*Xt;return r=[],i=Tl(-u[0]*Xt,-u[1]*Xt,0).invert,ah(a,c,h,1),u={type:"Polygon",coordinates:[r]},r=i=null,u}return s.center=function(u){return arguments.length?(t=typeof u=="function"?u:ri([+u[0],+u[1]]),s):t},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:ri(+u),s):e},s.precision=function(u){return arguments.length?(n=typeof u=="function"?u:ri(+u),s):n},s},sh=function(){var t=[],e;return{point:function(n,r){e.push([n,r])},lineStart:function(){t.push(e=[])},lineEnd:Re,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},Mo=function(t,e){return ve(t[0]-e[0])<Yt&&ve(t[1]-e[1])<Yt};function So(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var lh=function(t,e,n,r,i){var a=[],o=[],s,u;if(t.forEach(function(y){if(!((m=y.length-1)<=0)){var m,_=y[0],S=y[m],O;if(Mo(_,S)){for(i.lineStart(),s=0;s<m;++s)i.point((_=y[s])[0],_[1]);i.lineEnd();return}a.push(O=new So(_,y,null,!0)),o.push(O.o=new So(_,null,O,!1)),a.push(O=new So(S,y,null,!1)),o.push(O.o=new So(S,null,O,!0))}}),!!a.length){for(o.sort(e),uh(a),uh(o),s=0,u=o.length;s<u;++s)o[s].e=n=!n;for(var c=a[0],h,d;;){for(var f=c,v=!0;f.v;)if((f=f.n)===c)return;h=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(v)for(s=0,u=h.length;s<u;++s)i.point((d=h[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(v)for(h=f.p.z,s=h.length-1;s>=0;--s)i.point((d=h[s])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,h=f.z,v=!v}while(!f.v);i.lineEnd()}}};function uh(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}var Al=ur(),ch=function(t,e){var n=e[0],r=e[1],i=[Ot(n),-Ut(n),0],a=0,o=0;Al.reset();for(var s=0,u=t.length;s<u;++s)if(h=(c=t[s]).length)for(var c,h,d=c[h-1],f=d[0],v=d[1]/2+so,y=Ot(v),m=Ut(v),_=0;_<h;++_,f=O,y=z,m=j,d=S){var S=c[_],O=S[0],T=S[1]/2+so,z=Ot(T),j=Ut(T),et=O-f,Z=et>=0?1:-1,lt=Z*et,J=lt>he,xt=y*z;if(Al.add(rn(xt*Z*Ot(lt),m*j+xt*Ut(lt))),a+=J?et+Z*fn:et,J^f>=n^O>=n){var vt=ei(Pr(d),Pr(S));yo(vt);var ut=ei(i,vt);yo(ut);var N=(J^et>=0?-1:1)*vn(ut[2]);(r>N||r===N&&(vt[0]||vt[1]))&&(o+=J^et>=0?1:-1)}}return(a<-Yt||a<Yt&&Al<-Yt)^o&1},fh=function(t,e,n,r){return function(i){var a=e(i),o=sh(),s=e(o),u=!1,c,h,d,f={point:v,lineStart:m,lineEnd:_,polygonStart:function(){f.point=S,f.lineStart=O,f.lineEnd=T,h=[],c=[]},polygonEnd:function(){f.point=v,f.lineStart=m,f.lineEnd=_,h=un(h);var z=ch(c,r);h.length?(u||(i.polygonStart(),u=!0),lh(h,ky,z,n,i)):z&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),h=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(z,j){t(z,j)&&i.point(z,j)}function y(z,j){a.point(z,j)}function m(){f.point=y,a.lineStart()}function _(){f.point=v,a.lineEnd()}function S(z,j){d.push([z,j]),s.point(z,j)}function O(){s.lineStart(),d=[]}function T(){S(d[0][0],d[0][1]),s.lineEnd();var z=s.clean(),j=o.result(),et,Z=j.length,lt,J,xt;if(d.pop(),c.push(d),d=null,!!Z){if(z&1){if(J=j[0],(lt=J.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),et=0;et<lt;++et)i.point((xt=J[et])[0],xt[1]);i.lineEnd()}return}Z>1&&z&2&&j.push(j.pop().concat(j.shift())),h.push(j.filter(xy))}}return f}};function xy(t){return t.length>1}function ky(t,e){return((t=t.x)[0]<0?t[1]-ze-Yt:ze-t[1])-((e=e.x)[0]<0?e[1]-ze-Yt:ze-e[1])}var Pl=fh(function(){return!0},Cy,Sy,[-he,-ze]);function Cy(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?he:-he,u=ve(a-e);ve(u-he)<Yt?(t.point(e,n=(n+o)/2>0?ze:-ze),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&u>=he&&(ve(e-r)<Yt&&(e-=r*Yt),ve(a-s)<Yt&&(a-=s*Yt),n=My(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function My(t,e,n,r){var i,a,o=Ot(t-n);return ve(o)>Yt?ti((Ot(e)*(a=Ut(r))*Ot(n)-Ot(r)*(i=Ut(e))*Ot(t))/(i*a*o)):(e+r)/2}function Sy(t,e,n,r){var i;if(t==null)i=n*ze,r.point(-he,i),r.point(0,i),r.point(he,i),r.point(he,0),r.point(he,-i),r.point(0,-i),r.point(-he,-i),r.point(-he,0),r.point(-he,i);else if(ve(t[0]-e[0])>Yt){var a=t[0]<e[0]?he:-he;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}var hh=function(t){var e=Ut(t),n=6*Xt,r=e>0,i=ve(e)>Yt;function a(h,d,f,v){ah(v,t,n,f,h,d)}function o(h,d){return Ut(h)*Ut(d)>e}function s(h){var d,f,v,y,m;return{lineStart:function(){y=v=!1,m=1},point:function(_,S){var O=[_,S],T,z=o(_,S),j=r?z?0:c(_,S):z?c(_+(_<0?he:-he),S):0;if(!d&&(y=v=z)&&h.lineStart(),z!==v&&(T=u(d,O),(!T||Mo(d,T)||Mo(O,T))&&(O[0]+=Yt,O[1]+=Yt,z=o(O[0],O[1]))),z!==v)m=0,z?(h.lineStart(),T=u(O,d),h.point(T[0],T[1])):(T=u(d,O),h.point(T[0],T[1]),h.lineEnd()),d=T;else if(i&&d&&r^z){var et;!(j&f)&&(et=u(O,d,!0))&&(m=0,r?(h.lineStart(),h.point(et[0][0],et[0][1]),h.point(et[1][0],et[1][1]),h.lineEnd()):(h.point(et[1][0],et[1][1]),h.lineEnd(),h.lineStart(),h.point(et[0][0],et[0][1])))}z&&(!d||!Mo(d,O))&&h.point(O[0],O[1]),d=O,v=z,f=j},lineEnd:function(){v&&h.lineEnd(),d=null},clean:function(){return m|(y&&v)<<1}}}function u(h,d,f){var v=Pr(h),y=Pr(d),m=[1,0,0],_=ei(v,y),S=po(_,_),O=_[0],T=S-O*O;if(!T)return!f&&h;var z=e*S/T,j=-e*O/T,et=ei(m,_),Z=vo(m,z),lt=vo(_,j);wl(Z,lt);var J=et,xt=po(Z,J),vt=po(J,J),ut=xt*xt-vt*(po(Z,Z)-1);if(!(ut<0)){var N=Ve(ut),X=vo(J,(-xt-N)/vt);if(wl(X,Z),X=go(X),!f)return X;var ft=h[0],wt=d[0],kt=h[1],Kt=d[1],qt;wt<ft&&(qt=ft,ft=wt,wt=qt);var ye=wt-ft,de=ve(ye-he)<Yt,Ce=de||ye<Yt;if(!de&&Kt<kt&&(qt=kt,kt=Kt,Kt=qt),Ce?de?kt+Kt>0^X[1]<(ve(X[0]-ft)<Yt?kt:Kt):kt<=X[1]&&X[1]<=Kt:ye>he^(ft<=X[0]&&X[0]<=wt)){var me=vo(J,(-xt+N)/vt);return wl(me,Z),[X,go(me)]}}}function c(h,d){var f=r?t:he-t,v=0;return h<-f?v|=1:h>f&&(v|=2),d<-f?v|=4:d>f&&(v|=8),v}return fh(o,s,a,r?[0,-t]:[-he,t-he])},Ty=function(t,e,n,r,i,a){var o=t[0],s=t[1],u=e[0],c=e[1],h=0,d=1,f=u-o,v=c-s,y;if(y=n-o,!(!f&&y>0)){if(y/=f,f<0){if(y<h)return;y<d&&(d=y)}else if(f>0){if(y>d)return;y>h&&(h=y)}if(y=i-o,!(!f&&y<0)){if(y/=f,f<0){if(y>d)return;y>h&&(h=y)}else if(f>0){if(y<h)return;y<d&&(d=y)}if(y=r-s,!(!v&&y>0)){if(y/=v,v<0){if(y<h)return;y<d&&(d=y)}else if(v>0){if(y>d)return;y>h&&(h=y)}if(y=a-s,!(!v&&y<0)){if(y/=v,v<0){if(y>d)return;y>h&&(h=y)}else if(v>0){if(y<h)return;y<d&&(d=y)}return h>0&&(t[0]=o+h*f,t[1]=s+h*v),d<1&&(e[0]=o+d*f,e[1]=s+d*v),!0}}}}},Vi=1e9,To=-Vi;function Ao(t,e,n,r){function i(c,h){return t<=c&&c<=n&&e<=h&&h<=r}function a(c,h,d,f){var v=0,y=0;if(c==null||(v=o(c,d))!==(y=o(h,d))||u(c,h)<0^d>0)do f.point(v===0||v===3?t:n,v>1?r:e);while((v=(v+d+4)%4)!==y);else f.point(h[0],h[1])}function o(c,h){return ve(c[0]-t)<Yt?h>0?0:3:ve(c[0]-n)<Yt?h>0?2:1:ve(c[1]-e)<Yt?h>0?1:0:h>0?3:2}function s(c,h){return u(c.x,h.x)}function u(c,h){var d=o(c,1),f=o(h,1);return d!==f?d-f:d===0?h[1]-c[1]:d===1?c[0]-h[0]:d===2?c[1]-h[1]:h[0]-c[0]}return function(c){var h=c,d=sh(),f,v,y,m,_,S,O,T,z,j,et,Z={point:lt,lineStart:ut,lineEnd:N,polygonStart:xt,polygonEnd:vt};function lt(ft,wt){i(ft,wt)&&h.point(ft,wt)}function J(){for(var ft=0,wt=0,kt=v.length;wt<kt;++wt)for(var Kt=v[wt],qt=1,ye=Kt.length,de=Kt[0],Ce,me,Me=de[0],we=de[1];qt<ye;++qt)Ce=Me,me=we,de=Kt[qt],Me=de[0],we=de[1],me<=r?we>r&&(Me-Ce)*(r-me)>(we-me)*(t-Ce)&&++ft:we<=r&&(Me-Ce)*(r-me)<(we-me)*(t-Ce)&&--ft;return ft}function xt(){h=d,f=[],v=[],et=!0}function vt(){var ft=J(),wt=et&&ft,kt=(f=un(f)).length;(wt||kt)&&(c.polygonStart(),wt&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),kt&&lh(f,s,ft,a,c),c.polygonEnd()),h=c,f=v=y=null}function ut(){Z.point=X,v&&v.push(y=[]),j=!0,z=!1,O=T=NaN}function N(){f&&(X(m,_),S&&z&&d.rejoin(),f.push(d.result())),Z.point=lt,z&&h.lineEnd()}function X(ft,wt){var kt=i(ft,wt);if(v&&y.push([ft,wt]),j)m=ft,_=wt,S=kt,j=!1,kt&&(h.lineStart(),h.point(ft,wt));else if(kt&&z)h.point(ft,wt);else{var Kt=[O=Math.max(To,Math.min(Vi,O)),T=Math.max(To,Math.min(Vi,T))],qt=[ft=Math.max(To,Math.min(Vi,ft)),wt=Math.max(To,Math.min(Vi,wt))];Ty(Kt,qt,t,e,n,r)?(z||(h.lineStart(),h.point(Kt[0],Kt[1])),h.point(qt[0],qt[1]),kt||h.lineEnd(),et=!1):kt&&(h.lineStart(),h.point(ft,wt),et=!1)}O=ft,T=wt,z=kt}return Z}}var Ay=function(){var t=0,e=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=Ao(t,e,n,r)(a=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[t,e],[n,r]]}}},Fl=ur(),Nl,Po,Fo,ii={sphere:Re,point:Re,lineStart:Py,lineEnd:Re,polygonStart:Re,polygonEnd:Re};function Py(){ii.point=Ny,ii.lineEnd=Fy}function Fy(){ii.point=ii.lineEnd=Re}function Ny(t,e){t*=Xt,e*=Xt,Nl=t,Po=Ot(e),Fo=Ut(e),ii.point=Ey}function Ey(t,e){t*=Xt,e*=Xt;var n=Ot(e),r=Ut(e),i=ve(t-Nl),a=Ut(i),o=Ot(i),s=r*o,u=Fo*n-Po*r*a,c=Po*n+Fo*r*a;Fl.add(rn(Ve(s*s+u*u),c)),Nl=t,Po=n,Fo=r}var dh=function(t){return Fl.reset(),Ln(t,ii),+Fl},El=[null,null],Ly={type:"LineString",coordinates:El},Gi=function(t,e){return El[0]=t,El[1]=e,dh(Ly)},gh={Feature:function(t,e){return No(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(No(n[r].geometry,e))return!0;return!1}},ph={Sphere:function(){return!0},Point:function(t,e){return vh(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(vh(n[r],e))return!0;return!1},LineString:function(t,e){return yh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(yh(n[r],e))return!0;return!1},Polygon:function(t,e){return mh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(mh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(No(n[r],e))return!0;return!1}};function No(t,e){return t&&ph.hasOwnProperty(t.type)?ph[t.type](t,e):!1}function vh(t,e){return Gi(t,e)===0}function yh(t,e){var n=Gi(t[0],t[1]),r=Gi(t[0],e),i=Gi(e,t[1]);return r+i<=n+Yt}function mh(t,e){return!!ch(t.map(Ry),_h(e))}function Ry(t){return t=t.map(_h),t.pop(),t}function _h(t){return[t[0]*Xt,t[1]*Xt]}var Iy=function(t,e){return(t&&gh.hasOwnProperty(t.type)?gh[t.type]:No)(t,e)};function wh(t,e,n){var r=ot(t,e-Yt,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function bh(t,e,n){var r=ot(t,e-Yt,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function xh(){var t,e,n,r,i,a,o,s,u=10,c=u,h=90,d=360,f,v,y,m,_=2.5;function S(){return{type:"MultiLineString",coordinates:O()}}function O(){return ot(lo(r/h)*h,n,h).map(y).concat(ot(lo(s/d)*d,o,d).map(m)).concat(ot(lo(e/u)*u,t,u).filter(function(T){return ve(T%h)>Yt}).map(f)).concat(ot(lo(a/c)*c,i,c).filter(function(T){return ve(T%d)>Yt}).map(v))}return S.lines=function(){return O().map(function(T){return{type:"LineString",coordinates:T}})},S.outline=function(){return{type:"Polygon",coordinates:[y(r).concat(m(o).slice(1),y(n).reverse().slice(1),m(s).reverse().slice(1))]}},S.extent=function(T){return arguments.length?S.extentMajor(T).extentMinor(T):S.extentMinor()},S.extentMajor=function(T){return arguments.length?(r=+T[0][0],n=+T[1][0],s=+T[0][1],o=+T[1][1],r>n&&(T=r,r=n,n=T),s>o&&(T=s,s=o,o=T),S.precision(_)):[[r,s],[n,o]]},S.extentMinor=function(T){return arguments.length?(e=+T[0][0],t=+T[1][0],a=+T[0][1],i=+T[1][1],e>t&&(T=e,e=t,t=T),a>i&&(T=a,a=i,i=T),S.precision(_)):[[e,a],[t,i]]},S.step=function(T){return arguments.length?S.stepMajor(T).stepMinor(T):S.stepMinor()},S.stepMajor=function(T){return arguments.length?(h=+T[0],d=+T[1],S):[h,d]},S.stepMinor=function(T){return arguments.length?(u=+T[0],c=+T[1],S):[u,c]},S.precision=function(T){return arguments.length?(_=+T,f=wh(a,i,90),v=bh(e,t,_),y=wh(s,o,90),m=bh(r,n,_),S):_},S.extentMajor([[-180,-90+Yt],[180,90-Yt]]).extentMinor([[-180,-80-Yt],[180,80+Yt]])}function Dy(){return xh()()}var By=function(t,e){var n=t[0]*Xt,r=t[1]*Xt,i=e[0]*Xt,a=e[1]*Xt,o=Ut(r),s=Ot(r),u=Ut(a),c=Ot(a),h=o*Ut(n),d=o*Ot(n),f=u*Ut(i),v=u*Ot(i),y=2*vn(Ve(If(a-r)+o*u*If(i-n))),m=Ot(y),_=y?function(S){var O=Ot(S*=y)/m,T=Ot(y-S)/m,z=T*h+O*f,j=T*d+O*v,et=T*s+O*c;return[rn(j,z)*Ee,rn(et,Ve(z*z+j*j))*Ee]}:function(){return[n*Ee,r*Ee]};return _.distance=y,_},Nr=function(t){return t},Ll=ur(),Rl=ur(),kh,Ch,Il,Dl,Zn={point:Re,lineStart:Re,lineEnd:Re,polygonStart:function(){Zn.lineStart=zy,Zn.lineEnd=$y},polygonEnd:function(){Zn.lineStart=Zn.lineEnd=Zn.point=Re,Ll.add(ve(Rl)),Rl.reset()},result:function(){var t=Ll/2;return Ll.reset(),t}};function zy(){Zn.point=Oy}function Oy(t,e){Zn.point=Mh,kh=Il=t,Ch=Dl=e}function Mh(t,e){Rl.add(Dl*t-Il*e),Il=t,Dl=e}function $y(){Mh(kh,Ch)}var ai=1/0,Eo=ai,Ui=-ai,Lo=Ui,Ro={point:Vy,lineStart:Re,lineEnd:Re,polygonStart:Re,polygonEnd:Re,result:function(){var t=[[ai,Eo],[Ui,Lo]];return Ui=Lo=-(Eo=ai=1/0),t}};function Vy(t,e){t<ai&&(ai=t),t>Ui&&(Ui=t),e<Eo&&(Eo=e),e>Lo&&(Lo=e)}var Bl=0,zl=0,Yi=0,Io=0,Do=0,oi=0,Ol=0,$l=0,Hi=0,Sh,Th,Gn,Un,Mn={point:Er,lineStart:Ah,lineEnd:Ph,polygonStart:function(){Mn.lineStart=Yy,Mn.lineEnd=Hy},polygonEnd:function(){Mn.point=Er,Mn.lineStart=Ah,Mn.lineEnd=Ph},result:function(){var t=Hi?[Ol/Hi,$l/Hi]:oi?[Io/oi,Do/oi]:Yi?[Bl/Yi,zl/Yi]:[NaN,NaN];return Bl=zl=Yi=Io=Do=oi=Ol=$l=Hi=0,t}};function Er(t,e){Bl+=t,zl+=e,++Yi}function Ah(){Mn.point=Gy}function Gy(t,e){Mn.point=Uy,Er(Gn=t,Un=e)}function Uy(t,e){var n=t-Gn,r=e-Un,i=Ve(n*n+r*r);Io+=i*(Gn+t)/2,Do+=i*(Un+e)/2,oi+=i,Er(Gn=t,Un=e)}function Ph(){Mn.point=Er}function Yy(){Mn.point=Xy}function Hy(){Fh(Sh,Th)}function Xy(t,e){Mn.point=Fh,Er(Sh=Gn=t,Th=Un=e)}function Fh(t,e){var n=t-Gn,r=e-Un,i=Ve(n*n+r*r);Io+=i*(Gn+t)/2,Do+=i*(Un+e)/2,oi+=i,i=Un*t-Gn*e,Ol+=i*(Gn+t),$l+=i*(Un+e),Hi+=i*3,Er(Gn=t,Un=e)}function Nh(t){this._context=t}Nh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,fn);break}}},result:Re};var Vl=ur(),Gl,Eh,Lh,Xi,Wi,qi={point:Re,lineStart:function(){qi.point=Wy},lineEnd:function(){Gl&&Rh(Eh,Lh),qi.point=Re},polygonStart:function(){Gl=!0},polygonEnd:function(){Gl=null},result:function(){var t=+Vl;return Vl.reset(),t}};function Wy(t,e){qi.point=Rh,Eh=Xi=t,Lh=Wi=e}function Rh(t,e){Xi-=t,Wi-=e,Vl.add(Ve(Xi*Xi+Wi*Wi)),Xi=t,Wi=e}function Ih(){this._string=[]}Ih.prototype={_radius:4.5,_circle:Dh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=Dh(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Dh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var qy=function(t,e){var n=4.5,r,i;function a(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Ln(o,r(i))),i.result()}return a.area=function(o){return Ln(o,r(Zn)),Zn.result()},a.measure=function(o){return Ln(o,r(qi)),qi.result()},a.bounds=function(o){return Ln(o,r(Ro)),Ro.result()},a.centroid=function(o){return Ln(o,r(Mn)),Mn.result()},a.projection=function(o){return arguments.length?(r=o==null?(t=null,Nr):(t=o).stream,a):t},a.context=function(o){return arguments.length?(i=o==null?(e=null,new Ih):new Nh(e=o),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),a):n},a.projection(t).context(e)},jy=function(t){return{stream:ji(t)}};function ji(t){return function(e){var n=new Ul;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ul(){}Ul.prototype={constructor:Ul,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Yl(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ln(n,t.stream(Ro)),e(Ro.result()),r!=null&&t.clipExtent(r),t}function Bo(t,e,n){return Yl(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,u])},n)}function Hl(t,e,n){return Bo(t,[[0,0],e],n)}function Xl(t,e,n){return Yl(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function Wl(t,e,n){return Yl(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var Bh=16,Zy=Ut(30*Xt),zh=function(t,e){return+e?Qy(t,e):Ky(t)};function Ky(t){return ji({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Qy(t,e){function n(r,i,a,o,s,u,c,h,d,f,v,y,m,_){var S=c-r,O=h-i,T=S*S+O*O;if(T>4*e&&m--){var z=o+f,j=s+v,et=u+y,Z=Ve(z*z+j*j+et*et),lt=vn(et/=Z),J=ve(ve(et)-1)<Yt||ve(a-d)<Yt?(a+d)/2:rn(j,z),xt=t(J,lt),vt=xt[0],ut=xt[1],N=vt-r,X=ut-i,ft=O*N-S*X;(ft*ft/T>e||ve((S*N+O*X)/T-.5)>.3||o*f+s*v+u*y<Zy)&&(n(r,i,a,o,s,u,vt,ut,J,z/=Z,j/=Z,et,m,_),_.point(vt,ut),n(vt,ut,J,z,j,et,c,h,d,f,v,y,m,_))}}return function(r){var i,a,o,s,u,c,h,d,f,v,y,m,_={point:S,lineStart:O,lineEnd:z,polygonStart:function(){r.polygonStart(),_.lineStart=j},polygonEnd:function(){r.polygonEnd(),_.lineStart=O}};function S(lt,J){lt=t(lt,J),r.point(lt[0],lt[1])}function O(){d=NaN,_.point=T,r.lineStart()}function T(lt,J){var xt=Pr([lt,J]),vt=t(lt,J);n(d,f,h,v,y,m,d=vt[0],f=vt[1],h=lt,v=xt[0],y=xt[1],m=xt[2],Bh,r),r.point(d,f)}function z(){_.point=S,r.lineEnd()}function j(){O(),_.point=et,_.lineEnd=Z}function et(lt,J){T(i=lt,J),a=d,o=f,s=v,u=y,c=m,_.point=T}function Z(){n(d,f,h,v,y,m,a,o,i,s,u,c,Bh,r),_.lineEnd=z,z()}return _}}var Jy=ji({point:function(t,e){this.stream.point(t*Xt,e*Xt)}});function tm(t){return ji({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Kn(t){return ql(function(){return t})()}function ql(t){var e,n=150,r=480,i=250,a,o,s=0,u=0,c=0,h=0,d=0,f,v,y=null,m=Pl,_=null,S,O,T,z=Nr,j=.5,et=zh(vt,j),Z,lt;function J(X){return X=v(X[0]*Xt,X[1]*Xt),[X[0]*n+a,o-X[1]*n]}function xt(X){return X=v.invert((X[0]-a)/n,(o-X[1])/n),X&&[X[0]*Ee,X[1]*Ee]}function vt(X,ft){return X=e(X,ft),[X[0]*n+a,o-X[1]*n]}J.stream=function(X){return Z&&lt===X?Z:Z=Jy(tm(f)(m(et(z(lt=X)))))},J.preclip=function(X){return arguments.length?(m=X,y=void 0,N()):m},J.postclip=function(X){return arguments.length?(z=X,_=S=O=T=null,N()):z},J.clipAngle=function(X){return arguments.length?(m=+X?hh(y=X*Xt):(y=null,Pl),N()):y*Ee},J.clipExtent=function(X){return arguments.length?(z=X==null?(_=S=O=T=null,Nr):Ao(_=+X[0][0],S=+X[0][1],O=+X[1][0],T=+X[1][1]),N()):_==null?null:[[_,S],[O,T]]},J.scale=function(X){return arguments.length?(n=+X,ut()):n},J.translate=function(X){return arguments.length?(r=+X[0],i=+X[1],ut()):[r,i]},J.center=function(X){return arguments.length?(s=X[0]%360*Xt,u=X[1]%360*Xt,ut()):[s*Ee,u*Ee]},J.rotate=function(X){return arguments.length?(c=X[0]%360*Xt,h=X[1]%360*Xt,d=X.length>2?X[2]%360*Xt:0,ut()):[c*Ee,h*Ee,d*Ee]},J.precision=function(X){return arguments.length?(et=zh(vt,j=X*X),N()):Ve(j)},J.fitExtent=function(X,ft){return Bo(J,X,ft)},J.fitSize=function(X,ft){return Hl(J,X,ft)},J.fitWidth=function(X,ft){return Xl(J,X,ft)},J.fitHeight=function(X,ft){return Wl(J,X,ft)};function ut(){v=th(f=Tl(c,h,d),e);var X=e(s,u);return a=r-X[0]*n,o=i+X[1]*n,N()}function N(){return Z=lt=null,J}return function(){return e=t.apply(this,arguments),J.invert=e.invert&&xt,ut()}}function jl(t){var e=0,n=he/3,r=ql(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Xt,n=a[1]*Xt):[e*Ee,n*Ee]},i}function em(t){var e=Ut(t);function n(r,i){return[r*e,Ot(i)/e]}return n.invert=function(r,i){return[r/e,vn(i*e)]},n}function Oh(t,e){var n=Ot(t),r=(n+Ot(e))/2;if(ve(r)<Yt)return em(t);var i=1+n*(2*r-n),a=Ve(i)/r;function o(s,u){var c=Ve(i-2*r*Ot(u))/r;return[c*Ot(s*=r),a-c*Ut(s)]}return o.invert=function(s,u){var c=a-u;return[rn(s,ve(c))/r*Bi(c),vn((i-(s*s+c*c)*r*r)/(2*r))]},o}var zo=function(){return jl(Oh).scale(155.424).center([0,33.6442])},$h=function(){return zo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function nm(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}var rm=function(){var t,e,n=$h(),r,i=zo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=zo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,c={point:function(f,v){u=[f,v]}};function h(f){var v=f[0],y=f[1];return u=null,r.point(v,y),u||(a.point(v,y),u)||(s.point(v,y),u)}h.invert=function(f){var v=n.scale(),y=n.translate(),m=(f[0]-y[0])/v,_=(f[1]-y[1])/v;return(_>=.12&&_<.234&&m>=-.425&&m<-.214?i:_>=.166&&_<.234&&m>=-.214&&m<-.115?o:n).invert(f)},h.stream=function(f){return t&&e===f?t:t=nm([n.stream(e=f),i.stream(f),o.stream(f)])},h.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),d()):n.precision()},h.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),h.translate(n.translate())):n.scale()},h.translate=function(f){if(!arguments.length)return n.translate();var v=n.scale(),y=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[y-.455*v,m-.238*v],[y+.455*v,m+.238*v]]).stream(c),a=i.translate([y-.307*v,m+.201*v]).clipExtent([[y-.425*v+Yt,m+.12*v+Yt],[y-.214*v-Yt,m+.234*v-Yt]]).stream(c),s=o.translate([y-.205*v,m+.212*v]).clipExtent([[y-.214*v+Yt,m+.166*v+Yt],[y-.115*v-Yt,m+.234*v-Yt]]).stream(c),d()},h.fitExtent=function(f,v){return Bo(h,f,v)},h.fitSize=function(f,v){return Hl(h,f,v)},h.fitWidth=function(f,v){return Xl(h,f,v)},h.fitHeight=function(f,v){return Wl(h,f,v)};function d(){return t=e=null,h}return h.scale(1070)};function Vh(t){return function(e,n){var r=Ut(e),i=Ut(n),a=t(r*i);return[a*i*Ot(e),a*Ot(n)]}}function Zi(t){return function(e,n){var r=Ve(e*e+n*n),i=t(r),a=Ot(i),o=Ut(i);return[rn(e*a,r*o),vn(r&&n*a/r)]}}var Zl=Vh(function(t){return Ve(2/(1+t))});Zl.invert=Zi(function(t){return 2*vn(t/2)});var im=function(){return Kn(Zl).scale(124.75).clipAngle(180-.001)},Kl=Vh(function(t){return(t=Rf(t))&&t/Ot(t)});Kl.invert=Zi(function(t){return t});var am=function(){return Kn(Kl).scale(79.4188).clipAngle(180-.001)};function Ki(t,e){return[t,uo(pl((ze+e)/2))]}Ki.invert=function(t,e){return[t,2*ti(Lf(e))-ze]};var om=function(){return Gh(Ki).scale(961/fn)};function Gh(t){var e=Kn(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,u,c;e.scale=function(d){return arguments.length?(r(d),h()):r()},e.translate=function(d){return arguments.length?(i(d),h()):i()},e.center=function(d){return arguments.length?(n(d),h()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=s=u=c=null:(o=+d[0][0],s=+d[0][1],u=+d[1][0],c=+d[1][1]),h()):o==null?null:[[o,s],[u,c]]};function h(){var d=he*r(),f=e(ih(e.rotate()).invert([0,0]));return a(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:t===Ki?[[Math.max(f[0]-d,o),s],[Math.min(f[0]+d,u),c]]:[[o,Math.max(f[1]-d,s)],[u,Math.min(f[1]+d,c)]])}return h()}function Oo(t){return pl((ze+t)/2)}function Uh(t,e){var n=Ut(t),r=t===e?Ot(t):uo(n/Ut(e))/uo(Oo(e)/Oo(t)),i=n*gl(Oo(t),r)/r;if(!r)return Ki;function a(o,s){i>0?s<-ze+Yt&&(s=-ze+Yt):s>ze-Yt&&(s=ze-Yt);var u=i/gl(Oo(s),r);return[u*Ot(r*o),i-u*Ut(r*o)]}return a.invert=function(o,s){var u=i-s,c=Bi(r)*Ve(o*o+u*u);return[rn(o,ve(u))/r*Bi(u),2*ti(gl(i/c,1/r))-ze]},a}var sm=function(){return jl(Uh).scale(109.5).parallels([30,30])};function Qi(t,e){return[t,e]}Qi.invert=Qi;var lm=function(){return Kn(Qi).scale(152.63)};function Yh(t,e){var n=Ut(t),r=t===e?Ot(t):(n-Ut(e))/(e-t),i=n/r+t;if(ve(r)<Yt)return Qi;function a(o,s){var u=i-s,c=r*o;return[u*Ot(c),i-u*Ut(c)]}return a.invert=function(o,s){var u=i-s;return[rn(o,ve(u))/r*Bi(u),i-Bi(r)*Ve(o*o+u*u)]},a}var um=function(){return jl(Yh).scale(131.154).center([0,13.9389])};function Ql(t,e){var n=Ut(e),r=Ut(t)*n;return[n*Ot(t)/r,Ot(e)/r]}Ql.invert=Zi(ti);var cm=function(){return Kn(Ql).scale(144.049).clipAngle(60)};function $o(t,e,n,r){return t===1&&e===1&&n===0&&r===0?Nr:ji({point:function(i,a){this.stream.point(i*t+n,a*e+r)}})}var fm=function(){var t=1,e=0,n=0,r=1,i=1,a=Nr,o=null,s,u,c,h=Nr,d,f,v;function y(){return d=f=null,v}return v={stream:function(m){return d&&f===m?d:d=a(h(f=m))},postclip:function(m){return arguments.length?(h=m,o=s=u=c=null,y()):h},clipExtent:function(m){return arguments.length?(h=m==null?(o=s=u=c=null,Nr):Ao(o=+m[0][0],s=+m[0][1],u=+m[1][0],c=+m[1][1]),y()):o==null?null:[[o,s],[u,c]]},scale:function(m){return arguments.length?(a=$o((t=+m)*r,t*i,e,n),y()):t},translate:function(m){return arguments.length?(a=$o(t*r,t*i,e=+m[0],n=+m[1]),y()):[e,n]},reflectX:function(m){return arguments.length?(a=$o(t*(r=m?-1:1),t*i,e,n),y()):r<0},reflectY:function(m){return arguments.length?(a=$o(t*r,t*(i=m?-1:1),e,n),y()):i<0},fitExtent:function(m,_){return Bo(v,m,_)},fitSize:function(m,_){return Hl(v,m,_)},fitWidth:function(m,_){return Xl(v,m,_)},fitHeight:function(m,_){return Wl(v,m,_)}}};function Jl(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Jl.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(ve(i)>Yt&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};var hm=function(){return Kn(Jl).scale(175.295)};function tu(t,e){return[Ut(e)*Ot(t),Ot(e)]}tu.invert=Zi(vn);var dm=function(){return Kn(tu).scale(249.5).clipAngle(90+Yt)};function eu(t,e){var n=Ut(e),r=1+Ut(t)*n;return[n*Ot(t)/r,Ot(e)/r]}eu.invert=Zi(function(t){return 2*ti(t)});var gm=function(){return Kn(eu).scale(250).clipAngle(142)};function nu(t,e){return[uo(pl((ze+e)/2)),-t]}nu.invert=function(t,e){return[-e,2*ti(Lf(t))-ze]};var pm=function(){var t=Gh(nu),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)};function vm(t,e){return t.parent===e.parent?1:2}function ym(t){return t.reduce(mm,0)/t.length}function mm(t,e){return t+e.x}function _m(t){return 1+t.reduce(wm,0)}function wm(t,e){return Math.max(t,e.y)}function bm(t){for(var e;e=t.children;)t=e[0];return t}function xm(t){for(var e;e=t.children;)t=e[e.length-1];return t}var km=function(){var t=vm,e=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var v=f.children;v?(f.x=ym(v),f.y=_m(v)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var u=bm(a),c=xm(a),h=u.x-t(u,c)/2,d=c.x+t(c,u)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*e,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-h)/(d-h)*e,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i};function Cm(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}var Mm=function(){return this.eachAfter(Cm)},Sm=function(t){var e=this,n,r=[e],i,a,o;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(a=0,o=i.length;a<o;++a)r.push(i[a]);while(r.length);return this},Tm=function(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this},Am=function(t){for(var e=this,n=[e],r=[],i,a,o;e=n.pop();)if(r.push(e),i=e.children,i)for(a=0,o=i.length;a<o;++a)n.push(i[a]);for(;e=r.pop();)t(e);return this},Pm=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},Fm=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},Nm=function(t){for(var e=this,n=Em(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r};function Em(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}var Lm=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Rm=function(){var t=[];return this.each(function(e){t.push(e)}),t},Im=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},Dm=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};function ru(t,e){var n=new si(t),r=+t.value&&(n.value=t.value),i,a=[n],o,s,u,c;for(e==null&&(e=zm);i=a.pop();)if(r&&(i.value=+i.data.value),(s=e(i.data))&&(c=s.length))for(i.children=new Array(c),u=c-1;u>=0;--u)a.push(o=i.children[u]=new si(s[u])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(Hh)}function Bm(){return ru(this).eachBefore(Om)}function zm(t){return t.children}function Om(t){t.data=t.data.data}function Hh(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function si(t){this.data=t,this.depth=this.height=0,this.parent=null}si.prototype=ru.prototype={constructor:si,count:Mm,each:Sm,eachAfter:Am,eachBefore:Tm,sum:Pm,sort:Fm,path:Nm,ancestors:Lm,descendants:Rm,leaves:Im,links:Dm,copy:Bm};var $m=Array.prototype.slice;function Vm(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}var Xh=function(t){for(var e=0,n=(t=Vm($m.call(t))).length,r=[],i,a;e<n;)i=t[e],a&&Wh(a,i)?++e:(a=Um(r=Gm(r,i)),e=0);return a};function Gm(t,e){var n,r;if(iu(e,t))return[e];for(n=0;n<t.length;++n)if(Vo(e,t[n])&&iu(Ji(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Vo(Ji(t[n],t[r]),e)&&Vo(Ji(t[n],e),t[r])&&Vo(Ji(t[r],e),t[n])&&iu(qh(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Vo(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Wh(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function iu(t,e){for(var n=0;n<e.length;++n)if(!Wh(t,e[n]))return!1;return!0}function Um(t){switch(t.length){case 1:return Ym(t[0]);case 2:return Ji(t[0],t[1]);case 3:return qh(t[0],t[1],t[2])}}function Ym(t){return{x:t.x,y:t.y,r:t.r}}function Ji(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,c=o-r,h=s-i,d=Math.sqrt(u*u+c*c);return{x:(n+a+u/d*h)/2,y:(r+o+c/d*h)/2,r:(d+i+s)/2}}function qh(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,c=n.x,h=n.y,d=n.r,f=r-o,v=r-c,y=i-s,m=i-h,_=u-a,S=d-a,O=r*r+i*i-a*a,T=O-o*o-s*s+u*u,z=O-c*c-h*h+d*d,j=v*y-f*m,et=(y*z-m*T)/(j*2)-r,Z=(m*_-y*S)/j,lt=(v*T-f*z)/(j*2)-i,J=(f*S-v*_)/j,xt=Z*Z+J*J-1,vt=2*(a+et*Z+lt*J),ut=et*et+lt*lt-a*a,N=-(xt?(vt+Math.sqrt(vt*vt-4*xt*ut))/(2*xt):ut/vt);return{x:r+et+Z*N,y:i+lt+J*N,r:N}}function jh(t,e,n){var r=t.x,i=t.y,a=e.r+n.r,o=t.r+n.r,s=e.x-r,u=e.y-i,c=s*s+u*u;if(c){var h=.5+((o*=o)-(a*=a))/(2*c),d=Math.sqrt(Math.max(0,2*a*(o+c)-(o-=c)*o-a*a))/(2*c);n.x=r+h*s+d*u,n.y=i+h*u-d*s}else n.x=r+o,n.y=i}function Zh(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function Kh(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Go(t){this._=t,this.next=null,this.previous=null}function Qh(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,u,c,h,d;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;jh(n,e,r=t[2]),e=new Go(e),n=new Go(n),r=new Go(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){jh(e._,n._,r=t[s]),r=new Go(r),u=n.next,c=e.previous,h=n._.r,d=e._.r;do if(h<=d){if(Zh(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}h+=u._.r,u=u.next}else{if(Zh(c._,r._)){e=c,e.next=n,n.previous=e,--s;continue t}d+=c._.r,c=c.previous}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=Kh(e);(r=r.next)!==n;)(o=Kh(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Xh(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}var Hm=function(t){return Qh(t),t};function Xm(t){return t==null?null:Uo(t)}function Uo(t){if(typeof t!="function")throw new Error;return t}function Lr(){return 0}var li=function(t){return function(){return t}};function Wm(t){return Math.sqrt(t.value)}var qm=function(){var t=null,e=1,n=1,r=Lr;function i(a){return a.x=e/2,a.y=n/2,t?a.eachBefore(Jh(t)).eachAfter(au(r,.5)).eachBefore(t0(1)):a.eachBefore(Jh(Wm)).eachAfter(au(Lr,1)).eachAfter(au(r,a.r/Math.min(e,n))).eachBefore(t0(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=Xm(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:li(+a),i):r},i};function Jh(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function au(t,e){return function(n){if(r=n.children){var r,i,a=r.length,o=t(n)*e||0,s;if(o)for(i=0;i<a;++i)r[i].r+=o;if(s=Qh(r),o)for(i=0;i<a;++i)r[i].r-=o;n.r=s+o}}}function t0(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var e0=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},ta=function(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},jm=function(){var t=1,e=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),r&&o.eachBefore(e0),o}function a(o,s){return function(u){u.children&&ta(u,u.x0,o*(u.depth+1)/s,u.x1,o*(u.depth+2)/s);var c=u.x0,h=u.y0,d=u.x1-n,f=u.y1-n;d<c&&(c=d=(c+d)/2),f<h&&(h=f=(h+f)/2),u.x0=c,u.y0=h,u.x1=d,u.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(n=+o,i):n},i},n0="$",Zm={depth:-1},r0={};function Km(t){return t.id}function Qm(t){return t.parentId}var Jm=function(){var t=Km,e=Qm;function n(r){var i,a,o=r.length,s,u,c,h=new Array(o),d,f,v={};for(a=0;a<o;++a)i=r[a],c=h[a]=new si(i),(d=t(i,a,r))!=null&&(d+="")&&(f=n0+(c.id=d),v[f]=f in v?r0:c);for(a=0;a<o;++a)if(c=h[a],d=e(r[a],a,r),d==null||!(d+="")){if(s)throw new Error("multiple roots");s=c}else{if(u=v[n0+d],!u)throw new Error("missing: "+d);if(u===r0)throw new Error("ambiguous: "+d);u.children?u.children.push(c):u.children=[c],c.parent=u}if(!s)throw new Error("no root");if(s.parent=Zm,s.eachBefore(function(y){y.depth=y.parent.depth+1,--o}).eachBefore(Hh),s.parent=null,o>0)throw new Error("cycle");return s}return n.id=function(r){return arguments.length?(t=Uo(r),n):t},n.parentId=function(r){return arguments.length?(e=Uo(r),n):e},n};function t_(t,e){return t.parent===e.parent?1:2}function ou(t){var e=t.children;return e?e[0]:t.t}function su(t){var e=t.children;return e?e[e.length-1]:t.t}function e_(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function n_(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function r_(t,e,n){return t.a.parent===e.parent?t.a:n}function Yo(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Yo.prototype=Object.create(si.prototype);function i_(t){for(var e=new Yo(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new Yo(a[o],o)),i.parent=n;return(e.parent=new Yo(null,0)).children=[e],e}var a_=function(){var t=t_,e=1,n=1,r=null;function i(c){var h=i_(c);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(o),r)c.eachBefore(u);else{var d=c,f=c,v=c;c.eachBefore(function(O){O.x<d.x&&(d=O),O.x>f.x&&(f=O),O.depth>v.depth&&(v=O)});var y=d===f?1:t(d,f)/2,m=y-d.x,_=e/(f.x+y+m),S=n/(v.depth||1);c.eachBefore(function(O){O.x=(O.x+m)*_,O.y=O.depth*S})}return c}function a(c){var h=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(h){n_(c);var v=(h[0].z+h[h.length-1].z)/2;f?(c.z=f.z+t(c._,f._),c.m=c.z-v):c.z=v}else f&&(c.z=f.z+t(c._,f._));c.parent.A=s(c,f,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,h,d){if(h){for(var f=c,v=c,y=h,m=f.parent.children[0],_=f.m,S=v.m,O=y.m,T=m.m,z;y=su(y),f=ou(f),y&&f;)m=ou(m),v=su(v),v.a=c,z=y.z+O-f.z-_+t(y._,f._),z>0&&(e_(r_(y,c,d),c,z),_+=z,S+=z),O+=y.m,_+=f.m,T+=m.m,S+=v.m;y&&!su(v)&&(v.t=y,v.m+=O-S),f&&!ou(m)&&(m.t=f,m.m+=_-T,d=c)}return d}function u(c){c.x*=e,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,e=+c[0],n=+c[1],i):r?null:[e,n]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],n=+c[1],i):r?[e,n]:null},i},Ho=function(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},i0=(1+Math.sqrt(5))/2;function a0(t,e,n,r,i,a){for(var o=[],s=e.children,u,c,h=0,d=0,f=s.length,v,y,m=e.value,_,S,O,T,z,j,et;h<f;){v=i-n,y=a-r;do _=s[d++].value;while(!_&&d<f);for(S=O=_,j=Math.max(y/v,v/y)/(m*t),et=_*_*j,z=Math.max(O/et,et/S);d<f;++d){if(_+=c=s[d].value,c<S&&(S=c),c>O&&(O=c),et=_*_*j,T=Math.max(O/et,et/S),T>z){_-=c;break}z=T}o.push(u={value:_,dice:v<y,children:s.slice(h,d)}),u.dice?ta(u,n,r,i,m?r+=y*_/m:a):Ho(u,n,r,m?n+=v*_/m:i,a),m-=_,h=d}return o}var o0=function t(e){function n(r,i,a,o,s){a0(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(i0),o_=function(){var t=o0,e=!1,n=1,r=1,i=[0],a=Lr,o=Lr,s=Lr,u=Lr,c=Lr;function h(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],e&&f.eachBefore(e0),f}function d(f){var v=i[f.depth],y=f.x0+v,m=f.y0+v,_=f.x1-v,S=f.y1-v;_<y&&(y=_=(y+_)/2),S<m&&(m=S=(m+S)/2),f.x0=y,f.y0=m,f.x1=_,f.y1=S,f.children&&(v=i[f.depth+1]=a(f)/2,y+=c(f)-v,m+=o(f)-v,_-=s(f)-v,S-=u(f)-v,_<y&&(y=_=(y+_)/2),S<m&&(m=S=(m+S)/2),t(f,y,m,_,S))}return h.round=function(f){return arguments.length?(e=!!f,h):e},h.size=function(f){return arguments.length?(n=+f[0],r=+f[1],h):[n,r]},h.tile=function(f){return arguments.length?(t=Uo(f),h):t},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:li(+f),h):a},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:li(+f),h):o},h.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:li(+f),h):s},h.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:li(+f),h):u},h.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:li(+f),h):c},h},s_=function(t,e,n,r,i){var a=t.children,o,s=a.length,u,c=new Array(s+1);for(c[0]=u=o=0;o<s;++o)c[o+1]=u+=a[o].value;h(0,s,t.value,e,n,r,i);function h(d,f,v,y,m,_,S){if(d>=f-1){var O=a[d];O.x0=y,O.y0=m,O.x1=_,O.y1=S;return}for(var T=c[d],z=v/2+T,j=d+1,et=f-1;j<et;){var Z=j+et>>>1;c[Z]<z?j=Z+1:et=Z}z-c[j-1]<c[j]-z&&d+1<j&&--j;var lt=c[j]-T,J=v-lt;if(_-y>S-m){var xt=(y*J+_*lt)/v;h(d,j,lt,y,m,xt,S),h(j,f,J,xt,m,_,S)}else{var vt=(m*J+S*lt)/v;h(d,j,lt,y,m,_,vt),h(j,f,J,y,vt,_,S)}}},l_=function(t,e,n,r,i){(t.depth&1?Ho:ta)(t,e,n,r,i)},u_=function t(e){function n(r,i,a,o,s){if((u=r._squarify)&&u.ratio===e)for(var u,c,h,d,f=-1,v,y=u.length,m=r.value;++f<y;){for(c=u[f],h=c.children,d=c.value=0,v=h.length;d<v;++d)c.value+=h[d].value;c.dice?ta(c,i,a,o,a+=(s-a)*c.value/m):Ho(c,i,a,i+=(o-i)*c.value/m,s),m-=c.value}else r._squarify=u=a0(e,r,i,a,o,s),u.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(i0),c_=function(t){for(var e=-1,n=t.length,r,i=t[n-1],a=0;++e<n;)r=i,i=t[e],a+=r[1]*i[0]-r[0]*i[1];return a/2},f_=function(t){for(var e=-1,n=t.length,r=0,i=0,a,o=t[n-1],s,u=0;++e<n;)a=o,o=t[e],u+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return u*=3,[r/u,i/u]},h_=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function d_(t,e){return t[0]-e[0]||t[1]-e[1]}function s0(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&h_(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var g_=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(d_),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=s0(r),o=s0(i),s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[r[a[e]][2]]);for(e=+s;e<o.length-u;++e)c.push(t[r[o[e]][2]]);return c},p_=function(t,e){for(var n=t.length,r=t[n-1],i=e[0],a=e[1],o=r[0],s=r[1],u,c,h=!1,d=0;d<n;++d)r=t[d],u=r[0],c=r[1],c>a!=s>a&&i<(o-u)*(a-c)/(s-c)+u&&(h=!h),o=u,s=c;return h},v_=function(t){for(var e=-1,n=t.length,r=t[n-1],i,a,o=r[0],s=r[1],u=0;++e<n;)i=o,a=s,r=t[e],o=r[0],s=r[1],i-=o,a-=s,u+=Math.sqrt(i*i+a*a);return u},y_=[].slice,m_={};function lu(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}lu.prototype=u0.prototype={constructor:lu,defer:function(t){if(typeof t!="function")throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(this._error!=null)return this;var e=y_.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),l0(this),this},abort:function(){return this._error==null&&uu(this,new Error("abort")),this},await:function(t){if(typeof t!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},Xo(this),this},awaitAll:function(t){if(typeof t!="function")throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Xo(this),this}};function l0(t){if(!t._start)try{__(t)}catch(e){if(t._tasks[t._ended+t._active-1])uu(t,e);else if(!t._data)throw e}}function __(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=w_(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||m_)}}function w_(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,t._error==null&&(n!=null?uu(t,n):(t._data[e]=r,t._waiting?l0(t):Xo(t))))}}function uu(t,e){var n=t._tasks.length,r;for(t._error=e,t._data=void 0,t._waiting=NaN;--n>=0;)if((r=t._tasks[n])&&(t._tasks[n]=null,r.abort))try{r.abort()}catch{}t._active=NaN,Xo(t)}function Xo(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function u0(t){if(t==null)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new lu(t)}var ui=function(){return Math.random()},b_=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(ui),c0=function t(e){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=e()*2-1,s=e()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(ui),x_=function t(e){function n(){var r=c0.source(e).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=t,n}(ui),f0=function t(e){function n(r){return function(){for(var i=0,a=0;a<r;++a)i+=e();return i}}return n.source=t,n}(ui),k_=function t(e){function n(r){var i=f0.source(e)(r);return function(){return i()/r}}return n.source=t,n}(ui),C_=function t(e){function n(r){return function(){return-Math.log(1-e())/r}}return n.source=t,n}(ui),cu=function(t,e){var n,r=bn("beforesend","progress","load","error"),i,a=$n(),o=new XMLHttpRequest,s=null,u=null,c,h,d=0;typeof XDomainRequest<"u"&&!("withCredentials"in o)&&/^(http(s)?:)?\/\//.test(t)&&(o=new XDomainRequest),"onload"in o?o.onload=o.onerror=o.ontimeout=f:o.onreadystatechange=function(v){o.readyState>3&&f(v)};function f(v){var y=o.status,m;if(!y&&S_(o)||y>=200&&y<300||y===304){if(c)try{m=c.call(n,o)}catch(_){r.call("error",n,_);return}else m=o;r.call("load",n,m)}else r.call("error",n,v)}if(o.onprogress=function(v){r.call("progress",n,v)},n={header:function(v,y){return v=(v+"").toLowerCase(),arguments.length<2?a.get(v):(y==null?a.remove(v):a.set(v,y+""),n)},mimeType:function(v){return arguments.length?(i=v==null?null:v+"",n):i},responseType:function(v){return arguments.length?(h=v,n):h},timeout:function(v){return arguments.length?(d=+v,n):d},user:function(v){return arguments.length<1?s:(s=v==null?null:v+"",n)},password:function(v){return arguments.length<1?u:(u=v==null?null:v+"",n)},response:function(v){return c=v,n},get:function(v,y){return n.send("GET",v,y)},post:function(v,y){return n.send("POST",v,y)},send:function(v,y,m){return o.open(v,t,!0,s,u),i!=null&&!a.has("accept")&&a.set("accept",i+",*/*"),o.setRequestHeader&&a.each(function(_,S){o.setRequestHeader(S,_)}),i!=null&&o.overrideMimeType&&o.overrideMimeType(i),h!=null&&(o.responseType=h),d>0&&(o.timeout=d),m==null&&typeof y=="function"&&(m=y,y=null),m!=null&&m.length===1&&(m=M_(m)),m!=null&&n.on("error",m).on("load",function(_){m(null,_)}),r.call("beforesend",n,o),o.send(y??null),n},abort:function(){return o.abort(),n},on:function(){var v=r.on.apply(r,arguments);return v===r?n:v}},e!=null){if(typeof e!="function")throw new Error("invalid callback: "+e);return n.get(e)}return n};function M_(t){return function(e,n){t(e==null?n:null)}}function S_(t){var e=t.responseType;return e&&e!=="text"?t.response:t.responseText}var Wo=function(t,e){return function(n,r){var i=cu(n).mimeType(t).response(e);if(r!=null){if(typeof r!="function")throw new Error("invalid callback: "+r);return i.get(r)}return i}},T_=Wo("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),A_=Wo("application/json",function(t){return JSON.parse(t.responseText)}),P_=Wo("text/plain",function(t){return t.responseText}),F_=Wo("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),h0=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=cu(n).mimeType(t);return a.row=function(o){return arguments.length?a.response(N_(e,r=o)):r},a.row(r),i?a.get(i):a}};function N_(t,e){return function(n){return t(n.responseText,e)}}var E_=h0("text/csv",vf),L_=h0("text/tab-separated-values",yf),d0=Array.prototype,fu=d0.map,fr=d0.slice,hu={name:"implicit"};function du(t){var e=$n(),n=[],r=hu;t=t==null?[]:fr.call(t);function i(a){var o=a+"",s=e.get(o);if(!s){if(r!==hu)return r;e.set(o,s=n.push(a))}return t[(s-1)%t.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],e=$n();for(var o=-1,s=a.length,u,c;++o<s;)e.has(c=(u=a[o])+"")||e.set(c,n.push(u));return i},i.range=function(a){return arguments.length?(t=fr.call(a),i):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return du().domain(n).range(t).unknown(r)},i}function gu(){var t=du().unknown(void 0),e=t.domain,n=t.range,r=[0,1],i,a,o=!1,s=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,f=r[1]<r[0],v=r[f-0],y=r[1-f];i=(y-v)/Math.max(1,d-s+u*2),o&&(i=Math.floor(i)),v+=(y-v-i*(d-s))*c,a=i*(1-s),o&&(v=Math.round(v),a=Math.round(a));var m=ot(d).map(function(_){return v+i*_});return n(f?m.reverse():m)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?(r=[+d[0],+d[1]],h()):r.slice()},t.rangeRound=function(d){return r=[+d[0],+d[1]],o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(d){return arguments.length?(o=!!d,h()):o},t.padding=function(d){return arguments.length?(s=u=Math.max(0,Math.min(1,d)),h()):s},t.paddingInner=function(d){return arguments.length?(s=Math.max(0,Math.min(1,d)),h()):s},t.paddingOuter=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return gu().domain(e()).range(r).round(o).paddingInner(s).paddingOuter(u).align(c)},h()}function g0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return g0(e())},t}function R_(){return g0(gu().paddingInner(1))}var pu=function(t){return function(){return t}},p0=function(t){return+t},v0=[0,1];function vu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pu(e)}function I_(t){return function(e,n){var r=t(e=+e,n=+n);return function(i){return i<=e?0:i>=n?1:r(i)}}}function D_(t){return function(e,n){var r=t(e=+e,n=+n);return function(i){return i<=0?e:i>=1?n:r(i)}}}function B_(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(u){return o(i(u))}}function z_(t,e,n,r){var i=Math.min(t.length,e.length)-1,a=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)a[s]=n(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(u){var c=L(t,u,1,i)-1;return o[c](a[c](u))}}function qo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function jo(t,e){var n=v0,r=v0,i=Mi,a=!1,o,s,u;function c(){return o=Math.min(n.length,r.length)>2?z_:B_,s=u=null,h}function h(d){return(s||(s=o(n,r,a?I_(t):t,i)))(+d)}return h.invert=function(d){return(u||(u=o(r,n,vu,a?D_(e):e)))(+d)},h.domain=function(d){return arguments.length?(n=fu.call(d,p0),c()):n.slice()},h.range=function(d){return arguments.length?(r=fr.call(d),c()):r.slice()},h.rangeRound=function(d){return r=fr.call(d),i=kc,c()},h.clamp=function(d){return arguments.length?(a=!!d,c()):a},h.interpolate=function(d){return arguments.length?(i=d,c()):i},c()}var O_=function(t,e,n){var r=t[0],i=t[t.length-1],a=le(r,i,e??10),o;switch(n=Di(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(i));return n.precision==null&&!isNaN(o=Pf(a,s))&&(n.precision=o),l.formatPrefix(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Ff(a,Math.max(Math.abs(r),Math.abs(i))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Af(a))&&(n.precision=o-(n.type==="%")*2);break}}return l.format(n)};function ea(t){var e=t.domain;return t.ticks=function(n){var r=e();return At(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){return O_(e(),n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u;return s<o&&(u=o,o=s,s=u,u=i,i=a,a=u),u=Bt(o,s,n),u>0?(o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u,u=Bt(o,s,n)):u<0&&(o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u,u=Bt(o,s,n)),u>0?(r[i]=Math.floor(o/u)*u,r[a]=Math.ceil(s/u)*u,e(r)):u<0&&(r[i]=Math.ceil(o*u)/u,r[a]=Math.floor(s*u)/u,e(r)),t},t}function y0(){var t=jo(vu,pn);return t.copy=function(){return qo(t,y0())},ea(t)}function m0(){var t=[0,1];function e(n){return+n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=fu.call(n,p0),e):t.slice()},e.copy=function(){return m0().domain(t)},ea(e)}var _0=function(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t};function $_(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:pu(e)}function V_(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function G_(t){return isFinite(t)?+("1e"+t):t<0?0:t}function w0(t){return t===10?G_:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function b0(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function x0(t){return function(e){return-t(-e)}}function k0(){var t=jo($_,V_).domain([1,10]),e=t.domain,n=10,r=b0(10),i=w0(10);function a(){return r=b0(n),i=w0(n),e()[0]<0&&(r=x0(r),i=x0(i)),t}return t.base=function(o){return arguments.length?(n=+o,a()):n},t.domain=function(o){return arguments.length?(e(o),a()):e()},t.ticks=function(o){var s=e(),u=s[0],c=s[s.length-1],h;(h=c<u)&&(d=u,u=c,c=d);var d=r(u),f=r(c),v,y,m,_=o==null?10:+o,S=[];if(!(n%1)&&f-d<_){if(d=Math.round(d)-1,f=Math.round(f)+1,u>0){for(;d<f;++d)for(y=1,v=i(d);y<n;++y)if(m=v*y,!(m<u)){if(m>c)break;S.push(m)}}else for(;d<f;++d)for(y=n-1,v=i(d);y>=1;--y)if(m=v*y,!(m<u)){if(m>c)break;S.push(m)}}else S=At(d,f,Math.min(f-d,_)).map(i);return h?S.reverse():S},t.tickFormat=function(o,s){if(s==null&&(s=n===10?".0e":","),typeof s!="function"&&(s=l.format(s)),o===1/0)return s;o==null&&(o=10);var u=Math.max(1,n*o/t.ticks().length);return function(c){var h=c/i(Math.round(r(c)));return h*n<n-.5&&(h*=n),h<=u?s(c):""}},t.nice=function(){return e(_0(e(),{floor:function(o){return i(Math.floor(r(o)))},ceil:function(o){return i(Math.ceil(r(o)))}}))},t.copy=function(){return qo(t,k0().base(n))},t}function ci(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function yu(){var t=1,e=jo(r,i),n=e.domain;function r(a,o){return(o=ci(o,t)-(a=ci(a,t)))?function(s){return(ci(s,t)-a)/o}:pu(o)}function i(a,o){return o=ci(o,t)-(a=ci(a,t)),function(s){return ci(a+o*s,1/t)}}return e.exponent=function(a){return arguments.length?(t=+a,n(n())):t},e.copy=function(){return qo(e,yu().exponent(t))},ea(e)}function U_(){return yu().exponent(.5)}function C0(){var t=[],e=[],n=[];function r(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=te(t,a/o);return i}function i(a){if(!isNaN(a=+a))return e[L(n,a)]}return i.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(var o=0,s=a.length,u;o<s;++o)u=a[o],u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(g),r()},i.range=function(a){return arguments.length?(e=fr.call(a),r()):e.slice()},i.quantiles=function(){return n.slice()},i.copy=function(){return C0().domain(t).range(e)},i}function M0(){var t=0,e=1,n=1,r=[.5],i=[0,1];function a(s){if(s<=s)return i[L(r,s,0,n)]}function o(){var s=-1;for(r=new Array(n);++s<n;)r[s]=((s+1)*e-(s-n)*t)/(n+1);return a}return a.domain=function(s){return arguments.length?(t=+s[0],e=+s[1],o()):[t,e]},a.range=function(s){return arguments.length?(n=(i=fr.call(s)).length-1,o()):i.slice()},a.invertExtent=function(s){var u=i.indexOf(s);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.copy=function(){return M0().domain([t,e]).range(i)},ea(a)}function S0(){var t=[.5],e=[0,1],n=1;function r(i){if(i<=i)return e[L(t,i,0,n)]}return r.domain=function(i){return arguments.length?(t=fr.call(i),n=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(i){return arguments.length?(e=fr.call(i),n=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},r.copy=function(){return S0().domain(t).range(e)},r}var mu=new Date,_u=new Date;function Ge(t,e,n,r){function i(a){return t(a=new Date(+a)),a}return i.floor=i,i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=function(a,o){return e(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,s){var u=[],c;if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;do u.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return u},i.filter=function(a){return Ge(function(o){if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););})},n&&(i.count=function(a,o){return mu.setTime(+a),_u.setTime(+o),t(mu),t(_u),Math.floor(n(mu,_u))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var Rr=Ge(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Rr.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ge(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Rr};var T0=Rr.range,Zo=1e3,Qn=6e4,hr=36e5,A0=864e5,P0=6048e5,na=Ge(function(t){t.setTime(Math.floor(t/Zo)*Zo)},function(t,e){t.setTime(+t+e*Zo)},function(t,e){return(e-t)/Zo},function(t){return t.getUTCSeconds()}),F0=na.range,wu=Ge(function(t){t.setTime(Math.floor(t/Qn)*Qn)},function(t,e){t.setTime(+t+e*Qn)},function(t,e){return(e-t)/Qn},function(t){return t.getMinutes()}),Y_=wu.range,bu=Ge(function(t){var e=t.getTimezoneOffset()*Qn%hr;e<0&&(e+=hr),t.setTime(Math.floor((+t-e)/hr)*hr+e)},function(t,e){t.setTime(+t+e*hr)},function(t,e){return(e-t)/hr},function(t){return t.getHours()}),H_=bu.range,ra=Ge(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qn)/A0},function(t){return t.getDate()-1}),X_=ra.range;function Ir(t){return Ge(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qn)/P0})}var ia=Ir(0),aa=Ir(1),N0=Ir(2),E0=Ir(3),oa=Ir(4),L0=Ir(5),R0=Ir(6),I0=ia.range,W_=aa.range,q_=N0.range,j_=E0.range,Z_=oa.range,K_=L0.range,Q_=R0.range,xu=Ge(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),J_=xu.range,Jn=Ge(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Jn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ge(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var tw=Jn.range,ku=Ge(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Qn)},function(t,e){return(e-t)/Qn},function(t){return t.getUTCMinutes()}),ew=ku.range,Cu=Ge(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*hr)},function(t,e){return(e-t)/hr},function(t){return t.getUTCHours()}),nw=Cu.range,sa=Ge(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/A0},function(t){return t.getUTCDate()-1}),rw=sa.range;function Dr(t){return Ge(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/P0})}var la=Dr(0),ua=Dr(1),D0=Dr(2),B0=Dr(3),ca=Dr(4),z0=Dr(5),O0=Dr(6),$0=la.range,iw=ua.range,aw=D0.range,ow=B0.range,sw=ca.range,lw=z0.range,uw=O0.range,Mu=Ge(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),cw=Mu.range,tr=Ge(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});tr.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ge(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};var fw=tr.range;function hw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ko(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fa(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function V0(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=ha(i),h=da(i),d=ha(a),f=da(a),v=ha(o),y=da(o),m=ha(s),_=da(s),S=ha(u),O=da(u),T={a:kt,A:Kt,b:qt,B:ye,c:null,d:H0,e:H0,f:Dw,H:Lw,I:Rw,j:Iw,L:X0,m:Bw,M:zw,p:de,Q:Z0,s:K0,S:Ow,u:$w,U:Vw,V:Gw,w:Uw,W:Yw,x:null,X:null,y:Hw,Y:Xw,Z:Ww,"%":j0},z={a:Ce,A:me,b:Me,B:we,c:null,d:W0,e:W0,f:Kw,H:qw,I:jw,j:Zw,L:q0,m:Qw,M:Jw,p:ln,Q:Z0,s:K0,S:tb,u:eb,U:nb,V:rb,w:ib,W:ab,x:null,X:null,y:ob,Y:sb,Z:lb,"%":j0},j={a:xt,A:vt,b:ut,B:N,c:X,d:U0,e:U0,f:Pw,H:Y0,I:Y0,j:Mw,L:Aw,m:Cw,M:Sw,p:J,Q:Nw,s:Ew,S:Tw,u:yw,U:mw,V:_w,w:vw,W:ww,x:ft,X:wt,y:xw,Y:bw,Z:kw,"%":Fw};T.x=et(n,T),T.X=et(r,T),T.c=et(e,T),z.x=et(n,z),z.X=et(r,z),z.c=et(e,z);function et(It,Qt){return function(ne){var Mt=[],Qe=-1,ke=0,Pe=It.length,wn,zr,Ud;for(ne instanceof Date||(ne=new Date(+ne));++Qe<Pe;)It.charCodeAt(Qe)===37&&(Mt.push(It.slice(ke,Qe)),(zr=G0[wn=It.charAt(++Qe)])!=null?wn=It.charAt(++Qe):zr=wn==="e"?" ":"0",(Ud=Qt[wn])&&(wn=Ud(ne,zr)),Mt.push(wn),ke=Qe+1);return Mt.push(It.slice(ke,Qe)),Mt.join("")}}function Z(It,Qt){return function(ne){var Mt=fa(1900),Qe=lt(Mt,It,ne+="",0),ke,Pe;if(Qe!=ne.length)return null;if("Q"in Mt)return new Date(Mt.Q);if("p"in Mt&&(Mt.H=Mt.H%12+Mt.p*12),"V"in Mt){if(Mt.V<1||Mt.V>53)return null;"w"in Mt||(Mt.w=1),"Z"in Mt?(ke=Ko(fa(Mt.y)),Pe=ke.getUTCDay(),ke=Pe>4||Pe===0?ua.ceil(ke):ua(ke),ke=sa.offset(ke,(Mt.V-1)*7),Mt.y=ke.getUTCFullYear(),Mt.m=ke.getUTCMonth(),Mt.d=ke.getUTCDate()+(Mt.w+6)%7):(ke=Qt(fa(Mt.y)),Pe=ke.getDay(),ke=Pe>4||Pe===0?aa.ceil(ke):aa(ke),ke=ra.offset(ke,(Mt.V-1)*7),Mt.y=ke.getFullYear(),Mt.m=ke.getMonth(),Mt.d=ke.getDate()+(Mt.w+6)%7)}else("W"in Mt||"U"in Mt)&&("w"in Mt||(Mt.w="u"in Mt?Mt.u%7:"W"in Mt?1:0),Pe="Z"in Mt?Ko(fa(Mt.y)).getUTCDay():Qt(fa(Mt.y)).getDay(),Mt.m=0,Mt.d="W"in Mt?(Mt.w+6)%7+Mt.W*7-(Pe+5)%7:Mt.w+Mt.U*7-(Pe+6)%7);return"Z"in Mt?(Mt.H+=Mt.Z/100|0,Mt.M+=Mt.Z%100,Ko(Mt)):Qt(Mt)}}function lt(It,Qt,ne,Mt){for(var Qe=0,ke=Qt.length,Pe=ne.length,wn,zr;Qe<ke;){if(Mt>=Pe)return-1;if(wn=Qt.charCodeAt(Qe++),wn===37){if(wn=Qt.charAt(Qe++),zr=j[wn in G0?Qt.charAt(Qe++):wn],!zr||(Mt=zr(It,ne,Mt))<0)return-1}else if(wn!=ne.charCodeAt(Mt++))return-1}return Mt}function J(It,Qt,ne){var Mt=c.exec(Qt.slice(ne));return Mt?(It.p=h[Mt[0].toLowerCase()],ne+Mt[0].length):-1}function xt(It,Qt,ne){var Mt=v.exec(Qt.slice(ne));return Mt?(It.w=y[Mt[0].toLowerCase()],ne+Mt[0].length):-1}function vt(It,Qt,ne){var Mt=d.exec(Qt.slice(ne));return Mt?(It.w=f[Mt[0].toLowerCase()],ne+Mt[0].length):-1}function ut(It,Qt,ne){var Mt=S.exec(Qt.slice(ne));return Mt?(It.m=O[Mt[0].toLowerCase()],ne+Mt[0].length):-1}function N(It,Qt,ne){var Mt=m.exec(Qt.slice(ne));return Mt?(It.m=_[Mt[0].toLowerCase()],ne+Mt[0].length):-1}function X(It,Qt,ne){return lt(It,e,Qt,ne)}function ft(It,Qt,ne){return lt(It,n,Qt,ne)}function wt(It,Qt,ne){return lt(It,r,Qt,ne)}function kt(It){return o[It.getDay()]}function Kt(It){return a[It.getDay()]}function qt(It){return u[It.getMonth()]}function ye(It){return s[It.getMonth()]}function de(It){return i[+(It.getHours()>=12)]}function Ce(It){return o[It.getUTCDay()]}function me(It){return a[It.getUTCDay()]}function Me(It){return u[It.getUTCMonth()]}function we(It){return s[It.getUTCMonth()]}function ln(It){return i[+(It.getUTCHours()>=12)]}return{format:function(It){var Qt=et(It+="",T);return Qt.toString=function(){return It},Qt},parse:function(It){var Qt=Z(It+="",hw);return Qt.toString=function(){return It},Qt},utcFormat:function(It){var Qt=et(It+="",z);return Qt.toString=function(){return It},Qt},utcParse:function(It){var Qt=Z(It,Ko);return Qt.toString=function(){return It},Qt}}}var G0={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,dw=/^%/,gw=/[\\^$*+?|[\]().{}]/g;function be(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function pw(t){return t.replace(gw,"\\$&")}function ha(t){return new RegExp("^(?:"+t.map(pw).join("|")+")","i")}function da(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function vw(t,e,n){var r=qe.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yw(t,e,n){var r=qe.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mw(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _w(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ww(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bw(t,e,n){var r=qe.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xw(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kw(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cw(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function U0(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Mw(t,e,n){var r=qe.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Y0(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Sw(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Tw(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Aw(t,e,n){var r=qe.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pw(t,e,n){var r=qe.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fw(t,e,n){var r=dw.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Nw(t,e,n){var r=qe.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ew(t,e,n){var r=qe.exec(e.slice(n));return r?(t.Q=+r[0]*1e3,n+r[0].length):-1}function H0(t,e){return be(t.getDate(),e,2)}function Lw(t,e){return be(t.getHours(),e,2)}function Rw(t,e){return be(t.getHours()%12||12,e,2)}function Iw(t,e){return be(1+ra.count(Jn(t),t),e,3)}function X0(t,e){return be(t.getMilliseconds(),e,3)}function Dw(t,e){return X0(t,e)+"000"}function Bw(t,e){return be(t.getMonth()+1,e,2)}function zw(t,e){return be(t.getMinutes(),e,2)}function Ow(t,e){return be(t.getSeconds(),e,2)}function $w(t){var e=t.getDay();return e===0?7:e}function Vw(t,e){return be(ia.count(Jn(t),t),e,2)}function Gw(t,e){var n=t.getDay();return t=n>=4||n===0?oa(t):oa.ceil(t),be(oa.count(Jn(t),t)+(Jn(t).getDay()===4),e,2)}function Uw(t){return t.getDay()}function Yw(t,e){return be(aa.count(Jn(t),t),e,2)}function Hw(t,e){return be(t.getFullYear()%100,e,2)}function Xw(t,e){return be(t.getFullYear()%1e4,e,4)}function Ww(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+be(e/60|0,"0",2)+be(e%60,"0",2)}function W0(t,e){return be(t.getUTCDate(),e,2)}function qw(t,e){return be(t.getUTCHours(),e,2)}function jw(t,e){return be(t.getUTCHours()%12||12,e,2)}function Zw(t,e){return be(1+sa.count(tr(t),t),e,3)}function q0(t,e){return be(t.getUTCMilliseconds(),e,3)}function Kw(t,e){return q0(t,e)+"000"}function Qw(t,e){return be(t.getUTCMonth()+1,e,2)}function Jw(t,e){return be(t.getUTCMinutes(),e,2)}function tb(t,e){return be(t.getUTCSeconds(),e,2)}function eb(t){var e=t.getUTCDay();return e===0?7:e}function nb(t,e){return be(la.count(tr(t),t),e,2)}function rb(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ca(t):ca.ceil(t),be(ca.count(tr(t),t)+(tr(t).getUTCDay()===4),e,2)}function ib(t){return t.getUTCDay()}function ab(t,e){return be(ua.count(tr(t),t),e,2)}function ob(t,e){return be(t.getUTCFullYear()%100,e,2)}function sb(t,e){return be(t.getUTCFullYear()%1e4,e,4)}function lb(){return"+0000"}function j0(){return"%"}function Z0(t){return+t}function K0(t){return Math.floor(+t/1e3)}var fi;Q0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Q0(t){return fi=V0(t),l.timeFormat=fi.format,l.timeParse=fi.parse,l.utcFormat=fi.utcFormat,l.utcParse=fi.utcParse,fi}var J0="%Y-%m-%dT%H:%M:%S.%LZ";function ub(t){return t.toISOString()}var cb=Date.prototype.toISOString?ub:l.utcFormat(J0);function fb(t){var e=new Date(t);return isNaN(e)?null:e}var hb=+new Date("2000-01-01T00:00:00.000Z")?fb:l.utcParse(J0),ga=1e3,pa=ga*60,va=pa*60,ya=va*24,db=ya*7,td=ya*30,Su=ya*365;function gb(t){return new Date(t)}function pb(t){return t instanceof Date?+t:+new Date(+t)}function Tu(t,e,n,r,i,a,o,s,u){var c=jo(vu,pn),h=c.invert,d=c.domain,f=u(".%L"),v=u(":%S"),y=u("%I:%M"),m=u("%I %p"),_=u("%a %d"),S=u("%b %d"),O=u("%B"),T=u("%Y"),z=[[o,1,ga],[o,5,5*ga],[o,15,15*ga],[o,30,30*ga],[a,1,pa],[a,5,5*pa],[a,15,15*pa],[a,30,30*pa],[i,1,va],[i,3,3*va],[i,6,6*va],[i,12,12*va],[r,1,ya],[r,2,2*ya],[n,1,db],[e,1,td],[e,3,3*td],[t,1,Su]];function j(Z){return(o(Z)<Z?f:a(Z)<Z?v:i(Z)<Z?y:r(Z)<Z?m:e(Z)<Z?n(Z)<Z?_:S:t(Z)<Z?O:T)(Z)}function et(Z,lt,J,xt){if(Z==null&&(Z=10),typeof Z=="number"){var vt=Math.abs(J-lt)/Z,ut=C(function(N){return N[2]}).right(z,vt);ut===z.length?(xt=le(lt/Su,J/Su,Z),Z=t):ut?(ut=z[vt/z[ut-1][2]<z[ut][2]/vt?ut-1:ut],xt=ut[1],Z=ut[0]):(xt=Math.max(le(lt,J,Z),1),Z=s)}return xt==null?Z:Z.every(xt)}return c.invert=function(Z){return new Date(h(Z))},c.domain=function(Z){return arguments.length?d(fu.call(Z,pb)):d().map(gb)},c.ticks=function(Z,lt){var J=d(),xt=J[0],vt=J[J.length-1],ut=vt<xt,N;return ut&&(N=xt,xt=vt,vt=N),N=et(Z,xt,vt,lt),N=N?N.range(xt,vt+1):[],ut?N.reverse():N},c.tickFormat=function(Z,lt){return lt==null?j:u(lt)},c.nice=function(Z,lt){var J=d();return(Z=et(Z,J[0],J[J.length-1],lt))?d(_0(J,Z)):c},c.copy=function(){return qo(c,Tu(t,e,n,r,i,a,o,s,u))},c}var vb=function(){return Tu(Jn,xu,ia,ra,bu,wu,na,Rr,l.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},yb=function(){return Tu(tr,Mu,la,sa,Cu,ku,na,Rr,l.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},dr=function(t){return t.match(/.{6}/g).map(function(e){return"#"+e})},mb=dr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),_b=dr("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),wb=dr("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),bb=dr("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),xb=Oa(Nn(300,.5,0),Nn(-240,.5,1)),kb=Oa(Nn(-100,.75,.35),Nn(80,1.5,.8)),Cb=Oa(Nn(260,.75,.35),Nn(80,1.5,.8)),Qo=Nn(),Mb=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Qo.h=360*t-100,Qo.s=1.5-1.5*e,Qo.l=.8-.9*e,Qo+""};function Jo(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Sb=Jo(dr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Tb=Jo(dr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ab=Jo(dr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Pb=Jo(dr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ed(t){var e=0,n=1,r=!1;function i(a){var o=(a-e)/(n-e);return t(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.clamp=function(a){return arguments.length?(r=!!a,i):r},i.interpolator=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return ed(t).domain([e,n]).clamp(r)},ea(i)}var oe=function(t){return function(){return t}},nd=Math.abs,je=Math.atan2,Br=Math.cos,Fb=Math.max,Au=Math.min,Yn=Math.sin,hi=Math.sqrt,Ze=1e-12,gr=Math.PI,ts=gr/2,pr=2*gr;function Nb(t){return t>1?0:t<-1?gr:Math.acos(t)}function rd(t){return t>=1?ts:t<=-1?-ts:Math.asin(t)}function Eb(t){return t.innerRadius}function Lb(t){return t.outerRadius}function Rb(t){return t.startAngle}function Ib(t){return t.endAngle}function Db(t){return t&&t.padAngle}function Bb(t,e,n,r,i,a,o,s){var u=n-t,c=r-e,h=o-i,d=s-a,f=(h*(e-a)-d*(t-i))/(d*u-h*c);return[t+f*u,e+f*c]}function es(t,e,n,r,i,a,o){var s=t-n,u=e-r,c=(o?a:-a)/hi(s*s+u*u),h=c*u,d=-c*s,f=t+h,v=e+d,y=n+h,m=r+d,_=(f+y)/2,S=(v+m)/2,O=y-f,T=m-v,z=O*O+T*T,j=i-a,et=f*m-y*v,Z=(T<0?-1:1)*hi(Fb(0,j*j*z-et*et)),lt=(et*T-O*Z)/z,J=(-et*O-T*Z)/z,xt=(et*T+O*Z)/z,vt=(-et*O+T*Z)/z,ut=lt-_,N=J-S,X=xt-_,ft=vt-S;return ut*ut+N*N>X*X+ft*ft&&(lt=xt,J=vt),{cx:lt,cy:J,x01:-h,y01:-d,x11:lt*(i/j-1),y11:J*(i/j-1)}}var zb=function(){var t=Eb,e=Lb,n=oe(0),r=null,i=Rb,a=Ib,o=Db,s=null;function u(){var c,h,d=+t.apply(this,arguments),f=+e.apply(this,arguments),v=i.apply(this,arguments)-ts,y=a.apply(this,arguments)-ts,m=nd(y-v),_=y>v;if(s||(s=c=sr()),f<d&&(h=f,f=d,d=h),!(f>Ze))s.moveTo(0,0);else if(m>pr-Ze)s.moveTo(f*Br(v),f*Yn(v)),s.arc(0,0,f,v,y,!_),d>Ze&&(s.moveTo(d*Br(y),d*Yn(y)),s.arc(0,0,d,y,v,_));else{var S=v,O=y,T=v,z=y,j=m,et=m,Z=o.apply(this,arguments)/2,lt=Z>Ze&&(r?+r.apply(this,arguments):hi(d*d+f*f)),J=Au(nd(f-d)/2,+n.apply(this,arguments)),xt=J,vt=J,ut,N;if(lt>Ze){var X=rd(lt/d*Yn(Z)),ft=rd(lt/f*Yn(Z));(j-=X*2)>Ze?(X*=_?1:-1,T+=X,z-=X):(j=0,T=z=(v+y)/2),(et-=ft*2)>Ze?(ft*=_?1:-1,S+=ft,O-=ft):(et=0,S=O=(v+y)/2)}var wt=f*Br(S),kt=f*Yn(S),Kt=d*Br(z),qt=d*Yn(z);if(J>Ze){var ye=f*Br(O),de=f*Yn(O),Ce=d*Br(T),me=d*Yn(T);if(m<gr){var Me=j>Ze?Bb(wt,kt,Ce,me,ye,de,Kt,qt):[Kt,qt],we=wt-Me[0],ln=kt-Me[1],It=ye-Me[0],Qt=de-Me[1],ne=1/Yn(Nb((we*It+ln*Qt)/(hi(we*we+ln*ln)*hi(It*It+Qt*Qt)))/2),Mt=hi(Me[0]*Me[0]+Me[1]*Me[1]);xt=Au(J,(d-Mt)/(ne-1)),vt=Au(J,(f-Mt)/(ne+1))}}et>Ze?vt>Ze?(ut=es(Ce,me,wt,kt,f,vt,_),N=es(ye,de,Kt,qt,f,vt,_),s.moveTo(ut.cx+ut.x01,ut.cy+ut.y01),vt<J?s.arc(ut.cx,ut.cy,vt,je(ut.y01,ut.x01),je(N.y01,N.x01),!_):(s.arc(ut.cx,ut.cy,vt,je(ut.y01,ut.x01),je(ut.y11,ut.x11),!_),s.arc(0,0,f,je(ut.cy+ut.y11,ut.cx+ut.x11),je(N.cy+N.y11,N.cx+N.x11),!_),s.arc(N.cx,N.cy,vt,je(N.y11,N.x11),je(N.y01,N.x01),!_))):(s.moveTo(wt,kt),s.arc(0,0,f,S,O,!_)):s.moveTo(wt,kt),!(d>Ze)||!(j>Ze)?s.lineTo(Kt,qt):xt>Ze?(ut=es(Kt,qt,ye,de,d,-xt,_),N=es(wt,kt,Ce,me,d,-xt,_),s.lineTo(ut.cx+ut.x01,ut.cy+ut.y01),xt<J?s.arc(ut.cx,ut.cy,xt,je(ut.y01,ut.x01),je(N.y01,N.x01),!_):(s.arc(ut.cx,ut.cy,xt,je(ut.y01,ut.x01),je(ut.y11,ut.x11),!_),s.arc(0,0,d,je(ut.cy+ut.y11,ut.cx+ut.x11),je(N.cy+N.y11,N.cx+N.x11),_),s.arc(N.cx,N.cy,xt,je(N.y11,N.x11),je(N.y01,N.x01),!_))):s.arc(0,0,d,z,T,_)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-gr/2;return[Br(h)*c,Yn(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:oe(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:oe(+c),u):e},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:oe(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:oe(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:oe(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:oe(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:oe(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u};function id(t){this._context=t}id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var ns=function(t){return new id(t)};function Pu(t){return t[0]}function Fu(t){return t[1]}var Nu=function(){var t=Pu,e=Fu,n=oe(!0),r=null,i=ns,a=null;function o(s){var u,c=s.length,h,d=!1,f;for(r==null&&(a=i(f=sr())),u=0;u<=c;++u)!(u<c&&n(h=s[u],u,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,u,s),+e(h,u,s));if(f)return a=null,f+""||null}return o.x=function(s){return arguments.length?(t=typeof s=="function"?s:oe(+s),o):t},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:oe(+s),o):e},o.defined=function(s){return arguments.length?(n=typeof s=="function"?s:oe(!!s),o):n},o.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),o):i},o.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),o):r},o},ad=function(){var t=Pu,e=null,n=oe(0),r=Fu,i=oe(!0),a=null,o=ns,s=null;function u(h){var d,f,v,y=h.length,m,_=!1,S,O=new Array(y),T=new Array(y);for(a==null&&(s=o(S=sr())),d=0;d<=y;++d){if(!(d<y&&i(m=h[d],d,h))===_)if(_=!_)f=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=d-1;v>=f;--v)s.point(O[v],T[v]);s.lineEnd(),s.areaEnd()}_&&(O[d]=+t(m,d,h),T[d]=+n(m,d,h),s.point(e?+e(m,d,h):O[d],r?+r(m,d,h):T[d]))}if(S)return s=null,S+""||null}function c(){return Nu().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:oe(+h),e=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:oe(+h),u):t},u.x1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:oe(+h),u):e},u.y=function(h){return arguments.length?(n=typeof h=="function"?h:oe(+h),r=null,u):n},u.y0=function(h){return arguments.length?(n=typeof h=="function"?h:oe(+h),u):n},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:oe(+h),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:oe(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),u):a},u},Ob=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},$b=function(t){return t},Vb=function(){var t=$b,e=Ob,n=null,r=oe(0),i=oe(pr),a=oe(0);function o(s){var u,c=s.length,h,d,f=0,v=new Array(c),y=new Array(c),m=+r.apply(this,arguments),_=Math.min(pr,Math.max(-pr,i.apply(this,arguments)-m)),S,O=Math.min(Math.abs(_)/c,a.apply(this,arguments)),T=O*(_<0?-1:1),z;for(u=0;u<c;++u)(z=y[v[u]=u]=+t(s[u],u,s))>0&&(f+=z);for(e!=null?v.sort(function(j,et){return e(y[j],y[et])}):n!=null&&v.sort(function(j,et){return n(s[j],s[et])}),u=0,d=f?(_-c*T)/f:0;u<c;++u,m=S)h=v[u],z=y[h],S=m+(z>0?z*d:0)+T,y[h]={data:s[h],index:u,value:z,startAngle:m,endAngle:S,padAngle:O};return y}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:oe(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:oe(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:oe(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:oe(+s),o):a},o},od=Eu(ns);function sd(t){this._curve=t}sd.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Eu(t){function e(n){return new sd(t(n))}return e._curve=t,e}function ma(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Eu(n)):e()._curve},t}var ld=function(){return ma(Nu().curve(od))},ud=function(){var t=ad().curve(od),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ma(n())},delete t.lineX0,t.lineEndAngle=function(){return ma(r())},delete t.lineX1,t.lineInnerRadius=function(){return ma(i())},delete t.lineY0,t.lineOuterRadius=function(){return ma(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(Eu(o)):e()._curve},t},_a=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},Lu=Array.prototype.slice;function Gb(t){return t.source}function Ub(t){return t.target}function Ru(t){var e=Gb,n=Ub,r=Pu,i=Fu,a=null;function o(){var s,u=Lu.call(arguments),c=e.apply(this,u),h=n.apply(this,u);if(a||(a=s=sr()),t(a,+r.apply(this,(u[0]=c,u)),+i.apply(this,u),+r.apply(this,(u[0]=h,u)),+i.apply(this,u)),s)return a=null,s+""||null}return o.source=function(s){return arguments.length?(e=s,o):e},o.target=function(s){return arguments.length?(n=s,o):n},o.x=function(s){return arguments.length?(r=typeof s=="function"?s:oe(+s),o):r},o.y=function(s){return arguments.length?(i=typeof s=="function"?s:oe(+s),o):i},o.context=function(s){return arguments.length?(a=s??null,o):a},o}function Yb(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Hb(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Xb(t,e,n,r,i){var a=_a(e,n),o=_a(e,n=(n+i)/2),s=_a(r,n),u=_a(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function Wb(){return Ru(Yb)}function qb(){return Ru(Hb)}function jb(){var t=Ru(Xb);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Iu={draw:function(t,e){var n=Math.sqrt(e/gr);t.moveTo(n,0),t.arc(0,0,n,0,pr)}},cd={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fd=Math.sqrt(1/3),Zb=fd*2,hd={draw:function(t,e){var n=Math.sqrt(e/Zb),r=n*fd;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Kb=.8908130915292852,dd=Math.sin(gr/10)/Math.sin(7*gr/10),Qb=Math.sin(pr/10)*dd,Jb=-Math.cos(pr/10)*dd,gd={draw:function(t,e){var n=Math.sqrt(e*Kb),r=Qb*n,i=Jb*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=pr*a/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},pd={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Du=Math.sqrt(3),vd={draw:function(t,e){var n=-Math.sqrt(e/(Du*3));t.moveTo(0,n*2),t.lineTo(-Du*n,-n),t.lineTo(Du*n,-n),t.closePath()}},Sn=-.5,Tn=Math.sqrt(3)/2,Bu=1/Math.sqrt(12),tx=(Bu/2+1)*3,yd={draw:function(t,e){var n=Math.sqrt(e/tx),r=n/2,i=n*Bu,a=r,o=n*Bu+n,s=-a,u=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(Sn*r-Tn*i,Tn*r+Sn*i),t.lineTo(Sn*a-Tn*o,Tn*a+Sn*o),t.lineTo(Sn*s-Tn*u,Tn*s+Sn*u),t.lineTo(Sn*r+Tn*i,Sn*i-Tn*r),t.lineTo(Sn*a+Tn*o,Sn*o-Tn*a),t.lineTo(Sn*s+Tn*u,Sn*u-Tn*s),t.closePath()}},ex=[Iu,cd,hd,pd,gd,vd,yd],nx=function(){var t=oe(Iu),e=oe(64),n=null;function r(){var i;if(n||(n=i=sr()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:oe(i),r):t},r.size=function(i){return arguments.length?(e=typeof i=="function"?i:oe(+i),r):e},r.context=function(i){return arguments.length?(n=i??null,r):n},r},vr=function(){};function rs(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function is(t){this._context=t}is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var rx=function(t){return new is(t)};function md(t){this._context=t}md.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var ix=function(t){return new md(t)};function _d(t){this._context=t}_d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var ax=function(t){return new _d(t)};function wd(t,e){this._basis=new is(t),this._beta=e}wd.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,s=-1,u;++s<=n;)u=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+u*a),this._beta*e[s]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ox=function t(e){function n(r){return e===1?new is(r):new wd(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function as(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function zu(t,e){this._context=t,this._k=(1-e)/6}zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:as(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:as(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sx=function t(e){function n(r){return new zu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Ou(t,e){this._context=t,this._k=(1-e)/6}Ou.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:as(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var lx=function t(e){function n(r){return new Ou(r,e)}return n.tension=function(r){return t(+r)},n}(0);function $u(t,e){this._context=t,this._k=(1-e)/6}$u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:as(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ux=function t(e){function n(r){return new $u(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Vu(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Ze){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Ze){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/h,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function bd(t,e){this._context=t,this._alpha=e}bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Vu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cx=function t(e){function n(r){return e?new bd(r,e):new zu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function xd(t,e){this._context=t,this._alpha=e}xd.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Vu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var fx=function t(e){function n(r){return e?new xd(r,e):new Ou(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function kd(t,e){this._context=t,this._alpha=e}kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var hx=function t(e){function n(r){return e?new kd(r,e):new $u(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function Cd(t){this._context=t}Cd.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var dx=function(t){return new Cd(t)};function Md(t){return t<0?-1:1}function Sd(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Md(a)+Md(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Td(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gu(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function os(t){this._context=t}os.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gu(this,this._t0,Td(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gu(this,Td(this,n=Sd(this,t,e)),n);break;default:Gu(this,this._t0,n=Sd(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ad(t){this._context=new Pd(t)}(Ad.prototype=Object.create(os.prototype)).point=function(t,e){os.prototype.point.call(this,e,t)};function Pd(t){this._context=t}Pd.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function gx(t){return new os(t)}function px(t){return new Ad(t)}function Fd(t){this._context=t}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Nd(t),i=Nd(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Nd(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}var vx=function(t){return new Fd(t)};function ss(t,e){this._context=t,this._t=e}ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};var yx=function(t){return new ss(t,.5)};function mx(t){return new ss(t,0)}function _x(t){return new ss(t,1)}var di=function(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]},gi=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function wx(t,e){return t[e]}var bx=function(){var t=oe([]),e=gi,n=di,r=wx;function i(a){var o=t.apply(this,arguments),s,u=a.length,c=o.length,h=new Array(c),d;for(s=0;s<c;++s){for(var f=o[s],v=h[s]=new Array(u),y=0,m;y<u;++y)v[y]=m=[0,+r(a[y],f,y,a)],m.data=a[y];v.key=f}for(s=0,d=e(h);s<c;++s)h[d[s]].index=s;return n(h,d),h}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:oe(Lu.call(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:oe(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?gi:typeof a=="function"?a:oe(Lu.call(a)),i):e},i.offset=function(a){return arguments.length?(n=a??di,i):n},i},xx=function(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}di(t,e)}},kx=function(t,e){if((u=t.length)>1)for(var n,r=0,i,a,o,s,u,c=t[e[0]].length;r<c;++r)for(o=s=0,n=0;n<u;++n)(a=(i=t[e[n]][r])[1]-i[0])>=0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):i[0]=o},Cx=function(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}di(t,e)}},Mx=function(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,u=0,c=0;s<o;++s){for(var h=t[e[s]],d=h[r][1]||0,f=h[r-1][1]||0,v=(d-f)/2,y=0;y<s;++y){var m=t[e[y]],_=m[r][1]||0,S=m[r-1][1]||0;v+=_-S}u+=d,c+=v*d}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,di(t,e)}},Ed=function(t){var e=t.map(Ld);return gi(t).sort(function(n,r){return e[n]-e[r]})};function Ld(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}var Sx=function(t){return Ed(t).reverse()},Tx=function(t){var e=t.length,n,r,i=t.map(Ld),a=gi(t).sort(function(h,d){return i[d]-i[h]}),o=0,s=0,u=[],c=[];for(n=0;n<e;++n)r=a[n],o<s?(o+=i[r],u.push(r)):(s+=i[r],c.push(r));return c.reverse().concat(u)},Ax=function(t){return gi(t).reverse()},Rd=function(t){return function(){return t}};function Px(t){return t[0]}function Fx(t){return t[1]}function ls(){this._=null}function us(t){t.U=t.C=t.L=t.R=t.P=t.N=null}ls.prototype={constructor:ls,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Id(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(wa(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ba(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ba(this,n),t=n,n=t.U),n.C=!1,r.C=!0,wa(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,o;if(r?i?a=Id(i):a=r:a=i,e?e.L===t?e.L=a:e.R=a:this._=a,r&&i?(o=a.C,a.C=t.C,a.L=r,r.U=a,a!==i?(e=a.U,a.U=t.U,t=a.R,e.L=t,a.R=i,i.U=a):(a.U=e,e=a,t=a.R)):(o=t.C,t=a),t&&(t.U=e),!o){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,wa(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,ba(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,wa(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,ba(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,wa(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,ba(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function wa(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ba(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Id(t){for(;t.L;)t=t.L;return t}function xa(t,e,n,r){var i=[null,null],a=Ke.push(i)-1;return i.left=t,i.right=e,n&&cs(i,t,e,n),r&&cs(i,e,t,r),_n[t.index].halfedges.push(a),_n[e.index].halfedges.push(a),i}function ka(t,e,n){var r=[e,n];return r.left=t,r}function cs(t,e,n,r){!t[0]&&!t[1]?(t[0]=r,t.left=e,t.right=n):t.left===n?t[1]=r:t[0]=r}function Nx(t,e,n,r,i){var a=t[0],o=t[1],s=a[0],u=a[1],c=o[0],h=o[1],d=0,f=1,v=c-s,y=h-u,m;if(m=e-s,!(!v&&m>0)){if(m/=v,v<0){if(m<d)return;m<f&&(f=m)}else if(v>0){if(m>f)return;m>d&&(d=m)}if(m=r-s,!(!v&&m<0)){if(m/=v,v<0){if(m>f)return;m>d&&(d=m)}else if(v>0){if(m<d)return;m<f&&(f=m)}if(m=n-u,!(!y&&m>0)){if(m/=y,y<0){if(m<d)return;m<f&&(f=m)}else if(y>0){if(m>f)return;m>d&&(d=m)}if(m=i-u,!(!y&&m<0)){if(m/=y,y<0){if(m>f)return;m>d&&(d=m)}else if(y>0){if(m<d)return;m<f&&(f=m)}return!(d>0)&&!(f<1)||(d>0&&(t[0]=[s+d*v,u+d*y]),f<1&&(t[1]=[s+f*v,u+f*y])),!0}}}}}function Ex(t,e,n,r,i){var a=t[1];if(a)return!0;var o=t[0],s=t.left,u=t.right,c=s[0],h=s[1],d=u[0],f=u[1],v=(c+d)/2,y=(h+f)/2,m,_;if(f===h){if(v<e||v>=r)return;if(c>d){if(!o)o=[v,n];else if(o[1]>=i)return;a=[v,i]}else{if(!o)o=[v,i];else if(o[1]<n)return;a=[v,n]}}else if(m=(c-d)/(f-h),_=y-m*v,m<-1||m>1)if(c>d){if(!o)o=[(n-_)/m,n];else if(o[1]>=i)return;a=[(i-_)/m,i]}else{if(!o)o=[(i-_)/m,i];else if(o[1]<n)return;a=[(n-_)/m,n]}else if(h<f){if(!o)o=[e,m*e+_];else if(o[0]>=r)return;a=[r,m*r+_]}else{if(!o)o=[r,m*r+_];else if(o[0]<e)return;a=[e,m*e+_]}return t[0]=o,t[1]=a,!0}function Lx(t,e,n,r){for(var i=Ke.length,a;i--;)(!Ex(a=Ke[i],t,e,n,r)||!Nx(a,t,e,n,r)||!(Math.abs(a[0][0]-a[1][0])>xe||Math.abs(a[0][1]-a[1][1])>xe))&&delete Ke[i]}function Rx(t){return _n[t.index]={site:t,halfedges:[]}}function Ix(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Dd(t,e){return e[+(e.left!==t.site)]}function Dx(t,e){return e[+(e.left===t.site)]}function Bx(){for(var t=0,e=_n.length,n,r,i,a;t<e;++t)if((n=_n[t])&&(a=(r=n.halfedges).length)){var o=new Array(a),s=new Array(a);for(i=0;i<a;++i)o[i]=i,s[i]=Ix(n,Ke[r[i]]);for(o.sort(function(u,c){return s[c]-s[u]}),i=0;i<a;++i)s[i]=r[o[i]];for(i=0;i<a;++i)r[i]=s[i]}}function zx(t,e,n,r){var i=_n.length,a,o,s,u,c,h,d,f,v,y,m,_,S=!0;for(a=0;a<i;++a)if(o=_n[a]){for(s=o.site,c=o.halfedges,u=c.length;u--;)Ke[c[u]]||c.splice(u,1);for(u=0,h=c.length;u<h;)y=Dx(o,Ke[c[u]]),m=y[0],_=y[1],d=Dd(o,Ke[c[++u%h]]),f=d[0],v=d[1],(Math.abs(m-f)>xe||Math.abs(_-v)>xe)&&(c.splice(u,0,Ke.push(ka(s,y,Math.abs(m-t)<xe&&r-_>xe?[t,Math.abs(f-t)<xe?v:r]:Math.abs(_-r)<xe&&n-m>xe?[Math.abs(v-r)<xe?f:n,r]:Math.abs(m-n)<xe&&_-e>xe?[n,Math.abs(f-n)<xe?v:e]:Math.abs(_-e)<xe&&m-t>xe?[Math.abs(v-e)<xe?f:t,e]:null))-1),++h);h&&(S=!1)}if(S){var O,T,z,j=1/0;for(a=0,S=null;a<i;++a)(o=_n[a])&&(s=o.site,O=s[0]-t,T=s[1]-e,z=O*O+T*T,z<j&&(j=z,S=o));if(S){var et=[t,e],Z=[t,r],lt=[n,r],J=[n,e];S.halfedges.push(Ke.push(ka(s=S.site,et,Z))-1,Ke.push(ka(s,Z,lt))-1,Ke.push(ka(s,lt,J))-1,Ke.push(ka(s,J,et))-1)}}for(a=0;a<i;++a)(o=_n[a])&&(o.halfedges.length||delete _n[a])}var Bd=[],Uu;function Ox(){us(this),this.x=this.y=this.arc=this.site=this.cy=null}function pi(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,c=r[1]-s,h=a[0]-o,d=a[1]-s,f=2*(u*d-c*h);if(!(f>=-Yx)){var v=u*u+c*c,y=h*h+d*d,m=(d*v-c*y)/f,_=(u*y-h*v)/f,S=Bd.pop()||new Ox;S.arc=t,S.site=i,S.x=m+o,S.y=(S.cy=_+s)+Math.sqrt(m*m+_*_),t.circle=S;for(var O=null,T=Ca._;T;)if(S.y<T.y||S.y===T.y&&S.x<=T.x)if(T.L)T=T.L;else{O=T.P;break}else if(T.R)T=T.R;else{O=T;break}Ca.insert(O,S),O||(Uu=S)}}}}function vi(t){var e=t.circle;e&&(e.P||(Uu=e.N),Ca.remove(e),Bd.push(e),us(e),t.circle=null)}var zd=[];function $x(){us(this),this.edge=this.site=this.circle=null}function Od(t){var e=zd.pop()||new $x;return e.site=t,e}function Yu(t){vi(t),yi.remove(t),zd.push(t),us(t)}function Vx(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];Yu(t);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<xe&&Math.abs(r-u.circle.cy)<xe;)a=u.P,s.unshift(u),Yu(u),u=a;s.unshift(u),vi(u);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<xe&&Math.abs(r-c.circle.cy)<xe;)o=c.N,s.push(c),Yu(c),c=o;s.push(c),vi(c);var h=s.length,d;for(d=1;d<h;++d)c=s[d],u=s[d-1],cs(c.edge,u.site,c.site,i);u=s[0],c=s[h-1],c.edge=xa(u.site,c.site,null,i),pi(u),pi(c)}function Gx(t){for(var e=t[0],n=t[1],r,i,a,o,s=yi._;s;)if(a=$d(s,n)-e,a>xe)s=s.L;else if(o=e-Ux(s,n),o>xe){if(!s.R){r=s;break}s=s.R}else{a>-xe?(r=s.P,i=s):o>-xe?(r=s,i=s.N):r=i=s;break}Rx(t);var u=Od(t);if(yi.insert(r,u),!(!r&&!i)){if(r===i){vi(r),i=Od(r.site),yi.insert(u,i),u.edge=i.edge=xa(r.site,u.site),pi(r),pi(i);return}if(!i){u.edge=xa(r.site,u.site);return}vi(r),vi(i);var c=r.site,h=c[0],d=c[1],f=t[0]-h,v=t[1]-d,y=i.site,m=y[0]-h,_=y[1]-d,S=2*(f*_-v*m),O=f*f+v*v,T=m*m+_*_,z=[(_*O-v*T)/S+h,(f*T-m*O)/S+d];cs(i.edge,c,y,z),u.edge=xa(c,t,null,z),i.edge=xa(t,y,null,z),pi(r),pi(i)}}function $d(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;n=o.site;var s=n[0],u=n[1],c=u-e;if(!c)return s;var h=s-r,d=1/a-1/c,f=h/c;return d?(-f+Math.sqrt(f*f-2*d*(h*h/(-2*c)-u+c/2+i-a/2)))/d+r:(r+s)/2}function Ux(t,e){var n=t.N;if(n)return $d(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var xe=1e-6,Yx=1e-12,yi,_n,Ca,Ke;function Hx(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Xx(t,e){return e[1]-t[1]||e[0]-t[0]}function Hu(t,e){var n=t.sort(Xx).pop(),r,i,a;for(Ke=[],_n=new Array(t.length),yi=new ls,Ca=new ls;;)if(a=Uu,n&&(!a||n[1]<a.y||n[1]===a.y&&n[0]<a.x))(n[0]!==r||n[1]!==i)&&(Gx(n),r=n[0],i=n[1]),n=t.pop();else if(a)Vx(a.arc);else break;if(Bx(),e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];Lx(o,s,u,c),zx(o,s,u,c)}this.edges=Ke,this.cells=_n,yi=Ca=Ke=_n=null}Hu.prototype={constructor:Hu,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(r){return Dd(e,t[r])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(s=(a=n.halfedges).length)for(var i=n.site,a,o=-1,s,u,c=e[a[s-1]],h=c.left===i?c.right:c.left;++o<s;)u=h,c=e[a[o]],h=c.left===i?c.right:c.left,u&&h&&r<u.index&&r<h.index&&Hx(i,u,h)<0&&t.push([i.data,u.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r=this,i,a=r._found||0,o=r.cells.length,s;!(s=r.cells[a]);)if(++a>=o)return null;var u=t-s.site[0],c=e-s.site[1],h=u*u+c*c;do s=r.cells[i=a],a=null,s.halfedges.forEach(function(d){var f=r.edges[d],v=f.left;if(!((v===s.site||!v)&&!(v=f.right))){var y=t-v[0],m=e-v[1],_=y*y+m*m;_<h&&(h=_,a=v.index)}});while(a!==null);return r._found=i,n==null||h<=n*n?s.site:null}};var Wx=function(){var t=Px,e=Fx,n=null;function r(i){return new Hu(i.map(function(a,o){var s=[Math.round(t(a,o,i)/xe)*xe,Math.round(e(a,o,i)/xe)*xe];return s.index=o,s.data=a,s}),n)}return r.polygons=function(i){return r(i).polygons()},r.links=function(i){return r(i).links()},r.triangles=function(i){return r(i).triangles()},r.x=function(i){return arguments.length?(t=typeof i=="function"?i:Rd(+i),r):t},r.y=function(i){return arguments.length?(e=typeof i=="function"?i:Rd(+i),r):e},r.extent=function(i){return arguments.length?(n=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(i){return arguments.length?(n=i==null?null:[[0,0],[+i[0],+i[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},fs=function(t){return function(){return t}};function qx(t,e,n){this.target=t,this.type=e,this.transform=n}function er(t,e,n){this.k=t,this.x=e,this.y=n}er.prototype={constructor:er,scale:function(t){return t===1?this:new er(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new er(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hs=new er(1,0,0);Vd.prototype=er.prototype;function Vd(t){return t.__zoom||hs}function Xu(){l.event.stopImmediatePropagation()}var Ma=function(){l.event.preventDefault(),l.event.stopImmediatePropagation()};function jx(){return!l.event.button}function Zx(){var t=this,e,n;return t instanceof SVGElement?(t=t.ownerSVGElement||t,e=t.width.baseVal.value,n=t.height.baseVal.value):(e=t.clientWidth,n=t.clientHeight),[[0,0],[e,n]]}function Gd(){return this.__zoom||hs}function Kx(){return-l.event.deltaY*(l.event.deltaMode?120:1)/500}function Qx(){return"ontouchstart"in this}function Jx(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var tk=function(){var t=jx,e=Zx,n=Jx,r=Kx,i=Qx,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Ec,c=[],h=bn("start","zoom","end"),d,f,v=500,y=150,m=0;function _(N){N.property("__zoom",Gd).on("wheel.zoom",Z).on("mousedown.zoom",lt).on("dblclick.zoom",J).filter(i).on("touchstart.zoom",xt).on("touchmove.zoom",vt).on("touchend.zoom touchcancel.zoom",ut).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(N,X){var ft=N.selection?N.selection():N;ft.property("__zoom",Gd),N!==ft?z(N,X):ft.interrupt().each(function(){j(this,arguments).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},_.scaleBy=function(N,X){_.scaleTo(N,function(){var ft=this.__zoom.k,wt=typeof X=="function"?X.apply(this,arguments):X;return ft*wt})},_.scaleTo=function(N,X){_.transform(N,function(){var ft=e.apply(this,arguments),wt=this.__zoom,kt=T(ft),Kt=wt.invert(kt),qt=typeof X=="function"?X.apply(this,arguments):X;return n(O(S(wt,qt),kt,Kt),ft,o)})},_.translateBy=function(N,X,ft){_.transform(N,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof ft=="function"?ft.apply(this,arguments):ft),e.apply(this,arguments),o)})},_.translateTo=function(N,X,ft){_.transform(N,function(){var wt=e.apply(this,arguments),kt=this.__zoom,Kt=T(wt);return n(hs.translate(Kt[0],Kt[1]).scale(kt.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof ft=="function"?-ft.apply(this,arguments):-ft),wt,o)})};function S(N,X){return X=Math.max(a[0],Math.min(a[1],X)),X===N.k?N:new er(X,N.x,N.y)}function O(N,X,ft){var wt=X[0]-ft[0]*N.k,kt=X[1]-ft[1]*N.k;return wt===N.x&&kt===N.y?N:new er(N.k,wt,kt)}function T(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function z(N,X,ft){N.on("start.zoom",function(){j(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).end()}).tween("zoom",function(){var wt=this,kt=arguments,Kt=j(wt,kt),qt=e.apply(wt,kt),ye=ft||T(qt),de=Math.max(qt[1][0]-qt[0][0],qt[1][1]-qt[0][1]),Ce=wt.__zoom,me=typeof X=="function"?X.apply(wt,kt):X,Me=u(Ce.invert(ye).concat(de/Ce.k),me.invert(ye).concat(de/me.k));return function(we){if(we===1)we=me;else{var ln=Me(we),It=de/ln[2];we=new er(It,ye[0]-ln[0]*It,ye[1]-ln[1]*It)}Kt.zoom(null,we)}})}function j(N,X){for(var ft=0,wt=c.length,kt;ft<wt;++ft)if((kt=c[ft]).that===N)return kt;return new et(N,X)}function et(N,X){this.that=N,this.args=X,this.index=-1,this.active=0,this.extent=e.apply(N,X)}et.prototype={start:function(){return++this.active===1&&(this.index=c.push(this)-1,this.emit("start")),this},zoom:function(N,X){return this.mouse&&N!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(c.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(N){at(new qx(_,N,this.that.__zoom),h.apply,h,[N,this.that,this.args])}};function Z(){if(!t.apply(this,arguments))return;var N=j(this,arguments),X=this.__zoom,ft=Math.max(a[0],Math.min(a[1],X.k*Math.pow(2,r.apply(this,arguments)))),wt=Vt(this);if(N.wheel)(N.mouse[0][0]!==wt[0]||N.mouse[0][1]!==wt[1])&&(N.mouse[1]=X.invert(N.mouse[0]=wt)),clearTimeout(N.wheel);else{if(X.k===ft)return;N.mouse=[wt,X.invert(wt)],Sr(this),N.start()}Ma(),N.wheel=setTimeout(kt,y),N.zoom("mouse",n(O(S(X,ft),N.mouse[0],N.mouse[1]),N.extent,o));function kt(){N.wheel=null,N.end()}}function lt(){if(f||!t.apply(this,arguments))return;var N=j(this,arguments),X=gn(l.event.view).on("mousemove.zoom",Kt,!0).on("mouseup.zoom",qt,!0),ft=Vt(this),wt=l.event.clientX,kt=l.event.clientY;Pa(l.event.view),Xu(),N.mouse=[ft,this.__zoom.invert(ft)],Sr(this),N.start();function Kt(){if(Ma(),!N.moved){var ye=l.event.clientX-wt,de=l.event.clientY-kt;N.moved=ye*ye+de*de>m}N.zoom("mouse",n(O(N.that.__zoom,N.mouse[0]=Vt(N.that),N.mouse[1]),N.extent,o))}function qt(){X.on("mousemove.zoom mouseup.zoom",null),Fa(l.event.view,N.moved),Ma(),N.end()}}function J(){if(t.apply(this,arguments)){var N=this.__zoom,X=Vt(this),ft=N.invert(X),wt=N.k*(l.event.shiftKey?.5:2),kt=n(O(S(N,wt),X,ft),e.apply(this,arguments),o);Ma(),s>0?gn(this).transition().duration(s).call(z,kt,X):gn(this).call(_.transform,kt)}}function xt(){if(t.apply(this,arguments)){var N=j(this,arguments),X=l.event.changedTouches,ft,wt=X.length,kt,Kt,qt;for(Xu(),kt=0;kt<wt;++kt)Kt=X[kt],qt=Aa(this,X,Kt.identifier),qt=[qt,this.__zoom.invert(qt),Kt.identifier],N.touch0?N.touch1||(N.touch1=qt):(N.touch0=qt,ft=!0);if(d&&(d=clearTimeout(d),!N.touch1)){N.end(),qt=gn(this).on("dblclick.zoom"),qt&&qt.apply(this,arguments);return}ft&&(d=setTimeout(function(){d=null},v),Sr(this),N.start())}}function vt(){var N=j(this,arguments),X=l.event.changedTouches,ft=X.length,wt,kt,Kt,qt;for(Ma(),d&&(d=clearTimeout(d)),wt=0;wt<ft;++wt)kt=X[wt],Kt=Aa(this,X,kt.identifier),N.touch0&&N.touch0[2]===kt.identifier?N.touch0[0]=Kt:N.touch1&&N.touch1[2]===kt.identifier&&(N.touch1[0]=Kt);if(kt=N.that.__zoom,N.touch1){var ye=N.touch0[0],de=N.touch0[1],Ce=N.touch1[0],me=N.touch1[1],Me=(Me=Ce[0]-ye[0])*Me+(Me=Ce[1]-ye[1])*Me,we=(we=me[0]-de[0])*we+(we=me[1]-de[1])*we;kt=S(kt,Math.sqrt(Me/we)),Kt=[(ye[0]+Ce[0])/2,(ye[1]+Ce[1])/2],qt=[(de[0]+me[0])/2,(de[1]+me[1])/2]}else if(N.touch0)Kt=N.touch0[0],qt=N.touch0[1];else return;N.zoom("touch",n(O(kt,Kt,qt),N.extent,o))}function ut(){var N=j(this,arguments),X=l.event.changedTouches,ft=X.length,wt,kt;for(Xu(),f&&clearTimeout(f),f=setTimeout(function(){f=null},v),wt=0;wt<ft;++wt)kt=X[wt],N.touch0&&N.touch0[2]===kt.identifier?delete N.touch0:N.touch1&&N.touch1[2]===kt.identifier&&delete N.touch1;N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0?N.touch0[1]=this.__zoom.invert(N.touch0[0]):N.end()}return _.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:fs(+N),_):r},_.filter=function(N){return arguments.length?(t=typeof N=="function"?N:fs(!!N),_):t},_.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:fs(!!N),_):i},_.extent=function(N){return arguments.length?(e=typeof N=="function"?N:fs([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),_):e},_.scaleExtent=function(N){return arguments.length?(a[0]=+N[0],a[1]=+N[1],_):[a[0],a[1]]},_.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(N){return arguments.length?(n=N,_):n},_.duration=function(N){return arguments.length?(s=+N,_):s},_.interpolate=function(N){return arguments.length?(u=N,_):u},_.on=function(){var N=h.on.apply(h,arguments);return N===h?_:N},_.clickDistance=function(N){return arguments.length?(m=(N=+N)*N,_):Math.sqrt(m)},_};l.version=p,l.bisect=L,l.bisectRight=L,l.bisectLeft=P,l.ascending=g,l.bisector=C,l.cross=x,l.descending=I,l.deviation=k,l.extent=V,l.histogram=Ft,l.thresholdFreedmanDiaconis=ge,l.thresholdScott=Ue,l.thresholdSturges=Zt,l.max=In,l.mean=_e,l.median=Fe,l.merge=un,l.min=_t,l.pairs=R,l.permute=ue,l.quantile=te,l.range=ot,l.scan=fe,l.shuffle=Se,l.sum=Be,l.ticks=At,l.tickIncrement=Bt,l.tickStep=le,l.transpose=Ne,l.variance=E,l.zip=yt,l.axisTop=mi,l.axisRight=W,l.axisBottom=rr,l.axisLeft=Sa,l.brush=t1,l.brushX=Qv,l.brushY=Jv,l.brushSelection=Kv,l.chord=n1,l.ribbon=c1,l.nest=f1,l.set=df,l.map=$n,l.keys=g1,l.values=p1,l.entries=v1,l.color=ar,l.rgb=xi,l.hsl=Ea,l.lab=Ra,l.hcl=Ia,l.cubehelix=Nn,l.dispatch=bn,l.drag=Og,l.dragDisable=Pa,l.dragEnable=Fa,l.dsvFormat=fl,l.csvParse=vf,l.csvParseRows=_1,l.csvFormat=w1,l.csvFormatRows=b1,l.tsvParse=yf,l.tsvParseRows=x1,l.tsvFormat=k1,l.tsvFormatRows=C1,l.easeLinear=gv,l.easeQuad=Hc,l.easeQuadIn=pv,l.easeQuadOut=vv,l.easeQuadInOut=Hc,l.easeCubic=Ws,l.easeCubicIn=yv,l.easeCubicOut=mv,l.easeCubicInOut=Ws,l.easePoly=Xc,l.easePolyIn=_v,l.easePolyOut=wv,l.easePolyInOut=Xc,l.easeSin=jc,l.easeSinIn=bv,l.easeSinOut=xv,l.easeSinInOut=jc,l.easeExp=Zc,l.easeExpIn=kv,l.easeExpOut=Cv,l.easeExpInOut=Zc,l.easeCircle=Kc,l.easeCircleIn=Mv,l.easeCircleOut=Sv,l.easeCircleInOut=Kc,l.easeBounce=Li,l.easeBounceIn=Iv,l.easeBounceOut=Li,l.easeBounceInOut=Dv,l.easeBack=Qc,l.easeBackIn=Bv,l.easeBackOut=zv,l.easeBackInOut=Qc,l.easeElastic=Jc,l.easeElasticIn=Ov,l.easeElasticOut=Jc,l.easeElasticInOut=$v,l.forceCenter=M1,l.forceCollide=Y1,l.forceLink=X1,l.forceManyBody=Q1,l.forceRadial=J1,l.forceSimulation=K1,l.forceX=ty,l.forceY=ey,l.formatDefaultLocale=Tf,l.formatLocale=Sf,l.formatSpecifier=Di,l.precisionFixed=Af,l.precisionPrefix=Pf,l.precisionRound=Ff,l.geoArea=cy,l.geoBounds=gy,l.geoCentroid=wy,l.geoCircle=by,l.geoClipAntimeridian=Pl,l.geoClipCircle=hh,l.geoClipExtent=Ay,l.geoClipRectangle=Ao,l.geoContains=Iy,l.geoDistance=Gi,l.geoGraticule=xh,l.geoGraticule10=Dy,l.geoInterpolate=By,l.geoLength=dh,l.geoPath=qy,l.geoAlbers=$h,l.geoAlbersUsa=rm,l.geoAzimuthalEqualArea=im,l.geoAzimuthalEqualAreaRaw=Zl,l.geoAzimuthalEquidistant=am,l.geoAzimuthalEquidistantRaw=Kl,l.geoConicConformal=sm,l.geoConicConformalRaw=Uh,l.geoConicEqualArea=zo,l.geoConicEqualAreaRaw=Oh,l.geoConicEquidistant=um,l.geoConicEquidistantRaw=Yh,l.geoEquirectangular=lm,l.geoEquirectangularRaw=Qi,l.geoGnomonic=cm,l.geoGnomonicRaw=Ql,l.geoIdentity=fm,l.geoProjection=Kn,l.geoProjectionMutator=ql,l.geoMercator=om,l.geoMercatorRaw=Ki,l.geoNaturalEarth1=hm,l.geoNaturalEarth1Raw=Jl,l.geoOrthographic=dm,l.geoOrthographicRaw=tu,l.geoStereographic=gm,l.geoStereographicRaw=eu,l.geoTransverseMercator=pm,l.geoTransverseMercatorRaw=nu,l.geoRotation=ih,l.geoStream=Ln,l.geoTransform=jy,l.cluster=km,l.hierarchy=ru,l.pack=qm,l.packSiblings=Hm,l.packEnclose=Xh,l.partition=jm,l.stratify=Jm,l.tree=a_,l.treemap=o_,l.treemapBinary=s_,l.treemapDice=ta,l.treemapSlice=Ho,l.treemapSliceDice=l_,l.treemapSquarify=o0,l.treemapResquarify=u_,l.interpolate=Mi,l.interpolateArray=wc,l.interpolateBasis=vc,l.interpolateBasisClosed=yc,l.interpolateDate=bc,l.interpolateNumber=pn,l.interpolateObject=xc,l.interpolateRound=kc,l.interpolateString=Ds,l.interpolateTransformCss=Ac,l.interpolateTransformSvg=Pc,l.interpolateZoom=Ec,l.interpolateRgb=Ci,l.interpolateRgbBasis=tp,l.interpolateRgbBasisClosed=ep,l.interpolateHsl=up,l.interpolateHslLong=cp,l.interpolateLab=fp,l.interpolateHcl=hp,l.interpolateHclLong=dp,l.interpolateCubehelix=gp,l.interpolateCubehelixLong=Oa,l.quantize=pp,l.path=sr,l.polygonArea=c_,l.polygonCentroid=f_,l.polygonHull=g_,l.polygonContains=p_,l.polygonLength=v_,l.quadtree=no,l.queue=u0,l.randomUniform=b_,l.randomNormal=c0,l.randomLogNormal=x_,l.randomBates=k_,l.randomIrwinHall=f0,l.randomExponential=C_,l.request=cu,l.html=T_,l.json=A_,l.text=P_,l.xml=F_,l.csv=E_,l.tsv=L_,l.scaleBand=gu,l.scalePoint=R_,l.scaleIdentity=m0,l.scaleLinear=y0,l.scaleLog=k0,l.scaleOrdinal=du,l.scaleImplicit=hu,l.scalePow=yu,l.scaleSqrt=U_,l.scaleQuantile=C0,l.scaleQuantize=M0,l.scaleThreshold=S0,l.scaleTime=vb,l.scaleUtc=yb,l.schemeCategory10=mb,l.schemeCategory20b=_b,l.schemeCategory20c=wb,l.schemeCategory20=bb,l.interpolateCubehelixDefault=xb,l.interpolateRainbow=Mb,l.interpolateWarm=kb,l.interpolateCool=Cb,l.interpolateViridis=Sb,l.interpolateMagma=Tb,l.interpolateInferno=Ab,l.interpolatePlasma=Pb,l.scaleSequential=ed,l.creator=K,l.local=it,l.matcher=Rt,l.mouse=Vt,l.namespace=F,l.namespaces=$,l.clientPoint=Ht,l.select=gn,l.selectAll=Lg,l.selection=br,l.selector=ee,l.selectorAll=Pt,l.style=wr,l.touch=Aa,l.touches=Rg,l.window=_s,l.customEvent=at,l.arc=zb,l.area=ad,l.line=Nu,l.pie=Vb,l.areaRadial=ud,l.radialArea=ud,l.lineRadial=ld,l.radialLine=ld,l.pointRadial=_a,l.linkHorizontal=Wb,l.linkVertical=qb,l.linkRadial=jb,l.symbol=nx,l.symbols=ex,l.symbolCircle=Iu,l.symbolCross=cd,l.symbolDiamond=hd,l.symbolSquare=pd,l.symbolStar=gd,l.symbolTriangle=vd,l.symbolWye=yd,l.curveBasisClosed=ix,l.curveBasisOpen=ax,l.curveBasis=rx,l.curveBundle=ox,l.curveCardinalClosed=lx,l.curveCardinalOpen=ux,l.curveCardinal=sx,l.curveCatmullRomClosed=fx,l.curveCatmullRomOpen=hx,l.curveCatmullRom=cx,l.curveLinearClosed=dx,l.curveLinear=ns,l.curveMonotoneX=gx,l.curveMonotoneY=px,l.curveNatural=vx,l.curveStep=yx,l.curveStepAfter=_x,l.curveStepBefore=mx,l.stack=bx,l.stackOffsetExpand=xx,l.stackOffsetDiverging=kx,l.stackOffsetNone=di,l.stackOffsetSilhouette=Cx,l.stackOffsetWiggle=Mx,l.stackOrderAscending=Ed,l.stackOrderDescending=Sx,l.stackOrderInsideOut=Tx,l.stackOrderNone=gi,l.stackOrderReverse=Ax,l.timeInterval=Ge,l.timeMillisecond=Rr,l.timeMilliseconds=T0,l.utcMillisecond=Rr,l.utcMilliseconds=T0,l.timeSecond=na,l.timeSeconds=F0,l.utcSecond=na,l.utcSeconds=F0,l.timeMinute=wu,l.timeMinutes=Y_,l.timeHour=bu,l.timeHours=H_,l.timeDay=ra,l.timeDays=X_,l.timeWeek=ia,l.timeWeeks=I0,l.timeSunday=ia,l.timeSundays=I0,l.timeMonday=aa,l.timeMondays=W_,l.timeTuesday=N0,l.timeTuesdays=q_,l.timeWednesday=E0,l.timeWednesdays=j_,l.timeThursday=oa,l.timeThursdays=Z_,l.timeFriday=L0,l.timeFridays=K_,l.timeSaturday=R0,l.timeSaturdays=Q_,l.timeMonth=xu,l.timeMonths=J_,l.timeYear=Jn,l.timeYears=tw,l.utcMinute=ku,l.utcMinutes=ew,l.utcHour=Cu,l.utcHours=nw,l.utcDay=sa,l.utcDays=rw,l.utcWeek=la,l.utcWeeks=$0,l.utcSunday=la,l.utcSundays=$0,l.utcMonday=ua,l.utcMondays=iw,l.utcTuesday=D0,l.utcTuesdays=aw,l.utcWednesday=B0,l.utcWednesdays=ow,l.utcThursday=ca,l.utcThursdays=sw,l.utcFriday=z0,l.utcFridays=lw,l.utcSaturday=O0,l.utcSaturdays=uw,l.utcMonth=Mu,l.utcMonths=cw,l.utcYear=tr,l.utcYears=fw,l.timeFormatDefaultLocale=Q0,l.timeFormatLocale=V0,l.isoFormat=cb,l.isoParse=hb,l.now=qr,l.timer=Ua,l.timerFlush=zc,l.timeout=Vs,l.interval=_p,l.transition=Uc,l.active=Yv,l.interrupt=Sr,l.voronoi=Wx,l.zoom=tk,l.zoomTransform=Vd,l.zoomIdentity=hs,Object.defineProperty(l,"__esModule",{value:!0})});var rk=nk();const ik=ek(rk);let gs=1;function ak(l){const p="<",g="<".charCodeAt(0),C=">",w=">".charCodeAt(0),D="-".charCodeAt(0),L="/".charCodeAt(0),P="!".charCodeAt(0),R="'".charCodeAt(0),B='"'.charCodeAt(0),x="?".charCodeAt(0),I=`\r
	>/= `;let b=0;function E(){const k=[];for(;l[b];){if(l.charCodeAt(b)===g){if(l.charCodeAt(b+1)===L)return b=l.indexOf(C,b),k;if(l.charCodeAt(b+1)===P){if(l.charCodeAt(b+2)===D){for(;!(l.charCodeAt(b)===w&&l.charCodeAt(b-1)===D&&l.charCodeAt(b-2)===D&&b!==-1);)b=l.indexOf(C,b+1);b===-1&&(b=l.length)}else for(b+=2;l.charCodeAt(b)!==w;b++);b++;continue}else if(l.charCodeAt(b+1)===x){b=l.indexOf(C,b),b++;continue}b++;let V=b;for(;I.indexOf(l[b])===-1;b++);const G=l.slice(V,b);let tt=!1,gt={};for(;l.charCodeAt(b)!==w;b++){const mt=l.charCodeAt(b);if(mt>64&&mt<91||mt>96&&mt<123){for(V=b;I.indexOf(l[b])===-1;b++);const ot=l.slice(V,b);let st=l.charCodeAt(b);for(;st!==R&&st!==B;)b++,st=l.charCodeAt(b);const bt=l[b],$t=++b;b=l.indexOf(bt,$t);const At=l.slice($t,b);tt||(gt={},tt=!0),gt[ot]=At}}let ht;l.charCodeAt(b-1)!==L&&(b++,ht=E()),k.push({children:ht,tagName:G,attrs:gt})}else{const V=b;b=l.indexOf(p,b)-1,b===-2&&(b=l.length);const G=l.slice(V,b+1);G.trim().length>0&&k.push(G)}b++}return k}return gs=1,Yd(E())}function Yd(l){const p={};if(l===void 0)return{};if(l.length===1&&(typeof l[0]=="string"||l[0]instanceof String))return new String(l[0]);l.forEach(function(g){if(typeof g!="string"&&(p[g.tagName]||(p[g.tagName]=[])),typeof g=="object"){const C=Yd(g.children);g.attrs&&(C.attrs=g.attrs),C.attrs===void 0?C.attrs={order:gs}:C.attrs.order=gs,gs++,p[g.tagName].push(C)}});for(const g in p)p[g].length===1&&(p[g]=p[g][0]);return p}function qu(l){const p=new Uint8Array(l);let g="";for(let C=0;C<p.byteLength;C++)g+=String.fromCharCode(p[C]);return btoa(g)}function ok(l){const p=l.lastIndexOf(".");return p===0||p===-1?"":l.substr(l.lastIndexOf(".")+1)}function sk(l,p){const g=[];let C=0,w="",D="";const L={};let P;l(async M=>{switch(M.type){case"processPPTX":{try{await R(M.data)}catch($){console.error("AN ERROR HAPPENED DURING processPPTX",$),p({type:"ERROR",data:$.toString()})}break}}});async function R(M){var $;const F=await ik.loadAsync(M),U=Date.now();if(F.file("docProps/thumbnail.jpeg")){const rt=await(($=F.file("docProps/thumbnail.jpeg"))==null?void 0:$.async("base64"));p({type:"pptx-thumb",data:rt})}const Y=await x(F),K=await I(F);w=await b(F),P=await B(F,"ppt/tableStyles.xml"),p({type:"slideSize",data:K});const nt=Y.slides.length;for(let rt=0;rt<nt;rt++){const ct=Y.slides[rt],dt=await E(F,ct,rt,K);p({type:"slide",data:dt}),p({type:"progress-update",data:(rt+1)*100/nt})}p({type:"globalCSS",data:At()});const it=Date.now();p({type:"Done",data:{time:it-U,charts:g}})}async function B(M,$){var F;return ak(await((F=M.file($))==null?void 0:F.async("text"))||"")}async function x(M){const F=(await B(M,"[Content_Types].xml")).Types.Override,U=[],Y=[];for(let K=0;K<F.length;K++)switch(F[K].attrs.ContentType){case"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":U.push(F[K].attrs.PartName.substr(1));break;case"application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml":Y.push(F[K].attrs.PartName.substr(1));break}return{slides:U,slideLayouts:Y}}async function I(M){const F=(await B(M,"ppt/presentation.xml"))["p:presentation"]["p:sldSz"].attrs;return{width:parseInt(F.cx)*96/914400,height:parseInt(F.cy)*96/914400}}async function b(M){const F=(await B(M,"ppt/_rels/presentation.xml.rels")).Relationships.Relationship;let U;if(F.constructor===Array){for(let Y=0;Y<F.length;Y++)if(F[Y].attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"){U=F[Y].attrs.Target;break}}else F.attrs.Type==="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"&&(U=F.attrs.Target);if(U===void 0)throw Error("Can't open theme file.");return B(M,"ppt/"+U)}async function E(M,$,F,U){p({type:"INFO",data:"Processing slide"+(F+1)});const Y=$.replace("slides/slide","slides/_rels/slide")+".rels";let nt=(await B(M,Y)).Relationships.Relationship,it="";const rt={};if(nt.constructor===Array)for(let Ct=0;Ct<nt.length;Ct++)switch(nt[Ct].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout":it=nt[Ct].attrs.Target.replace("../","ppt/");break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart":case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink":default:rt[nt[Ct].attrs.Id]={type:nt[Ct].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:nt[Ct].attrs.Target.replace("../","ppt/")}}else it=nt.attrs.Target.replace("../","ppt/");const ct=await B(M,it),dt=k(ct),Et=ct["p:sldLayout"]["p:clrMapOvr"]["a:overrideClrMapping"];Et!==void 0&&(D=Et.attrs);const Rt=it.replace("slideLayouts/slideLayout","slideLayouts/_rels/slideLayout")+".rels";nt=(await B(M,Rt)).Relationships.Relationship;let Q="";const St={};if(nt.constructor===Array)for(let Ct=0;Ct<nt.length;Ct++)switch(nt[Ct].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster":Q=nt[Ct].attrs.Target.replace("../","ppt/");break;default:St[nt[Ct].attrs.Id]={type:nt[Ct].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:nt[Ct].attrs.Target.replace("../","ppt/")}}else Q=nt.attrs.Target.replace("../","ppt/");const Tt=await B(M,Q),zt=W(Tt,["p:sldMaster","p:txStyles"]),jt=k(Tt),q=Q.replace("slideMasters/slideMaster","slideMasters/_rels/slideMaster")+".rels";nt=(await B(M,q)).Relationships.Relationship;let at="";const Wt={};if(nt.constructor===Array)for(let Ct=0;Ct<nt.length;Ct++)switch(nt[Ct].attrs.Type){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme":at=nt[Ct].attrs.Target.replace("../","ppt/");break;default:Wt[nt[Ct].attrs.Id]={type:nt[Ct].attrs.Type.replace("http://schemas.openxmlformats.org/officeDocument/2006/relationships/",""),target:nt[Ct].attrs.Target.replace("../","ppt/")}}else at=nt.attrs.Target.replace("../","ppt/");at!==void 0&&(w=await B(M,at));const Ht=await B(M,$),Vt=Ht["p:sld"]["p:cSld"]["p:spTree"],Jt={zip:M,slideLayoutTables:dt,slideMasterTables:jt,slideResObj:rt,slideMasterTextStyles:zt,layoutResObj:St,masterResObj:Wt},ee=await Le(Ht,ct,Tt,Jt),Nt=Math.min(U.width,document.body.clientWidth),Lt=U.width/Nt,Pt=U.height/Lt;let se="<section style='width:"+Nt+"px; height:"+Pt+"px;"+ee+"'>";for(const Ct in Vt)if(Vt[Ct].constructor===Array)for(let Te=0;Te<Vt[Ct].length;Te++)se+=await V(Ct,Vt[Ct][Te],Jt);else se+=await V(Ct,Vt[Ct],Jt);return se+"</section>"}function k(M){const $=Object.keys(M),F=M[$[0]]["p:cSld"]["p:spTree"],U={},Y={},K={};for(const nt in F){if(nt==="p:nvGrpSpPr"||nt==="p:grpSpPr")continue;const it=F[nt];if(it.constructor===Array)for(let rt=0;rt<it.length;rt++){const ct=it[rt]["p:nvSpPr"],dt=W(ct,["p:cNvPr","attrs","id"]),Et=W(ct,["p:nvPr","p:ph","attrs","idx"]),Rt=W(ct,["p:nvPr","p:ph","attrs","type"]);dt!==void 0&&(U[dt]=it[rt]),Et!==void 0&&(Y[Et]=it[rt]),Rt!==void 0&&(K[Rt]=it[rt])}else{const rt=it["p:nvSpPr"],ct=W(rt,["p:cNvPr","attrs","id"]),dt=W(rt,["p:nvPr","p:ph","attrs","idx"]),Et=W(rt,["p:nvPr","p:ph","attrs","type"]);ct!==void 0&&(U[ct]=it),dt!==void 0&&(Y[dt]=it),Et!==void 0&&(K[Et]=it)}}return{idTable:U,idxTable:Y,typeTable:K}}async function V(M,$,F){let U="";switch(M){case"p:sp":U=await tt($,F);break;case"p:cxnSp":U=await gt($,F);break;case"p:pic":U=await mt($,F);break;case"p:graphicFrame":U=await ot($,F);break;case"p:grpSp":U=await G($,F);break}return U}async function G(M,$){const F=.00010498687664041995,U=M["p:grpSpPr"]["a:xfrm"],Y=parseInt(U["a:off"].attrs.x)*F,K=parseInt(U["a:off"].attrs.y)*F,nt=parseInt(U["a:chOff"].attrs.x)*F,it=parseInt(U["a:chOff"].attrs.y)*F,rt=parseInt(U["a:ext"].attrs.cx)*F,ct=parseInt(U["a:ext"].attrs.cy)*F,dt=parseInt(U["a:chExt"].attrs.cx)*F,Et=parseInt(U["a:chExt"].attrs.cy)*F;let pt="<div class='block group' style='z-index: "+M.attrs.order+"; top: "+(K-it)+"px; left: "+(Y-nt)+"px; width: "+(rt-dt)+"px; height: "+(ct-Et)+"px;'>";for(const Q in M)if(M[Q].constructor===Array)for(let St=0;St<M[Q].length;St++)pt+=await V(Q,M[Q][St],$);else pt+=await V(Q,M[Q],$);return pt+="</div>",pt}async function tt(M,$){const F=M["p:nvSpPr"]["p:cNvPr"].attrs.id,U=M["p:nvSpPr"]["p:cNvPr"].attrs.name,Y=M["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:M["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.idx;let K=M["p:nvSpPr"]["p:nvPr"]["p:ph"]===void 0?void 0:M["p:nvSpPr"]["p:nvPr"]["p:ph"].attrs.type;const nt=M.attrs.order;let it,rt;return K!==void 0?(it=$.slideLayoutTables.typeTable[K],rt=$.slideMasterTables.typeTable[K]):Y!==void 0&&(it=$.slideLayoutTables.idxTable[Y],rt=$.slideMasterTables.idxTable[Y]),K===void 0&&(K=W(it,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]),K===void 0&&(K=W(rt,["p:nvSpPr","p:nvPr","p:ph","attrs","type"]))),await ht(M,it,rt,F,U,Y,K,nt,$)}async function gt(M,$){const F=M["p:nvCxnSpPr"]["p:cNvPr"].attrs.id,U=M["p:nvCxnSpPr"]["p:cNvPr"].attrs.name,Y=M.attrs.order;return await ht(M,void 0,void 0,F,U,void 0,void 0,Y,$)}async function ht(M,$,F,U,Y,K,nt,it,rt){const ct=["p:spPr","a:xfrm"],dt=W(M,ct),Et=W($,ct),Rt=W(F,ct);let pt="";const Q=W(M,["attrs","order"]),St=W(M,["p:spPr","a:prstGeom","attrs","prst"]),Tt=W(M,["p:spPr","a:custGeom"]);let zt=!1;(W(dt,["attrs","flipV"])==="1"||W(dt,["attrs","flipH"])==="1")&&(zt=!0);const jt=Dn(W(dt,["attrs","rot"]));let q=0,H=0,at={},Wt,Ht,Vt,Jt=!1,ee=!1;if(St!==void 0||Tt!==void 0){const Nt=W(dt,["a:ext","attrs"]);q=parseInt(Nt.cx)*96/914400,H=parseInt(Nt.cy)*96/914400,pt+="<svg class='drawing' _id='"+U+"' _idx='"+K+"' _type='"+nt+"' Name='"+Y+"' style='"+Ft(dt,void 0,void 0)+te(dt,void 0,void 0)+" z-index: "+it+";transform: rotate("+jt+"deg);'>",pt+="<defs>",Vt=await Gt(M,!0,rt);const Lt=ce(W(M,["p:spPr"]));if(Lt==="GRADIENT_FILL"){Jt=!0;const Pt=Vt.color,se=Vt.rot,Ct=$r(q.toString(),H.toString(),se,Pt,Q);pt+=Ct}else if(Lt==="PIC_FILL"){ee=!0;const Pt=Ta(Vt,Q);pt+=Pt}if(at=Ne(M,!0),Wt=W(M,["p:spPr","a:ln","a:headEnd","attrs"]),Ht=W(M,["p:spPr","a:ln","a:tailEnd","attrs"]),Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")||Ht!==void 0&&(Ht.type==="triangle"||Ht.type==="arrow")){const Pt="<marker id='markerTriangle_"+Q+"' viewBox='0 0 10 10' refX='1' refY='5' markerWidth='5' markerHeight='5' stroke='"+at.color+"' fill='"+at.color+"' orient='auto-start-reverse' markerUnits='strokeWidth'><path d='M 0 0 L 10 5 L 0 10 z' /></marker>";pt+=Pt}pt+="</defs>"}if(St!==void 0&&Tt===void 0){switch(St){case"accentBorderCallout1":case"accentBorderCallout2":case"accentBorderCallout3":case"accentCallout1":case"accentCallout2":case"accentCallout3":case"actionButtonBackPrevious":case"actionButtonBeginning":case"actionButtonBlank":case"actionButtonDocument":case"actionButtonEnd":case"actionButtonForwardNext":case"actionButtonHelp":case"actionButtonHome":case"actionButtonInformation":case"actionButtonMovie":case"actionButtonReturn":case"actionButtonSound":case"arc":case"bevel":case"blockArc":case"borderCallout1":case"borderCallout2":case"borderCallout3":case"bracePair":case"bracketPair":case"callout1":case"callout2":case"callout3":case"can":case"chartPlus":case"chartStar":case"chartX":case"chevron":case"chord":case"cloud":case"cloudCallout":case"corner":case"cornerTabs":case"cube":case"diagStripe":case"donut":case"doubleWave":case"downArrowCallout":case"ellipseRibbon":case"ellipseRibbon2":case"flowChartAlternateProcess":case"flowChartCollate":case"flowChartConnector":case"flowChartDecision":case"flowChartDelay":case"flowChartDisplay":case"flowChartDocument":case"flowChartExtract":case"flowChartInputOutput":case"flowChartInternalStorage":case"flowChartMagneticDisk":case"flowChartMagneticDrum":case"flowChartMagneticTape":case"flowChartManualInput":case"flowChartManualOperation":case"flowChartMerge":case"flowChartMultidocument":case"flowChartOfflineStorage":case"flowChartOffpageConnector":case"flowChartOnlineStorage":case"flowChartOr":case"flowChartPredefinedProcess":case"flowChartPreparation":case"flowChartProcess":case"flowChartPunchedCard":case"flowChartPunchedTape":case"flowChartSort":case"flowChartSummingJunction":case"flowChartTerminator":case"folderCorner":case"frame":case"funnel":case"gear6":case"gear9":case"halfFrame":case"heart":case"homePlate":case"horizontalScroll":case"irregularSeal1":case"irregularSeal2":case"leftArrowCallout":case"leftBrace":case"leftBracket":case"leftRightArrowCallout":case"leftRightRibbon":case"lightningBolt":case"lineInv":case"mathDivide":case"mathEqual":case"mathMinus":case"mathMultiply":case"mathNotEqual":case"mathPlus":case"moon":case"nonIsoscelesTrapezoid":case"noSmoking":case"pie":case"pieWedge":case"plaque":case"plaqueTabs":case"quadArrowCallout":case"rect":case"ribbon":case"ribbon2":case"rightArrowCallout":case"rightBrace":case"rightBracket":case"round1Rect":case"round2DiagRect":case"round2SameRect":case"smileyFace":case"snip1Rect":case"snip2DiagRect":case"snip2SameRect":case"snipRoundRect":case"squareTabs":case"star10":case"star12":case"star16":case"star24":case"star32":case"star4":case"star5":case"star6":case"star7":case"star8":case"sun":case"teardrop":case"upArrowCallout":case"upDownArrowCallout":case"verticalScroll":case"wave":case"wedgeEllipseCallout":case"wedgeRectCallout":case"wedgeRoundRectCallout":{pt+="<rect x='0' y='0' width='"+q+"' height='"+H+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"ellipse":{pt+="<ellipse cx='"+q/2+"' cy='"+H/2+"' rx='"+q/2+"' ry='"+H/2+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"roundRect":{pt+="<rect x='0' y='0' width='"+q+"' height='"+H+"' rx='7' ry='7' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"bentConnector2":{let Nt;zt?Nt="M 0 "+q+" L "+H+" "+q+" L "+H+" 0":Nt="M "+q+" 0 L "+q+" "+H+" L 0 "+H,pt+="<path d='"+Nt+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' fill='none' ",Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(pt+="marker-start='url(#markerTriangle_"+Q+")' "),Ht!==void 0&&(Ht.type==="triangle"||Ht.type==="arrow")&&(pt+="marker-end='url(#markerTriangle_"+Q+")' "),pt+="/>";break}case"rtTriangle":{pt+=" <polygon points='0 0,0 "+H+","+q+" "+H+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"triangle":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Lt=.5;Nt!==void 0&&(Lt=parseInt(Nt.substr(4))*96/9144e3),pt+=" <polygon points='"+q*Lt+" 0,0 "+H+","+q+" "+H+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"diamond":{pt+=" <polygon points='"+q/2+" 0,0 "+H/2+","+q/2+" "+H+","+q+" "+H/2+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"trapezoid":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Lt=.25;const Pt=.7407;Nt!==void 0&&(Lt=parseInt(Nt.substr(4))*96/9144e3*.5/Pt),pt+=" <polygon points='"+q*Lt+" 0,0 "+H+","+q+" "+H+","+(1-Lt)*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"parallelogram":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Lt=.25,Pt;q>H?Pt=q/H:Pt=H/q,Nt!==void 0&&(Lt=parseInt(Nt.substr(4))/1e5/Pt),pt+=" <polygon points='"+Lt*q+" 0,0 "+H+","+(1-Lt)*q+" "+H+","+q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"pentagon":{pt+=" <polygon points='"+.5*q+" 0,0 "+.375*H+","+.15*q+" "+H+","+.85*q+" "+H+","+q+" "+.375*H+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"hexagon":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd"])||[];let Lt;for(let Ct=0;Ct<Nt.length;Ct++)W(Nt[Ct],["attrs","name"])==="adj"&&(Lt=W(Nt[Ct],["attrs","fmla"]));let Pt=.25;const se=.62211;Lt!==void 0&&(Pt=parseInt(Lt.substr(4))*96/9144e3*.5/se),pt+=" <polygon points='"+q*Pt+" 0,0 "+H/2+","+q*Pt+" "+H+","+(1-Pt)*q+" "+H+","+q+" "+H/2+","+(1-Pt)*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"heptagon":{pt+=" <polygon points='"+.5*q+" 0,"+q/8+" "+H/4+",0 "+5/8*H+","+q/4+" "+H+","+3/4*q+" "+H+","+q+" "+5/8*H+","+7/8*q+" "+H/4+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"octagon":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Lt=.25;Nt!==void 0&&(Lt=parseInt(Nt.substr(4))/1e5);const Pt=1-Lt;pt+=" <polygon points='"+Lt*q+" 0,0 "+Lt*H+",0 "+Pt*H+","+Lt*q+" "+H+","+Pt*q+" "+H+","+q+" "+Pt*H+","+q+" "+Lt*H+","+Pt*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"decagon":{pt+=" <polygon points='"+3/8*q+" 0,"+q/8+" "+H/8+",0 "+H/2+","+q/8+" "+7/8*H+","+3/8*q+" "+H+","+5/8*q+" "+H+","+7/8*q+" "+7/8*H+","+q+" "+H/2+","+7/8*q+" "+H/8+","+5/8*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"dodecagon":{pt+=" <polygon points='"+3/8*q+" 0,"+q/8+" "+H/8+",0 "+3/8*H+",0 "+5/8*H+","+q/8+" "+7/8*H+","+3/8*q+" "+H+","+5/8*q+" "+H+","+7/8*q+" "+7/8*H+","+q+" "+5/8*H+","+q+" "+3/8*H+","+7/8*q+" "+H/8+","+5/8*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"bentConnector3":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Lt=.5;Nt!==void 0&&(Lt=parseInt(Nt.substr(4))/1e5,zt?pt+=" <polyline points='"+q+" 0,"+(1-Lt)*q+" 0,"+(1-Lt)*q+" "+H+",0 "+H+"' fill='transparent'' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' ":pt+=" <polyline points='0 0,"+Lt*q+" 0,"+Lt*q+" "+H+","+q+" "+H+"' fill='transparent'' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' ",Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(pt+="marker-start='url(#markerTriangle_"+Q+")' "),Ht!==void 0&&(Ht.type==="triangle"||Ht.type==="arrow")&&(pt+="marker-end='url(#markerTriangle_"+Q+")' "),pt+="/>");break}case"plus":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd","attrs","fmla"]);let Lt=.25;Nt!==void 0&&(Lt=parseInt(Nt.substr(4))/1e5);const Pt=1-Lt;pt+=" <polygon points='"+Lt*q+" 0,"+Lt*q+" "+Lt*H+",0 "+Lt*H+",0 "+Pt*H+","+Lt*q+" "+Pt*H+","+Lt*q+" "+H+","+Pt*q+" "+H+","+Pt*q+" "+Pt*H+","+q+" "+Pt*H+","+ +q+" "+Lt*H+","+Pt*q+" "+Lt*H+","+Pt*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"line":case"straightConnector1":case"bentConnector4":case"bentConnector5":case"curvedConnector2":case"curvedConnector3":case"curvedConnector4":case"curvedConnector5":{zt?pt+="<line x1='"+q+"' y1='0' x2='0' y2='"+H+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' ":pt+="<line x1='0' y1='0' x2='"+q+"' y2='"+H+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' ",Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(pt+="marker-start='url(#markerTriangle_"+Q+")' "),Ht!==void 0&&(Ht.type==="triangle"||Ht.type==="arrow")&&(pt+="marker-end='url(#markerTriangle_"+Q+")' "),pt+="/>";break}case"rightArrow":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Lt="",Pt=.5,se,Ct=.5;const Te=q/H;if(Nt!==void 0)for(let ae=0;ae<Nt.length;ae++){const Ae=W(Nt[ae],["attrs","name"]);Ae==="adj1"?(Lt=W(Nt[ae],["attrs","fmla"]),Pt=.5-parseInt(Lt.substr(4))/2e5):Ae==="adj2"&&(se=W(Nt[ae],["attrs","fmla"]),Ct=1-parseInt(se.substr(4))/1e5/Te)}pt+=" <polygon points='"+q+" "+H/2+","+Ct*q+" 0,"+Ct*q+" "+Pt*H+",0 "+Pt*H+",0 "+(1-Pt)*H+","+Ct*q+" "+(1-Pt)*H+", "+Ct*q+" "+H+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"leftArrow":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Lt,Pt=.5,se,Ct=.5;const Te=q/H;if(Nt!==void 0)for(let ae=0;ae<Nt.length;ae++){const Ae=W(Nt[ae],["attrs","name"]);Ae==="adj1"?(Lt=W(Nt[ae],["attrs","fmla"]),Pt=.5-parseInt(Lt.substr(4))/2e5):Ae==="adj2"&&(se=W(Nt[ae],["attrs","fmla"]),Ct=parseInt(se.substr(4))/1e5/Te)}pt+=" <polygon points='0 "+H/2+","+Ct*q+" "+H+","+Ct*q+" "+(1-Pt)*H+","+q+" "+(1-Pt)*H+","+q+" "+Pt*H+","+Ct*q+" "+Pt*H+", "+Ct*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"downArrow":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Lt,Pt=.5,se,Ct=.5;const Te=H/q;if(Nt!==void 0)for(let ae=0;ae<Nt.length;ae++){const Ae=W(Nt[ae],["attrs","name"]);Ae==="adj1"?(Lt=W(Nt[ae],["attrs","fmla"]),Pt=parseInt(Lt.substr(4))/2e5):Ae==="adj2"&&(se=W(Nt[ae],["attrs","fmla"]),Ct=parseInt(se.substr(4))/1e5/Te)}pt+=" <polygon points='"+(.5-Pt)*q+" 0,"+(.5-Pt)*q+" "+(1-Ct)*H+",0 "+(1-Ct)*H+","+q/2+" "+H+","+q+" "+(1-Ct)*H+","+(.5+Pt)*q+" "+(1-Ct)*H+", "+(.5+Pt)*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"upArrow":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Lt,Pt=.5,se,Ct=.5;const Te=H/q;if(Nt!==void 0)for(let ae=0;ae<Nt.length;ae++){const Ae=W(Nt[ae],["attrs","name"]);Ae==="adj1"?(Lt=W(Nt[ae],["attrs","fmla"]),Pt=parseInt(Lt.substr(4))/2e5):Ae==="adj2"&&(se=W(Nt[ae],["attrs","fmla"]),Ct=parseInt(se.substr(4))/1e5/Te)}pt+=" <polygon points='"+q/2+" 0,0 "+Ct*H+","+(.5-Pt)*q+" "+Ct*H+","+(.5-Pt)*q+" "+H+","+(.5+Pt)*q+" "+H+","+(.5+Pt)*q+" "+Ct*H+", "+q+" "+Ct*H+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"leftRightArrow":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Lt,Pt=.5,se,Ct=.5;const Te=q/H;if(Nt!==void 0)for(let ae=0;ae<Nt.length;ae++){const Ae=W(Nt[ae],["attrs","name"]);Ae==="adj1"?(Lt=W(Nt[ae],["attrs","fmla"]),Pt=.5-parseInt(Lt.substr(4))/2e5):Ae==="adj2"&&(se=W(Nt[ae],["attrs","fmla"]),Ct=parseInt(se.substr(4))/1e5/Te)}pt+=" <polygon points='0 "+H/2+","+Ct*q+" "+H+","+Ct*q+" "+(1-Pt)*H+","+(1-Ct)*q+" "+(1-Pt)*H+","+(1-Ct)*q+" "+H+","+q+" "+H/2+", "+(1-Ct)*q+" 0,"+(1-Ct)*q+" "+Pt*H+","+Ct*q+" "+Pt*H+","+Ct*q+" 0' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"upDownArrow":{const Nt=W(M,["p:spPr","a:prstGeom","a:avLst","a:gd"]);let Lt,Pt=.5,se,Ct=.5;const Te=H/q;if(Nt!==void 0)for(let ae=0;ae<Nt.length;ae++){const Ae=W(Nt[ae],["attrs","name"]);Ae==="adj1"?(Lt=W(Nt[ae],["attrs","fmla"]),Pt=.5-parseInt(Lt.substr(4))/2e5):Ae==="adj2"&&(se=W(Nt[ae],["attrs","fmla"]),Ct=parseInt(se.substr(4))/1e5/Te)}pt+=" <polygon points='"+q/2+" 0,0 "+Ct*H+","+Pt*q+" "+Ct*H+","+Pt*q+" "+(1-Ct)*H+",0 "+(1-Ct)*H+","+q/2+" "+H+", "+q+" "+(1-Ct)*H+","+(1-Pt)*q+" "+(1-Ct)*H+","+(1-Pt)*q+" "+Ct*H+","+q+" "+Ct*H+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' />";break}case"bentArrow":case"bentUpArrow":case"stripedRightArrow":case"quadArrow":case"circularArrow":case"swooshArrow":case"leftRightUpArrow":case"leftUpArrow":case"leftCircularArrow":case"notchedRightArrow":case"curvedDownArrow":case"curvedLeftArrow":case"curvedRightArrow":case"curvedUpArrow":case"uturnArrow":case"leftRightCircularArrow":break;case void 0:default:console.warn("Undefine shape type.")}pt+="</svg>",pt+="<div class='block content "+Ue(M,$,F)+"' _id='"+U+"' _idx='"+K+"' _type='"+nt+"' Name='"+Y+"' style='"+Ft(dt,Et,Rt)+te(dt,Et,Rt)+" z-index: "+it+";transform: rotate("+jt+"deg);'>",M["p:txBody"]!==void 0&&(pt+=await st(M["p:txBody"],$,F,nt,rt)),pt+="</div>"}else if(Tt!==void 0){const Nt=W(Tt,["a:pathLst"]),Lt=W(Nt,["a:path","a:close"]),Pt=W(Nt,["a:path","a:moveTo","a:pt","attrs"])||{x:"0",y:"0"},se=parseInt(Pt.x)*96/914400,Ct=parseInt(Pt.y)*96/914400;let Te="M"+se+","+Ct;const ae=W(Nt,["a:path"]),Ae=ae["a:lnTo"],An=ae["a:cubicBezTo"],Vr=[];Ae!==void 0&&Object.keys(Ae).forEach(function(Pn){const Je=Ae[Pn]["a:pt"];Je!==void 0&&Object.keys(Je).forEach(function(mr){const xn={},Hn=Je[mr],Fn=Hn.x,_r=Hn.y,_i=Hn.order;xn.type="lnto",xn.order=_i,xn.x=Fn,xn.y=_r,Vr.push(xn)})}),An!==void 0&&Object.keys(An).forEach(function(Pn){const Je=An[Pn]["a:pt"];Je!==void 0&&Object.keys(Je).forEach(function(mr){const xn=Je[mr];Object.keys(xn).forEach(function(Hn){const Fn={},_r=xn[Hn],_i=_r.x,ys=_r.y,ms=_r.order;Fn.type="cubicBezTo",Fn.order=ms,Fn.x=_i,Fn.y=ys,Vr.push(Fn)})})});const dn=Vr.slice(0);dn.sort(function(Pn,Je){return Pn.order-Je.order});let cn=0;for(;cn<dn.length;)if(dn[cn].type==="lnto"){const Pn=parseInt(dn[cn].x)*96/914400,Je=parseInt(dn[cn].y)*96/914400;Te+="L"+Pn+","+Je,cn++}else{const Pn=parseInt(dn[cn].x)*96/914400,Je=parseInt(dn[cn].y)*96/914400,mr=parseInt(dn[cn+1].x)*96/914400,xn=parseInt(dn[cn+1].y)*96/914400,Hn=parseInt(dn[cn+2].x)*96/914400,Fn=parseInt(dn[cn+2].y)*96/914400;Te+="C"+Pn+","+Je+" "+mr+","+xn+" "+Hn+","+Fn,cn+=3}pt+="<path d='"+Te+"' fill='"+(ee?"url(#imgPtrn_"+Q+")":Jt?"url(#linGrd_"+Q+")":Vt)+"' stroke='"+at.color+"' stroke-width='"+at.width+"' stroke-dasharray='"+at.strokeDasharray+"' ",Lt!==void 0||(Wt!==void 0&&(Wt.type==="triangle"||Wt.type==="arrow")&&(pt+="marker-start='url(#markerTriangle_"+Q+")' "),Ht!==void 0&&(Ht.type==="triangle"||Ht.type==="arrow")&&(pt+="marker-end='url(#markerTriangle_"+Q+")' ")),pt+="/>",pt+="</svg>",pt+="<div class='block content "+Ue(M,$,F)+"' _id='"+U+"' _idx='"+K+"' _type='"+nt+"' Name='"+Y+"' style='"+Ft(dt,Et,Rt)+te(dt,Et,Rt)+" z-index: "+it+";transform: rotate("+jt+"deg);'>",M["p:txBody"]!==void 0&&(pt+=await st(M["p:txBody"],$,F,nt,rt)),pt+="</div>"}else pt+="<div class='block content "+Ue(M,$,F)+"' _id='"+U+"' _idx='"+K+"' _type='"+nt+"' Name='"+Y+"' style='"+Ft(dt,Et,Rt)+te(dt,Et,Rt)+Ne(M,!1)+await Gt(M,!1,rt)+" z-index: "+it+";transform: rotate("+jt+"deg);'>",M["p:txBody"]!==void 0&&(pt+=await st(M["p:txBody"],$,F,nt="",rt)),pt+="</div>";return pt}async function mt(M,$){const F=M.attrs.order,U=M["p:blipFill"]["a:blip"].attrs["r:embed"],Y=$.slideResObj[U].target,K=ok(Y).toLowerCase(),it=await $.zip.file(Y).async("arraybuffer");let rt="";const ct=M["p:spPr"]["a:xfrm"],dt=Dn(M["p:spPr"]["a:xfrm"].attrs.rot);return rt=bn(K),"<div class='block content' style='"+Ft(ct,void 0,void 0)+te(ct,void 0,void 0)+" z-index: "+F+";transform: rotate("+dt+"deg);'><img src='data:"+rt+";base64,"+qu(it)+"' style='width: 100%; height: 100%'/></div>"}async function ot(M,$){let F="";switch(W(M,["a:graphic","a:graphicData","attrs","uri"])){case"http://schemas.openxmlformats.org/drawingml/2006/table":F=await Bt(M,$);break;case"http://schemas.openxmlformats.org/drawingml/2006/chart":F=await le(M,$);break;case"http://schemas.openxmlformats.org/drawingml/2006/diagram":F=Zt(M);break}return F}async function st(M,$,F,U,Y){let K="";const nt=Y&&Y.slideMasterTextStyles;if(M===void 0)return K;let it,rt;if(M["a:p"].constructor===Array)for(let ct=0;ct<M["a:p"].length;ct++){if(it=M["a:p"][ct],rt=it["a:r"],K+="<div  class='"+ge(it,$||{},F||{},U,nt)+"'>",K+=await bt(it,$,F,U,Y||{}),rt===void 0)K+=$t(it,$,F,U,Y||{});else if(rt.constructor===Array)for(let dt=0;dt<rt.length;dt++)K+=$t(rt[dt],$,F,U,Y||{}),it["a:br"]!==void 0&&(K+="<br>");else K+=$t(rt,$,F,U,Y||{});K+="</div>"}else{if(it=M["a:p"],rt=it["a:r"],K+="<div class='slide-prgrph "+ge(it,$||{},F||{},U,nt)+"'>",K+=await bt(it,$,F,U,Y),rt===void 0)K+=$t(it,$,F,U,Y||{});else if(rt.constructor===Array)for(let ct=0;ct<rt.length;ct++)K+=$t(rt[ct],$,F,U,Y||{}),it["a:br"]!==void 0&&(K+="<br>");else K+=$t(rt,$,F,U,Y||{});K+="</div>"}return K}async function bt(M,$,F,U,Y){const K=Y&&Y.slideMasterTextStyles,nt=M["a:r"];let it,rt,ct,dt;nt!==void 0?(it=_e(nt),rt=Fe(nt,$,F,U,K)):(it=_e(M),rt=Fe(M,$,F,U,K));let Et="";const Rt=M["a:pPr"],pt=W(Rt,["attrs","rtl"]);let Q=!1;pt!==void 0&&pt==="1"&&(Q=!0);let St=parseInt(W(Rt,["attrs","lvl"]));isNaN(St)&&(St=0);const Tt=W(Rt,["a:buChar","attrs","char"]);let zt="TYPE_NONE";const jt=W(Rt,["a:buAutoNum","attrs","type"]),q=W(Rt,["a:buBlip"]);Tt!==void 0&&(zt="TYPE_BULLET"),jt!==void 0&&(zt="TYPE_NUMERIC"),q!==void 0&&(zt="TYPE_BULPIC");let H={};zt!=="TYPE_NONE"&&(H=W(Rt,["a:buFont","attrs"]));let at="NoNe";if(Rt){const Jt=Rt["a:buClr"];Jt!==void 0&&(at=Dt(Jt)||"")}at==="NoNe"?ct=it:ct="#"+at;let Wt;if(Wt=W(Rt,["a:buSzPts","attrs","val"]),Wt!==void 0)dt=parseInt(Wt)/100+"pt";else if(Wt=W(Rt,["a:buSzPct","attrs","val"]),Wt!==void 0){const Jt=parseInt(Wt)/1e5,ee=rt.substr(0,rt.length-2);dt=Jt*parseInt(ee)+"pt"}else dt=rt;let Ht,Vt;if(zt==="TYPE_BULLET")H!==void 0?(Ht=parseInt(W(Rt,["attrs","marL"]))*96/914400,Vt=parseInt(H.pitchFamily),isNaN(Ht)&&(Ht=328600*96/914400),isNaN(Vt)&&(Vt=0),Et="<span style='font-family: "+H.typeface+"; margin-left: "+Ht*St+"px; margin-right: "+Vt+"px;color:"+ct+";font-size:"+dt+";",Q&&(Et+=" float: right;  direction:rtl"),Et+="'>"+Tt+"</span>"):(Ht=328600*96/914400*St,Et="<span style='margin-left: "+Ht+"px;'>"+Tt+"</span>");else if(zt==="TYPE_NUMERIC")H!==void 0?(Ht=parseInt(W(Rt,["attrs","marL"]))*96/914400,Vt=parseInt(H.pitchFamily),isNaN(Ht)&&(Ht=328600*96/914400),isNaN(Vt)&&(Vt=0),Et="<span style='margin-left: "+Ht*St+"px; margin-right: "+Vt+"px;color:"+ct+";font-size:"+dt+";",Q?Et+=" float: right; direction:rtl;":Et+=" float: left; direction:ltr;",Et+="' data-bulltname = '"+jt+"' data-bulltlvl = '"+St+"' class='numeric-bullet-style'></span>"):(Ht=328600*96/914400*St,Et="<span style='margin-left: "+Ht+"px;",Q?Et+=" float: right; direction:rtl;":Et+=" float: left; direction:ltr;",Et+="' data-bulltname = '"+jt+"' data-bulltlvl = '"+St+"' class='numeric-bullet-style'></span>");else if(zt==="TYPE_BULPIC"){Ht=parseInt(W(Rt,["attrs","marL"]))*96/914400,Vt=parseInt(W(Rt,["attrs","marR"]))*96/914400,isNaN(Vt)&&(Vt=0),isNaN(Ht)?Ht=328600*96/914400:Ht=0;const Jt=W(q,["a:blip","attrs","r:embed"]);let ee;if(Jt!==void 0){const Nt=Y&&Y.slideResObj[Jt].target,Lt=Y&&await Y.zip.file(Nt).async("arraybuffer"),Pt=Nt.split(".").pop();ee="<img src='data:"+bn(Pt)+";base64,"+qu(Lt)+"' style='width: 100%; height: 100%'/>"}Jt===void 0&&(ee="&#8227;"),Et="<span style='margin-left: "+Ht*St+"px; margin-right: "+Vt+"px;width:"+dt+";display: inline-block; ",Q&&(Et+=" float: right;direction:rtl"),Et+="'>"+ee+"  </span>"}else Et="<span style='margin-left: "+328600*96/914400*St+"px; margin-right: 0px;'></span>";return Et}function $t(M,$,F,U,Y){const K=Y.slideMasterTextStyles;let nt=M["a:t"];typeof nt!="string"&&!(nt instanceof String)&&(nt=W(M,["a:fld","a:t"]),typeof nt!="string"&&!(nt instanceof String)&&(nt="&nbsp;"));let it="color:"+_e(M)+";font-size:"+Fe(M,$,F,U,K)+";font-family:"+In(M,U)+";font-weight:"+un(M)+";font-style:"+_t(M)+";text-decoration:"+ue(M)+";text-align:"+fe(M)+";vertical-align:"+Se(M)+";";const rt=W(M,["a:rPr","a:highlight"]);rt!==void 0&&(it+="background-color:#"+Dt(rt)+";",it+="Opacity:"+Oe(rt)+";");let ct="";it in L?ct=L[it].name:(ct="_css_"+(Object.keys(L).length+1),L[it]={name:ct,text:it});const dt=W(M,["a:rPr","a:hlinkClick","attrs","r:id"]);if(dt!==void 0){const Et=Y.slideResObj[dt].target;return"<span class='text-block "+ct+"'><a href='"+Et+"' target='_blank'>"+nt.replace(/\s/,"&nbsp;")+"</a></span>"}else return"<span class='text-block "+ct+"'>"+nt.replace(/\s/,"&nbsp;")+"</span>"}function At(){let M="";for(const $ in L)M+="section ."+L[$].name+"{"+L[$].text+`}
`;return M}async function Bt(M,$){const F=M.attrs.order,U=W(M,["a:graphic","a:graphicData","a:tbl"]),Y=W(M,["p:xfrm"]),K=W(M,["a:graphic","a:graphicData","a:tbl","a:tblPr"]),nt=W(M,["a:graphic","a:graphicData","a:tbl","a:tblGrid","a:gridCol"]);let it="";K!==void 0&&(it=K.attrs.rtl===1?"dir=rtl":"dir=ltr");const rt=K.attrs.firstRow,ct=K.attrs.bandRow;let dt="<table "+it+" style='border-collapse: collapse;"+Ft(Y,void 0,void 0)+te(Y,void 0,void 0)+" z-index: "+F+";'>";const Et=U["a:tr"];if(Et.constructor===Array)for(let Rt=0;Rt<Et.length;Rt++){const pt=Et[Rt].attrs.h;let Q=0,St="";pt!==void 0&&(Q=parseInt(pt)*96/914400,St+="height:"+Q+"px;");let Tt={};const zt=K["a:tableStyleId"];if(zt!==void 0){const q=P["a:tblStyleLst"]["a:tblStyle"]||[];for(let H=0;H<q.length;H++)q[H].attrs.styleId===zt&&(Tt=q[H])}if(Rt===0&&rt!==void 0){let q="fff",H=1;if(Tt["a:firstRow"]!==void 0){const at=W(Tt,["a:firstRow","a:tcStyle","a:fill","a:solidFill"]);at!==void 0&&(q=Dt(at),H=Oe(at));const Wt=W(Tt,["a:firstRow","a:tcStyle","a:tcBdr"]);if(Wt!==void 0){const Ht=Be(Wt);St+=Ht}W(Tt,["a:firstRow","a:tcTxStyle"])}St+=" background-color:#"+q+"; opacity:"+H+";"}else if(Rt>0&&ct!==void 0){let q="fff",H=1;if(Rt%2===0){if(Tt["a:band2H"]!==void 0){const at=W(Tt,["a:band2H","a:tcStyle","a:fill","a:solidFill"]);at!==void 0&&(q=Dt(at),H=Oe(at));const Wt=W(Tt,["a:band2H","a:tcStyle","a:tcBdr"]);if(Wt!==void 0){const Ht=Be(Wt);St+=Ht}W(Tt,["a:band2H","a:tcTxStyle"])}}else if(Tt["a:band1H"]!==void 0){const at=W(Tt,["a:band1H","a:tcStyle","a:fill","a:solidFill"]);at!==void 0&&(q=Dt(at),H=Oe(at));const Wt=W(Tt,["a:band1H","a:tcStyle","a:tcBdr"]);if(Wt!==void 0){const Ht=Be(Wt);St+=Ht}W(Tt,["a:band1H","a:tcTxStyle"])}St+=" background-color:#"+q+"; opacity:"+H+";"}dt+="<tr style='"+St+"'>";const jt=Et[Rt]["a:tc"];if(jt.constructor===Array)for(let q=0;q<jt.length;q++){const H=await st(jt[q]["a:txBody"],void 0,void 0,void 0,$),at=W(jt[q],["attrs","rowSpan"]),Wt=W(jt[q],["attrs","gridSpan"]),Ht=W(jt[q],["attrs","vMerge"]),Vt=W(jt[q],["attrs","hMerge"]),Jt=nt[q].attrs.w;let ee="";if(Jt!==void 0){const se=parseInt(Jt)*96/914400;ee+="width:"+se+"px;"}const Nt=jt[q]["a:tcPr"]["a:solidFill"];let Lt="",Pt=1;if(Nt!==void 0)Lt=Dt(Nt),Pt=Oe(Nt);else{const se=K["a:tableStyleId"];if(se!==void 0){const Ct=P["a:tblStyleLst"]["a:tblStyle"]||[];for(let Te=0;Te<Ct.length;Te++)Ct[Te].attrs.styleId}}Lt!==""&&(ee+=" background-color:#"+Lt+";",ee+=" opacity"+Pt+";"),at!==void 0?dt+="<td rowspan='"+parseInt(at)+"' style='"+ee+"'>"+H+"</td>":Wt!==void 0?dt+="<td colspan='"+parseInt(Wt)+"' style='"+ee+"'>"+H+"</td>":Ht===void 0&&Vt===void 0&&(dt+="<td style='"+ee+"'>"+H+"</td>")}else{const q=await st(jt["a:txBody"]),H=nt[0].attrs.w;let at="";if(H!==void 0){const Jt=parseInt(H)*96/914400;at+="width:"+Jt+"px;"}const Wt=jt["a:tcPr"]["a:solidFill"];let Ht="",Vt=1;Wt!==void 0&&(Ht=Dt(Wt),Vt=Oe(Wt)),Ht!==""&&(at+=" background-color:#"+Ht+";",at+=" opacity"+Vt+";"),dt+="<td style='"+at+"'>"+q+"</td>"}dt+="</tr>"}else{const Rt=Et.attrs.h;let pt=0;Rt!==void 0?(pt=parseInt(Rt)*96/914400,dt+="<tr style='height:"+pt+"px;'>"):dt+="<tr>";const Q=Et["a:tc"];if(Q.constructor===Array)for(let St=0;St<Q.length;St++){const Tt=await st(Q[St]["a:txBody"]),zt=nt[St].attrs.w;let jt="";if(zt!==void 0){const Wt=parseInt(zt)*96/914400;jt+="width:"+Wt+"px;"}const q=Q[St]["a:tcPr"]["a:solidFill"];let H="",at=1;q!==void 0&&(H=Dt(q),at=Oe(q)),H!==""&&(jt+=" background-color:#"+H+";",jt+=" opacity"+at+";"),dt+="<td style='"+jt+"'>"+Tt+"</td>"}else{const St=await st(Q["a:txBody"]),Tt=nt[0].attrs.w;let zt="";if(Tt!==void 0){const at=parseInt(Tt)*96/914400;zt+="width:"+at+"px;"}const jt=Q["a:tcPr"]["a:solidFill"];let q="",H=1;jt!==void 0&&(q=Dt(jt),H=Oe(jt)),q!==""&&(zt+=" background-color:#"+q+";",zt+=" opacity"+H+";"),dt+="<td style='"+zt+"'>"+St+"</td>"}dt+="</tr>"}return dt}async function le(M,$){const F=M.attrs.order,U=W(M,["p:xfrm"]),Y="<div id='chart"+C+"' class='block content' style='"+Ft(U,void 0,void 0)+te(U,void 0,void 0)+" z-index: "+F+";'></div>",K=M["a:graphic"]["a:graphicData"]["c:chart"].attrs["r:id"],nt=$.slideResObj[K].target,it=await B($.zip,nt),rt=W(it,["c:chartSpace","c:chart","c:plotArea"]);let ct=null;for(const dt in rt)switch(dt){case"c:lineChart":ct={type:"createChart",data:{chartID:"chart"+C,chartType:"lineChart",chartData:hn(rt[dt]["c:ser"])}};break;case"c:barChart":ct={type:"createChart",data:{chartID:"chart"+C,chartType:"barChart",chartData:hn(rt[dt]["c:ser"])}};break;case"c:pieChart":ct={type:"createChart",data:{chartID:"chart"+C,chartType:"pieChart",chartData:hn(rt[dt]["c:ser"])}};break;case"c:pie3DChart":ct={type:"createChart",data:{chartID:"chart"+C,chartType:"pie3DChart",chartData:hn(rt[dt]["c:ser"])}};break;case"c:areaChart":ct={type:"createChart",data:{chartID:"chart"+C,chartType:"areaChart",chartData:hn(rt[dt]["c:ser"])}};break;case"c:scatterChart":ct={type:"createChart",data:{chartID:"chart"+C,chartType:"scatterChart",chartData:hn(rt[dt]["c:ser"])}};break}return ct!=null&&g.push(ct),C++,Y}function Zt(M){const $=W(M,["p:xfrm"]);return"<div class='block content' style='border: 1px dotted;"+Ft($,void 0,void 0)+te($,void 0,void 0)+"'>TODO: diagram</div>"}function Ft(M,$,F){let U,Y=-1,K=-1;return M!==void 0?U=M["a:off"].attrs:$!==void 0?U=$["a:off"].attrs:F!==void 0&&(U=F["a:off"].attrs),U===void 0?"":(Y=parseInt(U.x)*96/914400,K=parseInt(U.y)*96/914400,isNaN(Y)||isNaN(K)?"":"top:"+K+"px; left:"+Y+"px;")}function te(M,$,F){let U,Y=-1,K=-1;return M!==void 0?U=M["a:ext"].attrs:$!==void 0?U=$["a:ext"].attrs:F!==void 0&&(U=F["a:ext"].attrs),U===void 0?"":(Y=parseInt(U.cx)*96/914400,K=parseInt(U.cy)*96/914400,isNaN(Y)||isNaN(K)?"":"width:"+Y+"px; height:"+K+"px;")}function ge(M,$,F,U,Y){let K=W(M,["a:pPr","attrs","algn"]);if(K===void 0&&(K=W($,["p:txBody","a:p","a:pPr","attrs","algn"]),K===void 0&&(K=W(F,["p:txBody","a:p","a:pPr","attrs","algn"]),K===void 0)))switch(U){case"title":case"subTitle":case"ctrTitle":{K=W(Y,["p:titleStyle","a:lvl1pPr","attrs","alng"]);break}default:K=W(Y,["p:otherStyle","a:lvl1pPr","attrs","alng"])}if(K===void 0){if(U==="title"||U==="subTitle"||U==="ctrTitle")return"h-mid";if(U==="sldNum")return"h-right"}return K==="ctr"?"h-mid":K==="r"?"h-right":"h-left"}function Ue(M,$,F,U,Y){let K=W(M,["p:txBody","a:bodyPr","attrs","anchor"]);return K===void 0&&(K=W($,["p:txBody","a:bodyPr","attrs","anchor"]),K===void 0&&(K=W(F,["p:txBody","a:bodyPr","attrs","anchor"]))),K==="ctr"?"v-mid":K==="b"?"v-down":"v-up"}function In(M,$,F){let U=W(M,["a:rPr","a:latin","attrs","typeface"]);if(U===void 0){const Y=W(w,["a:theme","a:themeElements","a:fontScheme"]);$==="title"||$==="subTitle"||$==="ctrTitle"?U=W(Y,["a:majorFont","a:latin","attrs","typeface"]):$==="body"?U=W(Y,["a:minorFont","a:latin","attrs","typeface"]):U=W(Y,["a:minorFont","a:latin","attrs","typeface"])}return U===void 0?"inherit":U}function _e(M,$,F){const U=mi(M,"a:rPr a:solidFill"),Y=Dt(U);return Y===void 0||Y==="FFF"?"#000":"#"+Y}function Fe(M,$,F,U,Y){let K=16,nt="";return M["a:rPr"]!==void 0&&(K=parseInt(M["a:rPr"].attrs.sz)/100),(isNaN(K)||K===void 0)&&(nt=W($,["p:txBody","a:lstStyle","a:lvl1pPr","a:defRPr","attrs","sz"]),K=parseInt(nt)/100),(isNaN(K)||K===void 0)&&(U==="title"||U==="subTitle"||U==="ctrTitle"?nt=W(Y,["p:titleStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):U==="body"?nt=W(Y,["p:bodyStyle","a:lvl1pPr","a:defRPr","attrs","sz"]):U==="dt"||U==="sldNum"?nt="1200":U===void 0&&(nt=W(Y,["p:otherStyle","a:lvl1pPr","a:defRPr","attrs","sz"])),K=parseInt(nt)/100),W(M,["a:rPr","attrs","baseline"])!==void 0&&!isNaN(K)&&(K-=10),isNaN(K)?"inherit":K+"pt"}function un(M,$,F){return M["a:rPr"]!==void 0&&M["a:rPr"].attrs.b==="1"?"bold":"initial"}function _t(M,$,F){return M["a:rPr"]!==void 0&&M["a:rPr"].attrs.i==="1"?"italic":"normal"}function ue(M,$,F){if(M["a:rPr"]!==void 0){const U=M["a:rPr"].attrs.u!==void 0?M["a:rPr"].attrs.u:"none",Y=M["a:rPr"].attrs.strike!==void 0?M["a:rPr"].attrs.strike:"noStrike";return U!=="none"&&Y==="noStrike"?"underline":U==="none"&&Y!=="noStrike"?"line-through":U!=="none"&&Y!=="noStrike"?"underline line-through":"initial"}else return"initial"}function fe(M,$,F){const U=W(M,["a:pPr","attrs","algn"]);let Y="initial";if(U!==void 0)switch(U){case"l":{Y="left";break}case"r":{Y="right";break}case"ctr":{Y="center";break}case"just":{Y="justify";break}case"dist":{Y="justify";break}default:Y="initial"}return Y}function Se(M,$,F){const U=W(M,["a:rPr","attrs","baseline"]);return U===void 0?"baseline":parseInt(U)/1e3+"%"}function Be(M){let $="",F,U;return M["a:bottom"]!==void 0&&(F={"p:spPr":{"a:ln":M["a:bottom"]["a:ln"]}},U=Ne(F,!1),$+=U.replace("border","border-bottom")),M["a:top"]!==void 0&&(F={"p:spPr":{"a:ln":M["a:top"]["a:ln"]}},U=Ne(F,!1),$+=U.replace("border","border-top")),M["a:right"]!==void 0&&(F={"p:spPr":{"a:ln":M["a:right"]["a:ln"]}},U=Ne(F,!1),$+=U.replace("border","border-right")),M["a:left"]!==void 0&&(F={"p:spPr":{"a:ln":M["a:left"]["a:ln"]}},U=Ne(F,!1),$+=U.replace("border","border-left")),$}function Ne(M,$){let F="border: ";const U=M["p:spPr"]["a:ln"],Y=parseInt(W(U,["attrs","w"]))/12700;isNaN(Y)||Y<1?F+="1pt ":F+=Y+"pt ";const K=W(U,["a:prstDash","attrs","val"]);let nt="0";switch(K){case"solid":{F+="solid",nt="0";break}case"dash":{F+="dashed",nt="5";break}case"dashDot":{F+="dashed",nt="5, 5, 1, 5";break}case"dot":{F+="dotted",nt="1, 5";break}case"lgDash":{F+="dashed",nt="10, 5";break}case"lgDashDotDot":{F+="dashed",nt="10, 5, 1, 5, 1, 5";break}case"sysDash":{F+="dashed",nt="5, 2";break}case"sysDashDot":{F+="dashed",nt="5, 2, 1, 5";break}case"sysDashDotDot":{F+="dashed",nt="5, 2, 1, 5, 1, 5";break}case"sysDot":{F+="dotted",nt="2, 5";break}default:F+="solid",nt="0"}let it=W(U,["a:solidFill","a:srgbClr","attrs","val"]);if(it===void 0){const rt=W(U,["a:solidFill","a:schemeClr"]);if(rt!==void 0){const ct="a:"+W(rt,["attrs","val"]);it=He(ct,void 0)}}if(it===void 0){const rt=W(M,["p:style","a:lnRef","a:schemeClr"]);if(rt!==void 0){const ct="a:"+W(rt,["attrs","val"]);it=He(ct,void 0)}if(it!==void 0){let ct=W(rt,["a:shade","attrs","val"]);if(ct!==void 0){ct=(parseInt(ct)/1e5).toString();const dt=new Wu("#"+it);dt.setLum(Number(dt.hsl.l)*Number(ct)),it=dt.hex.replace("#","")}}}return it===void 0?$?it="none":it="#000":it="#"+it,F+=" "+it+" ",$?{color:it,width:Y,type:K,strokeDasharray:nt}:F+";"}async function Le(M,$,F,U){let Y=W(M,["p:sld","p:cSld","p:bg","p:bgPr"]),K=W(M,["p:sld","p:cSld","p:bg","p:bgRef"]),nt;if(Y!==void 0){const it=ce(Y);if(it==="SOLID_FILL"){const rt=Y["a:solidFill"],ct=Dt(rt),dt=Oe(rt);nt="background: rgba("+yt(ct)+","+dt+");"}else if(it==="GRADIENT_FILL"){const rt=Y["a:gradFill"],ct=rt["a:gsLst"]["a:gs"],dt=[],Et=[];for(let Q=0;Q<ct.length;Q++){let St="",Tt;if(ct[Q]["a:srgbClr"]!==void 0)Tt=W(ct[Q],["a:srgbClr","attrs","val"]),St=W(ct[Q],["a:srgbClr","a:tint","attrs","val"]);else if(ct[Q]["a:schemeClr"]!==void 0){const zt=W(ct[Q],["a:schemeClr","attrs","val"]);Tt=He("a:"+zt,F),St=W(ct[Q],["a:schemeClr","a:tint","attrs","val"])}dt[Q]=Tt,Et[Q]=St!==void 0?parseInt(St)/1e5:1}const Rt=rt["a:lin"];let pt=90;Rt!==void 0&&(pt=Dn(Rt.attrs.ang)+90),nt="background: linear-gradient("+pt+"deg,";for(let Q=0;Q<ct.length;Q++)Q===ct.length-1?nt+="rgba("+yt(dt[Q])+","+Et[Q]+"));":nt+="rgba("+yt(dt[Q])+","+Et[Q]+"), "}else if(it==="PIC_FILL"){const rt=await re("slideBg",Y["a:blipFill"],U),ct=Y.attrs.order;nt="background-image: url("+rt+");  z-index: "+ct+";"}}else if(K!==void 0){let it="";if(K["a:srgbClr"]!==void 0)it=W(K,["a:srgbClr","attrs","val"]);else if(K["a:schemeClr"]!==void 0){const ct=W(K,["a:schemeClr","attrs","val"]);it=He("a:"+ct,F)}const rt=Number(K.attrs.idx);if(!(rt===0||rt===1e3)){if(!(rt>0&&rt<1e3)){if(rt>1e3){const ct=rt-1e3,dt=w["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],Et=[];Object.keys(dt).forEach(function(St){const Tt=dt[St];if(St!=="attrs")if(Tt.constructor===Array)for(let zt=0;zt<Tt.length;zt++){const jt={};jt[St]=Tt[zt],jt.idex=Tt[zt].attrs.order,Et.push(jt)}else{const zt={};zt[St]=Tt,zt.idex=Tt.attrs.order,Et.push(zt)}});const Rt=Et.slice(0);Rt.sort(function(St,Tt){return St.idex-Tt.idex});const pt=Rt[ct-1],Q=ce(pt);if(Q==="SOLID_FILL"){const St=pt["a:solidFill"],Tt=Oe(St);nt="background: rgba("+yt(it)+","+Tt+");"}else if(Q==="GRADIENT_FILL"){const St=pt["a:gradFill"],Tt=St["a:gsLst"]["a:gs"],zt=[];for(let H=0;H<Tt.length;H++){const at=W(Tt[H],["a:schemeClr","a:tint","attrs","val"]);zt[H]=at!==void 0?parseInt(at)/1e5:1}const jt=St["a:lin"];let q=90;jt!==void 0&&(q=Dn(jt.attrs.ang)+90),nt="background: linear-gradient("+q+"deg,";for(let H=0;H<Tt.length;H++)H===Tt.length-1?nt+="rgba("+yt(it)+","+zt[H]+"));":nt+="rgba("+yt(it)+","+zt[H]+"), "}}}}}else if(Y=W($,["p:sldLayout","p:cSld","p:bg","p:bgPr"]),K=W($,["p:sldLayout","p:cSld","p:bg","p:bgRef"]),Y!==void 0){const it=ce(Y);if(it==="SOLID_FILL"){const rt=Y["a:solidFill"],ct=Dt(rt),dt=Oe(rt);nt="background: rgba("+yt(ct)+","+dt+");"}else if(it==="GRADIENT_FILL"){const rt=Y["a:gradFill"],ct=rt["a:gsLst"]["a:gs"],dt=[],Et=[];for(let Q=0;Q<ct.length;Q++){let St="",Tt;if(ct[Q]["a:srgbClr"]!==void 0)Tt=W(ct[Q],["a:srgbClr","attrs","val"]),St=W(ct[Q],["a:srgbClr","a:tint","attrs","val"]);else if(ct[Q]["a:schemeClr"]!==void 0){const zt=W(ct[Q],["a:schemeClr","attrs","val"]);Tt=He("a:"+zt,F),St=W(ct[Q],["a:schemeClr","a:tint","attrs","val"])}dt[Q]=Tt,Et[Q]=St!==void 0?parseInt(St)/1e5:1}const Rt=rt["a:lin"];let pt=90;Rt!==void 0&&(pt=Dn(Rt.attrs.ang)+90),nt="background: linear-gradient("+pt+"deg,";for(let Q=0;Q<ct.length;Q++)Q===ct.length-1?nt+="rgba("+yt(dt[Q])+","+Et[Q]+"));":nt+="rgba("+yt(dt[Q])+","+Et[Q]+"), "}else if(it==="PIC_FILL"){const rt=await re("layoutBg",Y["a:blipFill"],U),ct=Y.attrs.order;nt="background-image: url("+rt+");  z-index: "+ct+";"}}else if(K!==void 0)nt="background: red;";else if(Y=W(F,["p:sldMaster","p:cSld","p:bg","p:bgPr"]),K=W(F,["p:sldMaster","p:cSld","p:bg","p:bgRef"]),Y!==void 0){const it=ce(Y);if(it==="SOLID_FILL"){const rt=Y["a:solidFill"],ct=Dt(rt),dt=Oe(rt);nt="background: rgba("+yt(ct)+","+dt+");"}else if(it==="GRADIENT_FILL"){const rt=Y["a:gradFill"],ct=rt["a:gsLst"]["a:gs"],dt=[],Et=[];for(let Q=0;Q<ct.length;Q++){let St="",Tt;if(ct[Q]["a:srgbClr"]!==void 0)Tt=W(ct[Q],["a:srgbClr","attrs","val"]),St=W(ct[Q],["a:srgbClr","a:tint","attrs","val"]);else if(ct[Q]["a:schemeClr"]!==void 0){const zt=W(ct[Q],["a:schemeClr","attrs","val"]);Tt=He("a:"+zt,F),St=W(ct[Q],["a:schemeClr","a:tint","attrs","val"])}dt[Q]=Tt,Et[Q]=St!==void 0?parseInt(St)/1e5:1}const Rt=rt["a:lin"];let pt=90;Rt!==void 0&&(pt=Dn(Rt.attrs.ang)+90),nt="background: linear-gradient("+pt+"deg,";for(let Q=0;Q<ct.length;Q++)Q===ct.length-1?nt+="rgba("+yt(dt[Q])+","+Et[Q]+"));":nt+="rgba("+yt(dt[Q])+","+Et[Q]+"), "}else if(it==="PIC_FILL"){const rt=await re("masterBg",Y["a:blipFill"],U),ct=Y.attrs.order;nt="background-image: url("+rt+");  z-index: "+ct+";"}}else if(K!==void 0){let it="";if(K["a:srgbClr"]!==void 0)it=W(K,["a:srgbClr","attrs","val"]);else if(K["a:schemeClr"]!==void 0){const ct=W(K,["a:schemeClr","attrs","val"]);it=He("a:"+ct,F)}const rt=Number(K.attrs.idx);if(!(rt===0||rt===1e3)){if(!(rt>0&&rt<1e3)){if(rt>1e3){const ct=rt-1e3,dt=w["a:theme"]["a:themeElements"]["a:fmtScheme"]["a:bgFillStyleLst"],Et=[];Object.keys(dt).forEach(function(St){const Tt=dt[St];if(St!=="attrs")if(Tt.constructor===Array)for(let zt=0;zt<Tt.length;zt++){const jt={};jt[St]=Tt[zt],jt.idex=Tt[zt].attrs.order,Et.push(jt)}else{const zt={};zt[St]=Tt,zt.idex=Tt.attrs.order,Et.push(zt)}});const Rt=Et.slice(0);Rt.sort(function(St,Tt){return St.idex-Tt.idex});const pt=Rt[ct-1],Q=ce(pt);if(Q==="SOLID_FILL"){const St=pt["a:solidFill"],Tt=Oe(St);nt="background: rgba("+yt(it)+","+Tt+");"}else if(Q==="GRADIENT_FILL"){const St=pt["a:gradFill"],Tt=St["a:gsLst"]["a:gs"],zt=[];for(let H=0;H<Tt.length;H++){const at=W(Tt[H],["a:schemeClr","a:tint","attrs","val"]);zt[H]=at!==void 0?parseInt(at)/1e5:1}const jt=St["a:lin"];let q=90;jt!==void 0&&(q=Dn(jt.attrs.ang)+90),nt="background: linear-gradient("+q+"deg,";for(let H=0;H<Tt.length;H++)H===Tt.length-1?nt+="rgba("+yt(it)+","+zt[H]+"));":nt+="rgba("+yt(it)+","+zt[H]+"), "}}}}}return nt}function yt(M="FFFFFF"){const $=new ArrayBuffer(4);new DataView($).setUint32(0,parseInt(M,16),!1);const U=new Uint8Array($);return U[1]+","+U[2]+","+U[3]}async function Gt(M,$,F){const U=ce(W(M,["p:spPr"]));let Y;if(U==="NO_FILL")return $?"none":"background-color: initial;";if(U==="SOLID_FILL"){const K=M["p:spPr"]["a:solidFill"];Y=Dt(K)}else if(U==="GRADIENT_FILL"){const K=M["p:spPr"]["a:gradFill"];Y=ie(K)}else if(U==="PATTERN_FILL"){const K=M["p:spPr"]["a:pattFill"];Y=pe(K)}else if(U==="PIC_FILL"){const K=M["p:spPr"]["a:blipFill"];Y=await re("slideBg",K,F)}if(Y===void 0){const K=W(M,["p:style","a:fillRef"]);Y=Dt(K)}if(Y!==void 0)if(U==="GRADIENT_FILL"){if($)return Y;{const K=Y.color;let it="background: linear-gradient("+Y.rot+"deg,";for(let rt=0;rt<K.length;rt++)rt===K.length-1?it+=K[rt]+");":it+=K[rt]+", ";return it}}else return U==="PIC_FILL"?$?Y:"background-image:url("+Y+");":$?(Y=new Wu(Y).rgb.toString(),Y):"background-color: #"+Y+";";else return $?"none":"background-color: initial;"}function ce(M){let $="";return M["a:noFill"]!==void 0&&($="NO_FILL"),M["a:solidFill"]!==void 0&&($="SOLID_FILL"),M["a:gradFill"]!==void 0&&($="GRADIENT_FILL"),M["a:pattFill"]!==void 0&&($="PATTERN_FILL"),M["a:blipFill"]!==void 0&&($="PIC_FILL"),$}function ie(M){const $=M["a:gsLst"]["a:gs"],F=[];for(let K=0;K<$.length;K++){let nt=Dt($[K]);if($[K]["a:srgbClr"]!==void 0){let it=parseInt(W(M,["a:srgbClr","a:lumMod","attrs","val"]))/1e5,rt=parseInt(W(M,["a:srgbClr","a:lumOff","attrs","val"]))/1e5;isNaN(it)&&(it=1),isNaN(rt)&&(rt=0),nt=Sa(nt,it,rt)}else if($[K]["a:schemeClr"]!==void 0){let it=parseInt(W($[K],["a:schemeClr","a:lumMod","attrs","val"]))/1e5,rt=parseInt(W($[K],["a:schemeClr","a:lumOff","attrs","val"]))/1e5;isNaN(it)&&(it=1),isNaN(rt)&&(rt=0),nt=Sa(nt,it,rt)}F[K]=nt}const U=M["a:lin"];let Y=0;return U!==void 0&&(Y=Dn(U.attrs.ang)+90),{color:F,rot:Y}}async function re(M,$,F){const U=$["a:blip"].attrs["r:embed"];let Y;if(M==="slideBg"?Y=W(F,["slideResObj",U,"target"]):M==="layoutBg"?Y=W(F,["layoutResObj",U,"target"]):M==="masterBg"&&(Y=W(F,["masterResObj",U,"target"])),Y===void 0)return;const K=Y.split(".").pop();if(K==="xml")return;const nt=await F.zip.file(Y).async("arraybuffer");return"data:"+bn(K)+";base64,"+qu(nt)}function pe(M){const $=M["a:bgClr"];return Dt($)}function Dt(M){if(M===void 0)return;let $="FFF";if(M["a:srgbClr"]!==void 0)$=W(M,["a:srgbClr","attrs","val"]);else if(M["a:schemeClr"]!==void 0){const F=W(M,["a:schemeClr","attrs","val"]);$=He("a:"+F,void 0)}else if(M["a:scrgbClr"]!==void 0){const F=M["a:scrgbClr"].attrs,U=F.r.indexOf("%")!==-1?F.r.split("%").shift():F.r,Y=F.g.indexOf("%")!==-1?F.g.split("%").shift():F.g,K=F.b.indexOf("%")!==-1?F.b.split("%").shift():F.b;$=Ye(255*(Number(U)/100))+Ye(255*(Number(Y)/100))+Ye(255*(Number(K)/100))}else if(M["a:prstClr"]!==void 0){const F=M["a:prstClr"].attrs.val;$=Or(F)}else if(M["a:hslClr"]!==void 0){const F=M["a:hslClr"].attrs,U=Number(F.hue)/1e5,Y=Number(F.sat.indexOf("%")!==-1?F.sat.split("%").shift():F.sat)/100,K=Number(F.lum.indexOf("%")!==-1?F.lum.split("%").shift():F.lum)/100,nt=yr(U,Y,K);$=Ye(nt.r)+Ye(nt.g)+Ye(nt.b)}else if(M["a:sysClr"]!==void 0){const F=W(M,["a:sysClr","attrs","lastClr"]);F!==void 0&&($=F)}return $}function Ye(M){let $=M.toString(16);for(;$.length<2;)$="0"+$;return $}function yr(M,$,F){let U;M=M/60,F<=.5?U=F*($+1):U=F+$-F*$;const Y=F*2-U,K=nr(Y,U,M+2)*255,nt=nr(Y,U,M)*255,it=nr(Y,U,M-2)*255;return{r:K,g:nt,b:it}}function nr(M,$,F){return F<0&&(F+=6),F>=6&&(F-=6),F<1?($-M)*F+M:F<3?$:F<4?($-M)*(4-F)+M:M}function Or(M){let $;const F=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],U=["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"],Y=F.indexOf(M);return Y!==-1&&($=U[Y]),$}function Oe(M){if(M===void 0)return;let $=1;if(M["a:srgbClr"]!==void 0){const F=W(M,["a:srgbClr","a:tint","attrs","val"]);F!==void 0&&($=parseInt(F)/1e5)}else if(M["a:schemeClr"]!==void 0){const F=W(M,["a:schemeClr","a:tint","attrs","val"]);F!==void 0&&($=parseInt(F)/1e5)}else if(M["a:scrgbClr"]!==void 0){const F=W(M,["a:scrgbClr","a:tint","attrs","val"]);F!==void 0&&($=parseInt(F)/1e5)}else if(M["a:prstClr"]!==void 0){const F=W(M,["a:prstClr","a:tint","attrs","val"]);F!==void 0&&($=parseInt(F)/1e5)}else if(M["a:hslClr"]!==void 0){const F=W(M,["a:hslClr","a:tint","attrs","val"]);F!==void 0&&($=parseInt(F)/1e5)}else if(M["a:sysClr"]!==void 0){const F=W(M,["a:sysClr","a:tint","attrs","val"]);F!==void 0&&($=parseInt(F)/1e5)}return $}function He(M,$){(D===""||D===void 0)&&(D=W($,["p:sldMaster","p:clrMap","attrs"])||{});const F=M.substr(2);switch(F){case"tx1":case"tx2":case"bg1":case"bg2":{M="a:"+D[F.toString()];break}}const U=W(w,["a:theme","a:themeElements","a:clrScheme",M]);let Y=W(U,["a:srgbClr","attrs","val"]);return Y===void 0&&(Y=W(U,["a:sysClr","attrs","lastClr"])),Y}function hn(M){const $=[];if(M===void 0)return $;if(M["c:xVal"]!==void 0){let F=[];rr(M["c:xVal"]["c:numRef"]["c:numCache"]["c:pt"],function(U,Y){return F.push(parseFloat(U["c:v"])),""}),$.push(F),F=[],rr(M["c:yVal"]["c:numRef"]["c:numCache"]["c:pt"],function(U,Y){return F.push(parseFloat(U["c:v"])),""}),$.push(F)}else rr(M,function(F,U){const Y=[],K=W(F,["c:tx","c:strRef","c:strCache","c:pt","c:v"])||U,nt={};return W(F,["c:cat","c:strRef","c:strCache","c:pt"])!==void 0?rr(F["c:cat"]["c:strRef"]["c:strCache"]["c:pt"],function(it,rt){return nt[it.attrs.idx]=it["c:v"],""}):W(F,["c:cat","c:numRef","c:numCache","c:pt"])!==void 0&&rr(F["c:cat"]["c:numRef"]["c:numCache"]["c:pt"],function(it,rt){return nt[it.attrs.idx]=it["c:v"],""}),W(F,["c:val","c:numRef","c:numCache","c:pt"])!==void 0&&rr(F["c:val"]["c:numRef"]["c:numCache"]["c:pt"],function(it,rt){return Y.push({x:it.attrs.idx,y:parseFloat(it["c:v"])}),""}),$.push({key:K,values:Y,xlabels:nt}),""});return $}function mi(M,$){return W(M,$.trim().split(/\s+/))}function W(M,$){if($.constructor!==Array)throw Error("Error of path type! path is not array.");if(M===void 0)return;const F=$.length;for(let U=0;U<F;U++)if(M=M[$[U]],M===void 0)return;return M}function rr(M,$){if(M===void 0)return;let F="";if(M.constructor===Array){const U=M.length;for(let Y=0;Y<U;Y++)F+=$(M[Y],Y)}else F+=$(M,0);return F}function Sa(M="#FFFFFF",$,F){const U=new Wu(M);return U.setLum(U.hsl.l*(1+F)),U.rgb.toString()}function Dn(M){return M===""||M==null?0:Math.round(Number(M)/6e4)}function bn(M){let $="";switch(M.toLowerCase()){case"jpg":case"jpeg":{$="image/jpeg";break}case"png":{$="image/png";break}case"gif":{$="image/gif";break}case"emf":{$="image/x-emf";break}case"wmf":{$="image/x-wmf";break}case"svg":{$="image/svg+xml";break}default:$="image/*"}return $}function $r(M,$,F,U,Y){const K=ps(U.length-2),nt=vs(F,$,M),it=nt[0],rt=nt[1],ct=nt[2],dt=nt[3],Et=K.length,Rt=Et<20?100:1e3,pt=' gradientUnits="userSpaceOnUse" x1="'+it+'%" y1="'+rt+'%" x2="'+ct+'%" y2="'+dt+'%"';let Q='<linearGradient id="linGrd_'+Y+'"'+pt+`>
`;for(let St=0;St<Et;St++)Q+='<stop offset="'+Math.round(parseFloat(K[St])/100*Rt)/Rt+'" stop-color="'+U[St]+'"',Q+=`/>
`;return Q+=`</linearGradient>
`,Q}function ps(M){const $=["0%","100%"];if(M===0)return!0;{let F=M;for(;F--;){const Y=100-100/(M+1)*(F+1)+"%";$.splice(-1,0,Y)}}return $}function vs(M,$,F){const U=parseFloat(F),Y=parseFloat($),K=parseFloat(M);let nt=2,it=2;const rt=U/2,ct=Y/2;let dt=2,Et=2,Rt=2,pt=2;const Q=(K%360+360)%360,St=(360-Q)*Math.PI/180,Tt=Math.tan(St),zt=ct-Tt*rt;Q===0?(dt=U,Et=ct,Rt=0,pt=ct):Q<90?(it=U,nt=0):Q===90?(dt=rt,Et=0,Rt=rt,pt=Y):Q<180?(it=0,nt=0):Q===180?(dt=0,Et=ct,Rt=U,pt=ct):Q<270?(it=0,nt=Y):Q===270?(dt=rt,Et=Y,Rt=rt,pt=0):(it=U,nt=Y);const jt=nt+it/Tt;dt=dt===2?Tt*(jt-zt)/(Math.pow(Tt,2)+1):dt,Et=Et===2?Tt*dt+zt:Et,Rt=Rt===2?U-dt:Rt,pt=pt===2?Y-Et:pt;const q=Math.round(Rt/U*100*100)/100,H=Math.round(pt/Y*100*100)/100,at=Math.round(dt/U*100*100)/100,Wt=Math.round(Et/Y*100*100)/100;return[q,H,at,Wt]}function Ta(M,$){let F='<pattern id="imgPtrn_'+$+'"  patternContentUnits="objectBoundingBox"  width="1" height="1">';return F+='<image  xlink:href="'+M+'" preserveAspectRatio="none" width="1" height="1"></image>',F+="</pattern>",F}}const A={version:"2.2.0",plot:{},aggregateMethod:{}};A.axis=function(l,p,g,C,w,D){this.chart=l,this.position=p,this.categoryFields=w==null?g:[].concat(w),this.measure=C,this.timeField=w,this.floatingBarWidth=5,this.hidden=!1,this.showPercent=!1,this.colors=null,this.overrideMin=null,this.overrideMax=null,this.shapes=null,this.showGridlines=null,this.gridlineShapes=null,this.titleShape=null,this.dateParseFormat=null,this.tickFormat=null,this.timePeriod=null,this.timeInterval=1,this.useLog=!1,this.logBase=10,this.title=void 0,this.clamp=!0,this.ticks=null,this.fontSize="10px",this.fontFamily="sans-serif",this.autoRotateLabel=D??!0,this._slaves=[],this._scale=null,this._min=0,this._max=0,this._previousOrigin=null,this._origin=null,this._orderRules=[],this._groupOrderRules=[],this._draw=null,this._getAxisData=function(){var L,P,R=[],B=!1;if(this.chart&&this.chart.series){for(L=0;L<this.chart.series.length;L+=1)P=this.chart.series[L],P[this.position]===this&&(P.data&&P.data.length>0?R=R.concat(P.data):B=!0);B&&this.chart.data&&(R=R.concat(this.chart.data))}return R},this._getFontSize=function(){var L;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?L=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?L=this.fontSize:L=this.fontSize+"px",L},this._getFormat=function(){var L,P,R,B,x,I,b;return this.tickFormat!==null&&this.tickFormat!==void 0?this._hasTimeField()?L=(void 0)(this.tickFormat):L=(void 0)(this.tickFormat):this.showPercent?L=(void 0)(".0%"):this.useLog&&this.measure!==null?L=function(E){var k=Math.floor(Math.abs(E),0).toString().length,V=Math.min(Math.floor((k-1)/3),4),G="kmBT".substring(V-1,V),tt=Math.round(E/Math.pow(1e3,V)*10).toString().slice(-1)==="0"?0:1;return E===0?0:(void 0)(",."+tt+"f")(E/Math.pow(1e3,V))+G}:this.measure!==null?(P=Math.floor(Math.abs(this._max),0).toString(),R=Math.floor(Math.abs(this._min),0).toString(),B=Math.max(R.length,P.length),B>3?(x=Math.min(Math.floor((B-1)/3),4),I="kmBT".substring(x-1,x),b=B-x*3<=1?1:0,L=function(E){return E===0?0:(void 0)(",."+b+"f")(E/Math.pow(1e3,x))+I}):(b=Math.max(-(this._tick_step?Math.floor(Math.log(this._tick_step)/Math.LN10):0),0),L=(void 0)(",."+b+"f"))):L=function(E){return E},L},this._getTimePeriod=function(){var L=this.timePeriod,P=30,R=this._max-this._min;return this._hasTimeField()&&!this.timePeriod&&(R/1e3<=P||R/6e4<=P||R/36e5<=P||R/864e5<=P||R/6048e5<=P||R/26298e5<=P,L=void 0),L},this._getTooltipText=function(L,P){if(this._hasTimeField())P[this.position+"Field"][0]&&L.push(this.timeField+": "+this._getFormat()(P[this.position+"Field"][0]));else if(this._hasCategories())this.categoryFields.forEach(function(R,B){R!=null&&P[this.position+"Field"][B]&&L.push(R+(P[this.position+"Field"][B]!==R?": "+P[this.position+"Field"][B]:""))},this);else if(this._hasMeasure())switch(this.position){case"x":L.push(this.measure+": "+this._getFormat()(P.width));break;case"y":L.push(this.measure+": "+this._getFormat()(P.height));break;case"p":L.push(this.measure+": "+this._getFormat()(P.angle)+" ("+(void 0)(".0%")(P.piePct)+")");break;default:L.push(this.measure+": "+this._getFormat()(P[this.position+"Value"]));break}},this._getTopMaster=function(){var L=this;return this.master!==null&&this.master!==void 0&&(L=this.master._getTopMaster()),L},this._hasCategories=function(){return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0},this._hasMeasure=function(){return this.measure!==null&&this.measure!==void 0},this._hasTimeField=function(){return this.timeField!==null&&this.timeField!==void 0},this._parseDate=function(L){var P;return this.dateParseFormat===null||this.dateParseFormat===void 0?isNaN(L)?P=Date.parse(L):P=new Date(L):P=(void 0)(this.dateParseFormat)(L),P},this._update=function(L){var P=[],R,B,x,I,b=this.ticks||10,E=function(k,V,G){var tt=k.categoryFields[0],gt=k._getAxisData(),ht=tt,mt=!1,ot=!0,st=null,bt,$t;for(bt=0;bt<gt.length;bt+=1)if(st=k._parseDate(gt[bt][tt]),st!=null&&isNaN(st)){ot=!1;break}return ot||k.chart.series.forEach(function(At){At[V]===k&&At[G]._hasMeasure()&&(ht=At[G].measure,mt=!0)},this),$t=k._orderRules.concat({ordering:ht,desc:mt}),A._getOrderedList(gt,tt,$t)};if(this._min=this.showPercent&&this._min<-1?-1:this._min,this._max=this.showPercent&&this._max>1?1:this._max,this._min=this.overrideMin!==null?this.overrideMin:this._min,this._max=this.overrideMax!==null?this.overrideMax:this._max,this.position==="x"&&(this._scale===null||L)){if(this._hasTimeField()?this._scale=(void 0)().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=(void 0)().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(P=E(this,"x","y"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(k){P=P.concat(E(k,"x","y"))},this),this._scale=(void 0)().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain(P.concat([""]))):this._scale=(void 0)().range([this.chart._xPixels(),this.chart._xPixels()+this.chart._widthPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"x")){case 0:this._draw=(void 0)().scale(this._scale),this.ticks&&this._draw.ticks(b);break;case 1:this._draw=(void 0)().scale(this._scale),this.ticks&&this._draw.ticks(b);break}}else if(this.position==="y"&&(this._scale===null||L)){if(this._hasTimeField()?this._scale=(void 0)().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp):this.useLog?this._scale=(void 0)().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase).nice():this.measure===null||this.measure===void 0?(P=E(this,"y","x"),this._slaves!==null&&this._slaves!==void 0&&this._slaves.forEach(function(k){P=P.concat(E(k,"y","x"))},this),this._scale=(void 0)().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain(P.concat([""]))):this._scale=(void 0)().range([this.chart._yPixels()+this.chart._heightPixels(),this.chart._yPixels()]).domain([this._min,this._max]).clamp(this.clamp).nice(),!this.hidden)switch(this.chart._axisIndex(this,"y")){case 0:this._draw=(void 0)().scale(this._scale),this.ticks&&this._draw.ticks(b);break;case 1:this._draw=(void 0)().scale(this._scale),this.ticks&&this._draw.ticks(b);break}}else this.position.length>0&&this.position[0]==="z"&&this._scale===null?this.useLog?this._scale=(void 0)().range([this.chart._heightPixels()/300,this.chart._heightPixels()/10]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=(void 0)().range([1,this.chart._heightPixels()/10]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="p"&&this._scale===null?this.useLog?this._scale=(void 0)().range([0,360]).domain([this._min===0?Math.pow(this.logBase,-1):this._min,this._max===0?-1*Math.pow(this.logBase,-1):this._max]).clamp(this.clamp).base(this.logBase):this._scale=(void 0)().range([0,360]).domain([this._min,this._max]).clamp(this.clamp):this.position.length>0&&this.position[0]==="c"&&this._scale===null&&(this._scale=(void 0)().range([0,this.colors===null||this.colors.length===1?1:this.colors.length-1]).domain([this._min,this._max]).clamp(this.clamp));return this._slaves!==null&&this._slaves!==void 0&&this._slaves.length>0&&this._slaves.forEach(function(k){k._scale=this._scale},this),(L==null||L===!1)&&!this._hasTimeField()&&this._scale!==null&&this._scale.ticks!==null&&this._scale.ticks!==void 0&&this._scale.ticks(b).length>0&&(this.position==="x"||this.position==="y")&&(R=this._scale.ticks(b),B=R[1]-R[0],x=((this._max-this._min)%B).toFixed(0),this._tick_step=B,x!==0&&(this._max=Math.ceil(this._max/B)*B,this._min=Math.floor(this._min/B)*B,this._update(!0))),P!=null&&P.length>0?I=this._scale.copy()(P[0]):this._min>0?I=this._scale.copy()(this._min):this._max<0?I=this._scale.copy()(this._max):I=this._scale.copy()(0),this._origin!==I&&(this._previousOrigin=this._origin===null?I:this._origin,this._origin=I),this},this.addGroupOrderRule=function(L,P){this._groupOrderRules.push({ordering:L,desc:P})},this.addOrderRule=function(L,P){this._orderRules.push({ordering:L,desc:P})}};A.chart=function(l,p){this.svg=l,this.x="10%",this.y="10%",this.width="80%",this.height="80%",this.data=p,this.noFormats=!1,this.axes=[],this.series=[],this.legends=[],this.storyboard=null,this.titleShape=null,this.shapes=null,this.ease=void 0,this.staggerDraw=!1,this.transition={},this._group=l.append("g"),this._group.attr("class","dimple-chart"),this._gridlines_group=this._group.insert("g"),this._gridlines_group.attr("class","dimple-gridlines-group"),this._axis_group=this._group.insert("g"),this._axis_group.attr("class","dimple-axis-group"),this._tooltipGroup=null,this._assignedColors={},this._assignedClasses={},this._nextColor=0,this._nextClass=0,this._axisIndex=function(g,C){var w=0,D=0,L=-1;for(w=0;w<this.axes.length;w+=1){if(this.axes[w]===g){L=D;break}(C==null||C[0]===this.axes[w].position[0])&&(D+=1)}return L},this._getAllData=function(){var g=[];return this.data!==null&&this.data!==void 0&&this.data.length>0&&(g=g.concat(this.data)),this.series!==null&&this.series!==void 0&&this.series.length>0&&this.series.forEach(function(C){C.data!==null&&C.data!==void 0&&C.data.length>0&&(g=g.concat(C.data))}),g},this._getData=function(g,C,w,D,L,P,R,B,x,I){var b=[],E=function(_t,ue){var fe=[];return _t!==null&&(_t._hasTimeField()?fe.push(_t._parseDate(ue[_t.timeField])):_t._hasCategories()&&_t.categoryFields.forEach(function(Se){fe.push(ue[Se])},this)),fe},k={x:!1,y:!1,z:!1,p:!1,c:!1},V={x:[],y:[]},G={x:[],y:[],z:[],p:[]},tt={min:null,max:null},gt,ht={x:[],y:[],z:[],p:[]},mt=[],ot={},st={x:0,y:0,z:0,p:0},bt,$t="",At=[],Bt=[],le=[],Zt="",Ft=[],te="",ge=[],Ue="",In=[],_e=[],Fe=g,un=[];this.storyboard&&this.storyboard.categoryFields.length>0&&($t=this.storyboard.categoryFields[0],At=A._getOrderedList(Fe,$t,this.storyboard._orderRules)),P&&P._hasCategories()&&P._hasMeasure()&&(Zt=P.categoryFields[0],Ft=A._getOrderedList(Fe,Zt,P._orderRules.concat([{ordering:P.measure,desc:!0}]))),R&&R._hasCategories()&&R._hasMeasure()&&(te=R.categoryFields[0],ge=A._getOrderedList(Fe,te,R._orderRules.concat([{ordering:R.measure,desc:!0}]))),x&&x._hasCategories()&&x._hasMeasure()&&(Ue=x.categoryFields[0],In=A._getOrderedList(Fe,Ue,x._orderRules.concat([{ordering:x.measure,desc:!0}]))),Fe.length>0&&C&&C.length>0&&(_e=[].concat(D),Bt=[],C.forEach(function(_t){Fe[0][_t]!==void 0&&Bt.push(_t)},this),x&&x._hasMeasure()?_e.push({ordering:x.measure,desc:!0}):I&&I._hasMeasure()?_e.push({ordering:I.measure,desc:!0}):B&&B._hasMeasure()?_e.push({ordering:B.measure,desc:!0}):P&&P._hasMeasure()?_e.push({ordering:P.measure,desc:!0}):R&&R._hasMeasure()&&_e.push({ordering:R.measure,desc:!0}),le=A._getOrderedList(Fe,Bt,_e)),Fe.sort(function(_t,ue){var fe=0,Se,Be,Ne,Le,yt,Gt;if($t!==""&&(fe=At.indexOf(_t[$t])-At.indexOf(ue[$t])),Zt!==""&&fe===0&&(fe=Ft.indexOf(_t[Zt])-Ft.indexOf(ue[Zt])),te!==""&&fe===0&&(fe=ge.indexOf(_t[te])-ge.indexOf(ue[te])),Ue!==""&&fe===0&&(fe=In.indexOf(_t[Ue])-ge.indexOf(ue[Ue])),Bt&&Bt.length>0&&fe===0)for(Se=[].concat(Bt),fe=0,Ne=0;Ne<le.length;Ne+=1){for(Be=[].concat(le[Ne]),yt=!0,Gt=!0,Le=0;Le<Se.length;Le+=1)yt=yt&&_t[Se[Le]]===Be[Le],Gt=Gt&&ue[Se[Le]]===Be[Le];if(yt||Gt){yt&&Gt?fe=0:yt?fe=-1:fe=1;break}}return fe}),Fe.forEach(function(_t){var ue=-1,fe=E(P,_t),Se=E(R,_t),Be=E(B,_t),Ne=E(x,_t),Le=[],yt,Gt,ce,ie,re;if(!C||C.length===0)Le=["All"];else for(ce=0;ce<C.length;ce+=1)_t[C[ce]]===void 0?Le.push(C[ce]):Le.push(_t[C[ce]]);for(yt=Le.join("/")+"_"+fe.join("/")+"_"+Se.join("/")+"_"+Ne.join("/")+"_"+Be.join("/"),Gt=0;Gt<b.length;Gt+=1)if(b[Gt].key===yt){ue=Gt;break}ue===-1&&(ie={key:yt,aggField:Le,xField:fe,xValue:null,xCount:0,yField:Se,yValue:null,yCount:0,pField:Ne,pValue:null,pCount:0,zField:Be,zValue:null,zCount:0,cValue:0,cCount:0,x:0,y:0,xOffset:0,yOffset:0,width:0,height:0,cx:0,cy:0,xBound:0,yBound:0,xValueList:[],yValueList:[],zValueList:[],pValueList:[],cValueList:[],fill:{},stroke:{}},b.push(ie),ue=b.length-1),re=function(pe,Dt){var Ye=!0,yr={value:0,count:1},nr={value:0,count:1},Or,Oe="",He;Dt!==null&&(Or=Dt.getFrameValue(),Dt.categoryFields.forEach(function(hn,mi){mi>0&&(Oe+="/"),Oe+=_t[hn],Ye=Oe===Or},this)),pe!=null&&Ye&&(He=b[ue],pe._hasMeasure()&&_t[pe.measure]!==null&&_t[pe.measure]!==void 0&&(He[pe.position+"ValueList"].indexOf(_t[pe.measure])===-1&&He[pe.position+"ValueList"].push(_t[pe.measure]),isNaN(parseFloat(_t[pe.measure]))&&(k[pe.position]=!0),yr.value=He[pe.position+"Value"],yr.count=He[pe.position+"Count"],nr.value=_t[pe.measure],He[pe.position+"Value"]=w(yr,nr),He[pe.position+"Count"]+=1))},re(P,this.storyboard),re(R,this.storyboard),re(B,this.storyboard),re(x,this.storyboard),re(I,this.storyboard)},this),P&&P._hasCategories()&&P.categoryFields.length>1&&V.x!==void 0&&(un=[],R._hasMeasure()&&un.push({ordering:R.measure,desc:!0}),V.x=A._getOrderedList(Fe,P.categoryFields[1],P._groupOrderRules.concat(un))),R&&R._hasCategories()&&R.categoryFields.length>1&&V.y!==void 0&&(un=[],P._hasMeasure()&&un.push({ordering:P.measure,desc:!0}),V.y=A._getOrderedList(Fe,R.categoryFields[1],R._groupOrderRules.concat(un)),V.y.reverse()),b.forEach(function(_t){P!==null&&(k.x===!0&&(_t.xValue=_t.xValueList.length),P._hasMeasure()&&P._hasCategories()?gt=(G.x[_t.xField.join("/")]||0)+(P._hasMeasure()?Math.abs(_t.xValue):0):gt=(G.x[_t.xField.join("/")]||0)+(R._hasMeasure()?Math.abs(_t.yValue):0),G.x[_t.xField.join("/")]=gt),R!==null&&(k.y===!0&&(_t.yValue=_t.yValueList.length),R._hasMeasure()&&R._hasCategories()?gt=(G.y[_t.yField.join("/")]||0)+(R._hasMeasure()?Math.abs(_t.yValue):0):gt=(G.y[_t.yField.join("/")]||0)+(P._hasMeasure()?Math.abs(_t.xValue):0),G.y[_t.yField.join("/")]=gt),x!==null&&(k.p===!0&&(_t.pValue=_t.pValueList.length),gt=(G.p[_t.pField.join("/")]||0)+(x._hasMeasure()?Math.abs(_t.pValue):0),G.p[_t.pField.join("/")]=gt),B!==null&&(k.z===!0&&(_t.zValue=_t.zValueList.length),gt=(G.z[_t.zField.join("/")]||0)+(B._hasMeasure()?Math.abs(_t.zValue):0),G.z[_t.zField.join("/")]=gt),I!==null&&((tt.min===null||_t.cValue<tt.min)&&(tt.min=_t.cValue),(tt.max===null||_t.cValue>tt.max)&&(tt.max=_t.cValue))},this);for(bt in G.x)Object.prototype.hasOwnProperty.call(G.x,bt)&&(st.x+=G.x[bt]);for(bt in G.y)Object.prototype.hasOwnProperty.call(G.y,bt)&&(st.y+=G.y[bt]);for(bt in G.p)Object.prototype.hasOwnProperty.call(G.p,bt)&&(st.p+=G.p[bt]);for(bt in G.z)Object.prototype.hasOwnProperty.call(G.z,bt)&&(st.z+=G.z[bt]);return b.forEach(function(_t){var ue,fe,Se,Be,Ne,Le=function(yt,Gt,ce){var ie,re,pe,Dt,Ye;yt!=null&&(Dt=yt.position,yt._hasCategories()?yt._hasMeasure()?(ie=_t[yt.position+"Field"].join("/"),re=yt.showPercent?G[yt.position][ie]/st[yt.position]:G[yt.position][ie],mt.indexOf(ie)===-1&&(ot[ie]=re+(mt.length>0?ot[mt[mt.length-1]]:0),mt.push(ie)),pe=_t[Dt+"Bound"]=_t["c"+Dt]=(Dt==="x"||Dt==="y")&&L?ot[ie]:re,_t[ce]=re,_t[Dt]=pe-(Dt==="x"&&re>=0||Dt==="y"&&re<=0?re:0)):(_t[Dt]=_t["c"+Dt]=_t[Dt+"Field"][0],_t[ce]=1,V[Dt]!==void 0&&V[Dt]!==null&&V[Dt].length>=2&&(_t[Dt+"Offset"]=V[Dt].indexOf(_t[Dt+"Field"][1]),_t[ce]=1/V[Dt].length)):(re=yt.showPercent?_t[Dt+"Value"]/G[Gt][_t[Gt+"Field"].join("/")]:_t[Dt+"Value"],ie=_t[Gt+"Field"].join("/")+(_t[Dt+"Value"]>=0),Ye=ht[Dt][ie]=(ht[Dt][ie]===null||ht[Dt][ie]===void 0||Dt==="z"||Dt==="p"?0:ht[Dt][ie])+re,pe=_t[Dt+"Bound"]=_t["c"+Dt]=(Dt==="x"||Dt==="y")&&L?Ye:re,_t[ce]=re,_t[Dt]=pe-(Dt==="x"&&re>=0||Dt==="y"&&re<=0?re:0)))};Le(P,"y","width"),Le(R,"x","height"),Le(B,"z","r"),Le(x,"p","angle"),I!==null&&tt.min!==null&&tt.max!==null&&(tt.min===tt.max&&(tt.min-=.5,tt.max+=.5),tt.min=I.overrideMin||tt.min,tt.max=I.overrideMax||tt.max,_t.cValue=_t.cValue>tt.max?tt.max:_t.cValue<tt.min?tt.min:_t.cValue,Se=(void 0)().range([0,I.colors===null||I.colors.length===1?1:I.colors.length-1]).domain([tt.min,tt.max]),Be=Se(_t.cValue),Ne=Be-Math.floor(Be),_t.cValue===tt.max&&(Ne=1),I.colors&&I.colors.length===1?(ue=(void 0)(I.colors[0]),fe=(void 0)(this.getColor(_t.aggField.slice(-1)[0]).fill)):I.colors&&I.colors.length>1?(ue=(void 0)(I.colors[Math.floor(Be)]),fe=(void 0)(I.colors[Math.ceil(Be)])):(ue=(void 0)("white"),fe=(void 0)(this.getColor(_t.aggField.slice(-1)[0]).fill)),ue.r=Math.floor(ue.r+(fe.r-ue.r)*Ne),ue.g=Math.floor(ue.g+(fe.g-ue.g)*Ne),ue.b=Math.floor(ue.b+(fe.b-ue.b)*Ne),_t.fill=ue.toString(),_t.stroke=ue.darker(.5).toString())},this),b},this._getDelay=function(g,C,w){return function(D){var L=0;return w&&C.staggerDraw&&(w.x._hasCategories()?L=A._helpers.cx(D,C,w)/C._widthPixels()*g:w.y._hasCategories()&&(L=(1-A._helpers.cy(D,C,w)/C._heightPixels())*g)),L}},this._getSeriesData=function(){this.series!==null&&this.series!==void 0&&this.series.forEach(function(g){var C=g.data||this.data||[],w=[].concat(g.categoryFields||"All"),D=this._getData(C,w,g.aggregate,g._orderRules,g._isStacked(),g.x,g.y,g.z,g.p,g.c),L=[],P,R,B,x,I,b,E={},k=g.startAngle*(Math.PI/180)||0,V=(g.endAngle||360)*(Math.PI/180);if(k>V&&(k-=2*Math.PI),g.p&&w.length>0){if(g.x&&g.y){for(w.pop(),L=this._getData(C,["__dimple_placeholder__"].concat(w),g.aggregate,g._orderRules,g._isStacked(),g.x,g.y,g.z,g.p,g.c),P=0;P<D.length;P+=1)for(B=["__dimple_placeholder__"].concat(D[P].aggField),B.pop(),g.x&&g.x._hasCategories()&&(B=B.concat(D[P].xField)),g.y&&g.y._hasCategories()&&(B=B.concat(D[P].yField)),x=B.join("|"),R=0;R<L.length;R+=1)if(I=[].concat(L[R].aggField),g.x&&g.x._hasCategories()&&(I=I.concat(L[R].xField)),g.y&&g.y._hasCategories()&&(I=I.concat(L[R].yField)),b=I.join("|"),x===b){D[P].xField=L[R].xField,D[P].xValue=L[R].xValue,D[P].xCount=L[R].xCount,D[P].yField=L[R].yField,D[P].yValue=L[R].yValue,D[P].yCount=L[R].yCount,D[P].zField=L[R].zField,D[P].zValue=L[R].zValue,D[P].zCount=L[R].zCount,D[P].x=L[R].x,D[P].y=L[R].y,D[P].r=L[R].r,D[P].xOffset=L[R].xOffset,D[P].yOffset=L[R].yOffset,D[P].width=L[R].width,D[P].height=L[R].height,D[P].cx=L[R].cx,D[P].cy=L[R].cy,D[P].xBound=L[R].xBound,D[P].yBound=L[R].yBound,D[P].xValueList=L[R].xValueList,D[P].yValueList=L[R].yValueList,D[P].zValueList=L[R].zValueList,D[P].cValueList=L[R].cValueList,D[P].pieKey=L[R].key,D[P].value=D.pValue,E[L[R].key]||(E[L[R].key]={total:0,angle:k}),E[L[R].key].total+=D[P].pValue;break}}else for(P=0;P<D.length;P+=1)D[P].pieKey="All",D[P].value=D.pValue,E[D[P].pieKey]||(E[D[P].pieKey]={total:0,angle:k}),E[D[P].pieKey].total+=D[P].pValue;for(P=0;P<D.length;P+=1)E[D[P].pieKey].total===0?D[P].piePct=0:D[P].piePct=D[P].pValue/E[D[P].pieKey].total,D[P].startAngle=E[D[P].pieKey].angle,D[P].endAngle=D[P].startAngle+D[P].piePct*(V-k),E[D[P].pieKey].angle=D[P].endAngle}g._positionData=D},this)},this._handleTransition=function(g,C,w,D){var L=null;return C===0?L=g:(L=g.transition().duration(C).delay(w._getDelay(C,w,D)),A._ease(L,w.ease)),L},this._heightPixels=function(){return A._parseYPosition(this.height,this.svg.node())},this._registerEventHandlers=function(g){g._eventHandlers!==null&&g._eventHandlers.length>0&&g._eventHandlers.forEach(function(C){var w,D=function(L){var P=new A.eventArgs;g.chart.storyboard!==null&&(P.frameValue=g.chart.storyboard.getFrameValue()),P.seriesValue=L.aggField,P.xValue=L.x,P.yValue=L.y,P.zValue=L.z,P.pValue=L.p,P.colorValue=L.cValue,P.seriesShapes=g.shapes,P.selectedShape=(void 0)(this),C.handler(P)};if(C.handler!==null&&typeof C.handler=="function")if(g._markers!==null&&g._markers!==void 0)for(w in g._markers)Object.prototype.hasOwnProperty.call(g._markers,w)&&g._markers[w].on(C.event,D);else g.shapes.on(C.event,D)},this)},this._widthPixels=function(){return A._parseXPosition(this.width,this.svg.node())},this._xPixels=function(){return A._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return A._parseYPosition(this.y,this.svg.node())},this.addAxis=function(g,C,w,D){var L=null,P=null,R;if(C!=null&&(C=[].concat(C)),typeof g=="string"||g instanceof String)L=new A.axis(this,g,C,w,D),this.axes.push(L);else{if(P=g,L=new A.axis(this,P.position,C,w,D),L._hasMeasure()!==P._hasMeasure()?R="You have specified a composite axis where some but not all axes have a measure - this is not supported, all axes must be of the same type.":L._hasTimeField()!==P._hasTimeField()?R="You have specified a composite axis where some but not all axes have a time field - this is not supported, all axes must be of the same type.":(L.categoryFields===null||L.categoryFields===void 0?0:L.categoryFields.length)!==(P.categoryFields===null||P.categoryFields===void 0?0:P.categoryFields.length)&&(R="You have specified a composite axis where axes have differing numbers of category fields - this is not supported, all axes must be of the same type."),R)throw R;P._slaves.push(L)}return L},this.addCategoryAxis=function(g,C){return this.addAxis(g,C,null)},this.addColorAxis=function(g,C){var w=this.addAxis("c",null,g);return w.colors=C==null?null:[].concat(C),w},this.addLegend=function(g,C,w,D,L,P){P=P==null?this.series:[].concat(P),L=L??"left";var R=new A.legend(this,g,C,w,D,L,P);return this.legends.push(R),R},this.addLogAxis=function(g,C,w){var D=this.addAxis(g,null,C,null);return w!=null&&(D.logBase=w),D.useLog=!0,D},this.addMeasureAxis=function(g,C){return this.addAxis(g,null,C)},this.addPctAxis=function(g,C,w){var D=null;return w!=null?D=this.addAxis(g,w,C):D=this.addMeasureAxis(g,C),D.showPercent=!0,D},this.addSeries=function(g,C,w){w==null&&(w=this.axes),C==null&&(C=A.plot.bubble);var D=null,L=null,P=null,R=null,B=null,x;return w.forEach(function(I){I!==null&&C.supportedAxes.indexOf(I.position)>-1&&(D===null&&I.position[0]==="x"?D=I:L===null&&I.position[0]==="y"?L=I:P===null&&I.position[0]==="z"?P=I:R===null&&I.position[0]==="c"?R=I:R===null&&I.position[0]==="p"&&(B=I))},this),g&&(g=[].concat(g)),x=new A.series(this,g,D,L,P,R,B,C,A.aggregateMethod.sum,C.stacked),this.series.push(x),x},this.addTimeAxis=function(g,C,w,D){var L=this.addAxis(g,null,null,C);return L.tickFormat=D,L.dateParseFormat=w,L},this.assignClass=function(g,C){return this._assignedClasses[g]=C,this._assignedClasses[g]},this.assignColor=function(g,C,w,D){return this._assignedColors[g]=new A.color(C,w,D),this._assignedColors[g]},this.customClassList={axisLine:"dimple-custom-axis-line",axisLabel:"dimple-custom-axis-label",axisTitle:"dimple-custom-axis-title",tooltipBox:"dimple-custom-tooltip-box",tooltipLabel:"dimple-custom-tooltip-label",tooltipDropLine:"dimple-custom-tooltip-dropline",lineMarker:"dimple-custom-line-marker",lineMarkerCircle:"dimple-custom-line-marker-circle",legendLabel:"dimple-custom-legend-label",legendKey:"dimple-custom-legend-key",areaSeries:"dimple-custom-series-area",barSeries:"dimple-custom-series-bar",bubbleSeries:"dimple-custom-series-bubble",lineSeries:"dimple-custom-series-line",pieSeries:"dimple-custom-series-pie",gridline:"dimple-custom-gridline",colorClasses:["dimple-custom-format-1","dimple-custom-format-2","dimple-custom-format-3","dimple-custom-format-4","dimple-custom-format-5","dimple-custom-format-6","dimple-custom-format-7","dimple-custom-format-8","dimple-custom-format-9","dimple-custom-format-10"]},this.defaultColors=[new A.color("#80B1D3"),new A.color("#FB8072"),new A.color("#FDB462"),new A.color("#B3DE69"),new A.color("#FFED6F"),new A.color("#BC80BD"),new A.color("#8DD3C7"),new A.color("#CCEBC5"),new A.color("#FFFFB3"),new A.color("#BEBADA"),new A.color("#FCCDE5"),new A.color("#D9D9D9")],this.draw=function(g,C){g=g||0;var w=null,D=null,L,P=!1,R=!1,B=this._xPixels(),x=this._yPixels(),I=this._widthPixels(),b=this._heightPixels(),E;return(C==null||C===!1)&&this._getSeriesData(),this.axes.forEach(function(k){k._scale=null},this),this.axes.forEach(function(k){if(k._min=0,k._max=0,E=[],k._hasMeasure()){var V=!1;this.series.forEach(function(G){if(G._deepMatch(k)){var tt=G._axisBounds(k.position);k._min>tt.min&&(k._min=tt.min),k._max<tt.max&&(k._max=tt.max),V=!0}},this),V||this._getAllData().forEach(function(G){k._min>G[k.measure]&&(k._min=G[k.measure]),k._max<G[k.measure]&&(k._max=G[k.measure])},this)}else k._hasTimeField()?(k._min=null,k._max=null,this.series.forEach(function(G){G._deepMatch(k)&&G[k.position].timeField!==null&&G[k.position].timeField!==void 0&&E.indexOf(G[k.position].timeField)===-1&&E.push(G[k.position].timeField)},this),k._getAxisData().forEach(function(G){E.forEach(function(tt){var gt=k._parseDate(G[tt]);(k._min===null||gt<k._min)&&(k._min=gt),(k._max===null||gt>k._max)&&(k._max=gt)},this)},this)):k._hasCategories()&&(k._min=0,L=[],this.series.forEach(function(G){G._deepMatch(k)&&G[k.position].categoryFields[0]!==null&&G[k.position].categoryFields[0]!==void 0&&E.indexOf(G[k.position].categoryFields[0])===-1&&E.push(G[k.position].categoryFields[0])},this),k._getAxisData().forEach(function(G){E.forEach(function(tt){L.indexOf(G[tt])===-1&&L.push(G[tt])},this)},this),k._max=L.length);k._slaves!==null&&k._slaves!==void 0&&k._slaves.length>0&&k._slaves.forEach(function(G){G._min=k._min,G._max=k._max},this),k._update(),w===null&&k.position==="x"?w=k:D===null&&k.position==="y"&&(D=k)},this),this.axes.forEach(function(k){var V=!1,G=null,tt=0,gt=null,ht=!1,mt=0,ot={l:null,t:null,r:null,b:null},st=0,bt=0,$t="",At=this,Bt=function(Ft){var te;return G===null||g===0||V?te=Ft:te=At._handleTransition(Ft,g,At),te},le=function(){var Ft=(void 0)(this).selectAll("text");return!k.measure&&k._max>0&&(k.position==="x"?Ft.attr("x",I/k._max/2):k.position==="y"&&Ft.attr("y",-1*(b/k._max)/2)),k.categoryFields&&k.categoryFields.length>0&&(k===w&&(D.categoryFields===null||D.categoryFields.length===0)&&Ft.attr("y",x+b-D._scale(0)+9),k===D&&(w.categoryFields===null||w.categoryFields.length===0)&&Ft.attr("x",-1*(w._scale(0)-B)-9)),this},Zt=function(Ft){return function(){var te=(void 0)(this).attr("class")||"";return te.indexOf(Ft)===-1&&(te+=" "+Ft),te.trim()}};k.gridlineShapes===null?(k.showGridlines||k.showGridlines===null&&!k._hasCategories()&&(!P&&k.position==="x"||!R&&k.position==="y"))&&(k.gridlineShapes=this._gridlines_group.append("g").attr("class","dimple-gridline"),k.position==="x"?P=!0:R=!0):k.position==="x"?P=!0:R=!0,k.shapes===null&&(k.shapes=this._axis_group.append("g").attr("class","dimple-axis dimple-axis-"+k.position).each(function(){At.noFormats||(void 0)(this).style("font-family",k.fontFamily).style("font-size",k._getFontSize())}),V=!0),k===w&&D!==null?(G="translate(0, "+(D.categoryFields===null||D.categoryFields.length===0?D._scale(0):x+b)+")",gt="translate(0, "+(k===w?x+b:x)+")",tt=-b):k===D&&w!==null?(G="translate("+(w.categoryFields===null||w.categoryFields.length===0?w._scale(0):B)+", 0)",gt="translate("+(k===D?B:B+I)+", 0)",tt=-I):k.position==="x"?(gt=G="translate(0, "+(k===w?x+b:x)+")",tt=-b):k.position==="y"&&(gt=G="translate("+(k===D?B:B+I)+", 0)",tt=-I),G!==null&&k._draw!==null&&(k._hasTimeField()?Bt(k.shapes).call(k._draw.ticks(k._getTimePeriod(),k.timeInterval).tickFormat(k._getFormat())).attr("transform",G).each(le):k.useLog?Bt(k.shapes).call(k._draw.ticks(4,k._getFormat())).attr("transform",G).each(le):Bt(k.shapes).call(k._draw.tickFormat(k._getFormat())).attr("transform",G).each(le),k.gridlineShapes!==null&&Bt(k.gridlineShapes).call(k._draw.tickSize(tt,0,0).tickFormat("")).attr("transform",gt)),Bt(k.shapes.selectAll("text")).attr("class",Zt(At.customClassList.axisLabel)).call(function(Ft){At.noFormats||Ft.style("font-family",k.fontFamily).style("font-size",k._getFontSize())}),Bt(k.shapes.selectAll("path, line")).attr("class",Zt(At.customClassList.axisLine)).call(function(Ft){At.noFormats||Ft.style("fill","none").style("stroke","black").style("shape-rendering","crispEdges")}),k.gridlineShapes!==null&&(k.gridlineShapes.selectAll("path").remove(),Bt(k.gridlineShapes.selectAll("line")).attr("class",Zt(At.customClassList.gridline)).call(function(Ft){At.noFormats||Ft.style("fill","none").style("stroke","lightgray").style("opacity",.8)})),(k.measure===null||k.measure===void 0)&&(k.autoRotateLabel?k===w?(mt=0,k.shapes.selectAll("text").each(function(){var Ft=this.getComputedTextLength();mt=Ft>mt?Ft:mt}),mt>I/k.shapes.selectAll("text").nodes().length?(ht=!0,k.shapes.selectAll("text").style("text-anchor","start").each(function(){var Ft=this.getBBox();(void 0)(this).attr("transform","rotate(90,"+Ft.x+","+(Ft.y+Ft.height/2)+") translate(-5, 0)")})):(ht=!1,k.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):k.position==="x"&&(mt=0,k.shapes.selectAll("text").each(function(){var Ft=this.getComputedTextLength();mt=Ft>mt?Ft:mt}),mt>I/k.shapes.selectAll("text").nodes().length?(ht=!0,k.shapes.selectAll("text").style("text-anchor","end").each(function(){var Ft=this.getBBox();(void 0)(this).attr("transform","rotate(90,"+(Ft.x+Ft.width)+","+(Ft.y+Ft.height/2)+") translate(5, 0)")})):(ht=!1,k.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))):(ht=!1,k.shapes.selectAll("text").style("text-anchor","middle").attr("transform",""))),k.titleShape!==null&&k.titleShape!==void 0&&k.titleShape.remove(),k.shapes.selectAll("text").each(function(){var Ft=this.getBBox();(ot.l===null||-9-Ft.width<ot.l)&&(ot.l=-9-Ft.width),(ot.r===null||Ft.x+Ft.width>ot.r)&&(ot.r=Ft.x+Ft.width),ht?((ot.t===null||Ft.y+Ft.height-Ft.width<ot.t)&&(ot.t=Ft.y+Ft.height-Ft.width),(ot.b===null||Ft.height+Ft.width>ot.b)&&(ot.b=Ft.height+Ft.width)):((ot.t===null||Ft.y<ot.t)&&(ot.t=Ft.y),(ot.b===null||9+Ft.height>ot.b)&&(ot.b=9+Ft.height))}),k.position==="x"?(k===w?bt=x+b+ot.b+5:bt=x+ot.t-10,st=B+I/2):k.position==="y"&&(k===D?st=B+ot.l-10:st=B+I+ot.r+20,bt=x+b/2,$t="rotate(270, "+st+", "+bt+")"),!k.hidden&&(k.position==="x"||k.position==="y")&&k.title!==null&&(k.titleShape=this._axis_group.append("text").attr("class","dimple-axis dimple-title "+At.customClassList.axisTitle+" dimple-axis-"+k.position),k.titleShape.attr("x",st).attr("y",bt).attr("text-anchor","middle").attr("transform",$t).text(k.title!==void 0?k.title:k.categoryFields===null||k.categoryFields===void 0||k.categoryFields.length===0?k.measure:k.categoryFields.join("/")).each(function(){At.noFormats||(void 0)(this).style("font-family",k.fontFamily).style("font-size",k._getFontSize())}),k===w?k.titleShape.each(function(){(void 0)(this).attr("y",bt+this.getBBox().height/1.65)}):k===D&&k.titleShape.each(function(){(void 0)(this).attr("x",st+this.getBBox().height/1.65)}))},this),this.series.forEach(function(k){k.plot.draw(this,k,g),this._registerEventHandlers(k)},this),this.legends.forEach(function(k){k._draw()},this),this.storyboard&&(this.storyboard._drawText(),this.storyboard.autoplay&&this.storyboard.startAnimation()),this},this.getClass=function(g){return this._assignedClasses[g]||(this._assignedClasses[g]=this.customClassList.colorClasses[this._nextClass],this._nextClass=(this._nextClass+1)%this.customClassList.colorClasses.length),this._assignedClasses[g]},this.getColor=function(g){return(this._assignedColors[g]===null||this._assignedColors[g]===void 0)&&(this._assignedColors[g]=this.defaultColors[this._nextColor],this._nextColor=(this._nextColor+1)%this.defaultColors.length),this._assignedColors[g]},this.setBounds=function(g,C,w,D){return this.x=g,this.y=C,this.width=w,this.height=D,this._xPixels=function(){return A._parseXPosition(this.x,this.svg.node())},this.draw(0,!0),this._yPixels=function(){return A._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return A._parseXPosition(this.width,this.svg.node())},this._heightPixels=function(){return A._parseYPosition(this.height,this.svg.node())},this},this.setMargins=function(g,C,w,D){return this.x=g,this.y=C,this.width=0,this.height=0,this._xPixels=function(){return A._parseXPosition(this.x,this.svg.node())},this._yPixels=function(){return A._parseYPosition(this.y,this.svg.node())},this._widthPixels=function(){return A._parentWidth(this.svg.node())-this._xPixels()-A._parseXPosition(w,this.svg.node())},this._heightPixels=function(){return A._parentHeight(this.svg.node())-this._yPixels()-A._parseYPosition(D,this.svg.node())},this},this.setStoryboard=function(g,C){return this.storyboard=new A.storyboard(this,g),C!=null&&(this.storyboard.onTick=C),this.storyboard}};A.color=function(l,p,g){this.fill=l,this.stroke=p??(void 0)(l).darker(.5).toString(),this.opacity=g??.8};A.eventArgs=function(){this.seriesValue=null,this.xValue=null,this.yValue=null,this.zValue=null,this.pValue=null,this.colorValue=null,this.frameValue=null,this.seriesShapes=null,this.selectedShape=null};A.legend=function(l,p,g,C,w,D,L){this.chart=l,this.series=L,this.x=p,this.y=g,this.width=C,this.height=w,this.horizontalAlign=D,this.shapes=null,this.fontSize="10px",this.fontFamily="sans-serif",this._draw=function(){var P=this._getEntries(),R=0,B=0,x=0,I=0,b=15,E=9,k=5,V=this,G;this.shapes&&this.shapes.remove(),G=this.chart._group.selectAll(".dimple-dont-select-any").data(P).enter().append("g").attr("class",function(tt){return"dimple-legend "+A._createClass(tt.aggField)}).attr("opacity",1),G.append("text").attr("class",function(tt){return"dimple-legend dimple-legend-text "+A._createClass(tt.aggField)+" "+V.chart.customClassList.legendLabel}).text(function(tt){return tt.key}).call(function(tt){V.chart.noFormats||tt.style("font-family",V.fontFamily).style("font-size",V._getFontSize()).style("shape-rendering","crispEdges")}).each(function(){var tt=this.getBBox();tt.width>R&&(R=tt.width),tt.height>B&&(B=tt.height)}),G.append("rect").attr("class",function(tt){return"dimple-legend dimple-legend-key "+A._createClass(tt.aggField)}).attr("height",E).attr("width",b),B=(B<E?E:B)+V._getVerticalPadding(),R+=b+V._getHorizontalPadding(),G.each(function(tt){x+R>V._widthPixels()&&(x=0,I+=B),I>V._heightPixels()?(void 0)(this).remove():((void 0)(this).select("text").attr("x",V.horizontalAlign==="left"?V._xPixels()+b+k+x:V._xPixels()+(V._widthPixels()-x-R)+b+k).attr("y",function(){return V._yPixels()+I+this.getBBox().height/1.65}).attr("width",V._widthPixels()).attr("height",V._heightPixels()),(void 0)(this).select("rect").attr("class",function(gt){return"dimple-legend dimple-legend-key "+A._createClass(gt.aggField)+" "+V.chart.customClassList.legendKey+" "+gt.css}).attr("x",V.horizontalAlign==="left"?V._xPixels()+x:V._xPixels()+(V._widthPixels()-x-R)).attr("y",V._yPixels()+I).attr("height",E).attr("width",b).call(function(gt){V.chart.noFormats||gt.style("fill",tt.fill).style("stroke",tt.stroke).style("opacity",tt.opacity).style("shape-rendering","crispEdges")}),x+=R)}),this.shapes=G},this._getEntries=function(){var P=[];return this.series&&this.series.forEach(function(R){var B=R._positionData;B.forEach(function(x){var I=-1,b,E=R.plot.grouped&&!R.x._hasCategories()&&!R.y._hasCategories()&&x.aggField.length<2?"All":x.aggField.slice(-1)[0];for(b=0;b<P.length;b+=1)if(P[b].key===E){I=b;break}I===-1&&R.chart._assignedColors[E]&&(P.push({key:E,fill:R.chart._assignedColors[E].fill,stroke:R.chart._assignedColors[E].stroke,opacity:R.chart._assignedColors[E].opacity,css:R.chart._assignedClasses[E],series:R,aggField:x.aggField}),I=P.length-1)})},this),P},this._getFontSize=function(){var P;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?P=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?P=this.fontSize:P=this.fontSize+"px",P},this._getHorizontalPadding=function(){var P;return isNaN(this.horizontalPadding)?P=20:P=this.horizontalPadding,P},this._getVerticalPadding=function(){var P;return isNaN(this.verticalPadding)?P=2:P=this.verticalPadding,P},this._heightPixels=function(){return A._parseYPosition(this.height,this.chart.svg.node())},this._widthPixels=function(){return A._parseXPosition(this.width,this.chart.svg.node())},this._xPixels=function(){return A._parseXPosition(this.x,this.chart.svg.node())},this._yPixels=function(){return A._parseYPosition(this.y,this.chart.svg.node())}};A.series=function(l,p,g,C,w,D,L,P,R,B){this.chart=l,this.x=g,this.y=C,this.z=w,this.c=D,this.p=L,this.plot=P,this.categoryFields=p,this.aggregate=R,this.stacked=B,this.barGap=.2,this.clusterBarGap=.1,this.lineWeight=2,this.lineMarkers=!1,this.afterDraw=null,this.interpolation="linear",this.tooltipFontSize="10px",this.tooltipFontFamily="sans-serif",this.radius="auto",this._group=l._group.append("g"),this._group.attr("class","dimple-series-group-"+l.series.length),this._eventHandlers=[],this._positionData=[],this._orderRules=[],this._axisBounds=function(x){var I={min:0,max:0},b=null,E=null,k=[],V,G,tt,gt=this._positionData;return x==="x"?(b=this.x,E=this.y):x==="y"?(b=this.y,E=this.x):x==="z"?b=this.z:x==="p"?b=this.p:x==="c"&&(b=this.c),b.showPercent?gt.forEach(function(ht){ht[b.position+"Bound"]<I.min&&(I.min=ht[b.position+"Bound"]),ht[b.position+"Bound"]>I.max&&(I.max=ht[b.position+"Bound"])},this):E===null||E.categoryFields===null||E.categoryFields.length===0?gt.forEach(function(ht){this._isStacked()&&(b.position==="x"||b.position==="y")?ht[b.position+"Value"]<0?I.min=I.min+ht[b.position+"Value"]:I.max=I.max+ht[b.position+"Value"]:(ht[b.position+"Value"]<I.min&&(I.min=ht[b.position+"Value"]),ht[b.position+"Value"]>I.max&&(I.max=ht[b.position+"Value"]))},this):(V=b.position+"Value",G=E.position+"Field",tt=[],gt.forEach(function(ht){var mt=ht[G].join("/"),ot=tt.indexOf(mt);ot===-1&&(tt.push(mt),ot=tt.length-1),k[ot]===void 0&&(k[ot]={min:0,max:0}),this.stacked?ht[V]<0?k[ot].min=k[ot].min+ht[V]:k[ot].max=k[ot].max+ht[V]:(ht[V]<k[ot].min&&(k[ot].min=ht[V]),ht[V]>k[ot].max&&(k[ot].max=ht[V]))},this),k.forEach(function(ht){ht!==void 0&&(ht.min<I.min&&(I.min=ht.min),ht.max>I.max&&(I.max=ht.max))},this)),I},this._deepMatch=function(x){var I=!1;return this[x.position]===x?I=!0:x._slaves!==void 0&&x._slaves!==null&&x._slaves.length>0&&x._slaves.forEach(function(b){I=I||this._deepMatch(b)},this),I},this._dropLineOrigin=function(){var x=0,I=0,b={x:null,y:null},E={x:null,y:null};return this.chart.axes.forEach(function(k){k.position==="x"&&E.x===null?k._hasTimeField()?E.x=this.chart._xPixels():E.x=k._origin:k.position==="y"&&E.y===null&&(k._hasTimeField()?E.y=this.chart._yPixels()+this.chart._heightPixels():E.y=k._origin)},this),this.chart.axes.forEach(function(k){k.position==="x"&&!this.x.hidden?(this._deepMatch(k)&&(x===0?b.y=E.y:x===1&&(b.y=this.chart._yPixels())),x+=1):k.position==="y"&&!this.y.hidden&&(this._deepMatch(k)&&(I===0?b.x=E.x:I===1&&(b.x=this.chart._xPixels()+this.chart._widthPixels())),I+=1)},this),b},this._getTooltipFontSize=function(){var x;return!this.tooltipFontSize||this.tooltipFontSize.toString().toLowerCase()==="auto"?x=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.tooltipFontSize)?x=this.tooltipFontSize:x=this.tooltipFontSize+"px",x},this._isStacked=function(){return this.stacked&&(this.x._hasCategories()||this.y._hasCategories())},this.addEventHandler=function(x,I){this._eventHandlers.push({event:x,handler:I})},this.addOrderRule=function(x,I){this._orderRules.push({ordering:x,desc:I})},this.getTooltipText=function(x){var I=[];return this.categoryFields!==null&&this.categoryFields!==void 0&&this.categoryFields.length>0&&this.categoryFields.forEach(function(b,E){b!=null&&x.aggField[E]!==null&&x.aggField[E]!==void 0&&I.push(b+(x.aggField[E]!==b?": "+x.aggField[E]:""))},this),this.p?(this.x&&this.x._hasCategories()&&this.x._getTooltipText(I,x),this.y&&this.y._hasCategories()&&this.y._getTooltipText(I,x),this.z&&this.z._hasCategories()&&this.z._getTooltipText(I,x),this.p._getTooltipText(I,x)):(this.x&&this.x._getTooltipText(I,x),this.y&&this.y._getTooltipText(I,x),this.z&&this.z._getTooltipText(I,x)),this.c&&this.c._getTooltipText(I,x),I.filter(function(b,E){return I.indexOf(b)===E})}};A.storyboard=function(l,p){p!=null&&(p=[].concat(p)),this.chart=l,this.categoryFields=p,this.autoplay=!0,this.frameDuration=3e3,this.storyLabel=null,this.onTick=null,this.fontSize="10px",this.fontFamily="sans-serif",this._frame=0,this._animationTimer=null,this._categories=[],this._cachedCategoryFields=[],this._orderRules=[],this._drawText=function(){var g=this,C=0;g.storyLabel||(g.chart.axes.forEach(function(w){w.position==="x"&&(C+=1)},g),g.storyLabel=g.chart._group.append("text").attr("class","dimple-storyboard-label").attr("opacity",1).attr("x",g.chart._xPixels()+g.chart._widthPixels()*.01).attr("y",g.chart._yPixels()+(g.chart._heightPixels()/35>10?g.chart._heightPixels()/35:10)*(C>1?1.25:-1)).call(function(w){l.noFormats||w.style("font-family",g.fontFamily).style("font-size",g._getFontSize())})),g.storyLabel.text(g.categoryFields.join("\\")+": "+g.getFrameValue())},this._getCategories=function(){return this._categoryFields!==this._cachedCategoryFields&&(this._categories=[],this.chart._getAllData().forEach(function(g){var C=-1,w="";this.categoryFields!==null&&(this.categoryFields.forEach(function(D,L){L>0&&(w+="/"),w+=g[D]},this),C=this._categories.indexOf(w),C===-1&&(this._categories.push(w),C=this._categories.length-1))},this),this._cachedCategoryFields=this._categoryFields),this._categories},this._getFontSize=function(){var g;return!this.fontSize||this.fontSize.toString().toLowerCase()==="auto"?g=(this.chart._heightPixels()/35>10?this.chart._heightPixels()/35:10)+"px":isNaN(this.fontSize)?g=this.fontSize:g=this.fontSize+"px",g},this._goToFrameIndex=function(g){this._frame=g%this._getCategories().length,this.chart.draw(this.frameDuration/2)},this.addOrderRule=function(g,C){this._orderRules.push({ordering:g,desc:C})},this.getFrameValue=function(){var g=null;return this._frame>=0&&this._getCategories().length>this._frame&&(g=this._getCategories()[this._frame]),g},this.goToFrame=function(g){if(this._getCategories().length>0){var C=this._getCategories().indexOf(g);this._goToFrameIndex(C)}},this.pauseAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null)},this.startAnimation=function(){this._animationTimer===null&&(this.onTick!==null&&this.onTick(this.getFrameValue()),this._animationTimer=setInterval(function(g){return function(){g._goToFrameIndex(g._frame+1),g.onTick!==null&&g.onTick(g.getFrameValue()),g._drawText(g.frameDuration/2)}}(this),this.frameDuration))},this.stopAnimation=function(){this._animationTimer!==null&&(clearInterval(this._animationTimer),this._animationTimer=null,this._frame=0)}};A.aggregateMethod.avg=function(l,p){return l.value=l.value===null||l.value===void 0?0:parseFloat(l.value),l.count=l.count===null||l.count===void 0?1:parseFloat(l.count),p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),p.count=p.count===null||p.count===void 0?1:parseFloat(p.count),(l.value*l.count+p.value*p.count)/(l.count+p.count)};A.aggregateMethod.count=function(l,p){return l.count=l.count===null||l.count===void 0?0:parseFloat(l.count),p.count=p.count===null||p.count===void 0?0:parseFloat(p.count),l.count+p.count};A.aggregateMethod.max=function(l,p){return l.value=l.value===null||l.value===void 0?0:parseFloat(l.value),p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),l.value>p.value?l.value:p.value};A.aggregateMethod.min=function(l,p){return l.value===null?parseFloat(p.value):parseFloat(l.value)<parseFloat(p.value)?parseFloat(l.value):parseFloat(p.value)};A.aggregateMethod.sum=function(l,p){return l.value=l.value===null||l.value===void 0?0:parseFloat(l.value),p.value=p.value===null||p.value===void 0?0:parseFloat(p.value),l.value+p.value};A.plot.area={stacked:!0,grouped:!0,supportedAxes:["x","y","c"],draw:function(l,p,g){var C=p._positionData,w=[],D=null,L="dimple-series-"+l.series.indexOf(p),P=p.x._hasCategories()||p.y._hasCategories()?0:1,R,B=!1,x,I,b,E,k,V,G,tt,gt,ht,mt={},ot=[],st,bt=[],$t,At,Bt,le,Zt,Ft,te,ge,Ue,In,_e,Fe,un=function(){return function(yt,Gt,ce,ie){(void 0)(Gt).style("opacity",1),A._showPointTooltip(yt,Gt,ce,ie)}},_t=function(yt){return function(Gt,ce,ie,re){(void 0)(ce).style("opacity",re.lineMarkers||yt.data.length<2?A._helpers.opacity(Gt,ie,re):0),A._removeTooltip(Gt,ce,ie,re)}},ue=function(yt,Gt){A._drawMarkers(yt,l,p,g,L,B,un(),_t(yt),Gt)},fe=function(yt,Gt){var ce;return p.interpolation==="step"&&p[yt]._hasCategories()?(ce=A._helpers[yt](Gt,l,p)+(yt==="y"?A._helpers.height(Gt,l,p):0),p[yt].categoryFields.length<2&&(ce+=(yt==="y"?1:-1)*A._helpers[yt+"Gap"](l,p))):ce=A._helpers["c"+yt](Gt,l,p),parseFloat(ce)},Se=function(yt,Gt){var ce=(void 0)().x(function(ie){return p.x._hasCategories()||!Gt?ie.x:p.x[Gt]}).y(function(ie){return p.y._hasCategories()||!Gt?ie.y:p.y[Gt]});return A._interpolate(ce,yt),ce},Be=function(yt,Gt){return parseFloat(yt)-parseFloat(Gt)},Ne=function(yt,Gt){return parseFloat(yt.x)-parseFloat(Gt.x)},Le=function(yt,Gt,ce){var ie,re=Gt[Gt.length-1],pe,Dt=9999,Ye=re;for(ie=0;ie<yt.length;ie+=1)(yt[ie].x!==re.x||yt[ie].y!==re.y)&&(pe=180-Math.atan2(yt[ie].x-re.x,yt[ie].y-re.y)*(180/Math.PI),pe>ce&&pe<Dt&&(Ye=yt[ie],Dt=pe));return Gt.push(Ye),Dt};for(R=p.interpolation==="step"?"step-after":p.interpolation,ht=A._getSeriesOrder(p.data||l.data,p),p.c&&(p.x._hasCategories()&&p.y._hasMeasure()||p.y._hasCategories()&&p.x._hasMeasure())&&(B=!0),p.x._hasCategories()?(_e="x",Fe="y"):p.y._hasCategories()&&(_e="y",Fe="x"),x=0;x<C.length;x+=1){for(E=[],V=-1,b=P;b<C[x].aggField.length;b+=1)E.push(C[x].aggField[b]);for(k=A._createClass(E),b=0;b<w.length;b+=1)if(w[b].keyString===k){V=b;break}V===-1&&(V=w.length,w.push({key:E,keyString:k,color:"white",data:[],points:[],area:{},entry:{},exit:{},group:_e&&C[x][_e+"Field"]&&C[x][_e+"Field"].length>=2?C[x][_e+"Field"][0]:"All"})),w[V].data.push(C[x])}for(ht&&w.sort(function(yt,Gt){return A._arrayIndexCompare(ht,yt.key,Gt.key)}),x=0;x<w.length;x+=1){for(w[x].data.sort(A._getSeriesSortPredicate(l,p,ht)),I=0;I<w[x].data.length;I+=1)w[x].points.push({x:fe("x",w[x].data[I]),y:fe("y",w[x].data[I])}),_e&&(mt[w[x].group]||(mt[w[x].group]={}),mt[w[x].group][w[x].points[w[x].points.length-1][_e]]=p[Fe]._origin);st=w[x].points,p.interpolation==="step"&&st.length>1&&_e&&(p.x._hasCategories()?(st.push({x:2*st[st.length-1].x-st[st.length-2].x,y:st[st.length-1].y}),mt[w[x].group][st[st.length-1][_e]]=p[Fe]._origin):p.y._hasCategories()&&(st=[{x:st[0].x,y:2*st[0].y-st[1].y}].concat(st),mt[w[x].group][st[0][_e]]=p[Fe]._origin,w[x].points=st))}for(Bt in mt)if(Object.prototype.hasOwnProperty.call(mt,Bt)){ot[Bt]=[];for(le in mt[Bt])Object.prototype.hasOwnProperty.call(mt[Bt],le)&&ot[Bt].push(parseFloat(le));ot[Bt].sort(Be)}for(x=0;x<w.length;x+=1){if(st=w[x].points,Zt=w[x].group,$t=[],bt=[],B&&A._addGradient(w[x].key,"fill-area-gradient-"+w[x].keyString,p.x._hasCategories()?p.x:p.y,C,l,g,"fill"),ot[Zt]&&ot[Zt].length>0)for(I=0,b=0;I<ot[Zt].length;I+=1)ot[Zt][I]>=st[0][_e]&&ot[Zt][I]<=st[st.length-1][_e]&&(At={},At[_e]=ot[Zt][I],At[Fe]=mt[Zt][ot[Zt][I]],$t.push(At),st[b][_e]>ot[Zt][I]?bt.push(At):(bt.push(st[b]),mt[w[x].group][ot[Zt][I]]=st[b][Fe],b+=1));else if(p._orderRules&&p._orderRules.length>0)bt=st.concat(st[0]);else{st=st.sort(Ne),bt.push(st[0]),In=0;do In=Le(st,bt,In);while(bt.length<=st.length&&(bt[0].x!==bt[bt.length-1].x||bt[0].y!==bt[bt.length-1].y))}$t=$t.reverse(),Ft=Se(R,"_previousOrigin")(bt),te=Se(R==="step-after"?"step-before":R==="step-before"?"step-after":R,"_previousOrigin")($t),ge=Se("linear","_previousOrigin")(bt),Ue=ge.indexOf("L")===-1?void 0:ge.indexOf("L"),w[x].entry=Ft+(te&&te.length>0?"L"+te.substring(1):"")+(ge&&ge.length>0?"L"+ge.substring(1,Ue):0),Ft=Se(R)(bt),te=Se(R==="step-after"?"step-before":R==="step-before"?"step-after":R)($t),ge=Se("linear")(bt),Ue=ge.indexOf("L")===-1?void 0:ge.indexOf("L"),w[x].update=Ft+(te&&te.length>0?"L"+te.substring(1):"")+(ge&&ge.length>0?"L"+ge.substring(1,Ue):0),Ft=Se(R,"_origin")(bt),te=Se(R==="step-after"?"step-before":R==="step-before"?"step-after":R,"_origin")($t),ge=Se("linear","_origin")(bt),Ue=ge.indexOf("L")===-1?void 0:ge.indexOf("L"),w[x].exit=Ft+(te&&te.length>0?"L"+te.substring(1):"")+(ge&&ge.length>0?"L"+ge.substring(1,Ue):0),w[x].color=l.getColor(w[x].key.length>0?w[x].key[w[x].key.length-1]:"All"),w[x].css=l.getClass(w[x].key.length>0?w[x].key[w[x].key.length-1]:"All")}l._tooltipGroup&&l._tooltipGroup.remove(),p.shapes?D=p.shapes.data(w,function(yt){return yt.key}):D=p._group.selectAll("."+L).data(w,function(yt){return yt.key}),G=D.enter().append("path").attr("id",function(yt){return A._createClass([yt.key])}).attr("class",function(yt){return L+" dimple-line "+yt.keyString+" "+l.customClassList.areaSeries+" "+yt.css}).attr("d",function(yt){return yt.entry}).call(function(yt){l.noFormats||yt.attr("opacity",function(Gt){return B?1:Gt.color.opacity}).style("fill",function(Gt){return B?"url(#"+A._createClass(["fill-area-gradient-"+Gt.keyString])+")":Gt.color.fill}).style("stroke",function(Gt){return B?"url(#"+A._createClass(["stroke-area-gradient-"+Gt.keyString])+")":Gt.color.stroke}).style("stroke-width",p.lineWeight)}).each(function(yt){yt.markerData=yt.data,ue(yt,this)}),tt=l._handleTransition(D.merge(G),g,l).attr("d",function(yt){return yt.update}).each(function(yt){yt.markerData=yt.data,ue(yt,this)}),gt=l._handleTransition(D.exit(),g,l).attr("d",function(yt){return yt.exit}).each(function(yt){yt.markerData=[],ue(yt,this)}),A._postDrawHandling(p,tt,gt,g),p.shapes=p._group.selectAll("."+L)}};A.plot.bar={stacked:!0,grouped:!1,supportedAxes:["x","y","c"],draw:function(l,p,g){var C=p._positionData,w=null,D=["dimple-series-"+l.series.indexOf(p),"dimple-bar"],L,P,R,B=!p._isStacked()&&p.x._hasMeasure(),x=!p._isStacked()&&p.y._hasMeasure(),I="none";p.x._hasCategories()&&p.y._hasCategories()?I="both":p.x._hasCategories()?I="x":p.y._hasCategories()&&(I="y"),l._tooltipGroup&&l._tooltipGroup.remove(),p.shapes?w=p.shapes.data(C,function(b){return b.key}):w=p._group.selectAll("."+D.join(".")).data(C,function(b){return b.key}),L=w.enter().append("rect").attr("id",function(b){return A._createClass([b.key])}).attr("class",function(b){var E=[];return E=E.concat(b.aggField),E=E.concat(b.xField),E=E.concat(b.yField),D.join(" ")+" "+A._createClass(E)+" "+l.customClassList.barSeries+" "+A._helpers.css(b,l)}).attr("x",function(b){var E=p.x._previousOrigin;return I==="x"?E=A._helpers.x(b,l,p):I==="both"&&(E=A._helpers.cx(b,l,p)),E}).attr("y",function(b){var E=p.y._previousOrigin;return I==="y"?E=A._helpers.y(b,l,p):I==="both"&&(E=A._helpers.cy(b,l,p)),E}).attr("width",function(b){return I==="x"?A._helpers.width(b,l,p):0}).attr("height",function(b){return I==="y"?A._helpers.height(b,l,p):0}).on("mouseover",function(b){A._showBarTooltip(b,this,l,p)}).on("mouseleave",function(b){A._removeTooltip(b,this,l,p)}).call(function(b){l.noFormats||b.attr("opacity",function(E){return A._helpers.opacity(E,l,p)}).style("fill",function(E){return A._helpers.fill(E,l,p)}).style("stroke",function(E){return A._helpers.stroke(E,l,p)})}),P=l._handleTransition(w.merge(L),g,l,p).attr("x",function(b){return B?A._helpers.cx(b,l,p)-p.x.floatingBarWidth/2:A._helpers.x(b,l,p)}).attr("y",function(b){return x?A._helpers.cy(b,l,p)-p.y.floatingBarWidth/2:A._helpers.y(b,l,p)}).attr("width",function(b){return B?p.x.floatingBarWidth:A._helpers.width(b,l,p)}).attr("height",function(b){return x?p.y.floatingBarWidth:A._helpers.height(b,l,p)}).call(function(b){l.noFormats||b.attr("fill",function(E){return A._helpers.fill(E,l,p)}).attr("stroke",function(E){return A._helpers.stroke(E,l,p)})}),R=l._handleTransition(w.exit(),g,l,p).attr("x",function(b){var E=p.x._origin;return I==="x"?E=A._helpers.x(b,l,p):I==="both"&&(E=A._helpers.cx(b,l,p)),E}).attr("y",function(b){var E=p.y._origin;return I==="y"?E=A._helpers.y(b,l,p):I==="both"&&(E=A._helpers.cy(b,l,p)),E}).attr("width",function(b){return I==="x"?A._helpers.width(b,l,p):0}).attr("height",function(b){return I==="y"?A._helpers.height(b,l,p):0}),A._postDrawHandling(p,P,R,g),p.shapes=p._group.selectAll("."+D.join("."))}};A.plot.bubble={stacked:!1,grouped:!1,supportedAxes:["x","y","z","c"],draw:function(l,p,g){var C=p._positionData,w=null,D=["dimple-series-"+l.series.indexOf(p),"dimple-bubble"],L,P,R;l._tooltipGroup&&l._tooltipGroup.remove(),p.shapes?w=p.shapes.data(C,function(B){return B.key}):w=p._group.selectAll("."+D.join(".")).data(C,function(B){return B.key}),L=w.enter().append("circle").attr("id",function(B){return A._createClass([B.key])}).attr("class",function(B){var x=[];return x=x.concat(B.aggField),x=x.concat(B.xField),x=x.concat(B.yField),x=x.concat(B.zField),D.join(" ")+" "+A._createClass(x)+" "+l.customClassList.bubbleSeries+" "+A._helpers.css(B,l)}).attr("cx",function(B){return p.x._hasCategories()?A._helpers.cx(B,l,p):p.x._previousOrigin}).attr("cy",function(B){return p.y._hasCategories()?A._helpers.cy(B,l,p):p.y._previousOrigin}).attr("r",0).on("mouseover",function(B){A._showPointTooltip(B,this,l,p)}).on("mouseleave",function(B){A._removeTooltip(B,this,l,p)}).call(function(B){l.noFormats||B.attr("opacity",function(x){return A._helpers.opacity(x,l,p)}).style("fill",function(x){return A._helpers.fill(x,l,p)}).style("stroke",function(x){return A._helpers.stroke(x,l,p)})}),P=l._handleTransition(w.merge(L),g,l,p).attr("cx",function(B){return A._helpers.cx(B,l,p)}).attr("cy",function(B){return A._helpers.cy(B,l,p)}).attr("r",function(B){return A._helpers.r(B,l,p)}).call(function(B){l.noFormats||B.attr("fill",function(x){return A._helpers.fill(x,l,p)}).attr("stroke",function(x){return A._helpers.stroke(x,l,p)})}),R=l._handleTransition(w.exit(),g,l,p).attr("r",0).attr("cx",function(B){return p.x._hasCategories()?A._helpers.cx(B,l,p):p.x._origin}).attr("cy",function(B){return p.y._hasCategories()?A._helpers.cy(B,l,p):p.y._origin}),A._postDrawHandling(p,P,R,g),p.shapes=p._group.selectAll("."+D.join("."))}};A.plot.line={stacked:!1,grouped:!0,supportedAxes:["x","y","c"],draw:function(l,p,g){var C=p._positionData,w=[],D=null,L="dimple-series-"+l.series.indexOf(p),P=p.x._hasCategories()||p.y._hasCategories()?0:1,R,B=!1,x,I,b,E,k,V,G,tt,gt,ht,mt=function(){return function(At,Bt,le,Zt){(void 0)(Bt).style("opacity",1),A._showPointTooltip(At,Bt,le,Zt)}},ot=function(At){return function(Bt,le,Zt,Ft){(void 0)(le).style("opacity",Ft.lineMarkers||At.data.length<2?A._helpers.opacity(Bt,Zt,Ft):0),A._removeTooltip(Bt,le,Zt,Ft)}},st=function(At,Bt){A._drawMarkers(At,l,p,g,L,B,mt(),ot(At),Bt)},bt=function(At,Bt){var le;return p.interpolation==="step"&&p[At]._hasCategories()?(p.barGap=0,p.clusterBarGap=0,le=A._helpers[At](Bt,l,p)+(At==="y"?A._helpers.height(Bt,l,p):0)):le=A._helpers["c"+At](Bt,l,p),parseFloat(le.toFixed(1))},$t=function(At,Bt){var le=(void 0)().x(function(Zt){return p.x._hasCategories()||!Bt?Zt.x:p.x[Bt]}).y(function(Zt){return p.y._hasCategories()||!Bt?Zt.y:p.y[Bt]});return A._interpolate(le,At),le};for(R=p.interpolation==="step"?"step-after":p.interpolation,ht=A._getSeriesOrder(p.data||l.data,p),p.c&&(p.x._hasCategories()&&p.y._hasMeasure()||p.y._hasCategories()&&p.x._hasMeasure())&&(B=!0),x=0;x<C.length;x+=1){for(E=[],V=-1,b=P;b<C[x].aggField.length;b+=1)E.push(C[x].aggField[b]);for(k=A._createClass(E),b=0;b<w.length;b+=1)if(w[b].keyString===k){V=b;break}V===-1&&(V=w.length,w.push({key:E,keyString:k,color:"white",data:[],markerData:[],points:[],line:{},entry:{},exit:{}})),w[V].data.push(C[x])}for(ht&&w.sort(function(At,Bt){return A._arrayIndexCompare(ht,At.key,Bt.key)}),x=0;x<w.length;x+=1){for(w[x].data.sort(A._getSeriesSortPredicate(l,p,ht)),B&&A._addGradient(w[x].key,"fill-line-gradient-"+w[x].keyString,p.x._hasCategories()?p.x:p.y,C,l,g,"fill"),I=0;I<w[x].data.length;I+=1)w[x].points.push({x:bt("x",w[x].data[I]),y:bt("y",w[x].data[I])});p.interpolation==="step"&&w[x].points.length>1&&(p.x._hasCategories()?w[x].points.push({x:2*w[x].points[w[x].points.length-1].x-w[x].points[w[x].points.length-2].x,y:w[x].points[w[x].points.length-1].y}):p.y._hasCategories()&&(w[x].points=[{x:w[x].points[0].x,y:2*w[x].points[0].y-w[x].points[1].y}].concat(w[x].points))),w&&w[x]&&w[x].points&&w[x].points.length===1&&w[x].points.push({x:w[x].points[0].x,y:w[x].points[0].y}),w[x].entry=$t(R,"_previousOrigin")(w[x].points),w[x].update=$t(R)(w[x].points),w[x].exit=$t(R,"_origin")(w[x].points),w[x].color=l.getColor(w[x].key.length>0?w[x].key[w[x].key.length-1]:"All"),w[x].css=l.getClass(w[x].key.length>0?w[x].key[w[x].key.length-1]:"All")}l._tooltipGroup&&l._tooltipGroup.remove(),p.shapes?D=p.shapes.data(w,function(At){return At.key}):D=p._group.selectAll("."+L).data(w,function(At){return At.key}),G=D.enter().append("path").attr("id",function(At){return A._createClass([At.key])}).attr("class",function(At){return L+" dimple-line "+At.keyString+" "+l.customClassList.lineSeries+" "+At.css}).attr("d",function(At){return At.entry}).call(function(At){l.noFormats||At.attr("opacity",function(Bt){return B?1:Bt.color.opacity}).style("fill","none").style("stroke",function(Bt){return B?"url(#"+A._createClass(["fill-line-gradient-"+Bt.keyString])+")":Bt.color.stroke}).style("stroke-width",p.lineWeight)}).each(function(At){At.markerData=At.data,st(At,this)}),tt=l._handleTransition(D.merge(G),g,l).attr("d",function(At){return At.update}).each(function(At){At.markerData=At.data,st(At,this)}),gt=l._handleTransition(D.exit(),g,l).attr("d",function(At){return At.exit}).each(function(At){At.markerData=[],st(At,this)}),A._postDrawHandling(p,tt,gt,g),p.shapes=p._group.selectAll("."+L)}};A.plot.pie={stacked:!1,grouped:!1,supportedAxes:["x","y","c","z","p"],draw:function(l,p,g){var C=p._positionData,w=null,D=["dimple-series-"+l.series.indexOf(p),"dimple-pie"],L,P,R,B=function(V){var G;return p.x&&p.y?G=A._helpers.r(V,l,p):G=l._widthPixels()<l._heightPixels()?l._widthPixels()/2:l._heightPixels()/2,G},x=function(V){var G=B(V);return p.outerRadius&&(G=A._parsePosition(p.outerRadius,G)),Math.max(G,0)},I=function(V){var G=0;return p.innerRadius&&(G=A._parsePosition(p.innerRadius,B(V))),Math.max(G,0)},b=function(V){var G;return G=(void 0)().innerRadius(I(V)).outerRadius(x(V)),G(V)},E=function(V){V.innerRadius=I(V),V.outerRadius=x(V);var G=(void 0)(this._current,V),tt;return tt=(void 0)().innerRadius(function(gt){return gt.innerRadius}).outerRadius(function(gt){return gt.outerRadius}),this._current=G(0),function(gt){return tt(G(gt))}},k=function(V){return function(G){var tt,gt;return p.x&&p.y?(!V||p.x._hasCategories()?tt=A._helpers.cx(G,l,p):tt=p.x._previousOrigin,!V||p.y._hasCategories()?gt=A._helpers.cy(G,l,p):gt=p.y._previousOrigin):(tt=l._xPixels()+l._widthPixels()/2,gt=l._yPixels()+l._heightPixels()/2),"translate("+tt+","+gt+")"}};l._tooltipGroup&&l._tooltipGroup.remove(),p.shapes?w=p.shapes.data(C,function(V){return V.key}):w=p._group.selectAll("."+D.join(".")).data(C,function(V){return V.key}),L=w.enter().append("path").attr("id",function(V){return A._createClass([V.key])}).attr("class",function(V){var G=[];return G=G.concat(V.aggField),G=G.concat(V.pField),D.join(" ")+" "+A._createClass(G)+" "+l.customClassList.pieSeries+" "+A._helpers.css(V,l)}).attr("d",b).on("mouseover",function(V){A._showBarTooltip(V,this,l,p)}).on("mouseleave",function(V){A._removeTooltip(V,this,l,p)}).call(function(V){l.noFormats||V.attr("opacity",function(G){return A._helpers.opacity(G,l,p)}).style("fill",function(G){return A._helpers.fill(G,l,p)}).style("stroke",function(G){return A._helpers.stroke(G,l,p)})}).attr("transform",k(!0)).each(function(V){this._current=V,V.innerRadius=I(V),V.outerRadius=x(V)}),P=l._handleTransition(w.merge(L),g,l,p).call(function(V){g&&g>0?V.attrTween("d",E):V.attr("d",b),l.noFormats||V.attr("fill",function(G){return A._helpers.fill(G,l,p)}).attr("stroke",function(G){return A._helpers.stroke(G,l,p)})}).attr("transform",k(!1)),R=l._handleTransition(w.exit(),g,l,p).attr("transform",k(!0)).attr("d",b),A._postDrawHandling(p,P,R,g),p.shapes=p._group.selectAll("."+D.join("."))}};A._addGradient=function(l,p,g,C,w,D,L){var P=[].concat(l),R=w.svg.select("#"+A._createClass([p])),B=[],x=g.position+"Field",I=!0,b=[];C.forEach(function(E){B.indexOf(E[x])===-1&&E.aggField.join("_")===P.join("_")&&B.push(E[x])},this),B=B.sort(function(E,k){return g._scale(E)-g._scale(k)}),R.node()===null&&(I=!1,R=w.svg.append("defs").append("linearGradient").attr("id",A._createClass([p])).attr("gradientUnits","userSpaceOnUse").attr("x1",g.position==="x"?g._scale(B[0])+w._widthPixels()/B.length/2:0).attr("y1",g.position==="y"?g._scale(B[0])-w._heightPixels()/B.length/2:0).attr("x2",g.position==="x"?g._scale(B[B.length-1])+w._widthPixels()/B.length/2:0).attr("y2",g.position==="y"?g._scale(B[B.length-1])-w._heightPixels()/B.length/2:0)),B.forEach(function(E,k){var V={},G=0;for(G=0;G<C.length;G=G+1)if(C[G].aggField.join("_")===P.join("_")&&C[G][x].join("_")===E.join("_")){V=C[G];break}b.push({offset:Math.round(k/(B.length-1)*100)+"%",color:V[L]})},this),I?w._handleTransition(R.selectAll("stop").data(b),D,w).attr("offset",function(E){return E.offset}).attr("stop-color",function(E){return E.color}):R.selectAll("stop").data(b).enter().append("stop").attr("offset",function(E){return E.offset}).attr("stop-color",function(E){return E.color})};A._arrayIndexCompare=function(l,p,g){var C,w,D,L,P,R;for(w=0;w<l.length;w+=1){for(L=!0,P=!0,R=[].concat(l[w]),D=0;D<p.length;D+=1)L=L&&p[D]===R[D];for(D=0;D<g.length;D+=1)P=P&&g[D]===R[D];if(L||P){L&&P?C=0:L?C=-1:C=1;break}}return C};A._createClass=function(l){var p,g=[],C;if(C=function(w){var D=w.charCodeAt(0),L="-";return D>=65&&D<=90&&(L=w.toLowerCase()),L},l.length>0)for(p=0;p<l.length;p+=1)l[p]&&g.push("dimple-"+l[p].toString().replace(/[^a-z\d]/g,C));else g=["dimple-all"];return g.join(" ")};A._drawMarkerBacks=function(l,p,g,C,w,D){var L,P=["dimple-marker-back",w,l.keyString],R,B;g.lineMarkers&&(g._markerBacks===null||g._markerBacks===void 0||g._markerBacks[l.keyString]===void 0?L=g._group.selectAll("."+P.join(".")).data(l.markerData):L=g._markerBacks[l.keyString].data(l.markerData,function(x){return x.key}),D.nextSibling&&D.nextSibling.id?B=L.enter().insert("circle","#"+D.nextSibling.id):B=L.enter().append("circle"),B.attr("id",function(x){return A._createClass([x.key+" Marker Back"])}).attr("class",function(x){var I=[];return g.x._hasCategories()&&(I=I.concat(x.xField)),g.y._hasCategories()&&(I=I.concat(x.yField)),A._createClass(I)+" "+P.join(" ")}).attr("cx",function(x){return g.x._hasCategories()?A._helpers.cx(x,p,g):g.x._previousOrigin}).attr("cy",function(x){return g.y._hasCategories()?A._helpers.cy(x,p,g):g.y._previousOrigin}).attr("r",0).attr("fill","white").attr("stroke","none"),p._handleTransition(L.merge(B),C,p).attr("cx",function(x){return A._helpers.cx(x,p,g)}).attr("cy",function(x){return A._helpers.cy(x,p,g)}).attr("r",2+g.lineWeight),R=p._handleTransition(L.exit(),C,p).attr("cx",function(x){return g.x._hasCategories()?A._helpers.cx(x,p,g):g.x._origin}).attr("cy",function(x){return g.y._hasCategories()?A._helpers.cy(x,p,g):g.y._origin}).attr("r",0),C===0?R.remove():R.each("end",function(){(void 0)(this).remove()}),(g._markerBacks===void 0||g._markerBacks===null)&&(g._markerBacks={}),g._markerBacks[l.keyString]=L)};A._drawMarkers=function(l,p,g,C,w,D,L,P,R){var B,x=["dimple-marker",w,l.keyString],I,b;g._markers===null||g._markers===void 0||g._markers[l.keyString]===void 0?B=g._group.selectAll("."+x.join(".")).data(l.markerData):B=g._markers[l.keyString].data(l.markerData,function(E){return E.key}),R.nextSibling&&R.nextSibling.id?b=B.enter().insert("circle","#"+R.nextSibling.id):b=B.enter().append("circle"),b.attr("id",function(E){return A._createClass([E.key+" Marker"])}).attr("class",function(E){var k=[],V=p.getClass(E.aggField.length>0?E.aggField[E.aggField.length-1]:"All");return g.x._hasCategories()&&(k=k.concat(E.xField)),g.y._hasCategories()&&(k=k.concat(E.yField)),A._createClass(k)+" "+x.join(" ")+" "+p.customClassList.lineMarker+" "+V}).on("mouseover",function(E){L(E,this,p,g)}).on("mouseleave",function(E){P(E,this,p,g)}).attr("cx",function(E){return g.x._hasCategories()?A._helpers.cx(E,p,g):g.x._previousOrigin}).attr("cy",function(E){return g.y._hasCategories()?A._helpers.cy(E,p,g):g.y._previousOrigin}).attr("r",0).attr("opacity",g.lineMarkers||l.data.length<2?l.color.opacity:0).call(function(E){p.noFormats||E.attr("fill","white").style("stroke-width",g.lineWeight).attr("stroke",function(k){return D?A._helpers.fill(k,p,g):l.color.stroke})}),p._handleTransition(B.merge(b),C,p).attr("cx",function(E){return A._helpers.cx(E,p,g)}).attr("cy",function(E){return A._helpers.cy(E,p,g)}).attr("r",2+g.lineWeight).attr("opacity",g.lineMarkers||l.data.length<2?l.color.opacity:0).call(function(E){p.noFormats||E.attr("fill","white").style("stroke-width",g.lineWeight).attr("stroke",function(k){return D?A._helpers.fill(k,p,g):l.color.stroke})}),I=p._handleTransition(B.exit(),C,p).attr("cx",function(E){return g.x._hasCategories()?A._helpers.cx(E,p,g):g.x._origin}).attr("cy",function(E){return g.y._hasCategories()?A._helpers.cy(E,p,g):g.y._origin}).attr("r",0),C===0?I.remove():I.each("end",function(){(void 0)(this).remove()}),(g._markers===void 0||g._markers===null)&&(g._markers={}),g._markers[l.keyString]=B,A._drawMarkerBacks(l,p,g,C,w,R)};A._ease=function(l,p){if(l&&p&&Object.prototype.toString.call(p)==="[object String]"){switch(p){case"linear":p=void 0;break;case"poly":p=void 0;break;case"quad":p=void 0;break;case"cubic":p=void 0;break;case"sin":p=void 0;break;case"exp":p=void 0;break;case"circle":p=void 0;break;case"elastic":p=void 0;break;case"back":p=void 0;break;case"bounce":p=void 0;break}l.ease(p)}};A._getOrderedList=function(l,p,g){var C,w=[],D=[],L=[].concat(p),P=[].concat(p),R=[];return g!=null&&(R=R.concat(g)),R=R.concat({ordering:L,desc:!1}),R.forEach(function(B){var x,I=[],b=[];if(typeof B.ordering=="function"){if(l&&l.length>0)for(x in l[0])Object.prototype.hasOwnProperty.call(l[0],x)&&P.indexOf(x)===-1&&P.push(x)}else if(!(B.ordering instanceof Array))P.push(B.ordering);else{for(x=0;x<B.ordering.length;x+=1)l&&l.length>0&&Object.prototype.hasOwnProperty.call(l[0],B.ordering[x])&&b.push(B.ordering[x]),I.push(B.ordering[x]);b.length>I.length/2?P.concat(b):B.values=I}},this),C=A._rollUp(l,L,P),R.length>=1&&(R.forEach(function(B){var x=B.desc===null||B.desc===void 0?!1:B.desc,I=B.ordering,b=[],E=function(V){var G=0,tt;for(tt=0;tt<V.length;tt+=1)if(!isNaN(V[tt]))G+=parseFloat(V[tt]);else{G=void 0;break}return G},k=function(V,G){var tt=0,gt=E(V),ht=E(G);return!isNaN(gt)&&!isNaN(ht)?tt=parseFloat(gt)-parseFloat(ht):!isNaN(Date.parse(V[0]))&&!isNaN(Date.parse(G[0]))?tt=Date.parse(V[0])-Date.parse(G[0]):V[0]<G[0]?tt=-1:V[0]>G[0]&&(tt=1),tt};typeof I=="function"?w.push(function(V,G){return(x?-1:1)*I(V,G)}):B.values&&B.values.length>0?(B.values.forEach(function(V){b.push([].concat(V).join("|"))},this),w.push(function(V,G){var tt="",gt="",ht,mt,ot;for(ot=0;ot<L.length;ot+=1)ot>0&&(tt+="|",gt+="|"),tt+=V[L[ot]],gt+=G[L[ot]];return ht=b.indexOf(tt),mt=b.indexOf(gt),ht=ht<0?x?-1:b.length:ht,mt=mt<0?x?-1:b.length:mt,(x?-1:1)*(ht-mt)})):[].concat(B.ordering).forEach(function(V){w.push(function(G,tt){var gt=0;return G[V]!==void 0&&tt[V]!==void 0&&(gt=k([].concat(G[V]),[].concat(tt[V]))),(x?-1:1)*gt})})}),C.sort(function(B,x){for(var I=0,b=0;I<w.length&&b===0;)b=w[I](B,x),I+=1;return b}),C.forEach(function(B){var x,I=[];if(L.length===1)D.push(B[L[0]]);else{for(x=0;x<L.length;x+=1)I.push(B[L[x]]);D.push(I)}},this)),D};A._getSeriesOrder=function(l,p){var g=[].concat(p._orderRules),C=p.categoryFields,w=[];return C!=null&&C.length>0&&(p.c!==null&&p.c!==void 0&&p.c._hasMeasure()&&g.push({ordering:p.c.measure,desc:!0}),p.x._hasMeasure()&&g.push({ordering:p.x.measure,desc:!0}),p.y._hasMeasure()&&g.push({ordering:p.y.measure,desc:!0}),w=A._getOrderedList(l,C,g)),w};A._getSeriesSortPredicate=function(l,p,g){return function(C,w){var D=0;return p.x._hasCategories()&&(D=A._helpers.cx(C,l,p)-A._helpers.cx(w,l,p)),D===0&&p.y._hasCategories()&&(D=A._helpers.cy(C,l,p)-A._helpers.cy(w,l,p)),D===0&&g&&(D=A._arrayIndexCompare(g,C.aggField,w.aggField)),D}};A._helpers={cx:function(l,p,g){var C=0;return g.x.measure!==null&&g.x.measure!==void 0?C=g.x._scale(l.cx):g.x._hasCategories()&&g.x.categoryFields.length>=2?C=g.x._scale(l.cx)+A._helpers.xGap(p,g)+(l.xOffset+.5)*((p._widthPixels()/g.x._max-2*A._helpers.xGap(p,g))*l.width):C=g.x._scale(l.cx)+p._widthPixels()/g.x._max/2,C},cy:function(l,p,g){var C=0;return g.y.measure!==null&&g.y.measure!==void 0?C=g.y._scale(l.cy):g.y.categoryFields!==null&&g.y.categoryFields!==void 0&&g.y.categoryFields.length>=2?C=g.y._scale(l.cy)-p._heightPixels()/g.y._max+A._helpers.yGap(p,g)+(l.yOffset+.5)*((p._heightPixels()/g.y._max-2*A._helpers.yGap(p,g))*l.height):C=g.y._scale(l.cy)-p._heightPixels()/g.y._max/2,C},r:function(l,p,g){var C=0,w=1;return g.z===null||g.z===void 0?C=!g.radius||g.radius==="auto"?5:g.radius:(g.radius&&g.radius!=="auto"&&g.radius>1&&(w=g.radius/g.z._scale(g.z._max)),g.z._hasMeasure()?C=g.z._scale(l.r)*w:C=g.z._scale(p._heightPixels()/100)*w),C},xGap:function(l,p){var g=0;return(p.x.measure===null||p.x.measure===void 0)&&p.barGap>0&&(g=l._widthPixels()/p.x._max*(p.barGap>.99?.99:p.barGap)/2),g},xClusterGap:function(l,p,g){var C=0;return g.x.categoryFields!==null&&g.x.categoryFields!==void 0&&g.x.categoryFields.length>=2&&g.clusterBarGap>0&&!g.x._hasMeasure()&&(C=l.width*(p._widthPixels()/g.x._max-A._helpers.xGap(p,g)*2)*(g.clusterBarGap>.99?.99:g.clusterBarGap)/2),C},yGap:function(l,p){var g=0;return(p.y.measure===null||p.y.measure===void 0)&&p.barGap>0&&(g=l._heightPixels()/p.y._max*(p.barGap>.99?.99:p.barGap)/2),g},yClusterGap:function(l,p,g){var C=0;return g.y.categoryFields!==null&&g.y.categoryFields!==void 0&&g.y.categoryFields.length>=2&&g.clusterBarGap>0&&!g.y._hasMeasure()&&(C=l.height*(p._heightPixels()/g.y._max-A._helpers.yGap(p,g)*2)*(g.clusterBarGap>.99?.99:g.clusterBarGap)/2),C},x:function(l,p,g){var C=0;return g.x._hasTimeField()?C=g.x._scale(l.x)-A._helpers.width(l,p,g)/2:g.x.measure!==null&&g.x.measure!==void 0?C=g.x._scale(l.x):C=g.x._scale(l.x)+A._helpers.xGap(p,g)+l.xOffset*(A._helpers.width(l,p,g)+2*A._helpers.xClusterGap(l,p,g))+A._helpers.xClusterGap(l,p,g),C},y:function(l,p,g){var C=0;return g.y._hasTimeField()?C=g.y._scale(l.y)-A._helpers.height(l,p,g)/2:g.y.measure!==null&&g.y.measure!==void 0?C=g.y._scale(l.y):C=g.y._scale(l.y)-p._heightPixels()/g.y._max+A._helpers.yGap(p,g)+l.yOffset*(A._helpers.height(l,p,g)+2*A._helpers.yClusterGap(l,p,g))+A._helpers.yClusterGap(l,p,g),C},width:function(l,p,g){var C=0;return g.x.measure!==null&&g.x.measure!==void 0?C=Math.abs(g.x._scale(l.x<0?l.x-l.width:l.x+l.width)-g.x._scale(l.x)):g.x._hasTimeField()?C=g.x.floatingBarWidth:C=l.width*(p._widthPixels()/g.x._max-A._helpers.xGap(p,g)*2)-A._helpers.xClusterGap(l,p,g)*2,C},height:function(l,p,g){var C=0;return g.y._hasTimeField()?C=g.y.floatingBarWidth:g.y.measure!==null&&g.y.measure!==void 0?C=Math.abs(g.y._scale(l.y)-g.y._scale(l.y<=0?l.y+l.height:l.y-l.height)):C=l.height*(p._heightPixels()/g.y._max-A._helpers.yGap(p,g)*2)-A._helpers.yClusterGap(l,p,g)*2,C},opacity:function(l,p,g){var C=0;return g.c!==null&&g.c!==void 0?C=l.opacity:C=p.getColor(l.aggField.slice(-1)[0]).opacity,C},fill:function(l,p,g){var C=0;return g.c!==null&&g.c!==void 0?C=l.fill:C=p.getColor(l.aggField.slice(-1)[0]).fill,C},stroke:function(l,p,g){var C=0;return g.c!==null&&g.c!==void 0?C=l.stroke:C=p.getColor(l.aggField.slice(-1)[0]).stroke,C},css:function(l,p){return p.getClass(l.aggField.slice(-1)[0])}};A._interpolate=function(l,p){if(l&&p){if(Object.prototype.toString.call(p)==="[object String]")switch(p){case"linear":p=void 0;break;case"linear-closed":p=void 0;break;case"step":p=void 0;break;case"step-before":p=void 0;break;case"step-after":p=void 0;break;case"basis":p=void 0;break;case"basis-open":p=void 0;break;case"basis-closed":p=void 0;break;case"bundle":p=void 0;break;case"cardinal":p=void 0;break;case"cardinal-open":p=void 0;break;case"cardinal-closed":p=void 0;break;case"monotone":p=void 0;break}l.curve(p)}};A._parentHeight=function(l){var p=l.getBoundingClientRect().height;return(!p||p<0)&&(p=l.clientHeight),p};A._parentWidth=function(l){var p=l.getBoundingClientRect().width;return(!p||p<0)&&(p=l.clientWidth),p};A._parsePosition=function(l,p){var g=0,C;return l&&(C=l.toString().split(","),C.forEach(function(w){w&&(isNaN(w)?w.slice(-1)==="%"?g+=p*(parseFloat(w.slice(0,w.length-1))/100):w.slice(-2)==="px"?g+=parseFloat(w.slice(0,w.length-2)):g=l:g+=parseFloat(w))},this)),g<0&&(g=p+g),g};A._parseXPosition=function(l,p){return A._parsePosition(l,A._parentWidth(p))};A._parseYPosition=function(l,p){return A._parsePosition(l,A._parentHeight(p))};A._postDrawHandling=function(l,p,g,C){C===0?(p.each(function(w,D){l.afterDraw&&l.afterDraw(this,w,D)}),g.remove()):(p.on("end",function(w,D){l.afterDraw&&l.afterDraw(this,w,D)}),g.call(function(){l.shapes&&l.shapes.exit().remove()}))};A._removeTooltip=function(l,p,g,C){g._tooltipGroup&&g._tooltipGroup.remove()};A._rollUp=function(l,p,g){var C=[];return p!=null?p=[].concat(p):p=[],l.forEach(function(w){var D=-1,L={},P=!0;C.forEach(function(R,B){D===-1&&(P=!0,p.forEach(function(x){P=P&&w[x]===R[x]},this),P&&(D=B))},this),D!==-1?L=C[D]:(p.forEach(function(R){L[R]=w[R]},this),C.push(L),D=C.length-1),g.forEach(function(R){p.indexOf(R)===-1&&(L[R]===void 0&&(L[R]=[]),L[R]=L[R].concat(w[R]))},this),C[D]=L},this),C};A._showBarTooltip=function(l,p,g,C){var w=5,D=10,L=750,P=(void 0)(p),R=P.node().getBBox().x,B=P.node().getBBox().y,x=P.node().getBBox().width,I=P.node().getBBox().height,b=P.attr("opacity"),E=P.attr("fill"),k=C._dropLineOrigin(),V=(void 0)((void 0)(E).r+.6*(255-(void 0)(E).r),(void 0)(E).g+.6*(255-(void 0)(E).g),(void 0)(E).b+.6*(255-(void 0)(E).b)),G=(void 0)((void 0)(E).r+.8*(255-(void 0)(E).r),(void 0)(E).g+.8*(255-(void 0)(E).g),(void 0)(E).b+.8*(255-(void 0)(E).b)),tt,gt,ht=C.getTooltipText(l),mt=0,ot=0,st=0,bt,$t,At,Bt,le=function(Zt,Ft){var te=P.node().getCTM(),ge=g.svg.node().createSVGPoint();return ge.x=Zt||0,ge.y=Ft||0,ge.matrixTransform(te)};g._tooltipGroup!==null&&g._tooltipGroup!==void 0&&g._tooltipGroup.remove(),g._tooltipGroup=g.svg.append("g"),C.p||(Bt=C._isStacked()?1:x/2,!C.x._hasCategories()&&k.y!==null&&g._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+g.customClassList.tooltipDropLine).attr("x1",R<C.x._origin?R+Bt:R+x-Bt).attr("y1",B<k.y?B+I:B).attr("x2",R<C.x._origin?R+Bt:R+x-Bt).attr("y2",B<k.y?B+I:B).call(function(Zt){g.noFormats||Zt.style("fill","none").style("stroke",E).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",b)}).transition().delay(L/2).duration(L/2).ease(void 0).attr("y2",B<k.y?k.y-1:k.y+1),Bt=C._isStacked()?1:I/2,!C.y._hasCategories()&&k.x!==null&&g._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+g.customClassList.tooltipDropLine).attr("x1",R<k.x?R+x:R).attr("y1",B<C.y._origin?B+Bt:B+I-Bt).attr("x2",R<k.x?R+x:R).attr("y2",B<C.y._origin?B+Bt:B+I-Bt).call(function(Zt){g.noFormats||Zt.style("fill","none").style("stroke",E).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",b)}).transition().delay(L/2).duration(L/2).ease(void 0).attr("x2",R<k.x?k.x-1:k.x+1)),tt=g._tooltipGroup.append("g"),gt=tt.append("rect").attr("class","dimple-tooltip "+g.customClassList.tooltipBox),tt.selectAll(".dimple-dont-select-any").data(ht).enter().append("text").attr("class","dimple-tooltip "+g.customClassList.tooltipLabel).text(function(Zt){return Zt}).call(function(Zt){g.noFormats||Zt.style("font-family",C.tooltipFontFamily).style("font-size",C._getTooltipFontSize())}),tt.each(function(){ot=this.getBBox().width>ot?this.getBBox().width:ot,st=this.getBBox().width>st?this.getBBox().height:st}),tt.selectAll("text").attr("x",0).attr("y",function(){return mt+=this.getBBox().height,mt-this.getBBox().height/2}),gt.attr("x",-w).attr("y",-w).attr("height",Math.floor(mt+w)-.5).attr("width",ot+2*w).attr("rx",5).attr("ry",5).call(function(Zt){g.noFormats||Zt.style("fill",G).style("stroke",V).style("stroke-width",2).style("opacity",.95)}),le(R+x+w+D+ot).x<parseFloat(g.svg.node().getBBox().width)?(bt=R+x+w+D,$t=B+I/2-(mt-(st-w))/2):le(R-(w+D+ot)).x>0?(bt=R-(w+D+ot),$t=B+I/2-(mt-(st-w))/2):le(0,B+I+mt+D+w).y<parseFloat(g.svg.node().getBBox().height)?(bt=R+x/2-(2*w+ot)/2,bt=bt>0?bt:D,bt=bt+ot<parseFloat(g.svg.node().getBBox().width)?bt:parseFloat(g.svg.node().getBBox().width)-ot-D,$t=B+I+2*w):(bt=R+x/2-(2*w+ot)/2,bt=bt>0?bt:D,bt=bt+ot<parseFloat(g.svg.node().getBBox().width)?bt:parseFloat(g.svg.node().getBBox().width)-ot-D,$t=B-mt-(st-w)),At=le(bt,$t),tt.attr("transform","translate("+At.x+" , "+At.y+")")};A._showPointTooltip=function(l,p,g,C){var w=5,D=10,L=750,P=(void 0)(p),R=parseFloat(P.attr("cx")),B=parseFloat(P.attr("cy")),x=parseFloat(P.attr("r")),I=A._helpers.opacity(l,g,C),b=P.attr("stroke"),E=C._dropLineOrigin(),k=(void 0)((void 0)(b).r+.6*(255-(void 0)(b).r),(void 0)(b).g+.6*(255-(void 0)(b).g),(void 0)(b).b+.6*(255-(void 0)(b).b)),V=(void 0)((void 0)(b).r+.8*(255-(void 0)(b).r),(void 0)(b).g+.8*(255-(void 0)(b).g),(void 0)(b).b+.8*(255-(void 0)(b).b)),G=0,tt=0,gt=0,ht,mt,ot=C.getTooltipText(l),st,bt;g._tooltipGroup!==null&&g._tooltipGroup!==void 0&&g._tooltipGroup.remove(),g._tooltipGroup=g.svg.append("g"),g._tooltipGroup.append("circle").attr("class","dimple-line-marker-circle "+g.customClassList.lineMarkerCircle).attr("cx",R).attr("cy",B).attr("r",x).call(function($t){g.noFormats||$t.attr("opacity",0).style("fill","none").style("stroke",b).style("stroke-width",1)}).transition().duration(L/2).ease(void 0).attr("r",x+C.lineWeight+2).call(function($t){g.noFormats||$t.attr("opacity",1).style("stroke-width",2)}),E.y!==null&&g._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+g.customClassList.tooltipDropLine).attr("x1",R).attr("y1",B<E.y?B+x+C.lineWeight+2:B-x-C.lineWeight-2).attr("x2",R).attr("y2",B<E.y?B+x+C.lineWeight+2:B-x-C.lineWeight-2).call(function($t){g.noFormats||$t.style("fill","none").style("stroke",b).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(L/2).duration(L/2).ease(void 0).attr("y2",B<E.y?E.y-1:E.y+1),E.x!==null&&g._tooltipGroup.append("line").attr("class","dimple-tooltip-dropline "+g.customClassList.tooltipDropLine).attr("x1",R<E.x?R+x+C.lineWeight+2:R-x-C.lineWeight-2).attr("y1",B).attr("x2",R<E.x?R+x+C.lineWeight+2:R-x-C.lineWeight-2).attr("y2",B).call(function($t){g.noFormats||$t.style("fill","none").style("stroke",b).style("stroke-width",2).style("stroke-dasharray","3, 3").style("opacity",I)}).transition().delay(L/2).duration(L/2).ease(void 0).attr("x2",R<E.x?E.x-1:E.x+1),ht=g._tooltipGroup.append("g"),mt=ht.append("rect").attr("class","dimple-tooltip "+g.customClassList.tooltipBox),ht.selectAll(".dont-select-any").data(ot).enter().append("text").attr("class","dimple-tooltip "+g.customClassList.tooltipLabel).text(function($t){return $t}).call(function($t){g.noFormats||$t.style("font-family",C.tooltipFontFamily).style("font-size",C._getTooltipFontSize())}),ht.each(function(){tt=this.getBBox().width>tt?this.getBBox().width:tt,gt=this.getBBox().width>gt?this.getBBox().height:gt}),ht.selectAll("text").attr("x",0).attr("y",function(){return G+=this.getBBox().height,G-this.getBBox().height/2}),mt.attr("x",-w).attr("y",-w).attr("height",Math.floor(G+w)-.5).attr("width",tt+2*w).attr("rx",5).attr("ry",5).call(function($t){g.noFormats||$t.style("fill",V).style("stroke",k).style("stroke-width",2).style("opacity",.95)}),R+x+w+D+tt<parseFloat(g.svg.node().getBBox().width)?(st=R+x+w+D,bt=B-(G-(gt-w))/2):R-x-(w+D+tt)>0?(st=R-x-(w+D+tt),bt=B-(G-(gt-w))/2):B+x+G+D+w<parseFloat(g.svg.node().getBBox().height)?(st=R-(2*w+tt)/2,st=st>0?st:D,st=st+tt<parseFloat(g.svg.node().getBBox().width)?st:parseFloat(g.svg.node().getBBox().width)-tt-D,bt=B+x+2*w):(st=R-(2*w+tt)/2,st=st>0?st:D,st=st+tt<parseFloat(g.svg.node().getBBox().width)?st:parseFloat(g.svg.node().getBBox().width)-tt-D,bt=B-G-(gt-w)),ht.attr("transform","translate("+st+" , "+bt+")")};A.filterData=function(l,p,g){var C=l;return p!==null&&g!==null&&(g!=null&&(g=[].concat(g)),C=[],l.forEach(function(w){(w[p]===null||g.indexOf([].concat(w[p]).join("/"))>-1)&&C.push(w)},this)),C};A.getUniqueValues=function(l,p){var g=[];return p!=null&&(p=[].concat(p),l.forEach(function(C){var w="";p.forEach(function(D,L){L>0&&(w+="/"),w+=C[D]},this),g.indexOf(w)===-1&&g.push(w)},this)),g};A.newSvg=function(l,p,g){var C=null;if(l==null&&(l="body"),C=(void 0)(l),C.empty())throw"The '"+l+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return C.append("svg").attr("width",p).attr("height",g)};const ds=(l,p,g)=>{(l==null||l===void 0)&&(l="body");const C=(void 0)(l);if(C.empty())throw"The '"+l+"' selector did not match any elements.  Please prefix with '#' to select by id or '.' to select by class";return C.append("svg").attr("width",p).attr("height",g)},fk=l=>{if(typeof window<"u"){const{pptx:I,resultElement:b,thumbElement:E}=l,k=document.createElement("div");k.setAttribute("class","r-preview-pptx-main"),b.innerHTML="",b.appendChild(k);let V=!1;return new Promise((G,tt)=>{const gt=mt=>{if(V)return;const ot=document.createElement("div"),st=document.createElement("style");switch(mt.type){case"slide":ot.innerHTML=mt.data,k.appendChild(ot);break;case"pptx-thumb":E&&(E==null||E.setAttribute("src",`data:image/jpeg;base64,${mt.data}`));break;case"slideSize":break;case"globalCSS":st.innerHTML=mt.data,k.appendChild(st);break;case"Done":V=!0,p(mt.data.charts),G(mt.data.time);break;case"WARN":console.warn("PPTX processing warning: ",mt.data);break;case"ERROR":V=!0,console.error("PPTX processing error: ",mt.data),tt(new Error(mt.data));break}},ht={postMessage};sk(mt=>{ht.postMessage=mt},gt),ht.postMessage({type:"processPPTX",data:I})}).then(G=>{const tt=()=>{const gt=Math.max(...Array.from(k.children).filter(mt=>mt.nodeName==="section").map(mt=>mt.offsetWidth)),ht=k.children[0].offsetWidth;k.setAttribute("style",`transform: scale(${ht/gt}),transform-origin': 'top left'`)};return tt(),window.addEventListener("resize",tt),D(document.getElementsByClassName("block")),D(document.getElementsByTagName("td")),G})}function p(I){for(let b=0;b<I.length;b++)C(I[b].data)}function g(I){const b=[],E=[],k=[];return I.forEach((V,G)=>{const tt=V.key;k[G]=V.key,V.values.forEach((gt,ht)=>{const mt=V.xlabels[ht];E[ht]=V.xlabels[ht],b.push({name:mt,group:tt,value:gt.y})})}),{data:b,xLabels:E,groupLabels:k}}function C(I){const b=I.chartID,E=I.chartType,k=I.chartData;let V=[];switch(E){case"lineChart":{const{data:G,xLabels:tt,groupLabels:gt}=g(k);V=G;const ht=document.getElementById(b)||document.body,mt=ht&&ds(`#${b}`,ht.style.width,ht.style.height),ot=new A.chart(mt,V),st=ot.addCategoryAxis("x","name");st.addOrderRule(tt),st.addGroupOrderRule(gt),st.title=null;const bt=ot.addMeasureAxis("y","value");bt.title=null,ot.addSeries("group",A.plot.line),ot.addLegend(60,10,500,20,"right"),ot.draw();break}case"barChart":{const{data:G,xLabels:tt,groupLabels:gt}=g(k);V=G;const ht=document.getElementById(b)||document.body,mt=ds("#"+b,ht.style.width,ht.style.height),ot=new A.chart(mt,V),st=ot.addCategoryAxis("x",["name","group"]);st.addOrderRule(tt),st.addGroupOrderRule(gt),st.title=null;const bt=ot.addMeasureAxis("y","value");bt.title=null,ot.addSeries("group",A.plot.bar),ot.addLegend(60,10,500,20,"right"),ot.draw();break}case"pieChart":case"pie3DChart":{const{data:G,groupLabels:tt}=g(k);V=G;const gt=document.getElementById(b)||document.body,ht=ds(`#${b}`,gt.style.width,gt.style.height),mt=new A.chart(ht,V);mt.addMeasureAxis("p","value").addOrderRule(tt),mt.addSeries("name",A.plot.pie),mt.addLegend(50,20,400,300,"left"),mt.draw();break}case"areaChart":{const{data:G,xLabels:tt,groupLabels:gt}=g(k);V=G;const ht=document.getElementById(b)||document.body,mt=ds("#"+b,ht.style.width,ht.style.height),ot=new A.chart(mt,V),st=ot.addCategoryAxis("x","name");st.addOrderRule(tt),st.addGroupOrderRule(gt),st.title=null;const bt=ot.addMeasureAxis("y","value");bt.title=null,ot.addSeries("group",A.plot.area),ot.addLegend(60,10,500,20,"right"),ot.draw();break}case"scatterChart":{for(let G=0;G<k.length;G++){const tt=[];for(let gt=0;gt<k[G].length;gt++)tt.push({x:gt,y:k[G][gt]});V.push({key:"data"+(G+1),values:tt})}break}}}function w(I,b){const E=[],k=V=>{V.forEach(G=>{G.children.length>0&&k(Array.from(G.children)),Array.from(G.classList).includes(b)&&E.push(G)})};return I.children.length>0&&k(Array.from(I.children)),E}function D(I){const b=Array.from(I);for(let E=0;E<b.length;E++){const k=w(b[E],"numeric-bullet-style");if(k.length>0){let V="",G="",tt=0;const gt=[];let ht=0;const mt=[];for(let ot=0;ot<k.length;ot++){const st=k[ot].getAttribute("data-bulltname"),bt=k[ot].getAttribute("data-bulltlvl");tt===0?(V=st,G=bt,gt[ht]=tt,mt[ht]=st,tt++):st===V&&bt===G?(V=st,G=bt,tt++,gt[ht]=tt,mt[ht]=st):st!==V&&bt===G||st!==V&&Number(bt)>Number(G)?(V=st,G=bt,ht++,gt[ht]=tt,mt[ht]=st,tt=1):st!==V&&Number(bt)<Number(G)&&(V=st,G=bt,ht--,tt=gt[ht]+1);const $t=L(mt[ht],tt);k[ot].innerHTML=$t.toString()}}}}function L(I,b){let E="";switch(I){case"arabicPeriod":E=b+". ";break;case"arabicParenR":E=b+") ";break;case"alphaLcParenR":E=x(b,"lowerCase")+") ";break;case"alphaLcPeriod":E=x(b,"lowerCase")+". ";break;case"alphaUcParenR":E=x(b,"upperCase")+") ";break;case"alphaUcPeriod":E=x(b,"upperCase")+". ";break;case"romanUcPeriod":E=P(b)+". ";break;case"romanLcParenR":E=P(b)+") ";break;case"hebrew2Minus":E=R.format(Number(b))+"-";break;default:E=b}return E}function P(I){if(!+I)return!1;const b=String(+I).split(""),E=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let k="",V=3;for(;V--;)k=(E[+b.pop()+V*10]||"")+k;return new Array(+b.join("")+1).join("M")+k}const R=B([[1e3,""],[400,"ת"],[300,"ש"],[200,"ר"],[100,"ק"],[90,"צ"],[80,"פ"],[70,"ע"],[60,"ס"],[50,"נ"],[40,"מ"],[30,"ל"],[20,"כ"],[10,"י"],[9,"ט"],[8,"ח"],[7,"ז"],[6,"ו"],[5,"ה"],[4,"ד"],[3,"ג"],[2,"ב"],[1,"א"],[/יה/,"ט״ו"],[/יו/,"ט״ז"],[/([א-ת])([א-ת])$/,"$1״$2"],[/^([א-ת])$/,"$1׳"]]);function B(I){return{format:function(b){let E="";return I.forEach(k=>{const V=k[0];if(parseInt(V.toString())>0)for(;b>=Number(V);b-=Number(V))E+=k[1];else E=E.replace(V.toString(),k[1])}),E}}}function x(I,b){I=Number(I)-1;let E="";return b==="upperCase"?E=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toUpperCase():b==="lowerCase"&&(E=((I/26>=1?String.fromCharCode(I/26+64):"")+String.fromCharCode(I%26+65)).toLowerCase()),E}};export{fk as renderPptx};
